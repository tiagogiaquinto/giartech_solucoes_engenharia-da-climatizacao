var WX=Object.defineProperty;var GX=(t,e,r)=>e in t?WX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var et=(t,e,r)=>GX(t,typeof e!="symbol"?e+"":e,r);function XX(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YX(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var I8={exports:{}},t2={},D8={exports:{}},sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=Symbol.for("react.element"),JX=Symbol.for("react.portal"),ZX=Symbol.for("react.fragment"),eY=Symbol.for("react.strict_mode"),tY=Symbol.for("react.profiler"),rY=Symbol.for("react.provider"),nY=Symbol.for("react.context"),sY=Symbol.for("react.forward_ref"),aY=Symbol.for("react.suspense"),iY=Symbol.for("react.memo"),oY=Symbol.for("react.lazy"),xP=Symbol.iterator;function lY(t){return t===null||typeof t!="object"?null:(t=xP&&t[xP]||t["@@iterator"],typeof t=="function"?t:null)}var M8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L8=Object.assign,U8={};function uf(t,e,r){this.props=t,this.context=e,this.refs=U8,this.updater=r||M8}uf.prototype.isReactComponent={};uf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function R8(){}R8.prototype=uf.prototype;function y3(t,e,r){this.props=t,this.context=e,this.refs=U8,this.updater=r||M8}var b3=y3.prototype=new R8;b3.constructor=y3;L8(b3,uf.prototype);b3.isPureReactComponent=!0;var yP=Array.isArray,Q8=Object.prototype.hasOwnProperty,v3={current:null},$8={key:!0,ref:!0,__self:!0,__source:!0};function H8(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Q8.call(e,n)&&!$8.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:gx,type:t,key:i,ref:o,props:a,_owner:v3.current}}function cY(t,e){return{$$typeof:gx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w3(t){return typeof t=="object"&&t!==null&&t.$$typeof===gx}function dY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bP=/\/+/g;function QN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dY(""+t.key):e.toString(36)}function hv(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gx:case JX:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+QN(o,0):n,yP(a)?(r="",t!=null&&(r=t.replace(bP,"$&/")+"/"),hv(a,e,r,"",function(d){return d})):a!=null&&(w3(a)&&(a=cY(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(bP,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",yP(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+QN(i,l);o+=hv(i,e,r,c,a)}else if(c=lY(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+QN(i,l++),o+=hv(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dy(t,e,r){if(t==null)return t;var n=[],a=0;return hv(t,n,"","",function(i){return e.call(r,i,a++)}),n}function uY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Na={current:null},Av={transition:null},hY={ReactCurrentDispatcher:Na,ReactCurrentBatchConfig:Av,ReactCurrentOwner:v3};function q8(){throw Error("act(...) is not supported in production builds of React.")}sr.Children={map:Dy,forEach:function(t,e,r){Dy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Dy(t,function(){e++}),e},toArray:function(t){return Dy(t,function(e){return e})||[]},only:function(t){if(!w3(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};sr.Component=uf;sr.Fragment=ZX;sr.Profiler=tY;sr.PureComponent=y3;sr.StrictMode=eY;sr.Suspense=aY;sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hY;sr.act=q8;sr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=L8({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=v3.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Q8.call(e,c)&&!$8.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:gx,type:t.type,key:a,ref:i,props:n,_owner:o}};sr.createContext=function(t){return t={$$typeof:nY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rY,_context:t},t.Consumer=t};sr.createElement=H8;sr.createFactory=function(t){var e=H8.bind(null,t);return e.type=t,e};sr.createRef=function(){return{current:null}};sr.forwardRef=function(t){return{$$typeof:sY,render:t}};sr.isValidElement=w3;sr.lazy=function(t){return{$$typeof:oY,_payload:{_status:-1,_result:t},_init:uY}};sr.memo=function(t,e){return{$$typeof:iY,type:t,compare:e===void 0?null:e}};sr.startTransition=function(t){var e=Av.transition;Av.transition={};try{t()}finally{Av.transition=e}};sr.unstable_act=q8;sr.useCallback=function(t,e){return Na.current.useCallback(t,e)};sr.useContext=function(t){return Na.current.useContext(t)};sr.useDebugValue=function(){};sr.useDeferredValue=function(t){return Na.current.useDeferredValue(t)};sr.useEffect=function(t,e){return Na.current.useEffect(t,e)};sr.useId=function(){return Na.current.useId()};sr.useImperativeHandle=function(t,e,r){return Na.current.useImperativeHandle(t,e,r)};sr.useInsertionEffect=function(t,e){return Na.current.useInsertionEffect(t,e)};sr.useLayoutEffect=function(t,e){return Na.current.useLayoutEffect(t,e)};sr.useMemo=function(t,e){return Na.current.useMemo(t,e)};sr.useReducer=function(t,e,r){return Na.current.useReducer(t,e,r)};sr.useRef=function(t){return Na.current.useRef(t)};sr.useState=function(t){return Na.current.useState(t)};sr.useSyncExternalStore=function(t,e,r){return Na.current.useSyncExternalStore(t,e,r)};sr.useTransition=function(){return Na.current.useTransition()};sr.version="18.3.1";D8.exports=sr;var B=D8.exports;const ge=Tr(B),AY=XX({__proto__:null,default:ge},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mY=B,fY=Symbol.for("react.element"),pY=Symbol.for("react.fragment"),gY=Object.prototype.hasOwnProperty,xY=mY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yY={key:!0,ref:!0,__self:!0,__source:!0};function z8(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)gY.call(e,n)&&!yY.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:fY,type:t,key:i,ref:o,props:a,_owner:xY.current}}t2.Fragment=pY;t2.jsx=z8;t2.jsxs=z8;I8.exports=t2;var s=I8.exports,pC={},V8={exports:{}},ui={},K8={exports:{}},W8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,I){var K=R.length;R.push(I);e:for(;0<K;){var te=K-1>>>1,Q=R[te];if(0<a(Q,I))R[te]=I,R[K]=Q,K=te;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var I=R[0],K=R.pop();if(K!==I){R[0]=K;e:for(var te=0,Q=R.length,D=Q>>>1;te<D;){var X=2*(te+1)-1,V=R[X],de=X+1,le=R[de];if(0>a(V,K))de<Q&&0>a(le,V)?(R[te]=le,R[de]=K,te=de):(R[te]=V,R[X]=K,te=X);else if(de<Q&&0>a(le,K))R[te]=le,R[de]=K,te=de;else break e}}return I}function a(R,I){var K=R.sortIndex-I.sortIndex;return K!==0?K:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,A=3,m=!1,x=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var I=r(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=R)n(d),I.sortIndex=I.expirationTime,e(c,I);else break;I=r(d)}}function N(R){if(g=!1,b(R),!x)if(r(c)!==null)x=!0,U(v);else{var I=r(d);I!==null&&z(N,I.startTime-R)}}function v(R,I){x=!1,g&&(g=!1,f(_),_=-1),m=!0;var K=A;try{for(b(I),h=r(c);h!==null&&(!(h.expirationTime>I)||R&&!j());){var te=h.callback;if(typeof te=="function"){h.callback=null,A=h.priorityLevel;var Q=te(h.expirationTime<=I);I=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(c)&&n(c),b(I)}else n(c);h=r(c)}if(h!==null)var D=!0;else{var X=r(d);X!==null&&z(N,X.startTime-I),D=!1}return D}finally{h=null,A=K,m=!1}}var C=!1,P=null,_=-1,k=5,M=-1;function j(){return!(t.unstable_now()-M<k)}function S(){if(P!==null){var R=t.unstable_now();M=R;var I=!0;try{I=P(!0,R)}finally{I?F():(C=!1,P=null)}}else C=!1}var F;if(typeof y=="function")F=function(){y(S)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=S,F=function(){H.postMessage(null)}}else F=function(){p(S,0)};function U(R){P=R,C||(C=!0,F())}function z(R,I){_=p(function(){R(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,U(v))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(A){case 1:case 2:case 3:var I=3;break;default:I=A}var K=A;A=I;try{return R()}finally{A=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=A;A=R;try{return I()}finally{A=K}},t.unstable_scheduleCallback=function(R,I,K){var te=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,R={id:u++,callback:I,priorityLevel:R,startTime:K,expirationTime:Q,sortIndex:-1},K>te?(R.sortIndex=K,e(d,R),r(c)===null&&R===r(d)&&(g?(f(_),_=-1):g=!0,z(N,K-te))):(R.sortIndex=Q,e(c,R),x||m||(x=!0,U(v))),R},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(R){var I=A;return function(){var K=A;A=I;try{return R.apply(this,arguments)}finally{A=K}}}})(W8);K8.exports=W8;var bY=K8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vY=B,li=bY;function tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G8=new Set,Vg={};function mh(t,e){Nm(t,e),Nm(t+"Capture",e)}function Nm(t,e){for(Vg[t]=e,t=0;t<e.length;t++)G8.add(e[t])}var $l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gC=Object.prototype.hasOwnProperty,wY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vP={},wP={};function jY(t){return gC.call(wP,t)?!0:gC.call(vP,t)?!1:wY.test(t)?wP[t]=!0:(vP[t]=!0,!1)}function NY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _Y(t,e,r,n){if(e===null||typeof e>"u"||NY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _a(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Rs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rs[t]=new _a(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rs[e]=new _a(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rs[t]=new _a(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rs[t]=new _a(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rs[t]=new _a(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rs[t]=new _a(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rs[t]=new _a(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rs[t]=new _a(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rs[t]=new _a(t,5,!1,t.toLowerCase(),null,!1,!1)});var j3=/[\-:]([a-z])/g;function N3(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(j3,N3);Rs[e]=new _a(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(j3,N3);Rs[e]=new _a(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(j3,N3);Rs[e]=new _a(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rs[t]=new _a(t,1,!1,t.toLowerCase(),null,!1,!1)});Rs.xlinkHref=new _a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rs[t]=new _a(t,1,!1,t.toLowerCase(),null,!0,!0)});function _3(t,e,r,n){var a=Rs.hasOwnProperty(e)?Rs[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_Y(e,r,a,n)&&(r=null),n||a===null?jY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var nc=vY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,My=Symbol.for("react.element"),CA=Symbol.for("react.portal"),SA=Symbol.for("react.fragment"),C3=Symbol.for("react.strict_mode"),xC=Symbol.for("react.profiler"),X8=Symbol.for("react.provider"),Y8=Symbol.for("react.context"),S3=Symbol.for("react.forward_ref"),yC=Symbol.for("react.suspense"),bC=Symbol.for("react.suspense_list"),B3=Symbol.for("react.memo"),Ic=Symbol.for("react.lazy"),J8=Symbol.for("react.offscreen"),jP=Symbol.iterator;function hp(t){return t===null||typeof t!="object"?null:(t=jP&&t[jP]||t["@@iterator"],typeof t=="function"?t:null)}var bn=Object.assign,$N;function zp(t){if($N===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$N=e&&e[1]||""}return`
`+$N+t}var HN=!1;function qN(t,e){if(!t||HN)return"";HN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{HN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zp(t):""}function CY(t){switch(t.tag){case 5:return zp(t.type);case 16:return zp("Lazy");case 13:return zp("Suspense");case 19:return zp("SuspenseList");case 0:case 2:case 15:return t=qN(t.type,!1),t;case 11:return t=qN(t.type.render,!1),t;case 1:return t=qN(t.type,!0),t;default:return""}}function vC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case SA:return"Fragment";case CA:return"Portal";case xC:return"Profiler";case C3:return"StrictMode";case yC:return"Suspense";case bC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y8:return(t.displayName||"Context")+".Consumer";case X8:return(t._context.displayName||"Context")+".Provider";case S3:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B3:return e=t.displayName||null,e!==null?e:vC(t.type)||"Memo";case Ic:e=t._payload,t=t._init;try{return vC(t(e))}catch{}}return null}function SY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vC(e);case 8:return e===C3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Z8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BY(t){var e=Z8(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ly(t){t._valueTracker||(t._valueTracker=BY(t))}function e7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Z8(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wC(t,e){var r=e.checked;return bn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function NP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=xd(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t7(t,e){e=e.checked,e!=null&&_3(t,"checked",e,!1)}function jC(t,e){t7(t,e);var r=xd(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?NC(t,e.type,r):e.hasOwnProperty("defaultValue")&&NC(t,e.type,xd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _P(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function NC(t,e,r){(e!=="number"||Wv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Vp=Array.isArray;function ZA(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+xd(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function _C(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(tt(91));return bn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(tt(92));if(Vp(r)){if(1<r.length)throw Error(tt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:xd(r)}}function r7(t,e){var r=xd(e.value),n=xd(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function SP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function CC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uy,s7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uy=Uy||document.createElement("div"),Uy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EY=["Webkit","ms","Moz","O"];Object.keys(cg).forEach(function(t){EY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cg[e]=cg[t]})});function a7(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cg.hasOwnProperty(t)&&cg[t]?(""+e).trim():e+"px"}function i7(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=a7(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var kY=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function SC(t,e){if(e){if(kY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(tt(62))}}function BC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EC=null;function E3(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kC=null,em=null,tm=null;function BP(t){if(t=bx(t)){if(typeof kC!="function")throw Error(tt(280));var e=t.stateNode;e&&(e=i2(e),kC(t.stateNode,t.type,e))}}function o7(t){em?tm?tm.push(t):tm=[t]:em=t}function l7(){if(em){var t=em,e=tm;if(tm=em=null,BP(t),e)for(t=0;t<e.length;t++)BP(e[t])}}function c7(t,e){return t(e)}function d7(){}var zN=!1;function u7(t,e,r){if(zN)return t(e,r);zN=!0;try{return c7(t,e,r)}finally{zN=!1,(em!==null||tm!==null)&&(d7(),l7())}}function Wg(t,e){var r=t.stateNode;if(r===null)return null;var n=i2(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(tt(231,e,typeof r));return r}var PC=!1;if($l)try{var Ap={};Object.defineProperty(Ap,"passive",{get:function(){PC=!0}}),window.addEventListener("test",Ap,Ap),window.removeEventListener("test",Ap,Ap)}catch{PC=!1}function PY(t,e,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var dg=!1,Gv=null,Xv=!1,FC=null,FY={onError:function(t){dg=!0,Gv=t}};function TY(t,e,r,n,a,i,o,l,c){dg=!1,Gv=null,PY.apply(FY,arguments)}function OY(t,e,r,n,a,i,o,l,c){if(TY.apply(this,arguments),dg){if(dg){var d=Gv;dg=!1,Gv=null}else throw Error(tt(198));Xv||(Xv=!0,FC=d)}}function fh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function h7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EP(t){if(fh(t)!==t)throw Error(tt(188))}function IY(t){var e=t.alternate;if(!e){if(e=fh(t),e===null)throw Error(tt(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return EP(a),t;if(i===n)return EP(a),e;i=i.sibling}throw Error(tt(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?t:e}function A7(t){return t=IY(t),t!==null?m7(t):null}function m7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=m7(t);if(e!==null)return e;t=t.sibling}return null}var f7=li.unstable_scheduleCallback,kP=li.unstable_cancelCallback,DY=li.unstable_shouldYield,MY=li.unstable_requestPaint,In=li.unstable_now,LY=li.unstable_getCurrentPriorityLevel,k3=li.unstable_ImmediatePriority,p7=li.unstable_UserBlockingPriority,Yv=li.unstable_NormalPriority,UY=li.unstable_LowPriority,g7=li.unstable_IdlePriority,r2=null,Vo=null;function RY(t){if(Vo&&typeof Vo.onCommitFiberRoot=="function")try{Vo.onCommitFiberRoot(r2,t,void 0,(t.current.flags&128)===128)}catch{}}var go=Math.clz32?Math.clz32:HY,QY=Math.log,$Y=Math.LN2;function HY(t){return t>>>=0,t===0?32:31-(QY(t)/$Y|0)|0}var Ry=64,Qy=4194304;function Kp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jv(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Kp(l):(i&=o,i!==0&&(n=Kp(i)))}else o=r&~a,o!==0?n=Kp(o):i!==0&&(n=Kp(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-go(e),a=1<<r,n|=t[r],e&=~a;return n}function qY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zY(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-go(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=qY(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function TC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function x7(){var t=Ry;return Ry<<=1,!(Ry&4194240)&&(Ry=64),t}function VN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xx(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-go(e),t[e]=r}function VY(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-go(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function P3(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-go(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Fr=0;function y7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b7,F3,v7,w7,j7,OC=!1,$y=[],td=null,rd=null,nd=null,Gg=new Map,Xg=new Map,Rc=[],KY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PP(t,e){switch(t){case"focusin":case"focusout":td=null;break;case"dragenter":case"dragleave":rd=null;break;case"mouseover":case"mouseout":nd=null;break;case"pointerover":case"pointerout":Gg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xg.delete(e.pointerId)}}function mp(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=bx(e),e!==null&&F3(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function WY(t,e,r,n,a){switch(e){case"focusin":return td=mp(td,t,e,r,n,a),!0;case"dragenter":return rd=mp(rd,t,e,r,n,a),!0;case"mouseover":return nd=mp(nd,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Gg.set(i,mp(Gg.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Xg.set(i,mp(Xg.get(i)||null,t,e,r,n,a)),!0}return!1}function N7(t){var e=Cu(t.target);if(e!==null){var r=fh(e);if(r!==null){if(e=r.tag,e===13){if(e=h7(r),e!==null){t.blockedOn=e,j7(t.priority,function(){v7(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=IC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);EC=n,r.target.dispatchEvent(n),EC=null}else return e=bx(r),e!==null&&F3(e),t.blockedOn=r,!1;e.shift()}return!0}function FP(t,e,r){mv(t)&&r.delete(e)}function GY(){OC=!1,td!==null&&mv(td)&&(td=null),rd!==null&&mv(rd)&&(rd=null),nd!==null&&mv(nd)&&(nd=null),Gg.forEach(FP),Xg.forEach(FP)}function fp(t,e){t.blockedOn===e&&(t.blockedOn=null,OC||(OC=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,GY)))}function Yg(t){function e(a){return fp(a,t)}if(0<$y.length){fp($y[0],t);for(var r=1;r<$y.length;r++){var n=$y[r];n.blockedOn===t&&(n.blockedOn=null)}}for(td!==null&&fp(td,t),rd!==null&&fp(rd,t),nd!==null&&fp(nd,t),Gg.forEach(e),Xg.forEach(e),r=0;r<Rc.length;r++)n=Rc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rc.length&&(r=Rc[0],r.blockedOn===null);)N7(r),r.blockedOn===null&&Rc.shift()}var rm=nc.ReactCurrentBatchConfig,Zv=!0;function XY(t,e,r,n){var a=Fr,i=rm.transition;rm.transition=null;try{Fr=1,T3(t,e,r,n)}finally{Fr=a,rm.transition=i}}function YY(t,e,r,n){var a=Fr,i=rm.transition;rm.transition=null;try{Fr=4,T3(t,e,r,n)}finally{Fr=a,rm.transition=i}}function T3(t,e,r,n){if(Zv){var a=IC(t,e,r,n);if(a===null)r_(t,e,n,ew,r),PP(t,n);else if(WY(a,t,e,r,n))n.stopPropagation();else if(PP(t,n),e&4&&-1<KY.indexOf(t)){for(;a!==null;){var i=bx(a);if(i!==null&&b7(i),i=IC(t,e,r,n),i===null&&r_(t,e,n,ew,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else r_(t,e,n,null,r)}}var ew=null;function IC(t,e,r,n){if(ew=null,t=E3(n),t=Cu(t),t!==null)if(e=fh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=h7(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ew=t,null}function _7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LY()){case k3:return 1;case p7:return 4;case Yv:case UY:return 16;case g7:return 536870912;default:return 16}default:return 16}}var qc=null,O3=null,fv=null;function C7(){if(fv)return fv;var t,e=O3,r=e.length,n,a="value"in qc?qc.value:qc.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return fv=a.slice(t,1<n?1-n:void 0)}function pv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hy(){return!0}function TP(){return!1}function hi(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hy:TP,this.isPropagationStopped=TP,this}return bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hy)},persist:function(){},isPersistent:Hy}),e}var hf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I3=hi(hf),yx=bn({},hf,{view:0,detail:0}),JY=hi(yx),KN,WN,pp,n2=bn({},yx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D3,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pp&&(pp&&t.type==="mousemove"?(KN=t.screenX-pp.screenX,WN=t.screenY-pp.screenY):WN=KN=0,pp=t),KN)},movementY:function(t){return"movementY"in t?t.movementY:WN}}),OP=hi(n2),ZY=bn({},n2,{dataTransfer:0}),eJ=hi(ZY),tJ=bn({},yx,{relatedTarget:0}),GN=hi(tJ),rJ=bn({},hf,{animationName:0,elapsedTime:0,pseudoElement:0}),nJ=hi(rJ),sJ=bn({},hf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aJ=hi(sJ),iJ=bn({},hf,{data:0}),IP=hi(iJ),oJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cJ[t])?!!e[t]:!1}function D3(){return dJ}var uJ=bn({},yx,{key:function(t){if(t.key){var e=oJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D3,charCode:function(t){return t.type==="keypress"?pv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hJ=hi(uJ),AJ=bn({},n2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DP=hi(AJ),mJ=bn({},yx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D3}),fJ=hi(mJ),pJ=bn({},hf,{propertyName:0,elapsedTime:0,pseudoElement:0}),gJ=hi(pJ),xJ=bn({},n2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yJ=hi(xJ),bJ=[9,13,27,32],M3=$l&&"CompositionEvent"in window,ug=null;$l&&"documentMode"in document&&(ug=document.documentMode);var vJ=$l&&"TextEvent"in window&&!ug,S7=$l&&(!M3||ug&&8<ug&&11>=ug),MP=" ",LP=!1;function B7(t,e){switch(t){case"keyup":return bJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E7(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var BA=!1;function wJ(t,e){switch(t){case"compositionend":return E7(e);case"keypress":return e.which!==32?null:(LP=!0,MP);case"textInput":return t=e.data,t===MP&&LP?null:t;default:return null}}function jJ(t,e){if(BA)return t==="compositionend"||!M3&&B7(t,e)?(t=C7(),fv=O3=qc=null,BA=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S7&&e.locale!=="ko"?null:e.data;default:return null}}var NJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NJ[t.type]:e==="textarea"}function k7(t,e,r,n){o7(n),e=tw(e,"onChange"),0<e.length&&(r=new I3("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hg=null,Jg=null;function _J(t){Q7(t,0)}function s2(t){var e=PA(t);if(e7(e))return t}function CJ(t,e){if(t==="change")return e}var P7=!1;if($l){var XN;if($l){var YN="oninput"in document;if(!YN){var RP=document.createElement("div");RP.setAttribute("oninput","return;"),YN=typeof RP.oninput=="function"}XN=YN}else XN=!1;P7=XN&&(!document.documentMode||9<document.documentMode)}function QP(){hg&&(hg.detachEvent("onpropertychange",F7),Jg=hg=null)}function F7(t){if(t.propertyName==="value"&&s2(Jg)){var e=[];k7(e,Jg,t,E3(t)),u7(_J,e)}}function SJ(t,e,r){t==="focusin"?(QP(),hg=e,Jg=r,hg.attachEvent("onpropertychange",F7)):t==="focusout"&&QP()}function BJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s2(Jg)}function EJ(t,e){if(t==="click")return s2(e)}function kJ(t,e){if(t==="input"||t==="change")return s2(e)}function PJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bo=typeof Object.is=="function"?Object.is:PJ;function Zg(t,e){if(bo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!gC.call(e,a)||!bo(t[a],e[a]))return!1}return!0}function $P(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HP(t,e){var r=$P(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$P(r)}}function T7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function O7(){for(var t=window,e=Wv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wv(t.document)}return e}function L3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FJ(t){var e=O7(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&T7(r.ownerDocument.documentElement,r)){if(n!==null&&L3(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=HP(r,i);var o=HP(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TJ=$l&&"documentMode"in document&&11>=document.documentMode,EA=null,DC=null,Ag=null,MC=!1;function qP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;MC||EA==null||EA!==Wv(n)||(n=EA,"selectionStart"in n&&L3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ag&&Zg(Ag,n)||(Ag=n,n=tw(DC,"onSelect"),0<n.length&&(e=new I3("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=EA)))}function qy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var kA={animationend:qy("Animation","AnimationEnd"),animationiteration:qy("Animation","AnimationIteration"),animationstart:qy("Animation","AnimationStart"),transitionend:qy("Transition","TransitionEnd")},JN={},I7={};$l&&(I7=document.createElement("div").style,"AnimationEvent"in window||(delete kA.animationend.animation,delete kA.animationiteration.animation,delete kA.animationstart.animation),"TransitionEvent"in window||delete kA.transitionend.transition);function a2(t){if(JN[t])return JN[t];if(!kA[t])return t;var e=kA[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in I7)return JN[t]=e[r];return t}var D7=a2("animationend"),M7=a2("animationiteration"),L7=a2("animationstart"),U7=a2("transitionend"),R7=new Map,zP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fd(t,e){R7.set(t,e),mh(e,[t])}for(var ZN=0;ZN<zP.length;ZN++){var e_=zP[ZN],OJ=e_.toLowerCase(),IJ=e_[0].toUpperCase()+e_.slice(1);Fd(OJ,"on"+IJ)}Fd(D7,"onAnimationEnd");Fd(M7,"onAnimationIteration");Fd(L7,"onAnimationStart");Fd("dblclick","onDoubleClick");Fd("focusin","onFocus");Fd("focusout","onBlur");Fd(U7,"onTransitionEnd");Nm("onMouseEnter",["mouseout","mouseover"]);Nm("onMouseLeave",["mouseout","mouseover"]);Nm("onPointerEnter",["pointerout","pointerover"]);Nm("onPointerLeave",["pointerout","pointerover"]);mh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mh("onBeforeInput",["compositionend","keypress","textInput","paste"]);mh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wp));function VP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,OY(n,e,void 0,t),t.currentTarget=null}function Q7(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;VP(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;VP(a,l,d),i=c}}}if(Xv)throw t=FC,Xv=!1,FC=null,t}function rn(t,e){var r=e[$C];r===void 0&&(r=e[$C]=new Set);var n=t+"__bubble";r.has(n)||($7(e,t,2,!1),r.add(n))}function t_(t,e,r){var n=0;e&&(n|=4),$7(r,t,n,e)}var zy="_reactListening"+Math.random().toString(36).slice(2);function e0(t){if(!t[zy]){t[zy]=!0,G8.forEach(function(r){r!=="selectionchange"&&(DJ.has(r)||t_(r,!1,t),t_(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zy]||(e[zy]=!0,t_("selectionchange",!1,e))}}function $7(t,e,r,n){switch(_7(e)){case 1:var a=XY;break;case 4:a=YY;break;default:a=T3}r=a.bind(null,e,r,t),a=void 0,!PC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function r_(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Cu(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}u7(function(){var d=i,u=E3(r),h=[];e:{var A=R7.get(t);if(A!==void 0){var m=I3,x=t;switch(t){case"keypress":if(pv(r)===0)break e;case"keydown":case"keyup":m=hJ;break;case"focusin":x="focus",m=GN;break;case"focusout":x="blur",m=GN;break;case"beforeblur":case"afterblur":m=GN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=OP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=fJ;break;case D7:case M7:case L7:m=nJ;break;case U7:m=gJ;break;case"scroll":m=JY;break;case"wheel":m=yJ;break;case"copy":case"cut":case"paste":m=aJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=DP}var g=(e&4)!==0,p=!g&&t==="scroll",f=g?A!==null?A+"Capture":null:A;g=[];for(var y=d,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,f!==null&&(N=Wg(y,f),N!=null&&g.push(t0(y,N,b)))),p)break;y=y.return}0<g.length&&(A=new m(A,x,null,r,u),h.push({event:A,listeners:g}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",A&&r!==EC&&(x=r.relatedTarget||r.fromElement)&&(Cu(x)||x[Hl]))break e;if((m||A)&&(A=u.window===u?u:(A=u.ownerDocument)?A.defaultView||A.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?Cu(x):null,x!==null&&(p=fh(x),x!==p||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(g=OP,N="onMouseLeave",f="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=DP,N="onPointerLeave",f="onPointerEnter",y="pointer"),p=m==null?A:PA(m),b=x==null?A:PA(x),A=new g(N,y+"leave",m,r,u),A.target=p,A.relatedTarget=b,N=null,Cu(u)===d&&(g=new g(f,y+"enter",x,r,u),g.target=b,g.relatedTarget=p,N=g),p=N,m&&x)t:{for(g=m,f=x,y=0,b=g;b;b=Zh(b))y++;for(b=0,N=f;N;N=Zh(N))b++;for(;0<y-b;)g=Zh(g),y--;for(;0<b-y;)f=Zh(f),b--;for(;y--;){if(g===f||f!==null&&g===f.alternate)break t;g=Zh(g),f=Zh(f)}g=null}else g=null;m!==null&&KP(h,A,m,g,!1),x!==null&&p!==null&&KP(h,p,x,g,!0)}}e:{if(A=d?PA(d):window,m=A.nodeName&&A.nodeName.toLowerCase(),m==="select"||m==="input"&&A.type==="file")var v=CJ;else if(UP(A))if(P7)v=kJ;else{v=BJ;var C=SJ}else(m=A.nodeName)&&m.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(v=EJ);if(v&&(v=v(t,d))){k7(h,v,r,u);break e}C&&C(t,A,d),t==="focusout"&&(C=A._wrapperState)&&C.controlled&&A.type==="number"&&NC(A,"number",A.value)}switch(C=d?PA(d):window,t){case"focusin":(UP(C)||C.contentEditable==="true")&&(EA=C,DC=d,Ag=null);break;case"focusout":Ag=DC=EA=null;break;case"mousedown":MC=!0;break;case"contextmenu":case"mouseup":case"dragend":MC=!1,qP(h,r,u);break;case"selectionchange":if(TJ)break;case"keydown":case"keyup":qP(h,r,u)}var P;if(M3)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else BA?B7(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(S7&&r.locale!=="ko"&&(BA||_!=="onCompositionStart"?_==="onCompositionEnd"&&BA&&(P=C7()):(qc=u,O3="value"in qc?qc.value:qc.textContent,BA=!0)),C=tw(d,_),0<C.length&&(_=new IP(_,t,null,r,u),h.push({event:_,listeners:C}),P?_.data=P:(P=E7(r),P!==null&&(_.data=P)))),(P=vJ?wJ(t,r):jJ(t,r))&&(d=tw(d,"onBeforeInput"),0<d.length&&(u=new IP("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=P))}Q7(h,e)})}function t0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function tw(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wg(t,r),i!=null&&n.unshift(t0(t,i,a)),i=Wg(t,e),i!=null&&n.push(t0(t,i,a))),t=t.return}return n}function Zh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KP(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Wg(r,i),c!=null&&o.unshift(t0(r,c,l))):a||(c=Wg(r,i),c!=null&&o.push(t0(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var MJ=/\r\n?/g,LJ=/\u0000|\uFFFD/g;function WP(t){return(typeof t=="string"?t:""+t).replace(MJ,`
`).replace(LJ,"")}function Vy(t,e,r){if(e=WP(e),WP(t)!==e&&r)throw Error(tt(425))}function rw(){}var LC=null,UC=null;function RC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var QC=typeof setTimeout=="function"?setTimeout:void 0,UJ=typeof clearTimeout=="function"?clearTimeout:void 0,GP=typeof Promise=="function"?Promise:void 0,RJ=typeof queueMicrotask=="function"?queueMicrotask:typeof GP<"u"?function(t){return GP.resolve(null).then(t).catch(QJ)}:QC;function QJ(t){setTimeout(function(){throw t})}function n_(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Yg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Yg(e)}function sd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Af=Math.random().toString(36).slice(2),Uo="__reactFiber$"+Af,r0="__reactProps$"+Af,Hl="__reactContainer$"+Af,$C="__reactEvents$"+Af,$J="__reactListeners$"+Af,HJ="__reactHandles$"+Af;function Cu(t){var e=t[Uo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Hl]||r[Uo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=XP(t);t!==null;){if(r=t[Uo])return r;t=XP(t)}return e}t=r,r=t.parentNode}return null}function bx(t){return t=t[Uo]||t[Hl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function PA(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(tt(33))}function i2(t){return t[r0]||null}var HC=[],FA=-1;function Td(t){return{current:t}}function on(t){0>FA||(t.current=HC[FA],HC[FA]=null,FA--)}function Jr(t,e){FA++,HC[FA]=t.current,t.current=e}var yd={},la=Td(yd),Ra=Td(!1),eh=yd;function _m(t,e){var r=t.type.contextTypes;if(!r)return yd;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Qa(t){return t=t.childContextTypes,t!=null}function nw(){on(Ra),on(la)}function YP(t,e,r){if(la.current!==yd)throw Error(tt(168));Jr(la,e),Jr(Ra,r)}function H7(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(tt(108,SY(t)||"Unknown",a));return bn({},r,n)}function sw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yd,eh=la.current,Jr(la,t),Jr(Ra,Ra.current),!0}function JP(t,e,r){var n=t.stateNode;if(!n)throw Error(tt(169));r?(t=H7(t,e,eh),n.__reactInternalMemoizedMergedChildContext=t,on(Ra),on(la),Jr(la,t)):on(Ra),Jr(Ra,r)}var Bl=null,o2=!1,s_=!1;function q7(t){Bl===null?Bl=[t]:Bl.push(t)}function qJ(t){o2=!0,q7(t)}function Od(){if(!s_&&Bl!==null){s_=!0;var t=0,e=Fr;try{var r=Bl;for(Fr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Bl=null,o2=!1}catch(a){throw Bl!==null&&(Bl=Bl.slice(t+1)),f7(k3,Od),a}finally{Fr=e,s_=!1}}return null}var TA=[],OA=0,aw=null,iw=0,Bi=[],Ei=0,th=null,kl=1,Pl="";function du(t,e){TA[OA++]=iw,TA[OA++]=aw,aw=t,iw=e}function z7(t,e,r){Bi[Ei++]=kl,Bi[Ei++]=Pl,Bi[Ei++]=th,th=t;var n=kl;t=Pl;var a=32-go(n)-1;n&=~(1<<a),r+=1;var i=32-go(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,kl=1<<32-go(e)+a|r<<a|n,Pl=i+t}else kl=1<<i|r<<a|n,Pl=t}function U3(t){t.return!==null&&(du(t,1),z7(t,1,0))}function R3(t){for(;t===aw;)aw=TA[--OA],TA[OA]=null,iw=TA[--OA],TA[OA]=null;for(;t===th;)th=Bi[--Ei],Bi[Ei]=null,Pl=Bi[--Ei],Bi[Ei]=null,kl=Bi[--Ei],Bi[Ei]=null}var si=null,ri=null,un=!1,Ao=null;function V7(t,e){var r=Ti(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ZP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,si=t,ri=sd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,si=t,ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=th!==null?{id:kl,overflow:Pl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ti(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,si=t,ri=null,!0):!1;default:return!1}}function qC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zC(t){if(un){var e=ri;if(e){var r=e;if(!ZP(t,e)){if(qC(t))throw Error(tt(418));e=sd(r.nextSibling);var n=si;e&&ZP(t,e)?V7(n,r):(t.flags=t.flags&-4097|2,un=!1,si=t)}}else{if(qC(t))throw Error(tt(418));t.flags=t.flags&-4097|2,un=!1,si=t}}}function eF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;si=t}function Ky(t){if(t!==si)return!1;if(!un)return eF(t),un=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!RC(t.type,t.memoizedProps)),e&&(e=ri)){if(qC(t))throw K7(),Error(tt(418));for(;e;)V7(t,e),e=sd(e.nextSibling)}if(eF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ri=sd(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ri=null}}else ri=si?sd(t.stateNode.nextSibling):null;return!0}function K7(){for(var t=ri;t;)t=sd(t.nextSibling)}function Cm(){ri=si=null,un=!1}function Q3(t){Ao===null?Ao=[t]:Ao.push(t)}var zJ=nc.ReactCurrentBatchConfig;function gp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,t))}return t}function Wy(t,e){throw t=Object.prototype.toString.call(e),Error(tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tF(t){var e=t._init;return e(t._payload)}function W7(t){function e(f,y){if(t){var b=f.deletions;b===null?(f.deletions=[y],f.flags|=16):b.push(y)}}function r(f,y){if(!t)return null;for(;y!==null;)e(f,y),y=y.sibling;return null}function n(f,y){for(f=new Map;y!==null;)y.key!==null?f.set(y.key,y):f.set(y.index,y),y=y.sibling;return f}function a(f,y){return f=ld(f,y),f.index=0,f.sibling=null,f}function i(f,y,b){return f.index=b,t?(b=f.alternate,b!==null?(b=b.index,b<y?(f.flags|=2,y):b):(f.flags|=2,y)):(f.flags|=1048576,y)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function l(f,y,b,N){return y===null||y.tag!==6?(y=u_(b,f.mode,N),y.return=f,y):(y=a(y,b),y.return=f,y)}function c(f,y,b,N){var v=b.type;return v===SA?u(f,y,b.props.children,N,b.key):y!==null&&(y.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Ic&&tF(v)===y.type)?(N=a(y,b.props),N.ref=gp(f,y,b),N.return=f,N):(N=jv(b.type,b.key,b.props,null,f.mode,N),N.ref=gp(f,y,b),N.return=f,N)}function d(f,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=h_(b,f.mode,N),y.return=f,y):(y=a(y,b.children||[]),y.return=f,y)}function u(f,y,b,N,v){return y===null||y.tag!==7?(y=Qu(b,f.mode,N,v),y.return=f,y):(y=a(y,b),y.return=f,y)}function h(f,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=u_(""+y,f.mode,b),y.return=f,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case My:return b=jv(y.type,y.key,y.props,null,f.mode,b),b.ref=gp(f,null,y),b.return=f,b;case CA:return y=h_(y,f.mode,b),y.return=f,y;case Ic:var N=y._init;return h(f,N(y._payload),b)}if(Vp(y)||hp(y))return y=Qu(y,f.mode,b,null),y.return=f,y;Wy(f,y)}return null}function A(f,y,b,N){var v=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return v!==null?null:l(f,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case My:return b.key===v?c(f,y,b,N):null;case CA:return b.key===v?d(f,y,b,N):null;case Ic:return v=b._init,A(f,y,v(b._payload),N)}if(Vp(b)||hp(b))return v!==null?null:u(f,y,b,N,null);Wy(f,b)}return null}function m(f,y,b,N,v){if(typeof N=="string"&&N!==""||typeof N=="number")return f=f.get(b)||null,l(y,f,""+N,v);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case My:return f=f.get(N.key===null?b:N.key)||null,c(y,f,N,v);case CA:return f=f.get(N.key===null?b:N.key)||null,d(y,f,N,v);case Ic:var C=N._init;return m(f,y,b,C(N._payload),v)}if(Vp(N)||hp(N))return f=f.get(b)||null,u(y,f,N,v,null);Wy(y,N)}return null}function x(f,y,b,N){for(var v=null,C=null,P=y,_=y=0,k=null;P!==null&&_<b.length;_++){P.index>_?(k=P,P=null):k=P.sibling;var M=A(f,P,b[_],N);if(M===null){P===null&&(P=k);break}t&&P&&M.alternate===null&&e(f,P),y=i(M,y,_),C===null?v=M:C.sibling=M,C=M,P=k}if(_===b.length)return r(f,P),un&&du(f,_),v;if(P===null){for(;_<b.length;_++)P=h(f,b[_],N),P!==null&&(y=i(P,y,_),C===null?v=P:C.sibling=P,C=P);return un&&du(f,_),v}for(P=n(f,P);_<b.length;_++)k=m(P,f,_,b[_],N),k!==null&&(t&&k.alternate!==null&&P.delete(k.key===null?_:k.key),y=i(k,y,_),C===null?v=k:C.sibling=k,C=k);return t&&P.forEach(function(j){return e(f,j)}),un&&du(f,_),v}function g(f,y,b,N){var v=hp(b);if(typeof v!="function")throw Error(tt(150));if(b=v.call(b),b==null)throw Error(tt(151));for(var C=v=null,P=y,_=y=0,k=null,M=b.next();P!==null&&!M.done;_++,M=b.next()){P.index>_?(k=P,P=null):k=P.sibling;var j=A(f,P,M.value,N);if(j===null){P===null&&(P=k);break}t&&P&&j.alternate===null&&e(f,P),y=i(j,y,_),C===null?v=j:C.sibling=j,C=j,P=k}if(M.done)return r(f,P),un&&du(f,_),v;if(P===null){for(;!M.done;_++,M=b.next())M=h(f,M.value,N),M!==null&&(y=i(M,y,_),C===null?v=M:C.sibling=M,C=M);return un&&du(f,_),v}for(P=n(f,P);!M.done;_++,M=b.next())M=m(P,f,_,M.value,N),M!==null&&(t&&M.alternate!==null&&P.delete(M.key===null?_:M.key),y=i(M,y,_),C===null?v=M:C.sibling=M,C=M);return t&&P.forEach(function(S){return e(f,S)}),un&&du(f,_),v}function p(f,y,b,N){if(typeof b=="object"&&b!==null&&b.type===SA&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case My:e:{for(var v=b.key,C=y;C!==null;){if(C.key===v){if(v=b.type,v===SA){if(C.tag===7){r(f,C.sibling),y=a(C,b.props.children),y.return=f,f=y;break e}}else if(C.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Ic&&tF(v)===C.type){r(f,C.sibling),y=a(C,b.props),y.ref=gp(f,C,b),y.return=f,f=y;break e}r(f,C);break}else e(f,C);C=C.sibling}b.type===SA?(y=Qu(b.props.children,f.mode,N,b.key),y.return=f,f=y):(N=jv(b.type,b.key,b.props,null,f.mode,N),N.ref=gp(f,y,b),N.return=f,f=N)}return o(f);case CA:e:{for(C=b.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(f,y.sibling),y=a(y,b.children||[]),y.return=f,f=y;break e}else{r(f,y);break}else e(f,y);y=y.sibling}y=h_(b,f.mode,N),y.return=f,f=y}return o(f);case Ic:return C=b._init,p(f,y,C(b._payload),N)}if(Vp(b))return x(f,y,b,N);if(hp(b))return g(f,y,b,N);Wy(f,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(f,y.sibling),y=a(y,b),y.return=f,f=y):(r(f,y),y=u_(b,f.mode,N),y.return=f,f=y),o(f)):r(f,y)}return p}var Sm=W7(!0),G7=W7(!1),ow=Td(null),lw=null,IA=null,$3=null;function H3(){$3=IA=lw=null}function q3(t){var e=ow.current;on(ow),t._currentValue=e}function VC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function nm(t,e){lw=t,$3=IA=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ma=!0),t.firstContext=null)}function qi(t){var e=t._currentValue;if($3!==t)if(t={context:t,memoizedValue:e,next:null},IA===null){if(lw===null)throw Error(tt(308));IA=t,lw.dependencies={lanes:0,firstContext:t}}else IA=IA.next=t;return e}var Su=null;function z3(t){Su===null?Su=[t]:Su.push(t)}function X7(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,z3(e)):(r.next=a.next,a.next=r),e.interleaved=r,ql(t,n)}function ql(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Dc=!1;function V3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ll(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ad(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,mr&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,ql(t,r)}return a=n.interleaved,a===null?(e.next=e,z3(n)):(e.next=a.next,a.next=e),n.interleaved=e,ql(t,r)}function gv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,P3(t,r)}}function rF(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function cw(t,e,r,n){var a=t.updateQueue;Dc=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var A=l.lane,m=l.eventTime;if((n&A)===A){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,g=l;switch(A=e,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(m,h,A);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,A=typeof x=="function"?x.call(m,h,A):x,A==null)break e;h=bn({},h,A);break e;case 2:Dc=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,A=a.effects,A===null?a.effects=[l]:A.push(l))}else m={eventTime:m,lane:A,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=A;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;A=l,l=A.next,A.next=null,a.lastBaseUpdate=A,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);nh|=o,t.lanes=o,t.memoizedState=h}}function nF(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(tt(191,a));a.call(n)}}}var vx={},Ko=Td(vx),n0=Td(vx),s0=Td(vx);function Bu(t){if(t===vx)throw Error(tt(174));return t}function K3(t,e){switch(Jr(s0,e),Jr(n0,t),Jr(Ko,vx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:CC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=CC(e,t)}on(Ko),Jr(Ko,e)}function Bm(){on(Ko),on(n0),on(s0)}function J7(t){Bu(s0.current);var e=Bu(Ko.current),r=CC(e,t.type);e!==r&&(Jr(n0,t),Jr(Ko,r))}function W3(t){n0.current===t&&(on(Ko),on(n0))}var gn=Td(0);function dw(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var a_=[];function G3(){for(var t=0;t<a_.length;t++)a_[t]._workInProgressVersionPrimary=null;a_.length=0}var xv=nc.ReactCurrentDispatcher,i_=nc.ReactCurrentBatchConfig,rh=0,yn=null,ls=null,ws=null,uw=!1,mg=!1,a0=0,VJ=0;function Hs(){throw Error(tt(321))}function X3(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!bo(t[r],e[r]))return!1;return!0}function Y3(t,e,r,n,a,i){if(rh=i,yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xv.current=t===null||t.memoizedState===null?XJ:YJ,t=r(n,a),mg){i=0;do{if(mg=!1,a0=0,25<=i)throw Error(tt(301));i+=1,ws=ls=null,e.updateQueue=null,xv.current=JJ,t=r(n,a)}while(mg)}if(xv.current=hw,e=ls!==null&&ls.next!==null,rh=0,ws=ls=yn=null,uw=!1,e)throw Error(tt(300));return t}function J3(){var t=a0!==0;return a0=0,t}function Do(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ws===null?yn.memoizedState=ws=t:ws=ws.next=t,ws}function zi(){if(ls===null){var t=yn.alternate;t=t!==null?t.memoizedState:null}else t=ls.next;var e=ws===null?yn.memoizedState:ws.next;if(e!==null)ws=e,ls=t;else{if(t===null)throw Error(tt(310));ls=t,t={memoizedState:ls.memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},ws===null?yn.memoizedState=ws=t:ws=ws.next=t}return ws}function i0(t,e){return typeof e=="function"?e(t):e}function o_(t){var e=zi(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=ls,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((rh&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,yn.lanes|=u,nh|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,bo(n,e.memoizedState)||(Ma=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,yn.lanes|=i,nh|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function l_(t){var e=zi(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);bo(i,e.memoizedState)||(Ma=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Z7(){}function eQ(t,e){var r=yn,n=zi(),a=e(),i=!bo(n.memoizedState,a);if(i&&(n.memoizedState=a,Ma=!0),n=n.queue,Z3(nQ.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ws!==null&&ws.memoizedState.tag&1){if(r.flags|=2048,o0(9,rQ.bind(null,r,n,a,e),void 0,null),_s===null)throw Error(tt(349));rh&30||tQ(r,e,a)}return a}function tQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function rQ(t,e,r,n){e.value=r,e.getSnapshot=n,sQ(e)&&aQ(t)}function nQ(t,e,r){return r(function(){sQ(e)&&aQ(t)})}function sQ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bo(t,r)}catch{return!0}}function aQ(t){var e=ql(t,1);e!==null&&xo(e,t,1,-1)}function sF(t){var e=Do();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:t},e.queue=t,t=t.dispatch=GJ.bind(null,yn,t),[e.memoizedState,t]}function o0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function iQ(){return zi().memoizedState}function yv(t,e,r,n){var a=Do();yn.flags|=t,a.memoizedState=o0(1|e,r,void 0,n===void 0?null:n)}function l2(t,e,r,n){var a=zi();n=n===void 0?null:n;var i=void 0;if(ls!==null){var o=ls.memoizedState;if(i=o.destroy,n!==null&&X3(n,o.deps)){a.memoizedState=o0(e,r,i,n);return}}yn.flags|=t,a.memoizedState=o0(1|e,r,i,n)}function aF(t,e){return yv(8390656,8,t,e)}function Z3(t,e){return l2(2048,8,t,e)}function oQ(t,e){return l2(4,2,t,e)}function lQ(t,e){return l2(4,4,t,e)}function cQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dQ(t,e,r){return r=r!=null?r.concat([t]):null,l2(4,4,cQ.bind(null,e,t),r)}function eE(){}function uQ(t,e){var r=zi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&X3(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function hQ(t,e){var r=zi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&X3(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function AQ(t,e,r){return rh&21?(bo(r,e)||(r=x7(),yn.lanes|=r,nh|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ma=!0),t.memoizedState=r)}function KJ(t,e){var r=Fr;Fr=r!==0&&4>r?r:4,t(!0);var n=i_.transition;i_.transition={};try{t(!1),e()}finally{Fr=r,i_.transition=n}}function mQ(){return zi().memoizedState}function WJ(t,e,r){var n=od(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fQ(t))pQ(e,r);else if(r=X7(t,e,r,n),r!==null){var a=va();xo(r,t,n,a),gQ(r,e,n)}}function GJ(t,e,r){var n=od(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fQ(t))pQ(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,bo(l,o)){var c=e.interleaved;c===null?(a.next=a,z3(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=X7(t,e,a,n),r!==null&&(a=va(),xo(r,t,n,a),gQ(r,e,n))}}function fQ(t){var e=t.alternate;return t===yn||e!==null&&e===yn}function pQ(t,e){mg=uw=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gQ(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,P3(t,r)}}var hw={readContext:qi,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useInsertionEffect:Hs,useLayoutEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useMutableSource:Hs,useSyncExternalStore:Hs,useId:Hs,unstable_isNewReconciler:!1},XJ={readContext:qi,useCallback:function(t,e){return Do().memoizedState=[t,e===void 0?null:e],t},useContext:qi,useEffect:aF,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,yv(4194308,4,cQ.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yv(4194308,4,t,e)},useInsertionEffect:function(t,e){return yv(4,2,t,e)},useMemo:function(t,e){var r=Do();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Do();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=WJ.bind(null,yn,t),[n.memoizedState,t]},useRef:function(t){var e=Do();return t={current:t},e.memoizedState=t},useState:sF,useDebugValue:eE,useDeferredValue:function(t){return Do().memoizedState=t},useTransition:function(){var t=sF(!1),e=t[0];return t=KJ.bind(null,t[1]),Do().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=yn,a=Do();if(un){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=e(),_s===null)throw Error(tt(349));rh&30||tQ(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,aF(nQ.bind(null,n,i,t),[t]),n.flags|=2048,o0(9,rQ.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Do(),e=_s.identifierPrefix;if(un){var r=Pl,n=kl;r=(n&~(1<<32-go(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=a0++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=VJ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YJ={readContext:qi,useCallback:uQ,useContext:qi,useEffect:Z3,useImperativeHandle:dQ,useInsertionEffect:oQ,useLayoutEffect:lQ,useMemo:hQ,useReducer:o_,useRef:iQ,useState:function(){return o_(i0)},useDebugValue:eE,useDeferredValue:function(t){var e=zi();return AQ(e,ls.memoizedState,t)},useTransition:function(){var t=o_(i0)[0],e=zi().memoizedState;return[t,e]},useMutableSource:Z7,useSyncExternalStore:eQ,useId:mQ,unstable_isNewReconciler:!1},JJ={readContext:qi,useCallback:uQ,useContext:qi,useEffect:Z3,useImperativeHandle:dQ,useInsertionEffect:oQ,useLayoutEffect:lQ,useMemo:hQ,useReducer:l_,useRef:iQ,useState:function(){return l_(i0)},useDebugValue:eE,useDeferredValue:function(t){var e=zi();return ls===null?e.memoizedState=t:AQ(e,ls.memoizedState,t)},useTransition:function(){var t=l_(i0)[0],e=zi().memoizedState;return[t,e]},useMutableSource:Z7,useSyncExternalStore:eQ,useId:mQ,unstable_isNewReconciler:!1};function oo(t,e){if(t&&t.defaultProps){e=bn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function KC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:bn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var c2={isMounted:function(t){return(t=t._reactInternals)?fh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=va(),a=od(t),i=Ll(n,a);i.payload=e,r!=null&&(i.callback=r),e=ad(t,i,a),e!==null&&(xo(e,t,a,n),gv(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=va(),a=od(t),i=Ll(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ad(t,i,a),e!==null&&(xo(e,t,a,n),gv(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=va(),n=od(t),a=Ll(r,n);a.tag=2,e!=null&&(a.callback=e),e=ad(t,a,n),e!==null&&(xo(e,t,n,r),gv(e,t,n))}};function iF(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Zg(r,n)||!Zg(a,i):!0}function xQ(t,e,r){var n=!1,a=yd,i=e.contextType;return typeof i=="object"&&i!==null?i=qi(i):(a=Qa(e)?eh:la.current,n=e.contextTypes,i=(n=n!=null)?_m(t,a):yd),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=c2,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function oF(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&c2.enqueueReplaceState(e,e.state,null)}function WC(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},V3(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=qi(i):(i=Qa(e)?eh:la.current,a.context=_m(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(KC(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&c2.enqueueReplaceState(a,a.state,null),cw(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Em(t,e){try{var r="",n=e;do r+=CY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function c_(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function GC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ZJ=typeof WeakMap=="function"?WeakMap:Map;function yQ(t,e,r){r=Ll(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){mw||(mw=!0,a4=n),GC(t,e)},r}function bQ(t,e,r){r=Ll(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){GC(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){GC(t,e),typeof n!="function"&&(id===null?id=new Set([this]):id.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function lF(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ZJ;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=AZ.bind(null,t,e,r),e.then(t,t))}function cF(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dF(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ll(-1,1),e.tag=2,ad(r,e,1))),r.lanes|=1),t)}var eZ=nc.ReactCurrentOwner,Ma=!1;function fa(t,e,r,n){e.child=t===null?G7(e,null,r,n):Sm(e,t.child,r,n)}function uF(t,e,r,n,a){r=r.render;var i=e.ref;return nm(e,a),n=Y3(t,e,r,n,i,a),r=J3(),t!==null&&!Ma?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,zl(t,e,a)):(un&&r&&U3(e),e.flags|=1,fa(t,e,n,a),e.child)}function hF(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!lE(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,vQ(t,e,i,n,a)):(t=jv(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Zg,r(o,n)&&t.ref===e.ref)return zl(t,e,a)}return e.flags|=1,t=ld(i,n),t.ref=e.ref,t.return=e,e.child=t}function vQ(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Zg(i,n)&&t.ref===e.ref)if(Ma=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(Ma=!0);else return e.lanes=t.lanes,zl(t,e,a)}return XC(t,e,r,n,a)}function wQ(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jr(MA,Za),Za|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jr(MA,Za),Za|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Jr(MA,Za),Za|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Jr(MA,Za),Za|=n;return fa(t,e,a,r),e.child}function jQ(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function XC(t,e,r,n,a){var i=Qa(r)?eh:la.current;return i=_m(e,i),nm(e,a),r=Y3(t,e,r,n,i,a),n=J3(),t!==null&&!Ma?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,zl(t,e,a)):(un&&n&&U3(e),e.flags|=1,fa(t,e,r,a),e.child)}function AF(t,e,r,n,a){if(Qa(r)){var i=!0;sw(e)}else i=!1;if(nm(e,a),e.stateNode===null)bv(t,e),xQ(e,r,n),WC(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=qi(d):(d=Qa(r)?eh:la.current,d=_m(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&oF(e,o,n,d),Dc=!1;var A=e.memoizedState;o.state=A,cw(e,n,o,a),c=e.memoizedState,l!==n||A!==c||Ra.current||Dc?(typeof u=="function"&&(KC(e,r,u,n),c=e.memoizedState),(l=Dc||iF(e,r,l,n,A,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Y7(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:oo(e.type,l),o.props=d,h=e.pendingProps,A=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=qi(c):(c=Qa(r)?eh:la.current,c=_m(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||A!==c)&&oF(e,o,n,c),Dc=!1,A=e.memoizedState,o.state=A,cw(e,n,o,a);var x=e.memoizedState;l!==h||A!==x||Ra.current||Dc?(typeof m=="function"&&(KC(e,r,m,n),x=e.memoizedState),(d=Dc||iF(e,r,d,n,A,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),n=!1)}return YC(t,e,r,n,i,a)}function YC(t,e,r,n,a,i){jQ(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&JP(e,r,!1),zl(t,e,i);n=e.stateNode,eZ.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Sm(e,t.child,null,i),e.child=Sm(e,null,l,i)):fa(t,e,l,i),e.memoizedState=n.state,a&&JP(e,r,!0),e.child}function NQ(t){var e=t.stateNode;e.pendingContext?YP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&YP(t,e.context,!1),K3(t,e.containerInfo)}function mF(t,e,r,n,a){return Cm(),Q3(a),e.flags|=256,fa(t,e,r,n),e.child}var JC={dehydrated:null,treeContext:null,retryLane:0};function ZC(t){return{baseLanes:t,cachePool:null,transitions:null}}function _Q(t,e,r){var n=e.pendingProps,a=gn.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Jr(gn,a&1),t===null)return zC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=h2(o,n,0,null),t=Qu(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ZC(r),e.memoizedState=JC,t):tE(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return tZ(t,e,o,n,l,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ld(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ld(l,i):(i=Qu(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ZC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=JC,n}return i=t.child,t=i.sibling,n=ld(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function tE(t,e){return e=h2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gy(t,e,r,n){return n!==null&&Q3(n),Sm(e,t.child,null,r),t=tE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tZ(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=c_(Error(tt(422))),Gy(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=h2({mode:"visible",children:n.children},a,0,null),i=Qu(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Sm(e,t.child,null,o),e.child.memoizedState=ZC(o),e.memoizedState=JC,i);if(!(e.mode&1))return Gy(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(tt(419)),n=c_(i,n,void 0),Gy(t,e,o,n)}if(l=(o&t.childLanes)!==0,Ma||l){if(n=_s,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ql(t,a),xo(n,t,a,-1))}return oE(),n=c_(Error(tt(421))),Gy(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=mZ.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,ri=sd(a.nextSibling),si=e,un=!0,Ao=null,t!==null&&(Bi[Ei++]=kl,Bi[Ei++]=Pl,Bi[Ei++]=th,kl=t.id,Pl=t.overflow,th=e),e=tE(e,n.children),e.flags|=4096,e)}function fF(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),VC(t.return,e,r)}function d_(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function CQ(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(fa(t,e,n.children,r),n=gn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fF(t,r,e);else if(t.tag===19)fF(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Jr(gn,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&dw(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),d_(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&dw(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}d_(e,!0,r,null,i);break;case"together":d_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),nh|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(tt(153));if(e.child!==null){for(t=e.child,r=ld(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ld(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rZ(t,e,r){switch(e.tag){case 3:NQ(e),Cm();break;case 5:J7(e);break;case 1:Qa(e.type)&&sw(e);break;case 4:K3(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Jr(ow,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Jr(gn,gn.current&1),e.flags|=128,null):r&e.child.childLanes?_Q(t,e,r):(Jr(gn,gn.current&1),t=zl(t,e,r),t!==null?t.sibling:null);Jr(gn,gn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return CQ(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Jr(gn,gn.current),n)break;return null;case 22:case 23:return e.lanes=0,wQ(t,e,r)}return zl(t,e,r)}var SQ,e4,BQ,EQ;SQ=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};e4=function(){};BQ=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Bu(Ko.current);var i=null;switch(r){case"input":a=wC(t,a),n=wC(t,n),i=[];break;case"select":a=bn({},a,{value:void 0}),n=bn({},n,{value:void 0}),i=[];break;case"textarea":a=_C(t,a),n=_C(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=rw)}SC(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&rn("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};EQ=function(t,e,r,n){r!==n&&(e.flags|=4)};function xp(t,e){if(!un)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qs(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nZ(t,e,r){var n=e.pendingProps;switch(R3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:return Qa(e.type)&&nw(),qs(e),null;case 3:return n=e.stateNode,Bm(),on(Ra),on(la),G3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ky(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ao!==null&&(l4(Ao),Ao=null))),e4(t,e),qs(e),null;case 5:W3(e);var a=Bu(s0.current);if(r=e.type,t!==null&&e.stateNode!=null)BQ(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(tt(166));return qs(e),null}if(t=Bu(Ko.current),Ky(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Uo]=e,n[r0]=i,t=(e.mode&1)!==0,r){case"dialog":rn("cancel",n),rn("close",n);break;case"iframe":case"object":case"embed":rn("load",n);break;case"video":case"audio":for(a=0;a<Wp.length;a++)rn(Wp[a],n);break;case"source":rn("error",n);break;case"img":case"image":case"link":rn("error",n),rn("load",n);break;case"details":rn("toggle",n);break;case"input":NP(n,i),rn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},rn("invalid",n);break;case"textarea":CP(n,i),rn("invalid",n)}SC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vy(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vy(n.textContent,l,t),a=["children",""+l]):Vg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rn("scroll",n)}switch(r){case"input":Ly(n),_P(n,i,!0);break;case"textarea":Ly(n),SP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=rw)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n7(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Uo]=e,t[r0]=n,SQ(t,e,!1,!1),e.stateNode=t;e:{switch(o=BC(r,n),r){case"dialog":rn("cancel",t),rn("close",t),a=n;break;case"iframe":case"object":case"embed":rn("load",t),a=n;break;case"video":case"audio":for(a=0;a<Wp.length;a++)rn(Wp[a],t);a=n;break;case"source":rn("error",t),a=n;break;case"img":case"image":case"link":rn("error",t),rn("load",t),a=n;break;case"details":rn("toggle",t),a=n;break;case"input":NP(t,n),a=wC(t,n),rn("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=bn({},n,{value:void 0}),rn("invalid",t);break;case"textarea":CP(t,n),a=_C(t,n),rn("invalid",t);break;default:a=n}SC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?i7(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&s7(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Kg(t,c):typeof c=="number"&&Kg(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rn("scroll",t):c!=null&&_3(t,i,c,o))}switch(r){case"input":Ly(t),_P(t,n,!1);break;case"textarea":Ly(t),SP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+xd(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ZA(t,!!n.multiple,i,!1):n.defaultValue!=null&&ZA(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=rw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(t&&e.stateNode!=null)EQ(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(tt(166));if(r=Bu(s0.current),Bu(Ko.current),Ky(e)){if(n=e.stateNode,r=e.memoizedProps,n[Uo]=e,(i=n.nodeValue!==r)&&(t=si,t!==null))switch(t.tag){case 3:Vy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vy(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Uo]=e,e.stateNode=n}return qs(e),null;case 13:if(on(gn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(un&&ri!==null&&e.mode&1&&!(e.flags&128))K7(),Cm(),e.flags|=98560,i=!1;else if(i=Ky(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(tt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(tt(317));i[Uo]=e}else Cm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qs(e),i=!1}else Ao!==null&&(l4(Ao),Ao=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gn.current&1?ds===0&&(ds=3):oE())),e.updateQueue!==null&&(e.flags|=4),qs(e),null);case 4:return Bm(),e4(t,e),t===null&&e0(e.stateNode.containerInfo),qs(e),null;case 10:return q3(e.type._context),qs(e),null;case 17:return Qa(e.type)&&nw(),qs(e),null;case 19:if(on(gn),i=e.memoizedState,i===null)return qs(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)xp(i,!1);else{if(ds!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dw(t),o!==null){for(e.flags|=128,xp(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Jr(gn,gn.current&1|2),e.child}t=t.sibling}i.tail!==null&&In()>km&&(e.flags|=128,n=!0,xp(i,!1),e.lanes=4194304)}else{if(!n)if(t=dw(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!un)return qs(e),null}else 2*In()-i.renderingStartTime>km&&r!==1073741824&&(e.flags|=128,n=!0,xp(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=In(),e.sibling=null,r=gn.current,Jr(gn,n?r&1|2:r&1),e):(qs(e),null);case 22:case 23:return iE(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Za&1073741824&&(qs(e),e.subtreeFlags&6&&(e.flags|=8192)):qs(e),null;case 24:return null;case 25:return null}throw Error(tt(156,e.tag))}function sZ(t,e){switch(R3(e),e.tag){case 1:return Qa(e.type)&&nw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bm(),on(Ra),on(la),G3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return W3(e),null;case 13:if(on(gn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(tt(340));Cm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(gn),null;case 4:return Bm(),null;case 10:return q3(e.type._context),null;case 22:case 23:return iE(),null;case 24:return null;default:return null}}var Xy=!1,ea=!1,aZ=typeof WeakSet=="function"?WeakSet:Set,wt=null;function DA(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Cn(t,e,n)}else r.current=null}function t4(t,e,r){try{r()}catch(n){Cn(t,e,n)}}var pF=!1;function iZ(t,e){if(LC=Zv,t=O7(),L3(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,A=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)A=h,h=m;for(;;){if(h===t)break t;if(A===r&&++d===a&&(l=o),A===i&&++u===n&&(c=o),(m=h.nextSibling)!==null)break;h=A,A=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(UC={focusedElem:t,selectionRange:r},Zv=!1,wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,p=x.memoizedState,f=e.stateNode,y=f.getSnapshotBeforeUpdate(e.elementType===e.type?g:oo(e.type,g),p);f.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(N){Cn(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return x=pF,pF=!1,x}function fg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&t4(e,r,i)}a=a.next}while(a!==n)}}function d2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function r4(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function kQ(t){var e=t.alternate;e!==null&&(t.alternate=null,kQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Uo],delete e[r0],delete e[$C],delete e[$J],delete e[HJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PQ(t){return t.tag===5||t.tag===3||t.tag===4}function gF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n4(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=rw));else if(n!==4&&(t=t.child,t!==null))for(n4(t,e,r),t=t.sibling;t!==null;)n4(t,e,r),t=t.sibling}function s4(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(s4(t,e,r),t=t.sibling;t!==null;)s4(t,e,r),t=t.sibling}var Os=null,co=!1;function _c(t,e,r){for(r=r.child;r!==null;)FQ(t,e,r),r=r.sibling}function FQ(t,e,r){if(Vo&&typeof Vo.onCommitFiberUnmount=="function")try{Vo.onCommitFiberUnmount(r2,r)}catch{}switch(r.tag){case 5:ea||DA(r,e);case 6:var n=Os,a=co;Os=null,_c(t,e,r),Os=n,co=a,Os!==null&&(co?(t=Os,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Os.removeChild(r.stateNode));break;case 18:Os!==null&&(co?(t=Os,r=r.stateNode,t.nodeType===8?n_(t.parentNode,r):t.nodeType===1&&n_(t,r),Yg(t)):n_(Os,r.stateNode));break;case 4:n=Os,a=co,Os=r.stateNode.containerInfo,co=!0,_c(t,e,r),Os=n,co=a;break;case 0:case 11:case 14:case 15:if(!ea&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&t4(r,e,o),a=a.next}while(a!==n)}_c(t,e,r);break;case 1:if(!ea&&(DA(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Cn(r,e,l)}_c(t,e,r);break;case 21:_c(t,e,r);break;case 22:r.mode&1?(ea=(n=ea)||r.memoizedState!==null,_c(t,e,r),ea=n):_c(t,e,r);break;default:_c(t,e,r)}}function xF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new aZ),e.forEach(function(n){var a=fZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function eo(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Os=l.stateNode,co=!1;break e;case 3:Os=l.stateNode.containerInfo,co=!0;break e;case 4:Os=l.stateNode.containerInfo,co=!0;break e}l=l.return}if(Os===null)throw Error(tt(160));FQ(i,o,a),Os=null,co=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Cn(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TQ(e,t),e=e.sibling}function TQ(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(eo(e,t),Po(t),n&4){try{fg(3,t,t.return),d2(3,t)}catch(g){Cn(t,t.return,g)}try{fg(5,t,t.return)}catch(g){Cn(t,t.return,g)}}break;case 1:eo(e,t),Po(t),n&512&&r!==null&&DA(r,r.return);break;case 5:if(eo(e,t),Po(t),n&512&&r!==null&&DA(r,r.return),t.flags&32){var a=t.stateNode;try{Kg(a,"")}catch(g){Cn(t,t.return,g)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&t7(a,i),BC(l,o);var d=BC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?i7(a,h):u==="dangerouslySetInnerHTML"?s7(a,h):u==="children"?Kg(a,h):_3(a,u,h,d)}switch(l){case"input":jC(a,i);break;case"textarea":r7(a,i);break;case"select":var A=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ZA(a,!!i.multiple,m,!1):A!==!!i.multiple&&(i.defaultValue!=null?ZA(a,!!i.multiple,i.defaultValue,!0):ZA(a,!!i.multiple,i.multiple?[]:"",!1))}a[r0]=i}catch(g){Cn(t,t.return,g)}}break;case 6:if(eo(e,t),Po(t),n&4){if(t.stateNode===null)throw Error(tt(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(g){Cn(t,t.return,g)}}break;case 3:if(eo(e,t),Po(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yg(e.containerInfo)}catch(g){Cn(t,t.return,g)}break;case 4:eo(e,t),Po(t);break;case 13:eo(e,t),Po(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(sE=In())),n&4&&xF(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ea=(d=ea)||u,eo(e,t),ea=d):eo(e,t),Po(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(wt=t,u=t.child;u!==null;){for(h=wt=u;wt!==null;){switch(A=wt,m=A.child,A.tag){case 0:case 11:case 14:case 15:fg(4,A,A.return);break;case 1:DA(A,A.return);var x=A.stateNode;if(typeof x.componentWillUnmount=="function"){n=A,r=A.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Cn(n,r,g)}}break;case 5:DA(A,A.return);break;case 22:if(A.memoizedState!==null){bF(h);continue}}m!==null?(m.return=A,wt=m):bF(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=a7("display",o))}catch(g){Cn(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Cn(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:eo(e,t),Po(t),n&4&&xF(t);break;case 21:break;default:eo(e,t),Po(t)}}function Po(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(PQ(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Kg(a,""),n.flags&=-33);var i=gF(t);s4(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=gF(t);n4(t,l,o);break;default:throw Error(tt(161))}}catch(c){Cn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oZ(t,e,r){wt=t,OQ(t)}function OQ(t,e,r){for(var n=(t.mode&1)!==0;wt!==null;){var a=wt,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Xy;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ea;l=Xy;var d=ea;if(Xy=o,(ea=c)&&!d)for(wt=a;wt!==null;)o=wt,c=o.child,o.tag===22&&o.memoizedState!==null?vF(a):c!==null?(c.return=o,wt=c):vF(a);for(;i!==null;)wt=i,OQ(i),i=i.sibling;wt=a,Xy=l,ea=d}yF(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,wt=i):yF(t)}}function yF(t){for(;wt!==null;){var e=wt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ea||d2(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ea)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:oo(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nF(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}nF(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Yg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}ea||e.flags&512&&r4(e)}catch(A){Cn(e,e.return,A)}}if(e===t){wt=null;break}if(r=e.sibling,r!==null){r.return=e.return,wt=r;break}wt=e.return}}function bF(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,wt=r;break}wt=e.return}}function vF(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{d2(4,e)}catch(c){Cn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Cn(e,a,c)}}var i=e.return;try{r4(e)}catch(c){Cn(e,i,c)}break;case 5:var o=e.return;try{r4(e)}catch(c){Cn(e,o,c)}}}catch(c){Cn(e,e.return,c)}if(e===t){wt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,wt=l;break}wt=e.return}}var lZ=Math.ceil,Aw=nc.ReactCurrentDispatcher,rE=nc.ReactCurrentOwner,Ui=nc.ReactCurrentBatchConfig,mr=0,_s=null,Jn=null,Us=0,Za=0,MA=Td(0),ds=0,l0=null,nh=0,u2=0,nE=0,pg=null,Oa=null,sE=0,km=1/0,_l=null,mw=!1,a4=null,id=null,Yy=!1,zc=null,fw=0,gg=0,i4=null,vv=-1,wv=0;function va(){return mr&6?In():vv!==-1?vv:vv=In()}function od(t){return t.mode&1?mr&2&&Us!==0?Us&-Us:zJ.transition!==null?(wv===0&&(wv=x7()),wv):(t=Fr,t!==0||(t=window.event,t=t===void 0?16:_7(t.type)),t):1}function xo(t,e,r,n){if(50<gg)throw gg=0,i4=null,Error(tt(185));xx(t,r,n),(!(mr&2)||t!==_s)&&(t===_s&&(!(mr&2)&&(u2|=r),ds===4&&Qc(t,Us)),$a(t,n),r===1&&mr===0&&!(e.mode&1)&&(km=In()+500,o2&&Od()))}function $a(t,e){var r=t.callbackNode;zY(t,e);var n=Jv(t,t===_s?Us:0);if(n===0)r!==null&&kP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&kP(r),e===1)t.tag===0?qJ(wF.bind(null,t)):q7(wF.bind(null,t)),RJ(function(){!(mr&6)&&Od()}),r=null;else{switch(y7(n)){case 1:r=k3;break;case 4:r=p7;break;case 16:r=Yv;break;case 536870912:r=g7;break;default:r=Yv}r=$Q(r,IQ.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function IQ(t,e){if(vv=-1,wv=0,mr&6)throw Error(tt(327));var r=t.callbackNode;if(sm()&&t.callbackNode!==r)return null;var n=Jv(t,t===_s?Us:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=pw(t,n);else{e=n;var a=mr;mr|=2;var i=MQ();(_s!==t||Us!==e)&&(_l=null,km=In()+500,Ru(t,e));do try{uZ();break}catch(l){DQ(t,l)}while(!0);H3(),Aw.current=i,mr=a,Jn!==null?e=0:(_s=null,Us=0,e=ds)}if(e!==0){if(e===2&&(a=TC(t),a!==0&&(n=a,e=o4(t,a))),e===1)throw r=l0,Ru(t,0),Qc(t,n),$a(t,In()),r;if(e===6)Qc(t,n);else{if(a=t.current.alternate,!(n&30)&&!cZ(a)&&(e=pw(t,n),e===2&&(i=TC(t),i!==0&&(n=i,e=o4(t,i))),e===1))throw r=l0,Ru(t,0),Qc(t,n),$a(t,In()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(tt(345));case 2:uu(t,Oa,_l);break;case 3:if(Qc(t,n),(n&130023424)===n&&(e=sE+500-In(),10<e)){if(Jv(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){va(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=QC(uu.bind(null,t,Oa,_l),e);break}uu(t,Oa,_l);break;case 4:if(Qc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-go(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=In()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lZ(n/1960))-n,10<n){t.timeoutHandle=QC(uu.bind(null,t,Oa,_l),n);break}uu(t,Oa,_l);break;case 5:uu(t,Oa,_l);break;default:throw Error(tt(329))}}}return $a(t,In()),t.callbackNode===r?IQ.bind(null,t):null}function o4(t,e){var r=pg;return t.current.memoizedState.isDehydrated&&(Ru(t,e).flags|=256),t=pw(t,e),t!==2&&(e=Oa,Oa=r,e!==null&&l4(e)),t}function l4(t){Oa===null?Oa=t:Oa.push.apply(Oa,t)}function cZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!bo(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qc(t,e){for(e&=~nE,e&=~u2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-go(e),n=1<<r;t[r]=-1,e&=~n}}function wF(t){if(mr&6)throw Error(tt(327));sm();var e=Jv(t,0);if(!(e&1))return $a(t,In()),null;var r=pw(t,e);if(t.tag!==0&&r===2){var n=TC(t);n!==0&&(e=n,r=o4(t,n))}if(r===1)throw r=l0,Ru(t,0),Qc(t,e),$a(t,In()),r;if(r===6)throw Error(tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uu(t,Oa,_l),$a(t,In()),null}function aE(t,e){var r=mr;mr|=1;try{return t(e)}finally{mr=r,mr===0&&(km=In()+500,o2&&Od())}}function sh(t){zc!==null&&zc.tag===0&&!(mr&6)&&sm();var e=mr;mr|=1;var r=Ui.transition,n=Fr;try{if(Ui.transition=null,Fr=1,t)return t()}finally{Fr=n,Ui.transition=r,mr=e,!(mr&6)&&Od()}}function iE(){Za=MA.current,on(MA)}function Ru(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,UJ(r)),Jn!==null)for(r=Jn.return;r!==null;){var n=r;switch(R3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nw();break;case 3:Bm(),on(Ra),on(la),G3();break;case 5:W3(n);break;case 4:Bm();break;case 13:on(gn);break;case 19:on(gn);break;case 10:q3(n.type._context);break;case 22:case 23:iE()}r=r.return}if(_s=t,Jn=t=ld(t.current,null),Us=Za=e,ds=0,l0=null,nE=u2=nh=0,Oa=pg=null,Su!==null){for(e=0;e<Su.length;e++)if(r=Su[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Su=null}return t}function DQ(t,e){do{var r=Jn;try{if(H3(),xv.current=hw,uw){for(var n=yn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}uw=!1}if(rh=0,ws=ls=yn=null,mg=!1,a0=0,rE.current=null,r===null||r.return===null){ds=1,l0=e,Jn=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=Us,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var A=u.alternate;A?(u.updateQueue=A.updateQueue,u.memoizedState=A.memoizedState,u.lanes=A.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=cF(o);if(m!==null){m.flags&=-257,dF(m,o,l,i,e),m.mode&1&&lF(i,d,e),e=m,c=d;var x=e.updateQueue;if(x===null){var g=new Set;g.add(c),e.updateQueue=g}else x.add(c);break e}else{if(!(e&1)){lF(i,d,e),oE();break e}c=Error(tt(426))}}else if(un&&l.mode&1){var p=cF(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),dF(p,o,l,i,e),Q3(Em(c,l));break e}}i=c=Em(c,l),ds!==4&&(ds=2),pg===null?pg=[i]:pg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=yQ(i,c,e);rF(i,f);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(id===null||!id.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=bQ(i,l,e);rF(i,N);break e}}i=i.return}while(i!==null)}UQ(r)}catch(v){e=v,Jn===r&&r!==null&&(Jn=r=r.return);continue}break}while(!0)}function MQ(){var t=Aw.current;return Aw.current=hw,t===null?hw:t}function oE(){(ds===0||ds===3||ds===2)&&(ds=4),_s===null||!(nh&268435455)&&!(u2&268435455)||Qc(_s,Us)}function pw(t,e){var r=mr;mr|=2;var n=MQ();(_s!==t||Us!==e)&&(_l=null,Ru(t,e));do try{dZ();break}catch(a){DQ(t,a)}while(!0);if(H3(),mr=r,Aw.current=n,Jn!==null)throw Error(tt(261));return _s=null,Us=0,ds}function dZ(){for(;Jn!==null;)LQ(Jn)}function uZ(){for(;Jn!==null&&!DY();)LQ(Jn)}function LQ(t){var e=QQ(t.alternate,t,Za);t.memoizedProps=t.pendingProps,e===null?UQ(t):Jn=e,rE.current=null}function UQ(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=sZ(r,e),r!==null){r.flags&=32767,Jn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ds=6,Jn=null;return}}else if(r=nZ(r,e,Za),r!==null){Jn=r;return}if(e=e.sibling,e!==null){Jn=e;return}Jn=e=t}while(e!==null);ds===0&&(ds=5)}function uu(t,e,r){var n=Fr,a=Ui.transition;try{Ui.transition=null,Fr=1,hZ(t,e,r,n)}finally{Ui.transition=a,Fr=n}return null}function hZ(t,e,r,n){do sm();while(zc!==null);if(mr&6)throw Error(tt(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(tt(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(VY(t,i),t===_s&&(Jn=_s=null,Us=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yy||(Yy=!0,$Q(Yv,function(){return sm(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ui.transition,Ui.transition=null;var o=Fr;Fr=1;var l=mr;mr|=4,rE.current=null,iZ(t,r),TQ(r,t),FJ(UC),Zv=!!LC,UC=LC=null,t.current=r,oZ(r),MY(),mr=l,Fr=o,Ui.transition=i}else t.current=r;if(Yy&&(Yy=!1,zc=t,fw=a),i=t.pendingLanes,i===0&&(id=null),RY(r.stateNode),$a(t,In()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(mw)throw mw=!1,t=a4,a4=null,t;return fw&1&&t.tag!==0&&sm(),i=t.pendingLanes,i&1?t===i4?gg++:(gg=0,i4=t):gg=0,Od(),null}function sm(){if(zc!==null){var t=y7(fw),e=Ui.transition,r=Fr;try{if(Ui.transition=null,Fr=16>t?16:t,zc===null)var n=!1;else{if(t=zc,zc=null,fw=0,mr&6)throw Error(tt(331));var a=mr;for(mr|=4,wt=t.current;wt!==null;){var i=wt,o=i.child;if(wt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(wt=d;wt!==null;){var u=wt;switch(u.tag){case 0:case 11:case 15:fg(8,u,i)}var h=u.child;if(h!==null)h.return=u,wt=h;else for(;wt!==null;){u=wt;var A=u.sibling,m=u.return;if(kQ(u),u===d){wt=null;break}if(A!==null){A.return=m,wt=A;break}wt=m}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var p=g.sibling;g.sibling=null,g=p}while(g!==null)}}wt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,wt=o;else e:for(;wt!==null;){if(i=wt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fg(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,wt=f;break e}wt=i.return}}var y=t.current;for(wt=y;wt!==null;){o=wt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,wt=b;else e:for(o=y;wt!==null;){if(l=wt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:d2(9,l)}}catch(v){Cn(l,l.return,v)}if(l===o){wt=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,wt=N;break e}wt=l.return}}if(mr=a,Od(),Vo&&typeof Vo.onPostCommitFiberRoot=="function")try{Vo.onPostCommitFiberRoot(r2,t)}catch{}n=!0}return n}finally{Fr=r,Ui.transition=e}}return!1}function jF(t,e,r){e=Em(r,e),e=yQ(t,e,1),t=ad(t,e,1),e=va(),t!==null&&(xx(t,1,e),$a(t,e))}function Cn(t,e,r){if(t.tag===3)jF(t,t,r);else for(;e!==null;){if(e.tag===3){jF(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(id===null||!id.has(n))){t=Em(r,t),t=bQ(e,t,1),e=ad(e,t,1),t=va(),e!==null&&(xx(e,1,t),$a(e,t));break}}e=e.return}}function AZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=va(),t.pingedLanes|=t.suspendedLanes&r,_s===t&&(Us&r)===r&&(ds===4||ds===3&&(Us&130023424)===Us&&500>In()-sE?Ru(t,0):nE|=r),$a(t,e)}function RQ(t,e){e===0&&(t.mode&1?(e=Qy,Qy<<=1,!(Qy&130023424)&&(Qy=4194304)):e=1);var r=va();t=ql(t,e),t!==null&&(xx(t,e,r),$a(t,r))}function mZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),RQ(t,r)}function fZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(e),RQ(t,r)}var QQ;QQ=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ra.current)Ma=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ma=!1,rZ(t,e,r);Ma=!!(t.flags&131072)}else Ma=!1,un&&e.flags&1048576&&z7(e,iw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;bv(t,e),t=e.pendingProps;var a=_m(e,la.current);nm(e,r),a=Y3(null,e,n,t,a,r);var i=J3();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qa(n)?(i=!0,sw(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,V3(e),a.updater=c2,e.stateNode=a,a._reactInternals=e,WC(e,n,t,r),e=YC(null,e,n,!0,i,r)):(e.tag=0,un&&i&&U3(e),fa(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(bv(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=gZ(n),t=oo(n,t),a){case 0:e=XC(null,e,n,t,r);break e;case 1:e=AF(null,e,n,t,r);break e;case 11:e=uF(null,e,n,t,r);break e;case 14:e=hF(null,e,n,oo(n.type,t),r);break e}throw Error(tt(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:oo(n,a),XC(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:oo(n,a),AF(t,e,n,a,r);case 3:e:{if(NQ(e),t===null)throw Error(tt(387));n=e.pendingProps,i=e.memoizedState,a=i.element,Y7(t,e),cw(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Em(Error(tt(423)),e),e=mF(t,e,n,r,a);break e}else if(n!==a){a=Em(Error(tt(424)),e),e=mF(t,e,n,r,a);break e}else for(ri=sd(e.stateNode.containerInfo.firstChild),si=e,un=!0,Ao=null,r=G7(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cm(),n===a){e=zl(t,e,r);break e}fa(t,e,n,r)}e=e.child}return e;case 5:return J7(e),t===null&&zC(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,RC(n,a)?o=null:i!==null&&RC(n,i)&&(e.flags|=32),jQ(t,e),fa(t,e,o,r),e.child;case 6:return t===null&&zC(e),null;case 13:return _Q(t,e,r);case 4:return K3(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Sm(e,null,n,r):fa(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:oo(n,a),uF(t,e,n,a,r);case 7:return fa(t,e,e.pendingProps,r),e.child;case 8:return fa(t,e,e.pendingProps.children,r),e.child;case 12:return fa(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Jr(ow,n._currentValue),n._currentValue=o,i!==null)if(bo(i.value,o)){if(i.children===a.children&&!Ra.current){e=zl(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ll(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),VC(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(tt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),VC(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fa(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,nm(e,r),a=qi(a),n=n(a),e.flags|=1,fa(t,e,n,r),e.child;case 14:return n=e.type,a=oo(n,e.pendingProps),a=oo(n.type,a),hF(t,e,n,a,r);case 15:return vQ(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:oo(n,a),bv(t,e),e.tag=1,Qa(n)?(t=!0,sw(e)):t=!1,nm(e,r),xQ(e,n,a),WC(e,n,a,r),YC(null,e,n,!0,t,r);case 19:return CQ(t,e,r);case 22:return wQ(t,e,r)}throw Error(tt(156,e.tag))};function $Q(t,e){return f7(t,e)}function pZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(t,e,r,n){return new pZ(t,e,r,n)}function lE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gZ(t){if(typeof t=="function")return lE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S3)return 11;if(t===B3)return 14}return 2}function ld(t,e){var r=t.alternate;return r===null?(r=Ti(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function jv(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")lE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case SA:return Qu(r.children,a,i,e);case C3:o=8,a|=8;break;case xC:return t=Ti(12,r,e,a|2),t.elementType=xC,t.lanes=i,t;case yC:return t=Ti(13,r,e,a),t.elementType=yC,t.lanes=i,t;case bC:return t=Ti(19,r,e,a),t.elementType=bC,t.lanes=i,t;case J8:return h2(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X8:o=10;break e;case Y8:o=9;break e;case S3:o=11;break e;case B3:o=14;break e;case Ic:o=16,n=null;break e}throw Error(tt(130,t==null?t:typeof t,""))}return e=Ti(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Qu(t,e,r,n){return t=Ti(7,t,n,e),t.lanes=r,t}function h2(t,e,r,n){return t=Ti(22,t,n,e),t.elementType=J8,t.lanes=r,t.stateNode={isHidden:!1},t}function u_(t,e,r){return t=Ti(6,t,null,e),t.lanes=r,t}function h_(t,e,r){return e=Ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xZ(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=VN(0),this.expirationTimes=VN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=VN(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cE(t,e,r,n,a,i,o,l,c){return t=new xZ(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ti(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},V3(i),t}function yZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:CA,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function HQ(t){if(!t)return yd;t=t._reactInternals;e:{if(fh(t)!==t||t.tag!==1)throw Error(tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(tt(171))}if(t.tag===1){var r=t.type;if(Qa(r))return H7(t,r,e)}return e}function qQ(t,e,r,n,a,i,o,l,c){return t=cE(r,n,!0,t,a,i,o,l,c),t.context=HQ(null),r=t.current,n=va(),a=od(r),i=Ll(n,a),i.callback=e??null,ad(r,i,a),t.current.lanes=a,xx(t,a,n),$a(t,n),t}function A2(t,e,r,n){var a=e.current,i=va(),o=od(a);return r=HQ(r),e.context===null?e.context=r:e.pendingContext=r,e=Ll(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ad(a,e,o),t!==null&&(xo(t,a,o,i),gv(t,a,o)),o}function gw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function NF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function dE(t,e){NF(t,e),(t=t.alternate)&&NF(t,e)}function bZ(){return null}var zQ=typeof reportError=="function"?reportError:function(t){console.error(t)};function uE(t){this._internalRoot=t}m2.prototype.render=uE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(tt(409));A2(t,e,null,null)};m2.prototype.unmount=uE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sh(function(){A2(null,t,null,null)}),e[Hl]=null}};function m2(t){this._internalRoot=t}m2.prototype.unstable_scheduleHydration=function(t){if(t){var e=w7();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rc.length&&e!==0&&e<Rc[r].priority;r++);Rc.splice(r,0,t),r===0&&N7(t)}};function hE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _F(){}function vZ(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=gw(o);i.call(d)}}var o=qQ(e,n,t,0,null,!1,!1,"",_F);return t._reactRootContainer=o,t[Hl]=o.current,e0(t.nodeType===8?t.parentNode:t),sh(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=gw(c);l.call(d)}}var c=cE(t,0,!1,null,null,!1,!1,"",_F);return t._reactRootContainer=c,t[Hl]=c.current,e0(t.nodeType===8?t.parentNode:t),sh(function(){A2(e,c,r,n)}),c}function p2(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=gw(o);l.call(c)}}A2(e,o,t,a)}else o=vZ(r,e,t,a,n);return gw(o)}b7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Kp(e.pendingLanes);r!==0&&(P3(e,r|1),$a(e,In()),!(mr&6)&&(km=In()+500,Od()))}break;case 13:sh(function(){var n=ql(t,1);if(n!==null){var a=va();xo(n,t,1,a)}}),dE(t,1)}};F3=function(t){if(t.tag===13){var e=ql(t,134217728);if(e!==null){var r=va();xo(e,t,134217728,r)}dE(t,134217728)}};v7=function(t){if(t.tag===13){var e=od(t),r=ql(t,e);if(r!==null){var n=va();xo(r,t,e,n)}dE(t,e)}};w7=function(){return Fr};j7=function(t,e){var r=Fr;try{return Fr=t,e()}finally{Fr=r}};kC=function(t,e,r){switch(e){case"input":if(jC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=i2(n);if(!a)throw Error(tt(90));e7(n),jC(n,a)}}}break;case"textarea":r7(t,r);break;case"select":e=r.value,e!=null&&ZA(t,!!r.multiple,e,!1)}};c7=aE;d7=sh;var wZ={usingClientEntryPoint:!1,Events:[bx,PA,i2,o7,l7,aE]},yp={findFiberByHostInstance:Cu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jZ={bundleType:yp.bundleType,version:yp.version,rendererPackageName:yp.rendererPackageName,rendererConfig:yp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A7(t),t===null?null:t.stateNode},findFiberByHostInstance:yp.findFiberByHostInstance||bZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jy.isDisabled&&Jy.supportsFiber)try{r2=Jy.inject(jZ),Vo=Jy}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wZ;ui.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hE(e))throw Error(tt(200));return yZ(t,e,null,r)};ui.createRoot=function(t,e){if(!hE(t))throw Error(tt(299));var r=!1,n="",a=zQ;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=cE(t,1,!1,null,null,r,!1,n,a),t[Hl]=e.current,e0(t.nodeType===8?t.parentNode:t),new uE(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(tt(188)):(t=Object.keys(t).join(","),Error(tt(268,t)));return t=A7(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return sh(t)};ui.hydrate=function(t,e,r){if(!f2(e))throw Error(tt(200));return p2(null,t,e,!0,r)};ui.hydrateRoot=function(t,e,r){if(!hE(t))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=zQ;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=qQ(e,null,t,1,r??null,a,!1,i,o),t[Hl]=e.current,e0(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new m2(e)};ui.render=function(t,e,r){if(!f2(e))throw Error(tt(200));return p2(null,t,e,!1,r)};ui.unmountComponentAtNode=function(t){if(!f2(t))throw Error(tt(40));return t._reactRootContainer?(sh(function(){p2(null,null,t,!1,function(){t._reactRootContainer=null,t[Hl]=null})}),!0):!1};ui.unstable_batchedUpdates=aE;ui.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!f2(r))throw Error(tt(200));if(t==null||t._reactInternals===void 0)throw Error(tt(38));return p2(t,e,r,!1,n)};ui.version="18.3.1-next-f1338f8080-20240426";function VQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VQ)}catch(t){console.error(t)}}VQ(),V8.exports=ui;var NZ=V8.exports,CF=NZ;pC.createRoot=CF.createRoot,pC.hydrateRoot=CF.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c0.apply(this,arguments)}var Vc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vc||(Vc={}));const SF="popstate";function _Z(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return c4("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:xw(a)}return SZ(e,r,null,t)}function Zn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KQ(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CZ(){return Math.random().toString(36).substr(2,8)}function BF(t,e){return{usr:t.state,key:t.key,idx:e}}function c4(t,e,r,n){return r===void 0&&(r=null),c0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mf(e):e,{state:r,key:e&&e.key||n||CZ()})}function xw(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function SZ(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Vc.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(c0({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Vc.Pop;let p=u(),f=p==null?null:p-d;d=p,c&&c({action:l,location:g.location,delta:f})}function A(p,f){l=Vc.Push;let y=c4(g.location,p,f);d=u()+1;let b=BF(y,d),N=g.createHref(y);try{o.pushState(b,"",N)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;a.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function m(p,f){l=Vc.Replace;let y=c4(g.location,p,f);d=u();let b=BF(y,d),N=g.createHref(y);o.replaceState(b,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function x(p){let f=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof p=="string"?p:xw(p);return y=y.replace(/ $/,"%20"),Zn(f,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,f)}let g={get action(){return l},get location(){return t(a,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(SF,h),c=p,()=>{a.removeEventListener(SF,h),c=null}},createHref(p){return e(a,p)},createURL:x,encodeLocation(p){let f=x(p);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:A,replace:m,go(p){return o.go(p)}};return g}var EF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(EF||(EF={}));function BZ(t,e,r){return r===void 0&&(r="/"),EZ(t,e,r)}function EZ(t,e,r,n){let a=typeof e=="string"?mf(e):e,i=AE(a.pathname||"/",r);if(i==null)return null;let o=WQ(t);kZ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=$Z(i);l=UZ(o[c],d)}return l}function WQ(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Zn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=cd([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Zn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),WQ(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:MZ(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of GQ(i.path))a(i,o,c)}),e}function GQ(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=GQ(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function kZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:LZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const PZ=/^:[\w-]+$/,FZ=3,TZ=2,OZ=1,IZ=10,DZ=-2,kF=t=>t==="*";function MZ(t,e){let r=t.split("/"),n=r.length;return r.some(kF)&&(n+=DZ),e&&(n+=TZ),r.filter(a=>!kF(a)).reduce((a,i)=>a+(PZ.test(i)?FZ:i===""?OZ:IZ),n)}function LZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function UZ(t,e,r){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=RZ({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),A=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:cd([i,h.pathname]),pathnameBase:VZ(cd([i,h.pathnameBase])),route:A}),h.pathnameBase!=="/"&&(i=cd([i,h.pathnameBase]))}return o}function RZ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=QZ(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:A,isOptional:m}=u;if(A==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?d[A]=void 0:d[A]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function QZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),KQ(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function $Z(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return KQ(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function HZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?mf(t):t;return{pathname:r?r.startsWith("/")?r:qZ(r,e):e,search:KZ(n),hash:WZ(a)}}function qZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function A_(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function XQ(t,e){let r=zZ(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function YQ(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=mf(t):(a=c0({},t),Zn(!a.pathname||!a.pathname.includes("?"),A_("?","pathname","search",a)),Zn(!a.pathname||!a.pathname.includes("#"),A_("#","pathname","hash",a)),Zn(!a.search||!a.search.includes("#"),A_("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),h-=1;a.pathname=A.join("/")}l=h>=0?e[h]:"/"}let c=HZ(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const cd=t=>t.join("/").replace(/\/\/+/g,"/"),VZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JQ=["post","put","patch","delete"];new Set(JQ);const XZ=["get",...JQ];new Set(XZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d0.apply(this,arguments)}const mE=B.createContext(null),YZ=B.createContext(null),ph=B.createContext(null),g2=B.createContext(null),sc=B.createContext({outlet:null,matches:[],isDataRoute:!1}),ZQ=B.createContext(null);function JZ(t,e){let{relative:r}=e===void 0?{}:e;wx()||Zn(!1);let{basename:n,navigator:a}=B.useContext(ph),{hash:i,pathname:o,search:l}=t$(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:cd([n,o])),a.createHref({pathname:c,search:l,hash:i})}function wx(){return B.useContext(g2)!=null}function Id(){return wx()||Zn(!1),B.useContext(g2).location}function e$(t){B.useContext(ph).static||B.useLayoutEffect(t)}function ms(){let{isDataRoute:t}=B.useContext(sc);return t?Aee():ZZ()}function ZZ(){wx()||Zn(!1);let t=B.useContext(mE),{basename:e,future:r,navigator:n}=B.useContext(ph),{matches:a}=B.useContext(sc),{pathname:i}=Id(),o=JSON.stringify(XQ(a,r.v7_relativeSplatPath)),l=B.useRef(!1);return e$(()=>{l.current=!0}),B.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=YQ(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:cd([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,i,t])}const eee=B.createContext(null);function tee(t){let e=B.useContext(sc).outlet;return e&&B.createElement(eee.Provider,{value:t},e)}function fE(){let{matches:t}=B.useContext(sc),e=t[t.length-1];return e?e.params:{}}function t$(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=B.useContext(ph),{matches:a}=B.useContext(sc),{pathname:i}=Id(),o=JSON.stringify(XQ(a,n.v7_relativeSplatPath));return B.useMemo(()=>YQ(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function ree(t,e){return nee(t,e)}function nee(t,e,r,n){wx()||Zn(!1);let{navigator:a}=B.useContext(ph),{matches:i}=B.useContext(sc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Id(),u;if(e){var h;let p=typeof e=="string"?mf(e):e;c==="/"||(h=p.pathname)!=null&&h.startsWith(c)||Zn(!1),u=p}else u=d;let A=u.pathname||"/",m=A;if(c!=="/"){let p=c.replace(/^\//,"").split("/");m="/"+A.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=BZ(t,{pathname:m}),g=lee(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:cd([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:cd([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,n);return e&&g?B.createElement(g2.Provider,{value:{location:d0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vc.Pop}},g):g}function see(){let t=hee(),e=GZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),r?B.createElement("pre",{style:a},r):null,null)}const aee=B.createElement(see,null);class iee extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?B.createElement(sc.Provider,{value:this.props.routeContext},B.createElement(ZQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oee(t){let{routeContext:e,match:r,children:n}=t,a=B.useContext(mE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(sc.Provider,{value:e},n)}function lee(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Zn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:A,errors:m}=r,x=h.route.loader&&A[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,A)=>{let m,x=!1,g=null,p=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||aee,c&&(d<0&&A===0?(mee("route-fallback"),x=!0,p=null):d===A&&(x=!0,p=h.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,A+1)),y=()=>{let b;return m?b=g:x?b=p:h.route.Component?b=B.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,B.createElement(oee,{match:h,routeContext:{outlet:u,matches:f,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||A===0)?B.createElement(iee,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):y()},null)}var r$=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r$||{}),n$=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(n$||{});function cee(t){let e=B.useContext(mE);return e||Zn(!1),e}function dee(t){let e=B.useContext(YZ);return e||Zn(!1),e}function uee(t){let e=B.useContext(sc);return e||Zn(!1),e}function s$(t){let e=uee(),r=e.matches[e.matches.length-1];return r.route.id||Zn(!1),r.route.id}function hee(){var t;let e=B.useContext(ZQ),r=dee(),n=s$();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Aee(){let{router:t}=cee(r$.UseNavigateStable),e=s$(n$.UseNavigateStable),r=B.useRef(!1);return e$(()=>{r.current=!0}),B.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,d0({fromRouteId:e},i)))},[t,e])}const PF={};function mee(t,e,r){PF[t]||(PF[t]=!0)}function fee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pee(t){return tee(t.context)}function vt(t){Zn(!1)}function gee(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Vc.Pop,navigator:i,static:o=!1,future:l}=t;wx()&&Zn(!1);let c=e.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:c,navigator:i,static:o,future:d0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=mf(n));let{pathname:u="/",search:h="",hash:A="",state:m=null,key:x="default"}=n,g=B.useMemo(()=>{let p=AE(u,c);return p==null?null:{location:{pathname:p,search:h,hash:A,state:m,key:x},navigationType:a}},[c,u,h,A,m,x,a]);return g==null?null:B.createElement(ph.Provider,{value:d},B.createElement(g2.Provider,{children:r,value:g}))}function xee(t){let{children:e,location:r}=t;return ree(d4(e),r)}new Promise(()=>{});function d4(t,e){e===void 0&&(e=[]);let r=[];return B.Children.forEach(t,(n,a)=>{if(!B.isValidElement(n))return;let i=[...e,a];if(n.type===B.Fragment){r.push.apply(r,d4(n.props.children,i));return}n.type!==vt&&Zn(!1),!n.props.index||!n.props.children||Zn(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=d4(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u4(){return u4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u4.apply(this,arguments)}function yee(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function bee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vee(t,e){return t.button===0&&(!e||e==="_self")&&!bee(t)}function h4(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function wee(t,e){let r=h4(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const jee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Nee="6";try{window.__reactRouterVersion=Nee}catch{}const _ee="startTransition",FF=AY[_ee];function Cee(t){let{basename:e,children:r,future:n,window:a}=t,i=B.useRef();i.current==null&&(i.current=_Z({window:a,v5Compat:!0}));let o=i.current,[l,c]=B.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=B.useCallback(h=>{d&&FF?FF(()=>c(h)):c(h)},[c,d]);return B.useLayoutEffect(()=>o.listen(u),[o,u]),B.useEffect(()=>fee(n),[n]),B.createElement(gee,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const See=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vo=B.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,A=yee(e,jee),{basename:m}=B.useContext(ph),x,g=!1;if(typeof d=="string"&&Bee.test(d)&&(x=d,See))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),v=AE(N.pathname,m);N.origin===b.origin&&v!=null?d=v+N.search+N.hash:g=!0}catch{}let p=JZ(d,{relative:a}),f=Eee(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function y(b){n&&n(b),b.defaultPrevented||f(b)}return B.createElement("a",u4({},A,{href:x||p,onClick:g||i?n:y,ref:r,target:c}))});var TF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TF||(TF={}));var OF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OF||(OF={}));function Eee(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=ms(),d=Id(),u=t$(t,{relative:o});return B.useCallback(h=>{if(vee(h,r)){h.preventDefault();let A=n!==void 0?n:xw(d)===xw(u);c(t,{replace:A,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,t,i,o,l])}function a$(t){let e=B.useRef(h4(t)),r=B.useRef(!1),n=Id(),a=B.useMemo(()=>wee(n.search,r.current?null:e.current),[n.search]),i=ms(),o=B.useCallback((l,c)=>{const d=h4(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const pE=B.createContext({});function gE(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const xE=typeof window<"u",i$=xE?B.useLayoutEffect:B.useEffect,x2=B.createContext(null);function yE(t,e){t.indexOf(e)===-1&&t.push(e)}function bE(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Vl=(t,e,r)=>r>e?e:r<t?t:r;let vE=()=>{};const Kl={},o$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function l$(t){return typeof t=="object"&&t!==null}const c$=t=>/^0[^.\s]+$/u.test(t);function wE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ri=t=>t,kee=(t,e)=>r=>e(t(r)),jx=(...t)=>t.reduce(kee),u0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class jE{constructor(){this.subscriptions=[]}add(e){return yE(this.subscriptions,e),()=>bE(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wo=t=>t*1e3,Oi=t=>t/1e3;function d$(t,e){return e?t*(1e3/e):0}const u$=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Pee=1e-7,Fee=12;function Tee(t,e,r,n,a){let i,o,l=0;do o=e+(r-e)/2,i=u$(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>Pee&&++l<Fee);return o}function Nx(t,e,r,n){if(t===e&&r===n)return Ri;const a=i=>Tee(i,0,1,t,r);return i=>i===0||i===1?i:u$(a(i),e,n)}const h$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,A$=t=>e=>1-t(1-e),m$=Nx(.33,1.53,.69,.99),NE=A$(m$),f$=h$(NE),p$=t=>(t*=2)<1?.5*NE(t):.5*(2-Math.pow(2,-10*(t-1))),_E=t=>1-Math.sin(Math.acos(t)),g$=A$(_E),x$=h$(_E),Oee=Nx(.42,0,1,1),Iee=Nx(0,0,.58,1),y$=Nx(.42,0,.58,1),Dee=t=>Array.isArray(t)&&typeof t[0]!="number",b$=t=>Array.isArray(t)&&typeof t[0]=="number",Mee={linear:Ri,easeIn:Oee,easeInOut:y$,easeOut:Iee,circIn:_E,circInOut:x$,circOut:g$,backIn:NE,backInOut:f$,backOut:m$,anticipate:p$},Lee=t=>typeof t=="string",IF=t=>{if(b$(t)){vE(t.length===4);const[e,r,n,a]=t;return Nx(e,r,n,a)}else if(Lee(t))return Mee[t];return t},Zy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Uee(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,h=!1,A=!1)=>{const x=A&&a?r:n;return h&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const Ree=40;function v$(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Zy.reduce((b,N)=>(b[N]=Uee(i),b),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:A,render:m,postRender:x}=o,g=()=>{const b=Kl.useManualTiming?a.timestamp:performance.now();r=!1,Kl.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,Ree),1)),a.timestamp=b,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),A.process(a),m.process(a),x.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(g))},p=()=>{r=!0,n=!0,a.isProcessing||t(g)};return{schedule:Zy.reduce((b,N)=>{const v=o[N];return b[N]=(C,P=!1,_=!1)=>(r||p(),v.schedule(C,P,_)),b},{}),cancel:b=>{for(let N=0;N<Zy.length;N++)o[Zy[N]].cancel(b)},state:a,steps:o}}const{schedule:An,cancel:bd,state:Is,steps:m_}=v$(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ri,!0);let Nv;function Qee(){Nv=void 0}const La={now:()=>(Nv===void 0&&La.set(Is.isProcessing||Kl.useManualTiming?Is.timestamp:performance.now()),Nv),set:t=>{Nv=t,queueMicrotask(Qee)}},w$=t=>e=>typeof e=="string"&&e.startsWith(t),CE=w$("--"),$ee=w$("var(--"),SE=t=>$ee(t)?Hee.test(t.split("/*")[0].trim()):!1,Hee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ff={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},h0={...ff,transform:t=>Vl(0,1,t)},eb={...ff,default:1},xg=t=>Math.round(t*1e5)/1e5,BE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qee(t){return t==null}const zee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,EE=(t,e)=>r=>!!(typeof r=="string"&&zee.test(r)&&r.startsWith(t)||e&&!qee(r)&&Object.prototype.hasOwnProperty.call(r,e)),j$=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(BE);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Vee=t=>Vl(0,255,t),f_={...ff,transform:t=>Math.round(Vee(t))},Eu={test:EE("rgb","red"),parse:j$("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+f_.transform(t)+", "+f_.transform(e)+", "+f_.transform(r)+", "+xg(h0.transform(n))+")"};function Kee(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const A4={test:EE("#"),parse:Kee,transform:Eu.transform},_x=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pc=_x("deg"),Go=_x("%"),Qt=_x("px"),Wee=_x("vh"),Gee=_x("vw"),DF={...Go,parse:t=>Go.parse(t)/100,transform:t=>Go.transform(t*100)},LA={test:EE("hsl","hue"),parse:j$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Go.transform(xg(e))+", "+Go.transform(xg(r))+", "+xg(h0.transform(n))+")"},Xn={test:t=>Eu.test(t)||A4.test(t)||LA.test(t),parse:t=>Eu.test(t)?Eu.parse(t):LA.test(t)?LA.parse(t):A4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Eu.transform(t):LA.transform(t),getAnimatableNone:t=>{const e=Xn.parse(t);return e.alpha=0,Xn.transform(e)}},Xee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yee(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(BE))==null?void 0:e.length)||0)+(((r=t.match(Xee))==null?void 0:r.length)||0)>0}const N$="number",_$="color",Jee="var",Zee="var(",MF="${}",ete=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function A0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(ete,c=>(Xn.test(c)?(n.color.push(i),a.push(_$),r.push(Xn.parse(c))):c.startsWith(Zee)?(n.var.push(i),a.push(Jee),r.push(c)):(n.number.push(i),a.push(N$),r.push(parseFloat(c))),++i,MF)).split(MF);return{values:r,split:l,indexes:n,types:a}}function C$(t){return A0(t).values}function S$(t){const{split:e,types:r}=A0(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===N$?i+=xg(a[o]):l===_$?i+=Xn.transform(a[o]):i+=a[o]}return i}}const tte=t=>typeof t=="number"?0:Xn.test(t)?Xn.getAnimatableNone(t):t;function rte(t){const e=C$(t);return S$(t)(e.map(tte))}const vd={test:Yee,parse:C$,createTransformer:S$,getAnimatableNone:rte};function p_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function nte({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=p_(c,l,t+1/3),i=p_(c,l,t),o=p_(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function yw(t,e){return r=>r>0?e:t}const xn=(t,e,r)=>t+(e-t)*r,g_=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},ste=[A4,Eu,LA],ate=t=>ste.find(e=>e.test(t));function LF(t){const e=ate(t);if(!e)return!1;let r=e.parse(t);return e===LA&&(r=nte(r)),r}const UF=(t,e)=>{const r=LF(t),n=LF(e);if(!r||!n)return yw(t,e);const a={...r};return i=>(a.red=g_(r.red,n.red,i),a.green=g_(r.green,n.green,i),a.blue=g_(r.blue,n.blue,i),a.alpha=xn(r.alpha,n.alpha,i),Eu.transform(a))},m4=new Set(["none","hidden"]);function ite(t,e){return m4.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function ote(t,e){return r=>xn(t,e,r)}function kE(t){return typeof t=="number"?ote:typeof t=="string"?SE(t)?yw:Xn.test(t)?UF:dte:Array.isArray(t)?B$:typeof t=="object"?Xn.test(t)?UF:lte:yw}function B$(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>kE(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function lte(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=kE(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function cte(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],l=t.values[o]??0;r[a]=l,n[i]++}return r}const dte=(t,e)=>{const r=vd.createTransformer(e),n=A0(t),a=A0(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?m4.has(t)&&!a.values.length||m4.has(e)&&!n.values.length?ite(t,e):jx(B$(cte(n,a),a.values),r):yw(t,e)};function E$(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?xn(t,e,r):kE(t)(t,e)}const ute=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>An.update(e,r),stop:()=>bd(e),now:()=>Is.isProcessing?Is.timestamp:La.now()}},k$=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},bw=2e4;function PE(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<bw;)e+=r,n=t.next(e);return e>=bw?1/0:e}function hte(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(PE(n),bw);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:Oi(a)}}const Ate=5;function P$(t,e,r){const n=Math.max(e-Ate,0);return d$(r-t(n),e-n)}const _n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x_=.001;function mte({duration:t=_n.duration,bounce:e=_n.bounce,velocity:r=_n.velocity,mass:n=_n.mass}){let a,i,o=1-e;o=Vl(_n.minDamping,_n.maxDamping,o),t=Vl(_n.minDuration,_n.maxDuration,Oi(t)),o<1?(a=d=>{const u=d*o,h=u*t,A=u-r,m=f4(d,o),x=Math.exp(-h);return x_-A/m*x},i=d=>{const h=d*o*t,A=h*r+r,m=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-h),g=f4(Math.pow(d,2),o);return(-a(d)+x_>0?-1:1)*((A-m)*x)/g}):(a=d=>{const u=Math.exp(-d*t),h=(d-r)*t+1;return-x_+u*h},i=d=>{const u=Math.exp(-d*t),h=(r-d)*(t*t);return u*h});const l=5/t,c=pte(a,i,l);if(t=Wo(t),isNaN(c))return{stiffness:_n.stiffness,damping:_n.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const fte=12;function pte(t,e,r){let n=r;for(let a=1;a<fte;a++)n=n-t(n)/e(n);return n}function f4(t,e){return t*Math.sqrt(1-e*e)}const gte=["duration","bounce"],xte=["stiffness","damping","mass"];function RF(t,e){return e.some(r=>t[r]!==void 0)}function yte(t){let e={velocity:_n.velocity,stiffness:_n.stiffness,damping:_n.damping,mass:_n.mass,isResolvedFromDuration:!1,...t};if(!RF(t,xte)&&RF(t,gte))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Vl(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_n.mass,stiffness:a,damping:i}}else{const r=mte(t);e={...e,...r,mass:_n.mass},e.isResolvedFromDuration=!0}return e}function vw(t=_n.visualDuration,e=_n.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:A,isResolvedFromDuration:m}=yte({...r,velocity:-Oi(r.velocity||0)}),x=A||0,g=d/(2*Math.sqrt(c*u)),p=o-i,f=Oi(Math.sqrt(c/u)),y=Math.abs(p)<5;n||(n=y?_n.restSpeed.granular:_n.restSpeed.default),a||(a=y?_n.restDelta.granular:_n.restDelta.default);let b;if(g<1){const v=f4(f,g);b=C=>{const P=Math.exp(-g*f*C);return o-P*((x+g*f*p)/v*Math.sin(v*C)+p*Math.cos(v*C))}}else if(g===1)b=v=>o-Math.exp(-f*v)*(p+(x+f*p)*v);else{const v=f*Math.sqrt(g*g-1);b=C=>{const P=Math.exp(-g*f*C),_=Math.min(v*C,300);return o-P*((x+g*f*p)*Math.sinh(_)+v*p*Math.cosh(_))/v}}const N={calculatedDuration:m&&h||null,next:v=>{const C=b(v);if(m)l.done=v>=h;else{let P=v===0?x:0;g<1&&(P=v===0?Wo(x):P$(b,v,C));const _=Math.abs(P)<=n,k=Math.abs(o-C)<=a;l.done=_&&k}return l.value=l.done?o:C,l},toString:()=>{const v=Math.min(PE(N),bw),C=k$(P=>N.next(v*P).value,v,30);return v+"ms "+C},toTransition:()=>{}};return N}vw.applyToOptions=t=>{const e=hte(t,100,vw);return t.ease=e.ease,t.duration=Wo(e.duration),t.type="keyframes",t};function p4({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],A={done:!1,value:h},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,x=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let g=r*e;const p=h+g,f=o===void 0?p:o(p);f!==p&&(g=f-h);const y=_=>-g*Math.exp(-_/n),b=_=>f+y(_),N=_=>{const k=y(_),M=b(_);A.done=Math.abs(k)<=d,A.value=A.done?f:M};let v,C;const P=_=>{m(A.value)&&(v=_,C=vw({keyframes:[A.value,x(A.value)],velocity:P$(b,_,A.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:_=>{let k=!1;return!C&&v===void 0&&(k=!0,N(_),P(_)),v!==void 0&&_>=v?C.next(_-v):(!k&&N(_),A)}}}function bte(t,e,r){const n=[],a=r||Kl.mix||E$,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ri:e;l=jx(c,l)}n.push(l)}return n}function vte(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(vE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=bte(e,n,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const A=u0(t[h],t[h+1],u);return l[h](A)};return r?u=>d(Vl(t[0],t[i-1],u)):d}function wte(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=u0(0,e,n);t.push(xn(r,1,a))}}function jte(t){const e=[0];return wte(e,t.length-1),e}function Nte(t,e){return t.map(r=>r*e)}function _te(t,e){return t.map(()=>e||y$).splice(0,t.length-1)}function yg({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=Dee(n)?n.map(IF):IF(n),i={done:!1,value:e[0]},o=Nte(r&&r.length===e.length?r:jte(e),t),l=vte(o,e,{ease:Array.isArray(a)?a:_te(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Cte=t=>t!==null;function FE(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(Cte),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Ste={decay:p4,inertia:p4,tween:yg,keyframes:yg,spring:vw};function F$(t){typeof t.type=="string"&&(t.type=Ste[t.type])}class TE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Bte=t=>t/100;class OE extends TE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==La.now()&&this.tick(La.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;F$(e);const{type:r=yg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||yg;c!==yg&&typeof l[0]!="number"&&(this.mixKeyframes=jx(Bte,E$(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=PE(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:A,repeatDelay:m,type:x,onUpdate:g,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const f=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?f<0:f>a;this.currentTime=Math.max(f,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,N=n;if(h){const _=Math.min(this.currentTime,a)/l;let k=Math.floor(_),M=_%1;!M&&_>=1&&(M=1),M===1&&k--,k=Math.min(k,h+1),!!(k%2)&&(A==="reverse"?(M=1-M,m&&(M-=m/l)):A==="mirror"&&(N=o)),b=Vl(0,1,M)*l}const v=y?{done:!1,value:u[0]}:N.next(b);i&&(v.value=i(v.value));let{done:C}=v;!y&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&x!==p4&&(v.value=FE(u,this.options,p,this.speed)),g&&g(v.value),P&&this.finish(),v}then(e,r){return this.finished.then(e,r)}get duration(){return Oi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(this.currentTime)}set time(e){var r;e=Wo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(La.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Oi(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=ute,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(La.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Ete(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ku=t=>t*180/Math.PI,g4=t=>{const e=ku(Math.atan2(t[1],t[0]));return x4(e)},kte={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:g4,rotateZ:g4,skewX:t=>ku(Math.atan(t[1])),skewY:t=>ku(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},x4=t=>(t=t%360,t<0&&(t+=360),t),QF=g4,$F=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),HF=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Pte={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$F,scaleY:HF,scale:t=>($F(t)+HF(t))/2,rotateX:t=>x4(ku(Math.atan2(t[6],t[5]))),rotateY:t=>x4(ku(Math.atan2(-t[2],t[0]))),rotateZ:QF,rotate:QF,skewX:t=>ku(Math.atan(t[4])),skewY:t=>ku(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function y4(t){return t.includes("scale")?1:0}function b4(t,e){if(!t||t==="none")return y4(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Pte,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=kte,a=l}if(!a)return y4(e);const i=n[e],o=a[1].split(",").map(Tte);return typeof i=="function"?i(o):o[i]}const Fte=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return b4(r,e)};function Tte(t){return parseFloat(t.trim())}const pf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gf=new Set(pf),qF=t=>t===ff||t===Qt,Ote=new Set(["x","y","z"]),Ite=pf.filter(t=>!Ote.has(t));function Dte(t){const e=[];return Ite.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const $u={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>b4(e,"x"),y:(t,{transform:e})=>b4(e,"y")};$u.translateX=$u.x;$u.translateY=$u.y;const Hu=new Set;let v4=!1,w4=!1,j4=!1;function T$(){if(w4){const t=Array.from(Hu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Dte(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}w4=!1,v4=!1,Hu.forEach(t=>t.complete(j4)),Hu.clear()}function O$(){Hu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(w4=!0)})}function Mte(){j4=!0,O$(),T$(),j4=!1}class IE{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Hu.add(this),v4||(v4=!0,An.read(O$),An.resolveKeyframes(T$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Ete(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hu.delete(this)}cancel(){this.state==="scheduled"&&(Hu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Lte=t=>t.startsWith("--");function Ute(t,e,r){Lte(e)?t.style.setProperty(e,r):t.style[e]=r}const Rte=wE(()=>window.ScrollTimeline!==void 0),Qte={};function $te(t,e){const r=wE(t);return()=>Qte[e]??r()}const I$=$te(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,zF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gp([0,.65,.55,1]),circOut:Gp([.55,0,1,.45]),backIn:Gp([.31,.01,.66,-.59]),backOut:Gp([.33,1.53,.69,.99])};function D$(t,e){if(t)return typeof t=="function"?I$()?k$(t,e):"ease-out":b$(t)?Gp(t):Array.isArray(t)?t.map(r=>D$(r,e)||zF.easeOut):zF[t]}function Hte(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:r};c&&(u.offset=c);const h=D$(l,a);Array.isArray(h)&&(u.easing=h);const A={delay:n,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(A.pseudoElement=d),t.animate(u,A)}function M$(t){return typeof t=="function"&&"applyToOptions"in t}function qte({type:t,...e}){return M$(t)&&I$()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zte extends TE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,vE(typeof e.type!="string");const d=qte(e);this.animation=Hte(r,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=FE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Ute(r,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Oi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Rte()?(this.animation.timeline=e,Ri):r(this)}}const L$={anticipate:p$,backInOut:f$,circInOut:x$};function Vte(t){return t in L$}function Kte(t){typeof t.ease=="string"&&Vte(t.ease)&&(t.ease=L$[t.ease])}const VF=10;class Wte extends zte{constructor(e){Kte(e),F$(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new OE({...o,autoplay:!1}),c=Wo(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-VF).value,l.sample(c).value,VF),l.stop()}}const KF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vd.test(t)||t==="0")&&!t.startsWith("url("));function Gte(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Xte(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=KF(a,e),l=KF(i,e);return!o||!l?!1:Gte(t)||(r==="spring"||M$(r))&&n}function N4(t){t.duration=0,t.type="keyframes"}const Yte=new Set(["opacity","clipPath","filter","transform"]),Jte=wE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Zte(t){var u;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Jte()&&r&&Yte.has(r)&&(r!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const ere=40;class tre extends TE{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var x;super(),this.stop=()=>{var g,p;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(p=this.keyframeResolver)==null||p.cancel()},this.createdAt=La.now();const A={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||IE;this.keyframeResolver=new m(l,(g,p,f)=>this.onKeyframesResolved(g,p,A,!f),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=La.now(),Xte(e,i,o,l)||((Kl.instantAnimations||!c)&&(u==null||u(FE(e,n,r))),e[0]=e[e.length-1],N4(n),n.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ere?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!d&&Zte(A)?new Wte({...A,element:A.motionValue.owner.current}):new OE(A);m.finished.then(()=>this.notifyFinished()).catch(Ri),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Mte()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const rre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nre(t){const e=rre.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function U$(t,e,r=1){const[n,a]=nre(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return o$(o)?parseFloat(o):o}return SE(a)?U$(a,e,r+1):a}function DE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const R$=new Set(["width","height","top","left","right","bottom",...pf]),sre={test:t=>t==="auto",parse:t=>t},Q$=t=>e=>e.test(t),$$=[ff,Qt,Go,Pc,Gee,Wee,sre],WF=t=>$$.find(Q$(t));function are(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||c$(t):!0}const ire=new Set(["brightness","contrast","saturate","opacity"]);function ore(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(BE)||[];if(!n)return t;const a=r.replace(n,"");let i=ire.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const lre=/\b([a-z-]*)\(.*?\)/gu,_4={...vd,getAnimatableNone:t=>{const e=t.match(lre);return e?e.map(ore).join(" "):t}},GF={...ff,transform:Math.round},cre={rotate:Pc,rotateX:Pc,rotateY:Pc,rotateZ:Pc,scale:eb,scaleX:eb,scaleY:eb,scaleZ:eb,skew:Pc,skewX:Pc,skewY:Pc,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:h0,originX:DF,originY:DF,originZ:Qt},ME={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,radius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,backgroundPositionX:Qt,backgroundPositionY:Qt,...cre,zIndex:GF,fillOpacity:h0,strokeOpacity:h0,numOctaves:GF},dre={...ME,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:_4,WebkitFilter:_4},H$=t=>dre[t];function q$(t,e){let r=H$(t);return r!==_4&&(r=vd),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const ure=new Set(["auto","none","0"]);function hre(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!ure.has(i)&&A0(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=q$(r,a)}class Are extends IE{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),SE(d))){const u=U$(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!R$.has(n)||e.length!==2)return;const[a,i]=e,o=WF(a),l=WF(i);if(o!==l)if(qF(o)&&qF(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else $u[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||are(e[a]))&&n.push(a);n.length&&hre(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$u[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=$u[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function mre(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const z$=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function V$(t){return l$(t)&&"offsetHeight"in t}const XF=30,fre=t=>!isNaN(parseFloat(t));class pre{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=La.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=La.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fre(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new jE);const n=this.events[e].add(r);return e==="change"?()=>{n(),An.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=La.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,XF);return d$(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pm(t,e){return new pre(t,e)}const{schedule:LE}=v$(queueMicrotask,!1),io={x:!1,y:!1};function K$(){return io.x||io.y}function gre(t){return t==="x"||t==="y"?io[t]?null:(io[t]=!0,()=>{io[t]=!1}):io.x||io.y?null:(io.x=io.y=!0,()=>{io.x=io.y=!1})}function W$(t,e){const r=mre(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function YF(t){return!(t.pointerType==="touch"||K$())}function xre(t,e,r={}){const[n,a,i]=W$(t,r),o=l=>{if(!YF(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{YF(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const G$=(t,e)=>e?t===e?!0:G$(t,e.parentElement):!1,UE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yre=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bre(t){return yre.has(t.tagName)||t.tabIndex!==-1}const _v=new WeakSet;function JF(t){return e=>{e.key==="Enter"&&t(e)}}function y_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vre=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=JF(()=>{if(_v.has(r))return;y_(r,"down");const a=JF(()=>{y_(r,"up")}),i=()=>y_(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function ZF(t){return UE(t)&&!K$()}function wre(t,e,r={}){const[n,a,i]=W$(t,r),o=l=>{const c=l.currentTarget;if(!ZF(l))return;_v.add(c);const d=e(c,l),u=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",A),_v.has(c)&&_v.delete(c),ZF(m)&&typeof d=="function"&&d(m,{success:x})},h=m=>{u(m,c===window||c===document||r.useGlobalTarget||G$(c,m.target))},A=m=>{u(m,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",A,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),V$(l)&&(l.addEventListener("focus",d=>vre(d,a)),!bre(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function X$(t){return l$(t)&&"ownerSVGElement"in t}function jre(t){return X$(t)&&t.tagName==="svg"}const aa=t=>!!(t&&t.getVelocity),Nre=[...$$,Xn,vd],_re=t=>Nre.find(Q$(t)),RE=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function eT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cre(...t){return e=>{let r=!1;const n=t.map(a=>{const i=eT(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():eT(t[a],null)}}}}function Sre(...t){return B.useCallback(Cre(...t),t)}class Bre extends B.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=V$(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ere({children:t,isPresent:e,anchorX:r,root:n}){const a=B.useId(),i=B.useRef(null),o=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=B.useContext(RE),c=Sre(i,t==null?void 0:t.ref);return B.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:A,right:m}=o.current;if(e||!i.current||!d||!u)return;const x=r==="left"?`left: ${A}`:`right: ${m}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const p=n??document.head;return p.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{p.contains(g)&&p.removeChild(g)}},[e]),s.jsx(Bre,{isPresent:e,childRef:i,sizeRef:o,children:B.cloneElement(t,{ref:c})})}const kre=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=gE(Pre),u=B.useId();let h=!0,A=B.useMemo(()=>(h=!1,{id:u,initial:e,isPresent:r,custom:a,onExitComplete:m=>{d.set(m,!0);for(const x of d.values())if(!x)return;n&&n()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[r,d,n]);return i&&h&&(A={...A}),B.useMemo(()=>{d.forEach((m,x)=>d.set(x,!1))},[r]),B.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Ere,{isPresent:r,anchorX:l,root:c,children:t})),s.jsx(x2.Provider,{value:A,children:t})};function Pre(){return new Map}function Y$(t=!0){const e=B.useContext(x2);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=B.useId();B.useEffect(()=>{if(t)return a(i)},[t]);const o=B.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const tb=t=>t.key||"";function tT(t){const e=[];return B.Children.forEach(t,r=>{B.isValidElement(r)&&e.push(r)}),e}const lt=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=Y$(o),h=B.useMemo(()=>tT(t),[t]),A=o&&!d?[]:h.map(tb),m=B.useRef(!0),x=B.useRef(h),g=gE(()=>new Map),[p,f]=B.useState(h),[y,b]=B.useState(h);i$(()=>{m.current=!1,x.current=h;for(let C=0;C<y.length;C++){const P=tb(y[C]);A.includes(P)?g.delete(P):g.get(P)!==!0&&g.set(P,!1)}},[y,A.length,A.join("-")]);const N=[];if(h!==p){let C=[...h];for(let P=0;P<y.length;P++){const _=y[P],k=tb(_);A.includes(k)||(C.splice(P,0,_),N.push(_))}return i==="wait"&&N.length&&(C=N),b(tT(C)),f(h),null}const{forceRender:v}=B.useContext(pE);return s.jsx(s.Fragment,{children:y.map(C=>{const P=tb(C),_=o&&!d?!1:h===y||A.includes(P),k=()=>{if(g.has(P))g.set(P,!0);else return;let M=!0;g.forEach(j=>{j||(M=!1)}),M&&(v==null||v(),b(x.current),o&&(u==null||u()),n&&n())};return s.jsx(kre,{isPresent:_,initial:!m.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:_?void 0:k,anchorX:l,children:C},P)})})},J$=B.createContext({strict:!1}),rT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fm={};for(const t in rT)Fm[t]={isEnabled:e=>rT[t].some(r=>!!e[r])};function Fre(t){for(const e in t)Fm[e]={...Fm[e],...t[e]}}const Tre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ww(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Tre.has(t)}let Z$=t=>!ww(t);function Ore(t){typeof t=="function"&&(Z$=e=>e.startsWith("on")?!ww(e):t(e))}try{Ore(require("@emotion/is-prop-valid").default)}catch{}function Ire(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(Z$(a)||r===!0&&ww(a)||!e&&!ww(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const y2=B.createContext({});function b2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function m0(t){return typeof t=="string"||Array.isArray(t)}const QE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$E=["initial",...QE];function v2(t){return b2(t.animate)||$E.some(e=>m0(t[e]))}function e9(t){return!!(v2(t)||t.variants)}function Dre(t,e){if(v2(t)){const{initial:r,animate:n}=t;return{initial:r===!1||m0(r)?r:void 0,animate:m0(n)?n:void 0}}return t.inherit!==!1?e:{}}function Mre(t){const{initial:e,animate:r}=Dre(t,B.useContext(y2));return B.useMemo(()=>({initial:e,animate:r}),[nT(e),nT(r)])}function nT(t){return Array.isArray(t)?t.join(" "):t}const f0={};function Lre(t){for(const e in t)f0[e]=t[e],CE(e)&&(f0[e].isCSSVariable=!0)}function t9(t,{layout:e,layoutId:r}){return gf.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!f0[t]||t==="opacity")}const Ure={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Rre=pf.length;function Qre(t,e,r){let n="",a=!0;for(let i=0;i<Rre;i++){const o=pf[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=z$(l,ME[o]);if(!c){a=!1;const u=Ure[o]||o;n+=`${u}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function HE(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(gf.has(c)){o=!0;continue}else if(CE(c)){a[c]=d;continue}else{const u=z$(d,ME[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(e.transform||(o||r?n.transform=Qre(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const qE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r9(t,e,r){for(const n in e)!aa(e[n])&&!t9(n,r)&&(t[n]=e[n])}function $re({transformTemplate:t},e){return B.useMemo(()=>{const r=qE();return HE(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Hre(t,e){const r=t.style||{},n={};return r9(n,r,t),Object.assign(n,$re(t,e)),n}function qre(t,e){const r={},n=Hre(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const zre={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vre={offset:"strokeDashoffset",array:"strokeDasharray"};function Kre(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?zre:Vre;t[i.offset]=Qt.transform(-n);const o=Qt.transform(e),l=Qt.transform(r);t[i.array]=`${o} ${l}`}function n9(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(HE(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:A}=t;h.transform&&(A.transform=h.transform,delete h.transform),(A.transform||h.transformOrigin)&&(A.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),A.transform&&(A.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&Kre(h,a,i,o,!1)}const s9=()=>({...qE(),attrs:{}}),a9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Wre(t,e,r,n){const a=B.useMemo(()=>{const i=s9();return n9(i,e,a9(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};r9(i,t.style,t),a.style={...i,...a.style}}return a}const Gre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zE(t){return typeof t!="string"||t.includes("-")?!1:!!(Gre.indexOf(t)>-1||/[A-Z]/u.test(t))}function Xre(t,e,r,{latestValues:n},a,i=!1){const l=(zE(t)?Wre:qre)(e,n,a,t),c=Ire(e,typeof t=="string",i),d=t!==B.Fragment?{...c,...l,ref:r}:{},{children:u}=e,h=B.useMemo(()=>aa(u)?u.get():u,[u]);return B.createElement(t,{...d,children:h})}function sT(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function VE(t,e,r,n){if(typeof e=="function"){const[a,i]=sT(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=sT(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function Cv(t){return aa(t)?t.get():t}function Yre({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:Jre(r,n,a,t),renderState:e()}}function Jre(t,e,r,n){const a={},i=n(t,{});for(const A in i)a[A]=Cv(i[A]);let{initial:o,animate:l}=t;const c=v2(t),d=e9(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!b2(h)){const A=Array.isArray(h)?h:[h];for(let m=0;m<A.length;m++){const x=VE(t,A[m]);if(x){const{transitionEnd:g,transition:p,...f}=x;for(const y in f){let b=f[y];if(Array.isArray(b)){const N=u?b.length-1:0;b=b[N]}b!==null&&(a[y]=b)}for(const y in g)a[y]=g[y]}}}return a}const i9=t=>(e,r)=>{const n=B.useContext(y2),a=B.useContext(x2),i=()=>Yre(t,e,n,a);return r?i():gE(i)};function KE(t,e,r){var i;const{style:n}=t,a={};for(const o in n)(aa(n[o])||e.style&&aa(e.style[o])||t9(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Zre=i9({scrapeMotionValuesFromProps:KE,createRenderState:qE});function o9(t,e,r){const n=KE(t,e,r);for(const a in t)if(aa(t[a])||aa(e[a])){const i=pf.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const ene=i9({scrapeMotionValuesFromProps:o9,createRenderState:s9}),tne=Symbol.for("motionComponentSymbol");function UA(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rne(t,e,r){return B.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):UA(r)&&(r.current=n))},[e])}const WE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nne="framerAppearId",l9="data-"+WE(nne),c9=B.createContext({});function sne(t,e,r,n,a){var g,p;const{visualElement:i}=B.useContext(y2),o=B.useContext(J$),l=B.useContext(x2),c=B.useContext(RE).reducedMotion,d=B.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=B.useContext(c9);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&ane(d.current,r,a,h);const A=B.useRef(!1);B.useInsertionEffect(()=>{u&&A.current&&u.update(r,l)});const m=r[l9],x=B.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((p=window.MotionHasOptimisedAnimation)==null?void 0:p.call(window,m)));return i$(()=>{u&&(A.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),B.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var f;(f=window.MotionHandoffMarkAsComplete)==null||f.call(window,m)}),x.current=!1),u.enteringChildren=void 0)}),u}function ane(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:d9(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&UA(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function d9(t){if(t)return t.options.allowProjection!==!1?t.projection:d9(t.parent)}function b_(t,{forwardMotionProps:e=!1}={},r,n){r&&Fre(r);const a=zE(t)?ene:Zre;function i(l,c){let d;const u={...B.useContext(RE),...l,layoutId:ine(l)},{isStatic:h}=u,A=Mre(l),m=a(l,h);if(!h&&xE){one();const x=lne(u);d=x.MeasureLayout,A.visualElement=sne(t,m,u,n,x.ProjectionNode)}return s.jsxs(y2.Provider,{value:A,children:[d&&A.visualElement?s.jsx(d,{visualElement:A.visualElement,...u}):null,Xre(t,l,rne(m,A.visualElement,c),m,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=B.forwardRef(i);return o[tne]=t,o}function ine({layoutId:t}){const e=B.useContext(pE).id;return e&&t!==void 0?e+"-"+t:t}function one(t,e){B.useContext(J$).strict}function lne(t){const{drag:e,layout:r}=Fm;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function cne(t,e){if(typeof Proxy>"u")return b_;const r=new Map,n=(i,o)=>b_(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,b_(o,void 0,t,e)),r.get(o))})}function u9({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function dne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function une(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function v_(t){return t===void 0||t===1}function C4({scale:t,scaleX:e,scaleY:r}){return!v_(t)||!v_(e)||!v_(r)}function hu(t){return C4(t)||h9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function h9(t){return aT(t.x)||aT(t.y)}function aT(t){return t&&t!=="0%"}function jw(t,e,r){const n=t-r,a=e*n;return r+a}function iT(t,e,r,n,a){return a!==void 0&&(t=jw(t,a,n)),jw(t,r,n)+e}function S4(t,e=0,r=1,n,a){t.min=iT(t.min,e,r,n,a),t.max=iT(t.max,e,r,n,a)}function A9(t,{x:e,y:r}){S4(t.x,e.translate,e.scale,e.originPoint),S4(t.y,r.translate,r.scale,r.originPoint)}const oT=.999999999999,lT=1.0000000000001;function hne(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&QA(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,A9(t,o)),n&&hu(i.latestValues)&&QA(t,i.latestValues))}e.x<lT&&e.x>oT&&(e.x=1),e.y<lT&&e.y>oT&&(e.y=1)}function RA(t,e){t.min=t.min+e,t.max=t.max+e}function cT(t,e,r,n,a=.5){const i=xn(t.min,t.max,a);S4(t,e,r,i,n)}function QA(t,e){cT(t.x,e.x,e.scaleX,e.scale,e.originX),cT(t.y,e.y,e.scaleY,e.scale,e.originY)}function m9(t,e){return u9(une(t.getBoundingClientRect(),e))}function Ane(t,e,r){const n=m9(t,r),{scroll:a}=e;return a&&(RA(n.x,a.offset.x),RA(n.y,a.offset.y)),n}const dT=()=>({translate:0,scale:1,origin:0,originPoint:0}),$A=()=>({x:dT(),y:dT()}),uT=()=>({min:0,max:0}),Tn=()=>({x:uT(),y:uT()}),B4={current:null},f9={current:!1};function mne(){if(f9.current=!0,!!xE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>B4.current=t.matches;t.addEventListener("change",e),e()}else B4.current=!1}const fne=new WeakMap;function pne(t,e,r){for(const n in e){const a=e[n],i=r[n];if(aa(a))t.addValue(n,a);else if(aa(i))t.addValue(n,Pm(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,Pm(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const hT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gne{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=IE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=La.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,An.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=v2(r),this.isVariantNode=e9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const A in h){const m=h[A];c[A]!==void 0&&aa(m)&&m.set(c[A])}}mount(e){var r;this.current=e,fne.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),f9.current||mne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:B4.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),bd(this.notifyUpdate),bd(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=gf.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&An.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fm){const r=Fm[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<hT.length;n++){const a=hT[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=pne(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Pm(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(o$(n)||c$(n))?n=parseFloat(n):!_re(n)&&vd.test(r)&&(n=q$(e,r)),this.setBaseTarget(e,aa(n)?n.get():n)),aa(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=VE(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!aa(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new jE),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){LE.render(this.render)}}class p9 extends gne{constructor(){super(...arguments),this.KeyframeResolver=Are}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;aa(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function g9(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function xne(t){return window.getComputedStyle(t)}class yne extends p9{constructor(){super(...arguments),this.type="html",this.renderInstance=g9}readValueFromInstance(e,r){var n;if(gf.has(r))return(n=this.projection)!=null&&n.isProjecting?y4(r):Fte(e,r);{const a=xne(e),i=(CE(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return m9(e,r)}build(e,r,n){HE(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return KE(e,r,n)}}const x9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bne(t,e,r,n){g9(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(x9.has(a)?a:WE(a),e.attrs[a])}class vne extends p9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(gf.has(r)){const n=H$(r);return n&&n.default||0}return r=x9.has(r)?r:WE(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return o9(e,r,n)}build(e,r,n){n9(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){bne(e,r,n,a)}mount(e){this.isSVGTag=a9(e.tagName),super.mount(e)}}const wne=(t,e)=>zE(t)?new vne(e):new yne(e,{allowProjection:t!==B.Fragment});function am(t,e,r){const n=t.getProps();return VE(n,e,r!==void 0?r:n.custom,t)}const E4=t=>Array.isArray(t);function jne(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Pm(r))}function Nne(t){return E4(t)?t[t.length-1]||0:t}function _ne(t,e){const r=am(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Nne(i[o]);jne(t,o,l)}}function Cne(t){return!!(aa(t)&&t.add)}function k4(t,e){const r=t.getValue("willChange");if(Cne(r))return r.add(e);if(!r&&Kl.WillChange){const n=new Kl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function y9(t){return t.props[l9]}const Sne=t=>t!==null;function Bne(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(Sne),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Ene={type:"spring",stiffness:500,damping:25,restSpeed:10},kne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pne={type:"keyframes",duration:.8},Fne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tne=(t,{keyframes:e})=>e.length>2?Pne:gf.has(t)?t.startsWith("scale")?kne(e[1]):Ene:Fne;function One({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const GE=(t,e,r,n={},a,i)=>o=>{const l=DE(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Wo(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:A=>{e.set(A),l.onUpdate&&l.onUpdate(A)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};One(l)||Object.assign(u,Tne(t,u)),u.duration&&(u.duration=Wo(u.duration)),u.repeatDelay&&(u.repeatDelay=Wo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(N4(u),u.delay===0&&(h=!0)),(Kl.instantAnimations||Kl.skipAnimations)&&(h=!0,N4(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const A=Bne(u.keyframes,l);if(A!==void 0){An.update(()=>{u.onUpdate(A),u.onComplete()});return}}return l.isSync?new OE(u):new tre(u)};function Ine({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function b9(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),A=l[u];if(A===void 0||d&&Ine(d,u))continue;const m={delay:r,...DE(i||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(A)&&A===x&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const f=y9(t);if(f){const y=window.MotionHandoffAnimation(f,u,An);y!==null&&(m.startTime=y,g=!0)}}k4(t,u),h.start(GE(u,h,A,t.shouldReduceMotion&&R$.has(u)?{type:!1}:m,t,g));const p=h.animation;p&&c.push(p)}return o&&Promise.all(c).then(()=>{An.update(()=>{o&&_ne(t,o)})}),c}function v9(t,e,r,n=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function P4(t,e,r={}){var c;const n=am(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(b9(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:A}=a;return Dne(t,e,d,u,h,A,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function Dne(t,e,r=0,n=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(P4(c,e,{...o,delay:r+(typeof n=="function"?0:n)+v9(t.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Mne(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>P4(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=P4(t,e,r);else{const a=typeof e=="function"?am(t,e,r.custom):e;n=Promise.all(b9(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function w9(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Lne=$E.length;function j9(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?j9(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Lne;r++){const n=$E[r],a=t.props[n];(m0(a)||a===!1)&&(e[n]=a)}return e}const Une=[...QE].reverse(),Rne=QE.length;function Qne(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Mne(t,r,n)))}function $ne(t){let e=Qne(t),r=AT(),n=!0;const a=c=>(d,u)=>{var A;const h=am(t,u,c==="exit"?(A=t.presenceContext)==null?void 0:A.custom:void 0);if(h){const{transition:m,transitionEnd:x,...g}=h;d={...d,...g,...x}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=j9(t.parent)||{},h=[],A=new Set;let m={},x=1/0;for(let p=0;p<Rne;p++){const f=Une[p],y=r[f],b=d[f]!==void 0?d[f]:u[f],N=m0(b),v=f===c?y.isActive:null;v===!1&&(x=p);let C=b===u[f]&&b!==d[f]&&N;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...m},!y.isActive&&v===null||!b&&!y.prevProp||b2(b)||typeof b=="boolean")continue;const P=Hne(y.prevProp,b);let _=P||f===c&&y.isActive&&!C&&N||p>x&&N,k=!1;const M=Array.isArray(b)?b:[b];let j=M.reduce(a(f),{});v===!1&&(j={});const{prevResolvedValues:S={}}=y,F={...S,...j},O=z=>{_=!0,A.has(z)&&(k=!0,A.delete(z)),y.needsAnimating[z]=!0;const R=t.getValue(z);R&&(R.liveStyle=!1)};for(const z in F){const R=j[z],I=S[z];if(m.hasOwnProperty(z))continue;let K=!1;E4(R)&&E4(I)?K=!w9(R,I):K=R!==I,K?R!=null?O(z):A.add(z):R!==void 0&&A.has(z)?O(z):y.protectedKeys[z]=!0}y.prevProp=b,y.prevResolvedValues=j,y.isActive&&(m={...m,...j}),n&&t.blockInitialAnimation&&(_=!1);const H=C&&P;_&&(!H||k)&&h.push(...M.map(z=>{const R={type:f};if(typeof z=="string"&&n&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:I}=t,K=am(I,z);if(I.enteringChildren&&K){const{delayChildren:te}=K.transition||{};R.delay=v9(I.enteringChildren,t,te)}}return{animation:z,options:R}}))}if(A.size){const p={};if(typeof d.initial!="boolean"){const f=am(t,Array.isArray(d.initial)?d.initial[0]:d.initial);f&&f.transition&&(p.transition=f.transition)}A.forEach(f=>{const y=t.getBaseTarget(f),b=t.getValue(f);b&&(b.liveStyle=!0),p[f]=y??null}),h.push({animation:p})}let g=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(g=!1),n=!1,g?e(h):Promise.resolve()}function l(c,d){var h;if(r[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(A=>{var m;return(m=A.animationState)==null?void 0:m.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const A in r)r[A].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=AT()}}}function Hne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!w9(e,t):!1}function eu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AT(){return{animate:eu(!0),whileInView:eu(),whileHover:eu(),whileTap:eu(),whileDrag:eu(),whileFocus:eu(),exit:eu()}}class Dd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qne extends Dd{constructor(e){super(e),e.animationState||(e.animationState=$ne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();b2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zne=0;class Vne extends Dd{constructor(){super(...arguments),this.id=zne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Kne={animation:{Feature:qne},exit:{Feature:Vne}};function p0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Cx(t){return{point:{x:t.pageX,y:t.pageY}}}const Wne=t=>e=>UE(e)&&t(e,Cx(e));function bg(t,e,r,n){return p0(t,e,Wne(r),n)}const N9=1e-4,Gne=1-N9,Xne=1+N9,_9=.01,Yne=0-_9,Jne=0+_9;function pa(t){return t.max-t.min}function Zne(t,e,r){return Math.abs(t-e)<=r}function mT(t,e,r,n=.5){t.origin=n,t.originPoint=xn(e.min,e.max,t.origin),t.scale=pa(r)/pa(e),t.translate=xn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Gne&&t.scale<=Xne||isNaN(t.scale))&&(t.scale=1),(t.translate>=Yne&&t.translate<=Jne||isNaN(t.translate))&&(t.translate=0)}function vg(t,e,r,n){mT(t.x,e.x,r.x,n?n.originX:void 0),mT(t.y,e.y,r.y,n?n.originY:void 0)}function fT(t,e,r){t.min=r.min+e.min,t.max=t.min+pa(e)}function ese(t,e,r){fT(t.x,e.x,r.x),fT(t.y,e.y,r.y)}function pT(t,e,r){t.min=e.min-r.min,t.max=t.min+pa(e)}function wg(t,e,r){pT(t.x,e.x,r.x),pT(t.y,e.y,r.y)}function _i(t){return[t("x"),t("y")]}const C9=({current:t})=>t?t.ownerDocument.defaultView:null,gT=(t,e)=>Math.abs(t-e);function tse(t,e){const r=gT(t.x,e.x),n=gT(t.y,e.y);return Math.sqrt(r**2+n**2)}class S9{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=j_(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=tse(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!x)return;const{point:g}=A,{timestamp:p}=Is;this.history.push({...g,timestamp:p});const{onStart:f,onMove:y}=this.handlers;m||(f&&f(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,A)},this.handlePointerMove=(A,m)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=w_(m,this.transformPagePoint),An.update(this.updatePoint,!0)},this.handlePointerUp=(A,m)=>{this.end();const{onEnd:x,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=j_(A.type==="pointercancel"?this.lastMoveEventInfo:w_(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(A,f),g&&g(A,f)},!UE(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Cx(e),c=w_(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Is;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(e,j_(c,this.history)),this.removeListeners=jx(bg(this.contextWindow,"pointermove",this.handlePointerMove),bg(this.contextWindow,"pointerup",this.handlePointerUp),bg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bd(this.updatePoint)}}function w_(t,e){return e?{point:e(t.point)}:t}function xT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function j_({point:t},e){return{point:t,delta:xT(t,B9(e)),offset:xT(t,rse(e)),velocity:nse(e,.1)}}function rse(t){return t[0]}function B9(t){return t[t.length-1]}function nse(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=B9(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Wo(e)));)r--;if(!n)return{x:0,y:0};const i=Oi(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sse(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?xn(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?xn(r,t,n.max):Math.min(t,r)),t}function yT(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function ase(t,{top:e,left:r,bottom:n,right:a}){return{x:yT(t.x,r,a),y:yT(t.y,e,n)}}function bT(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function ise(t,e){return{x:bT(t.x,e.x),y:bT(t.y,e.y)}}function ose(t,e){let r=.5;const n=pa(t),a=pa(e);return a>n?r=u0(e.min,e.max-n,t.min):n>a&&(r=u0(t.min,t.max-a,e.min)),Vl(0,1,r)}function lse(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const F4=.35;function cse(t=F4){return t===!1?t=0:t===!0&&(t=F4),{x:vT(t,"left","right"),y:vT(t,"top","bottom")}}function vT(t,e,r){return{min:wT(t,e),max:wT(t,r)}}function wT(t,e){return typeof t=="number"?t:t[e]||0}const dse=new WeakMap;class use{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Cx(h).point)},o=(h,A)=>{const{drag:m,dragPropagation:x,onDragStart:g}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gre(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(f=>{let y=this.getAxisMotionValue(f).get()||0;if(Go.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const N=b.layout.layoutBox[f];N&&(y=pa(N)*(parseFloat(y)/100))}}this.originPoint[f]=y}),g&&An.postRender(()=>g(h,A)),k4(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},l=(h,A)=>{this.latestPointerEvent=h,this.latestPanInfo=A;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:g,onDrag:p}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:f}=A;if(x&&this.currentDirection===null){this.currentDirection=hse(f),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",A.point,f),this.updateAxis("y",A.point,f),this.visualElement.render(),p&&p(h,A)},c=(h,A)=>{this.latestPointerEvent=h,this.latestPanInfo=A,this.stop(h,A),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>_i(h=>{var A;return this.getAnimationState(h)==="paused"&&((A=this.getAxisMotionValue(h).animation)==null?void 0:A.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new S9(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:C9(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&An.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!rb(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=sse(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&UA(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=ase(n.layoutBox,e):this.constraints=!1,this.elastic=cse(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&_i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=lse(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!UA(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Ane(n,a.root,this.visualElement.getTransformPagePoint());let o=ise(a.layout.layoutBox,i);if(r){const l=r(dne(o));this.hasMutatedConstraints=!!l,l&&(o=u9(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=_i(u=>{if(!rb(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const A=a?200:1e6,m=a?40:1e7,x={type:"inertia",velocity:n?e[u]:0,bounceStiffness:A,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return k4(this.visualElement,e),n.start(GE(e,n,0,r,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){_i(r=>{const{drag:n}=this.getProps();if(!rb(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-xn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!UA(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_i(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=ose({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),_i(o=>{if(!rb(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(xn(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;dse.set(this.visualElement,this);const e=this.visualElement.current,r=bg(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();UA(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),An.read(n);const o=p0(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(_i(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=F4,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function rb(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function hse(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Ase extends Dd{constructor(e){super(e),this.removeGroupControls=Ri,this.removeListeners=Ri,this.controls=new use(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const jT=t=>(e,r)=>{t&&An.postRender(()=>t(e,r))};class mse extends Dd{constructor(){super(...arguments),this.removePointerDownListener=Ri}onPointerDown(e){this.session=new S9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:jT(e),onStart:jT(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&An.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=bg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Qt.test(t))t=parseFloat(t);else return t;const r=NT(t,e.target.x),n=NT(t,e.target.y);return`${r}% ${n}%`}},fse={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=vd.parse(t);if(a.length>5)return n;const i=vd.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=xn(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let N_=!1;class pse extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;Lre(gse),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),N_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Sv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,N_=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||An.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),LE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;N_=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function E9(t){const[e,r]=Y$(),n=B.useContext(pE);return s.jsx(pse,{...t,layoutGroup:n,switchLayoutGroup:B.useContext(c9),isPresent:e,safeToRemove:r})}const gse={borderRadius:{...bp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bp,borderTopRightRadius:bp,borderBottomLeftRadius:bp,borderBottomRightRadius:bp,boxShadow:fse};function xse(t,e,r){const n=aa(t)?t:Pm(t);return n.start(GE("",n,e,r)),n.animation}const yse=(t,e)=>t.depth-e.depth;class bse{constructor(){this.children=[],this.isDirty=!1}add(e){yE(this.children,e),this.isDirty=!0}remove(e){bE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yse),this.isDirty=!1,this.children.forEach(e)}}function vse(t,e){const r=La.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(bd(n),t(i-e))};return An.setup(n,!0),()=>bd(n)}const k9=["TopLeft","TopRight","BottomLeft","BottomRight"],wse=k9.length,_T=t=>typeof t=="string"?parseFloat(t):t,CT=t=>typeof t=="number"||Qt.test(t);function jse(t,e,r,n,a,i){a?(t.opacity=xn(0,r.opacity??1,Nse(n)),t.opacityExit=xn(e.opacity??1,0,_se(n))):i&&(t.opacity=xn(e.opacity??1,r.opacity??1,n));for(let o=0;o<wse;o++){const l=`border${k9[o]}Radius`;let c=ST(e,l),d=ST(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||CT(c)===CT(d)?(t[l]=Math.max(xn(_T(c),_T(d),n),0),(Go.test(d)||Go.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=xn(e.rotate||0,r.rotate||0,n))}function ST(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nse=P9(0,.5,g$),_se=P9(.5,.95,Ri);function P9(t,e,r){return n=>n<t?0:n>e?1:r(u0(t,e,n))}function BT(t,e){t.min=e.min,t.max=e.max}function bi(t,e){BT(t.x,e.x),BT(t.y,e.y)}function ET(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kT(t,e,r,n,a){return t-=e,t=jw(t,1/r,n),a!==void 0&&(t=jw(t,1/a,n)),t}function Cse(t,e=0,r=1,n=.5,a,i=t,o=t){if(Go.test(e)&&(e=parseFloat(e),e=xn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=xn(i.min,i.max,n);t===i&&(l-=e),t.min=kT(t.min,e,r,l,a),t.max=kT(t.max,e,r,l,a)}function PT(t,e,[r,n,a],i,o){Cse(t,e[r],e[n],e[a],e.scale,i,o)}const Sse=["x","scaleX","originX"],Bse=["y","scaleY","originY"];function FT(t,e,r,n){PT(t.x,e,Sse,r?r.x:void 0,n?n.x:void 0),PT(t.y,e,Bse,r?r.y:void 0,n?n.y:void 0)}function TT(t){return t.translate===0&&t.scale===1}function F9(t){return TT(t.x)&&TT(t.y)}function OT(t,e){return t.min===e.min&&t.max===e.max}function Ese(t,e){return OT(t.x,e.x)&&OT(t.y,e.y)}function IT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function T9(t,e){return IT(t.x,e.x)&&IT(t.y,e.y)}function DT(t){return pa(t.x)/pa(t.y)}function MT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kse{constructor(){this.members=[]}add(e){yE(this.members,e),e.scheduleRender()}remove(e){if(bE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pse(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:A,skewX:m,skewY:x}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),A&&(n+=`rotateY(${A}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const __=["","X","Y","Z"],Fse=1e3;let Tse=0;function C_(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function O9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=y9(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",An,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&O9(n)}function I9({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Tse++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Dse),this.nodes.forEach(Rse),this.nodes.forEach(Qse),this.nodes.forEach(Mse)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new bse)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=X$(o)&&!jre(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,h=0;const A=()=>this.root.updateBlockedByResize=!1;An.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=vse(A,250),Sv.hasAnimatedSinceResize&&(Sv.hasAnimatedSinceResize=!1,this.nodes.forEach(RT)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:A,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Vse,{onLayoutAnimationStart:g,onLayoutAnimationComplete:p}=d.getProps(),f=!this.targetLayout||!T9(this.targetLayout,m),y=!h&&A;if(this.options.layoutRoot||this.resumeFrom||y||h&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...DE(x,"layout"),onPlay:g,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,y)}else h||RT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($se),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(UT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Use),this.nodes.forEach(Ose),this.nodes.forEach(Ise)):this.nodes.forEach(UT),this.clearAllSnapshots();const l=La.now();Is.delta=Vl(0,1e3/60,l-Is.timestamp),Is.timestamp=l,Is.isProcessing=!0,m_.update.process(Is),m_.preRender.process(Is),m_.render.process(Is),Is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,LE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Lse),this.sharedNodes.forEach(Hse)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,An.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){An.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pa(this.snapshot.measuredBox.x)&&!pa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!F9(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||hu(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Kse(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Tn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Wse))){const{scroll:u}=this.root;u&&(RA(l.x,u.offset.x),RA(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Tn();if(bi(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:A}=u;u!==this.root&&h&&A.layoutScroll&&(h.wasRoot&&bi(l,o),RA(l.x,h.offset.x),RA(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Tn();bi(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&QA(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hu(u.latestValues)&&QA(c,u.latestValues)}return hu(this.latestValues)&&QA(c,this.latestValues),c}removeTransform(o){const l=Tn();bi(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!hu(d.latestValues))continue;C4(d.latestValues)&&d.updateSnapshot();const u=Tn(),h=d.measurePageBox();bi(u,h),FT(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return hu(this.latestValues)&&FT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var A;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Is.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),wg(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ese(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),A9(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),wg(this.relativeTargetOrigin,this.target,m.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||C4(this.parent.latestValues)||h9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Is.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;bi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,A=this.treeScale.y;hne(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Tn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ET(this.prevProjectionDelta.x,this.projectionDelta.x),ET(this.prevProjectionDelta.y,this.projectionDelta.y)),vg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==A||!MT(this.projectionDelta.x,this.prevProjectionDelta.x)||!MT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$A(),this.projectionDelta=$A(),this.projectionDeltaWithTransform=$A()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=$A();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const A=Tn(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=m!==x,p=this.getStack(),f=!p||p.members.length<=1,y=!!(g&&!f&&this.options.crossfade===!0&&!this.path.some(zse));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const v=N/1e3;QT(h.x,o.x,v),QT(h.y,o.y,v),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wg(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qse(this.relativeTarget,this.relativeTargetOrigin,A,v),b&&Ese(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Tn()),bi(b,this.relativeTarget)),g&&(this.animationValues=u,jse(u,d,this.latestValues,v,y,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(bd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=An.update(()=>{Sv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pm(0)),this.currentAnimation=xse(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fse),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&D9(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Tn();const h=pa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const A=pa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+A}bi(l,c),QA(l,u),vg(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kse),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&C_("z",o,d,this.animationValues);for(let u=0;u<__.length;u++)C_(`rotate${__[u]}`,o,d,this.animationValues),C_(`skew${__[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Cv(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Cv(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Pse(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:A,y:m}=this.projectionDelta;o.transformOrigin=`${A.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in f0){if(u[x]===void 0)continue;const{correct:g,applyTo:p,isCSSVariable:f}=f0[x],y=h==="none"?u[x]:g(u[x],d);if(p){const b=p.length;for(let N=0;N<b;N++)o[p[N]]=y}else f?this.options.visualElement.renderState.vars[x]=y:o[x]=y}this.options.layoutId&&(o.pointerEvents=d===this?Cv(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(LT),this.root.sharedNodes.clear()}}}function Ose(t){t.updateLayout()}function Ise(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?_i(h=>{const A=o?e.measuredBox[h]:e.layoutBox[h],m=pa(A);A.min=n[h].min,A.max=A.min+m}):D9(i,e.layoutBox,n)&&_i(h=>{const A=o?e.measuredBox[h]:e.layoutBox[h],m=pa(n[h]);A.max=A.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=$A();vg(l,n,e.layoutBox);const c=$A();o?vg(c,t.applyTransform(a,!0),e.measuredBox):vg(c,n,e.layoutBox);const d=!F9(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:A,layout:m}=h;if(A&&m){const x=Tn();wg(x,e.layoutBox,A.layoutBox);const g=Tn();wg(g,n,m.layoutBox),T9(x,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Dse(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Mse(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Lse(t){t.clearSnapshot()}function LT(t){t.clearMeasurements()}function UT(t){t.isLayoutDirty=!1}function Use(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rse(t){t.resolveTargetDelta()}function Qse(t){t.calcProjection()}function $se(t){t.resetSkewAndRotation()}function Hse(t){t.removeLeadSnapshot()}function QT(t,e,r){t.translate=xn(e.translate,0,r),t.scale=xn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function $T(t,e,r,n){t.min=xn(e.min,r.min,n),t.max=xn(e.max,r.max,n)}function qse(t,e,r,n){$T(t.x,e.x,r.x,n),$T(t.y,e.y,r.y,n)}function zse(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Vse={duration:.45,ease:[.4,0,.1,1]},HT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qT=HT("applewebkit/")&&!HT("chrome/")?Math.round:Ri;function zT(t){t.min=qT(t.min),t.max=qT(t.max)}function Kse(t){zT(t.x),zT(t.y)}function D9(t,e,r){return t==="position"||t==="preserve-aspect"&&!Zne(DT(e),DT(r),.2)}function Wse(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Gse=I9({attachResizeListener:(t,e)=>p0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),S_={current:void 0},M9=I9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!S_.current){const t=new Gse({});t.mount(window),t.setOptions({layoutScroll:!0}),S_.current=t}return S_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xse={pan:{Feature:mse},drag:{Feature:Ase,ProjectionNode:M9,MeasureLayout:E9}};function VT(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&An.postRender(()=>i(e,Cx(e)))}class Yse extends Dd{mount(){const{current:e}=this.node;e&&(this.unmount=xre(e,(r,n)=>(VT(this.node,n,"Start"),a=>VT(this.node,a,"End"))))}unmount(){}}class Jse extends Dd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jx(p0(this.node.current,"focus",()=>this.onFocus()),p0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KT(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&An.postRender(()=>i(e,Cx(e)))}class Zse extends Dd{mount(){const{current:e}=this.node;e&&(this.unmount=wre(e,(r,n)=>(KT(this.node,n,"Start"),(a,{success:i})=>KT(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const T4=new WeakMap,B_=new WeakMap,eae=t=>{const e=T4.get(t.target);e&&e(t)},tae=t=>{t.forEach(eae)};function rae({root:t,...e}){const r=t||document;B_.has(r)||B_.set(r,{});const n=B_.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(tae,{root:t,...e})),n[a]}function nae(t,e,r){const n=rae(e);return T4.set(t,r),n.observe(t),()=>{T4.delete(t),n.unobserve(t)}}const sae={some:0,all:1};class aae extends Dd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:sae[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),A=d?u:h;A&&A(c)};return nae(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(iae(e,r))&&this.startObserver()}unmount(){}}function iae({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const oae={inView:{Feature:aae},tap:{Feature:Zse},focus:{Feature:Jse},hover:{Feature:Yse}},lae={layout:{ProjectionNode:M9,MeasureLayout:E9}},cae={...Kne,...oae,...Xse,...lae},se=cne(cae,wne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uae=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),WT=t=>{const e=uae(t);return e.charAt(0).toUpperCase()+e.slice(1)},L9=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),hae=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>B.createElement("svg",{ref:c,...Aae,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:L9("lucide",a),...!i&&!hae(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>B.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const r=B.forwardRef(({className:n,...a},i)=>B.createElement(mae,{ref:i,iconNode:e,className:L9(`lucide-${dae(WT(t))}`,`lucide-${t}`,n),...a}));return r.displayName=WT(t),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dd=Ie("activity",fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],O4=Ie("archive",pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],XE=Ie("arrow-down-right",gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],w2=Ie("arrow-down",xae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ac=Ie("arrow-left",yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ci=Ie("arrow-right",bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],j2=Ie("arrow-up-right",vae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],im=Ie("arrow-up",wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],YE=Ie("award",jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],om=Ie("bell",Nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Cae=Ie("book",_ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],nb=Ie("bot",Sae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],lm=Ie("brain",Bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],kae=Ie("briefcase",Eae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],$o=Ie("building-2",Pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],qu=Ie("building",Fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],I4=Ie("calculator",Tae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lr=Ie("calendar",Oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Bv=Ie("camera",Iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],U9=Ie("car",Dae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],Pu=Ie("chart-bar",Mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Cs=Ie("chart-column",Lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]],GT=Ie("chart-gantt",Uae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],R9=Ie("chart-line",Rae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ev=Ie("chart-pie",Qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Hae=Ie("check-check",$ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mr=Ie("check",qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ai=Ie("chevron-down",zae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Nw=Ie("chevron-left",Vae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N2=Ie("chevron-right",Kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xo=Ie("chevron-up",Wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rn=Ie("circle-alert",Gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ca=Ie("circle-check-big",Xae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],es=Ie("circle-check",Yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Zae=Ie("circle-pause",Jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JE=Ie("circle-play",eie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rie=Ie("circle-question-mark",tie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],sie=Ie("circle-user",nie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],g0=Ie("circle-x",aie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ud=Ie("circle",iie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],wa=Ie("clipboard-list",oie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dt=Ie("clock",lie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Q9=Ie("cloud",cie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],uie=Ie("code",die);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Aie=Ie("command",hie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Wl=Ie("copy",mie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Hr=Ie("credit-card",fie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Sx=Ie("crown",pie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Tm=Ie("database",gie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Yt=Ie("dollar-sign",xie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qn=Ie("download",yie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],$9=Ie("ellipsis-vertical",bie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],H9=Ie("external-link",vie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_2=Ie("eye-off",wie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ss=Ie("eye",jie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],XT=Ie("facebook",Nie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],D4=Ie("file-check",_ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Sie=Ie("file-down",Cie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],Eie=Ie("file-pen-line",Bie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],at=Ie("file-text",kie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],C2=Ie("file",Pie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],kv=Ie("flag",Fie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Oie=Ie("folder-kanban",Tie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],sb=Ie("folder-open",Iie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Mie=Ie("folder-plus",Die);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_w=Ie("folder",Lie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],S2=Ie("funnel",Uie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],YT=Ie("git-branch",Rie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],x0=Ie("globe",Qie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Hie=Ie("grip-vertical",$ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zie=Ie("heart",qie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],y0=Ie("history",Vie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Wie=Ie("house",Kie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Xie=Ie("image",Gie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Jie=Ie("inbox",Yie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Qi=Ie("info",Zie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],JT=Ie("instagram",eoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],cm=Ie("key",toe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],noe=Ie("layout-grid",roe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],aoe=Ie("library",soe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],gh=Ie("list-filter",ioe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],E_=Ie("list",ooe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],b0=Ie("loader-circle",loe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],xf=Ie("loader",coe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],q9=Ie("lock-open",doe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Pi=Ie("lock",uoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZT=Ie("log-out",hoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ts=Ie("mail",Aoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ii=Ie("map-pin",moe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],poe=Ie("maximize-2",foe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xoe=Ie("menu",goe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],dm=Ie("message-circle",yoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cw=Ie("message-square",boe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],woe=Ie("mic-off",voe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Noe=Ie("mic",joe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Coe=Ie("minimize-2",_oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M5 12h14",key:"1ays0h"}]],v0=Ie("minus",Soe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Eoe=Ie("monitor",Boe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Poe=Ie("moon",koe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],w0=Ie("navigation",Foe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Bt=Ie("package",Toe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],B2=Ie("palette",Ooe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Doe=Ie("paperclip",Ioe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Loe=Ie("pause",Moe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Roe=Ie("pen",Uoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],$oe=Ie("phone-off",Qoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oa=Ie("phone",Hoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],M4=Ie("play",qoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yt=Ie("plus",zoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],wd=Ie("printer",Voe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],As=Ie("refresh-cw",Koe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],z9=Ie("rotate-ccw",Woe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rr=Ie("save",Goe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ur=Ie("search",Xoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ja=Ie("send",Yoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Zoe=Ie("server",Joe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jd=Ie("settings",ele);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],V9=Ie("share-2",tle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jr=Ie("shield",rle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],HA=Ie("shopping-cart",nle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],K9=Ie("sliders-vertical",sle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ZE=Ie("smartphone",ale);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],ole=Ie("smile",ile);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],eO=Ie("snowflake",lle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ah=Ie("sparkles",cle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sw=Ie("square-check-big",dle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ga=Ie("square-pen",ule);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ale=Ie("square",hle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ms=Ie("star",mle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ple=Ie("sun",fle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],xle=Ie("table",gle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],ble=Ie("tablet",yle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],L4=Ie("tag",vle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Nd=Ie("target",wle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Nle=Ie("thumbs-down",jle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Cle=Ie("thumbs-up",_le);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ut=Ie("trash-2",Sle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],fo=Ie("trending-down",Ble);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pr=Ie("trending-up",Ele);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kr=Ie("triangle-alert",kle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ek=Ie("truck",Ple);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jg=Ie("upload",Fle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ole=Ie("user-check",Tle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dle=Ie("user-cog",Ile);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],W9=Ie("user-plus",Mle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Ule=Ie("user-x",Lle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nr=Ie("user",Rle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mt=Ie("users",Qle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],k_=Ie("video",$le);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tO=Ie("video-off",Hle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zle=Ie("volume-2",qle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ab=Ie("wallet",Vle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],tk=Ie("wrench",Kle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],At=Ie("x",Wle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],di=Ie("zap",Gle),Xle=()=>s.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 flex items-center justify-center z-50",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full blur-xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"text-center z-10",children:[s.jsx(se.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut",type:"spring",stiffness:100},className:"flex items-center justify-center mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(se.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:s.jsx(wa,{className:"h-10 w-10 text-white"})}),s.jsx(se.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.5},className:"absolute -bottom-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"h-4 w-4 text-white"})})]})}),s.jsx(se.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"text-4xl font-bold text-white mb-4",children:"Sistema OS"}),s.jsx(se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"text-lg text-white/80 mb-8",children:"Gesto integrada de ordens de servio"}),s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},className:"w-64 h-1 bg-white/20 rounded-full overflow-hidden mx-auto",children:s.jsx(se.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:1.4,duration:1,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-pink-400 to-purple-400 rounded-full"})}),s.jsx(se.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6,duration:.4},className:"text-sm text-white/60 mt-4",children:"Carregando o sistema..."})]})]}),Yle="modulepreload",Jle=function(t){return"/"+t},rO={},_d=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Jle(c),c in rO)return;rO[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Yle,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((A,m)=>{h.addEventListener("load",A),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Zle=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_d(async()=>{const{default:n}=await Promise.resolve().then(()=>yf);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class rk extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class nO extends rk{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sO extends rk{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class aO extends rk{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var U4;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(U4||(U4={}));var ece=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class tce{constructor(e,{headers:r={},customFetch:n,region:a=U4.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Zle(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ece(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let d={},{region:u}=n;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let A;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",A=l):typeof l=="string"?(d["Content-Type"]="text/plain",A=l):typeof FormData<"u"&&l instanceof FormData?A=l:(d["Content-Type"]="application/json",A=JSON.stringify(l)));const m=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:A,signal:c}).catch(f=>{throw f.name==="AbortError"?f:new nO(f)}),x=m.headers.get("x-relay-error");if(x&&x==="true")throw new sO(m);if(!m.ok)throw new aO(m);let g=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),p;return g==="application/json"?p=yield m.json():g==="application/octet-stream"?p=yield m.blob():g==="text/event-stream"?p=m:g==="multipart/form-data"?p=yield m.formData():p=yield m.text(),{data:p,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new nO(i)}:{data:null,error:i,response:i instanceof aO||i instanceof sO?i.context:void 0}}})}}var Ia={},nk={},E2={},Bx={},k2={},P2={},rce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Om=rce();const nce=Om.fetch,G9=Om.fetch.bind(Om),X9=Om.Headers,sce=Om.Request,ace=Om.Response,yf=Object.freeze(Object.defineProperty({__proto__:null,Headers:X9,Request:sce,Response:ace,default:G9,fetch:nce},Symbol.toStringTag,{value:"Module"})),ice=YX(yf);var F2={};Object.defineProperty(F2,"__esModule",{value:!0});let oce=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};F2.default=oce;var Y9=sa&&sa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P2,"__esModule",{value:!0});const lce=Y9(ice),cce=Y9(F2);let dce=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=lce.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,h=null,A=null,m=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=y:h=JSON.parse(y))}const p=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),f=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");p&&f&&f.length>1&&(A=parseInt(f[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,A=null,m=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(h=[],u=null,m=200,x="OK")}catch{i.status===404&&p===""?(m=204,x="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,m=200,x="OK"),u&&this.shouldThrowOnError)throw new cce.default(u)}return{error:u,data:h,count:A,status:m,statusText:x}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};P2.default=dce;var uce=sa&&sa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(k2,"__esModule",{value:!0});const hce=uce(P2);let Ace=class extends hce.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};k2.default=Ace;var mce=sa&&sa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bx,"__esModule",{value:!0});const fce=mce(k2);let pce=class extends fce.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Bx.default=pce;var gce=sa&&sa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(E2,"__esModule",{value:!0});const vp=gce(Bx);let xce=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,r){const{head:n=!1,count:a}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new vp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new vp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new vp.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new vp.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new vp.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};E2.default=xce;var J9=sa&&sa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nk,"__esModule",{value:!0});const yce=J9(E2),bce=J9(Bx);let vce=class Z9{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new yce.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Z9(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,A])=>A!==void 0).map(([h,A])=>[h,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([h,A])=>{c.searchParams.append(h,A)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new bce.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};nk.default=vce;var bf=sa&&sa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.PostgrestError=Ia.PostgrestBuilder=Ia.PostgrestTransformBuilder=Ia.PostgrestFilterBuilder=Ia.PostgrestQueryBuilder=Ia.PostgrestClient=void 0;const eH=bf(nk);Ia.PostgrestClient=eH.default;const tH=bf(E2);Ia.PostgrestQueryBuilder=tH.default;const rH=bf(Bx);Ia.PostgrestFilterBuilder=rH.default;const nH=bf(k2);Ia.PostgrestTransformBuilder=nH.default;const sH=bf(P2);Ia.PostgrestBuilder=sH.default;const aH=bf(F2);Ia.PostgrestError=aH.default;var wce=Ia.default={PostgrestClient:eH.default,PostgrestQueryBuilder:tH.default,PostgrestFilterBuilder:rH.default,PostgrestTransformBuilder:nH.default,PostgrestBuilder:sH.default,PostgrestError:aH.default};const{PostgrestClient:jce,PostgrestQueryBuilder:XVe,PostgrestFilterBuilder:YVe,PostgrestTransformBuilder:JVe,PostgrestBuilder:ZVe,PostgrestError:eKe}=wce;class Nce{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _ce="2.75.0",Cce=`realtime-js/${_ce}`,Sce="1.0.0",R4=1e4,Bce=1e3,Ece=100;var Ng;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ng||(Ng={}));var os;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(os||(os={}));var uo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(uo||(uo={}));var Q4;(function(t){t.websocket="websocket"})(Q4||(Q4={}));var vu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vu||(vu={}));class kce{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class iH{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Kr||(Kr={}));const iO=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Pce(o,t,e,a),i),{}):{}},Pce=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?oH(i,o):$4(o)},oH=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ice(e,r)}switch(t){case Kr.bool:return Fce(e);case Kr.float4:case Kr.float8:case Kr.int2:case Kr.int4:case Kr.int8:case Kr.numeric:case Kr.oid:return Tce(e);case Kr.json:case Kr.jsonb:return Oce(e);case Kr.timestamp:return Dce(e);case Kr.abstime:case Kr.date:case Kr.daterange:case Kr.int4range:case Kr.int8range:case Kr.money:case Kr.reltime:case Kr.text:case Kr.time:case Kr.timestamptz:case Kr.timetz:case Kr.tsrange:case Kr.tstzrange:return $4(e);default:return $4(e)}},$4=t=>t,Fce=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Tce=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Oce=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ice=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>oH(e,l))}return t},Dce=t=>typeof t=="string"?t.replace(" ","T"):t,lH=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class P_{constructor(e,r,n={},a=R4){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(oO||(oO={}));class _g{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_g.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=_g.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_g.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const A=u.map(p=>p.presence_ref),m=h.map(p=>p.presence_ref),x=u.filter(p=>m.indexOf(p.presence_ref)<0),g=h.filter(p=>A.indexOf(p.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(m=>m.presence_ref),A=u.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...A)}n(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lO;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lO||(lO={}));var Cg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cg||(Cg={}));var Cl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Cl||(Cl={}));class sk{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=os.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new P_(this,uo.join,this.params,this.timeout),this.rejoinTimer=new iH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=os.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=os.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=os.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=os.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=os.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uo.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new _g(this),this.broadcastEndpointURL=lH(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==os.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Cg.PRESENCE]&&this.bindings[Cg.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},A={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Cl.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Cl.CLOSED)),this.updateJoinPayload(Object.assign({config:A},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket.setAuth(),m===void 0){e==null||e(Cl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,p=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,f=[];for(let y=0;y<p;y++){const b=g[y],{filter:{event:N,schema:v,table:C,filter:P}}=b,_=m&&m[y];if(_&&_.event===N&&_.schema===v&&_.table===C&&_.filter===P)f.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=os.errored,e==null||e(Cl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e(Cl.SUBSCRIBED);return}}).receive("error",m=>{this.state=os.errored,e==null||e(Cl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Cl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===os.joined&&e===Cg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=os.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(uo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new P_(this,uo.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=os.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new P_(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ece){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=uo;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let A=this._onMessage(o,r,n);if(r&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var x,g,p;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((p=(g=m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(m=>m.callback(A,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,g,p,f,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const N=m.id,v=(x=m.filter)===null||x===void 0?void 0:x.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(v==="*"||(v==null?void 0:v.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const N=(y=(f=m==null?void 0:m.filter)===null||f===void 0?void 0:f.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof A=="object"&&"ids"in A){const x=A.data,{schema:g,table:p,commit_timestamp:f,type:y,errors:b}=x;A=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:f,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(x))}m.callback(A,n)})}_isClosed(){return this.state===os.closed}_isJoined(){return this.state===os.joined}_isJoining(){return this.state===os.joining}_isLeaving(){return this.state===os.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&sk.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(uo.close,{},e)}_onError(e){this._on(uo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=os.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=iO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=iO(e.columns,e.old_record)),r}}const F_=()=>{},ib={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mce=[1e3,2e3,5e3,1e4],Lce=1e4,Uce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rce{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=R4,this.transport=null,this.heartbeatIntervalMs=ib.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=F_,this.ref=0,this.reconnectTimer=null,this.logger=F_,this.conn=null,this.sendBuffer=[],this.serializer=new kce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>_d(async()=>{const{default:l}=await Promise.resolve().then(()=>yf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Q4.websocket}`,this.httpEndpoint=lH(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nce.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sce}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ng.connecting:return vu.Connecting;case Ng.open:return vu.Open;case Ng.closing:return vu.Closing;default:return vu.Closed}}isConnected(){return this.connectionState()===vu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new sk(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Bce,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ib.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(uo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Uce],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Cce};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(uo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new iH(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ib.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:R4,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:ib.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:F_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>Mce[h-1]||Lce,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(h,A)=>A(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ak extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Gn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qce extends ak{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class H4 extends ak{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var $ce=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const cH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_d(async()=>{const{default:n}=await Promise.resolve().then(()=>yf);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Hce=()=>$ce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _d(()=>Promise.resolve().then(()=>yf),void 0)).Response:Response}),q4=t=>{if(Array.isArray(t))return t.map(r=>q4(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=q4(n)}),e},qce=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var xh=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const T_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zce=(t,e,r)=>xh(void 0,void 0,void 0,function*(){const n=yield Hce();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new Qce(T_(a),i,o))}).catch(a=>{e(new H4(T_(a),a))}):e(new H4(T_(t),t))}),Vce=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(qce(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Ex(t,e,r,n,a,i){return xh(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Vce(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>zce(c,l,n))})})}function Bw(t,e,r,n){return xh(this,void 0,void 0,function*(){return Ex(t,"GET",e,r,n)})}function Mo(t,e,r,n,a){return xh(this,void 0,void 0,function*(){return Ex(t,"POST",e,n,a,r)})}function z4(t,e,r,n,a){return xh(this,void 0,void 0,function*(){return Ex(t,"PUT",e,n,a,r)})}function Kce(t,e,r,n){return xh(this,void 0,void 0,function*(){return Ex(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function dH(t,e,r,n,a){return xh(this,void 0,void 0,function*(){return Ex(t,"DELETE",e,n,a,r)})}var Wce=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Gce{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Wce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Gn(e))return{data:null,error:e};throw e}})}}var Xce=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Yce{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new Gce(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return Xce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Gn(e))return{data:null,error:e};throw e}})}}var Pa=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const Jce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zce{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=cH(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return Pa(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},cO),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(e=="PUT"?z4:Mo)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Pa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Pa(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:cO.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield z4(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Gn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Pa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Mo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ak("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Pa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Pa(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Gn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Pa(this,void 0,void 0,function*(){try{return{data:{path:(yield Mo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Gn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Pa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Mo(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Gn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Pa(this,void 0,void 0,function*(){try{const a=yield Mo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Gn(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>Bw(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Yce(c,this.shouldThrowOnError)}info(e){return Pa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Bw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:q4(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}exists(e){return Pa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Kce(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n)&&n instanceof H4){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return Pa(this,void 0,void 0,function*(){try{return{data:yield dH(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Pa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Jce),r),{prefix:e||""});return{data:yield Mo(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Gn(a))return{data:null,error:a};throw a}})}listV2(e,r){return Pa(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Mo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const ede="2.75.0",tde={"X-Client-Info":`storage-js/${ede}`};var eA=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class rde{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tde),r),this.fetch=cH(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return eA(this,void 0,void 0,function*(){try{return{data:yield Bw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Gn(e))return{data:null,error:e};throw e}})}getBucket(e){return eA(this,void 0,void 0,function*(){try{return{data:yield Bw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}createBucket(e){return eA(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Mo(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Gn(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return eA(this,void 0,void 0,function*(){try{return{data:yield z4(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return eA(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return eA(this,void 0,void 0,function*(){try{return{data:yield dH(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}}class nde extends rde{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new Zce(this.url,this.headers,e,this.fetch)}}const sde="2.75.0";let Xp="";typeof Deno<"u"?Xp="deno":typeof document<"u"?Xp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xp="react-native":Xp="node";const ade={"X-Client-Info":`supabase-js-${Xp}/${sde}`},ide={headers:ade},ode={schema:"public"},lde={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cde={};var dde=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const ude=t=>{let e;return t?e=t:typeof fetch>"u"?e=G9:e=fetch,(...r)=>e(...r)},hde=()=>typeof Headers>"u"?X9:Headers,Ade=(t,e,r)=>{const n=ude(r),a=hde();return(i,o)=>dde(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var mde=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function fde(t){return t.endsWith("/")?t:t+"/"}function pde(t,e){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,A={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>mde(this,void 0,void 0,function*(){return""})};return t.accessToken?A.accessToken=t.accessToken:delete A.accessToken,A}function gde(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fde(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const uH="2.75.0",bA=30*1e3,V4=3,O_=V4*bA,xde="http://localhost:9999",yde="supabase.auth.token",bde={"X-Client-Info":`gotrue-js/${uH}`},K4="X-Supabase-Api-Version",hH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vde=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wde=10*60*1e3;class j0 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ot(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jde extends j0{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Nde(t){return Ot(t)&&t.name==="AuthApiError"}class wu extends j0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Md extends j0{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Fc extends Md{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _de(t){return Ot(t)&&t.name==="AuthSessionMissingError"}class tA extends Md{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ob extends Md{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lb extends Md{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cde(t){return Ot(t)&&t.name==="AuthImplicitGrantRedirectError"}class dO extends Md{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W4 extends Md{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function I_(t){return Ot(t)&&t.name==="AuthRetryableFetchError"}class uO extends Md{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class G4 extends Md{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ew="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hO=` 	
\r=`.split(""),Sde=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<hO.length;e+=1)t[hO[e].charCodeAt(0)]=-2;for(let e=0;e<Ew.length;e+=1)t[Ew[e].charCodeAt(0)]=e;return t})();function AO(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ew[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ew[n]),e.queuedBits-=6}}function AH(t,e,r){const n=Sde[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function mO(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{kde(o,n,r)};for(let o=0;o<t.length;o+=1)AH(t.charCodeAt(o),a,i);return e.join("")}function Bde(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ede(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Bde(n,e)}}function kde(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function um(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)AH(t.charCodeAt(a),r,n);return new Uint8Array(e)}function Pde(t){const e=[];return Ede(t,r=>e.push(r)),new Uint8Array(e)}function Fu(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>AO(a,r,n)),AO(null,r,n),e.join("")}function Fde(t){return Math.round(Date.now()/1e3)+t}function Tde(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ya=()=>typeof window<"u"&&typeof document<"u",tu={tested:!1,writable:!1},mH=()=>{if(!Ya())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tu.tested)return tu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tu.tested=!0,tu.writable=!0}catch{tu.tested=!0,tu.writable=!1}return tu.writable};function Ode(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const fH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_d(async()=>{const{default:n}=await Promise.resolve().then(()=>yf);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ide=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vA=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ru=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cc=async(t,e)=>{await t.removeItem(e)};class T2{constructor(){this.promise=new T2.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}T2.promiseConstructor=Promise;function D_(t){const e=t.split(".");if(e.length!==3)throw new G4("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!vde.test(e[n]))throw new G4("JWT not in base64url format");return{header:JSON.parse(mO(e[0])),payload:JSON.parse(mO(e[1])),signature:um(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dde(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Mde(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function Lde(t){return("0"+t.toString(16)).substr(-2)}function Ude(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Lde).join("")}async function Rde(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Qde(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Rde(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rA(t,e,r=!1){const n=Ude();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await vA(t,`${e}-code-verifier`,a);const i=await Qde(n);return[i,n===i?"plain":"s256"]}const $de=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hde(t){const e=t.headers.get(K4);if(!e||!e.match($de))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qde(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zde(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nA(t){if(!Vde.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function M_(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fO(t){return JSON.parse(JSON.stringify(t))}var Kde=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Au=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Wde=[502,503,504];async function pO(t){var e;if(!Ide(t))throw new W4(Au(t),0);if(Wde.includes(t.status))throw new W4(Au(t),t.status);let r;try{r=await t.json()}catch(i){throw new wu(Au(i),i)}let n;const a=Hde(t);if(a&&a.getTime()>=hH["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new uO(Au(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uO(Au(r),t.status,r.weak_password.reasons);throw new jde(Au(r),t.status||500,n)}const Gde=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Kt(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[K4]||(i[K4]=hH["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Xde(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Xde(t,e,r,n,a,i){const o=Gde(e,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new W4(Au(c),0)}if(l.ok||await pO(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await pO(c)}}function so(t){var e;let r=null;Zde(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Fde(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function gO(t){const e=so(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $c(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Yde(t){return{data:t,error:null}}function Jde(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=Kde(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function xO(t){return t}function Zde(t){return t.access_token&&t.refresh_token&&t.expires_in}const L_=["global","local","others"];var eue=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class tue{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=fH(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=L_[0]){if(L_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${L_.join(", ")}`);try{return await Kt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$c})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=eue(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Jde,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ot(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$c})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:xO});if(u.error)throw u.error;const h=await u.json(),A=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(x.split(";")[1].split("=")[1]);d[`${p}Page`]=g}),d.total=parseInt(A)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ot(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){nA(e);try{return await Kt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$c})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){nA(e);try{return await Kt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$c})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){nA(e);try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$c})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){nA(e.userId);try{const{data:r,error:n}=await Kt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _deleteFactor(e){nA(e.userId),nA(e.id);try{return{data:await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Kt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:xO});if(u.error)throw u.error;const h=await u.json(),A=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(x.split(";")[1].split("=")[1]);d[`${p}Page`]=g}),d.total=parseInt(A)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ot(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Kt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Kt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Kt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}}function yO(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const sA={debug:!!(globalThis&&mH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rue extends pH{}async function nue(t,e,r){sA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),sA.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){sA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{sA.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw sA.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rue(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sA.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function sue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gH(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function aue(t){return parseInt(t,16)}function iue(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function oue(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:A}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=gH(t.address),x=u?`${u}://${n}`:n,g=t.statement?`${t.statement}
`:"",p=`${x} wants you to sign in with your Ethereum account:
${m}

${g}`;let f=`URI: ${h}
Version: ${A}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(f+=`
Expiration Time: ${a.toISOString()}`),l&&(f+=`
Not Before: ${l.toISOString()}`),c&&(f+=`
Request ID: ${c}`),d){let y=`
Resources:`;for(const b of d){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}f+=y}return`${p}
${f}`}class Wn extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class kw extends Wn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function lue({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Wn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Wn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Wn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Wn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Wn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Wn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Wn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(yH(o)){if(i.rp.id!==o)return new Wn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Wn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Wn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function cue({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Wn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(yH(n)){if(r.rpId!==n)return new Wn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Wn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var xH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class due{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const uue=new due;function hue(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=xH(t,["challenge","user","excludeCredentials"]),i=um(e).buffer,o=Object.assign(Object.assign({},r),{id:um(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:um(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Aue(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=xH(t,["challenge","allowCredentials"]),a=um(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:um(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function mue(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fu(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fue(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fu(new Uint8Array(a.authenticatorData)),clientDataJSON:Fu(new Uint8Array(a.clientDataJSON)),signature:Fu(new Uint8Array(a.signature)),userHandle:a.userHandle?Fu(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yH(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function bO(){var t,e;return!!(Ya()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function pue(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kw("Browser returned unexpected credential type",e)}:{data:null,error:new kw("Empty credential response",e)}}catch(e){return{data:null,error:lue({error:e,options:t})}}}async function gue(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kw("Browser returned unexpected credential type",e)}:{data:null,error:new kw("Empty credential response",e)}}catch(e){return{data:null,error:cue({error:e,options:t})}}}const xue={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},yue={userVerification:"preferred",hints:["security-key"]};function Pw(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=Pw(l,o):n[i]=Pw(o)}else n[i]=o}return n}function bue(t,e){return Pw(xue,t,e||{})}function vue(t,e){return Pw(yue,t,e||{})}class wue{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=a??uue.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=bue(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await pue({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=vue(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await gue(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Ot(o)?{data:null,error:o}:{data:null,error:new wu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new j0("rpId is required for WebAuthn authentication")};try{if(!bO())return{data:null,error:new wu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ot(o)?{data:null,error:o}:{data:null,error:new wu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new j0("rpId is required for WebAuthn registration")};try{if(!bO())return{data:null,error:new wu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===e&&A.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ot(o)?{data:null,error:o}:{data:null,error:new wu("Unexpected error in register",o)}}}}sue();const jue={url:xde,storageKey:yde,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bde,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vO(t,e,r){return await r()}const aA={};class N0{get jwks(){var e,r;return(r=(e=aA[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){aA[this.storageKey]=Object.assign(Object.assign({},aA[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=aA[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){aA[this.storageKey]=Object.assign(Object.assign({},aA[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=N0.nextInstanceID,N0.nextInstanceID+=1,this.instanceID>0&&Ya()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},jue),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new tue({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=fH(a.fetch),this.lock=a.lock||vO,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ya()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=nue:this.lock=vO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wue(this)},this.persistSession?(a.storage?this.storage=a.storage:mH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yO(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=yO(this.memoryStorage)),Ya()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${uH}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ode(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ya()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Cde(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ot(r)?{error:r}:{error:new wu("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:so}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ot(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:u,password:h,options:A}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await rA(this.storage,this.storageKey)),i=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:u,password:h,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:m,code_challenge_method:x},xform:so})}else if("phone"in e){const{phone:u,password:h,options:A}=e;i=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=A==null?void 0:A.data)!==null&&n!==void 0?n:{},channel:(a=A==null?void 0:A.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:so})}else throw new ob("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ot(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gO})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gO})}else throw new ob("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new tA}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,o,l,c,d,u,h,A;let m,x;if("message"in e)m=e.message,x=e.signature;else{const{chain:g,wallet:p,statement:f,options:y}=e;let b;if(Ya())if(typeof p=="object")b=p;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")b=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),v=await b.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||v.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=gH(v[0]);let P=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const k=await b.request({method:"eth_chainId"});P=aue(k)}const _={domain:N.host,address:C,statement:f,uri:N.href,version:"1",chainId:P,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=oue(_),x=await b.request({method:"personal_sign",params:[iue(m),C]})}try{const{data:g,error:p}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:so});if(p)throw p;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new tA}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:p})}catch(g){if(Ot(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var r,n,a,i,o,l,c,d,u,h,A,m;let x,g;if("message"in e)x=e.message,g=e.signature;else{const{chain:p,wallet:f,statement:y,options:b}=e;let N;if(Ya())if(typeof f=="object")N=f;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))N=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=f}const v=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const C=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),y?{statement:y}:null));let P;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")P=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)P=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${v.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const C=await N.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:p,error:f}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Fu(g)},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:so});if(f)throw f;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new tA}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:f})}catch(p){if(Ot(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(e){const r=await ru(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:so});if(await Cc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new tA}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ot(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,l=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:so}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new tA}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await rA(this.storage,this.storageKey));const{error:h}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ob("You must provide either an email or phone number.")}catch(l){if(Ot(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:so});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await rA(this.storage,this.storageKey)),await Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Yde})}catch(i){if(Ot(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Fc;const{error:a}=await Kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ot(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await Kt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:l}=await Kt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ob("You must provide either an email or phone number and a type")}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ru(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<O_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ru(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=M_()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$c}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fc}:await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:$c})})}catch(r){if(Ot(r))return _de(r)&&(await this._removeSession(),await Cc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Fc;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await rA(this.storage,this.storageKey));const{data:d,error:u}=await Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:$c});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fc;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=D_(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ot(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Fc;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ya())throw new lb("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lb(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lb("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dO("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new lb("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let A=u+h;c&&(A=parseInt(c));const m=A-u;m*1e3<=bA&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=A-h;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,A,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,A,u);const{data:g,error:p}=await this._getUser(i);if(p)throw p;const f={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:A,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(n){if(Ot(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ru(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Nde(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Cc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Tde(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await rA(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ot(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:A}=i;if(A)throw A;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Ya()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ot(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,h=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:so}),{data:A,error:m}=h;return m?{data:{user:null,session:null},error:m}:!A||!A.session||!A.user?{data:{user:null,session:null},error:new tA}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),{data:A,error:m})}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Kt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Mde(async a=>(a>0&&await Dde(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:so})),(a,i)=>{const o=200*Math.pow(2,a);return i&&I_(i)&&Date.now()+o-n<bA})}catch(n){if(this._debug(r,"error",n),Ot(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ya()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ru(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ru(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await vA(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:M_()}else if(a&&!a.user&&!a.user){const o=await ru(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Cc(this.storage,this.storageKey+"-user"),await vA(this.storage,this.storageKey,a)):a.user=M_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<O_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${O_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),I_(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Fc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new T2;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Fc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ot(i)){const o={data:null,error:i};return I_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vA(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=fO(a);await vA(this.storage,this.storageKey,i)}else{const a=fO(r);await vA(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Cc(this.storage,this.storageKey),await Cc(this.storage,this.storageKey+"-code-verifier"),await Cc(this.storage,this.storageKey+"-user"),this.userStorage&&await Cc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ya()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bA);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/bA);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${bA}ms, refresh threshold is ${V4} ticks`),a<=V4&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pH)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ya()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await rA(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Kt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await Kt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?mue(e.webauthn.credential_response):fue(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hue(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Aue(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=D_(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+wde>a)return n;const{data:i,error:o}=await Kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=D_(n);r!=null&&r.allowExpired||qde(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=zde(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Pde(`${l}.${c}`)))throw new G4("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}}N0.nextInstanceID=0;const Nue=N0;class _ue extends Nue{constructor(e){super(e)}}var Cue=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Sue{constructor(e,r,n){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=gde(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:ode,realtime:cde,auth:Object.assign(Object.assign({},lde),{storageKey:c}),global:ide},u=pde(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Ade(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new jce(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new nde(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new tce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Cue(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _ue({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rce(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bue=(t,e,r)=>new Sue(t,e,r);function Eue(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Eue()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function kue(t){var r;const e=t.tipo_pessoa==="pj";return{id:t.id,name:t.nome_razao||"",email:t.email,phone:t.telefone,address:"",client_type:((r=t.tipo_pessoa)==null?void 0:r.toUpperCase())||"PF",document:e?t.cnpj:t.cpf,company_name:e?t.nome_razao:void 0,notes:t.observacoes,created_at:t.created_at,updated_at:t.updated_at||t.created_at}}function bH(t,e,r){let n="pending";if(t.status){const o=t.status.toLowerCase();o==="pending"||o.includes("aberta")||o.includes("pendente")?n="pending":o==="in_progress"||o.includes("execuo")||o.includes("agendada")||o.includes("andamento")?n="in_progress":o==="completed"||o.includes("conclu")?n="completed":o==="cancelled"||o.includes("cancel")?n="cancelled":["pending","in_progress","completed","cancelled"].includes(o)&&(n=o)}const a=(r==null?void 0:r.find(o=>o.principal===!0))||(r==null?void 0:r[0]);let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{...t,id:t.id,order_number:t.order_number||t.id,client_id:t.customer_id,client_name:(e==null?void 0:e.nome_razao)||"",client_phone:(e==null?void 0:e.telefone)||"",client_email:e==null?void 0:e.email,client_address:i,client_city:(a==null?void 0:a.cidade)||"",client_state:(a==null?void 0:a.estado)||"",client_cep:(a==null?void 0:a.cep)||"",client_document:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.cnpj:e==null?void 0:e.cpf,client_company_name:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.nome_razao:void 0,description:t.description||"",status:n,created_at:t.opened_at,due_date:t.scheduled_at,scheduled_at:t.scheduled_at,estimated_value:t.total_value,actual_value:t.total_value,notes:t.notes||"",updated_at:t.opened_at}}function vH(t,e,r){let n="pending";if(t.status){const o=t.status.toLowerCase();o==="aberta"||o==="pendente"?n="pending":o==="em andamento"||o==="execuo"?n="in_progress":o==="concluida"||o==="finalizada"?n="completed":o==="cancelada"&&(n="cancelled")}const a=(r==null?void 0:r.find(o=>o.principal===!0))||(r==null?void 0:r[0]);let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{id:t.id,order_number:t.codigo||t.id,client_id:t.customer_id,client_name:(e==null?void 0:e.nome_razao)||"",client_phone:(e==null?void 0:e.telefone)||"",client_email:e==null?void 0:e.email,client_address:i,client_city:(a==null?void 0:a.cidade)||"",client_state:(a==null?void 0:a.estado)||"",client_cep:(a==null?void 0:a.cep)||"",client_document:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.cnpj:e==null?void 0:e.cpf,client_company_name:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.nome_razao:void 0,description:t.descricao||"",status:n,created_at:t.created_at,due_date:t.data,estimated_value:t.total,actual_value:t.total,notes:"",updated_at:t.created_at}}function ik(t){return{id:t.id,name:t.name,category:t.category,quantity:t.quantity||0,min_stock:t.min_quantity||0,price:t.unit_price||t.unit_cost||0,supplier:t.supplier_name||"",sku:t.code,location:t.location,description:t.description,created_at:t.created_at||new Date().toISOString(),updated_at:t.updated_at||new Date().toISOString()}}function wH(t){const e=()=>{const r=Date.now().toString(36),n=Math.random().toString(36).substring(2,7);return`INV-${r}-${n}`.toUpperCase()};return{name:t.name||"",description:t.description||void 0,code:t.sku&&t.sku.trim()!==""?t.sku:e(),category:t.category||void 0,quantity:t.quantity,min_quantity:t.min_stock,unit_price:t.price,unit_cost:t.cost||t.price,location:t.location||void 0,supplier_name:t.supplier||void 0,active:!0}}class Pue{constructor(){et(this,"cache",new Map);et(this,"defaultTTL",5*60*1e3)}set(e,r,n=this.defaultTTL){this.cache.set(e,{data:r,timestamp:Date.now(),expiresIn:n})}get(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(e),null):r.data:null}invalidate(e){this.cache.delete(e)}invalidatePattern(e){const r=new RegExp(e);Array.from(this.cache.keys()).forEach(n=>{r.test(n)&&this.cache.delete(n)})}clear(){this.cache.clear()}getOrFetch(e,r,n){const a=this.get(e);return a!==null?Promise.resolve(a):r().then(i=>(this.set(e,i,n),i))}}const $i=new Pue;class wO extends Error{constructor(e,r,n=500){super(e),this.code=r,this.statusCode=n,this.name="AppError"}}const Gl=t=>{if("code"in t&&"message"in t){const e=t,n={23505:"Este registro j existe no sistema",23503:"No  possvel excluir este registro pois existem dados vinculados",23502:"Campos obrigatrios no foram preenchidos","42P01":"Tabela no encontrada no banco de dados",PGRST116:"Nenhum registro encontrado",42501:"Voc no tem permisso para realizar esta ao"}[e.code]||e.message;return new wO(n,e.code,400)}return new wO(t.message||"Erro desconhecido",void 0,500)},Fue="https://hevvpugkhcmujiyncysq.supabase.co",Tue="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",ae=Bue(Fue,Tue,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});let Oue=[{id:"1",name:"Instalao de Ar Condicionado Split",category:"Instalao",description:"Instalao completa de ar condicionado split incluindo suporte, tubulao e testes",estimated_time:"3 horas",base_price:350,materials:[{name:"Suporte para Ar Condicionado",quantity:1},{name:"Tubulao de Cobre 3m",quantity:1},{name:"Cabo PP 3x2.5mm 5m",quantity:1}],instructions:["Verificar local de instalao","Instalar suporte da unidade externa","Fixar unidade interna","Conectar tubulao","Fazer conexo eltrica","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Manuteno Preventiva",category:"Manuteno",description:"Limpeza de filtros, verificao de gs e limpeza geral do equipamento",estimated_time:"1.5 horas",base_price:180,materials:[{name:"Produto de Limpeza",quantity:1},{name:"Filtro de Ar",quantity:1}],instructions:["Desligar equipamento","Remover e limpar filtros","Verificar nvel de gs","Limpar serpentinas","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Reparo de Vazamento",category:"Reparo",description:"Identificao e reparo de vazamentos no sistema de refrigerao",estimated_time:"2 horas",base_price:250,materials:[{name:"Gs Refrigerante R410A",quantity:1},{name:"Vedante",quantity:1}],instructions:["Localizar vazamento","Reparar ponto de vazamento","Testar vedao","Recarregar gs","Testar presso"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}],Iue=[{id:"1",name:"Joo Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - So Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - So Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",company_name:"Empresa ABC Ltda",trade_name:"ABC Corp",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"},{id:"3",name:"Maria Santos",email:"maria@email.com",phone:"(11) 97777-9012",address:"Rua das Palmeiras, 456 - So Paulo, SP",client_type:"PF",document:"987.654.321-00",created_at:"2023-12-13T08:00:00",updated_at:"2023-12-13T08:00:00"}],Due=[{id:"OS-2023-001",order_number:"OS-2023-001",client_name:"Joo Silva",client_phone:"(11) 99999-1234",client_address:"Rua das Flores, 123",service_type:"Instalao de Ar Condicionado",description:"Instalao de ar condicionado split 12.000 BTUs no quarto principal",priority:"high",status:"in_progress",assigned_to:"Carlos Tcnico",created_at:"2023-12-15T08:00:00",due_date:"2023-12-18",estimated_value:850,notes:"Cliente solicitou instalao urgente. Verificar voltagem antes da instalao.",updated_at:"2023-12-15T08:00:00"}],Mue=[{id:"1",name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,min_stock:2,price:1800,supplier:"Fornecedor A",sku:"AC-12000-220",location:"Prateleira A3",description:"Ar condicionado split 12.000 BTUs, 220V",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Suporte para Ar Condicionado",category:"Acessrios",quantity:15,min_stock:5,price:50,supplier:"Fornecedor B",sku:"SUP-AC-001",location:"Prateleira B1",description:"Suporte universal para unidade externa",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Tubulao de Cobre 3m",category:"Materiais",quantity:8,min_stock:3,price:80,supplier:"Fornecedor C",sku:"TUB-CU-3M",location:"Prateleira C2",description:'Tubulao de cobre 1/4" x 3/8" - 3 metros',created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}];const Lue=async t=>{try{const{data:e,error:r}=await ae.from("service_orders").insert([{order_number:t.order_number,client_id:t.client_id,client_name:t.client_name,client_phone:t.client_phone,client_address:t.client_address,service_type:t.service_type,description:t.description,priority:t.priority,status:t.status,assigned_to:t.assigned_to,due_date:t.due_date,estimated_value:t.estimated_value,notes:t.notes}]).select().single();if(r)throw Gl(r);return $i.invalidatePattern("service_orders"),e}catch(e){throw Gl(e)}},Uue=async()=>$i.getOrFetch("service_orders_v2",async()=>{try{const[t,e,r]=await Promise.all([ae.from("orders").select("*").order("created_at",{ascending:!1}),ae.from("service_orders").select("*").order("created_at",{ascending:!1}),ae.from("customers").select("*")]),n=r.data||[],a=new Map(n.map(o=>[o.id,o])),i=[];return t.data&&t.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(vH(o,l))}),e.data&&e.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(bH(o,l))}),i.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()),i}catch(t){return console.error("Error fetching service orders:",t),Due}},30*1e3),Pv=async t=>{try{const[e,r,n,a,i,o,l,c]=await Promise.all([ae.from("orders").select("*").eq("id",t).maybeSingle(),ae.from("service_orders").select("*").eq("id",t).maybeSingle(),ae.from("customers").select("*"),ae.from("customer_addresses").select("*"),ae.from("service_order_items").select(`
        *,
        service_catalog:service_catalog_id(
          id,
          name,
          description,
          base_price,
          category,
          escopo_servico,
          requisitos_tecnicos,
          avisos_seguranca,
          passos_execucao,
          resultados_esperados,
          padroes_qualidade,
          informacoes_garantia,
          observacoes_tecnicas,
          tempo_estimado_minutos
        )
      `).eq("service_order_id",t),ae.from("service_order_materials").select("*, material:material_id(name, unit)").eq("service_order_id",t),ae.from("service_order_labor").select("*, employee:staff_id(id, name)").eq("service_order_id",t),ae.from("service_order_team").select("*, employee:employee_id(id, name)").eq("service_order_id",t)]),d=n.data||[],u=new Map(d.map(x=>[x.id,x])),h=a.data||[],A=new Map;h.forEach(x=>{A.has(x.customer_id)||A.set(x.customer_id,[]),A.get(x.customer_id).push(x)});let m=null;if(e.data){const x=e.data,g=x.customer_id?u.get(x.customer_id):void 0,p=x.customer_id?A.get(x.customer_id):void 0;m=vH(x,g,p)}if(r.data){const x=r.data,g=x.customer_id?u.get(x.customer_id):void 0,p=x.customer_id?A.get(x.customer_id):void 0;m=bH(x,g,p)}if(m){const x=new Map,g=new Map;(o.data||[]).forEach(p=>{var y,b;const f=p.service_order_item_id;f&&(x.has(f)||x.set(f,[]),x.get(f).push({id:p.id,material_id:p.material_id,nome:p.material_name||p.nome_material||((y=p.material)==null?void 0:y.name)||"Material",quantidade:p.quantity||p.quantidade||0,unidade_medida:p.material_unit||((b=p.material)==null?void 0:b.unit)||"un",preco_compra_unitario:p.unit_cost_at_time||p.preco_compra||p.unit_price||0,preco_venda_unitario:p.unit_sale_price||p.preco_venda||p.unit_price||0,preco_compra:p.total_cost||p.custo_total||0,preco_venda:p.total_sale_price||p.valor_total||p.total_price||0,custo_total:p.total_cost||p.custo_total||0,valor_total:p.total_sale_price||p.valor_total||p.total_price||0,lucro:p.lucro||0}))}),(l.data||[]).forEach(p=>{var y;const f=p.service_order_item_id;f&&(g.has(f)||g.set(f,[]),g.get(f).push({id:p.id,staff_id:p.staff_id,nome:p.nome_funcionario||((y=p.employee)==null?void 0:y.name)||"Funcionrio",tempo_minutos:p.tempo_minutos||(p.hours?p.hours*60:0)||0,custo_hora:p.custo_hora||p.hourly_rate||0,custo_total:p.custo_total||p.total_cost||0}))}),m.items=(i.data||[]).map(p=>{var f,y,b,N,v,C,P,_;return{id:p.id,service_order_id:p.service_order_id,service_catalog_id:p.service_catalog_id,service_name:((f=p.service_catalog)==null?void 0:f.name)||"",descricao:p.descricao||p.notes||((y=p.service_catalog)==null?void 0:y.description)||((b=p.service_catalog)==null?void 0:b.name)||"",description:p.notes||((N=p.service_catalog)==null?void 0:N.description)||((v=p.service_catalog)==null?void 0:v.name)||"",name:((C=p.service_catalog)==null?void 0:C.name)||"",escopo:p.escopo_detalhado||p.escopo||((P=p.service_catalog)==null?void 0:P.escopo_servico)||"",escopo_detalhado:p.escopo_detalhado||p.escopo||((_=p.service_catalog)==null?void 0:_.escopo_servico)||"",quantidade:p.quantity||p.quantidade||1,quantity:p.quantity||1,preco_unitario:p.unit_price||p.preco_unitario||0,unit_price:p.unit_price||0,preco_total:p.total_price||p.preco_total||0,total_price:p.total_price||0,tempo_estimado_minutos:p.estimated_duration||p.tempo_estimado_minutos||0,estimated_duration:p.estimated_duration||0,custo_materiais:p.custo_materiais||0,custo_mao_obra:p.custo_mao_obra||0,custo_total:p.custo_total||0,lucro:p.lucro||0,margem_lucro:p.margem_lucro||0,notes:p.notes||"",difficulty_level:p.difficulty_level||1,difficulty_multiplier:p.difficulty_multiplier||1,base_unit_price:p.base_unit_price||p.unit_price||0,materiais:x.get(p.id)||[],funcionarios:g.get(p.id)||[],created_at:p.created_at,updated_at:p.updated_at}}),m.materials=(o.data||[]).map(p=>({id:p.id,service_order_id:p.service_order_id,material_id:p.material_id,material_name:p.material_name,nome:p.material_name,quantity:p.quantity||0,quantidade:p.quantity||0,unit_price:p.unit_price||0,preco_compra_unitario:p.unit_price||0,total_price:p.total_price||0,custo_total:p.total_price||0,notes:p.notes||"",created_at:p.created_at,updated_at:p.updated_at})),m.team=(c.data||[]).map(p=>{var f,y,b,N;return{id:p.id,service_order_id:p.service_order_id,employee_id:p.employee_id,nome:((f=p.employee)==null?void 0:f.name)||"Funcionrio",name:((y=p.employee)==null?void 0:y.name)||"Funcionrio",role:p.role||((b=p.employee)==null?void 0:b.especialidade)||((N=p.employee)==null?void 0:N.role)||"",assigned_at:p.assigned_at,created_at:p.created_at}})}return m}catch(e){return console.error("Error fetching service order by ID:",e),null}},jO=async(t,e)=>{try{const{data:r,error:n}=await ae.from("service_orders").update(e).eq("id",t).select().single();if(n)throw Gl(n);return $i.invalidatePattern("service_orders"),r}catch(r){throw Gl(r)}},jH=async t=>{try{const{data:e,error:r}=await ae.rpc("delete_service_order_complete",{p_service_order_id:t});if(r)throw Gl(r);return $i.invalidatePattern("service_orders"),e}catch(e){throw Gl(e)}},Rue=async t=>{try{const e=wH(t),{data:r,error:n}=await ae.from("inventory_items").insert([e]).select().single();if(n)throw Gl(n);return $i.invalidatePattern("inventory"),ik(r)}catch(e){throw Gl(e)}},Que=async()=>$i.getOrFetch("inventory_items",async()=>{try{const{data:t,error:e}=await ae.from("inventory_items").select("*").order("name");if(e)throw Gl(e);return t.map(ik)}catch(t){return console.error("Error fetching inventory items:",t),Mue}},5*60*1e3),$ue=async(t,e)=>{const r=wH(e),{data:n,error:a}=await ae.from("inventory_items").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating inventory item:",a),a;return $i.invalidatePattern("inventory"),ik(n)},Hue=async t=>{const{error:e}=await ae.from("inventory_items").delete().eq("id",t);if(e)throw console.error("Error deleting inventory item:",e),e},que=async()=>{const{data:t,error:e}=await ae.from("customers").select("*").order("nome_razao");return e?(console.error("Error fetching clients:",e),Iue):t.map(kue)},zue=async t=>{try{const{error:e}=await ae.from("customers").delete().eq("id",t);if(e)throw e.code==="23503"?new Error("No  possvel excluir este cliente pois existem registros vinculados (ordens de servio, contratos, etc). Exclua os registros vinculados primeiro."):e;$i.invalidatePattern("clients"),$i.invalidatePattern("customers")}catch(e){throw console.error("Error deleting client:",e),e}},Vue=async t=>{let e=null;if(t.contract_type){const{data:i}=await ae.from("contract_types").select("id").eq("active",!0).limit(1).maybeSingle();i&&(e=i.id)}const r={customer_id:t.client_id||t.customer_id,contract_number:t.contract_number,start_date:t.start_date,end_date:t.end_date,value:t.value,status:t.status,payment_frequency:t.frequency,notes:t.notes||t.terms_and_conditions,contract_type_id:e},{data:n,error:a}=await ae.from("contracts").insert([r]).select().single();if(a)throw console.error("Error creating contract:",a),a;return n},Kue=async t=>{const{data:e,error:r}=await ae.from("contracts").select("*, customers(*)").eq("customer_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching client contracts:",r),[]):e},Wue=async(t,e)=>{const r={...e,customer_id:e.client_id||e.customer_id};delete r.client_id;const{data:n,error:a}=await ae.from("contracts").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating contract:",a),a;return n},Gue=async t=>{const{error:e}=await ae.from("contracts").delete().eq("id",t);if(e)throw console.error("Error deleting contract:",e),e},Xue=async t=>{const e={name:t.name,description:t.description,category:t.category,base_price:t.base_price,active:t.is_active!==void 0?t.is_active:t.active!==void 0?t.active:!0};if(t.estimated_time){const a=parseFloat(t.estimated_time);isNaN(a)||(e.estimated_duration=a)}else t.estimated_duration&&(e.estimated_duration=t.estimated_duration);const{data:r,error:n}=await ae.from("service_catalog").insert([e]).select().single();if(n)throw console.error("Error creating service catalog item:",n),n;return r},Yue=async()=>{const{data:t,error:e}=await ae.from("service_catalog").select("*").eq("active",!0).order("name");return e?(console.error("Error fetching service catalog:",e),Oue):t},Jue=async(t,e)=>{const r={};if(e.name!==void 0&&(r.name=e.name),e.description!==void 0&&(r.description=e.description),e.category!==void 0&&(r.category=e.category),e.base_price!==void 0&&(r.base_price=e.base_price),e.is_active!==void 0?r.active=e.is_active:e.active!==void 0&&(r.active=e.active),e.estimated_time){const i=parseFloat(e.estimated_time);isNaN(i)||(r.estimated_duration=i)}else e.estimated_duration!==void 0&&(r.estimated_duration=e.estimated_duration);const{data:n,error:a}=await ae.from("service_catalog").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating service catalog item:",a),a;return n},Zue=async t=>{const{error:e}=await ae.from("service_catalog").delete().eq("id",t);if(e)throw console.error("Error deleting service catalog item:",e),e},ehe=async()=>{const{data:t,error:e}=await ae.from("agenda_events").select("*").order("start_date",{ascending:!0});return e?(console.error("Error fetching agenda events:",e),[]):t},the=async t=>{const{data:e,error:r}=await ae.from("agenda_events").insert([t]).select().single();if(r)throw console.error("Error creating agenda event:",r),r;return e},U_=async(t,e)=>{const{data:r,error:n}=await ae.from("agenda_events").update(e).eq("id",t).select().single();if(n)throw console.error("Error updating agenda event:",n),n;return r},rhe=async t=>{const{error:e}=await ae.from("agenda_events").delete().eq("id",t);if(e)throw console.error("Error deleting agenda event:",e),e};class NH{constructor(){et(this,"provider");et(this,"chunkingConfig");this.chunkingConfig={chunkSize:500,chunkOverlap:50,separators:[`

`,`
`,". ","! ","? "]},this.provider=this.createMockProvider()}async indexDocument(e){try{const{data:r,error:n}=await ae.from("thomaz_knowledge_sources").select("*").eq("id",e).single();if(n)throw n;const a=this.chunkText(r.content);for(let i=0;i<a.length;i++){const o=a[i],l=await this.provider.generateEmbedding(o);await ae.from("thomaz_document_chunks").insert({source_id:e,chunk_index:i,chunk_text:o,chunk_size:o.length,embedding:l,metadata:{source_title:r.title,source_type:r.source_type,category:r.category}})}console.log(` Indexed ${a.length} chunks for document: ${r.title}`)}catch(r){throw console.error("Index Document Error:",r),r}}async indexAllDocuments(){try{const{data:e,error:r}=await ae.from("thomaz_knowledge_sources").select("id, title").eq("is_active",!0);if(r)throw r;console.log(` Indexando ${(e==null?void 0:e.length)||0} documentos...`);for(const n of e||[]){const{data:a}=await ae.from("thomaz_document_chunks").select("id").eq("source_id",n.id).limit(1);!a||a.length===0?(console.log(` Indexando: ${n.title}`),await this.indexDocument(n.id)):console.log(`  Pulando: ${n.title} (j indexado)`)}console.log(" Indexao completa!")}catch(e){throw console.error("Index All Documents Error:",e),e}}chunkText(e){const r=[],n=e.split(/\s+/),{chunkSize:a,chunkOverlap:i}=this.chunkingConfig;let o=0;for(;o<n.length;){const l=n.slice(o,o+a).join(" ");r.push(l),o+=a-i}return r}async searchSimilar(e,r={}){try{const{threshold:n=.7,limit:a=5,sourceType:i,sensitivity:o="public"}=r,l=await this.provider.generateEmbedding(e),{data:c,error:d}=await ae.rpc("thomaz_search_similar_chunks",{query_embedding:l,match_threshold:n,match_count:a,filter_source_type:i,filter_sensitivity:o});if(d)throw d;return c||[]}catch(n){return console.error("Search Similar Error:",n),[]}}createMockProvider(){return{name:"mock",dimension:1536,generateEmbedding:async e=>{const r=new Array(1536).fill(0),n=this.simpleHash(e);for(let a=0;a<1536;a++)r[a]=Math.sin(n*(a+1))*.5+.5;return r}}}simpleHash(e){let r=0;for(let n=0;n<e.length;n++){const a=e.charCodeAt(n);r=(r<<5)-r+a,r=r&r}return Math.abs(r)/2147483647}async configureOpenAIProvider(e){console.log("OpenAI provider configuration pending")}async reindexDocument(e){await ae.from("thomaz_document_chunks").delete().eq("source_id",e),await this.indexDocument(e)}}class _H{constructor(){et(this,"memoryCache",new Map);et(this,"sessionContexts",new Map);et(this,"CACHE_TTL",15*60*1e3);et(this,"SESSION_TTL",60*60*1e3)}async getSessionContext(e){if(this.sessionContexts.has(e)){const r=this.sessionContexts.get(e);if(Date.now()-r.lastActivity.getTime()<this.SESSION_TTL)return r}try{const{data:r,error:n}=await ae.from("thomaz_conversations").select("*").eq("session_id",e).order("created_at",{ascending:!1}).limit(10);if(n)throw n;if(!r||r.length===0)return null;const a=this.extractTopics(r),i=this.summarizeConversation(r),o={sessionId:e,userId:r[0].user_id,userRole:r[0].user_role||"user",companyId:r[0].company_id,recentTopics:a,conversationSummary:i,lastActivity:new Date,metadata:{}};return this.sessionContexts.set(e,o),o}catch(r){return console.error("Get Session Context Error:",r),null}}async updateSessionContext(e,r){const a={...await this.getSessionContext(e)||{sessionId:e,userRole:"user",recentTopics:[],conversationSummary:"",lastActivity:new Date,metadata:{}},...r,lastActivity:new Date};this.sessionContexts.set(e,a)}extractTopics(e){var n;const r=new Set;for(const a of e){a.intent&&r.add(a.intent);const i=((n=a.content)==null?void 0:n.toLowerCase())||"",o=["oramento","financeiro","margem","estoque","cliente","os","ordem de servio","relatrio","dashboard"];for(const l of o)i.includes(l)&&r.add(l)}return Array.from(r).slice(0,5)}summarizeConversation(e){if(e.length===0)return"Nova conversa";const r=e.filter(i=>i.role==="user");if(r.length===0)return"Aguardando primeira mensagem";const n=r[0].content;return`Contexto recente: ${n.substring(0,100)}${n.length>100?"...":""}`}set(e,r,n=this.CACHE_TTL){const a=new Date(Date.now()+n);this.memoryCache.set(e,{key:e,value:r,expiresAt:a})}get(e){const r=this.memoryCache.get(e);return r?r.expiresAt<new Date?(this.memoryCache.delete(e),null):r.value:null}cleanExpired(){const e=new Date;for(const[r,n]of this.memoryCache.entries())n.expiresAt<e&&this.memoryCache.delete(r);for(const[r,n]of this.sessionContexts.entries())e.getTime()-n.lastActivity.getTime()>this.SESSION_TTL&&this.sessionContexts.delete(r)}startAutoCleanup(){setInterval(()=>{this.cleanExpired()},5*60*1e3)}cacheRetrievedDocs(e,r){const n=`retrieved_docs:${e}`;this.set(n,r,this.CACHE_TTL)}getCachedRetrievedDocs(e){const r=`retrieved_docs:${e}`;return this.get(r)}}class nhe{constructor(){et(this,"embeddingsService");et(this,"cacheService");et(this,"errors",[]);this.embeddingsService=new NH,this.cacheService=new _H}async initialize(){const e=Date.now();console.log(" Inicializando ThomazAI...");const r={database:!1,knowledgeBase:!1,embeddings:!1,cache:!1},n={totalDocuments:0,totalChunks:0,conversations24h:0,highConfidenceRate:0};try{await this.checkDatabase(),r.database=!0,console.log(" Database: Conectado")}catch(o){this.errors.push(`Database: ${o}`),console.error(" Database: Falha na conexo")}try{const o=await this.checkKnowledgeBase();r.knowledgeBase=!0,n.totalDocuments=o.totalDocuments,n.totalChunks=o.totalChunks,console.log(` Knowledge Base: ${n.totalDocuments} docs, ${n.totalChunks} chunks`)}catch(o){this.errors.push(`Knowledge Base: ${o}`),console.error(" Knowledge Base: Falha")}try{await this.initializeEmbeddings(),r.embeddings=!0,console.log(" Embeddings: Inicializados")}catch(o){this.errors.push(`Embeddings: ${o}`),console.error("  Embeddings: Usando modo fallback"),r.embeddings=!0}try{this.cacheService.startAutoCleanup(),r.cache=!0,console.log(" Cache: Ativo (limpeza automtica a cada 5min)")}catch(o){this.errors.push(`Cache: ${o}`),console.error(" Cache: Falha")}try{const o=await this.collectUsageMetrics();n.conversations24h=o.conversations24h,n.highConfidenceRate=o.highConfidenceRate,console.log(` Mtricas: ${n.conversations24h} conversas (24h), ${n.highConfidenceRate}% confiana`)}catch(o){console.warn("  Mtricas no disponveis:",o)}const a=Date.now()-e,i=r.database&&r.knowledgeBase;return i?console.log(` ThomazAI pronto! (${a}ms)`):console.error(` ThomazAI com problemas (${this.errors.length} erros)`),{success:i,duration:a,checks:r,errors:this.errors,metrics:n}}async checkDatabase(){const{error:e}=await ae.from("thomaz_knowledge_sources").select("id").limit(1);if(e)throw e}async checkKnowledgeBase(){const{data:e,error:r}=await ae.from("thomaz_knowledge_sources").select("id",{count:"exact"}).eq("is_active",!0);if(r)throw r;const{data:n,error:a}=await ae.from("thomaz_document_chunks").select("id",{count:"exact"});if(a)throw a;return{totalDocuments:(e==null?void 0:e.length)||0,totalChunks:(n==null?void 0:n.length)||0}}async initializeEmbeddings(){const{data:e,error:r}=await ae.from("thomaz_knowledge_sources").select("id, title").eq("is_active",!0);if(r)throw r;if(!e||e.length===0)return;let n=0;for(const a of e){const{data:i}=await ae.from("thomaz_document_chunks").select("id").eq("source_id",a.id).limit(1);(!i||i.length===0)&&n++}n>0&&(console.log(` ${n} documentos precisam de indexao`),console.log(" Indexao ser feita em background..."),setTimeout(()=>{this.embeddingsService.indexAllDocuments().then(()=>console.log(" Indexao em background concluda")).catch(a=>console.error(" Erro na indexao:",a))},5e3))}async collectUsageMetrics(){const{data:e,error:r}=await ae.from("thomaz_conversations").select("id, confidence").gte("created_at",new Date(Date.now()-864e5).toISOString());if(r)return{conversations24h:0,highConfidenceRate:0};const n=(e==null?void 0:e.length)||0,a=(e==null?void 0:e.filter(i=>i.confidence>.85).length)||0;return{conversations24h:n,highConfidenceRate:n>0?Math.round(a/n*100):0}}async healthCheck(){try{const{data:e,error:r}=await ae.rpc("thomaz_health_check");if(r)throw r;return e}catch(e){return console.error("Health check error:",e),null}}async forceReindex(){console.log(" Iniciando reindexao completa...");try{await this.embeddingsService.indexAllDocuments(),console.log(" Reindexao concluda")}catch(e){throw console.error(" Erro na reindexao:",e),e}}}let R_=null;function she(){return R_||(R_=new nhe),R_}async function ahe(){return await she().initialize()}function ihe({isOpen:t,onClose:e}){const[r,n]=B.useState(""),[a,i]=B.useState([]),[o,l]=B.useState(!1),[c,d]=B.useState(0),u=ms(),h=[{id:"new-os",type:"action",title:"Nova Ordem de Servio",subtitle:"Criar OS rapidamente",url:"/service-orders/create",icon:s.jsx(yt,{className:"w-5 h-5 text-blue-600"}),badge:"Ctrl+N"},{id:"new-cliente",type:"action",title:"Novo Cliente",subtitle:"Cadastrar cliente",url:"/clients/new",icon:s.jsx(yt,{className:"w-5 h-5 text-green-600"})},{id:"new-lancamento",type:"action",title:"Novo Lanamento",subtitle:"Adicionar receita/despesa",url:"/financial/new",icon:s.jsx(yt,{className:"w-5 h-5 text-purple-600"})}],A=B.useCallback(async m=>{if(!m||m.length<2){i(h);return}l(!0);try{const x=[],g=m.toLowerCase(),{data:p}=await ae.from("service_orders").select("id, order_number, client_name, status").or(`order_number.ilike.%${m}%,client_name.ilike.%${m}%`).limit(3);p==null||p.forEach(v=>{x.push({id:v.id,type:"os",title:`OS #${v.order_number}`,subtitle:v.client_name,url:`/service-orders/${v.id}`,icon:s.jsx(at,{className:"w-5 h-5 text-blue-600"}),badge:v.status})});const{data:f}=await ae.from("customers").select("id, name, document, phone").or(`name.ilike.%${m}%,document.ilike.%${m}%,phone.ilike.%${m}%`).limit(3);f==null||f.forEach(v=>{x.push({id:v.id,type:"cliente",title:v.name,subtitle:v.document||v.phone,url:`/clients/${v.id}`,icon:s.jsx(Mt,{className:"w-5 h-5 text-green-600"})})});const{data:y}=await ae.from("employees").select("id, name, role, phone").or(`name.ilike.%${m}%,role.ilike.%${m}%`).limit(3);y==null||y.forEach(v=>{x.push({id:v.id,type:"funcionario",title:v.name,subtitle:v.role||v.phone,url:`/employees/${v.id}`,icon:s.jsx(sie,{className:"w-5 h-5 text-purple-600"})})});const{data:b}=await ae.from("inventory_items").select("id, name, sku, current_stock").or(`name.ilike.%${m}%,sku.ilike.%${m}%`).limit(3);b==null||b.forEach(v=>{x.push({id:v.id,type:"material",title:v.name,subtitle:`SKU: ${v.sku} | Estoque: ${v.current_stock}`,url:`/inventory/${v.id}`,icon:s.jsx(Bt,{className:"w-5 h-5 text-orange-600"})})});const{data:N}=await ae.from("finance_entries").select("id, description, amount, type, due_date").ilike("description",`%${m}%`).order("due_date",{ascending:!1}).limit(3);N==null||N.forEach(v=>{x.push({id:v.id,type:"financeiro",title:v.description,subtitle:`R$ ${v.amount.toFixed(2)} - ${new Date(v.due_date).toLocaleDateString()}`,url:`/financial/${v.id}`,icon:s.jsx(Yt,{className:"w-5 h-5 text-emerald-600"}),badge:v.type==="receita"?"Receita":"Despesa"})}),i(x.length>0?x:[{id:"no-results",type:"action",title:"Nenhum resultado encontrado",subtitle:`Nada encontrado para "${m}"`,url:"#",icon:s.jsx(ur,{className:"w-5 h-5 text-gray-400"})}])}catch(x){console.error("Erro na busca:",x)}finally{l(!1)}},[]);return B.useEffect(()=>{const m=setTimeout(()=>{A(r)},300);return()=>clearTimeout(m)},[r,A]),B.useEffect(()=>{if(!t)return;const m=x=>{if((x.ctrlKey||x.metaKey)&&x.key==="k"){x.preventDefault(),x.stopPropagation();return}x.key==="Escape"?(x.preventDefault(),e()):x.key==="ArrowDown"?(x.preventDefault(),x.stopPropagation(),d(g=>Math.min(g+1,a.length-1))):x.key==="ArrowUp"?(x.preventDefault(),x.stopPropagation(),d(g=>Math.max(g-1,0))):x.key==="Enter"&&(x.preventDefault(),x.stopPropagation(),a[c]&&(u(a[c].url),e()))};return window.addEventListener("keydown",m,{capture:!0}),()=>window.removeEventListener("keydown",m,{capture:!0})},[t,a,c,u,e]),B.useEffect(()=>{t&&(n(""),i(h),d(0))},[t]),t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh] px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),s.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-200",children:[s.jsx(ur,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),s.jsx("input",{type:"text",value:r,onChange:m=>n(m.target.value),placeholder:"Buscar OSs, clientes, funcionrios, materiais...",className:"flex-1 text-lg bg-transparent border-none outline-none",autoFocus:!0}),o&&s.jsx(b0,{className:"w-5 h-5 text-blue-600 animate-spin"}),s.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(At,{className:"w-5 h-5 text-gray-400"})})]}),s.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:a.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(ur,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"Digite para buscar..."})]}):s.jsx("div",{className:"py-2",children:a.map((m,x)=>s.jsxs("button",{onClick:()=>{m.url!=="#"&&(u(m.url),e())},className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors ${x===c?"bg-blue-50":""}`,children:[s.jsx("div",{className:"flex-shrink-0",children:m.icon}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-medium text-gray-900",children:m.title}),m.subtitle&&s.jsx("div",{className:"text-sm text-gray-500",children:m.subtitle})]}),m.badge&&s.jsx("div",{className:"flex-shrink-0 text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded",children:m.badge})]},m.id))})}),s.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded border border-gray-300 font-mono",children:""}),s.jsx("span",{children:"Navegar"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded border border-gray-300 font-mono",children:"Enter"}),s.jsx("span",{children:"Selecionar"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded border border-gray-300 font-mono",children:"Esc"}),s.jsx("span",{children:"Fechar"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Aie,{className:"w-3 h-3"}),s.jsx("span",{children:"+K para abrir"})]})]})]})]}):null}function ohe(){const[t,e]=B.useState(!1);return B.useEffect(()=>{const r=n=>{(n.metaKey||n.ctrlKey)&&n.key==="k"&&(n.preventDefault(),n.stopPropagation(),e(a=>!a)),n.key==="Escape"&&e(!1)};return window.addEventListener("keydown",r,{capture:!0}),()=>window.removeEventListener("keydown",r,{capture:!0})},[]),{isSearchOpen:t,openSearch:()=>e(!0),closeSearch:()=>e(!1)}}function lhe({isOpen:t,onClose:e}){const[r,n]=B.useState(""),[a,i]=B.useState([]),[o,l]=B.useState(0),[c,d]=B.useState(!1),u=ms(),h=B.useRef(null),A=[{id:"new-os",type:"action",title:"Nova Ordem de Servio",icon:s.jsx(yt,{className:"h-4 w-4"}),link:"/service-orders/create"},{id:"new-customer",type:"action",title:"Novo Cliente",icon:s.jsx(Mt,{className:"h-4 w-4"}),link:"/customers/new"},{id:"new-finance",type:"action",title:"Novo Lanamento Financeiro",icon:s.jsx(Yt,{className:"h-4 w-4"}),link:"/financial/new"},{id:"dashboard",type:"page",title:"Dashboard",icon:s.jsx(pr,{className:"h-4 w-4"}),link:"/dashboard"},{id:"service-orders",type:"page",title:"Ordens de Servio",icon:s.jsx(at,{className:"h-4 w-4"}),link:"/service-orders"},{id:"customers",type:"page",title:"Clientes",icon:s.jsx(Mt,{className:"h-4 w-4"}),link:"/client-management"},{id:"inventory",type:"page",title:"Estoque",icon:s.jsx(Bt,{className:"h-4 w-4"}),link:"/inventory"},{id:"settings",type:"page",title:"Configuraes",icon:s.jsx(jd,{className:"h-4 w-4"}),link:"/settings"}];B.useEffect(()=>{var y;t&&((y=h.current)==null||y.focus(),n(""),l(0))},[t]),B.useEffect(()=>{if(r.trim()===""){i(A);return}m(r)},[r]);const m=async y=>{d(!0);const b=[];try{const N=y.toLowerCase(),{data:v}=await ae.from("service_orders").select("id, order_number, status").or(`order_number.ilike.%${y}%,status.ilike.%${y}%`).limit(5);v==null||v.forEach(M=>{b.push({id:M.id,type:"service_order",title:`OS #${M.order_number}`,subtitle:M.status,icon:s.jsx(at,{className:"h-4 w-4"}),link:`/service-orders/${M.id}`})});const{data:C}=await ae.from("customers").select("id, name, email").or(`name.ilike.%${y}%,email.ilike.%${y}%`).limit(5);C==null||C.forEach(M=>{b.push({id:M.id,type:"customer",title:M.name,subtitle:M.email,icon:s.jsx(Mt,{className:"h-4 w-4"}),link:`/client-management?customer=${M.id}`})});const{data:P}=await ae.from("service_catalog").select("id, name, category").ilike("name",`%${y}%`).limit(5);P==null||P.forEach(M=>{b.push({id:M.id,type:"product",title:M.name,subtitle:M.category,icon:s.jsx(Bt,{className:"h-4 w-4"}),link:`/service-catalog/${M.id}`})});const{data:_}=await ae.from("employees").select("id, name, role").ilike("name",`%${y}%`).limit(5);_==null||_.forEach(M=>{b.push({id:M.id,type:"employee",title:M.name,subtitle:M.role,icon:s.jsx(Mt,{className:"h-4 w-4"}),link:`/employees/${M.id}`})});const k=A.filter(M=>M.title.toLowerCase().includes(N));i([...k,...b])}catch(N){console.error("Error searching:",N)}finally{d(!1)}},x=y=>{y.key==="ArrowDown"?(y.preventDefault(),l(b=>(b+1)%a.length)):y.key==="ArrowUp"?(y.preventDefault(),l(b=>(b-1+a.length)%a.length)):y.key==="Enter"?(y.preventDefault(),a[o]&&g(a[o])):y.key==="Escape"&&e()},g=y=>{u(y.link),e()},p=y=>{switch(y){case"service_order":return"Ordem de Servio";case"customer":return"Cliente";case"product":return"Produto/Servio";case"employee":return"Funcionrio";case"action":return"Ao Rpida";case"page":return"Pgina";default:return""}},f=y=>{switch(y){case"service_order":return"text-blue-600 bg-blue-50";case"customer":return"text-green-600 bg-green-50";case"product":return"text-purple-600 bg-purple-50";case"employee":return"text-orange-600 bg-orange-50";case"action":return"text-red-600 bg-red-50";case"page":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity",onClick:e}),s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 w-full max-w-2xl z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-200",children:[s.jsx(ur,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("input",{ref:h,type:"text",value:r,onChange:y=>n(y.target.value),onKeyDown:x,placeholder:"Buscar em tudo... ( para navegar, Enter para selecionar, Esc para fechar)",className:"flex-1 outline-none text-gray-900 placeholder-gray-400"}),c&&s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})]}),s.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:a.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(ur,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Nenhum resultado encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Tente buscar por nome, nmero ou categoria"})]}):s.jsxs("div",{className:"py-2",children:[r===""&&s.jsx("div",{className:"px-3 py-2",children:s.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Aes Rpidas"})}),a.map((y,b)=>s.jsxs("button",{onClick:()=>g(y),className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors ${b===o?"bg-blue-50 border-l-4 border-blue-600":""}`,children:[s.jsx("div",{className:`p-2 rounded-lg ${f(y.type)}`,children:y.icon}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-medium text-gray-900",children:y.title}),y.subtitle&&s.jsx("div",{className:"text-sm text-gray-500",children:y.subtitle})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f(y.type)}`,children:p(y.type)}),s.jsx(ci,{className:"h-4 w-4 text-gray-400"})]})]},y.id))]})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{children:" Navegar"}),s.jsx("span",{children:"Enter Selecionar"}),s.jsx("span",{children:"Esc Fechar"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("kbd",{className:"px-2 py-1 bg-white border border-gray-300 rounded",children:"Ctrl"}),s.jsx("span",{children:"+"}),s.jsx("kbd",{className:"px-2 py-1 bg-white border border-gray-300 rounded",children:"K"})]})]})]})})]}):null}function che(){const[t,e]=B.useState(!1);return B.useEffect(()=>{const r=n=>{(n.metaKey||n.ctrlKey)&&n.key==="k"&&(n.preventDefault(),e(!0))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),{isOpen:t,open:()=>e(!0),close:()=>e(!1),toggle:()=>e(r=>!r)}}function dhe(){const t=ms(),e=Id(),r=[{icon:s.jsx(Wie,{className:"h-6 w-6"}),label:"Incio",path:"/dashboard"},{icon:s.jsx(at,{className:"h-6 w-6"}),label:"OSs",path:"/service-orders"},{icon:s.jsx(yt,{className:"h-8 w-8"}),label:"Criar",path:"/service-orders/create"},{icon:s.jsx(om,{className:"h-6 w-6"}),label:"Alertas",path:"/notifications",badge:3},{icon:s.jsx(Nr,{className:"h-6 w-6"}),label:"Perfil",path:"/profile"}],n=a=>e.pathname===a||e.pathname.startsWith(a+"/");return s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-inset-bottom",children:s.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:r.map((a,i)=>{const o=n(a.path),l=i===2;return s.jsx("button",{onClick:()=>t(a.path),className:`flex flex-col items-center justify-center flex-1 relative ${l?"transform -translate-y-6":""}`,children:l?s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full shadow-lg flex items-center justify-center text-white",children:a.icon}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`relative ${o?"text-blue-600":"text-gray-400"}`,children:[a.icon,a.badge&&a.badge>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:a.badge>9?"9+":a.badge})]}),s.jsx("span",{className:`text-xs mt-1 font-medium ${o?"text-blue-600":"text-gray-600"}`,children:a.label})]})},a.path)})})})}function uhe(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log(" SW registered:",t),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log(" New SW available"),hhe())})})}).catch(t=>{console.error(" SW registration failed:",t)})})}function hhe(){confirm("Nova verso disponvel! Deseja atualizar agora?")&&window.location.reload()}function Ahe(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}const CH=B.createContext(void 0),cn=()=>{const t=B.useContext(CH);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},mhe=({children:t})=>{const[e,r]=B.useState(null),[n,a]=B.useState(null),[i,o]=B.useState(!0);B.useEffect(()=>{const f={id:"mock-admin-id",email:"admin@sistema.com",name:"Administrador",role:"admin",avatar:void 0,status:"active",department_id:void 0,phone:void 0,permissions:["view_dashboard","manage_orders","view_orders","manage_clients","view_clients","manage_inventory","view_inventory","manage_financial","view_financial","view_bank_balances","manage_users","system_settings"]},y={id:"mock-admin-id",email:"admin@sistema.com",aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),app_metadata:{},user_metadata:{}};a(f),r({...f,authUser:y}),o(!1)},[]);const l=(n==null?void 0:n.role)==="admin",c=(n==null?void 0:n.role)==="manager",d=(n==null?void 0:n.role)==="technician",u=(n==null?void 0:n.role)==="external",h=l||c,A=l,m=f=>{var y;return l?!0:((y=n==null?void 0:n.permissions)==null?void 0:y.includes(f))||!1},x=async(f,y)=>{console.log("Login simulado:",f)},g=async()=>{console.log("Logout simulado")},p=f=>{console.log("Premium feature requested:",f)};return s.jsx(CH.Provider,{value:{user:e,profile:n,isLoading:i,isAdmin:l,isManager:c,isTechnician:d,isExternal:u,isPremium:h,isEnterprise:A,hasPermission:m,login:x,logout:g,onPremiumFeature:p},children:t})},wp=[{id:"inicio",path:"/",icon:Pu,label:"Dashboard CFO",description:"20+ KPIs executivos em tempo real para decises estratgicas"},{id:"agenda",path:"/calendar",icon:lr,label:"Agenda",description:"Compromissos e eventos"},{id:"clients",path:"/client-management",icon:Mt,label:"Clientes",description:"Gesto de clientes PF/PJ"},{id:"fornecedores",path:"/suppliers",icon:$o,label:"Fornecedores",description:"Gesto de fornecedores"},{id:"compras",path:"/purchasing",icon:HA,label:"Compras",description:"Pedidos e alertas de estoque"},{id:"service-orders",path:"/service-orders",icon:wa,label:"Ordens de Servio",description:"Gesto de OS"},{id:"rotas",path:"/rotas",icon:w0,label:"Rotas",description:"Rastreamento e gesto de rotas"},{id:"financeiro",path:"/financeiro",icon:Yt,label:"Financeiro",description:"Centro financeiro completo com dashboard, movimentaes, anlises, contas e categorias"},{id:"executivo",path:"/executivo",icon:pr,label:"Consolidado Executivo",description:"Viso consolidada com Credit Scoring, Metas & Targets e anlises estratgicas"},{id:"relatorios",path:"/relatorios",icon:at,label:"Relatrios",description:"Todos os relatrios: dashboards interativos, PDFs profissionais e anlises customizadas"},{id:"catalogo",path:"/service-catalog",icon:tk,label:"Catlogo de Servios",description:"Servios disponveis"},{id:"inventory",path:"/inventory",icon:Bt,label:"Estoque",description:"Controle de materiais"},{id:"automacoes",path:"/automacoes",icon:dd,label:"Automaes",description:"Workflows e automaes"},{id:"whatsapp-crm",path:"/whatsapp-crm",icon:dm,label:"WhatsApp CRM",description:"Gesto de conversas"},{id:"thomaz",path:"/thomaz",icon:lm,label:"Thomaz AI",description:"Consultor Empresarial"},{id:"thomaz-metrics",path:"/thomaz-metrics",icon:lm,label:"Mtricas Thomaz",description:"Performance da IA"},{id:"email",path:"/email/inbox",icon:ts,label:"Email Corporativo",description:"Enviar e receber emails"},{id:"library",path:"/digital-library",icon:aoe,label:"Biblioteca Digital",description:"Documentos e arquivos"},{id:"funcionarios",path:"/funcionarios",icon:Dle,label:"Funcionrios",description:"Gesto de funcionrios"},{id:"users",path:"/users",icon:Mt,label:"Usurios",description:"Gerenciar usurios"},{id:"access",path:"/access-management",icon:cm,label:"Gesto de Acessos",description:"Controle de permisses"},{id:"audit",path:"/audit-logs",icon:jr,label:"Auditoria",description:"Rastreamento de operaes"},{id:"document-templates",path:"/document-templates",icon:at,label:"Templates de Documentos",description:"Gerenciar templates de OS, contratos e propostas"},{id:"customization",path:"/visual-customization",icon:B2,label:"Personalizao",description:"Customizar interface"},{id:"settings",path:"/settings",icon:jd,label:"Configuraes",description:"Configuraes gerais"}],fhe=({onCollapse:t})=>{var j;const e=Id(),{user:r,logout:n}=cn(),[a,i]=B.useState(!1),[o,l]=B.useState(wp),[c,d]=B.useState(null),[u,h]=B.useState(!1),[A,m]=B.useState(0),[x,g]=B.useState({total:0,meeting:0,pagar:0,cobrar:0,operational:0,other:0});B.useEffect(()=>{b().catch(F=>{console.error("Failed to load menu order:",F)}),f(),y();const S=setInterval(()=>{f(),y()},6e4);return()=>clearInterval(S)},[]);const p=()=>(r==null?void 0:r.email)||"default_user",f=async()=>{try{const{data:S,error:F}=await ae.rpc("get_critical_stock_count");!F&&S!==null&&m(S)}catch(S){console.error("Error loading stock alerts:",S)}},y=async()=>{try{const{data:S,error:F}=await ae.rpc("get_urgent_events_by_type");!F&&S!==null&&g(S)}catch(S){console.error("Error loading agenda alerts:",S)}},b=async()=>{try{const S=p(),{data:F,error:O}=await ae.from("user_menu_order").select("menu_items").eq("user_id",S).maybeSingle();if(O){console.warn("Error loading menu order, using defaults:",O);return}if(F&&F.menu_items&&Array.isArray(F.menu_items)){const H=F.menu_items,U=H.map(R=>wp.find(I=>I.id===R)).filter(R=>R!==void 0),z=wp.filter(R=>!H.includes(R.id));l([...U,...z])}}catch(S){console.error("Error loading menu order, using defaults:",S)}},N=async S=>{try{const F=p(),O=S.map(U=>U.id),{error:H}=await ae.from("user_menu_order").upsert({user_id:F,menu_items:O,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(H)throw H}catch(F){console.error("Error saving menu order:",F)}},v=(S,F)=>{u&&(d(F),S.dataTransfer.effectAllowed="move")},C=S=>{u&&(S.preventDefault(),S.dataTransfer.dropEffect="move")},P=(S,F)=>{if(!u||!c)return;S.preventDefault();const O=o.findIndex(R=>R.id===c),H=o.findIndex(R=>R.id===F);if(O===-1||H===-1)return;const U=[...o],[z]=U.splice(O,1);U.splice(H,0,z),l(U),N(U),d(null)},_=()=>{l(wp),N(wp)},k=()=>{const S=!a;i(S),t==null||t(S)},M=S=>e.pathname===S;return s.jsxs(se.aside,{initial:{x:0},animate:{width:a?"80px":"280px"},transition:{duration:.3},className:"fixed left-0 top-0 bg-gradient-to-b from-gray-900 to-gray-800 text-white h-screen flex flex-col shadow-2xl z-50",children:[s.jsx("div",{className:"p-4 border-b border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[!a&&s.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2",children:[s.jsx(Pu,{className:"h-8 w-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"GiarTech"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Sistema Integrado"})]})]}),s.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:a?s.jsx(N2,{className:"h-5 w-5"}):s.jsx(Nw,{className:"h-5 w-5"})})]})}),!a&&s.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>h(!u),className:`text-xs px-3 py-1 rounded transition-colors ${u?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:u?"Salvar Ordem":"Editar Menu"}),u&&s.jsxs("button",{onClick:_,className:"text-xs px-3 py-1 rounded bg-gray-700 text-gray-300 hover:bg-gray-600 flex items-center gap-1",title:"Restaurar ordem padro",children:[s.jsx(z9,{className:"h-3 w-3"}),"Restaurar"]})]}),u&&s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Arraste os itens para reordenar"})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:o.map(S=>{const F=S.icon,O=M(S.path);return s.jsxs(vo,{to:S.path,draggable:u,onDragStart:H=>v(H,S.id),onDragOver:C,onDrop:H=>P(H,S.id),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group relative ${O?"bg-blue-600 text-white shadow-lg":"hover:bg-gray-700 text-gray-300"} ${u?"cursor-move":"cursor-pointer"} ${c===S.id?"opacity-50":""}`,title:a?S.label:"",children:[u&&!a&&s.jsx(Hie,{className:"h-4 w-4 text-gray-400"}),s.jsx(F,{className:`h-5 w-5 ${O?"text-white":"text-gray-400 group-hover:text-white"}`}),!a&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[s.jsx("p",{className:"font-medium truncate",children:S.label}),S.id==="compras"&&A>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse",children:A}),S.id==="agenda"&&x.total>0&&s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[x.meeting>0&&s.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Reunies/Pessoal",children:x.meeting}),x.pagar>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Pagamentos",children:x.pagar}),x.cobrar>0&&s.jsx("span",{className:"bg-green-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Cobranas",children:x.cobrar}),x.operational>0&&s.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Operacional",children:x.operational}),x.other>0&&s.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Outros",children:x.other})]})]}),s.jsx("p",{className:"text-xs opacity-75 truncate",children:S.description})]}),S.id==="compras"&&A>0&&a&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse min-w-[20px] text-center",children:A}),S.id==="agenda"&&x.total>0&&a&&s.jsxs("div",{className:"absolute -top-1 -right-1 flex flex-col gap-0.5",children:[x.meeting>0&&s.jsx("span",{className:"bg-blue-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Reunies",children:x.meeting}),x.pagar>0&&s.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Pagar",children:x.pagar}),x.cobrar>0&&s.jsx("span",{className:"bg-green-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Cobrar",children:x.cobrar}),x.operational>0&&s.jsx("span",{className:"bg-orange-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Operacional",children:x.operational}),x.other>0&&s.jsx("span",{className:"bg-purple-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Outros",children:x.other})]}),O&&!a&&s.jsx(se.div,{layoutId:"activeIndicator",className:"absolute right-0 top-0 bottom-0 w-1 bg-white rounded-l"})]},S.id)})}),s.jsx("div",{className:"p-4 border-t border-gray-700",children:a?s.jsx("button",{onClick:n,className:"w-full p-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",title:"Sair",children:s.jsx(ZT,{className:"h-5 w-5 mx-auto"})}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-800 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold",children:((j=r==null?void 0:r.name)==null?void 0:j[0])||"U"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:(r==null?void 0:r.name)||"Usurio"}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:(r==null?void 0:r.email)||"user@example.com"})]})]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(ZT,{className:"h-5 w-5"}),s.jsx("span",{children:"Sair"})]})]})})]})},Ft=({children:t})=>{const[e,r]=B.useState(!1),[n,a]=B.useState("calc(100% - 280px)"),[i,o]=B.useState("280px"),l=c=>{r(c)};return B.useEffect(()=>{e?(a("calc(100% - 80px)"),o("80px")):(a("calc(100% - 280px)"),o("280px"))},[e]),B.useEffect(()=>{const c=d=>{d.altKey&&d.key==="h"&&console.log("Quick access activated with Alt+H")};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(fhe,{onCollapse:l}),s.jsx("main",{className:"min-h-screen transition-all duration-300",style:{marginLeft:i},children:t||s.jsx(pee,{})})]})},Q_="serviceOrderDraft",phe=({isOpen:t,onClose:e,onSave:r,orderId:n})=>{const[a,i]=B.useState("dados"),[o,l]=B.useState(!1),[c,d]=B.useState(""),[u,h]=B.useState(""),[A,m]=B.useState(""),[x,g]=B.useState(null),[p,f]=B.useState({customer_id:"",description:"",scheduled_at:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,payment_method:"dinheiro",payment_installments:1,warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",estimated_hours:0,actual_hours:0,title:"",brand:"",model:"",equipment:"",prazo_execucao_dias:15,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",additional_info:""}),[y,b]=B.useState([]),[N,v]=B.useState(null),[C,P]=B.useState([]),[_,k]=B.useState([]),[M,j]=B.useState([]),[S,F]=B.useState([]),[O,H]=B.useState([]),[U,z]=B.useState([]),[R,I]=B.useState([]),[K,te]=B.useState([]),[Q,D]=B.useState(!1),[X,V]=B.useState(!1),[de,le]=B.useState(!1),[ie,ce]=B.useState({nome_razao:"",telefone:"",email:"",cnpj_cpf:""}),[be,J]=B.useState({name:"",description:"",base_price:0,estimated_time_minutes:60}),[ue,ke]=B.useState({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1});B.useEffect(()=>{t?(Qe(),n?we(n):Ne()):i("dados")},[t,n]),B.useEffect(()=>{t&&!n&&q()},[p,U,R,K]),B.useEffect(()=>{if(p.customer_id&&y.length>0){const Ae=y.find(ut=>ut.id===p.customer_id);v(Ae||null)}},[p.customer_id,y]);const Qe=async()=>{try{const[Ae,ut,He,ht,gr,it]=await Promise.all([ae.from("customers").select("*, customer_addresses(*)").order("nome_razao"),ae.from("materials").select("*").eq("active",!0).order("name"),ae.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),ae.from("bank_accounts").select("*").eq("active",!0).order("account_name"),ae.from("contract_templates").select("*").order("name"),ae.from("service_catalog").select("*, service_catalog_materials(*)").eq("active",!0).order("name")]);b(Ae.data||[]),P(ut.data||[]),k(He.data||[]),j(ht.data||[]),F(gr.data||[]),H(it.data||[])}catch(Ae){console.error("Error loading data:",Ae)}},we=async Ae=>{try{l(!0);const[ut,He,ht,gr]=await Promise.all([ae.from("service_orders").select("*").eq("id",Ae).single(),ae.from("service_order_items").select("*").eq("service_order_id",Ae),ae.from("service_order_materials").select("*").eq("service_order_id",Ae),ae.from("service_order_team").select("*").eq("service_order_id",Ae)]),it=ut.data;if(!it)throw new Error("Ordem no encontrada");if(console.log(" Carregando OS:",Ae),console.log(" Ordem:",it),console.log(" Itens:",He.data),console.log(" Materiais:",ht.data),console.log(" Equipe:",gr.data),f({customer_id:it.customer_id||"",description:it.description||"",scheduled_at:it.scheduled_at||"",desconto_percentual:it.discount_percentage||0,desconto_valor:it.discount_amount||0,show_material_costs:it.show_material_costs||!1,payment_method:it.payment_method||"dinheiro",payment_installments:it.payment_installments||1,warranty_period:it.warranty_period||90,warranty_type:it.warranty_type||"days",warranty_terms:it.warranty_terms||"",bank_account_id:it.bank_account_id||"",contract_template_id:it.contract_template_id||"",contract_notes:it.contract_notes||"",notes:it.notes||"",estimated_hours:it.estimated_hours||0,actual_hours:it.actual_hours||0,title:it.title||"",brand:it.brand||"",model:it.model||"",equipment:it.equipment||"",prazo_execucao_dias:it.prazo_execucao_dias||15,relatorio_tecnico:it.relatorio_tecnico||"",orientacoes_servico:it.orientacoes_servico||"",escopo_detalhado:it.escopo_detalhado||"",additional_info:it.additional_info||""}),He.data&&He.data.length>0){const St=await Promise.all(He.data.map(async _t=>{const Gt=await ae.from("service_order_materials").select("*").eq("service_order_id",Ae).eq("service_order_item_id",_t.id),fn=await ae.from("service_order_team").select("*").eq("service_order_id",Ae).eq("service_order_item_id",_t.id),tn=(Gt.data||[]).map(re=>({id:re.id,material_id:re.material_id||"",nome:re.material_name||"",quantidade:re.quantity||0,unidade_medida:re.unit||"un",preco_compra_unitario:re.unit_cost||0,preco_venda_unitario:re.unit_price||0,custo_total:(re.unit_cost||0)*(re.quantity||0),valor_total:(re.unit_price||0)*(re.quantity||0),lucro:((re.unit_price||0)-(re.unit_cost||0))*(re.quantity||0)})),qr=(fn.data||[]).map(re=>({id:re.id,staff_id:re.employee_id||"",nome:re.employee_name||"",tempo_minutos:re.hours_worked?re.hours_worked*60:0,custo_hora:re.hourly_rate||0,custo_total:(re.hourly_rate||0)*(re.hours_worked||0)}));return{id:_t.id,catalog_service_id:_t.service_catalog_id||"",descricao:_t.service_name||_t.description||"Servio",quantidade:_t.quantity||1,preco_unitario:_t.unit_price||0,preco_total:_t.total_price||0,tempo_estimado_minutos:_t.estimated_duration||0,materiais:tn,funcionarios:qr,custo_materiais:tn.reduce((re,Ue)=>re+Ue.custo_total,0),custo_mao_obra:qr.reduce((re,Ue)=>re+Ue.custo_total,0),custo_total:_t.total_cost||0,lucro:(_t.total_price||0)-(_t.total_cost||0),margem_lucro:_t.total_price?(_t.total_price-(_t.total_cost||0))/_t.total_price*100:0}}));console.log(" Servios carregados com materiais e mo de obra:",St),z(St)}if(ht.data&&ht.data.length>0){const _t=ht.data.filter(Gt=>!Gt.service_order_item_id).map(Gt=>({id:Gt.id,material_id:Gt.material_id||"",nome:Gt.material_name||"",quantidade:Gt.quantity||0,unidade_medida:Gt.unit||"un",preco_compra_unitario:Gt.unit_cost||0,preco_venda_unitario:Gt.unit_price||0,custo_total:(Gt.unit_cost||0)*(Gt.quantity||0),valor_total:(Gt.unit_price||0)*(Gt.quantity||0),lucro:((Gt.unit_price||0)-(Gt.unit_cost||0))*(Gt.quantity||0)}));console.log(" Materiais globais:",_t),I(_t)}if(gr.data&&gr.data.length>0){const _t=gr.data.filter(Gt=>!Gt.service_order_item_id).map(Gt=>({id:Gt.id,staff_id:Gt.employee_id||"",nome:Gt.employee_name||"",tempo_minutos:Gt.hours_worked?Gt.hours_worked*60:0,custo_hora:Gt.hourly_rate||0,custo_total:(Gt.hourly_rate||0)*(Gt.hours_worked||0)}));console.log(" Mo de obra global:",_t),te(_t)}console.log(" Carregamento completo!")}catch(ut){console.error(" Erro ao carregar OS:",ut),alert("Erro ao carregar dados da ordem de servio: "+ut.message)}finally{l(!1)}},q=()=>{try{const Ae={formData:p,serviceItems:U,globalMaterials:R,globalLabor:K,timestamp:new Date().toISOString()};localStorage.setItem(Q_,JSON.stringify(Ae))}catch(Ae){console.error("Error saving draft:",Ae)}},Ne=()=>{try{const Ae=localStorage.getItem(Q_);if(Ae){const ut=JSON.parse(Ae);f(ut.formData||p),z(ut.serviceItems||[]),I(ut.globalMaterials||[]),te(ut.globalLabor||[])}}catch(Ae){console.error("Error loading draft:",Ae)}},Be=()=>{try{localStorage.removeItem(Q_)}catch(Ae){console.error("Error clearing draft:",Ae)}},Z=()=>{z([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0},...U])},pe=Ae=>{z(U.filter(ut=>ut.id!==Ae))},De=(Ae,ut)=>{z(U.map(He=>{var ht,gr;if(He.id===Ae){const it={...He,...ut};return it.preco_total=it.quantidade*it.preco_unitario,it.custo_materiais=((ht=it.materiais)==null?void 0:ht.reduce((St,_t)=>St+_t.custo_total,0))||0,it.custo_mao_obra=((gr=it.funcionarios)==null?void 0:gr.reduce((St,_t)=>St+_t.custo_total,0))||0,it.custo_total=it.custo_materiais+it.custo_mao_obra,it.lucro=it.preco_total-it.custo_total,it.margem_lucro=it.custo_total>0?it.lucro/it.custo_total*100:0,it}return He}))},je=()=>{I([{id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0},...R])},Me=Ae=>{I(R.filter(ut=>ut.id!==Ae))},rt=(Ae,ut)=>{I(R.map(He=>{if(He.id===Ae){const ht={...He,...ut};return ht.custo_total=ht.quantidade*ht.preco_compra_unitario,ht.valor_total=ht.quantidade*ht.preco_venda_unitario,ht.lucro=ht.valor_total-ht.custo_total,ht}return He}))},Pe=(Ae,ut)=>{const He=C.find(ht=>ht.id===ut);He&&(rt(Ae,{material_id:ut,nome:He.name,unidade_medida:He.unit||"UN",preco_compra_unitario:Number(He.unit_cost)||0,preco_venda_unitario:Number(He.sale_price)||0}),d(""))},fe=()=>{te([{id:crypto.randomUUID(),staff_id:"",nome:"",tempo_minutos:60,custo_hora:0,custo_total:0},...K])},Ve=Ae=>{te(K.filter(ut=>ut.id!==Ae))},ze=(Ae,ut)=>{te(K.map(He=>{if(He.id===Ae){const ht={...He,...ut},gr=ht.tempo_minutos/60;return ht.custo_total=gr*ht.custo_hora,ht}return He}))},ct=(Ae,ut)=>{const He=_.find(ht=>ht.id===ut);He&&(ze(Ae,{staff_id:ut,nome:He.name,custo_hora:Number(He.custo_hora)||0}),h(""))},Ct=(Ae,ut)=>{const He=O.find(ht=>ht.id===ut);He&&(De(Ae,{catalog_service_id:ut,descricao:He.name,preco_unitario:Number(He.base_price)||0,tempo_estimado_minutos:Number(He.estimated_time_minutes)||0}),m(""),g(null))},Ze=()=>{const Ae=U.reduce((tn,qr)=>tn+qr.preco_total,0),ut=p.desconto_valor||Ae*(p.desconto_percentual/100),He=U.reduce((tn,qr)=>tn+qr.custo_materiais,0),ht=U.reduce((tn,qr)=>tn+qr.custo_mao_obra,0),gr=R.reduce((tn,qr)=>tn+qr.custo_total,0),it=K.reduce((tn,qr)=>tn+qr.custo_total,0),St=He+ht+gr+it,_t=Ae-ut,Gt=_t-St,fn=St>0?Gt/St*100:0;return{subtotal:Ae,desconto:ut,total:_t,custo_total:St,lucro_total:Gt,margem_lucro:fn,custo_total_materiais:He+gr,custo_total_mao_obra:ht+it,global_materiais:gr,global_mao_obra:it}},hr=async()=>{try{if(console.log(" Iniciando cadastro de cliente:",ie),!ie.nome_razao){alert("Nome/Razo Social  obrigatrio!");return}const{data:Ae,error:ut}=await ae.from("customers").insert([{...ie,tipo:"fisica",active:!0}]).select().single();if(ut)throw console.error(" Erro ao cadastrar cliente:",ut),ut;console.log(" Cliente cadastrado:",Ae),alert(" Cliente cadastrado com sucesso!"),b([...y,Ae]),f({...p,customer_id:Ae.id}),D(!1),ce({nome_razao:"",telefone:"",email:"",cnpj_cpf:""})}catch(Ae){console.error(" Erro completo:",Ae),alert(` Erro ao cadastrar cliente: ${Ae.message}`)}},It=async()=>{try{if(console.log(" Iniciando cadastro de servio:",be),!be.name){alert("Nome do servio  obrigatrio!");return}const{data:Ae,error:ut}=await ae.from("service_catalog").insert([{...be,active:!0,unit:"un"}]).select().single();if(ut)throw console.error(" Erro ao cadastrar servio:",ut),ut;console.log(" Servio cadastrado:",Ae),alert(" Servio cadastrado com sucesso!"),H([...O,Ae]),V(!1),J({name:"",description:"",base_price:0,estimated_time_minutes:60})}catch(Ae){console.error(" Erro completo:",Ae),alert(` Erro ao cadastrar servio: ${Ae.message}`)}},en=async()=>{try{if(console.log(" Iniciando cadastro de material:",ue),!ue.name){alert("Nome do material  obrigatrio!");return}const{data:Ae,error:ut}=await ae.from("inventory_items").insert([{name:ue.name,unit:ue.unit,purchase_price:ue.unit_cost,sale_price:ue.unit_price,quantity:ue.quantity,active:!0,min_quantity:1}]).select().single();if(ut)throw console.error(" Erro ao cadastrar material:",ut),ut;console.log(" Material cadastrado:",Ae),alert(" Material cadastrado com sucesso!"),P([...C,Ae]),le(!1),ke({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1})}catch(Ae){console.error(" Erro completo:",Ae),alert(` Erro ao cadastrar material: ${Ae.message}`)}},cr=async()=>{try{if(!p.customer_id||U.length===0){alert("Selecione um cliente e adicione pelo menos um servio!");return}l(!0);const Ae=Ze(),ut=p.scheduled_at?new Date(new Date(p.scheduled_at).getTime()+p.warranty_period*(p.warranty_type==="days"?864e5:p.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,He={customer_id:p.customer_id,description:p.description,scheduled_at:p.scheduled_at||null,status:"aberta",total_value:Ae.total,desconto_percentual:p.desconto_percentual,desconto_valor:p.desconto_valor,custo_total_materiais:Ae.custo_total_materiais,custo_total_mao_obra:Ae.custo_total_mao_obra,custo_total:Ae.custo_total,lucro_total:Ae.lucro_total,margem_lucro:Ae.margem_lucro,show_material_costs:p.show_material_costs,payment_method:p.payment_method,payment_installments:p.payment_installments,bank_account_id:p.bank_account_id||null,warranty_period:p.warranty_period,warranty_type:p.warranty_type,warranty_terms:p.warranty_terms,warranty_end_date:ut,contract_template_id:p.contract_template_id||null,contract_notes:p.contract_notes,subtotal:Ae.subtotal,discount_amount:Ae.desconto,final_total:Ae.total,notes:p.notes,client_name:(N==null?void 0:N.nome_razao)||"",client_company_name:(N==null?void 0:N.nome_fantasia)||"",client_cnpj:(N==null?void 0:N.cnpj)||"",client_cpf:(N==null?void 0:N.cpf)||"",client_phone:(N==null?void 0:N.telefone_1)||"",client_email:(N==null?void 0:N.email)||"",client_address:N!=null&&N.endereco_logradouro?`${N.endereco_logradouro}${N.endereco_numero?", "+N.endereco_numero:""}${N.endereco_complemento?" - "+N.endereco_complemento:""}${N.endereco_bairro?", "+N.endereco_bairro:""}`:"",client_city:(N==null?void 0:N.endereco_cidade)||"",client_state:(N==null?void 0:N.endereco_estado)||"",client_cep:(N==null?void 0:N.endereco_cep)||"",payment_methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",payment_pix:(N==null?void 0:N.cnpj)||(N==null?void 0:N.cpf)||"",title:p.title||"",brand:p.brand||"",model:p.model||"",equipment:p.equipment||"",prazo_execucao_dias:p.prazo_execucao_dias||null,relatorio_tecnico:p.relatorio_tecnico||"",orientacoes_servico:p.orientacoes_servico||"",escopo_detalhado:p.escopo_detalhado||"",additional_info:p.additional_info||"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"};let ht=n;if(n){const{error:gr}=await ae.from("service_orders").update(He).eq("id",n);if(gr)throw gr}else{const{data:gr,error:it}=await ae.from("service_orders").insert([He]).select().single();if(it)throw it;ht=gr.id}Be(),r(),e()}catch(Ae){console.error("Error saving order:",Ae),alert("Erro ao salvar ordem de servio!")}finally{l(!1)}},tr=Ae=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ae),ns=Ze();return t?s.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(at,{className:"h-7 w-7"}),n?"Editar Ordem de Servio":"Nova Ordem de Servio"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Preencha os dados em cada aba - salvamento automtico"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Bsicos",icon:Qi},{id:"servicos",label:"Servios",icon:Bt},{id:"materiais",label:"Materiais",icon:Bt},{id:"mao-obra",label:"Mo de Obra",icon:Mt},{id:"pagamento",label:"Pagamento",icon:Yt},{id:"garantia",label:"Garantia & Contrato",icon:jr},{id:"resumo",label:"Resumo Financeiro",icon:I4}].map(Ae=>{const ut=Ae.icon;return s.jsxs("button",{onClick:()=>i(Ae.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===Ae.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(ut,{className:"h-4 w-4"}),Ae.label]},Ae.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(lt,{mode:"wait",children:[a==="dados"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:p.customer_id,onChange:Ae=>f({...p,customer_id:Ae.target.value}),className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),y.map(Ae=>s.jsx("option",{value:Ae.id,children:Ae.nome_razao},Ae.id))]}),s.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo cliente"),D(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 whitespace-nowrap",title:"Novo Cliente",children:[s.jsx(yt,{className:"h-4 w-4"}),"Novo Cliente"]})]}),N&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"CPF/CNPJ:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:N.cpf_cnpj})]}),N.telefone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Telefone:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:N.telefone})]}),N.email&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Email:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:N.email})]}),N.customer_addresses&&N.customer_addresses.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Endereo:"}),s.jsxs("span",{className:"text-blue-800 ml-2",children:[N.customer_addresses[0].logradouro,", ",N.customer_addresses[0].numero,N.customer_addresses[0].complemento&&`, ${N.customer_addresses[0].complemento}`," - ",N.customer_addresses[0].bairro,", ",N.customer_addresses[0].cidade," - ",N.customer_addresses[0].estado,", CEP: ",N.customer_addresses[0].cep]})]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),s.jsx("input",{type:"datetime-local",value:p.scheduled_at,onChange:Ae=>f({...p,scheduled_at:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio Geral"}),s.jsx("textarea",{value:p.description,onChange:Ae=>f({...p,description:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrio opcional da OS..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes Internas"}),s.jsx("textarea",{value:p.notes,onChange:Ae=>f({...p,notes:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Notas internas (no aparecem para o cliente)..."})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-3 text-blue-700",children:" Informaes do Oramento"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ttulo do Projeto"}),s.jsx("input",{type:"text",value:p.title,onChange:Ae=>f({...p,title:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: climatizao apartamento da familia"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),s.jsx("input",{type:"text",value:p.brand,onChange:Ae=>f({...p,brand:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Midea"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),s.jsx("input",{type:"text",value:p.model,onChange:Ae=>f({...p,model:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: VRF"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Aparelho/Equipamento"}),s.jsx("input",{type:"text",value:p.equipment,onChange:Ae=>f({...p,equipment:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: cassete 1 via e hiwall"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execuo (dias)"}),s.jsx("input",{type:"number",value:p.prazo_execucao_dias,onChange:Ae=>f({...p,prazo_execucao_dias:parseInt(Ae.target.value)||0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"15"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado"}),s.jsx("textarea",{value:p.escopo_detalhado,onChange:Ae=>f({...p,escopo_detalhado:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrio detalhada do escopo do projeto..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatrio Tcnico"}),s.jsx("textarea",{value:p.relatorio_tecnico,onChange:Ae=>f({...p,relatorio_tecnico:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatrio tcnico do servio..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientaes de Servio"}),s.jsx("textarea",{value:p.orientacoes_servico,onChange:Ae=>f({...p,orientacoes_servico:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Orientaes especficas para execuo..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Informaes Adicionais"}),s.jsx("textarea",{value:p.additional_info,onChange:Ae=>f({...p,additional_info:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:" Tempo de Execuo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-900",children:"Tempo Previsto (horas)"}),s.jsx("input",{type:"number",value:p.estimated_hours,onChange:Ae=>f({...p,estimated_hours:Number(Ae.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 4"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Tempo estimado total para execuo da OS"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-green-900",children:"Tempo Real (horas)"}),s.jsx("input",{type:"number",value:p.actual_hours,onChange:Ae=>f({...p,actual_hours:Number(Ae.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: 3.5"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Tempo real gasto aps concluso"})]})]}),p.estimated_hours>0&&p.actual_hours>0&&s.jsx("div",{className:`mt-3 p-3 rounded-lg ${p.actual_hours<=p.estimated_hours?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:s.jsx("p",{className:`text-sm font-medium ${p.actual_hours<=p.estimated_hours?"text-green-800":"text-red-800"}`,children:p.actual_hours<=p.estimated_hours?" Dentro do prazo estimado!":` ${(p.actual_hours-p.estimated_hours).toFixed(1)}h acima do estimado`})})]})]},"dados"),a==="servicos"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Servios da OS"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de cadastro de novo servio"),V(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",title:"Cadastrar Novo Servio no Sistema",children:[s.jsx(yt,{className:"h-4 w-4"}),"Cadastrar Novo"]}),s.jsxs("button",{onClick:Z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Adicionar Servio"]})]})]}),U.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(Bt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum servio adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Servio" para comear'})]}),U.map((Ae,ut)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Servio #",ut+1]}),s.jsx("button",{onClick:()=>pe(Ae.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-3 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar no Catlogo de Servios"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:x===Ae.id?A:"",onFocus:()=>g(Ae.id),onChange:He=>{g(Ae.id),m(He.target.value)},className:"flex-1 px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no catlogo..."}),s.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo servio"),V(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 whitespace-nowrap",title:"Novo Servio",children:[s.jsx(yt,{className:"h-4 w-4"}),"Novo Servio"]})]}),x===Ae.id&&A&&O.filter(He=>He.name.toLowerCase().includes(A.toLowerCase())||He.category&&He.category.toLowerCase().includes(A.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:O.filter(He=>He.name.toLowerCase().includes(A.toLowerCase())||He.category&&He.category.toLowerCase().includes(A.toLowerCase())).map(He=>s.jsxs("button",{type:"button",onClick:()=>Ct(Ae.id,He.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:He.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsx("span",{children:He.category||"Sem categoria"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[tr(Number(He.base_price)||0)," - ",He.estimated_time_minutes||0,"min"]})]})]},He.id))})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio do Servio *"}),s.jsx("input",{type:"text",value:Ae.descricao,onChange:He=>De(Ae.id,{descricao:He.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalao de Ar Condicionado"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:Ae.quantidade,min:"1",onChange:He=>De(Ae.id,{quantidade:Number(He.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unitrio"}),s.jsx("input",{type:"number",value:Ae.preco_unitario,min:"0",step:"0.01",onChange:He=>De(Ae.id,{preco_unitario:Number(He.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (min)"}),s.jsx("input",{type:"number",value:Ae.tempo_estimado_minutos,min:"0",onChange:He=>De(Ae.id,{tempo_estimado_minutos:Number(He.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-blue-900",children:"Preo Total:"}),s.jsx("span",{className:"text-lg font-bold text-blue-900",children:tr(Ae.preco_total)})]})})]},`${Ae.id}-${ut}`))]},"servicos"),a==="materiais"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Materiais da OS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Materiais que sero consumidos nesta ordem de servio"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de cadastro de novo material"),le(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",title:"Cadastrar Novo Material no Sistema",children:[s.jsx(yt,{className:"h-4 w-4"}),"Cadastrar Novo"]}),s.jsxs("button",{onClick:je,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Adicionar Material"]})]})]}),R.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(Bt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Material" para comear'})]}),R.map((Ae,ut)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",ut+1]}),s.jsx("button",{onClick:()=>Me(Ae.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Material"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:c,onChange:He=>d(He.target.value),className:"flex-1 px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no estoque..."}),s.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo material"),le(!0)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 whitespace-nowrap",title:"Novo Material",children:[s.jsx(yt,{className:"h-4 w-4"}),"Novo Material"]})]}),c&&C.filter(He=>He.name.toLowerCase().includes(c.toLowerCase())||He.sku&&He.sku.toLowerCase().includes(c.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:C.filter(He=>He.name.toLowerCase().includes(c.toLowerCase())||He.sku&&He.sku.toLowerCase().includes(c.toLowerCase())).map(He=>s.jsxs("button",{type:"button",onClick:()=>Pe(Ae.id,He.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:He.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("span",{children:[He.sku||"Sem SKU"," - ",He.unit]}),s.jsxs("span",{className:"font-semibold text-blue-600",children:["Estoque: ",He.quantity]})]})]},He.id))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),s.jsx("input",{type:"text",value:Ae.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um material"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade *"}),s.jsx("input",{type:"number",value:Ae.quantidade,min:"0",step:"0.01",onChange:He=>rt(Ae.id,{quantidade:Number(He.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),s.jsx("input",{type:"text",value:Ae.unidade_medida,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unit. (Compra)"}),s.jsx("input",{type:"number",value:Ae.preco_compra_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unit. (Venda)"}),s.jsx("input",{type:"number",value:Ae.preco_venda_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("span",{className:"text-xs text-red-700",children:"Custo Total:"}),s.jsx("p",{className:"text-lg font-bold text-red-700",children:tr(Ae.custo_total)})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[s.jsx("span",{className:"text-xs text-green-700",children:"Valor Total:"}),s.jsx("p",{className:"text-lg font-bold text-green-700",children:tr(Ae.valor_total)})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[s.jsx("span",{className:"text-xs text-blue-700",children:"Lucro:"}),s.jsx("p",{className:"text-lg font-bold text-blue-700",children:tr(Ae.lucro)})]})]})]},`material-${Ae.id}-${ut}`))]},"materiais"),a==="mao-obra"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Mo de Obra da OS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Funcionrios que trabalharo nesta ordem de servio"})]}),s.jsxs("button",{onClick:fe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Adicionar Funcionrio"]})]}),K.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(Mt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum funcionrio adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Funcionrio" para comear'})]}),K.map((Ae,ut)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Funcionrio #",ut+1]}),s.jsx("button",{onClick:()=>Ve(Ae.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Funcionrio"}),s.jsx("input",{type:"text",value:u,onChange:He=>h(He.target.value),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar..."}),u&&_.filter(He=>He.name.toLowerCase().includes(u.toLowerCase())||He.role&&He.role.toLowerCase().includes(u.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:_.filter(He=>He.name.toLowerCase().includes(u.toLowerCase())||He.role&&He.role.toLowerCase().includes(u.toLowerCase())).map(He=>s.jsxs("button",{type:"button",onClick:()=>ct(Ae.id,He.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:He.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsx("span",{children:He.role||"Sem funo"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:["R$ ",Number(He.custo_hora||0).toFixed(2),"/h"]})]})]},He.id))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Funcionrio *"}),s.jsx("input",{type:"text",value:Ae.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um funcionrio"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (minutos) *"}),s.jsx("input",{type:"number",value:Ae.tempo_minutos,min:"0",step:"10",onChange:He=>ze(Ae.id,{tempo_minutos:Number(He.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo/Hora"}),s.jsx("input",{type:"number",value:Ae.custo_hora,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Horas Trabalhadas"}),s.jsx("input",{type:"text",value:`${(Ae.tempo_minutos/60).toFixed(2)}h`,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-blue-50 text-blue-900 font-semibold"})]})]}),s.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-blue-900",children:"Custo Total:"}),s.jsx("span",{className:"text-lg font-bold text-blue-900",children:tr(Ae.custo_total)})]})})]},`labor-${Ae.id}-${ut}`))]},"mao-obra"),a==="pagamento"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:p.payment_method,onChange:Ae=>f({...p,payment_method:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"debito",children:"Carto de Dbito"}),s.jsx("option",{value:"credito",children:"Carto de Crdito"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"cheque",children:"Cheque"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),s.jsxs("select",{value:p.payment_installments,onChange:Ae=>f({...p,payment_installments:Number(Ae.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"1",children:" vista"}),[2,3,4,5,6,7,8,9,10,12].map(Ae=>s.jsxs("option",{value:Ae,children:[Ae,"x"]},Ae))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:p.bank_account_id,onChange:Ae=>f({...p,bank_account_id:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Padro"}),M.map(Ae=>s.jsxs("option",{value:Ae.id,children:[Ae.account_name," - ",Ae.bank_name]},Ae.id))]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5"}),"Desconto (Opcional)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto Percentual (%)"}),s.jsx("input",{type:"number",value:p.desconto_percentual,min:"0",max:"100",step:"0.01",onChange:Ae=>f({...p,desconto_percentual:Number(Ae.target.value),desconto_valor:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 5"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em 0 se no houver desconto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto em Reais (R$)"}),s.jsx("input",{type:"number",value:p.desconto_valor,min:"0",step:"0.01",onChange:Ae=>f({...p,desconto_valor:Number(Ae.target.value),desconto_percentual:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 50.00"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ou defina um valor fixo"})]})]})]})]},"pagamento"),a==="garantia"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Perodo de Garantia"}),s.jsx("input",{type:"number",value:p.warranty_period,min:"0",onChange:Ae=>f({...p,warranty_period:Number(Ae.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Perodo"}),s.jsxs("select",{value:p.warranty_type,onChange:Ae=>f({...p,warranty_type:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"days",children:"Dias"}),s.jsx("option",{value:"months",children:"Meses"}),s.jsx("option",{value:"years",children:"Anos"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),s.jsx("textarea",{value:p.warranty_terms,onChange:Ae=>f({...p,warranty_terms:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condies da garantia..."})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),s.jsxs("select",{value:p.contract_template_id,onChange:Ae=>f({...p,contract_template_id:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Nenhum"}),S.map(Ae=>s.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes do Contrato"}),s.jsx("textarea",{value:p.contract_notes,onChange:Ae=>f({...p,contract_notes:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observaes adicionais..."})]})]})]})]},"garantia"),a==="resumo"&&s.jsx(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo da Ordem de Servio"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Informaes que sero apresentadas ao cliente"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Servios Contratados"}),s.jsx("div",{className:"space-y-2",children:U.map((Ae,ut)=>s.jsxs("div",{className:"flex justify-between text-sm py-2 border-b last:border-0",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[ut+1,". ",Ae.descricao]}),s.jsxs("span",{className:"text-gray-600 ml-2",children:["(Qtd: ",Ae.quantidade,")"]})]}),s.jsx("span",{className:"font-bold text-blue-700",children:tr(Ae.preco_total)})]},Ae.id))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informaes de Pagamento"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Forma de Pagamento:"}),s.jsx("span",{className:"font-semibold capitalize",children:p.payment_method.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Parcelas:"}),s.jsx("span",{className:"font-semibold",children:p.payment_installments===1?" vista":`${p.payment_installments}x`})]}),p.payment_installments>1&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Valor por Parcela:"}),s.jsx("span",{className:"font-semibold",children:tr(ns.total/p.payment_installments)})]})]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[s.jsx("h4",{className:"font-semibold text-amber-900 mb-3",children:"Garantia"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Perodo de Garantia:"}),s.jsxs("span",{className:"font-semibold",children:[p.warranty_period," ",p.warranty_type==="days"?"dias":p.warranty_type==="months"?"meses":"anos"]})]}),p.warranty_terms&&s.jsxs("div",{className:"mt-2 p-3 bg-white rounded border",children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Termos de Garantia:"}),s.jsx("p",{className:"text-sm text-gray-700",children:p.warranty_terms})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg p-6 border-2 border-gray-300 shadow-sm",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-gray-700",children:"Subtotal dos Servios:"}),s.jsx("span",{className:"font-bold",children:tr(ns.subtotal)})]}),ns.desconto>0&&s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-gray-700",children:"Desconto Aplicado:"}),s.jsxs("span",{className:"font-bold text-red-600",children:["- ",tr(ns.desconto)]})]}),s.jsxs("div",{className:"border-t-2 pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-xl text-gray-900",children:"VALOR TOTAL DA PROPOSTA:"}),s.jsx("span",{className:"font-bold text-3xl text-green-600",children:tr(ns.total)})]})]})}),p.contract_notes&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Observaes do Contrato"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:p.contract_notes})]})]})]})},"resumo")]})}),s.jsxs("div",{className:"border-t p-6 bg-gray-50 rounded-b-xl flex justify-between",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100",children:"Cancelar"}),s.jsxs("button",{onClick:cr,disabled:o,className:"px-8 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4"}),o?"Salvando...":n?"Atualizar OS":"Salvar OS"]})]})]}),Q&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[10000] p-4",onClick:Ae=>{Ae.target===Ae.currentTarget&&(D(!1),ce({nome_razao:"",telefone:"",email:"",cnpj_cpf:""}))},children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:Ae=>Ae.stopPropagation(),children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-green-600"}),"Novo Cliente"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome/Razo Social *"}),s.jsx("input",{type:"text",value:ie.nome_razao,onChange:Ae=>ce({...ie,nome_razao:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Nome completo ou razo social"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF/CNPJ"}),s.jsx("input",{type:"text",value:ie.cnpj_cpf,onChange:Ae=>ce({...ie,cnpj_cpf:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"000.000.000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:ie.telefone,onChange:Ae=>ce({...ie,telefone:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"(00) 00000-0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:ie.email,onChange:Ae=>ce({...ie,email:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"email@exemplo.com"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{D(!1),ce({nome_razao:"",telefone:"",email:"",cnpj_cpf:""})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:hr,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Cadastrar"})]})]})}),X&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[10000] p-4",onClick:Ae=>{Ae.target===Ae.currentTarget&&(V(!1),J({name:"",description:"",base_price:0,estimated_time_minutes:60}))},children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:Ae=>Ae.stopPropagation(),children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5 text-blue-600"}),"Novo Servio"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Servio *"}),s.jsx("input",{type:"text",value:be.name,onChange:Ae=>J({...be,name:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalao Eltrica"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio"}),s.jsx("textarea",{value:be.description,onChange:Ae=>J({...be,description:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Descreva o servio...",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Base (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:be.base_price,onChange:Ae=>J({...be,base_price:Number(Ae.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),s.jsx("input",{type:"number",value:be.estimated_time_minutes,onChange:Ae=>J({...be,estimated_time_minutes:Number(Ae.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"60"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{V(!1),J({name:"",description:"",base_price:0,estimated_time_minutes:60})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:It,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Cadastrar"})]})]})}),de&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[10000] p-4",onClick:Ae=>{Ae.target===Ae.currentTarget&&(le(!1),ke({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1}))},children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:Ae=>Ae.stopPropagation(),children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5 text-orange-600"}),"Novo Material"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),s.jsx("input",{type:"text",value:ue.name,onChange:Ae=>ke({...ue,name:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"Ex: Tubo PVC 100mm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),s.jsxs("select",{value:ue.unit,onChange:Ae=>ke({...ue,unit:Ae.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:[s.jsx("option",{value:"un",children:"Unidade (un)"}),s.jsx("option",{value:"m",children:"Metro (m)"}),s.jsx("option",{value:"kg",children:"Quilograma (kg)"}),s.jsx("option",{value:"l",children:"Litro (l)"}),s.jsx("option",{value:"cx",children:"Caixa (cx)"}),s.jsx("option",{value:"p",children:"Pea (p)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),s.jsx("input",{type:"number",value:ue.quantity,onChange:Ae=>ke({...ue,quantity:Number(Ae.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo de Custo (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:ue.unit_cost,onChange:Ae=>ke({...ue,unit_cost:Number(Ae.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo de Venda (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:ue.unit_price,onChange:Ae=>ke({...ue,unit_price:Number(Ae.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{le(!1),ke({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:en,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Cadastrar"})]})]})})]}):null},ghe=()=>{const{isAdmin:t}=cn(),e=ms(),[r,n]=a$(),[a,i]=B.useState(""),[o,l]=B.useState("all"),[c,d]=B.useState("all"),[u,h]=B.useState([]),[A,m]=B.useState(!0),[x,g]=B.useState(null),[p,f]=B.useState(!1),[y,b]=B.useState(null),[N,v]=B.useState(!1),[C,P]=B.useState(!1),[_,k]=B.useState(void 0);B.useEffect(()=>{M()},[]),B.useEffect(()=>{const te=r.get("edit");te&&(k(te),P(!0),n({}))},[r]);const M=async()=>{try{m(!0);const te=await Uue();h(te||[]),g(null)}catch(te){console.error("Error loading service orders:",te),g("Erro ao carregar ordens de servio"),h([])}finally{m(!1)}},j=async te=>{try{if(confirm(`Deseja duplicar a OS ${te.order_number}?`)){const Q={...te,id:void 0,order_number:`${te.order_number}-COPIA`,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await Lue(Q),await M(),alert("OS duplicada com sucesso!")}}catch(Q){console.error("Error duplicating order:",Q),alert("Erro ao duplicar OS")}},S=async(te,Q)=>{try{h(D=>D.map(X=>X.id===te?{...X,status:Q,updated_at:new Date().toISOString()}:X)),await jO(te,{status:Q,updated_at:new Date().toISOString()}),$i.invalidate("service_orders_v2")}catch(D){console.error("Error updating status:",D),alert(`Erro ao atualizar status: ${D}`),await M()}},F=async te=>{try{const Q=te.status==="pending"?"in_progress":te.status==="in_progress"?"completed":te.status;confirm(`Deseja ${Q==="in_progress"?"iniciar":"concluir"} a OS ${te.order_number}?`)&&(h(D=>D.map(X=>X.id===te.id?{...X,status:Q,updated_at:new Date().toISOString()}:X)),await jO(te.id,{status:Q,updated_at:new Date().toISOString()}),$i.invalidate("service_orders_v2"),alert(`OS ${Q==="in_progress"?"iniciada":"concluda"} com sucesso!`))}catch(Q){console.error("Error executing order:",Q),alert("Erro ao executar ao"),await M()}},O=te=>{b(te),f(!0)},H=async()=>{if(y)try{v(!0),h(te=>te.filter(Q=>Q.id!==y.id)),await jH(y.id),$i.invalidate("service_orders_v2"),f(!1),b(null),alert("Ordem de servio excluda com sucesso!")}catch(te){console.error("Error deleting order:",te),await M(),alert(`Erro ao excluir ordem de servio: ${(te==null?void 0:te.message)||"Erro desconhecido"}`)}finally{v(!1)}},U=()=>{f(!1),b(null)},z=u.filter(te=>{const Q=te.order_number.toLowerCase().includes(a.toLowerCase())||te.client_name.toLowerCase().includes(a.toLowerCase())||te.service_type.toLowerCase().includes(a.toLowerCase()),D=o==="all"||te.status===o,X=c==="all"||te.priority===c;return Q&&D&&X}),R=te=>{switch(te){case"pending":case"pendente":return"bg-yellow-100 text-yellow-800";case"in_progress":case"em_andamento":return"bg-blue-100 text-blue-800";case"on_hold":case"pausado":case"pausada":return"bg-orange-100 text-orange-800";case"completed":case"concluido":case"concluida":return"bg-green-100 text-green-800";case"cancelled":case"cancelado":case"cancelada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=te=>{switch(te){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},K=te=>{switch(te){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return"Desconhecida"}};return s.jsxs("div",{className:"space-y-6",children:[x&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rn,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:x})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ordens de Servio"}),s.jsxs("button",{onClick:()=>{k(void 0),P(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Nova OS"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nmero, cliente ou servio...",value:a,onChange:te=>i(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gh,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:o,onChange:te=>l(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"in_progress",children:"Em Andamento"}),s.jsx("option",{value:"completed",children:"Concluda"}),s.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),s.jsxs("select",{value:c,onChange:te=>d(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Prioridades"}),s.jsx("option",{value:"high",children:"Alta"}),s.jsx("option",{value:"medium",children:"Mdia"}),s.jsx("option",{value:"low",children:"Baixa"})]})]})]})}),A?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando ordens..."})]}):s.jsx("div",{className:"space-y-4",children:z.length>0?z.map((te,Q)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Q*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(wa,{className:"h-5 w-5 text-white mx-auto mb-0.5"}),s.jsx("span",{className:"text-xs font-bold text-white/90",children:te.order_number})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:["OS-",te.order_number]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:te.service_type||"Sem descrio"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${I(te.priority)}`,children:K(te.priority)}),s.jsxs("select",{value:te.status,onChange:D=>S(te.id,D.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 cursor-pointer ${R(te.status)}`,children:[s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"in_progress",children:"Em Andamento"}),s.jsx("option",{value:"on_hold",children:"Pausado"}),s.jsx("option",{value:"completed",children:"Concludo"}),s.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nr,{className:"h-4 w-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-900",children:te.client_name})]}),s.jsx("p",{className:"text-xs text-gray-600 ml-6",children:te.client_phone})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),s.jsx("p",{className:"text-sm text-gray-900",children:te.assigned_to})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Prazo"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lr,{className:"h-4 w-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-900",children:te.due_date?new Date(te.due_date).toLocaleDateString("pt-BR"):te.service_date?new Date(te.service_date).toLocaleDateString("pt-BR"):"No definido"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:te.description}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:D=>{D.stopPropagation(),e(`/service-orders/${te.id}/view`)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar OS",children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),k(te.id),P(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar OS",children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),F(te)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:te.status==="pending"?"Iniciar OS":te.status==="in_progress"?"Concluir OS":"OS Concluda",disabled:te.status==="completed",children:s.jsx(JE,{className:"h-4 w-4"})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),j(te)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Duplicar OS",children:s.jsx(Wl,{className:"h-4 w-4"})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),O(te)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir OS",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]})]},te.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(wa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma ordem encontrada"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos ordens de servio com os filtros selecionados."}),s.jsx("button",{onClick:()=>{i(""),l("all"),d("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Ut,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Servio"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Esta ao no pode ser desfeita"})]})]})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Voc est prestes a excluir a seguinte OS:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Nmero:"})," ",y==null?void 0:y.order_number]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Cliente:"})," ",y==null?void 0:y.client_name]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Servio:"})," ",y==null?void 0:y.service_type]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Valor:"})," R$ ",((y==null?void 0:y.total_cost)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:" Ateno!"}),s.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados sero permanentemente removidos do sistema. Esta ao  irreversvel."})]})]})}),s.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:U,disabled:N,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:H,disabled:N,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"h-5 w-5"}),"Confirmar Excluso"]})})]})]})]})}),s.jsx(phe,{isOpen:C,onClose:()=>{P(!1),k(void 0)},onSave:()=>{M(),P(!1),k(void 0)},orderId:_})]})};function Pr(t){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(t)}var ra=Uint8Array,ni=Uint16Array,ok=Int32Array,O2=new ra([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),I2=new ra([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),X4=new ra([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SH=function(t,e){for(var r=new ni(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new ok(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},BH=SH(O2,2),EH=BH.b,Y4=BH.r;EH[28]=258,Y4[258]=28;var kH=SH(I2,0),xhe=kH.b,NO=kH.r,J4=new ni(32768);for(var an=0;an<32768;++an){var Sc=(an&43690)>>1|(an&21845)<<1;Sc=(Sc&52428)>>2|(Sc&13107)<<2,Sc=(Sc&61680)>>4|(Sc&3855)<<4,J4[an]=((Sc&65280)>>8|(Sc&255)<<8)>>1}var Yo=function(t,e,r){for(var n=t.length,a=0,i=new ni(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new ni(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new ni(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=o[t[a]-1]++<<u,A=h|(1<<u)-1;h<=A;++h)l[J4[h]>>c]=d}else for(l=new ni(n),a=0;a<n;++a)t[a]&&(l[a]=J4[o[t[a]-1]++]>>15-t[a]);return l},Cd=new ra(288);for(var an=0;an<144;++an)Cd[an]=8;for(var an=144;an<256;++an)Cd[an]=9;for(var an=256;an<280;++an)Cd[an]=7;for(var an=280;an<288;++an)Cd[an]=8;var _0=new ra(32);for(var an=0;an<32;++an)_0[an]=5;var yhe=Yo(Cd,9,0),bhe=Yo(Cd,9,1),vhe=Yo(_0,5,0),whe=Yo(_0,5,1),$_=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},to=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},H_=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},lk=function(t){return(t+7)/8|0},PH=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ra(t.subarray(e,r))},jhe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],lo=function(t,e,r){var n=new Error(e||jhe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,lo),!r)throw n;return n},Nhe=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new ra(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new ra(a*3));var d=function(J){var ue=r.length;if(J>ue){var ke=new ra(Math.max(ue*2,J));ke.set(r),r=ke}},u=e.f||0,h=e.p||0,A=e.b||0,m=e.l,x=e.d,g=e.m,p=e.n,f=a*8;do{if(!m){u=to(t,h,1);var y=to(t,h+1,3);if(h+=3,y)if(y==1)m=bhe,x=whe,g=9,p=5;else if(y==2){var C=to(t,h,31)+257,P=to(t,h+10,15)+4,_=C+to(t,h+5,31)+1;h+=14;for(var k=new ra(_),M=new ra(19),j=0;j<P;++j)M[X4[j]]=to(t,h+j*3,7);h+=P*3;for(var S=$_(M),F=(1<<S)-1,O=Yo(M,S,1),j=0;j<_;){var H=O[to(t,h,F)];h+=H&15;var b=H>>4;if(b<16)k[j++]=b;else{var U=0,z=0;for(b==16?(z=3+to(t,h,3),h+=2,U=k[j-1]):b==17?(z=3+to(t,h,7),h+=3):b==18&&(z=11+to(t,h,127),h+=7);z--;)k[j++]=U}}var R=k.subarray(0,C),I=k.subarray(C);g=$_(R),p=$_(I),m=Yo(R,g,1),x=Yo(I,p,1)}else lo(1);else{var b=lk(h)+4,N=t[b-4]|t[b-3]<<8,v=b+N;if(v>a){c&&lo(0);break}l&&d(A+N),r.set(t.subarray(b,v),A),e.b=A+=N,e.p=h=v*8,e.f=u;continue}if(h>f){c&&lo(0);break}}l&&d(A+131072);for(var K=(1<<g)-1,te=(1<<p)-1,Q=h;;Q=h){var U=m[H_(t,h)&K],D=U>>4;if(h+=U&15,h>f){c&&lo(0);break}if(U||lo(2),D<256)r[A++]=D;else if(D==256){Q=h,m=null;break}else{var X=D-254;if(D>264){var j=D-257,V=O2[j];X=to(t,h,(1<<V)-1)+EH[j],h+=V}var de=x[H_(t,h)&te],le=de>>4;de||lo(3),h+=de&15;var I=xhe[le];if(le>3){var V=I2[le];I+=H_(t,h)&(1<<V)-1,h+=V}if(h>f){c&&lo(0);break}l&&d(A+131072);var ie=A+X;if(A<I){var ce=i-I,be=Math.min(I,ie);for(ce+A<0&&lo(3);A<be;++A)r[A]=n[ce+A]}for(;A<ie;++A)r[A]=r[A-I]}}e.l=m,e.p=Q,e.b=A,e.f=u,m&&(u=1,e.m=g,e.d=x,e.n=p)}while(!u);return A!=r.length&&o?PH(r,0,A):r.subarray(0,A)},gl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},jp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},q_=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:TH,l:0};if(a==1){var o=new ra(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(v,C){return v.f-C.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var A=i[0].s,n=1;n<a;++n)i[n].s>A&&(A=i[n].s);var m=new ni(A+1),x=Z4(r[u-1],m,0);if(x>e){var n=0,g=0,p=x-e,f=1<<p;for(i.sort(function(C,P){return m[P.s]-m[C.s]||C.f-P.f});n<a;++n){var y=i[n].s;if(m[y]>e)g+=f-(1<<x-m[y]),m[y]=e;else break}for(g>>=p;g>0;){var b=i[n].s;m[b]<e?g-=1<<e-m[b]++-1:++n}for(;n>=0&&g;--n){var N=i[n].s;m[N]==e&&(--m[N],++g)}x=e}return{t:new ra(m),l:x}},Z4=function(t,e,r){return t.s==-1?Math.max(Z4(t.l,e,r+1),Z4(t.r,e,r+1)):e[t.s]=r},_O=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ni(++e),n=0,a=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},Np=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},FH=function(t,e,r){var n=r.length,a=lk(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},CO=function(t,e,r,n,a,i,o,l,c,d,u){gl(e,u++,r),++a[256];for(var h=q_(a,15),A=h.t,m=h.l,x=q_(i,15),g=x.t,p=x.l,f=_O(A),y=f.c,b=f.n,N=_O(g),v=N.c,C=N.n,P=new ni(19),_=0;_<y.length;++_)++P[y[_]&31];for(var _=0;_<v.length;++_)++P[v[_]&31];for(var k=q_(P,7),M=k.t,j=k.l,S=19;S>4&&!M[X4[S-1]];--S);var F=d+5<<3,O=Np(a,Cd)+Np(i,_0)+o,H=Np(a,A)+Np(i,g)+o+14+3*S+Np(P,M)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&F<=O&&F<=H)return FH(e,u,t.subarray(c,c+d));var U,z,R,I;if(gl(e,u,1+(H<O)),u+=2,H<O){U=Yo(A,m,0),z=A,R=Yo(g,p,0),I=g;var K=Yo(M,j,0);gl(e,u,b-257),gl(e,u+5,C-1),gl(e,u+10,S-4),u+=14;for(var _=0;_<S;++_)gl(e,u+3*_,M[X4[_]]);u+=3*S;for(var te=[y,v],Q=0;Q<2;++Q)for(var D=te[Q],_=0;_<D.length;++_){var X=D[_]&31;gl(e,u,K[X]),u+=M[X],X>15&&(gl(e,u,D[_]>>5&127),u+=D[_]>>12)}}else U=yhe,z=Cd,R=vhe,I=_0;for(var _=0;_<l;++_){var V=n[_];if(V>255){var X=V>>18&31;jp(e,u,U[X+257]),u+=z[X+257],X>7&&(gl(e,u,V>>23&31),u+=O2[X]);var de=V&31;jp(e,u,R[de]),u+=I[de],de>3&&(jp(e,u,V>>5&8191),u+=I2[de])}else jp(e,u,U[V]),u+=z[V]}return jp(e,u,U[256]),u+z[256]},_he=new ok([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),TH=new ra(0),Che=function(t,e,r,n,a,i){var o=i.z||t.length,l=new ra(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var h=_he[e-1],A=h>>13,m=h&8191,x=(1<<r)-1,g=i.p||new ni(32768),p=i.h||new ni(x+1),f=Math.ceil(r/3),y=2*f,b=function(Qe){return(t[Qe]^t[Qe+1]<<f^t[Qe+2]<<y)&x},N=new ok(25e3),v=new ni(288),C=new ni(32),P=0,_=0,k=i.i||0,M=0,j=i.w||0,S=0;k+2<o;++k){var F=b(k),O=k&32767,H=p[F];if(g[O]=H,p[F]=O,j<=k){var U=o-k;if((P>7e3||M>24576)&&(U>423||!d)){u=CO(t,c,0,N,v,C,_,M,S,k-S,u),M=P=_=0,S=k;for(var z=0;z<286;++z)v[z]=0;for(var z=0;z<30;++z)C[z]=0}var R=2,I=0,K=m,te=O-H&32767;if(U>2&&F==b(k-te))for(var Q=Math.min(A,U)-1,D=Math.min(32767,k),X=Math.min(258,U);te<=D&&--K&&O!=H;){if(t[k+R]==t[k+R-te]){for(var V=0;V<X&&t[k+V]==t[k+V-te];++V);if(V>R){if(R=V,I=te,V>Q)break;for(var de=Math.min(te,V-2),le=0,z=0;z<de;++z){var ie=k-te+z&32767,ce=g[ie],be=ie-ce&32767;be>le&&(le=be,H=ie)}}}O=H,H=g[O],te+=O-H&32767}if(I){N[M++]=268435456|Y4[R]<<18|NO[I];var J=Y4[R]&31,ue=NO[I]&31;_+=O2[J]+I2[ue],++v[257+J],++C[ue],j=k+R,++P}else N[M++]=t[k],++v[t[k]]}}for(k=Math.max(k,j);k<o;++k)N[M++]=t[k],++v[t[k]];u=CO(t,c,d,N,v,C,_,M,S,k-S,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=p,i.p=g,i.i=k,i.w=j)}else{for(var k=i.w||0;k<o+d;k+=65535){var ke=k+65535;ke>=o&&(c[u/8|0]=d,ke=o),u=FH(c,u+1,t.subarray(k,ke))}i.i=o}return PH(l,0,n+lk(u)+a)},OH=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},She=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new ra(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return Che(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},IH=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Bhe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=OH();a.p(e.dictionary),IH(t,2,a.d())}},Ehe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&lo(6,"invalid zlib data"),(t[1]>>5&1)==1&&lo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function eS(t,e){e||(e={});var r=OH();r.p(t);var n=She(t,e,e.dictionary?6:2,4);return Bhe(n,e),IH(n,n.length-4,r.d()),n}function khe(t,e){return Nhe(t.subarray(Ehe(t),-4),{i:2},e,e)}var Phe=typeof TextDecoder<"u"&&new TextDecoder,Fhe=0;try{Phe.decode(TH,{stream:!0}),Fhe=1}catch{}var Rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function z_(){Rt.console&&typeof Rt.console.log=="function"&&Rt.console.log.apply(Rt.console,arguments)}var Rr={log:z_,warn:function(t){Rt.console&&(typeof Rt.console.warn=="function"?Rt.console.warn.apply(Rt.console,arguments):z_.call(null,arguments))},error:function(t){Rt.console&&(typeof Rt.console.error=="function"?Rt.console.error.apply(Rt.console,arguments):z_(t))}};function V_(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){mu(n.response,e,r)},n.onerror=function(){Rr.error("could not download file")},n.send()}function SO(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function cb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Sg,tS,mu=Rt.saveAs||((typeof window>"u"?"undefined":Pr(window))!=="object"||window!==Rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Rt.URL||Rt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?SO(a.href)?V_(t,e,r):cb(a,a.target="_blank"):cb(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){cb(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(SO(t))V_(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){cb(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Pr(i)!=="object"&&(Rr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return V_(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Rt.HTMLElement)||Rt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Pr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(t)}else{var c=Rt.URL||Rt.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function K_(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=zs(r,n,a,i,e[0],7,-680876936),i=zs(i,r,n,a,e[1],12,-389564586),a=zs(a,i,r,n,e[2],17,606105819),n=zs(n,a,i,r,e[3],22,-1044525330),r=zs(r,n,a,i,e[4],7,-176418897),i=zs(i,r,n,a,e[5],12,1200080426),a=zs(a,i,r,n,e[6],17,-1473231341),n=zs(n,a,i,r,e[7],22,-45705983),r=zs(r,n,a,i,e[8],7,1770035416),i=zs(i,r,n,a,e[9],12,-1958414417),a=zs(a,i,r,n,e[10],17,-42063),n=zs(n,a,i,r,e[11],22,-1990404162),r=zs(r,n,a,i,e[12],7,1804603682),i=zs(i,r,n,a,e[13],12,-40341101),a=zs(a,i,r,n,e[14],17,-1502002290),r=Vs(r,n=zs(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Vs(i,r,n,a,e[6],9,-1069501632),a=Vs(a,i,r,n,e[11],14,643717713),n=Vs(n,a,i,r,e[0],20,-373897302),r=Vs(r,n,a,i,e[5],5,-701558691),i=Vs(i,r,n,a,e[10],9,38016083),a=Vs(a,i,r,n,e[15],14,-660478335),n=Vs(n,a,i,r,e[4],20,-405537848),r=Vs(r,n,a,i,e[9],5,568446438),i=Vs(i,r,n,a,e[14],9,-1019803690),a=Vs(a,i,r,n,e[3],14,-187363961),n=Vs(n,a,i,r,e[8],20,1163531501),r=Vs(r,n,a,i,e[13],5,-1444681467),i=Vs(i,r,n,a,e[2],9,-51403784),a=Vs(a,i,r,n,e[7],14,1735328473),r=Ks(r,n=Vs(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Ks(i,r,n,a,e[8],11,-2022574463),a=Ks(a,i,r,n,e[11],16,1839030562),n=Ks(n,a,i,r,e[14],23,-35309556),r=Ks(r,n,a,i,e[1],4,-1530992060),i=Ks(i,r,n,a,e[4],11,1272893353),a=Ks(a,i,r,n,e[7],16,-155497632),n=Ks(n,a,i,r,e[10],23,-1094730640),r=Ks(r,n,a,i,e[13],4,681279174),i=Ks(i,r,n,a,e[0],11,-358537222),a=Ks(a,i,r,n,e[3],16,-722521979),n=Ks(n,a,i,r,e[6],23,76029189),r=Ks(r,n,a,i,e[9],4,-640364487),i=Ks(i,r,n,a,e[12],11,-421815835),a=Ks(a,i,r,n,e[15],16,530742520),r=Ws(r,n=Ks(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Ws(i,r,n,a,e[7],10,1126891415),a=Ws(a,i,r,n,e[14],15,-1416354905),n=Ws(n,a,i,r,e[5],21,-57434055),r=Ws(r,n,a,i,e[12],6,1700485571),i=Ws(i,r,n,a,e[3],10,-1894986606),a=Ws(a,i,r,n,e[10],15,-1051523),n=Ws(n,a,i,r,e[1],21,-2054922799),r=Ws(r,n,a,i,e[8],6,1873313359),i=Ws(i,r,n,a,e[15],10,-30611744),a=Ws(a,i,r,n,e[6],15,-1560198380),n=Ws(n,a,i,r,e[13],21,1309151649),r=Ws(r,n,a,i,e[4],6,-145523070),i=Ws(i,r,n,a,e[11],10,-1120210379),a=Ws(a,i,r,n,e[2],15,718787259),n=Ws(n,a,i,r,e[9],21,-343485551),t[0]=Kc(r,t[0]),t[1]=Kc(n,t[1]),t[2]=Kc(a,t[2]),t[3]=Kc(i,t[3])}function D2(t,e,r,n,a,i){return e=Kc(Kc(e,t),Kc(n,i)),Kc(e<<a|e>>>32-a,r)}function zs(t,e,r,n,a,i,o){return D2(e&r|~e&n,t,e,a,i,o)}function Vs(t,e,r,n,a,i,o){return D2(e&n|r&~n,t,e,a,i,o)}function Ks(t,e,r,n,a,i,o){return D2(e^r^n,t,e,a,i,o)}function Ws(t,e,r,n,a,i,o){return D2(r^(e|~n),t,e,a,i,o)}function MH(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)K_(n,The(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(K_(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,K_(n,a),n}function The(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Sg=Rt.atob.bind(Rt),tS=Rt.btoa.bind(Rt);var BO="0123456789abcdef".split("");function Ohe(t){for(var e="",r=0;r<4;r++)e+=BO[t>>8*r+4&15]+BO[t>>8*r&15];return e}function Ihe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function rS(t){return MH(t).map(Ihe).join("")}var Dhe=function(t){for(var e=0;e<t.length;e++)t[e]=Ohe(t[e]);return t.join("")}(MH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Kc(t,e){if(Dhe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function nS(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,n=l}else l=n;var h=e.length,A=0,m=0,x="";for(c=0;c<h;c++)m=(m+(u=l[A=(A+1)%256]))%256,l[A]=l[m],l[m]=u,o=l[(l[A]+l[m])%256],x+=String.fromCharCode(e.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var EO={print:4,modify:8,copy:16,"annot-forms":32};function wA(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(EO.perm!==void 0)throw new Error("Invalid permission: "+l);a+=EO[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=rS(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=nS(this.encryptionKey,this.padding)}function jA(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function kO(t){if(Pr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){Rt.console&&Rr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fw(t){if(!(this instanceof Fw))return new Fw(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function LH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ju(t,e,r,n,a){if(!(this instanceof ju))return new ju(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,LH.call(this,n,a)}function qA(t,e,r,n,a){if(!(this instanceof qA))return new qA(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,LH.call(this,n,a)}function kt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;Pr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,A={},m={internal:{},__private__:{}};m.__private__.PubSub=kO;var x="1.3",g=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(T){x=T};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return p};var f=m.__private__.getPageFormat=function(T){return p[T]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function N(){this.saveGraphicsState(),q(new re(Ze,0,0,-Ze,0,Ac()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),d="n",b=y.ADVANCED}function v(){this.restoreGraphicsState(),d="S",b=y.COMPAT}var C=m.__private__.combineFontStyleAndFontWeight=function(T,G){if(T=="bold"&&G=="normal"||T=="bold"&&G==400||T=="normal"&&G=="italic"||T=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(T=G==400||G==="normal"?T==="italic"?"italic":"normal":G!=700&&G!=="bold"||T!=="normal"?(G==700?"bold":G)+""+T:"bold"),T};m.advancedAPI=function(T){var G=b===y.COMPAT;return G&&N.call(this),typeof T!="function"||(T(this),G&&v.call(this)),this},m.compatAPI=function(T){var G=b===y.ADVANCED;return G&&v.call(this),typeof T!="function"||(T(this),G&&N.call(this)),this},m.isAdvancedAPI=function(){return b===y.ADVANCED};var P,_=function(T){if(b!==y.ADVANCED)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=m.roundToPrecision=m.__private__.roundToPrecision=function(T,G){var me=e||G;if(isNaN(T)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(me).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof c=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return k(T,c)}:c==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return k(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return k(T,16)};var M=m.f2=m.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return k(T,2)},j=m.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return k(T,3)},S=m.scale=m.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?T*Ze:b===y.ADVANCED?T:void 0},F=function(T){return b===y.COMPAT?Ac()-T:b===y.ADVANCED?T:void 0},O=function(T){return S(F(T))};m.__private__.setPrecision=m.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var H,U="00000000000000000000000000000000",z=m.__private__.getFileId=function(){return U},R=m.__private__.setFileId=function(T){return U=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Qs=new wA(u.userPermissions,u.userPassword,u.ownerPassword,U)),U};m.setFileId=function(T){return R(T),this},m.getFileId=function(){return z()};var I=m.__private__.convertDateToPDFDate=function(T){var G=T.getTimezoneOffset(),me=G<0?"+":"-",xe=Math.floor(Math.abs(G/60)),Ee=Math.abs(G%60),$e=[me,X(xe),"'",X(Ee),"'"].join("");return["D:",T.getFullYear(),X(T.getMonth()+1),X(T.getDate()),X(T.getHours()),X(T.getMinutes()),X(T.getSeconds()),$e].join("")},K=m.__private__.convertPDFDateToDate=function(T){var G=parseInt(T.substr(2,4),10),me=parseInt(T.substr(6,2),10)-1,xe=parseInt(T.substr(8,2),10),Ee=parseInt(T.substr(10,2),10),$e=parseInt(T.substr(12,2),10),Je=parseInt(T.substr(14,2),10);return new Date(G,me,xe,Ee,$e,Je,0)},te=m.__private__.setCreationDate=function(T){var G;if(T===void 0&&(T=new Date),T instanceof Date)G=I(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=T}return H=G},Q=m.__private__.getCreationDate=function(T){var G=H;return T==="jsDate"&&(G=K(H)),G};m.setCreationDate=function(T){return te(T),this},m.getCreationDate=function(T){return Q(T)};var D,X=m.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},V=m.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},de=0,le=[],ie=[],ce=0,be=[],J=[],ue=!1,ke=ie,Qe=function(){de=0,ce=0,ie=[],le=[],be=[],xt=nt(),$n=nt()};m.__private__.setCustomOutputDestination=function(T){ue=!0,ke=T};var we=function(T){ue||(ke=T)};m.__private__.resetCustomOutputDestination=function(){ue=!1,ke=ie};var q=m.__private__.out=function(T){return T=T.toString(),ce+=T.length+1,ke.push(T),ke},Ne=m.__private__.write=function(T){return q(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},Be=m.__private__.getArrayBuffer=function(T){for(var G=T.length,me=new ArrayBuffer(G),xe=new Uint8Array(me);G--;)xe[G]=T.charCodeAt(G);return me},Z=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Z};var pe=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(T){return pe=b===y.ADVANCED?T/Ze:T,this};var De,je=m.__private__.getFontSize=m.getFontSize=function(){return b===y.COMPAT?pe:pe*Ze},Me=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(T){return Me=T,this},m.__private__.getR2L=m.getR2L=function(){return Me};var rt,Pe=m.__private__.setZoomMode=function(T){var G=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))De=T;else if(isNaN(T)){if(G.indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');De=T}else De=parseInt(T,10)};m.__private__.getZoomMode=function(){return De};var fe,Ve=m.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');rt=T};m.__private__.getPageMode=function(){return rt};var ze=m.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');fe=T};m.__private__.getLayoutMode=function(){return fe},m.__private__.setDisplayMode=m.setDisplayMode=function(T,G,me){return Pe(T),ze(G),Ve(me),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(T){if(Object.keys(ct).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[T]},m.__private__.getDocumentProperties=function(){return ct},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(T){for(var G in ct)ct.hasOwnProperty(G)&&T[G]&&(ct[G]=T[G]);return this},m.__private__.setDocumentProperty=function(T,G){if(Object.keys(ct).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[T]=G};var Ct,Ze,hr,It,en,cr={},tr={},ns=[],Ae={},ut={},He={},ht={},gr=null,it=0,St=[],_t=new kO(m),Gt=t.hotfixes||[],fn={},tn={},qr=[],re=function T(G,me,xe,Ee,$e,Je){if(!(this instanceof T))return new T(G,me,xe,Ee,$e,Je);isNaN(G)&&(G=1),isNaN(me)&&(me=0),isNaN(xe)&&(xe=0),isNaN(Ee)&&(Ee=1),isNaN($e)&&($e=0),isNaN(Je)&&(Je=0),this._matrix=[G,me,xe,Ee,$e,Je]};Object.defineProperty(re.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(re.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(re.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(re.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(re.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(re.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(re.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(re.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(re.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(re.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(re.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(re.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(re.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(re.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(re.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(re.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),re.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(T)},re.prototype.multiply=function(T){var G=T.sx*this.sx+T.shy*this.shx,me=T.sx*this.shy+T.shy*this.sy,xe=T.shx*this.sx+T.sy*this.shx,Ee=T.shx*this.shy+T.sy*this.sy,$e=T.tx*this.sx+T.ty*this.shx+this.tx,Je=T.tx*this.shy+T.ty*this.sy+this.ty;return new re(G,me,xe,Ee,$e,Je)},re.prototype.decompose=function(){var T=this.sx,G=this.shy,me=this.shx,xe=this.sy,Ee=this.tx,$e=this.ty,Je=Math.sqrt(T*T+G*G),ft=(T/=Je)*me+(G/=Je)*xe;me-=T*ft,xe-=G*ft;var Pt=Math.sqrt(me*me+xe*xe);return ft/=Pt,T*(xe/=Pt)<G*(me/=Pt)&&(T=-T,G=-G,ft=-ft,Je=-Je),{scale:new re(Je,0,0,Pt,0,0),translate:new re(1,0,0,1,Ee,$e),rotate:new re(T,G,-G,T,0,0),skew:new re(1,0,ft,1,0,0)}},re.prototype.toString=function(T){return this.join(" ")},re.prototype.inversed=function(){var T=this.sx,G=this.shy,me=this.shx,xe=this.sy,Ee=this.tx,$e=this.ty,Je=1/(T*xe-G*me),ft=xe*Je,Pt=-G*Je,Wt=-me*Je,zt=T*Je;return new re(ft,Pt,Wt,zt,-ft*Ee-Wt*$e,-Pt*Ee-zt*$e)},re.prototype.applyToPoint=function(T){var G=T.x*this.sx+T.y*this.shx+this.tx,me=T.x*this.shy+T.y*this.sy+this.ty;return new Mh(G,me)},re.prototype.applyToRectangle=function(T){var G=this.applyToPoint(T),me=this.applyToPoint(new Mh(T.x+T.w,T.y+T.h));return new Vf(G.x,G.y,me.x-G.x,me.y-G.y)},re.prototype.clone=function(){var T=this.sx,G=this.shy,me=this.shx,xe=this.sy,Ee=this.tx,$e=this.ty;return new re(T,G,me,xe,Ee,$e)},m.Matrix=re;var Ue=m.matrixMult=function(T,G){return G.multiply(T)},Le=new re(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Le;var Oe=function(T,G){if(!ut[T]){var me=(G instanceof ju?"Sh":"P")+(Object.keys(Ae).length+1).toString(10);G.id=me,ut[T]=me,Ae[me]=G,_t.publish("addPattern",G)}};m.ShadingPattern=ju,m.TilingPattern=qA,m.addShadingPattern=function(T,G){return _("addShadingPattern()"),Oe(T,G),this},m.beginTilingPattern=function(T){_("beginTilingPattern()"),dy(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},m.endTilingPattern=function(T,G){_("endTilingPattern()"),G.stream=J[D].join(`
`),Oe(T,G),_t.publish("endTilingPattern",G),qr.pop().restore()};var Ye=m.__private__.newObject=function(){var T=nt();return Se(T,!0),T},nt=m.__private__.newObjectDeferred=function(){return de++,le[de]=function(){return ce},de},Se=function(T,G){return G=typeof G=="boolean"&&G,le[T]=ce,G&&q(T+" 0 obj"),T},bt=m.__private__.newAdditionalObject=function(){var T={objId:nt(),content:""};return be.push(T),T},xt=nt(),$n=nt(),ps=m.__private__.decodeColorString=function(T){var G=T.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length===5&&(G[4]==="k"||G[4]==="K")&&(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var me=parseFloat(G[0]);G=[me,me,me,"r"]}for(var xe="#",Ee=0;Ee<3;Ee++)xe+=("0"+Math.floor(255*parseFloat(G[Ee])).toString(16)).slice(-2);return xe},za=m.__private__.encodeColorString=function(T){var G;typeof T=="string"&&(T={ch1:T});var me=T.ch1,xe=T.ch2,Ee=T.ch3,$e=T.ch4,Je=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var ft=new DH(me);if(ft.ok)me=ft.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Pt=parseInt(me.substr(1),16);me=Pt>>16&255,xe=Pt>>8&255,Ee=255&Pt}if(xe===void 0||$e===void 0&&me===xe&&xe===Ee)if(typeof me=="string")G=me+" "+Je[0];else switch(T.precision){case 2:G=M(me/255)+" "+Je[0];break;case 3:default:G=j(me/255)+" "+Je[0]}else if($e===void 0||Pr($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return G=["1.","1.","1.",Je[1]].join(" ");if(typeof me=="string")G=[me,xe,Ee,Je[1]].join(" ");else switch(T.precision){case 2:G=[M(me/255),M(xe/255),M(Ee/255),Je[1]].join(" ");break;default:case 3:G=[j(me/255),j(xe/255),j(Ee/255),Je[1]].join(" ")}}else if(typeof me=="string")G=[me,xe,Ee,$e,Je[2]].join(" ");else switch(T.precision){case 2:G=[M(me),M(xe),M(Ee),M($e),Je[2]].join(" ");break;case 3:default:G=[j(me),j(xe),j(Ee),j($e),Je[2]].join(" ")}return G},Zt=m.__private__.getFilters=function(){return o},vn=m.__private__.putStream=function(T){var G=(T=T||{}).data||"",me=T.filters||Zt(),xe=T.alreadyAppliedFilters||[],Ee=T.addLength1||!1,$e=G.length,Je=T.objectId,ft=function($s){return $s};if(u!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ft=Qs.encryptor(Je,0));var Pt={};me===!0&&(me=["FlateEncode"]);var Wt=T.additionalKeyValues||[],zt=(Pt=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(G,me):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Pt.data.length!==0&&(Wt.push({key:"Length",value:Pt.data.length}),Ee===!0&&Wt.push({key:"Length1",value:$e})),zt.length!=0)if(zt.split("/").length-1==1)Wt.push({key:"Filter",value:zt});else{Wt.push({key:"Filter",value:"["+zt+"]"});for(var dr=0;dr<Wt.length;dr+=1)if(Wt[dr].key==="DecodeParms"){for(var pn=[],wn=0;wn<Pt.reverseChain.split("/").length-1;wn+=1)pn.push("null");pn.push(Wt[dr].value),Wt[dr].value="["+pn.join(" ")+"]"}}q("<<");for(var Hn=0;Hn<Wt.length;Hn++)q("/"+Wt[Hn].key+" "+Wt[Hn].value);q(">>"),Pt.data.length!==0&&(q("stream"),q(ft(Pt.data)),q("endstream"))},Co=m.__private__.putPage=function(T){var G=T.number,me=T.data,xe=T.objId,Ee=T.contentsObjId;Se(xe,!0),q("<</Type /Page"),q("/Parent "+T.rootDictionaryObjId+" 0 R"),q("/Resources "+T.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(P(T.mediaBox.bottomLeftX))+" "+parseFloat(P(T.mediaBox.bottomLeftY))+" "+P(T.mediaBox.topRightX)+" "+P(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&q("/CropBox ["+P(T.cropBox.bottomLeftX)+" "+P(T.cropBox.bottomLeftY)+" "+P(T.cropBox.topRightX)+" "+P(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&q("/BleedBox ["+P(T.bleedBox.bottomLeftX)+" "+P(T.bleedBox.bottomLeftY)+" "+P(T.bleedBox.topRightX)+" "+P(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&q("/TrimBox ["+P(T.trimBox.bottomLeftX)+" "+P(T.trimBox.bottomLeftY)+" "+P(T.trimBox.topRightX)+" "+P(T.trimBox.topRightY)+"]"),T.artBox!==null&&q("/ArtBox ["+P(T.artBox.bottomLeftX)+" "+P(T.artBox.bottomLeftY)+" "+P(T.artBox.topRightX)+" "+P(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&q("/UserUnit "+T.userUnit),_t.publish("putPage",{objId:xe,pageContext:St[G],pageNumber:G,page:me}),q("/Contents "+Ee+" 0 R"),q(">>"),q("endobj");var $e=me.join(`
`);return b===y.ADVANCED&&($e+=`
Q`),Se(Ee,!0),vn({data:$e,filters:Zt(),objectId:Ee}),q("endobj"),xe},Hd=m.__private__.putPages=function(){var T,G,me=[];for(T=1;T<=it;T++)St[T].objId=nt(),St[T].contentsObjId=nt();for(T=1;T<=it;T++)me.push(Co({number:T,data:J[T],objId:St[T].objId,contentsObjId:St[T].contentsObjId,mediaBox:St[T].mediaBox,cropBox:St[T].cropBox,bleedBox:St[T].bleedBox,trimBox:St[T].trimBox,artBox:St[T].artBox,userUnit:St[T].userUnit,rootDictionaryObjId:xt,resourceDictionaryObjId:$n}));Se(xt,!0),q("<</Type /Pages");var xe="/Kids [";for(G=0;G<it;G++)xe+=me[G]+" 0 R ";q(xe+"]"),q("/Count "+it),q(">>"),q("endobj"),_t.publish("postPutPages")},_h=function(T){_t.publish("putFont",{font:T,out:q,newObject:Ye,putStream:vn}),T.isAlreadyPutted!==!0&&(T.objectNumber=Ye(),q("<<"),q("/Type /Font"),q("/BaseFont /"+jA(T.postScriptName)),q("/Subtype /Type1"),typeof T.encoding=="string"&&q("/Encoding /"+T.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},Ch=function(){for(var T in cr)cr.hasOwnProperty(T)&&(h===!1||h===!0&&A.hasOwnProperty(T))&&_h(cr[T])},Sh=function(T){T.objectNumber=Ye();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[P(T.x),P(T.y),P(T.x+T.width),P(T.y+T.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var me=T.pages[1].join(`
`);vn({data:me,additionalKeyValues:G,objectId:T.objectNumber}),q("endobj")},Bh=function(){for(var T in fn)fn.hasOwnProperty(T)&&Sh(fn[T])},Vx=function(T,G){var me,xe=[],Ee=1/(G-1);for(me=0;me<1;me+=Ee)xe.push(me);if(xe.push(1),T[0].offset!=0){var $e={offset:0,color:T[0].color};T.unshift($e)}if(T[T.length-1].offset!=1){var Je={offset:1,color:T[T.length-1].color};T.push(Je)}for(var ft="",Pt=0,Wt=0;Wt<xe.length;Wt++){for(me=xe[Wt];me>T[Pt+1].offset;)Pt++;var zt=T[Pt].offset,dr=(me-zt)/(T[Pt+1].offset-zt),pn=T[Pt].color,wn=T[Pt+1].color;ft+=V(Math.round((1-dr)*pn[0]+dr*wn[0]).toString(16))+V(Math.round((1-dr)*pn[1]+dr*wn[1]).toString(16))+V(Math.round((1-dr)*pn[2]+dr*wn[2]).toString(16))}return ft.trim()},Zj=function(T,G){G||(G=21);var me=Ye(),xe=Vx(T.colors,G),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+G+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vn({data:xe,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),q("endobj"),T.objectNumber=Ye(),q("<< /ShadingType "+T.type),q("/ColorSpace /DeviceRGB");var $e="/Coords ["+P(parseFloat(T.coords[0]))+" "+P(parseFloat(T.coords[1]))+" ";T.type===2?$e+=P(parseFloat(T.coords[2]))+" "+P(parseFloat(T.coords[3])):$e+=P(parseFloat(T.coords[2]))+" "+P(parseFloat(T.coords[3]))+" "+P(parseFloat(T.coords[4]))+" "+P(parseFloat(T.coords[5])),q($e+="]"),T.matrix&&q("/Matrix ["+T.matrix.toString()+"]"),q("/Function "+me+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},eN=function(T,G){var me=nt(),xe=Ye();G.push({resourcesOid:me,objectOid:xe}),T.objectNumber=xe;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+T.boundingBox.map(P).join(" ")+"]"}),Ee.push({key:"XStep",value:P(T.xStep)}),Ee.push({key:"YStep",value:P(T.yStep)}),Ee.push({key:"Resources",value:me+" 0 R"}),T.matrix&&Ee.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),vn({data:T.stream,additionalKeyValues:Ee,objectId:T.objectNumber}),q("endobj")},Eh=function(T){var G;for(G in Ae)Ae.hasOwnProperty(G)&&(Ae[G]instanceof ju?Zj(Ae[G]):Ae[G]instanceof qA&&eN(Ae[G],T))},Kx=function(T){for(var G in T.objectNumber=Ye(),q("<<"),T)switch(G){case"opacity":q("/ca "+M(T[G]));break;case"stroke-opacity":q("/CA "+M(T[G]))}q(">>"),q("endobj")},tN=function(){var T;for(T in He)He.hasOwnProperty(T)&&Kx(He[T])},Df=function(){for(var T in q("/XObject <<"),fn)fn.hasOwnProperty(T)&&fn[T].objectNumber>=0&&q("/"+T+" "+fn[T].objectNumber+" 0 R");_t.publish("putXobjectDict"),q(">>")},rN=function(){Qs.oid=Ye(),q("<<"),q("/Filter /Standard"),q("/V "+Qs.v),q("/R "+Qs.r),q("/U <"+Qs.toHexString(Qs.U)+">"),q("/O <"+Qs.toHexString(Qs.O)+">"),q("/P "+Qs.P),q(">>"),q("endobj")},Wx=function(){for(var T in q("/Font <<"),cr)cr.hasOwnProperty(T)&&(h===!1||h===!0&&A.hasOwnProperty(T))&&q("/"+T+" "+cr[T].objectNumber+" 0 R");q(">>")},nN=function(){if(Object.keys(Ae).length>0){for(var T in q("/Shading <<"),Ae)Ae.hasOwnProperty(T)&&Ae[T]instanceof ju&&Ae[T].objectNumber>=0&&q("/"+T+" "+Ae[T].objectNumber+" 0 R");_t.publish("putShadingPatternDict"),q(">>")}},kh=function(T){if(Object.keys(Ae).length>0){for(var G in q("/Pattern <<"),Ae)Ae.hasOwnProperty(G)&&Ae[G]instanceof m.TilingPattern&&Ae[G].objectNumber>=0&&Ae[G].objectNumber<T&&q("/"+G+" "+Ae[G].objectNumber+" 0 R");_t.publish("putTilingPatternDict"),q(">>")}},sN=function(){if(Object.keys(He).length>0){var T;for(T in q("/ExtGState <<"),He)He.hasOwnProperty(T)&&He[T].objectNumber>=0&&q("/"+T+" "+He[T].objectNumber+" 0 R");_t.publish("putGStateDict"),q(">>")}},En=function(T){Se(T.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wx(),nN(),kh(T.objectOid),sN(),Df(),q(">>"),q("endobj")},Gx=function(){var T=[];Ch(),tN(),Bh(),Eh(T),_t.publish("putResources"),T.forEach(En),En({resourcesOid:$n,objectOid:Number.MAX_SAFE_INTEGER}),_t.publish("postPutResources")},Xx=function(){_t.publish("putAdditionalObjects");for(var T=0;T<be.length;T++){var G=be[T];Se(G.objId,!0),q(G.content),q("endobj")}_t.publish("postPutAdditionalObjects")},Yx=function(T){tr[T.fontName]=tr[T.fontName]||{},tr[T.fontName][T.fontStyle]=T.id},Mf=function(T,G,me,xe,Ee){var $e={id:"F"+(Object.keys(cr).length+1).toString(10),postScriptName:T,fontName:G,fontStyle:me,encoding:xe,isStandardFont:Ee||!1,metadata:{}};return _t.publish("addFont",{font:$e,instance:this}),cr[$e.id]=$e,Yx($e),$e.id},aN=function(T){for(var G=0,me=Z.length;G<me;G++){var xe=Mf.call(this,T[G][0],T[G][1],T[G][2],Z[G][3],!0);h===!1&&(A[xe]=!0);var Ee=T[G][0].split("-");Yx({id:xe,fontName:Ee[0],fontStyle:Ee[1]||""})}_t.publish("addFonts",{fonts:cr,dictionary:tr})},Gi=function(T){return T.foo=function(){try{return T.apply(this,arguments)}catch(xe){var G=xe.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var me="Error in function "+G.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Rt.console)throw new Error(me);Rt.console.error(me,xe),Rt.alert&&alert(me)}},T.foo.bar=T,T.foo},Ph=function(T,G){var me,xe,Ee,$e,Je,ft,Pt,Wt,zt;if(Ee=(G=G||{}).sourceEncoding||"Unicode",Je=G.outputEncoding,(G.autoencode||Je)&&cr[Ct].metadata&&cr[Ct].metadata[Ee]&&cr[Ct].metadata[Ee].encoding&&($e=cr[Ct].metadata[Ee].encoding,!Je&&cr[Ct].encoding&&(Je=cr[Ct].encoding),!Je&&$e.codePages&&(Je=$e.codePages[0]),typeof Je=="string"&&(Je=$e[Je]),Je)){for(Pt=!1,ft=[],me=0,xe=T.length;me<xe;me++)(Wt=Je[T.charCodeAt(me)])?ft.push(String.fromCharCode(Wt)):ft.push(T[me]),ft[me].charCodeAt(0)>>8&&(Pt=!0);T=ft.join("")}for(me=T.length;Pt===void 0&&me!==0;)T.charCodeAt(me-1)>>8&&(Pt=!0),me--;if(!Pt)return T;for(ft=G.noBOM?[]:[254,255],me=0,xe=T.length;me<xe;me++){if((zt=(Wt=T.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+T+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ft.push(zt),ft.push(Wt-(zt<<8))}return String.fromCharCode.apply(void 0,ft)},Ca=m.__private__.pdfEscape=m.pdfEscape=function(T,G){return Ph(T,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lf=m.__private__.beginPage=function(T){J[++it]=[],St[it]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},Zx(it),we(J[D])},Jx=function(T,G){var me,xe,Ee;switch(r=G||r,typeof T=="string"&&(me=f(T.toLowerCase()),Array.isArray(me)&&(xe=me[0],Ee=me[1])),Array.isArray(T)&&(xe=T[0]*Ze,Ee=T[1]*Ze),isNaN(xe)&&(xe=a[0],Ee=a[1]),(xe>14400||Ee>14400)&&(Rr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ee=Math.min(14400,Ee)),a=[xe,Ee],r.substr(0,1)){case"l":Ee>xe&&(a=[Ee,xe]);break;case"p":xe>Ee&&(a=[Ee,xe])}Lf(a),ay($f),q(Xi),qf!==0&&q(qf+" J"),zf!==0&&q(zf+" j"),_t.publish("addPage",{pageNumber:it})},iN=function(T){T>0&&T<=it&&(J.splice(T,1),St.splice(T,1),it--,D>it&&(D=it),this.setPage(D))},Zx=function(T){T>0&&T<=it&&(D=T)},oN=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return J.length-1},ey=function(T,G,me){var xe,Ee=void 0;return me=me||{},T=T!==void 0?T:cr[Ct].fontName,G=G!==void 0?G:cr[Ct].fontStyle,xe=T.toLowerCase(),tr[xe]!==void 0&&tr[xe][G]!==void 0?Ee=tr[xe][G]:tr[T]!==void 0&&tr[T][G]!==void 0?Ee=tr[T][G]:me.disableWarning===!1&&Rr.warn("Unable to look up font label for font '"+T+"', '"+G+"'. Refer to getFontList() for available fonts."),Ee||me.noFallback||(Ee=tr.times[G])==null&&(Ee=tr.times.normal),Ee},lN=m.__private__.putInfo=function(){var T=Ye(),G=function(xe){return xe};for(var me in u!==null&&(G=Qs.encryptor(T,0)),q("<<"),q("/Producer ("+Ca(G("jsPDF "+kt.version))+")"),ct)ct.hasOwnProperty(me)&&ct[me]&&q("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Ca(G(ct[me]))+")");q("/CreationDate ("+Ca(G(H))+")"),q(">>"),q("endobj")},Uf=m.__private__.putCatalog=function(T){var G=(T=T||{}).rootDictionaryObjId||xt;switch(Ye(),q("<<"),q("/Type /Catalog"),q("/Pages "+G+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+De;me.substr(me.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&q("/OpenAction [3 0 R /XYZ null null "+M(De)+"]")}switch(fe||(fe="continuous"),fe){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}rt&&q("/PageMode /"+rt),_t.publish("putCatalog"),q(">>"),q("endobj")},cN=m.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(de+1)),q("/Root "+de+" 0 R"),q("/Info "+(de-1)+" 0 R"),u!==null&&q("/Encrypt "+Qs.oid+" 0 R"),q("/ID [ <"+U+"> <"+U+"> ]"),q(">>")},dN=m.__private__.putHeader=function(){q("%PDF-"+x),q("%")},uN=m.__private__.putXRef=function(){var T="0000000000";q("xref"),q("0 "+(de+1)),q("0000000000 65535 f ");for(var G=1;G<=de;G++)typeof le[G]=="function"?q((T+le[G]()).slice(-10)+" 00000 n "):le[G]!==void 0?q((T+le[G]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},ll=m.__private__.buildDocument=function(){Qe(),we(ie),_t.publish("buildDocument"),dN(),Hd(),Xx(),Gx(),u!==null&&rN(),lN(),Uf();var T=ce;return uN(),cN(),q("startxref"),q(""+T),q("%%EOF"),we(J[D]),ie.join(`
`)},Fh=m.__private__.getBlob=function(T){return new Blob([Be(T)],{type:"application/pdf"})},Th=m.output=m.__private__.output=Gi(function(T,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",T){case void 0:return ll();case"save":m.save(G.filename);break;case"arraybuffer":return Be(ll());case"blob":return Fh(ll());case"bloburi":case"bloburl":if(Rt.URL!==void 0&&typeof Rt.URL.createObjectURL=="function")return Rt.URL&&Rt.URL.createObjectURL(Fh(ll()))||void 0;Rr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",xe=ll();try{me=tS(xe)}catch{me=tS(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+G.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Ee=G.pdfObjectUrl,$e="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",ft=Rt.open();return ft!==null&&ft.document.write(Je),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',Wt=Rt.open();if(Wt!==null){Wt.document.write(Pt);var zt=this;Wt.document.documentElement.querySelector("#pdfViewer").onload=function(){Wt.document.title=G.filename,Wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',pn=Rt.open();if(pn!==null&&(pn.document.write(dr),pn.document.title=G.filename),pn||typeof safari>"u")return pn;break;case"datauri":case"dataurl":return Rt.document.location.href=this.output("datauristring",G);default:return null}}),ty=function(T){return Array.isArray(Gt)===!0&&Gt.indexOf(T)>-1};switch(n){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=ty("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ze=n}var Qs=null;te(),R();var hN=function(T){return u!==null?Qs.encryptor(T,0):function(G){return G}},ry=m.__private__.getPageInfo=m.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[T].objId,pageNumber:T,pageContext:St[T]}},qt=m.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in St)if(St[G].objId===T)break;return ry(G)},AN=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:St[D].objId,pageNumber:D,pageContext:St[D]}};m.addPage=function(){return Jx.apply(this,arguments),this},m.setPage=function(){return Zx.apply(this,arguments),we.call(this,J[D]),this},m.insertPage=function(T){return this.addPage(),this.movePage(D,T),this},m.movePage=function(T,G){var me,xe;if(T>G){me=J[T],xe=St[T];for(var Ee=T;Ee>G;Ee--)J[Ee]=J[Ee-1],St[Ee]=St[Ee-1];J[G]=me,St[G]=xe,this.setPage(G)}else if(T<G){me=J[T],xe=St[T];for(var $e=T;$e<G;$e++)J[$e]=J[$e+1],St[$e]=St[$e+1];J[G]=me,St[G]=xe,this.setPage(G)}return this},m.deletePage=function(){return iN.apply(this,arguments),this},m.__private__.text=m.text=function(T,G,me,xe,Ee){var $e,Je,ft,Pt,Wt,zt,dr,pn,wn,Hn=(xe=xe||{}).scope||this;if(typeof T=="number"&&typeof G=="number"&&(typeof me=="string"||Array.isArray(me))){var $s=me;me=G,G=T,T=$s}if(arguments[3]instanceof re?(_("The transform parameter of text() with a Matrix value"),wn=Ee):(ft=arguments[4],Pt=arguments[5],Pr(dr=arguments[3])==="object"&&dr!==null||(typeof ft=="string"&&(Pt=ft,ft=null),typeof dr=="string"&&(Pt=dr,dr=null),typeof dr=="number"&&(ft=dr,dr=null),xe={flags:dr,angle:ft,align:Pt})),isNaN(G)||isNaN(me)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return Hn;var gs="",Yi=!1,Va=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:zd,Eo=Hn.internal.scaleFactor;function uy(zr){return zr=zr.split("	").join(Array(xe.TabLen||9).join(" ")),Ca(zr,dr)}function Xf(zr){for(var Vr,Pn=zr.concat(),ss=[],Al=Pn.length;Al--;)typeof(Vr=Pn.shift())=="string"?ss.push(Vr):Array.isArray(zr)&&(Vr.length===1||Vr[1]===void 0&&Vr[2]===void 0)?ss.push(Vr[0]):ss.push([Vr[0],Vr[1],Vr[2]]);return ss}function Yf(zr,Vr){var Pn;if(typeof zr=="string")Pn=Vr(zr)[0];else if(Array.isArray(zr)){for(var ss,Al,ap=zr.concat(),Wh=[],py=ap.length;py--;)typeof(ss=ap.shift())=="string"?Wh.push(Vr(ss)[0]):Array.isArray(ss)&&typeof ss[0]=="string"&&(Al=Vr(ss[0],ss[1],ss[2]),Wh.push([Al[0],Al[1],Al[2]]));Pn=Wh}return Pn}var Uh=!1,Jf=!0;if(typeof T=="string")Uh=!0;else if(Array.isArray(T)){var Zf=T.concat();Je=[];for(var Rh,Ps=Zf.length;Ps--;)(typeof(Rh=Zf.shift())!="string"||Array.isArray(Rh)&&typeof Rh[0]!="string")&&(Jf=!1);Uh=Jf}if(Uh===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Qh=pe/Hn.internal.scaleFactor,$h=Qh*(Va-1);switch(xe.baseline){case"bottom":me-=$h;break;case"top":me+=Qh-$h;break;case"hanging":me+=Qh-2*$h;break;case"middle":me+=Qh/2-$h}if((zt=xe.maxWidth||0)>0&&(typeof T=="string"?T=Hn.splitTextToSize(T,zt):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(zr,Vr){return zr.concat(Hn.splitTextToSize(Vr,zt))},[]))),$e={text:T,x:G,y:me,options:xe,mutex:{pdfEscape:Ca,activeFontKey:Ct,fonts:cr,activeFontSize:pe}},_t.publish("preProcessText",$e),T=$e.text,ft=(xe=$e.options).angle,!(wn instanceof re)&&ft&&typeof ft=="number"){ft*=Math.PI/180,xe.rotationDirection===0&&(ft=-ft),b===y.ADVANCED&&(ft=-ft);var Hh=Math.cos(ft),ep=Math.sin(ft);wn=new re(Hh,ep,-ep,Hh,0,0)}else ft&&ft instanceof re&&(wn=ft);b!==y.ADVANCED||wn||(wn=Le),(Wt=xe.charSpace||Dh)!==void 0&&(gs+=P(S(Wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pn=xe.horizontalScale)!==void 0&&(gs+=P(100*pn)+` Tz
`),xe.lang;var Sa=-1,jN=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,tp=Hn.internal.getCurrentPageInfo().pageContext;switch(jN){case 0:case!1:case"fill":Sa=0;break;case 1:case!0:case"stroke":Sa=1;break;case 2:case"fillThenStroke":Sa=2;break;case 3:case"invisible":Sa=3;break;case 4:case"fillAndAddForClipping":Sa=4;break;case 5:case"strokeAndAddPathForClipping":Sa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sa=6;break;case 7:case"addToPathForClipping":Sa=7}var hy=tp.usedRenderingMode!==void 0?tp.usedRenderingMode:-1;Sa!==-1?gs+=Sa+` Tr
`:hy!==-1&&(gs+=`0 Tr
`),Sa!==-1&&(tp.usedRenderingMode=Sa),Pt=xe.align||"left";var Ai,qh=pe*Va,Ay=Hn.internal.pageSize.getWidth(),my=cr[Ct];Wt=xe.charSpace||Dh,zt=xe.maxWidth||0,dr=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var mc=[],Wd=function(zr){return Hn.getStringUnitWidth(zr,{font:my,charSpace:Wt,fontSize:pe,doKerning:!1})*pe/Eo};if(Object.prototype.toString.call(T)==="[object Array]"){var Ba;Je=Xf(T),Pt!=="left"&&(Ai=Je.map(Wd));var ua,fc=0;if(Pt==="right"){G-=Ai[0],T=[],Ps=Je.length;for(var dl=0;dl<Ps;dl++)dl===0?(ua=Bo(G),Ba=cl(me)):(ua=S(fc-Ai[dl]),Ba=-qh),T.push([Je[dl],ua,Ba]),fc=Ai[dl]}else if(Pt==="center"){G-=Ai[0]/2,T=[],Ps=Je.length;for(var ul=0;ul<Ps;ul++)ul===0?(ua=Bo(G),Ba=cl(me)):(ua=S((fc-Ai[ul])/2),Ba=-qh),T.push([Je[ul],ua,Ba]),fc=Ai[ul]}else if(Pt==="left"){T=[],Ps=Je.length;for(var zh=0;zh<Ps;zh++)T.push(Je[zh])}else if(Pt==="justify"&&my.encoding==="Identity-H"){T=[],Ps=Je.length,zt=zt!==0?zt:Ay;for(var hl=0,kn=0;kn<Ps;kn++)if(Ba=kn===0?cl(me):-qh,ua=kn===0?Bo(G):hl,kn<Ps-1){var rp=S((zt-Ai[kn])/(Je[kn].split(" ").length-1)),ha=Je[kn].split(" ");T.push([ha[0]+" ",ua,Ba]),hl=0;for(var mi=1;mi<ha.length;mi++){var Vh=(Wd(ha[mi-1]+" "+ha[mi])-Wd(ha[mi]))*Eo+rp;mi==ha.length-1?T.push([ha[mi],Vh,0]):T.push([ha[mi]+" ",Vh,0]),hl-=Vh}}else T.push([Je[kn],ua,Ba]);T.push(["",hl,0])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Ps=Je.length,zt=zt!==0?zt:Ay,kn=0;kn<Ps;kn++)Ba=kn===0?cl(me):-qh,ua=kn===0?Bo(G):0,kn<Ps-1?mc.push(P(S((zt-Ai[kn])/(Je[kn].split(" ").length-1)))):mc.push(0),T.push([Je[kn],ua,Ba])}}var fy=typeof xe.R2L=="boolean"?xe.R2L:Me;fy===!0&&(T=Yf(T,function(zr,Vr,Pn){return[zr.split("").reverse().join(""),Vr,Pn]})),$e={text:T,x:G,y:me,options:xe,mutex:{pdfEscape:Ca,activeFontKey:Ct,fonts:cr,activeFontSize:pe}},_t.publish("postProcessText",$e),T=$e.text,Yi=$e.mutex.isHex||!1;var np=cr[Ct].encoding;np!=="WinAnsiEncoding"&&np!=="StandardEncoding"||(T=Yf(T,function(zr,Vr,Pn){return[uy(zr),Vr,Pn]})),Je=Xf(T),T=[];for(var Gd,Xd,pc,Yd=0,Kh=1,Jd=Array.isArray(Je[0])?Kh:Yd,gc="",sp=function(zr,Vr,Pn){var ss="";return Pn instanceof re?(Pn=typeof xe.angle=="number"?Ue(Pn,new re(1,0,0,1,zr,Vr)):Ue(new re(1,0,0,1,zr,Vr),Pn),b===y.ADVANCED&&(Pn=Ue(new re(1,0,0,-1,0,0),Pn)),ss=Pn.join(" ")+` Tm
`):ss=P(zr)+" "+P(Vr)+` Td
`,ss},fi=0;fi<Je.length;fi++){switch(gc="",Jd){case Kh:pc=(Yi?"<":"(")+Je[fi][0]+(Yi?">":")"),Gd=parseFloat(Je[fi][1]),Xd=parseFloat(Je[fi][2]);break;case Yd:pc=(Yi?"<":"(")+Je[fi]+(Yi?">":")"),Gd=Bo(G),Xd=cl(me)}mc!==void 0&&mc[fi]!==void 0&&(gc=mc[fi]+` Tw
`),fi===0?T.push(gc+sp(Gd,Xd,wn)+pc):Jd===Yd?T.push(gc+pc):Jd===Kh&&T.push(gc+sp(Gd,Xd,wn)+pc)}T=Jd===Yd?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var pi=`BT
/`;return pi+=Ct+" "+pe+` Tf
`,pi+=P(pe*Va)+` TL
`,pi+=Vd+`
`,pi+=gs,pi+=T,q(pi+="ET"),A[Ct]=!0,Hn};var mN=m.__private__.clip=m.clip=function(T){return q(T==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return mN("evenodd")},m.__private__.discardPath=m.discardPath=function(){return q("n"),this};var So=m.__private__.isValidStyle=function(T){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(G=!0),G};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(T){return So(T)&&(d=T),this};var ny=m.__private__.getStyle=m.getStyle=function(T){var G=d;switch(T){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=T}return G},sy=m.close=function(){return q("h"),this};m.stroke=function(){return q("S"),this},m.fill=function(T){return Oh("f",T),this},m.fillEvenOdd=function(T){return Oh("f*",T),this},m.fillStroke=function(T){return Oh("B",T),this},m.fillStrokeEvenOdd=function(T){return Oh("B*",T),this};var Oh=function(T,G){Pr(G)==="object"?pN(G,T):q(T)},Rf=function(T){T===null||b===y.ADVANCED&&T===void 0||(T=ny(T),q(T))};function fN(T,G,me,xe,Ee){var $e=new qA(G||this.boundingBox,me||this.xStep,xe||this.yStep,this.gState,Ee||this.matrix);$e.stream=this.stream;var Je=T+"$$"+this.cloneIndex+++"$$";return Oe(Je,$e),$e}var pN=function(T,G){var me=ut[T.key],xe=Ae[me];if(xe instanceof ju)q("q"),q(gN(G)),xe.gState&&m.setGState(xe.gState),q(T.matrix.toString()+" cm"),q("/"+me+" sh"),q("Q");else if(xe instanceof qA){var Ee=new re(1,0,0,-1,0,Ac());T.matrix&&(Ee=Ee.multiply(T.matrix||Le),me=fN.call(xe,T.key,T.boundingBox,T.xStep,T.yStep,Ee).id),q("q"),q("/Pattern cs"),q("/"+me+" scn"),xe.gState&&m.setGState(xe.gState),q(G),q("Q")}},gN=function(T){switch(T){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Qf=m.moveTo=function(T,G){return q(P(S(T))+" "+P(O(G))+" m"),this},qd=m.lineTo=function(T,G){return q(P(S(T))+" "+P(O(G))+" l"),this},uc=m.curveTo=function(T,G,me,xe,Ee,$e){return q([P(S(T)),P(O(G)),P(S(me)),P(O(xe)),P(S(Ee)),P(O($e)),"c"].join(" ")),this};m.__private__.line=m.line=function(T,G,me,xe,Ee){if(isNaN(T)||isNaN(G)||isNaN(me)||isNaN(xe)||!So(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[me-T,xe-G]],T,G,[1,1],Ee||"S"):this.lines([[me-T,xe-G]],T,G,[1,1]).stroke()},m.__private__.lines=m.lines=function(T,G,me,xe,Ee,$e){var Je,ft,Pt,Wt,zt,dr,pn,wn,Hn,$s,gs,Yi;if(typeof T=="number"&&(Yi=me,me=G,G=T,T=Yi),xe=xe||[1,1],$e=$e||!1,isNaN(G)||isNaN(me)||!Array.isArray(T)||!Array.isArray(xe)||!So(Ee)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qf(G,me),Je=xe[0],ft=xe[1],Wt=T.length,$s=G,gs=me,Pt=0;Pt<Wt;Pt++)(zt=T[Pt]).length===2?($s=zt[0]*Je+$s,gs=zt[1]*ft+gs,qd($s,gs)):(dr=zt[0]*Je+$s,pn=zt[1]*ft+gs,wn=zt[2]*Je+$s,Hn=zt[3]*ft+gs,$s=zt[4]*Je+$s,gs=zt[5]*ft+gs,uc(dr,pn,wn,Hn,$s,gs));return $e&&sy(),Rf(Ee),this},m.path=function(T){for(var G=0;G<T.length;G++){var me=T[G],xe=me.c;switch(me.op){case"m":Qf(xe[0],xe[1]);break;case"l":qd(xe[0],xe[1]);break;case"c":uc.apply(this,xe);break;case"h":sy()}}return this},m.__private__.rect=m.rect=function(T,G,me,xe,Ee){if(isNaN(T)||isNaN(G)||isNaN(me)||isNaN(xe)||!So(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(xe=-xe),q([P(S(T)),P(O(G)),P(S(me)),P(S(xe)),"re"].join(" ")),Rf(Ee),this},m.__private__.triangle=m.triangle=function(T,G,me,xe,Ee,$e,Je){if(isNaN(T)||isNaN(G)||isNaN(me)||isNaN(xe)||isNaN(Ee)||isNaN($e)||!So(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-T,xe-G],[Ee-me,$e-xe],[T-Ee,G-$e]],T,G,[1,1],Je,!0),this},m.__private__.roundedRect=m.roundedRect=function(T,G,me,xe,Ee,$e,Je){if(isNaN(T)||isNaN(G)||isNaN(me)||isNaN(xe)||isNaN(Ee)||isNaN($e)||!So(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*me),$e=Math.min($e,.5*xe),this.lines([[me-2*Ee,0],[Ee*ft,0,Ee,$e-$e*ft,Ee,$e],[0,xe-2*$e],[0,$e*ft,-Ee*ft,$e,-Ee,$e],[2*Ee-me,0],[-Ee*ft,0,-Ee,-$e*ft,-Ee,-$e],[0,2*$e-xe],[0,-$e*ft,Ee*ft,-$e,Ee,-$e]],T+Ee,G,[1,1],Je,!0),this},m.__private__.ellipse=m.ellipse=function(T,G,me,xe,Ee){if(isNaN(T)||isNaN(G)||isNaN(me)||isNaN(xe)||!So(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*me,Je=4/3*(Math.SQRT2-1)*xe;return Qf(T+me,G),uc(T+me,G-Je,T+$e,G-xe,T,G-xe),uc(T-$e,G-xe,T-me,G-Je,T-me,G),uc(T-me,G+Je,T-$e,G+xe,T,G+xe),uc(T+$e,G+xe,T+me,G+Je,T+me,G),Rf(Ee),this},m.__private__.circle=m.circle=function(T,G,me,xe){if(isNaN(T)||isNaN(G)||isNaN(me)||!So(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,G,me,me,xe)},m.setFont=function(T,G,me){return me&&(G=C(G,me)),Ct=ey(T,G,{disableWarning:!1}),this};var xN=m.__private__.getFont=m.getFont=function(){return cr[ey.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var T,G,me={};for(T in tr)if(tr.hasOwnProperty(T))for(G in me[T]=[],tr[T])tr[T].hasOwnProperty(G)&&me[T].push(G);return me},m.addFont=function(T,G,me,xe,Ee){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(me=C(me,xe)),Ee=Ee||"Identity-H",Mf.call(this,T,G,me,Ee)};var zd,$f=t.lineWidth||.200025,Ih=m.__private__.getLineWidth=m.getLineWidth=function(){return $f},ay=m.__private__.setLineWidth=m.setLineWidth=function(T){return $f=T,q(P(S(T))+" w"),this};m.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(T,G){if(T=T||[],G=G||0,isNaN(G)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(me){return P(S(me))}).join(" "),G=P(S(G)),q("["+T+"] "+G+" d"),this};var iy=m.__private__.getLineHeight=m.getLineHeight=function(){return pe*zd};m.__private__.getLineHeight=m.getLineHeight=function(){return pe*zd};var oy=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(zd=T),this},ly=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return zd};oy(t.lineHeight);var Bo=m.__private__.getHorizontalCoordinate=function(T){return S(T)},cl=m.__private__.getVerticalCoordinate=function(T){return b===y.ADVANCED?T:St[D].mediaBox.topRightY-St[D].mediaBox.bottomLeftY-S(T)},yN=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(T){return P(Bo(T))},hc=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(T){return P(cl(T))},Xi=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ps(Xi)},m.__private__.setStrokeColor=m.setDrawColor=function(T,G,me,xe){return Xi=za({ch1:T,ch2:G,ch3:me,ch4:xe,pdfColorType:"draw",precision:2}),q(Xi),this};var Hf=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ps(Hf)},m.__private__.setFillColor=m.setFillColor=function(T,G,me,xe){return Hf=za({ch1:T,ch2:G,ch3:me,ch4:xe,pdfColorType:"fill",precision:2}),q(Hf),this};var Vd=t.textColor||"0 g",bN=m.__private__.getTextColor=m.getTextColor=function(){return ps(Vd)};m.__private__.setTextColor=m.setTextColor=function(T,G,me,xe){return Vd=za({ch1:T,ch2:G,ch3:me,ch4:xe,pdfColorType:"text",precision:3}),this};var Dh=t.charSpace,vN=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Dh||0)};m.__private__.setCharSpace=m.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dh=T,this};var qf=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(T){var G=m.CapJoinStyles[T];if(G===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qf=G,q(G+" J"),this};var zf=0;m.__private__.setLineJoin=m.setLineJoin=function(T){var G=m.CapJoinStyles[T];if(G===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zf=G,q(G+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(P(S(T))+" M"),this},m.GState=Fw,m.setGState=function(T){(T=typeof T=="string"?He[ht[T]]:cy(null,T)).equals(gr)||(q("/"+T.id+" gs"),gr=T)};var cy=function(T,G){if(!T||!ht[T]){var me=!1;for(var xe in He)if(He.hasOwnProperty(xe)&&He[xe].equals(G)){me=!0;break}if(me)G=He[xe];else{var Ee="GS"+(Object.keys(He).length+1).toString(10);He[Ee]=G,G.id=Ee}return T&&(ht[T]=G.id),_t.publish("addGState",G),G}};m.addGState=function(T,G){return cy(T,G),this},m.saveGraphicsState=function(){return q("q"),ns.push({key:Ct,size:pe,color:Vd}),this},m.restoreGraphicsState=function(){q("Q");var T=ns.pop();return Ct=T.key,pe=T.size,Vd=T.color,gr=null,this},m.setCurrentTransformationMatrix=function(T){return q(T.toString()+" cm"),this},m.comment=function(T){return q("#"+T),this};var Mh=function(T,G){var me=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function($e){isNaN($e)||(me=parseFloat($e))}});var xe=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function($e){isNaN($e)||(xe=parseFloat($e))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function($e){Ee=$e.toString()}}),this},Vf=function(T,G,me,xe){Mh.call(this,T,G),this.type="rect";var Ee=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Je){isNaN(Je)||(Ee=parseFloat(Je))}});var $e=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Je){isNaN(Je)||($e=parseFloat(Je))}}),this},Kf=function(){this.page=it,this.currentPage=D,this.pages=J.slice(0),this.pagesContext=St.slice(0),this.x=hr,this.y=It,this.matrix=en,this.width=Kd(D),this.height=Ac(D),this.outputDestination=ke,this.id="",this.objectNumber=-1};Kf.prototype.restore=function(){it=this.page,D=this.currentPage,St=this.pagesContext,J=this.pages,hr=this.x,It=this.y,en=this.matrix,Wf(D,this.width),Gf(D,this.height),ke=this.outputDestination};var dy=function(T,G,me,xe,Ee){qr.push(new Kf),it=D=0,J=[],hr=T,It=G,en=Ee,Lf([me,xe])},wN=function(T){if(tn[T])qr.pop().restore();else{var G=new Kf,me="Xo"+(Object.keys(fn).length+1).toString(10);G.id=me,tn[T]=me,fn[me]=G,_t.publish("addFormObject",G),qr.pop().restore()}};for(var Lh in m.beginFormObject=function(T,G,me,xe,Ee){return dy(T,G,me,xe,Ee),this},m.endFormObject=function(T){return wN(T),this},m.doFormObject=function(T,G){var me=fn[tn[T]];return q("q"),q(G.toString()+" cm"),q("/"+me.id+" Do"),q("Q"),this},m.getFormObject=function(T){var G=fn[tn[T]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},m.save=function(T,G){return T=T||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(mu(Fh(ll()),T),typeof mu.unload=="function"&&Rt.setTimeout&&setTimeout(mu.unload,911),this):new Promise(function(me,xe){try{var Ee=mu(Fh(ll()),T);typeof mu.unload=="function"&&Rt.setTimeout&&setTimeout(mu.unload,911),me(Ee)}catch($e){xe($e.message)}})},kt.API)kt.API.hasOwnProperty(Lh)&&(Lh==="events"&&kt.API.events.length?function(T,G){var me,xe,Ee;for(Ee=G.length-1;Ee!==-1;Ee--)me=G[Ee][0],xe=G[Ee][1],T.subscribe.apply(T,[me].concat(typeof xe=="function"?[xe]:xe))}(_t,kt.API.events):m[Lh]=kt.API[Lh]);var Kd=m.getPageWidth=function(T){return(St[T=T||D].mediaBox.topRightX-St[T].mediaBox.bottomLeftX)/Ze},Wf=m.setPageWidth=function(T,G){St[T].mediaBox.topRightX=G*Ze+St[T].mediaBox.bottomLeftX},Ac=m.getPageHeight=function(T){return(St[T=T||D].mediaBox.topRightY-St[T].mediaBox.bottomLeftY)/Ze},Gf=m.setPageHeight=function(T,G){St[T].mediaBox.topRightY=G*Ze+St[T].mediaBox.bottomLeftY};return m.internal={pdfEscape:Ca,getStyle:ny,getFont:xN,getFontSize:je,getCharSpace:vN,getTextColor:bN,getLineHeight:iy,getLineHeightFactor:ly,getLineWidth:Ih,write:Ne,getHorizontalCoordinate:Bo,getVerticalCoordinate:cl,getCoordinateString:yN,getVerticalCoordinateString:hc,collections:{},newObject:Ye,newAdditionalObject:bt,newObjectDeferred:nt,newObjectDeferredBegin:Se,getFilters:Zt,putStream:vn,events:_t,scaleFactor:Ze,pageSize:{getWidth:function(){return Kd(D)},setWidth:function(T){Wf(D,T)},getHeight:function(){return Ac(D)},setHeight:function(T){Gf(D,T)}},encryptionOptions:u,encryption:Qs,getEncryptor:hN,output:Th,getNumberOfPages:oN,pages:J,out:q,f2:M,f3:j,getPageInfo:ry,getPageInfoByObjId:qt,getCurrentPageInfo:AN,getPDFVersion:g,Point:Mh,Rectangle:Vf,Matrix:re,hasHotfix:ty},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Kd(D)},set:function(T){Wf(D,T)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ac(D)},set:function(T){Gf(D,T)},enumerable:!0,configurable:!0}),aN.call(m,Z),Ct="F1",Jx(a,r),_t.publish("initialized"),m}wA.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},wA.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wA.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},wA.prototype.processOwnerPassword=function(t,e){return nS(rS(e).substr(0,5),t)},wA.prototype.encryptor=function(t,e){var r=rS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return nS(r,n)}},Fw.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Pr(t)!==Pr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},kt.API={events:[]},kt.version="2.5.2";var Nn=kt.API,ck=1,yh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},iA=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(t){return t.toFixed(2)},Bc=function(t){return t.toFixed(5)};Nn.__acroform__={};var Ha=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},PO=function(t){return t*ck},Oo=function(t){var e=new RH,r=Nt.internal.getHeight(t)||0,n=Nt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vt(n)),Number(Vt(r))],e},Mhe=Nn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Lhe=Nn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Uhe=Nn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Dn=Nn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Uhe(t,e-1)},Mn=Nn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Mhe(t,e-1)},Ln=Nn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Lhe(t,e-1)},Rhe=Nn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Vt(c.lowerLeft_X)),Number(Vt(c.lowerLeft_Y)),Number(Vt(c.upperRight_X)),Number(Vt(c.upperRight_Y))]},Qhe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=sS(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Vt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Oo(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},sS=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(j){return j.split(`
`)}):a.map(function(j){return[j]});var i=r,o=Nt.internal.getHeight(t)||0;o=o<0?-o:o;var l=Nt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(j,S,F){if(j+1<a.length){var O=S+" "+a[j+1][0];return db(O,t,F).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,h=db("3",t,i).height,A=t.multiline?o-i:(o-h)/2,m=A+=2,x=0,g=0,p=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+db(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var f="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var N=!1;if(a[b].length!==1&&p!==a[b].length-1){if((h+2)*(y+2)+2>o)continue e;f+=a[b][p],N=!0,g=b,b--}else{f=(f+=a[b][p]+" ").substr(f.length-1)==" "?f.substr(0,f.length-1):f;var v=parseInt(b),C=c(v,f,i),P=b>=a.length-1;if(C&&!P){f+=" ",p=0;continue}if(C||P){if(P)g=v;else if(t.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>o)continue e;g=v}}for(var _="",k=x;k<=g;k++){var M=a[k];if(t.multiline){if(k===g){_+=M[p]+" ",p=(p+1)%M.length;continue}if(k===x){_+=M[M.length-1]+" ";continue}}_+=M[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=db(_,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}e+=Vt(d)+" "+Vt(m)+` Td
`,e+="("+yh(_)+`) Tj
`,e+=-Vt(d)+` 0 Td
`,m=-(i+2),u=0,x=N?g:g+1,y++,f=""}break}return n.text=e,n.fontSize=i,n},db=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},$he={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hhe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},qhe=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Pr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},zhe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(wo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($he)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ck=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new QH,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Hhe(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Rhe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Nt.createDefaultAppearanceStream(l),Pr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Qhe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var A in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(A)){var m=l.appearanceStreamContent[A];if(h+="/"+A+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&qhe(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},UH=Nn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Pr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+yh(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},W_=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+yh(n(t))+")"},Ho=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ho.prototype.toString=function(){return this.objId+" 0 R"},Ho.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ho.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:UH(a,this.objId,this.scope)}):a instanceof Ho?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var RH=function(){Ho.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ha(RH,Ho);var QH=function(){Ho.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+yh(r(t))+")"}},set:function(r){t=r}})};Ha(QH,Ho);var wo=function t(){Ho.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(f){if(isNaN(f))throw new Error('Invalid value "'+f+'" for attribute F supplied.');e=f}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dn(e,3)},set:function(f){f?this.F=Mn(e,3):this.F=Ln(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(f){if(isNaN(f))throw new Error('Invalid value "'+f+'" for attribute Ff supplied.');r=f}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(f){n=f!==void 0?f:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(f){n[0]=f}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(f){n[1]=f}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(f){n[2]=f}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(f){n[3]=f}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(f){switch(f){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=f;break;default:throw new Error('Invalid value "'+f+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Tw)return;i="FieldObject"+t.FieldNum++}var f=function(y){return y};return this.scope&&(f=this.scope.internal.getEncryptor(this.objId)),"("+yh(f(i))+")"},set:function(f){i=f.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(f){i=f}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(f){o=f}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(f){l=f}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(f){c=f}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/ck:d},set:function(f){d=f}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(f){u=f}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Tw||this instanceof zu))return W_(h,this.objId,this.scope)},set:function(f){f=f.toString(),h=f}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof js?A:W_(A,this.objId,this.scope)},set:function(f){f=f.toString(),A=this instanceof js?f:f.substr(0,1)==="("?iA(f.substr(1,f.length-2)):iA(f)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof js?iA(A.substr(1,A.length-1)):A},set:function(f){f=f.toString(),A=this instanceof js?"/"+f:f}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(f){this.V=f}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof js?m:W_(m,this.objId,this.scope)},set:function(f){f=f.toString(),m=this instanceof js?f:f.substr(0,1)==="("?iA(f.substr(1,f.length-2)):iA(f)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof js?iA(m.substr(1,m.length-1)):m},set:function(f){f=f.toString(),m=this instanceof js?"/"+f:f}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(f){f=!!f,g=f}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(f){x=f}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,1)},set:function(f){f?this.Ff=Mn(this.Ff,1):this.Ff=Ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,2)},set:function(f){f?this.Ff=Mn(this.Ff,2):this.Ff=Ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,3)},set:function(f){f?this.Ff=Mn(this.Ff,3):this.Ff=Ln(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(f){if([0,1,2].indexOf(f)===-1)throw new Error('Invalid value "'+f+'" for attribute Q supplied.');p=f}}),Object.defineProperty(this,"textAlign",{get:function(){var f;switch(p){case 0:default:f="left";break;case 1:f="center";break;case 2:f="right"}return f},configurable:!0,enumerable:!0,set:function(f){switch(f){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};Ha(wo,Ho);var hm=function(){wo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UH(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,18)},set:function(r){r?this.Ff=Mn(this.Ff,18):this.Ff=Ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Mn(this.Ff,19):this.Ff=Ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,20)},set:function(r){r?(this.Ff=Mn(this.Ff,20),e.sort()):this.Ff=Ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,22)},set:function(r){r?this.Ff=Mn(this.Ff,22):this.Ff=Ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(r){r?this.Ff=Mn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,27)},set:function(r){r?this.Ff=Mn(this.Ff,27):this.Ff=Ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Ha(hm,wo);var Am=function(){hm.call(this),this.fontName="helvetica",this.combo=!1};Ha(Am,hm);var mm=function(){Am.call(this),this.combo=!0};Ha(mm,Am);var Fv=function(){mm.call(this),this.edit=!0};Ha(Fv,mm);var js=function(){wo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,15)},set:function(r){r?this.Ff=Mn(this.Ff,15):this.Ff=Ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,16)},set:function(r){r?this.Ff=Mn(this.Ff,16):this.Ff=Ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,17)},set:function(r){r?this.Ff=Mn(this.Ff,17):this.Ff=Ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(r){r?this.Ff=Mn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+yh(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Pr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ha(js,wo);var Tv=function(){js.call(this),this.pushButton=!0};Ha(Tv,js);var fm=function(){js.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ha(fm,js);var Tw=function(){var t,e;wo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+yh(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Pr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ha(Tw,wo),fm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},fm.prototype.createOption=function(t){var e=new Tw;return e.Parent=this,e.optionName=t,this.Kids.push(e),Vhe.call(this.scope,e),e};var Ov=function(){js.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};Ha(Ov,js);var zu=function(){wo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,13)},set:function(e){e?this.Ff=Mn(this.Ff,13):this.Ff=Ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,21)},set:function(e){e?this.Ff=Mn(this.Ff,21):this.Ff=Ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(e){e?this.Ff=Mn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,24)},set:function(e){e?this.Ff=Mn(this.Ff,24):this.Ff=Ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,25)},set:function(e){e?this.Ff=Mn(this.Ff,25):this.Ff=Ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(e){e?this.Ff=Mn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ha(zu,wo);var Iv=function(){zu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,14)},set:function(t){t?this.Ff=Mn(this.Ff,14):this.Ff=Ln(this.Ff,14)}}),this.password=!0};Ha(Iv,zu);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Oo(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=sS(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Vt(Nt.internal.getWidth(t))+" "+Vt(Nt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Oo(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Nt.internal.getHeight(t),o=Nt.internal.getWidth(t),l=sS(t,t.caption);return a.push("1 g"),a.push("0 0 "+Vt(o)+" "+Vt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Vt(o-1)+" "+Vt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Vt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Oo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(Nt.internal.getWidth(t))+" "+Vt(Nt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Nt.RadioButton.Circle.YesNormal,e.D[t]=Nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Oo(t);e.scope=t.scope;var r=[],n=Nt.internal.getWidth(t)<=Nt.internal.getHeight(t)?Nt.internal.getWidth(t)/4:Nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Nt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Bc(Nt.internal.getWidth(t)/2)+" "+Bc(Nt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Oo(t);e.scope=t.scope;var r=[],n=Nt.internal.getWidth(t)<=Nt.internal.getHeight(t)?Nt.internal.getWidth(t)/4:Nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Nt.internal.Bezier_C).toFixed(5)),o=Number((n*Nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bc(Nt.internal.getWidth(t)/2)+" "+Bc(Nt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Bc(Nt.internal.getWidth(t)/2)+" "+Bc(Nt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Oo(t);e.scope=t.scope;var r=[],n=Nt.internal.getWidth(t)<=Nt.internal.getHeight(t)?Nt.internal.getWidth(t)/4:Nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bc(Nt.internal.getWidth(t)/2)+" "+Bc(Nt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Nt.RadioButton.Cross.YesNormal,e.D[t]=Nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Oo(t);e.scope=t.scope;var r=[],n=Nt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Vt(Nt.internal.getWidth(t)-2)+" "+Vt(Nt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),r.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),r.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),r.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Oo(t);e.scope=t.scope;var r=Nt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(Nt.internal.getWidth(t))+" "+Vt(Nt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vt(Nt.internal.getWidth(t)-2)+" "+Vt(Nt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(r.x1.x)+" "+Vt(r.x1.y)+" m"),n.push(Vt(r.x2.x)+" "+Vt(r.x2.y)+" l"),n.push(Vt(r.x4.x)+" "+Vt(r.x4.y)+" m"),n.push(Vt(r.x3.x)+" "+Vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Oo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(Nt.internal.getWidth(t))+" "+Vt(Nt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Nt.internal.getWidth(t),r=Nt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Nt.internal.getWidth=function(t){var e=0;return Pr(t)==="object"&&(e=PO(t.Rect[2])),e},Nt.internal.getHeight=function(t){var e=0;return Pr(t)==="object"&&(e=PO(t.Rect[3])),e};var Vhe=Nn.addField=function(t){if(zhe(this,t),!(t instanceof wo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Nn.AcroFormChoiceField=hm,Nn.AcroFormListBox=Am,Nn.AcroFormComboBox=mm,Nn.AcroFormEditBox=Fv,Nn.AcroFormButton=js,Nn.AcroFormPushButton=Tv,Nn.AcroFormRadioButton=fm,Nn.AcroFormCheckBox=Ov,Nn.AcroFormTextField=zu,Nn.AcroFormPasswordField=Iv,Nn.AcroFormAppearance=Nt,Nn.AcroForm={ChoiceField:hm,ListBox:Am,ComboBox:mm,EditBox:Fv,Button:js,PushButton:Tv,RadioButton:fm,CheckBox:Ov,TextField:zu,PasswordField:Iv,Appearance:Nt},kt.AcroForm={ChoiceField:hm,ListBox:Am,ComboBox:mm,EditBox:Fv,Button:js,PushButton:Tv,RadioButton:fm,CheckBox:Ov,TextField:zu,PasswordField:Iv,Appearance:Nt};kt.AcroForm;function $H(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(j,S){var F,O,H,U,z,R=e;if((S=S||e)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(C(j))for(z in r)for(H=r[z],F=0;F<H.length;F+=1){for(U=!0,O=0;O<H[F].length;O+=1)if(H[F][O]!==void 0&&H[F][O]!==j[O]){U=!1;break}if(U===!0){R=z;break}}else for(z in r)for(H=r[z],F=0;F<H.length;F+=1){for(U=!0,O=0;O<H[F].length;O+=1)if(H[F][O]!==void 0&&H[F][O]!==j.charCodeAt(O)){U=!1;break}if(U===!0){R=z;break}}return R===e&&S!==e&&(R=S),R},a=function j(S){for(var F=this.internal.write,O=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:S.width}),U.push({key:"Height",value:S.height}),S.colorSpace===p.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===p.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)){for(var z="",R=0,I=S.transparency.length;R<I;R++)z+=S.transparency[R]+" "+S.transparency[R]+" ";U.push({key:"Mask",value:"["+z+"]"})}S.sMask!==void 0&&U.push({key:"SMask",value:S.objectId+1+" 0 R"});var K=S.filter!==void 0?["/"+S.filter]:void 0;if(O({data:S.data,additionalKeyValues:U,alreadyAppliedFilters:K,objectId:S.objectId}),F("endobj"),"sMask"in S&&S.sMask!==void 0){var te="/Predictor "+S.predictor+" /Colors 1 /BitsPerComponent "+S.bitsPerComponent+" /Columns "+S.width,Q={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:S.bitsPerComponent,decodeParameters:te,data:S.sMask};"filter"in S&&(Q.filter=S.filter),j.call(this,Q)}if(S.colorSpace===p.INDEXED){var D=this.internal.newObject();O({data:_(new Uint8Array(S.palette)),objectId:D}),F("endobj")}},i=function(){var j=this.internal.collections.addImage_images;for(var S in j)a.call(this,j[S])},o=function(){var j,S=this.internal.collections.addImage_images,F=this.internal.write;for(var O in S)F("/I"+(j=S[O]).index,j.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var j=this.internal.collections.addImage_images;return l.call(this),j},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(j){return typeof t["process"+j.toUpperCase()]=="function"},h=function(j){return Pr(j)==="object"&&j.nodeType===1},A=function(j,S){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var F=""+j.getAttribute("src");if(F.indexOf("data:image/")===0)return Sg(unescape(F).split("base64,").pop());var O=t.loadFile(F,!0);if(O!==void 0)return O}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var H;switch(S){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return Sg(j.toDataURL(H,1).split("base64,").pop())}},m=function(j){var S=this.internal.collections.addImage_images;if(S){for(var F in S)if(j===S[F].alias)return S[F]}},x=function(j,S,F){return j||S||(j=-96,S=-96),j<0&&(j=-1*F.width*72/j/this.internal.scaleFactor),S<0&&(S=-1*F.height*72/S/this.internal.scaleFactor),j===0&&(j=S*F.width/F.height),S===0&&(S=j*F.height/F.width),[j,S]},g=function(j,S,F,O,H,U){var z=x.call(this,F,O,H),R=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,K=c.call(this);if(F=z[0],O=z[1],K[H.index]=H,U){U*=Math.PI/180;var te=Math.cos(U),Q=Math.sin(U),D=function(V){return V.toFixed(4)},X=[D(te),D(Q),D(-1*Q),D(te),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,R(j),I(S+O),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([R(F),"0","0",R(O),"0","0","cm"].join(" "))):this.internal.write([R(F),"0","0",R(O),R(j),I(S+O),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},p=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var f=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(j){var S,F,O=0;if(typeof j=="string")for(F=j.length,S=0;S<F;S++)O=(O<<5)-O+j.charCodeAt(S),O|=0;else if(C(j))for(F=j.byteLength/2,S=0;S<F;S++)O=(O<<5)-O+j[S],O|=0;return O},b=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var S=!0;return j.length===0&&(S=!1),j.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(S=!1),S},N=t.__addimage__.extractImageFromDataUrl=function(j){var S=(j=j||"").split("base64,"),F=null;if(S.length===2){var O=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(S[0]);Array.isArray(O)&&(F={mimeType:O[1],charset:O[2],data:S[1]})}return F},v=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(j){return v()&&j instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(j){return v()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},P=t.__addimage__.binaryStringToUint8Array=function(j){for(var S=j.length,F=new Uint8Array(S),O=0;O<S;O++)F[O]=j.charCodeAt(O);return F},_=t.__addimage__.arrayBufferToBinaryString=function(j){for(var S="",F=C(j)?j:new Uint8Array(j),O=0;O<F.length;O+=8192)S+=String.fromCharCode.apply(null,F.subarray(O,O+8192));return S};t.addImage=function(){var j,S,F,O,H,U,z,R,I;if(typeof arguments[1]=="number"?(S=e,F=arguments[1],O=arguments[2],H=arguments[3],U=arguments[4],z=arguments[5],R=arguments[6],I=arguments[7]):(S=arguments[1],F=arguments[2],O=arguments[3],H=arguments[4],U=arguments[5],z=arguments[6],R=arguments[7],I=arguments[8]),Pr(j=arguments[0])==="object"&&!h(j)&&"imageData"in j){var K=j;j=K.imageData,S=K.format||S||e,F=K.x||F||0,O=K.y||O||0,H=K.w||K.width||H,U=K.h||K.height||U,z=K.alias||z,R=K.compression||R,I=K.rotation||K.angle||I}var te=this.internal.getFilters();if(R===void 0&&te.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN(F)||isNaN(O))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var Q=k.call(this,j,S,z,R);return g.call(this,F,O,H,U,Q,I),this};var k=function(j,S,F,O){var H,U,z;if(typeof j=="string"&&n(j)===e){j=unescape(j);var R=M(j,!1);(R!==""||(R=t.loadFile(j,!0))!==void 0)&&(j=R)}if(h(j)&&(j=A(j,S)),S=n(j,S),!u(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((z=F)==null||z.length===0)&&(F=function(I){return typeof I=="string"||C(I)?y(I):C(I.data)?y(I.data):null}(j)),(H=m.call(this,F))||(v()&&(j instanceof Uint8Array||S==="RGBA"||(U=j,j=P(j))),H=this["process"+S.toUpperCase()](j,d.call(this),F,function(I){return I&&typeof I=="string"&&(I=I.toUpperCase()),I in t.image_compression?I:f.NONE}(O),U)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},M=t.__addimage__.convertBase64ToBinaryString=function(j,S){var F;S=typeof S!="boolean"||S;var O,H="";if(typeof j=="string"){O=(F=N(j))!==null?F.data:j;try{H=Sg(O)}catch(U){if(S)throw b(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(j){var S,F,O="";if(h(j)&&(j=A(j)),typeof j=="string"&&n(j)===e&&((O=M(j,!1))===""&&(O=t.loadFile(j)||""),j=O),F=n(j),!u(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!v()||j instanceof Uint8Array||(j=P(j)),!(S=this["process"+F.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=F,S}})(kt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};kt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){n=d[A];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),f=this.internal.getEncryptor(g.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(f(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(f(y))+") >>",g.content=i;var b=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(g.objId,"0 R",p.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var v=this.annotations._nameMap[n.options.name];n.options.pageNumber=v.page,n.options.top=v.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(kt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(g){var p=0,f=r,y="",b=0;for(p=0;p<g.length;p+=1)f[g.charCodeAt(p)]!==void 0?(b++,typeof(f=f[g.charCodeAt(p)])=="number"&&(y+=String.fromCharCode(f),f=r,b=0),p===g.length-1&&(f=r,y+=g.charAt(p-(b-1)),p-=b-1,b=0)):(f=r,y+=g.charAt(p-b),p-=b,b=0);return y};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var A=t.__arabicParser__.getCorrectForm=function(g,p,f){return o(g)?i(g)===!1?-1:!d(g)||!o(p)&&!o(f)||!o(f)&&l(p)||l(g)&&!o(p)||l(g)&&c(p)||l(g)&&l(p)?0:u(g)&&o(p)&&!l(p)&&o(f)&&d(f)?3:l(g)||!o(f)?1:2:-1},m=function(g){var p=0,f=0,y=0,b="",N="",v="",C=(g=g||"").split("\\s+"),P=[];for(p=0;p<C.length;p+=1){for(P.push(""),f=0;f<C[p].length;f+=1)b=C[p][f],N=C[p][f-1],v=C[p][f+1],o(b)?(y=A(b,N,v),P[p]+=y!==-1?String.fromCharCode(e[b.charCodeAt(0)][y]):b):P[p]+=b;P[p]=h(P[p])}return P.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var g,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,f=[];if(Array.isArray(p)){var y=0;for(f=[],y=0;y<p.length;y+=1)Array.isArray(p[y])?f.push([m(p[y][0]),p[y][1],p[y][2]]):f.push([m(p[y])]);g=f}else g=m(p);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",x])}(kt.API),kt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(kt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,g=0,p=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var f=d.maxWidth;f>0?typeof c=="string"?c=this.splitTextToSize(c,f):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,N){return b.concat(p.splitTextToSize(N,f))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)m<(g=this.getStringUnitWidth(c[y],{font:h})*u)&&(m=g);return m!==0&&(x=c.length),{w:m/=A,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/A,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&A&&(this.printHeaderRow(c.lineNumber,!0),c.y+=A[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,A){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,x,g,p,f=[],y=[],b=[],N={},v={},C=[],P=[],_=(A=A||{}).autoSize||!1,k=A.printHeaders!==!1,M=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,j=A.margins||Object.assign({width:this.getPageWidth()},e),S=typeof A.padding=="number"?A.padding:3,F=A.headerBackgroundColor||"#c8c8c8",O=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=O,this.setFontSize(M),h==null)y=f=Object.keys(u[0]),b=f.map(function(){return"left"});else if(Array.isArray(h)&&Pr(h[0])==="object")for(f=h.map(function(K){return K.name}),y=h.map(function(K){return K.prompt||K.name||""}),b=h.map(function(K){return K.align||"left"}),m=0;m<h.length;m+=1)v[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=f=h,b=f.map(function(){return"left"}));if(_||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<f.length;m+=1){for(N[p=f[m]]=u.map(function(K){return K[p]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=N[p],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)C.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[p]=Math.max.apply(null,C)+S+S,C=[]}if(k){var H={};for(m=0;m<f.length;m+=1)H[f[m]]={},H[f[m]].text=y[m],H[f[m]].align=b[m];var U=l.call(this,H,v);P=f.map(function(K){return new i(c,d,v[K],U,H[K].text,void 0,H[K].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var z=h.reduce(function(K,te){return K[te.name]=te.align,K},{});for(m=0;m<u.length;m+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:m,data:u[m]},this);var R=l.call(this,u[m],v);for(g=0;g<f.length;g+=1){var I=u[m][f[g]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:m,col:g,data:I},this),o.call(this,new i(c,d,v[f[g]],R,I,m+2,z[f[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/A+u+u},this).reduce(function(m,x){return Math.max(m,x)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,A.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),r=!1}}(kt.API);var HH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],aS=$H(qH),zH=[100,200,300,400,500,600,700,800,900],Khe=$H(zH);function iS(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return HH[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof aS[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function FO(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var Whe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},TO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function OO(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Ghe(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Whe,r.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(a[(i=iS(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+OO(i)+"' and default family '"+n+"'.");if(o=function(c,d){if(d[c])return d[c];var u=aS[c],h=u<=aS.normal?-1:1,A=FO(d,qH,u,h);if(!A)throw new Error("Could not find a matching font-stretch value for "+c);return A}(i.stretch,o),o=function(c,d){if(d[c])return d[c];for(var u=HH[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=Khe[c],h=FO(d,zH,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+OO(i)+"'.");return o}function IO(t){return t.trimLeft()}function Xhe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Yhe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ub,DO,MO,G_=["times"];(function(t){var e,r,n,a,i,o,l,c,d,u=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new c,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=Q;Object.defineProperty(this,"pdf",{get:function(){return D}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(we){X=!!we}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(we){V=!!we}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(we){isNaN(we)||(de=we)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(we){isNaN(we)||(le=we)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(we){var q;typeof we=="number"?q=[we,we,we,we]:((q=new Array(4))[0]=we[0],q[1]=we.length>=2?we[1]:q[0],q[2]=we.length>=3?we[2]:q[0],q[3]=we.length>=4?we[3]:q[1]),d.margin=q}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(we){ie=we}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(we){ce=we}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(we){be=we}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(we){we instanceof u&&(d=we)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(we){d.path=we}});var J=[];Object.defineProperty(this,"ctxStack",{get:function(){return J},set:function(we){J=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var q;q=A(we),this.ctx.fillStyle=q.style,this.ctx.isFillTransparent=q.a===0,this.ctx.fillOpacity=q.a,this.pdf.setFillColor(q.r,q.g,q.b,{a:q.a}),this.pdf.setTextColor(q.r,q.g,q.b,{a:q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var q=A(we);this.ctx.strokeStyle=q.style,this.ctx.isStrokeTransparent=q.a===0,this.ctx.strokeOpacity=q.a,q.a===0?this.pdf.setDrawColor(255,255,255):(q.a,this.pdf.setDrawColor(q.r,q.g,q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var ue=null;function ke(we,q){if(ue===null){var Ne=function(Be){var Z=[];return Object.keys(Be).forEach(function(pe){Be[pe].forEach(function(De){var je=null;switch(De){case"bold":je={family:pe,weight:"bold"};break;case"italic":je={family:pe,style:"italic"};break;case"bolditalic":je={family:pe,weight:"bold",style:"italic"};break;case"":case"normal":je={family:pe}}je!==null&&(je.ref={name:pe,style:De},Z.push(je))})}),Z}(we.getFontList());ue=function(Be){for(var Z={},pe=0;pe<Be.length;++pe){var De=iS(Be[pe]),je=De.family,Me=De.stretch,rt=De.style,Pe=De.weight;Z[je]=Z[je]||{},Z[je][Me]=Z[je][Me]||{},Z[je][Me][rt]=Z[je][Me][rt]||{},Z[je][Me][rt][Pe]=De}return Z}(Ne.concat(q))}return ue}var Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(we){ue=null,Qe=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var q;if(this.ctx.font=we,(q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var Ne=q[1],Be=(q[2],q[3]),Z=q[4],pe=(q[5],q[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Z)[2];Z=Math.floor(De==="px"?parseFloat(Z)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Z)*this.pdf.getFontSize():parseFloat(Z)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Z);var je=function(ct){var Ct,Ze,hr=[],It=ct.trim();if(It==="")return G_;if(It in TO)return[TO[It]];for(;It!=="";){switch(Ze=null,Ct=(It=IO(It)).charAt(0)){case'"':case"'":Ze=Xhe(It.substring(1),Ct);break;default:Ze=Yhe(It)}if(Ze===null||(hr.push(Ze[0]),(It=IO(Ze[1]))!==""&&It.charAt(0)!==","))return G_;It=It.replace(/^,/,"")}return hr}(pe);if(this.fontFaces){var Me=Ghe(ke(this.pdf,this.fontFaces),je.map(function(ct){return{family:ct,stretch:"normal",weight:Be,style:Ne}}));this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var rt="";(Be==="bold"||parseInt(Be,10)>=700||Ne==="bold")&&(rt="bold"),Ne==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var Pe="",fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ve=0;Ve<je.length;Ve++){if(this.pdf.internal.getFont(je[Ve],rt,{noFallback:!0,disableWarning:!0})!==void 0){Pe=je[Ve];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(je[Ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pe=je[Ve],rt="bold";else if(this.pdf.internal.getFont(je[Ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pe=je[Ve],rt="normal";break}}if(Pe===""){for(var ze=0;ze<je.length;ze++)if(fe[je[ze]]){Pe=fe[je[ze]];break}}Pe=Pe===""?"Times":Pe,this.pdf.setFont(Pe,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};h.prototype.setLineDash=function(Q){this.lineDash=Q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){N.call(this,"fill",!1)},h.prototype.stroke=function(){N.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(Q,D){if(isNaN(Q)||isNaN(D))throw Rr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(Q,D));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(Q,D)},h.prototype.closePath=function(){var Q=new o(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&Pr(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){Q=new o(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.lineTo=function(Q,D){if(isNaN(Q)||isNaN(D))throw Rr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(Q,D));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},h.prototype.quadraticCurveTo=function(Q,D,X,V){if(isNaN(X)||isNaN(V)||isNaN(Q)||isNaN(D))throw Rr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(X,V)),le=this.ctx.transform.applyToPoint(new o(Q,D));this.path.push({type:"qct",x1:le.x,y1:le.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.bezierCurveTo=function(Q,D,X,V,de,le){if(isNaN(de)||isNaN(le)||isNaN(Q)||isNaN(D)||isNaN(X)||isNaN(V))throw Rr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(de,le)),ce=this.ctx.transform.applyToPoint(new o(Q,D)),be=this.ctx.transform.applyToPoint(new o(X,V));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:be.x,y2:be.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.arc=function(Q,D,X,V,de,le){if(isNaN(Q)||isNaN(D)||isNaN(X)||isNaN(V)||isNaN(de))throw Rr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(Q,D));Q=ie.x,D=ie.y;var ce=this.ctx.transform.applyToPoint(new o(0,X)),be=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(ce.x-be.x,2)+Math.pow(ce.y-be.y,2))}Math.abs(de-V)>=2*Math.PI&&(V=0,de=2*Math.PI),this.path.push({type:"arc",x:Q,y:D,radius:X,startAngle:V,endAngle:de,counterclockwise:le})},h.prototype.arcTo=function(Q,D,X,V,de){throw new Error("arcTo not implemented.")},h.prototype.rect=function(Q,D,X,V){if(isNaN(Q)||isNaN(D)||isNaN(X)||isNaN(V))throw Rr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,D),this.lineTo(Q+X,D),this.lineTo(Q+X,D+V),this.lineTo(Q,D+V),this.lineTo(Q,D),this.lineTo(Q+X,D),this.lineTo(Q,D)},h.prototype.fillRect=function(Q,D,X,V){if(isNaN(Q)||isNaN(D)||isNaN(X)||isNaN(V))throw Rr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,D,X,V),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},h.prototype.strokeRect=function(Q,D,X,V){if(isNaN(Q)||isNaN(D)||isNaN(X)||isNaN(V))throw Rr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(Q,D,X,V),this.stroke())},h.prototype.clearRect=function(Q,D,X,V){if(isNaN(Q)||isNaN(D)||isNaN(X)||isNaN(V))throw Rr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,D,X,V))},h.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},h.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(D),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(Q){var D,X,V,de;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))D=0,X=0,V=0,de=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(le!==null)D=parseInt(le[1]),X=parseInt(le[2]),V=parseInt(le[3]),de=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)D=parseInt(le[1]),X=parseInt(le[2]),V=parseInt(le[3]),de=parseFloat(le[4]);else{if(de=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var ie=new DH(Q);Q=ie.ok?ie.toHex():"#000000"}Q.length===4?(D=Q.substring(1,2),D+=D,X=Q.substring(2,3),X+=X,V=Q.substring(3,4),V+=V):(D=Q.substring(1,3),X=Q.substring(3,5),V=Q.substring(5,7)),D=parseInt(D,16),X=parseInt(X,16),V=parseInt(V,16)}}return{r:D,g:X,b:V,a:de,style:Q}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(Q,D,X,V){if(isNaN(D)||isNaN(X)||typeof Q!="string")throw Rr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!m.call(this)){var de=R(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;S.call(this,{text:Q,x:D,y:X,scale:le,angle:de,align:this.textAlign,maxWidth:V})}},h.prototype.strokeText=function(Q,D,X,V){if(isNaN(D)||isNaN(X)||typeof Q!="string")throw Rr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){V=isNaN(V)?void 0:V;var de=R(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;S.call(this,{text:Q,x:D,y:X,scale:le,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:V})}},h.prototype.measureText=function(Q){if(typeof Q!="string")throw Rr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,X=this.pdf.internal.scaleFactor,V=D.internal.getFontSize(),de=D.getStringUnitWidth(Q)*V/D.internal.scaleFactor,le=function(ie){var ce=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new le({width:de*=Math.round(96*X/72*1e4)/1e4})},h.prototype.scale=function(Q,D){if(isNaN(Q)||isNaN(D))throw Rr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(Q,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.rotate=function(Q){if(isNaN(Q))throw Rr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new c(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},h.prototype.translate=function(Q,D){if(isNaN(Q)||isNaN(D))throw Rr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,Q,D);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.transform=function(Q,D,X,V,de,le){if(isNaN(Q)||isNaN(D)||isNaN(X)||isNaN(V)||isNaN(de)||isNaN(le))throw Rr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new c(Q,D,X,V,de,le);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.setTransform=function(Q,D,X,V,de,le){Q=isNaN(Q)?1:Q,D=isNaN(D)?0:D,X=isNaN(X)?0:X,V=isNaN(V)?1:V,de=isNaN(de)?0:de,le=isNaN(le)?0:le,this.ctx.transform=new c(Q,D,X,V,de,le)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(Q,D,X,V,de,le,ie,ce,be){var J=this.pdf.getImageProperties(Q),ue=1,ke=1,Qe=1,we=1;V!==void 0&&ce!==void 0&&(Qe=ce/V,we=be/de,ue=J.width/V*ce/V,ke=J.height/de*be/de),le===void 0&&(le=D,ie=X,D=0,X=0),V!==void 0&&ce===void 0&&(ce=V,be=de),V===void 0&&ce===void 0&&(ce=J.width,be=J.height);for(var q,Ne=this.ctx.transform.decompose(),Be=R(Ne.rotate.shx),Z=new c,pe=(Z=(Z=(Z=Z.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new l(le-D*Qe,ie-X*we,V*ue,de*ke)),De=p.call(this,pe),je=[],Me=0;Me<De.length;Me+=1)je.indexOf(De[Me])===-1&&je.push(De[Me]);if(b(je),this.autoPaging)for(var rt=je[0],Pe=je[je.length-1],fe=rt;fe<Pe+1;fe++){this.pdf.setPage(fe);var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=fe===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=fe===1?0:ct+(fe-2)*Ct;if(this.ctx.clip_path.length!==0){var hr=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(q,this.posX+this.margin[3],-Ze+ze+this.ctx.prevPageLastElemOffset),v.call(this,"fill",!0),this.path=hr}var It=JSON.parse(JSON.stringify(pe));It=y([It],this.posX+this.margin[3],-Ze+ze+this.ctx.prevPageLastElemOffset)[0];var en=(fe>rt||fe<Pe)&&g.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Ct,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",It.x,It.y,It.w,It.h,null,null,Be),en&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,Be)};var p=function(Q,D,X){var V=[];D=D||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":V.push(Math.floor((Q.y+de)/X)+1);break;case"arc":V.push(Math.floor((Q.y+de-Q.radius)/X)+1),V.push(Math.floor((Q.y+de+Q.radius)/X)+1);break;case"qct":var le=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);V.push(Math.floor((le.y+de)/X)+1),V.push(Math.floor((le.y+le.h+de)/X)+1);break;case"bct":var ie=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);V.push(Math.floor((ie.y+de)/X)+1),V.push(Math.floor((ie.y+ie.h+de)/X)+1);break;case"rect":V.push(Math.floor((Q.y+de)/X)+1),V.push(Math.floor((Q.y+Q.h+de)/X)+1)}for(var ce=0;ce<V.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<V[ce];)f.call(this);return V},f=function(){var Q=this.fillStyle,D=this.strokeStyle,X=this.font,V=this.lineCap,de=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=D,this.font=X,this.lineCap=V,this.lineWidth=de,this.lineJoin=le},y=function(Q,D,X){for(var V=0;V<Q.length;V++)switch(Q[V].type){case"bct":Q[V].x2+=D,Q[V].y2+=X;case"qct":Q[V].x1+=D,Q[V].y1+=X;case"mt":case"lt":case"arc":default:Q[V].x+=D,Q[V].y+=X}return Q},b=function(Q){return Q.sort(function(D,X){return D-X})},N=function(Q,D){for(var X,V,de=this.fillStyle,le=this.strokeStyle,ie=this.lineCap,ce=this.lineWidth,be=Math.abs(ce*this.ctx.transform.scaleX),J=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Qe=[],we=0;we<ke.length;we++)if(ke[we].x!==void 0)for(var q=p.call(this,ke[we]),Ne=0;Ne<q.length;Ne+=1)Qe.indexOf(q[Ne])===-1&&Qe.push(q[Ne]);for(var Be=0;Be<Qe.length;Be++)for(;this.pdf.internal.getNumberOfPages()<Qe[Be];)f.call(this);if(b(Qe),this.autoPaging)for(var Z=Qe[0],pe=Qe[Qe.length-1],De=Z;De<pe+1;De++){this.pdf.setPage(De),this.fillStyle=de,this.strokeStyle=le,this.lineCap=ie,this.lineWidth=be,this.lineJoin=J;var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=De===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],fe=De===1?0:rt+(De-2)*Pe;if(this.ctx.clip_path.length!==0){var Ve=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(X,this.posX+this.margin[3],-fe+Me+this.ctx.prevPageLastElemOffset),v.call(this,Q,!0),this.path=Ve}if(V=JSON.parse(JSON.stringify(ue)),this.path=y(V,this.posX+this.margin[3],-fe+Me+this.ctx.prevPageLastElemOffset),D===!1||De===0){var ze=(De>Z||De<pe)&&g.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,Pe,null).clip().discardPath()),v.call(this,Q,D),ze&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=be,v.call(this,Q,D),this.lineWidth=ce;this.path=ue},v=function(Q,D){if((Q!=="stroke"||D||!x.call(this))&&(Q==="stroke"||D||!m.call(this))){for(var X,V,de=[],le=this.path,ie=0;ie<le.length;ie++){var ce=le[ie];switch(ce.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:ce,deltas:[],abs:[]});break;case"lt":var be=de.length;if(le[ie-1]&&!isNaN(le[ie-1].x)&&(X=[ce.x-le[ie-1].x,ce.y-le[ie-1].y],be>0)){for(;be>=0;be--)if(de[be-1].close!==!0&&de[be-1].begin!==!0){de[be-1].deltas.push(X),de[be-1].abs.push(ce);break}}break;case"bct":X=[ce.x1-le[ie-1].x,ce.y1-le[ie-1].y,ce.x2-le[ie-1].x,ce.y2-le[ie-1].y,ce.x-le[ie-1].x,ce.y-le[ie-1].y],de[de.length-1].deltas.push(X);break;case"qct":var J=le[ie-1].x+2/3*(ce.x1-le[ie-1].x),ue=le[ie-1].y+2/3*(ce.y1-le[ie-1].y),ke=ce.x+2/3*(ce.x1-ce.x),Qe=ce.y+2/3*(ce.y1-ce.y),we=ce.x,q=ce.y;X=[J-le[ie-1].x,ue-le[ie-1].y,ke-le[ie-1].x,Qe-le[ie-1].y,we-le[ie-1].x,q-le[ie-1].y],de[de.length-1].deltas.push(X);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(ce)}}V=D?null:Q==="stroke"?"stroke":"fill";for(var Ne=!1,Be=0;Be<de.length;Be++)if(de[Be].arc)for(var Z=de[Be].abs,pe=0;pe<Z.length;pe++){var De=Z[pe];De.type==="arc"?_.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,D,!Ne):F.call(this,De.x,De.y),Ne=!0}else if(de[Be].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(de[Be].begin!==!0){var je=de[Be].start.x,Me=de[Be].start.y;O.call(this,de[Be].deltas,je,Me),Ne=!0}V&&k.call(this,V),D&&M.call(this)}},C=function(Q){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-X;case"top":return Q+D-X;case"hanging":return Q+D-2*X;case"middle":return Q+D/2-X;case"ideographic":return Q;case"alphabetic":default:return Q}},P=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(D,X){this.colorStops.push([D,X])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(Q,D,X,V,de,le,ie,ce,be){for(var J=U.call(this,X,V,de,le),ue=0;ue<J.length;ue++){var ke=J[ue];ue===0&&(be?j.call(this,ke.x1+Q,ke.y1+D):F.call(this,ke.x1+Q,ke.y1+D)),H.call(this,Q,D,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ce?M.call(this):k.call(this,ie)},k=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(Q,D){this.pdf.internal.out(r(Q)+" "+n(D)+" m")},S=function(Q){var D;switch(Q.align){case"right":case"end":D="right";break;case"center":D="center";break;case"left":case"start":default:D="left"}var X=this.pdf.getTextDimensions(Q.text),V=C.call(this,Q.y),de=P.call(this,V)-X.h,le=this.ctx.transform.applyToPoint(new o(Q.x,V)),ie=this.ctx.transform.decompose(),ce=new c;ce=(ce=(ce=ce.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var be,J,ue,ke=this.ctx.transform.applyToRectangle(new l(Q.x,V,X.w,X.h)),Qe=ce.applyToRectangle(new l(Q.x,de,X.w,X.h)),we=p.call(this,Qe),q=[],Ne=0;Ne<we.length;Ne+=1)q.indexOf(we[Ne])===-1&&q.push(we[Ne]);if(b(q),this.autoPaging)for(var Be=q[0],Z=q[q.length-1],pe=Be;pe<Z+1;pe++){this.pdf.setPage(pe);var De=pe===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[2],rt=Me-this.margin[0],Pe=this.pdf.internal.pageSize.width-this.margin[1],fe=Pe-this.margin[3],Ve=pe===1?0:je+(pe-2)*rt;if(this.ctx.clip_path.length!==0){var ze=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(be,this.posX+this.margin[3],-1*Ve+De),v.call(this,"fill",!0),this.path=ze}var ct=y([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Ve+De+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*Q.scale),ue=this.lineWidth,this.lineWidth=ue*Q.scale);var Ct=this.autoPaging!=="text";if(Ct||ct.y+ct.h<=Me){if(Ct||ct.y>=De&&ct.x<=Pe){var Ze=Ct?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Pe-ct.x)[0],hr=y([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Ve+De+this.ctx.prevPageLastElemOffset)[0],It=Ct&&(pe>Be||pe<Z)&&g.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fe,rt,null).clip().discardPath()),this.pdf.text(Ze,hr.x,hr.y,{angle:Q.angle,align:D,renderingMode:Q.renderingMode}),It&&this.pdf.restoreGraphicsState()}}else ct.y<Me&&(this.ctx.prevPageLastElemOffset+=Me-ct.y);Q.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=ue)}else Q.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*Q.scale),ue=this.lineWidth,this.lineWidth=ue*Q.scale),this.pdf.text(Q.text,le.x+this.posX,le.y+this.posY,{angle:Q.angle,align:D,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=ue)},F=function(Q,D,X,V){X=X||0,V=V||0,this.pdf.internal.out(r(Q+X)+" "+n(D+V)+" l")},O=function(Q,D,X){return this.pdf.lines(Q,D,X,null,null)},H=function(Q,D,X,V,de,le,ie,ce){this.pdf.internal.out([e(a(X+Q)),e(i(V+D)),e(a(de+Q)),e(i(le+D)),e(a(ie+Q)),e(i(ce+D)),"c"].join(" "))},U=function(Q,D,X,V){for(var de=2*Math.PI,le=Math.PI/2;D>X;)D-=de;var ie=Math.abs(X-D);ie<de&&V&&(ie=de-ie);for(var ce=[],be=V?-1:1,J=D;ie>1e-5;){var ue=J+be*Math.min(ie,le);ce.push(z.call(this,Q,J,ue)),ie-=Math.abs(ue-J),J=ue}return ce},z=function(Q,D,X){var V=(X-D)/2,de=Q*Math.cos(V),le=Q*Math.sin(V),ie=de,ce=-le,be=ie*ie+ce*ce,J=be+ie*de+ce*le,ue=4/3*(Math.sqrt(2*be*J)-J)/(ie*le-ce*de),ke=ie-ue*ce,Qe=ce+ue*ie,we=ke,q=-Qe,Ne=V+D,Be=Math.cos(Ne),Z=Math.sin(Ne);return{x1:Q*Math.cos(D),y1:Q*Math.sin(D),x2:ke*Be-Qe*Z,y2:ke*Z+Qe*Be,x3:we*Be-q*Z,y3:we*Z+q*Be,x4:Q*Math.cos(X),y4:Q*Math.sin(X)}},R=function(Q){return 180*Q/Math.PI},I=function(Q,D,X,V,de,le){var ie=Q+.5*(X-Q),ce=D+.5*(V-D),be=de+.5*(X-de),J=le+.5*(V-le),ue=Math.min(Q,de,ie,be),ke=Math.max(Q,de,ie,be),Qe=Math.min(D,le,ce,J),we=Math.max(D,le,ce,J);return new l(ue,Qe,ke-ue,we-Qe)},K=function(Q,D,X,V,de,le,ie,ce){var be,J,ue,ke,Qe,we,q,Ne,Be,Z,pe,De,je,Me,rt=X-Q,Pe=V-D,fe=de-X,Ve=le-V,ze=ie-de,ct=ce-le;for(J=0;J<41;J++)Be=(q=(ue=Q+(be=J/40)*rt)+be*((Qe=X+be*fe)-ue))+be*(Qe+be*(de+be*ze-Qe)-q),Z=(Ne=(ke=D+be*Pe)+be*((we=V+be*Ve)-ke))+be*(we+be*(le+be*ct-we)-Ne),J==0?(pe=Be,De=Z,je=Be,Me=Z):(pe=Math.min(pe,Be),De=Math.min(De,Z),je=Math.max(je,Be),Me=Math.max(Me,Z));return new l(Math.round(pe),Math.round(De),Math.round(je-pe),Math.round(Me-De))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,D,X=(Q=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:D}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(kt.API),function(t){var e=function(i){var o,l,c,d,u,h,A,m,x,g;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(g=u%85))/85)-(x=u%85))/85)-(m=u%85))/85)-(A=u%85))/85)%85,l.push(h+33,A+33,m+33,x+33,g+33)):l.push(122);return function(p,f){for(var y=f;y>0;y--)p.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,d,u,h=String,A="length",m=255,x="charCodeAt",g="slice",p="replace";for(i[g](-2),i=i[g](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),c=[],d=0,u=(i+=o="uuuuu"[g](i[A]%5||5))[A];u>d;d+=5)l=52200625*(i[x](d)-33)+614125*(i[x](d+1)-33)+7225*(i[x](d+2)-33)+85*(i[x](d+3)-33)+(i[x](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(f,y){for(var b=y;b>0;b--)f.pop()}(c,o[A]),h.fromCharCode.apply(h,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=eS(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(kt.API),function(t){t.loadFile=function(e,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,A=0,m=function(x){var g=x.length,p=[],f=String.fromCharCode;for(A=0;A<g;A+=1)p.push(f(255&x.charCodeAt(A)));return p.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(m(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return m(h.responseText)}(a,i,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(kt.API),function(t){function e(){return(Rt.html2canvas?Promise.resolve(Rt.html2canvas):_d(()=>Promise.resolve().then(()=>Dbe),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Rt.DOMPurify?Promise.resolve(Rt.DOMPurify):_d(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Pr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),A=d.firstChild;A;A=A.nextSibling)u!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||h.appendChild(c(A,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var A=0;A<d.length;++A){var m=d[A],x=m.src.find(function(g){return g.format==="truetype"});x&&c.addFont(x.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,u).then(function(h){return c.updateProgress(1),h})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,kt.getPageSize=function(o,l,c){if(Pr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var m,x=0,g=0;if(A.hasOwnProperty(h))x=A[h][1]/u,g=A[h][0]/u;else try{x=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>x&&(m=g,g=x,x=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>g&&(m=g,g=x,x=m)}return{width:g,height:x,unit:l,k:u,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(iS):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(kt.API),kt.API.addJS=function(t){return MO=t,this.internal.events.subscribe("postPutResources",function(){ub=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ub+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),DO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+MO+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ub!==void 0&&DO!==void 0&&this.internal.out("/Names <</JavaScript "+ub+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var A=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(kt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var A,m=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,g={width:0,height:0,numcomponents:1},p=4;p<x;p+=2){if(p+=m,e.indexOf(h.charCodeAt(p+1))!==-1){A=256*h.charCodeAt(p+5)+h.charCodeAt(p+6),g={width:256*h.charCodeAt(p+7)+h.charCodeAt(p+8),height:A,numcomponents:h.charCodeAt(p+9)};break}m=256*h.charCodeAt(p+2)+h.charCodeAt(p+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(kt.API);var oA,hb,LO,UO,RO,Jhe=function(){var t,e,r;function n(i){var o,l,c,d,u,h,A,m,x,g,p,f,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),x=(function(){var N,v;for(v=[],N=0;N<4;++N)v.push(String.fromCharCode(this.data[this.pos++]));return v}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),i=(h!=null?h.data:void 0)||this.imgData,f=0;0<=o?f<o:f>o;0<=o?++f:--f)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":A=(p=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,p.slice(0,A)),this.text[m]=String.fromCharCode.apply(String,p.slice(A+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,A,m,x){var g,p,f,y,b,N,v,C,P,_,k,M,j,S,F,O,H,U,z,R,I,K=Math.ceil((d.width-h)/m),te=Math.ceil((d.height-A)/x),Q=d.width==K&&d.height==te;for(S=o*K,M=Q?l:new Uint8Array(S*te),N=i.length,j=0,p=0;j<te&&c<N;){switch(i[c++]){case 0:for(y=H=0;H<S;y=H+=1)M[p++]=i[c++];break;case 1:for(y=U=0;U<S;y=U+=1)g=i[c++],b=y<o?0:M[p-o],M[p++]=(g+b)%256;break;case 2:for(y=z=0;z<S;y=z+=1)g=i[c++],f=(y-y%o)/o,F=j&&M[(j-1)*S+f*o+y%o],M[p++]=(F+g)%256;break;case 3:for(y=R=0;R<S;y=R+=1)g=i[c++],f=(y-y%o)/o,b=y<o?0:M[p-o],F=j&&M[(j-1)*S+f*o+y%o],M[p++]=(g+Math.floor((b+F)/2))%256;break;case 4:for(y=I=0;I<S;y=I+=1)g=i[c++],f=(y-y%o)/o,b=y<o?0:M[p-o],j===0?F=O=0:(F=M[(j-1)*S+f*o+y%o],O=f&&M[(j-1)*S+(f-1)*o+y%o]),v=b+F-O,C=Math.abs(v-b),_=Math.abs(v-F),k=Math.abs(v-O),P=C<=_&&C<=k?b:_<=k?F:O,M[p++]=(g+P)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!Q){var D=((A+j*x)*d.width+h)*o,X=j*S;for(y=0;y<K;y+=1){for(var V=0;V<o;V+=1)l[D++]=M[X++];D+=(m-1)*o}}j++}}return i=khe(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,d,u,h,A,m;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,i=0,o=h=0,A=l.length;h<A;o=h+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(m=u[i++])!=null?m:255;return d},n.prototype.copyToImageData=function(i,o){var l,c,d,u,h,A,m,x,g,p,f;if(c=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(f=this._decodedPalette)!=null?f:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(d=i.data||i).length,h=g||o,u=A=0,c===1)for(;u<x;)m=g?4*o[u/4]:A,p=h[m++],d[u++]=p,d[u++]=p,d[u++]=p,d[u++]=l?h[m++]:255,A=m;else for(;u<x;)m=g?4*o[u/4]:A,d[u++]=h[m++],d[u++]=h[m++],d[u++]=h[m++],d[u++]=l?h[m++]:255,A=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Rt)==="[object Window]"){try{e=Rt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,d,u,h,A,m;if(this.animation){for(m=[],l=u=0,h=(A=this.animation.frames).length;u<h;l=++u)o=A[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,m.push(o.image=t(c));return m}},n.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,d,u,h,A=this;return l=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(o=function(){var m,x;if(m=l++%d,x=c[m],A.renderFrame(i,m),d>1&&l/d<u)return A.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zhe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,A=null,m=0,x=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,A=t[e++],!(1&g)&&(A=null),m=g>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var p=t[e++]|t[e++]<<8,f=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++],v=N>>6&1,C=1<<(7&N)+1,P=l,_=c,k=!1;N>>7&&(k=!0,P=e,_=C,e+=3*C);var M=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}u.push({x:p,y:f,width:y,height:b,has_local_palette:k,palette_offset:P,palette_size:_,data_offset:M,data_length:e-M,transparent_index:A,interlaced:!!v,delay:h,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(S){if(S<0||S>=u.length)throw new Error("Frame index out of range.");return u[S]},this.decodeAndBlitFrameBGRA=function(S,F){var O=this.frameInfo(S),H=O.width*O.height,U=new Uint8Array(H);QO(t,O.data_offset,U,H);var z=O.palette_offset,R=O.transparent_index;R===null&&(R=256);var I=O.width,K=r-I,te=I,Q=4*(O.y*r+O.x),D=4*((O.y+O.height)*r+O.x),X=Q,V=4*K;O.interlaced===!0&&(V+=4*r*7);for(var de=8,le=0,ie=U.length;le<ie;++le){var ce=U[le];if(te===0&&(te=I,(X+=V)>=D&&(V=4*K+4*r*(de-1),X=Q+(I+K)*(de<<1),de>>=1)),ce===R)X+=4;else{var be=t[z+3*ce],J=t[z+3*ce+1],ue=t[z+3*ce+2];F[X++]=ue,F[X++]=J,F[X++]=be,F[X++]=255}--te}},this.decodeAndBlitFrameRGBA=function(S,F){var O=this.frameInfo(S),H=O.width*O.height,U=new Uint8Array(H);QO(t,O.data_offset,U,H);var z=O.palette_offset,R=O.transparent_index;R===null&&(R=256);var I=O.width,K=r-I,te=I,Q=4*(O.y*r+O.x),D=4*((O.y+O.height)*r+O.x),X=Q,V=4*K;O.interlaced===!0&&(V+=4*r*7);for(var de=8,le=0,ie=U.length;le<ie;++le){var ce=U[le];if(te===0&&(te=I,(X+=V)>=D&&(V=4*K+4*r*(de-1),X=Q+(I+K)*(de<<1),de>>=1)),ce===R)X+=4;else{var be=t[z+3*ce],J=t[z+3*ce+1],ue=t[z+3*ce+2];F[X++]=be,F[X++]=J,F[X++]=ue,F[X++]=255}--te}}}function QO(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,A=0,m=t[e++],x=new Int32Array(4096),g=null;;){for(;u<16&&m!==0;)h|=t[e++]<<u,u+=8,m===1?m=t[e++]:--m;if(u<c)break;var p=h&d;if(h>>=c,u-=c,p!==i){if(p===o)break;for(var f=p<l?p:g,y=0,b=f;b>i;)b=x[b]>>8,++y;var N=b;if(A+y+(f!==p?1:0)>n)return void Rr.log("Warning, gif stream longer than expected.");r[A++]=N;var v=A+=y;for(f!==p&&(r[A++]=N),b=f;y--;)b=x[b],r[--v]=255&b,b>>=8;g!==null&&l<4096&&(x[l++]=g<<8|N,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=p}else l=o+1,d=(1<<(c=a+1))-1,g=null}return A!==n&&Rr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function X_(t){var e,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),A=new Array(65535),m=new Array(64),x=new Array(64),g=[],p=0,f=7,y=new Array(64),b=new Array(64),N=new Array(64),v=new Array(256),C=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(Q,D){for(var X=0,V=0,de=new Array,le=1;le<=16;le++){for(var ie=1;ie<=Q[le];ie++)de[D[V]]=[],de[D[V]][0]=X,de[D[V]][1]=le,V++,X++;X*=2}return de}function z(Q){for(var D=Q[0],X=Q[1]-1;X>=0;)D&1<<X&&(p|=1<<f),X--,--f<0&&(p==255?(R(255),R(0)):R(p),f=7,p=0)}function R(Q){g.push(Q)}function I(Q){R(Q>>8&255),R(255&Q)}function K(Q,D,X,V,de){for(var le,ie=de[0],ce=de[240],be=function(Z,pe){var De,je,Me,rt,Pe,fe,Ve,ze,ct,Ct,Ze=0;for(ct=0;ct<8;++ct){De=Z[Ze],je=Z[Ze+1],Me=Z[Ze+2],rt=Z[Ze+3],Pe=Z[Ze+4],fe=Z[Ze+5],Ve=Z[Ze+6];var hr=De+(ze=Z[Ze+7]),It=De-ze,en=je+Ve,cr=je-Ve,tr=Me+fe,ns=Me-fe,Ae=rt+Pe,ut=rt-Pe,He=hr+Ae,ht=hr-Ae,gr=en+tr,it=en-tr;Z[Ze]=He+gr,Z[Ze+4]=He-gr;var St=.707106781*(it+ht);Z[Ze+2]=ht+St,Z[Ze+6]=ht-St;var _t=.382683433*((He=ut+ns)-(it=cr+It)),Gt=.5411961*He+_t,fn=1.306562965*it+_t,tn=.707106781*(gr=ns+cr),qr=It+tn,re=It-tn;Z[Ze+5]=re+Gt,Z[Ze+3]=re-Gt,Z[Ze+1]=qr+fn,Z[Ze+7]=qr-fn,Ze+=8}for(Ze=0,ct=0;ct<8;++ct){De=Z[Ze],je=Z[Ze+8],Me=Z[Ze+16],rt=Z[Ze+24],Pe=Z[Ze+32],fe=Z[Ze+40],Ve=Z[Ze+48];var Ue=De+(ze=Z[Ze+56]),Le=De-ze,Oe=je+Ve,Ye=je-Ve,nt=Me+fe,Se=Me-fe,bt=rt+Pe,xt=rt-Pe,$n=Ue+bt,ps=Ue-bt,za=Oe+nt,Zt=Oe-nt;Z[Ze]=$n+za,Z[Ze+32]=$n-za;var vn=.707106781*(Zt+ps);Z[Ze+16]=ps+vn,Z[Ze+48]=ps-vn;var Co=.382683433*(($n=xt+Se)-(Zt=Ye+Le)),Hd=.5411961*$n+Co,_h=1.306562965*Zt+Co,Ch=.707106781*(za=Se+Ye),Sh=Le+Ch,Bh=Le-Ch;Z[Ze+40]=Bh+Hd,Z[Ze+24]=Bh-Hd,Z[Ze+8]=Sh+_h,Z[Ze+56]=Sh-_h,Ze++}for(ct=0;ct<64;++ct)Ct=Z[ct]*pe[ct],m[ct]=Ct>0?Ct+.5|0:Ct-.5|0;return m}(Q,D),J=0;J<64;++J)x[P[J]]=be[J];var ue=x[0]-X;X=x[0],ue==0?z(V[0]):(z(V[A[le=32767+ue]]),z(h[le]));for(var ke=63;ke>0&&x[ke]==0;)ke--;if(ke==0)return z(ie),X;for(var Qe,we=1;we<=ke;){for(var q=we;x[we]==0&&we<=ke;)++we;var Ne=we-q;if(Ne>=16){Qe=Ne>>4;for(var Be=1;Be<=Qe;++Be)z(ce);Ne&=15}le=32767+x[we],z(de[(Ne<<4)+A[le]]),z(h[le]),we++}return ke!=63&&z(ie),X}function te(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&(function(D){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var de=o((X[V]*D+50)/100);de=Math.min(Math.max(de,1),255),l[P[V]]=de}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var ce=o((le[ie]*D+50)/100);ce=Math.min(Math.max(ce,1),255),c[P[ie]]=ce}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,ue=0;ue<8;ue++)for(var ke=0;ke<8;ke++)d[J]=1/(l[P[J]]*be[ue]*be[ke]*8),u[J]=1/(c[P[J]]*be[ue]*be[ke]*8),J++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,D){D&&te(D),g=new Array,p=0,f=7,I(65496),I(65504),I(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),I(1),I(1),R(0),R(0),function(){I(65499),I(132),R(0);for(var je=0;je<64;je++)R(l[je]);R(1);for(var Me=0;Me<64;Me++)R(c[Me])}(),function(je,Me){I(65472),I(17),R(8),I(Me),I(je),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(Q.width,Q.height),function(){I(65476),I(418),R(0);for(var je=0;je<16;je++)R(_[je+1]);for(var Me=0;Me<=11;Me++)R(k[Me]);R(16);for(var rt=0;rt<16;rt++)R(M[rt+1]);for(var Pe=0;Pe<=161;Pe++)R(j[Pe]);R(1);for(var fe=0;fe<16;fe++)R(S[fe+1]);for(var Ve=0;Ve<=11;Ve++)R(F[Ve]);R(17);for(var ze=0;ze<16;ze++)R(O[ze+1]);for(var ct=0;ct<=161;ct++)R(H[ct])}(),I(65498),I(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var X=0,V=0,de=0;p=0,f=7,this.encode.displayName="_encode_";for(var le,ie,ce,be,J,ue,ke,Qe,we,q=Q.data,Ne=Q.width,Be=Q.height,Z=4*Ne,pe=0;pe<Be;){for(le=0;le<Z;){for(J=Z*pe+le,ke=-1,Qe=0,we=0;we<64;we++)ue=J+(Qe=we>>3)*Z+(ke=4*(7&we)),pe+Qe>=Be&&(ue-=Z*(pe+1+Qe-Be)),le+ke>=Z&&(ue-=le+ke-Z+4),ie=q[ue++],ce=q[ue++],be=q[ue++],y[we]=(C[ie]+C[ce+256>>0]+C[be+512>>0]>>16)-128,b[we]=(C[ie+768>>0]+C[ce+1024>>0]+C[be+1280>>0]>>16)-128,N[we]=(C[ie+1280>>0]+C[ce+1536>>0]+C[be+1792>>0]>>16)-128;X=K(y,d,X,e,n),V=K(b,u,V,r,a),de=K(N,u,de,r,a),le+=32}pe+=8}if(f>=0){var De=[];De[1]=f+1,De[0]=(1<<f+1)-1,z(De)}return I(65497),new Uint8Array(g)},t=t||50,function(){for(var Q=String.fromCharCode,D=0;D<256;D++)v[D]=Q(D)}(),e=U(_,k),r=U(S,F),n=U(M,j),a=U(O,H),function(){for(var Q=1,D=2,X=1;X<=15;X++){for(var V=Q;V<D;V++)A[32767+V]=X,h[32767+V]=[],h[32767+V][1]=X,h[32767+V][0]=V;for(var de=-(D-1);de<=-Q;de++)A[32767+de]=X,h[32767+de]=[],h[32767+de][1]=X,h[32767+de][0]=D-1+de;Q<<=1,D<<=1}}(),function(){for(var Q=0;Q<256;Q++)C[Q]=19595*Q,C[Q+256>>0]=38470*Q,C[Q+512>>0]=7471*Q+32768,C[Q+768>>0]=-11059*Q,C[Q+1024>>0]=-21709*Q,C[Q+1280>>0]=32768*Q+8421375,C[Q+1536>>0]=-27439*Q,C[Q+1792>>0]=-5329*Q}(),te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ro(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $O(t){function e(_){if(!_)throw Error("assert :P")}function r(_,k,M){for(var j=0;4>j;j++)if(_[k+j]!=M.charCodeAt(j))return!0;return!1}function n(_,k,M,j,S){for(var F=0;F<S;F++)_[k+F]=M[j+F]}function a(_,k,M,j){for(var S=0;S<j;S++)_[k+S]=M}function i(_){return new Int32Array(_)}function o(_,k){for(var M=[],j=0;j<_;j++)M.push(new k);return M}function l(_,k){var M=[];return function j(S,F,O){for(var H=O[F],U=0;U<H&&(S.push(O.length>F+1?[]:new k),!(O.length<F+1));U++)j(S[U],F+1,O)}(M,0,_),M}var c=function(){var _=this;function k(w,E){for(var L=1<<E-1>>>0;w&L;)L>>>=1;return L?(w&L-1)+L:w}function M(w,E,L,$,W){e(!($%L));do w[E+($-=L)]=W;while(0<$)}function j(w,E,L,$,W){if(e(2328>=W),512>=W)var Y=i(512);else if((Y=i(W))==null)return 0;return function(ee,ne,oe,he,ye,Fe){var Te,Ce,Ge=ne,Re=1<<oe,ve=i(16),_e=i(16);for(e(ye!=0),e(he!=null),e(ee!=null),e(0<oe),Ce=0;Ce<ye;++Ce){if(15<he[Ce])return 0;++ve[he[Ce]]}if(ve[0]==ye)return 0;for(_e[1]=0,Te=1;15>Te;++Te){if(ve[Te]>1<<Te)return 0;_e[Te+1]=_e[Te]+ve[Te]}for(Ce=0;Ce<ye;++Ce)Te=he[Ce],0<he[Ce]&&(Fe[_e[Te]++]=Ce);if(_e[15]==1)return(he=new S).g=0,he.value=Fe[0],M(ee,Ge,1,Re,he),Re;var Ke,Xe=-1,We=Re-1,pt=0,ot=1,Tt=1,dt=1<<oe;for(Ce=0,Te=1,ye=2;Te<=oe;++Te,ye<<=1){if(ot+=Tt<<=1,0>(Tt-=ve[Te]))return 0;for(;0<ve[Te];--ve[Te])(he=new S).g=Te,he.value=Fe[Ce++],M(ee,Ge+pt,ye,dt,he),pt=k(pt,Te)}for(Te=oe+1,ye=2;15>=Te;++Te,ye<<=1){if(ot+=Tt<<=1,0>(Tt-=ve[Te]))return 0;for(;0<ve[Te];--ve[Te]){if(he=new S,(pt&We)!=Xe){for(Ge+=dt,Ke=1<<(Xe=Te)-oe;15>Xe&&!(0>=(Ke-=ve[Xe]));)++Xe,Ke<<=1;Re+=dt=1<<(Ke=Xe-oe),ee[ne+(Xe=pt&We)].g=Ke+oe,ee[ne+Xe].value=Ge-ne-Xe}he.g=Te-oe,he.value=Fe[Ce++],M(ee,Ge+(pt>>oe),ye,dt,he),pt=k(pt,Te)}}return ot!=2*_e[15]-1?0:Re}(w,E,L,$,W,Y)}function S(){this.value=this.g=0}function F(){this.value=this.g=0}function O(){this.G=o(5,S),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ps,F)}function H(w,E,L,$){e(w!=null),e(E!=null),e(2147483648>$),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=E,w.pa=L,w.Jd=E,w.Yc=L+$,w.Zc=4<=$?L+$-4+1:L,le(w)}function U(w,E){for(var L=0;0<E--;)L|=ce(w,128)<<E;return L}function z(w,E){var L=U(w,E);return ie(w)?-L:L}function R(w,E,L,$){var W,Y=0;for(e(w!=null),e(E!=null),e(4294967288>$),w.Sb=$,w.Ra=0,w.u=0,w.h=0,4<$&&($=4),W=0;W<$;++W)Y+=E[L+W]<<8*W;w.Ra=Y,w.bb=$,w.oa=E,w.pa=L}function I(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Hh-8>>>0,++w.bb,w.u-=8;X(w)&&(w.h=1,w.u=0)}function K(w,E){if(e(0<=E),!w.h&&E<=$h){var L=D(w)&Qh[E];return w.u+=E,I(w),L}return w.h=1,w.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(w){return w.Ra>>>(w.u&Hh-1)>>>0}function X(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Hh}function V(w,E){w.u=E,w.h=X(w)}function de(w){w.u>=ep&&(e(w.u>=ep),I(w))}function le(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function ie(w){return U(w,1)}function ce(w,E){var L=w.Ca;0>w.b&&le(w);var $=w.b,W=L*E>>>8,Y=(w.I>>>$>W)+0;for(Y?(L-=W,w.I-=W+1<<$>>>0):L=W+1,$=L,W=0;256<=$;)W+=8,$>>=8;return $=7^W+Sa[$],w.b-=$,w.Ca=(L<<$)-1,Y}function be(w,E,L){w[E+0]=L>>24&255,w[E+1]=L>>16&255,w[E+2]=L>>8&255,w[E+3]=L>>0&255}function J(w,E){return w[E+0]<<0|w[E+1]<<8}function ue(w,E){return J(w,E)|w[E+2]<<16}function ke(w,E){return J(w,E)|J(w,E+2)<<16}function Qe(w,E){var L=1<<E;return e(w!=null),e(0<E),w.X=i(L),w.X==null?0:(w.Mb=32-E,w.Xa=E,1)}function we(w,E){e(w!=null),e(E!=null),e(w.Xa==E.Xa),n(E.X,0,w.X,0,1<<E.Xa)}function q(){this.X=[],this.Xa=this.Mb=0}function Ne(w,E,L,$){e(L!=null),e($!=null);var W=L[0],Y=$[0];return W==0&&(W=(w*Y+E/2)/E),Y==0&&(Y=(E*W+w/2)/w),0>=W||0>=Y?0:(L[0]=W,$[0]=Y,1)}function Be(w,E){return w+(1<<E)-1>>>E}function Z(w,E){return((4278255360&w)+(4278255360&E)>>>0&4278255360)+((16711935&w)+(16711935&E)>>>0&16711935)>>>0}function pe(w,E){_[E]=function(L,$,W,Y,ee,ne,oe){var he;for(he=0;he<ee;++he){var ye=_[w](ne[oe+he-1],W,Y+he);ne[oe+he]=Z(L[$+he],ye)}}}function De(){this.ud=this.hd=this.jd=0}function je(w,E){return((4278124286&(w^E))>>>1)+(w&E)>>>0}function Me(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function rt(w,E){return Me(w+(w-E+.5>>1))}function Pe(w,E,L){return Math.abs(E-L)-Math.abs(w-L)}function fe(w,E,L,$,W,Y,ee){for($=Y[ee-1],L=0;L<W;++L)Y[ee+L]=$=Z(w[E+L],$)}function Ve(w,E,L,$,W){var Y;for(Y=0;Y<L;++Y){var ee=w[E+Y],ne=ee>>8&255,oe=16711935&(oe=(oe=16711935&ee)+((ne<<16)+ne));$[W+Y]=(4278255360&ee)+oe>>>0}}function ze(w,E){E.jd=w>>0&255,E.hd=w>>8&255,E.ud=w>>16&255}function ct(w,E,L,$,W,Y){var ee;for(ee=0;ee<$;++ee){var ne=E[L+ee],oe=ne>>>8,he=ne,ye=255&(ye=(ye=ne>>>16)+((w.jd<<24>>24)*(oe<<24>>24)>>>5));he=255&(he=(he=he+((w.hd<<24>>24)*(oe<<24>>24)>>>5))+((w.ud<<24>>24)*(ye<<24>>24)>>>5)),W[Y+ee]=(4278255360&ne)+(ye<<16)+he}}function Ct(w,E,L,$,W){_[E]=function(Y,ee,ne,oe,he,ye,Fe,Te,Ce){for(oe=Fe;oe<Te;++oe)for(Fe=0;Fe<Ce;++Fe)he[ye++]=W(ne[$(Y[ee++])])},_[w]=function(Y,ee,ne,oe,he,ye,Fe){var Te=8>>Y.b,Ce=Y.Ea,Ge=Y.K[0],Re=Y.w;if(8>Te)for(Y=(1<<Y.b)-1,Re=(1<<Te)-1;ee<ne;++ee){var ve,_e=0;for(ve=0;ve<Ce;++ve)ve&Y||(_e=$(oe[he++])),ye[Fe++]=W(Ge[_e&Re]),_e>>=Te}else _["VP8LMapColor"+L](oe,he,Ge,Re,ye,Fe,ee,ne,Ce)}}function Ze(w,E,L,$,W){for(L=E+L;E<L;){var Y=w[E++];$[W++]=Y>>16&255,$[W++]=Y>>8&255,$[W++]=Y>>0&255}}function hr(w,E,L,$,W){for(L=E+L;E<L;){var Y=w[E++];$[W++]=Y>>16&255,$[W++]=Y>>8&255,$[W++]=Y>>0&255,$[W++]=Y>>24&255}}function It(w,E,L,$,W){for(L=E+L;E<L;){var Y=(ee=w[E++])>>16&240|ee>>12&15,ee=ee>>0&240|ee>>28&15;$[W++]=Y,$[W++]=ee}}function en(w,E,L,$,W){for(L=E+L;E<L;){var Y=(ee=w[E++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;$[W++]=Y,$[W++]=ee}}function cr(w,E,L,$,W){for(L=E+L;E<L;){var Y=w[E++];$[W++]=Y>>0&255,$[W++]=Y>>8&255,$[W++]=Y>>16&255}}function tr(w,E,L,$,W,Y){if(Y==0)for(L=E+L;E<L;)be($,((Y=w[E++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),W+=32;else n($,W,w,E,L)}function ns(w,E){_[E][0]=_[w+"0"],_[E][1]=_[w+"1"],_[E][2]=_[w+"2"],_[E][3]=_[w+"3"],_[E][4]=_[w+"4"],_[E][5]=_[w+"5"],_[E][6]=_[w+"6"],_[E][7]=_[w+"7"],_[E][8]=_[w+"8"],_[E][9]=_[w+"9"],_[E][10]=_[w+"10"],_[E][11]=_[w+"11"],_[E][12]=_[w+"12"],_[E][13]=_[w+"13"],_[E][14]=_[w+"0"],_[E][15]=_[w+"0"]}function Ae(w){return w==CN||w==SN||w==wy||w==BN}function ut(){this.eb=[],this.size=this.A=this.fb=0}function He(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ut,this.f.kb=new He,this.sd=null}function gr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function it(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function _t(w,E){var L=w.T,$=E.ba.f.RGBA,W=$.eb,Y=$.fb+w.ka*$.A,ee=xi[E.ba.S],ne=w.y,oe=w.O,he=w.f,ye=w.N,Fe=w.ea,Te=w.W,Ce=E.cc,Ge=E.dc,Re=E.Mc,ve=E.Nc,_e=w.ka,Ke=w.ka+w.T,Xe=w.U,We=Xe+1>>1;for(_e==0?ee(ne,oe,null,null,he,ye,Fe,Te,he,ye,Fe,Te,W,Y,null,null,Xe):(ee(E.ec,E.fc,ne,oe,Ce,Ge,Re,ve,he,ye,Fe,Te,W,Y-$.A,W,Y,Xe),++L);_e+2<Ke;_e+=2)Ce=he,Ge=ye,Re=Fe,ve=Te,ye+=w.Rc,Te+=w.Rc,Y+=2*$.A,ee(ne,(oe+=2*w.fa)-w.fa,ne,oe,Ce,Ge,Re,ve,he,ye,Fe,Te,W,Y-$.A,W,Y,Xe);return oe+=w.fa,w.j+Ke<w.o?(n(E.ec,E.fc,ne,oe,Xe),n(E.cc,E.dc,he,ye,We),n(E.Mc,E.Nc,Fe,Te,We),L--):1&Ke||ee(ne,oe,null,null,he,ye,Fe,Te,he,ye,Fe,Te,W,Y+$.A,null,null,Xe),L}function Gt(w,E,L){var $=w.F,W=[w.J];if($!=null){var Y=w.U,ee=E.ba.S,ne=ee==vy||ee==wy;E=E.ba.f.RGBA;var oe=[0],he=w.ka;oe[0]=w.T,w.Kb&&(he==0?--oe[0]:(--he,W[0]-=w.width),w.j+w.ka+w.T==w.o&&(oe[0]=w.o-w.j-he));var ye=E.eb;he=E.fb+he*E.A,w=Vr($,W[0],w.width,Y,oe,ye,he+(ne?0:3),E.A),e(L==oe),w&&Ae(ee)&&pi(ye,he,ne,Y,oe,E.A)}return 0}function fn(w){var E=w.ma,L=E.ba.S,$=11>L,W=L==yy||L==by||L==vy||L==_N||L==12||Ae(L);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Jf(E.Oa,w,W?11:12))return 0;if(W&&Ae(L)&&Je(),w.da)alert("todo:use_scaling");else{if($){if(E.Ib=St,w.Kb){if(L=w.U+1>>1,E.memory=i(w.U+2*L),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+w.U,E.Mc=E.cc,E.Nc=E.dc+L,E.Ib=_t,Je()}}else alert("todo:EmitYUV");W&&(E.Jb=Gt,$&&Ee())}if($&&!eP){for(w=0;256>w;++w)EX[w]=89858*(w-128)+Ny>>jy,FX[w]=-22014*(w-128)+Ny,PX[w]=-45773*(w-128),kX[w]=113618*(w-128)+Ny>>jy;for(w=op;w<PN;++w)E=76283*(w-16)+Ny>>jy,TX[w-op]=Va(E,255),OX[w-op]=Va(E+8>>4,15);eP=1}return 1}function tn(w){var E=w.ma,L=w.U,$=w.T;return e(!(1&w.ka)),0>=L||0>=$?0:(L=E.Ib(w,E),E.Jb!=null&&E.Jb(w,E,L),E.Dc+=L,1)}function qr(w){w.ma.memory=null}function re(w,E,L,$){return K(w,8)!=47?0:(E[0]=K(w,14)+1,L[0]=K(w,14)+1,$[0]=K(w,1),K(w,3)!=0?0:!w.h)}function Ue(w,E){if(4>w)return w+1;var L=w-2>>1;return(2+(1&w)<<L)+K(E,L)+1}function Le(w,E){return 120<E?E-120:1<=(L=((L=fX[E-1])>>4)*w+(8-(15&L)))?L:1;var L}function Oe(w,E,L){var $=D(L),W=w[E+=255&$].g-8;return 0<W&&(V(L,L.u+8),$=D(L),E+=w[E].value,E+=$&(1<<W)-1),V(L,L.u+w[E].g),w[E].value}function Ye(w,E,L){return L.g+=w.g,L.value+=w.value<<E>>>0,e(8>=L.g),w.g}function nt(w,E,L){var $=w.xc;return e((E=$==0?0:w.vc[w.md*(L>>$)+(E>>$)])<w.Wb),w.Ya[E]}function Se(w,E,L,$){var W=w.ab,Y=w.c*E,ee=w.C;E=ee+E;var ne=L,oe=$;for($=w.Ta,L=w.Ua;0<W--;){var he=w.gc[W],ye=ee,Fe=E,Te=ne,Ce=oe,Ge=(oe=$,ne=L,he.Ea);switch(e(ye<Fe),e(Fe<=he.nc),he.hc){case 2:hy(Te,Ce,(Fe-ye)*Ge,oe,ne);break;case 0:var Re=ye,ve=Fe,_e=oe,Ke=ne,Xe=(dt=he).Ea;Re==0&&(jN(Te,Ce,null,null,1,_e,Ke),fe(Te,Ce+1,0,0,Xe-1,_e,Ke+1),Ce+=Xe,Ke+=Xe,++Re);for(var We=1<<dt.b,pt=We-1,ot=Be(Xe,dt.b),Tt=dt.K,dt=dt.w+(Re>>dt.b)*ot;Re<ve;){var yr=Tt,_r=dt,Ar=1;for(tp(Te,Ce,_e,Ke-Xe,1,_e,Ke);Ar<Xe;){var ar=(Ar&~pt)+We;ar>Xe&&(ar=Xe),(0,mc[yr[_r++]>>8&15])(Te,Ce+ +Ar,_e,Ke+Ar-Xe,ar-Ar,_e,Ke+Ar),Ar=ar}Ce+=Xe,Ke+=Xe,++Re&pt||(dt+=ot)}Fe!=he.nc&&n(oe,ne-Ge,oe,ne+(Fe-ye-1)*Ge,Ge);break;case 1:for(Ge=Te,ve=Ce,Xe=(Te=he.Ea)-(Ke=Te&~(_e=(Ce=1<<he.b)-1)),Re=Be(Te,he.b),We=he.K,he=he.w+(ye>>he.b)*Re;ye<Fe;){for(pt=We,ot=he,Tt=new De,dt=ve+Ke,yr=ve+Te;ve<dt;)ze(pt[ot++],Tt),Wd(Tt,Ge,ve,Ce,oe,ne),ve+=Ce,ne+=Ce;ve<yr&&(ze(pt[ot++],Tt),Wd(Tt,Ge,ve,Xe,oe,ne),ve+=Xe,ne+=Xe),++ye&_e||(he+=Re)}break;case 3:if(Te==oe&&Ce==ne&&0<he.b){for(ve=oe,Te=Ge=ne+(Fe-ye)*Ge-(Ke=(Fe-ye)*Be(he.Ea,he.b)),Ce=oe,_e=ne,Re=[],Ke=(Xe=Ke)-1;0<=Ke;--Ke)Re[Ke]=Ce[_e+Ke];for(Ke=Xe-1;0<=Ke;--Ke)ve[Te+Ke]=Re[Ke];Ai(he,ye,Fe,oe,Ge,oe,ne)}else Ai(he,ye,Fe,Te,Ce,oe,ne)}ne=$,oe=L}oe!=L&&n($,L,ne,oe,Y)}function bt(w,E){var L=w.V,$=w.Ba+w.c*w.C,W=E-w.C;if(e(E<=w.l.o),e(16>=W),0<W){var Y=w.l,ee=w.Ta,ne=w.Ua,oe=Y.width;if(Se(w,W,L,$),W=ne=[ne],e((L=w.C)<($=E)),e(Y.v<Y.va),$>Y.o&&($=Y.o),L<Y.j){var he=Y.j-L;L=Y.j,W[0]+=he*oe}if(L>=$?L=0:(W[0]+=4*Y.v,Y.ka=L-Y.j,Y.U=Y.va-Y.v,Y.T=$-L,L=1),L){if(ne=ne[0],11>(L=w.ca).S){var ye=L.f.RGBA,Fe=($=L.S,W=Y.U,Y=Y.T,he=ye.eb,ye.A),Te=Y;for(ye=ye.fb+w.Ma*ye.A;0<Te--;){var Ce=ee,Ge=ne,Re=W,ve=he,_e=ye;switch($){case xy:Ba(Ce,Ge,Re,ve,_e);break;case yy:ua(Ce,Ge,Re,ve,_e);break;case CN:ua(Ce,Ge,Re,ve,_e),pi(ve,_e,0,Re,1,0);break;case z6:ul(Ce,Ge,Re,ve,_e);break;case by:tr(Ce,Ge,Re,ve,_e,1);break;case SN:tr(Ce,Ge,Re,ve,_e,1),pi(ve,_e,0,Re,1,0);break;case vy:tr(Ce,Ge,Re,ve,_e,0);break;case wy:tr(Ce,Ge,Re,ve,_e,0),pi(ve,_e,1,Re,1,0);break;case _N:fc(Ce,Ge,Re,ve,_e);break;case BN:fc(Ce,Ge,Re,ve,_e),zr(ve,_e,Re,1,0);break;case V6:dl(Ce,Ge,Re,ve,_e);break;default:e(0)}ne+=oe,ye+=Fe}w.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=L.height)}}w.C=E,e(w.C<=w.i)}function xt(w){var E;if(0<w.ua)return 0;for(E=0;E<w.Wb;++E){var L=w.Ya[E].G,$=w.Ya[E].H;if(0<L[1][$[1]+0].g||0<L[2][$[2]+0].g||0<L[3][$[3]+0].g)return 0}return 1}function $n(w,E,L,$,W,Y){if(w.Z!=0){var ee=w.qd,ne=w.rd;for(e(yc[w.Z]!=null);E<L;++E)yc[w.Z](ee,ne,$,W,$,W,Y),ee=$,ne=W,W+=Y;w.qd=ee,w.rd=ne}}function ps(w,E){var L=w.l.ma,$=L.Z==0||L.Z==1?w.l.j:w.C;if($=w.C<$?$:w.C,e(E<=w.l.o),E>$){var W=w.l.width,Y=L.ca,ee=L.tb+W*$,ne=w.V,oe=w.Ba+w.c*$,he=w.gc;e(w.ab==1),e(he[0].hc==3),Ay(he[0],$,E,ne,oe,Y,ee),$n(L,$,E,Y,ee,W)}w.C=w.Ma=E}function za(w,E,L,$,W,Y,ee){var ne=w.$/$,oe=w.$%$,he=w.m,ye=w.s,Fe=L+w.$,Te=Fe;W=L+$*W;var Ce=L+$*Y,Ge=280+ye.ua,Re=w.Pb?ne:16777216,ve=0<ye.ua?ye.Wa:null,_e=ye.wc,Ke=Fe<Ce?nt(ye,oe,ne):null;e(w.C<Y),e(Ce<=W);var Xe=!1;e:for(;;){for(;Xe||Fe<Ce;){var We=0;if(ne>=Re){var pt=Fe-L;e((Re=w).Pb),Re.wd=Re.m,Re.xd=pt,0<Re.s.ua&&we(Re.s.Wa,Re.s.vb),Re=ne+gX}if(oe&_e||(Ke=nt(ye,oe,ne)),e(Ke!=null),Ke.Qb&&(E[Fe]=Ke.qb,Xe=!0),!Xe)if(de(he),Ke.jc){We=he,pt=E;var ot=Fe,Tt=Ke.pd[D(We)&Ps-1];e(Ke.jc),256>Tt.g?(V(We,We.u+Tt.g),pt[ot]=Tt.value,We=0):(V(We,We.u+Tt.g-256),e(256<=Tt.value),We=Tt.value),We==0&&(Xe=!0)}else We=Oe(Ke.G[0],Ke.H[0],he);if(he.h)break;if(Xe||256>We){if(!Xe)if(Ke.nd)E[Fe]=(Ke.qb|We<<8)>>>0;else{if(de(he),Xe=Oe(Ke.G[1],Ke.H[1],he),de(he),pt=Oe(Ke.G[2],Ke.H[2],he),ot=Oe(Ke.G[3],Ke.H[3],he),he.h)break;E[Fe]=(ot<<24|Xe<<16|We<<8|pt)>>>0}if(Xe=!1,++Fe,++oe>=$&&(oe=0,++ne,ee!=null&&ne<=Y&&!(ne%16)&&ee(w,ne),ve!=null))for(;Te<Fe;)We=E[Te++],ve.X[(506832829*We&4294967295)>>>ve.Mb]=We}else if(280>We){if(We=Ue(We-256,he),pt=Oe(Ke.G[4],Ke.H[4],he),de(he),pt=Le($,pt=Ue(pt,he)),he.h)break;if(Fe-L<pt||W-Fe<We)break e;for(ot=0;ot<We;++ot)E[Fe+ot]=E[Fe+ot-pt];for(Fe+=We,oe+=We;oe>=$;)oe-=$,++ne,ee!=null&&ne<=Y&&!(ne%16)&&ee(w,ne);if(e(Fe<=W),oe&_e&&(Ke=nt(ye,oe,ne)),ve!=null)for(;Te<Fe;)We=E[Te++],ve.X[(506832829*We&4294967295)>>>ve.Mb]=We}else{if(!(We<Ge))break e;for(Xe=We-280,e(ve!=null);Te<Fe;)We=E[Te++],ve.X[(506832829*We&4294967295)>>>ve.Mb]=We;We=Fe,e(!(Xe>>>(pt=ve).Xa)),E[We]=pt.X[Xe],Xe=!0}Xe||e(he.h==X(he))}if(w.Pb&&he.h&&Fe<W)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&we(w.s.vb,w.s.Wa);else{if(he.h)break e;ee!=null&&ee(w,ne>Y?Y:ne),w.a=0,w.$=Fe-L}return 1}return w.a=3,0}function Zt(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var E=w.Wa;E!=null&&(E.X=null),w.vb=null,e(w!=null)}function vn(){var w=new wN;return w==null?null:(w.a=0,w.xb=G6,ns("Predictor","VP8LPredictors"),ns("Predictor","VP8LPredictors_C"),ns("PredictorAdd","VP8LPredictorsAdd"),ns("PredictorAdd","VP8LPredictorsAdd_C"),hy=Ve,Wd=ct,Ba=Ze,ua=hr,fc=It,dl=en,ul=cr,_.VP8LMapColor32b=qh,_.VP8LMapColor8b=my,w)}function Co(w,E,L,$,W){var Y=1,ee=[w],ne=[E],oe=$.m,he=$.s,ye=null,Fe=0;e:for(;;){if(L)for(;Y&&K(oe,1);){var Te=ee,Ce=ne,Ge=$,Re=1,ve=Ge.m,_e=Ge.gc[Ge.ab],Ke=K(ve,2);if(Ge.Oc&1<<Ke)Y=0;else{switch(Ge.Oc|=1<<Ke,_e.hc=Ke,_e.Ea=Te[0],_e.nc=Ce[0],_e.K=[null],++Ge.ab,e(4>=Ge.ab),Ke){case 0:case 1:_e.b=K(ve,3)+2,Re=Co(Be(_e.Ea,_e.b),Be(_e.nc,_e.b),0,Ge,_e.K),_e.K=_e.K[0];break;case 3:var Xe,We=K(ve,8)+1,pt=16<We?0:4<We?1:2<We?2:3;if(Te[0]=Be(_e.Ea,pt),_e.b=pt,Xe=Re=Co(We,1,0,Ge,_e.K)){var ot,Tt=We,dt=_e,yr=1<<(8>>dt.b),_r=i(yr);if(_r==null)Xe=0;else{var Ar=dt.K[0],ar=dt.w;for(_r[0]=dt.K[0][0],ot=1;ot<1*Tt;++ot)_r[ot]=Z(Ar[ar+ot],_r[ot-1]);for(;ot<4*yr;++ot)_r[ot]=0;dt.K[0]=null,dt.K[0]=_r,Xe=1}}Re=Xe;break;case 2:break;default:e(0)}Y=Re}}if(ee=ee[0],ne=ne[0],Y&&K(oe,1)&&!(Y=1<=(Fe=K(oe,4))&&11>=Fe)){$.a=3;break e}var Ur;if(Ur=Y)t:{var Ir,Xt,qn,Ea=$,zn=ee,ka=ne,Cr=Fe,Wa=L,Ga=Ea.m,xs=Ea.s,Fs=[null],Aa=1,yi=0,ko=pX[Cr];r:for(;;){if(Wa&&K(Ga,1)){var ys=K(Ga,3)+2,fl=Be(zn,ys),Zd=Be(ka,ys),Gh=fl*Zd;if(!Co(fl,Zd,0,Ea,Fs))break r;for(Fs=Fs[0],xs.xc=ys,Ir=0;Ir<Gh;++Ir){var bc=Fs[Ir]>>8&65535;Fs[Ir]=bc,bc>=Aa&&(Aa=bc+1)}}if(Ga.h)break r;for(Xt=0;5>Xt;++Xt){var jn=K6[Xt];!Xt&&0<Cr&&(jn+=1<<Cr),yi<jn&&(yi=jn)}var FN=o(Aa*ko,S),nP=Aa,sP=o(nP,O);if(sP==null)var Cy=null;else e(65536>=nP),Cy=sP;var lp=i(yi);if(Cy==null||lp==null||FN==null){Ea.a=1;break r}var Sy=FN;for(Ir=qn=0;Ir<Aa;++Ir){var Zi=Cy[Ir],Xh=Zi.G,Yh=Zi.H,aP=0,By=1,iP=0;for(Xt=0;5>Xt;++Xt){jn=K6[Xt],Xh[Xt]=Sy,Yh[Xt]=qn,!Xt&&0<Cr&&(jn+=1<<Cr);s:{var Ey,TN=jn,ky=Ea,cp=lp,MX=Sy,LX=qn,ON=0,vc=ky.m,UX=K(vc,1);if(a(cp,0,0,TN),UX){var RX=K(vc,1)+1,QX=K(vc,1),oP=K(vc,QX==0?1:8);cp[oP]=1,RX==2&&(cp[oP=K(vc,8)]=1);var Py=1}else{var lP=i(19),cP=K(vc,4)+4;if(19<cP){ky.a=3;var Fy=0;break s}for(Ey=0;Ey<cP;++Ey)lP[mX[Ey]]=K(vc,3);var IN=void 0,dp=void 0,dP=ky,$X=lP,Ty=TN,uP=cp,DN=0,wc=dP.m,hP=8,AP=o(128,S);n:for(;j(AP,0,7,$X,19);){if(K(wc,1)){var HX=2+2*K(wc,3);if((IN=2+K(wc,HX))>Ty)break n}else IN=Ty;for(dp=0;dp<Ty&&IN--;){de(wc);var mP=AP[0+(127&D(wc))];V(wc,wc.u+mP.g);var Jh=mP.value;if(16>Jh)uP[dp++]=Jh,Jh!=0&&(hP=Jh);else{var qX=Jh==16,fP=Jh-16,zX=hX[fP],pP=K(wc,uX[fP])+zX;if(dp+pP>Ty)break n;for(var VX=qX?hP:0;0<pP--;)uP[dp++]=VX}}DN=1;break n}DN||(dP.a=3),Py=DN}(Py=Py&&!vc.h)&&(ON=j(MX,LX,8,cp,TN)),Py&&ON!=0?Fy=ON:(ky.a=3,Fy=0)}if(Fy==0)break r;if(By&&AX[Xt]==1&&(By=Sy[qn].g==0),aP+=Sy[qn].g,qn+=Fy,3>=Xt){var up,MN=lp[0];for(up=1;up<jn;++up)lp[up]>MN&&(MN=lp[up]);iP+=MN}}if(Zi.nd=By,Zi.Qb=0,By&&(Zi.qb=(Xh[3][Yh[3]+0].value<<24|Xh[1][Yh[1]+0].value<<16|Xh[2][Yh[2]+0].value)>>>0,aP==0&&256>Xh[0][Yh[0]+0].value&&(Zi.Qb=1,Zi.qb+=Xh[0][Yh[0]+0].value<<8)),Zi.jc=!Zi.Qb&&6>iP,Zi.jc){var Oy,pl=Zi;for(Oy=0;Oy<Ps;++Oy){var jc=Oy,Nc=pl.pd[jc],Iy=pl.G[0][pl.H[0]+jc];256<=Iy.value?(Nc.g=Iy.g+256,Nc.value=Iy.value):(Nc.g=0,Nc.value=0,jc>>=Ye(Iy,8,Nc),jc>>=Ye(pl.G[1][pl.H[1]+jc],16,Nc),jc>>=Ye(pl.G[2][pl.H[2]+jc],0,Nc),Ye(pl.G[3][pl.H[3]+jc],24,Nc))}}}xs.vc=Fs,xs.Wb=Aa,xs.Ya=Cy,xs.yc=FN,Ur=1;break t}Ur=0}if(!(Y=Ur)){$.a=3;break e}if(0<Fe){if(he.ua=1<<Fe,!Qe(he.Wa,Fe)){$.a=1,Y=0;break e}}else he.ua=0;var LN=$,gP=ee,KX=ne,UN=LN.s,RN=UN.xc;if(LN.c=gP,LN.i=KX,UN.md=Be(gP,RN),UN.wc=RN==0?-1:(1<<RN)-1,L){$.xb=NX;break e}if((ye=i(ee*ne))==null){$.a=1,Y=0;break e}Y=(Y=za($,ye,0,ee,ne,ne,null))&&!oe.h;break e}return Y?(W!=null?W[0]=ye:(e(ye==null),e(L)),$.$=0,L||Zt(he)):Zt(he),Y}function Hd(w,E){var L=w.c*w.i,$=L+E+16*E;return e(w.c<=E),w.V=i($),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+L+E,1)}function _h(w,E){var L=w.C,$=E-L,W=w.V,Y=w.Ba+w.c*L;for(e(E<=w.l.o);0<$;){var ee=16<$?16:$,ne=w.l.ma,oe=w.l.width,he=oe*ee,ye=ne.ca,Fe=ne.tb+oe*L,Te=w.Ta,Ce=w.Ua;Se(w,ee,W,Y),Pn(Te,Ce,ye,Fe,he),$n(ne,L,L+ee,ye,Fe,oe),$-=ee,W+=ee*w.c,L+=ee}e(L==E),w.C=w.Ma=E}function Ch(){this.ub=this.yd=this.td=this.Rb=0}function Sh(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bh(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Vx(){this.Yb=function(){var w=[];return function E(L,$,W){for(var Y=W[$],ee=0;ee<Y&&(L.push(W.length>$+1?[]:0),!(W.length<$+1));ee++)E(L[ee],$+1,W)}(w,0,[3,11]),w}()}function Zj(){this.jb=i(3),this.Wc=l([4,8],Vx),this.Xc=l([4,17],Vx)}function eN(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Eh(){this.ld=this.La=this.dd=this.tc=0}function Kx(){this.Na=this.la=0}function tN(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Df(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rN(){this.uc=this.M=this.Nb=0,this.wa=Array(new Eh),this.Y=0,this.ya=Array(new Df),this.aa=0,this.l=new kh}function Wx(){this.y=i(16),this.f=i(8),this.ea=i(8)}function nN(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new Ch,this.Kc=new Sh,this.ed=new eN,this.Qa=new Bh,this.Ic=this.$c=this.Aa=0,this.D=new rN,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,te),this.ia=0,this.pb=o(4,tN),this.Pa=new Zj,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wx),this.Hd=0,this.rb=Array(new Kx),this.sb=0,this.wa=Array(new Eh),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Df),this.L=this.aa=0,this.gd=l([4,2],Eh),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function kh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sN(){var w=new nN;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,ip||(ip=Yx)),w}function En(w,E,L){return w.a==0&&(w.a=E,w.sc=L,w.cb=0),0}function Gx(w,E,L){return 3<=L&&w[E+0]==157&&w[E+1]==1&&w[E+2]==42}function Xx(w,E){if(w==null)return 0;if(w.a=0,w.sc="OK",E==null)return En(w,2,"null VP8Io passed to VP8GetHeaders()");var L=E.data,$=E.w,W=E.ha;if(4>W)return En(w,7,"Truncated header.");var Y=L[$+0]|L[$+1]<<8|L[$+2]<<16,ee=w.Od;if(ee.Rb=!(1&Y),ee.td=Y>>1&7,ee.yd=Y>>4&1,ee.ub=Y>>5,3<ee.td)return En(w,3,"Incorrect keyframe parameters.");if(!ee.yd)return En(w,4,"Frame not displayable.");$+=3,W-=3;var ne=w.Kc;if(ee.Rb){if(7>W)return En(w,7,"cannot parse picture header");if(!Gx(L,$,W))return En(w,3,"Bad code word");ne.c=16383&(L[$+4]<<8|L[$+3]),ne.Td=L[$+4]>>6,ne.i=16383&(L[$+6]<<8|L[$+5]),ne.Ud=L[$+6]>>6,$+=7,W-=7,w.za=ne.c+15>>4,w.Ub=ne.i+15>>4,E.width=ne.c,E.height=ne.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((Y=w.Pa).jb,0,255,Y.jb.length),e((Y=w.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,a(Y.Zb,0,0,Y.Zb.length),a(Y.Lb,0,0,Y.Lb)}if(ee.ub>W)return En(w,7,"bad partition length");H(Y=w.m,L,$,ee.ub),$+=ee.ub,W-=ee.ub,ee.Rb&&(ne.Ld=ie(Y),ne.Kd=ie(Y)),ne=w.Qa;var oe,he=w.Pa;if(e(Y!=null),e(ne!=null),ne.Cb=ie(Y),ne.Cb){if(ne.Bb=ie(Y),ie(Y)){for(ne.Fb=ie(Y),oe=0;4>oe;++oe)ne.Zb[oe]=ie(Y)?z(Y,7):0;for(oe=0;4>oe;++oe)ne.Lb[oe]=ie(Y)?z(Y,6):0}if(ne.Bb)for(oe=0;3>oe;++oe)he.jb[oe]=ie(Y)?U(Y,8):255}else ne.Bb=0;if(Y.Ka)return En(w,3,"cannot parse segment header");if((ne=w.ed).zd=ie(Y),ne.Tb=U(Y,6),ne.wb=U(Y,3),ne.Pc=ie(Y),ne.Pc&&ie(Y)){for(he=0;4>he;++he)ie(Y)&&(ne.vd[he]=z(Y,6));for(he=0;4>he;++he)ie(Y)&&(ne.od[he]=z(Y,6))}if(w.L=ne.Tb==0?0:ne.zd?1:2,Y.Ka)return En(w,3,"cannot parse filter header");var ye=W;if(W=oe=$,$=oe+ye,ne=ye,w.Xb=(1<<U(w.m,2))-1,ye<3*(he=w.Xb))L=7;else{for(oe+=3*he,ne-=3*he,ye=0;ye<he;++ye){var Fe=L[W+0]|L[W+1]<<8|L[W+2]<<16;Fe>ne&&(Fe=ne),H(w.Jc[+ye],L,oe,Fe),oe+=Fe,ne-=Fe,W+=3}H(w.Jc[+he],L,oe,ne),L=oe<$?0:5}if(L!=0)return En(w,L,"cannot parse partitions");for(L=U(oe=w.m,7),W=ie(oe)?z(oe,4):0,$=ie(oe)?z(oe,4):0,ne=ie(oe)?z(oe,4):0,he=ie(oe)?z(oe,4):0,oe=ie(oe)?z(oe,4):0,ye=w.Qa,Fe=0;4>Fe;++Fe){if(ye.Cb){var Te=ye.Zb[Fe];ye.Fb||(Te+=L)}else{if(0<Fe){w.pb[Fe]=w.pb[0];continue}Te=L}var Ce=w.pb[Fe];Ce.Sc[0]=EN[Va(Te+W,127)],Ce.Sc[1]=kN[Va(Te+0,127)],Ce.Eb[0]=2*EN[Va(Te+$,127)],Ce.Eb[1]=101581*kN[Va(Te+ne,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=EN[Va(Te+he,117)],Ce.Qc[1]=kN[Va(Te+oe,127)],Ce.lc=Te+oe}if(!ee.Rb)return En(w,4,"Not a key frame.");for(ie(Y),ee=w.Pa,L=0;4>L;++L){for(W=0;8>W;++W)for($=0;3>$;++$)for(ne=0;11>ne;++ne)he=ce(Y,wX[L][W][$][ne])?U(Y,8):bX[L][W][$][ne],ee.Wc[L][W].Yb[$][ne]=he;for(W=0;17>W;++W)ee.Xc[L][W]=ee.Wc[L][jX[W]]}return w.kc=ie(Y),w.kc&&(w.Bd=U(Y,8)),w.cb=1}function Yx(w,E,L,$,W,Y,ee){var ne=E[W].Yb[L];for(L=0;16>W;++W){if(!ce(w,ne[L+0]))return W;for(;!ce(w,ne[L+1]);)if(ne=E[++W].Yb[0],L=0,W==16)return 16;var oe=E[W+1].Yb;if(ce(w,ne[L+2])){var he=w,ye=0;if(ce(he,(Te=ne)[(Fe=L)+3]))if(ce(he,Te[Fe+6])){for(ne=0,Fe=2*(ye=ce(he,Te[Fe+8]))+(Te=ce(he,Te[Fe+9+ye])),ye=0,Te=xX[Fe];Te[ne];++ne)ye+=ye+ce(he,Te[ne]);ye+=3+(8<<Fe)}else ce(he,Te[Fe+7])?(ye=7+2*ce(he,165),ye+=ce(he,145)):ye=5+ce(he,159);else ye=ce(he,Te[Fe+4])?3+ce(he,Te[Fe+5]):2;ne=oe[2]}else ye=1,ne=oe[1];oe=ee+yX[W],0>(he=w).b&&le(he);var Fe,Te=he.b,Ce=(Fe=he.Ca>>1)-(he.I>>Te)>>31;--he.b,he.Ca+=Ce,he.Ca|=1,he.I-=(Fe+1&Ce)<<Te,Y[oe]=((ye^Ce)-Ce)*$[(0<W)+0]}return 16}function Mf(w){var E=w.rb[w.sb-1];E.la=0,E.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function aN(w,E){if(w==null)return 0;if(E==null)return En(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!Xx(w,E))return 0;if(e(w.cb),E.ac==null||E.ac(E)){E.ob&&(w.L=0);var L=_y[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=E.v-L>>4,w.zb=E.j-L>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=E.o+15+L>>4,w.Hb=E.va+15+L>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var $=w.ed;for(L=0;4>L;++L){var W;if(w.Qa.Cb){var Y=w.Qa.Lb[L];w.Qa.Fb||(Y+=$.Tb)}else Y=$.Tb;for(W=0;1>=W;++W){var ee=w.gd[L][W],ne=Y;if($.Pc&&(ne+=$.vd[0],W&&(ne+=$.od[0])),0<(ne=0>ne?0:63<ne?63:ne)){var oe=ne;0<$.wb&&(oe=4<$.wb?oe>>2:oe>>1)>9-$.wb&&(oe=9-$.wb),1>oe&&(oe=1),ee.dd=oe,ee.tc=2*ne+oe,ee.ld=40<=ne?2:15<=ne?1:0}else ee.tc=0;ee.La=W}}}L=0}else En(w,6,"Frame setup failed"),L=w.a;if(L=L==0){if(L){w.$c=0,0<w.Aa||(w.Ic=DX);e:{L=w.Ic,$=4*(oe=w.za);var he=32*oe,ye=oe+1,Fe=0<w.L?oe*(0<w.Aa?2:1):0,Te=(w.Aa==2?2:1)*oe;if((ee=$+832+(W=3*(16*L+_y[w.L])/2*he)+(Y=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ee)L=0;else{if(ee>w.Vb){if(w.Vb=0,w.Ec=i(ee),w.Fc=0,w.Ec==null){L=En(w,1,"no memory during frame initialization.");break e}w.Vb=ee}ee=w.Ec,ne=w.Fc,w.Ac=ee,w.Bc=ne,ne+=$,w.Gd=o(he,Wx),w.Hd=0,w.rb=o(ye+1,Kx),w.sb=1,w.wa=Fe?o(Fe,Eh):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=oe),e(!0),w.oc=ee,w.pc=ne,ne+=832,w.ya=o(Te,Df),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=oe),w.R=16*oe,w.B=8*oe,oe=(he=_y[w.L])*w.R,he=he/2*w.B,w.sa=ee,w.ta=ne+oe,w.qa=w.sa,w.ra=w.ta+16*L*w.R+he,w.Ha=w.qa,w.Ia=w.ra+8*L*w.B+he,w.$c=0,ne+=W,w.mb=Y?ee:null,w.nb=Y?ne:null,e(ne+Y<=w.Fc+w.Vb),Mf(w),a(w.Ac,w.Bc,0,$),L=1}}if(L){if(E.ka=0,E.y=w.sa,E.O=w.ta,E.f=w.qa,E.N=w.ra,E.ea=w.Ha,E.Vd=w.Ia,E.fa=w.R,E.Rc=w.B,E.F=null,E.J=0,!py){for(L=-255;255>=L;++L)ss[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)Al[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)ap[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)Wh[255+L]=0>L?0:255<L?255:L;py=1}zh=lN,hl=iN,rp=Zx,ha=oN,mi=ey,kn=Jx,Vh=Hf,fy=Vd,np=vN,Gd=qf,Xd=bN,pc=Dh,Yd=zf,Kh=cy,Jd=ly,gc=Bo,sp=cl,fi=yN,Ji[0]=So,Ji[1]=cN,Ji[2]=AN,Ji[3]=mN,Ji[4]=ny,Ji[5]=Oh,Ji[6]=sy,Ji[7]=Rf,Ji[8]=pN,Ji[9]=fN,xc[0]=ty,xc[1]=uN,xc[2]=ll,xc[3]=Fh,xc[4]=Qs,xc[5]=hN,xc[6]=ry,ml[0]=uc,ml[1]=dN,ml[2]=gN,ml[3]=Qf,ml[4]=zd,ml[5]=xN,ml[6]=$f,L=1}else L=0}L&&(L=function(Ce,Ge){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var Re,ve=Ce.Jc[Ce.M&Ce.Xb],_e=Ce.m,Ke=Ce;for(Re=0;Re<Ke.za;++Re){var Xe=_e,We=Ke,pt=We.Ac,ot=We.Bc+4*Re,Tt=We.zc,dt=We.ya[We.aa+Re];if(We.Qa.Bb?dt.$b=ce(Xe,We.Pa.jb[0])?2+ce(Xe,We.Pa.jb[2]):ce(Xe,We.Pa.jb[1]):dt.$b=0,We.kc&&(dt.Ad=ce(Xe,We.Bd)),dt.Za=!ce(Xe,145)+0,dt.Za){var yr=dt.Ob,_r=0;for(We=0;4>We;++We){var Ar,ar=Tt[0+We];for(Ar=0;4>Ar;++Ar){ar=vX[pt[ot+Ar]][ar];for(var Ur=W6[ce(Xe,ar[0])];0<Ur;)Ur=W6[2*Ur+ce(Xe,ar[Ur])];ar=-Ur,pt[ot+Ar]=ar}n(yr,_r,pt,ot,4),_r+=4,Tt[0+We]=ar}}else ar=ce(Xe,156)?ce(Xe,128)?1:3:ce(Xe,163)?2:0,dt.Ob[0]=ar,a(pt,ot,ar,4),a(Tt,0,ar,4);dt.Dd=ce(Xe,142)?ce(Xe,114)?ce(Xe,183)?1:3:2:0}if(Ke.m.Ka)return En(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(Ke=ve,Xe=(_e=Ce).rb[_e.sb-1],pt=_e.rb[_e.sb+_e.ja],Re=_e.ya[_e.aa+_e.ja],ot=_e.kc?Re.Ad:0)Xe.la=pt.la=0,Re.Za||(Xe.Na=pt.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var Ir,Xt;if(Xe=pt,pt=Ke,ot=_e.Pa.Xc,Tt=_e.ya[_e.aa+_e.ja],dt=_e.pb[Tt.$b],We=Tt.ad,yr=0,_r=_e.rb[_e.sb-1],ar=Ar=0,a(We,yr,0,384),Tt.Za)var qn=0,Ea=ot[3];else{Ur=i(16);var zn=Xe.Na+_r.Na;if(zn=ip(pt,ot[1],zn,dt.Eb,0,Ur,0),Xe.Na=_r.Na=(0<zn)+0,1<zn)zh(Ur,0,We,yr);else{var ka=Ur[0]+3>>3;for(Ur=0;256>Ur;Ur+=16)We[yr+Ur]=ka}qn=1,Ea=ot[0]}var Cr=15&Xe.la,Wa=15&_r.la;for(Ur=0;4>Ur;++Ur){var Ga=1&Wa;for(ka=Xt=0;4>ka;++ka)Cr=Cr>>1|(Ga=(zn=ip(pt,Ea,zn=Ga+(1&Cr),dt.Sc,qn,We,yr))>qn)<<7,Xt=Xt<<2|(3<zn?3:1<zn?2:We[yr+0]!=0),yr+=16;Cr>>=4,Wa=Wa>>1|Ga<<7,Ar=(Ar<<8|Xt)>>>0}for(Ea=Cr,qn=Wa>>4,Ir=0;4>Ir;Ir+=2){for(Xt=0,Cr=Xe.la>>4+Ir,Wa=_r.la>>4+Ir,Ur=0;2>Ur;++Ur){for(Ga=1&Wa,ka=0;2>ka;++ka)zn=Ga+(1&Cr),Cr=Cr>>1|(Ga=0<(zn=ip(pt,ot[2],zn,dt.Qc,0,We,yr)))<<3,Xt=Xt<<2|(3<zn?3:1<zn?2:We[yr+0]!=0),yr+=16;Cr>>=2,Wa=Wa>>1|Ga<<5}ar|=Xt<<4*Ir,Ea|=Cr<<4<<Ir,qn|=(240&Wa)<<Ir}Xe.la=Ea,_r.la=qn,Tt.Hc=Ar,Tt.Gc=ar,Tt.ia=43690&ar?0:dt.ia,ot=!(Ar|ar)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Re.$b][Re.Za],_e.wa[_e.Y+_e.ja].La|=!ot),Ke.Ka)return En(Ce,7,"Premature end-of-file encountered.")}if(Mf(Ce),_e=Ge,Ke=1,Re=(ve=Ce).D,Xe=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Re.M=ve.M,Re.uc=Xe,Yf(ve,Re),Ke=1,Re=(Xt=ve.D).Nb,Xe=(ar=_y[ve.L])*ve.R,pt=ar/2*ve.B,Ur=16*Re*ve.R,ka=8*Re*ve.B,ot=ve.sa,Tt=ve.ta-Xe+Ur,dt=ve.qa,We=ve.ra-pt+ka,yr=ve.Ha,_r=ve.Ia-pt+ka,Wa=(Cr=Xt.M)==0,Ar=Cr>=ve.Va-1,ve.Aa==2&&Yf(ve,Xt),Xt.uc)for(Ga=(zn=ve).D.M,e(zn.D.uc),Xt=zn.yb;Xt<zn.Hb;++Xt){qn=Xt,Ea=Ga;var xs=(Fs=(jn=zn).D).Nb;Ir=jn.R;var Fs=Fs.wa[Fs.Y+qn],Aa=jn.sa,yi=jn.ta+16*xs*Ir+16*qn,ko=Fs.dd,ys=Fs.tc;if(ys!=0)if(e(3<=ys),jn.L==1)0<qn&&gc(Aa,yi,Ir,ys+4),Fs.La&&fi(Aa,yi,Ir,ys),0<Ea&&Jd(Aa,yi,Ir,ys+4),Fs.La&&sp(Aa,yi,Ir,ys);else{var fl=jn.B,Zd=jn.qa,Gh=jn.ra+8*xs*fl+8*qn,bc=jn.Ha,jn=jn.Ia+8*xs*fl+8*qn;xs=Fs.ld,0<qn&&(fy(Aa,yi,Ir,ys+4,ko,xs),Gd(Zd,Gh,bc,jn,fl,ys+4,ko,xs)),Fs.La&&(pc(Aa,yi,Ir,ys,ko,xs),Kh(Zd,Gh,bc,jn,fl,ys,ko,xs)),0<Ea&&(Vh(Aa,yi,Ir,ys+4,ko,xs),np(Zd,Gh,bc,jn,fl,ys+4,ko,xs)),Fs.La&&(Xd(Aa,yi,Ir,ys,ko,xs),Yd(Zd,Gh,bc,jn,fl,ys,ko,xs))}}if(ve.ia&&alert("todo:DitherRow"),_e.put!=null){if(Xt=16*Cr,Cr=16*(Cr+1),Wa?(_e.y=ve.sa,_e.O=ve.ta+Ur,_e.f=ve.qa,_e.N=ve.ra+ka,_e.ea=ve.Ha,_e.W=ve.Ia+ka):(Xt-=ar,_e.y=ot,_e.O=Tt,_e.f=dt,_e.N=We,_e.ea=yr,_e.W=_r),Ar||(Cr-=ar),Cr>_e.o&&(Cr=_e.o),_e.F=null,_e.J=null,ve.Fa!=null&&0<ve.Fa.length&&Xt<Cr&&(_e.J=Gf(ve,_e,Xt,Cr-Xt),_e.F=ve.mb,_e.F==null&&_e.F.length==0)){Ke=En(ve,3,"Could not decode alpha data.");break e}Xt<_e.j&&(ar=_e.j-Xt,Xt=_e.j,e(!(1&ar)),_e.O+=ve.R*ar,_e.N+=ve.B*(ar>>1),_e.W+=ve.B*(ar>>1),_e.F!=null&&(_e.J+=_e.width*ar)),Xt<Cr&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Xt-_e.j,_e.U=_e.va-_e.v,_e.T=Cr-Xt,Ke=_e.put(_e))}Re+1!=ve.Ic||Ar||(n(ve.sa,ve.ta-Xe,ot,Tt+16*ve.R,Xe),n(ve.qa,ve.ra-pt,dt,We+8*ve.B,pt),n(ve.Ha,ve.Ia-pt,yr,_r+8*ve.B,pt))}if(!Ke)return En(Ce,6,"Output aborted.")}return 1}(w,E)),E.bc!=null&&E.bc(E),L&=1}return L?(w.cb=0,L):0}function Gi(w,E,L,$,W){W=w[E+L+32*$]+(W>>3),w[E+L+32*$]=-256&W?0>W?0:255:W}function Ph(w,E,L,$,W,Y){Gi(w,E,0,L,$+W),Gi(w,E,1,L,$+Y),Gi(w,E,2,L,$-Y),Gi(w,E,3,L,$-W)}function Ca(w){return(20091*w>>16)+w}function Lf(w,E,L,$){var W,Y=0,ee=i(16);for(W=0;4>W;++W){var ne=w[E+0]+w[E+8],oe=w[E+0]-w[E+8],he=(35468*w[E+4]>>16)-Ca(w[E+12]),ye=Ca(w[E+4])+(35468*w[E+12]>>16);ee[Y+0]=ne+ye,ee[Y+1]=oe+he,ee[Y+2]=oe-he,ee[Y+3]=ne-ye,Y+=4,E++}for(W=Y=0;4>W;++W)ne=(w=ee[Y+0]+4)+ee[Y+8],oe=w-ee[Y+8],he=(35468*ee[Y+4]>>16)-Ca(ee[Y+12]),Gi(L,$,0,0,ne+(ye=Ca(ee[Y+4])+(35468*ee[Y+12]>>16))),Gi(L,$,1,0,oe+he),Gi(L,$,2,0,oe-he),Gi(L,$,3,0,ne-ye),Y++,$+=32}function Jx(w,E,L,$){var W=w[E+0]+4,Y=35468*w[E+4]>>16,ee=Ca(w[E+4]),ne=35468*w[E+1]>>16;Ph(L,$,0,W+ee,w=Ca(w[E+1]),ne),Ph(L,$,1,W+Y,w,ne),Ph(L,$,2,W-Y,w,ne),Ph(L,$,3,W-ee,w,ne)}function iN(w,E,L,$,W){Lf(w,E,L,$),W&&Lf(w,E+16,L,$+4)}function Zx(w,E,L,$){hl(w,E+0,L,$,1),hl(w,E+32,L,$+128,1)}function oN(w,E,L,$){var W;for(w=w[E+0]+4,W=0;4>W;++W)for(E=0;4>E;++E)Gi(L,$,E,W,w)}function ey(w,E,L,$){w[E+0]&&ha(w,E+0,L,$),w[E+16]&&ha(w,E+16,L,$+4),w[E+32]&&ha(w,E+32,L,$+128),w[E+48]&&ha(w,E+48,L,$+128+4)}function lN(w,E,L,$){var W,Y=i(16);for(W=0;4>W;++W){var ee=w[E+0+W]+w[E+12+W],ne=w[E+4+W]+w[E+8+W],oe=w[E+4+W]-w[E+8+W],he=w[E+0+W]-w[E+12+W];Y[0+W]=ee+ne,Y[8+W]=ee-ne,Y[4+W]=he+oe,Y[12+W]=he-oe}for(W=0;4>W;++W)ee=(w=Y[0+4*W]+3)+Y[3+4*W],ne=Y[1+4*W]+Y[2+4*W],oe=Y[1+4*W]-Y[2+4*W],he=w-Y[3+4*W],L[$+0]=ee+ne>>3,L[$+16]=he+oe>>3,L[$+32]=ee-ne>>3,L[$+48]=he-oe>>3,$+=64}function Uf(w,E,L){var $,W=E-32,Y=Ka,ee=255-w[W-1];for($=0;$<L;++$){var ne,oe=Y,he=ee+w[E-1];for(ne=0;ne<L;++ne)w[E+ne]=oe[he+w[W+ne]];E+=32}}function cN(w,E){Uf(w,E,4)}function dN(w,E){Uf(w,E,8)}function uN(w,E){Uf(w,E,16)}function ll(w,E){var L;for(L=0;16>L;++L)n(w,E+32*L,w,E-32,16)}function Fh(w,E){var L;for(L=16;0<L;--L)a(w,E,w[E-1],16),E+=32}function Th(w,E,L){var $;for($=0;16>$;++$)a(E,L+32*$,w,16)}function ty(w,E){var L,$=16;for(L=0;16>L;++L)$+=w[E-1+32*L]+w[E+L-32];Th($>>5,w,E)}function Qs(w,E){var L,$=8;for(L=0;16>L;++L)$+=w[E-1+32*L];Th($>>4,w,E)}function hN(w,E){var L,$=8;for(L=0;16>L;++L)$+=w[E+L-32];Th($>>4,w,E)}function ry(w,E){Th(128,w,E)}function qt(w,E,L){return w+2*E+L+2>>2}function AN(w,E){var L,$=E-32;for($=new Uint8Array([qt(w[$-1],w[$+0],w[$+1]),qt(w[$+0],w[$+1],w[$+2]),qt(w[$+1],w[$+2],w[$+3]),qt(w[$+2],w[$+3],w[$+4])]),L=0;4>L;++L)n(w,E+32*L,$,0,$.length)}function mN(w,E){var L=w[E-1],$=w[E-1+32],W=w[E-1+64],Y=w[E-1+96];be(w,E+0,16843009*qt(w[E-1-32],L,$)),be(w,E+32,16843009*qt(L,$,W)),be(w,E+64,16843009*qt($,W,Y)),be(w,E+96,16843009*qt(W,Y,Y))}function So(w,E){var L,$=4;for(L=0;4>L;++L)$+=w[E+L-32]+w[E-1+32*L];for($>>=3,L=0;4>L;++L)a(w,E+32*L,$,4)}function ny(w,E){var L=w[E-1+0],$=w[E-1+32],W=w[E-1+64],Y=w[E-1-32],ee=w[E+0-32],ne=w[E+1-32],oe=w[E+2-32],he=w[E+3-32];w[E+0+96]=qt($,W,w[E-1+96]),w[E+1+96]=w[E+0+64]=qt(L,$,W),w[E+2+96]=w[E+1+64]=w[E+0+32]=qt(Y,L,$),w[E+3+96]=w[E+2+64]=w[E+1+32]=w[E+0+0]=qt(ee,Y,L),w[E+3+64]=w[E+2+32]=w[E+1+0]=qt(ne,ee,Y),w[E+3+32]=w[E+2+0]=qt(oe,ne,ee),w[E+3+0]=qt(he,oe,ne)}function sy(w,E){var L=w[E+1-32],$=w[E+2-32],W=w[E+3-32],Y=w[E+4-32],ee=w[E+5-32],ne=w[E+6-32],oe=w[E+7-32];w[E+0+0]=qt(w[E+0-32],L,$),w[E+1+0]=w[E+0+32]=qt(L,$,W),w[E+2+0]=w[E+1+32]=w[E+0+64]=qt($,W,Y),w[E+3+0]=w[E+2+32]=w[E+1+64]=w[E+0+96]=qt(W,Y,ee),w[E+3+32]=w[E+2+64]=w[E+1+96]=qt(Y,ee,ne),w[E+3+64]=w[E+2+96]=qt(ee,ne,oe),w[E+3+96]=qt(ne,oe,oe)}function Oh(w,E){var L=w[E-1+0],$=w[E-1+32],W=w[E-1+64],Y=w[E-1-32],ee=w[E+0-32],ne=w[E+1-32],oe=w[E+2-32],he=w[E+3-32];w[E+0+0]=w[E+1+64]=Y+ee+1>>1,w[E+1+0]=w[E+2+64]=ee+ne+1>>1,w[E+2+0]=w[E+3+64]=ne+oe+1>>1,w[E+3+0]=oe+he+1>>1,w[E+0+96]=qt(W,$,L),w[E+0+64]=qt($,L,Y),w[E+0+32]=w[E+1+96]=qt(L,Y,ee),w[E+1+32]=w[E+2+96]=qt(Y,ee,ne),w[E+2+32]=w[E+3+96]=qt(ee,ne,oe),w[E+3+32]=qt(ne,oe,he)}function Rf(w,E){var L=w[E+0-32],$=w[E+1-32],W=w[E+2-32],Y=w[E+3-32],ee=w[E+4-32],ne=w[E+5-32],oe=w[E+6-32],he=w[E+7-32];w[E+0+0]=L+$+1>>1,w[E+1+0]=w[E+0+64]=$+W+1>>1,w[E+2+0]=w[E+1+64]=W+Y+1>>1,w[E+3+0]=w[E+2+64]=Y+ee+1>>1,w[E+0+32]=qt(L,$,W),w[E+1+32]=w[E+0+96]=qt($,W,Y),w[E+2+32]=w[E+1+96]=qt(W,Y,ee),w[E+3+32]=w[E+2+96]=qt(Y,ee,ne),w[E+3+64]=qt(ee,ne,oe),w[E+3+96]=qt(ne,oe,he)}function fN(w,E){var L=w[E-1+0],$=w[E-1+32],W=w[E-1+64],Y=w[E-1+96];w[E+0+0]=L+$+1>>1,w[E+2+0]=w[E+0+32]=$+W+1>>1,w[E+2+32]=w[E+0+64]=W+Y+1>>1,w[E+1+0]=qt(L,$,W),w[E+3+0]=w[E+1+32]=qt($,W,Y),w[E+3+32]=w[E+1+64]=qt(W,Y,Y),w[E+3+64]=w[E+2+64]=w[E+0+96]=w[E+1+96]=w[E+2+96]=w[E+3+96]=Y}function pN(w,E){var L=w[E-1+0],$=w[E-1+32],W=w[E-1+64],Y=w[E-1+96],ee=w[E-1-32],ne=w[E+0-32],oe=w[E+1-32],he=w[E+2-32];w[E+0+0]=w[E+2+32]=L+ee+1>>1,w[E+0+32]=w[E+2+64]=$+L+1>>1,w[E+0+64]=w[E+2+96]=W+$+1>>1,w[E+0+96]=Y+W+1>>1,w[E+3+0]=qt(ne,oe,he),w[E+2+0]=qt(ee,ne,oe),w[E+1+0]=w[E+3+32]=qt(L,ee,ne),w[E+1+32]=w[E+3+64]=qt($,L,ee),w[E+1+64]=w[E+3+96]=qt(W,$,L),w[E+1+96]=qt(Y,W,$)}function gN(w,E){var L;for(L=0;8>L;++L)n(w,E+32*L,w,E-32,8)}function Qf(w,E){var L;for(L=0;8>L;++L)a(w,E,w[E-1],8),E+=32}function qd(w,E,L){var $;for($=0;8>$;++$)a(E,L+32*$,w,8)}function uc(w,E){var L,$=8;for(L=0;8>L;++L)$+=w[E+L-32]+w[E-1+32*L];qd($>>4,w,E)}function xN(w,E){var L,$=4;for(L=0;8>L;++L)$+=w[E+L-32];qd($>>3,w,E)}function zd(w,E){var L,$=4;for(L=0;8>L;++L)$+=w[E-1+32*L];qd($>>3,w,E)}function $f(w,E){qd(128,w,E)}function Ih(w,E,L){var $=w[E-L],W=w[E+0],Y=3*(W-$)+NN[1020+w[E-2*L]-w[E+L]],ee=gy[112+(Y+4>>3)];w[E-L]=Ka[255+$+gy[112+(Y+3>>3)]],w[E+0]=Ka[255+W-ee]}function ay(w,E,L,$){var W=w[E+0],Y=w[E+L];return gi[255+w[E-2*L]-w[E-L]]>$||gi[255+Y-W]>$}function iy(w,E,L,$){return 4*gi[255+w[E-L]-w[E+0]]+gi[255+w[E-2*L]-w[E+L]]<=$}function oy(w,E,L,$,W){var Y=w[E-3*L],ee=w[E-2*L],ne=w[E-L],oe=w[E+0],he=w[E+L],ye=w[E+2*L],Fe=w[E+3*L];return 4*gi[255+ne-oe]+gi[255+ee-he]>$?0:gi[255+w[E-4*L]-Y]<=W&&gi[255+Y-ee]<=W&&gi[255+ee-ne]<=W&&gi[255+Fe-ye]<=W&&gi[255+ye-he]<=W&&gi[255+he-oe]<=W}function ly(w,E,L,$){var W=2*$+1;for($=0;16>$;++$)iy(w,E+$,L,W)&&Ih(w,E+$,L)}function Bo(w,E,L,$){var W=2*$+1;for($=0;16>$;++$)iy(w,E+$*L,1,W)&&Ih(w,E+$*L,1)}function cl(w,E,L,$){var W;for(W=3;0<W;--W)ly(w,E+=4*L,L,$)}function yN(w,E,L,$){var W;for(W=3;0<W;--W)Bo(w,E+=4,L,$)}function hc(w,E,L,$,W,Y,ee,ne){for(Y=2*Y+1;0<W--;){if(oy(w,E,L,Y,ee))if(ay(w,E,L,ne))Ih(w,E,L);else{var oe=w,he=E,ye=L,Fe=oe[he-2*ye],Te=oe[he-ye],Ce=oe[he+0],Ge=oe[he+ye],Re=oe[he+2*ye],ve=27*(Ke=NN[1020+3*(Ce-Te)+NN[1020+Fe-Ge]])+63>>7,_e=18*Ke+63>>7,Ke=9*Ke+63>>7;oe[he-3*ye]=Ka[255+oe[he-3*ye]+Ke],oe[he-2*ye]=Ka[255+Fe+_e],oe[he-ye]=Ka[255+Te+ve],oe[he+0]=Ka[255+Ce-ve],oe[he+ye]=Ka[255+Ge-_e],oe[he+2*ye]=Ka[255+Re-Ke]}E+=$}}function Xi(w,E,L,$,W,Y,ee,ne){for(Y=2*Y+1;0<W--;){if(oy(w,E,L,Y,ee))if(ay(w,E,L,ne))Ih(w,E,L);else{var oe=w,he=E,ye=L,Fe=oe[he-ye],Te=oe[he+0],Ce=oe[he+ye],Ge=gy[112+((Re=3*(Te-Fe))+4>>3)],Re=gy[112+(Re+3>>3)],ve=Ge+1>>1;oe[he-2*ye]=Ka[255+oe[he-2*ye]+ve],oe[he-ye]=Ka[255+Fe+Re],oe[he+0]=Ka[255+Te-Ge],oe[he+ye]=Ka[255+Ce-ve]}E+=$}}function Hf(w,E,L,$,W,Y){hc(w,E,L,1,16,$,W,Y)}function Vd(w,E,L,$,W,Y){hc(w,E,1,L,16,$,W,Y)}function bN(w,E,L,$,W,Y){var ee;for(ee=3;0<ee;--ee)Xi(w,E+=4*L,L,1,16,$,W,Y)}function Dh(w,E,L,$,W,Y){var ee;for(ee=3;0<ee;--ee)Xi(w,E+=4,1,L,16,$,W,Y)}function vN(w,E,L,$,W,Y,ee,ne){hc(w,E,W,1,8,Y,ee,ne),hc(L,$,W,1,8,Y,ee,ne)}function qf(w,E,L,$,W,Y,ee,ne){hc(w,E,1,W,8,Y,ee,ne),hc(L,$,1,W,8,Y,ee,ne)}function zf(w,E,L,$,W,Y,ee,ne){Xi(w,E+4*W,W,1,8,Y,ee,ne),Xi(L,$+4*W,W,1,8,Y,ee,ne)}function cy(w,E,L,$,W,Y,ee,ne){Xi(w,E+4,1,W,8,Y,ee,ne),Xi(L,$+4,1,W,8,Y,ee,ne)}function Mh(){this.ba=new ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new it,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Vf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Kf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dy(){this.ua=0,this.Wa=new q,this.vb=new q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new O,this.yc=new S}function wN(){this.xb=this.a=0,this.l=new kh,this.ca=new ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dy,this.ab=0,this.gc=o(4,Kf),this.Oc=0}function Lh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Kd(w,E,L,$,W,Y,ee){for(w=w==null?0:w[E+0],E=0;E<ee;++E)W[Y+E]=w+L[$+E]&255,w=W[Y+E]}function Wf(w,E,L,$,W,Y,ee){var ne;if(w==null)Kd(null,null,L,$,W,Y,ee);else for(ne=0;ne<ee;++ne)W[Y+ne]=w[E+ne]+L[$+ne]&255}function Ac(w,E,L,$,W,Y,ee){if(w==null)Kd(null,null,L,$,W,Y,ee);else{var ne,oe=w[E+0],he=oe,ye=oe;for(ne=0;ne<ee;++ne)he=ye+(oe=w[E+ne])-he,ye=L[$+ne]+(-256&he?0>he?0:255:he)&255,he=oe,W[Y+ne]=ye}}function Gf(w,E,L,$){var W=E.width,Y=E.o;if(e(w!=null&&E!=null),0>L||0>=$||L+$>Y)return null;if(!w.Cc){if(w.ga==null){var ee;if(w.ga=new Lh,(ee=w.ga==null)||(ee=E.width*E.o,e(w.Gb.length==0),w.Gb=i(ee),w.Uc=0,w.Gb==null?ee=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ee=1),ee=!ee),!ee){ee=w.ga;var ne=w.Fa,oe=w.P,he=w.qc,ye=w.mb,Fe=w.nb,Te=oe+1,Ce=he-1,Ge=ee.l;if(e(ne!=null&&ye!=null&&E!=null),yc[0]=null,yc[1]=Kd,yc[2]=Wf,yc[3]=Ac,ee.ca=ye,ee.tb=Fe,ee.c=E.width,ee.i=E.height,e(0<ee.c&&0<ee.i),1>=he)E=0;else if(ee.$a=ne[oe+0]>>0&3,ee.Z=ne[oe+0]>>2&3,ee.Lc=ne[oe+0]>>4&3,oe=ne[oe+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||oe)E=0;else if(Ge.put=tn,Ge.ac=fn,Ge.bc=qr,Ge.ma=ee,Ge.width=E.width,Ge.height=E.height,Ge.Da=E.Da,Ge.v=E.v,Ge.va=E.va,Ge.j=E.j,Ge.o=E.o,ee.$a)e:{e(ee.$a==1),E=vn();t:for(;;){if(E==null){E=0;break e}if(e(ee!=null),ee.mc=E,E.c=ee.c,E.i=ee.i,E.l=ee.l,E.l.ma=ee,E.l.width=ee.c,E.l.height=ee.i,E.a=0,R(E.m,ne,Te,Ce),!Co(ee.c,ee.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&xt(E.s)?(ee.ic=1,ne=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(ne),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ee.ic=0,E=Hd(E,ee.c)),!E))break t;E=1;break e}ee.mc=null,E=0}else E=Ce>=ee.c*ee.i;ee=!E}if(ee)return null;w.ga.Lc!=1?w.Ga=0:$=Y-L}e(w.ga!=null),e(L+$<=Y);e:{if(E=(ne=w.ga).c,Y=ne.l.o,ne.$a==0){if(Te=w.rc,Ce=w.Vc,Ge=w.Fa,oe=w.P+1+L*E,he=w.mb,ye=w.nb+L*E,e(oe<=w.P+w.qc),ne.Z!=0)for(e(yc[ne.Z]!=null),ee=0;ee<$;++ee)yc[ne.Z](Te,Ce,Ge,oe,he,ye,E),Te=he,Ce=ye,ye+=E,oe+=E;else for(ee=0;ee<$;++ee)n(he,ye,Ge,oe,E),Te=he,Ce=ye,ye+=E,oe+=E;w.rc=Te,w.Vc=Ce}else{if(e(ne.mc!=null),E=L+$,e((ee=ne.mc)!=null),e(E<=ee.i),ee.C>=E)E=1;else if(ne.ic||Ee(),ne.ic){ne=ee.V,Te=ee.Ba,Ce=ee.c;var Re=ee.i,ve=(Ge=1,oe=ee.$/Ce,he=ee.$%Ce,ye=ee.m,Fe=ee.s,ee.$),_e=Ce*Re,Ke=Ce*E,Xe=Fe.wc,We=ve<Ke?nt(Fe,he,oe):null;e(ve<=_e),e(E<=Re),e(xt(Fe));t:for(;;){for(;!ye.h&&ve<Ke;){if(he&Xe||(We=nt(Fe,he,oe)),e(We!=null),de(ye),256>(Re=Oe(We.G[0],We.H[0],ye)))ne[Te+ve]=Re,++ve,++he>=Ce&&(he=0,++oe<=E&&!(oe%16)&&ps(ee,oe));else{if(!(280>Re)){Ge=0;break t}Re=Ue(Re-256,ye);var pt,ot=Oe(We.G[4],We.H[4],ye);if(de(ye),!(ve>=(ot=Le(Ce,ot=Ue(ot,ye)))&&_e-ve>=Re)){Ge=0;break t}for(pt=0;pt<Re;++pt)ne[Te+ve+pt]=ne[Te+ve+pt-ot];for(ve+=Re,he+=Re;he>=Ce;)he-=Ce,++oe<=E&&!(oe%16)&&ps(ee,oe);ve<Ke&&he&Xe&&(We=nt(Fe,he,oe))}e(ye.h==X(ye))}ps(ee,oe>E?E:oe);break t}!Ge||ye.h&&ve<_e?(Ge=0,ee.a=ye.h?5:3):ee.$=ve,E=Ge}else E=za(ee,ee.V,ee.Ba,ee.c,ee.i,E,_h);if(!E){$=0;break e}}L+$>=Y&&(w.Cc=1),$=1}if(!$)return null;if(w.Cc&&(($=w.ga)!=null&&($.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+L*W}function T(w,E,L,$,W,Y){for(;0<W--;){var ee,ne=w,oe=E+(L?1:0),he=w,ye=E+(L?0:3);for(ee=0;ee<$;++ee){var Fe=he[ye+4*ee];Fe!=255&&(Fe*=32897,ne[oe+4*ee+0]=ne[oe+4*ee+0]*Fe>>23,ne[oe+4*ee+1]=ne[oe+4*ee+1]*Fe>>23,ne[oe+4*ee+2]=ne[oe+4*ee+2]*Fe>>23)}E+=Y}}function G(w,E,L,$,W){for(;0<$--;){var Y;for(Y=0;Y<L;++Y){var ee=w[E+2*Y+0],ne=15&(he=w[E+2*Y+1]),oe=4369*ne,he=(240&he|he>>4)*oe>>16;w[E+2*Y+0]=(240&ee|ee>>4)*oe>>16&240|(15&ee|ee<<4)*oe>>16>>4&15,w[E+2*Y+1]=240&he|ne}E+=W}}function me(w,E,L,$,W,Y,ee,ne){var oe,he,ye=255;for(he=0;he<W;++he){for(oe=0;oe<$;++oe){var Fe=w[E+oe];Y[ee+4*oe]=Fe,ye&=Fe}E+=L,ee+=ne}return ye!=255}function xe(w,E,L,$,W){var Y;for(Y=0;Y<W;++Y)L[$+Y]=w[E+Y]>>8}function Ee(){pi=T,zr=G,Vr=me,Pn=xe}function $e(w,E,L){_[w]=function($,W,Y,ee,ne,oe,he,ye,Fe,Te,Ce,Ge,Re,ve,_e,Ke,Xe){var We,pt=Xe-1>>1,ot=ne[oe+0]|he[ye+0]<<16,Tt=Fe[Te+0]|Ce[Ge+0]<<16;e($!=null);var dt=3*ot+Tt+131074>>2;for(E($[W+0],255&dt,dt>>16,Re,ve),Y!=null&&(dt=3*Tt+ot+131074>>2,E(Y[ee+0],255&dt,dt>>16,_e,Ke)),We=1;We<=pt;++We){var yr=ne[oe+We]|he[ye+We]<<16,_r=Fe[Te+We]|Ce[Ge+We]<<16,Ar=ot+yr+Tt+_r+524296,ar=Ar+2*(yr+Tt)>>3;dt=ar+ot>>1,ot=(Ar=Ar+2*(ot+_r)>>3)+yr>>1,E($[W+2*We-1],255&dt,dt>>16,Re,ve+(2*We-1)*L),E($[W+2*We-0],255&ot,ot>>16,Re,ve+(2*We-0)*L),Y!=null&&(dt=Ar+Tt>>1,ot=ar+_r>>1,E(Y[ee+2*We-1],255&dt,dt>>16,_e,Ke+(2*We-1)*L),E(Y[ee+2*We+0],255&ot,ot>>16,_e,Ke+(2*We+0)*L)),ot=yr,Tt=_r}1&Xe||(dt=3*ot+Tt+131074>>2,E($[W+Xe-1],255&dt,dt>>16,Re,ve+(Xe-1)*L),Y!=null&&(dt=3*Tt+ot+131074>>2,E(Y[ee+Xe-1],255&dt,dt>>16,_e,Ke+(Xe-1)*L)))}}function Je(){xi[xy]=_X,xi[yy]=X6,xi[z6]=CX,xi[by]=Y6,xi[vy]=J6,xi[_N]=Z6,xi[V6]=SX,xi[CN]=X6,xi[SN]=Y6,xi[wy]=J6,xi[BN]=Z6}function ft(w){return w&-16384?0>w?0:255:w>>BX}function Pt(w,E){return ft((19077*w>>8)+(26149*E>>8)-14234)}function Wt(w,E,L){return ft((19077*w>>8)-(6419*E>>8)-(13320*L>>8)+8708)}function zt(w,E){return ft((19077*w>>8)+(33050*E>>8)-17685)}function dr(w,E,L,$,W){$[W+0]=Pt(w,L),$[W+1]=Wt(w,E,L),$[W+2]=zt(w,E)}function pn(w,E,L,$,W){$[W+0]=zt(w,E),$[W+1]=Wt(w,E,L),$[W+2]=Pt(w,L)}function wn(w,E,L,$,W){var Y=Wt(w,E,L);E=Y<<3&224|zt(w,E)>>3,$[W+0]=248&Pt(w,L)|Y>>5,$[W+1]=E}function Hn(w,E,L,$,W){var Y=240&zt(w,E)|15;$[W+0]=240&Pt(w,L)|Wt(w,E,L)>>4,$[W+1]=Y}function $s(w,E,L,$,W){$[W+0]=255,dr(w,E,L,$,W+1)}function gs(w,E,L,$,W){pn(w,E,L,$,W),$[W+3]=255}function Yi(w,E,L,$,W){dr(w,E,L,$,W),$[W+3]=255}function Va(w,E){return 0>w?0:w>E?E:w}function Eo(w,E,L){_[w]=function($,W,Y,ee,ne,oe,he,ye,Fe){for(var Te=ye+(-2&Fe)*L;ye!=Te;)E($[W+0],Y[ee+0],ne[oe+0],he,ye),E($[W+1],Y[ee+0],ne[oe+0],he,ye+L),W+=2,++ee,++oe,ye+=2*L;1&Fe&&E($[W+0],Y[ee+0],ne[oe+0],he,ye)}}function uy(w,E,L){return L==0?w==0?E==0?6:5:E==0?4:0:L}function Xf(w,E,L,$,W){switch(w>>>30){case 3:hl(E,L,$,W,0);break;case 2:kn(E,L,$,W);break;case 1:ha(E,L,$,W)}}function Yf(w,E){var L,$,W=E.M,Y=E.Nb,ee=w.oc,ne=w.pc+40,oe=w.oc,he=w.pc+584,ye=w.oc,Fe=w.pc+600;for(L=0;16>L;++L)ee[ne+32*L-1]=129;for(L=0;8>L;++L)oe[he+32*L-1]=129,ye[Fe+32*L-1]=129;for(0<W?ee[ne-1-32]=oe[he-1-32]=ye[Fe-1-32]=129:(a(ee,ne-32-1,127,21),a(oe,he-32-1,127,9),a(ye,Fe-32-1,127,9)),$=0;$<w.za;++$){var Te=E.ya[E.aa+$];if(0<$){for(L=-1;16>L;++L)n(ee,ne+32*L-4,ee,ne+32*L+12,4);for(L=-1;8>L;++L)n(oe,he+32*L-4,oe,he+32*L+4,4),n(ye,Fe+32*L-4,ye,Fe+32*L+4,4)}var Ce=w.Gd,Ge=w.Hd+$,Re=Te.ad,ve=Te.Hc;if(0<W&&(n(ee,ne-32,Ce[Ge].y,0,16),n(oe,he-32,Ce[Ge].f,0,8),n(ye,Fe-32,Ce[Ge].ea,0,8)),Te.Za){var _e=ee,Ke=ne-32+16;for(0<W&&($>=w.za-1?a(_e,Ke,Ce[Ge].y[15],4):n(_e,Ke,Ce[Ge+1].y,0,4)),L=0;4>L;L++)_e[Ke+128+L]=_e[Ke+256+L]=_e[Ke+384+L]=_e[Ke+0+L];for(L=0;16>L;++L,ve<<=2)_e=ee,Ke=ne+tP[L],Ji[Te.Ob[L]](_e,Ke),Xf(ve,Re,16*+L,_e,Ke)}else if(_e=uy($,W,Te.Ob[0]),xc[_e](ee,ne),ve!=0)for(L=0;16>L;++L,ve<<=2)Xf(ve,Re,16*+L,ee,ne+tP[L]);for(L=Te.Gc,_e=uy($,W,Te.Dd),ml[_e](oe,he),ml[_e](ye,Fe),ve=Re,_e=oe,Ke=he,255&(Te=L>>0)&&(170&Te?rp(ve,256,_e,Ke):mi(ve,256,_e,Ke)),Te=ye,ve=Fe,255&(L>>=8)&&(170&L?rp(Re,320,Te,ve):mi(Re,320,Te,ve)),W<w.Ub-1&&(n(Ce[Ge].y,0,ee,ne+480,16),n(Ce[Ge].f,0,oe,he+224,8),n(Ce[Ge].ea,0,ye,Fe+224,8)),L=8*Y*w.B,Ce=w.sa,Ge=w.ta+16*$+16*Y*w.R,Re=w.qa,Te=w.ra+8*$+L,ve=w.Ha,_e=w.Ia+8*$+L,L=0;16>L;++L)n(Ce,Ge+L*w.R,ee,ne+32*L,16);for(L=0;8>L;++L)n(Re,Te+L*w.B,oe,he+32*L,8),n(ve,_e+L*w.B,ye,Fe+32*L,8)}}function Uh(w,E,L,$,W,Y,ee,ne,oe){var he=[0],ye=[0],Fe=0,Te=oe!=null?oe.kd:0,Ce=oe??new Vf;if(w==null||12>L)return 7;Ce.data=w,Ce.w=E,Ce.ha=L,E=[E],L=[L],Ce.gb=[Ce.gb];e:{var Ge=E,Re=L,ve=Ce.gb;if(e(w!=null),e(Re!=null),e(ve!=null),ve[0]=0,12<=Re[0]&&!r(w,Ge[0],"RIFF")){if(r(w,Ge[0]+8,"WEBP")){ve=3;break e}var _e=ke(w,Ge[0]+4);if(12>_e||4294967286<_e){ve=3;break e}if(Te&&_e>Re[0]-8){ve=7;break e}ve[0]=_e,Ge[0]+=12,Re[0]-=12}ve=0}if(ve!=0)return ve;for(_e=0<Ce.gb[0],L=L[0];;){e:{var Ke=w;Re=E,ve=L;var Xe=he,We=ye,pt=Ge=[0];if((dt=Fe=[Fe])[0]=0,8>ve[0])ve=7;else{if(!r(Ke,Re[0],"VP8X")){if(ke(Ke,Re[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var ot=ke(Ke,Re[0]+8),Tt=1+ue(Ke,Re[0]+12);if(2147483648<=Tt*(Ke=1+ue(Ke,Re[0]+15))){ve=3;break e}pt!=null&&(pt[0]=ot),Xe!=null&&(Xe[0]=Tt),We!=null&&(We[0]=Ke),Re[0]+=18,ve[0]-=18,dt[0]=1}ve=0}}if(Fe=Fe[0],Ge=Ge[0],ve!=0)return ve;if(Re=!!(2&Ge),!_e&&Fe)return 3;if(Y!=null&&(Y[0]=!!(16&Ge)),ee!=null&&(ee[0]=Re),ne!=null&&(ne[0]=0),ee=he[0],Ge=ye[0],Fe&&Re&&oe==null){ve=0;break}if(4>L){ve=7;break}if(_e&&Fe||!_e&&!Fe&&!r(w,E[0],"ALPH")){L=[L],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{ot=w,ve=E,_e=L;var dt=Ce.gb;Xe=Ce.na,We=Ce.P,pt=Ce.Sa,Tt=22,e(ot!=null),e(_e!=null),Ke=ve[0];var yr=_e[0];for(e(Xe!=null),e(pt!=null),Xe[0]=null,We[0]=null,pt[0]=0;;){if(ve[0]=Ke,_e[0]=yr,8>yr){ve=7;break e}var _r=ke(ot,Ke+4);if(4294967286<_r){ve=3;break e}var Ar=8+_r+1&-2;if(Tt+=Ar,0<dt&&Tt>dt){ve=3;break e}if(!r(ot,Ke,"VP8 ")||!r(ot,Ke,"VP8L")){ve=0;break e}if(yr[0]<Ar){ve=7;break e}r(ot,Ke,"ALPH")||(Xe[0]=ot,We[0]=Ke+8,pt[0]=_r),Ke+=Ar,yr-=Ar}}if(L=L[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],ve!=0)break}L=[L],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(dt=w,ve=E,_e=L,Xe=Ce.gb[0],We=Ce.Ja,pt=Ce.xa,ot=ve[0],Ke=!r(dt,ot,"VP8 "),Tt=!r(dt,ot,"VP8L"),e(dt!=null),e(_e!=null),e(We!=null),e(pt!=null),8>_e[0])ve=7;else{if(Ke||Tt){if(dt=ke(dt,ot+4),12<=Xe&&dt>Xe-12){ve=3;break e}if(Te&&dt>_e[0]-8){ve=7;break e}We[0]=dt,ve[0]+=8,_e[0]-=8,pt[0]=Tt}else pt[0]=5<=_e[0]&&dt[ot+0]==47&&!(dt[ot+4]>>5),We[0]=_e[0];ve=0}if(L=L[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],E=E[0],ve!=0)break;if(4294967286<Ce.Ja)return 3;if(ne==null||Re||(ne[0]=Ce.xa?2:1),ee=[ee],Ge=[Ge],Ce.xa){if(5>L){ve=7;break}ne=ee,Te=Ge,Re=Y,w==null||5>L?w=0:5<=L&&w[E+0]==47&&!(w[E+4]>>5)?(_e=[0],dt=[0],Xe=[0],R(We=new Q,w,E,L),re(We,_e,dt,Xe)?(ne!=null&&(ne[0]=_e[0]),Te!=null&&(Te[0]=dt[0]),Re!=null&&(Re[0]=Xe[0]),w=1):w=0):w=0}else{if(10>L){ve=7;break}ne=Ge,w==null||10>L||!Gx(w,E+3,L-3)?w=0:(Te=w[E+0]|w[E+1]<<8|w[E+2]<<16,Re=16383&(w[E+7]<<8|w[E+6]),w=16383&(w[E+9]<<8|w[E+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Ce.Ja||!Re||!w?w=0:(ee&&(ee[0]=Re),ne&&(ne[0]=w),w=1))}if(!w||(ee=ee[0],Ge=Ge[0],Fe&&(he[0]!=ee||ye[0]!=Ge)))return 3;oe!=null&&(oe[0]=Ce,oe.offset=E-oe.w,e(4294967286>E-oe.w),e(oe.offset==oe.ha-L));break}return ve==0||ve==7&&Fe&&oe==null?(Y!=null&&(Y[0]|=Ce.na!=null&&0<Ce.na.length),$!=null&&($[0]=ee),W!=null&&(W[0]=Ge),0):ve}function Jf(w,E,L){var $=E.width,W=E.height,Y=0,ee=0,ne=$,oe=W;if(E.Da=w!=null&&0<w.Da,E.Da&&(ne=w.cd,oe=w.bd,Y=w.v,ee=w.j,11>L||(Y&=-2,ee&=-2),0>Y||0>ee||0>=ne||0>=oe||Y+ne>$||ee+oe>W))return 0;if(E.v=Y,E.j=ee,E.va=Y+ne,E.o=ee+oe,E.U=ne,E.T=oe,E.da=w!=null&&0<w.da,E.da){if(!Ne(ne,oe,L=[w.ib],Y=[w.hb]))return 0;E.ib=L[0],E.hb=Y[0]}return E.ob=w!=null&&w.ob,E.Kb=w==null||!w.Sd,E.da&&(E.ob=E.ib<3*$/4&&E.hb<3*W/4,E.Kb=0),1}function Zf(w){if(w==null)return 2;if(11>w.S){var E=w.f.RGBA;E.fb+=(w.height-1)*E.A,E.A=-E.A}else E=w.f.kb,w=w.height,E.O+=(w-1)*E.fa,E.fa=-E.fa,E.N+=(w-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(w-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(w-1)*E.lb,E.lb=-E.lb);return 0}function Rh(w,E,L,$){if($==null||0>=w||0>=E)return 2;if(L!=null){if(L.Da){var W=L.cd,Y=L.bd,ee=-2&L.v,ne=-2&L.j;if(0>ee||0>ne||0>=W||0>=Y||ee+W>w||ne+Y>E)return 2;w=W,E=Y}if(L.da){if(!Ne(w,E,W=[L.ib],Y=[L.hb]))return 2;w=W[0],E=Y[0]}}$.width=w,$.height=E;e:{var oe=$.width,he=$.height;if(w=$.S,0>=oe||0>=he||!(w>=xy&&13>w))w=2;else{if(0>=$.Rd&&$.sd==null){ee=Y=W=E=0;var ye=(ne=oe*rP[w])*he;if(11>w||(Y=(he+1)/2*(E=(oe+1)/2),w==12&&(ee=(W=oe)*he)),(he=i(ye+2*Y+ee))==null){w=1;break e}$.sd=he,11>w?((oe=$.f.RGBA).eb=he,oe.fb=0,oe.A=ne,oe.size=ye):((oe=$.f.kb).y=he,oe.O=0,oe.fa=ne,oe.Fd=ye,oe.f=he,oe.N=0+ye,oe.Ab=E,oe.Cd=Y,oe.ea=he,oe.W=0+ye+Y,oe.Db=E,oe.Ed=Y,w==12&&(oe.F=he,oe.J=0+ye+2*Y),oe.Tc=ee,oe.lb=W)}if(E=1,W=$.S,Y=$.width,ee=$.height,W>=xy&&13>W)if(11>W)w=$.f.RGBA,E&=(ne=Math.abs(w.A))*(ee-1)+Y<=w.size,E&=ne>=Y*rP[W],E&=w.eb!=null;else{w=$.f.kb,ne=(Y+1)/2,ye=(ee+1)/2,oe=Math.abs(w.fa),he=Math.abs(w.Ab);var Fe=Math.abs(w.Db),Te=Math.abs(w.lb),Ce=Te*(ee-1)+Y;E&=oe*(ee-1)+Y<=w.Fd,E&=he*(ye-1)+ne<=w.Cd,E=(E&=Fe*(ye-1)+ne<=w.Ed)&oe>=Y&he>=ne&Fe>=ne,E&=w.y!=null,E&=w.f!=null,E&=w.ea!=null,W==12&&(E&=Te>=Y,E&=Ce<=w.Tc,E&=w.F!=null)}else E=0;w=E?0:2}}return w!=0||L!=null&&L.fd&&(w=Zf($)),w}var Ps=64,Qh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$h=24,Hh=32,ep=8,Sa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pe("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(w){return w},_.Predictor2=function(w,E,L){return E[L+0]},_.Predictor3=function(w,E,L){return E[L+1]},_.Predictor4=function(w,E,L){return E[L-1]},_.Predictor5=function(w,E,L){return je(je(w,E[L+1]),E[L+0])},_.Predictor6=function(w,E,L){return je(w,E[L-1])},_.Predictor7=function(w,E,L){return je(w,E[L+0])},_.Predictor8=function(w,E,L){return je(E[L-1],E[L+0])},_.Predictor9=function(w,E,L){return je(E[L+0],E[L+1])},_.Predictor10=function(w,E,L){return je(je(w,E[L-1]),je(E[L+0],E[L+1]))},_.Predictor11=function(w,E,L){var $=E[L+0];return 0>=Pe($>>24&255,w>>24&255,(E=E[L-1])>>24&255)+Pe($>>16&255,w>>16&255,E>>16&255)+Pe($>>8&255,w>>8&255,E>>8&255)+Pe(255&$,255&w,255&E)?$:w},_.Predictor12=function(w,E,L){var $=E[L+0];return(Me((w>>24&255)+($>>24&255)-((E=E[L-1])>>24&255))<<24|Me((w>>16&255)+($>>16&255)-(E>>16&255))<<16|Me((w>>8&255)+($>>8&255)-(E>>8&255))<<8|Me((255&w)+(255&$)-(255&E)))>>>0},_.Predictor13=function(w,E,L){var $=E[L-1];return(rt((w=je(w,E[L+0]))>>24&255,$>>24&255)<<24|rt(w>>16&255,$>>16&255)<<16|rt(w>>8&255,$>>8&255)<<8|rt(w>>0&255,$>>0&255))>>>0};var jN=_.PredictorAdd0;_.PredictorAdd1=fe,pe("Predictor2","PredictorAdd2"),pe("Predictor3","PredictorAdd3"),pe("Predictor4","PredictorAdd4"),pe("Predictor5","PredictorAdd5"),pe("Predictor6","PredictorAdd6"),pe("Predictor7","PredictorAdd7"),pe("Predictor8","PredictorAdd8"),pe("Predictor9","PredictorAdd9"),pe("Predictor10","PredictorAdd10"),pe("Predictor11","PredictorAdd11"),pe("Predictor12","PredictorAdd12"),pe("Predictor13","PredictorAdd13");var tp=_.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var hy,Ai=_.ColorIndexInverseTransform,qh=_.MapARGB,Ay=_.VP8LColorIndexInverseTransformAlpha,my=_.MapAlpha,mc=_.VP8LPredictorsAdd=[];mc.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Wd,Ba,ua,fc,dl,ul,zh,hl,kn,rp,ha,mi,Vh,fy,np,Gd,Xd,pc,Yd,Kh,Jd,gc,sp,fi,pi,zr,Vr,Pn,ss=i(511),Al=i(2041),ap=i(225),Wh=i(767),py=0,NN=Al,gy=ap,Ka=Wh,gi=ss,xy=0,yy=1,z6=2,by=3,vy=4,_N=5,V6=6,CN=7,SN=8,wy=9,BN=10,uX=[2,3,7],hX=[3,3,11],K6=[280,256,256,256,40],AX=[0,1,1,1,0],mX=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fX=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pX=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gX=8,EN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ip=null,xX=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yX=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],W6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bX=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vX=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wX=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],jX=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xc=[],Ji=[],ml=[],NX=1,G6=2,yc=[],xi=[];$e("UpsampleRgbLinePair",dr,3),$e("UpsampleBgrLinePair",pn,3),$e("UpsampleRgbaLinePair",Yi,4),$e("UpsampleBgraLinePair",gs,4),$e("UpsampleArgbLinePair",$s,4),$e("UpsampleRgba4444LinePair",Hn,2),$e("UpsampleRgb565LinePair",wn,2);var _X=_.UpsampleRgbLinePair,CX=_.UpsampleBgrLinePair,X6=_.UpsampleRgbaLinePair,Y6=_.UpsampleBgraLinePair,J6=_.UpsampleArgbLinePair,Z6=_.UpsampleRgba4444LinePair,SX=_.UpsampleRgb565LinePair,jy=16,Ny=1<<jy-1,op=-227,PN=482,BX=6,eP=0,EX=i(256),kX=i(256),PX=i(256),FX=i(256),TX=i(PN-op),OX=i(PN-op);Eo("YuvToRgbRow",dr,3),Eo("YuvToBgrRow",pn,3),Eo("YuvToRgbaRow",Yi,4),Eo("YuvToBgraRow",gs,4),Eo("YuvToArgbRow",$s,4),Eo("YuvToRgba4444Row",Hn,2),Eo("YuvToRgb565Row",wn,2);var tP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_y=[0,2,8],IX=[8,7,6,4,4,2,2,2,1,1,1,1],DX=1;this.WebPDecodeRGBA=function(w,E,L,$,W){var Y=yy,ee=new Mh,ne=new ht;ee.ba=ne,ne.S=Y,ne.width=[ne.width],ne.height=[ne.height];var oe=ne.width,he=ne.height,ye=new gr;if(ye==null||w==null)var Fe=2;else e(ye!=null),Fe=Uh(w,E,L,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Fe!=0?oe=0:(oe!=null&&(oe[0]=ye.width[0]),he!=null&&(he[0]=ye.height[0]),oe=1),oe){ne.width=ne.width[0],ne.height=ne.height[0],$!=null&&($[0]=ne.width),W!=null&&(W[0]=ne.height);e:{if($=new kh,(W=new Vf).data=w,W.w=E,W.ha=L,W.kd=1,E=[0],e(W!=null),((w=Uh(W.data,W.w,W.ha,null,null,null,E,null,W))==0||w==7)&&E[0]&&(w=4),(E=w)==0){if(e(ee!=null),$.data=W.data,$.w=W.w+W.offset,$.ha=W.ha-W.offset,$.put=tn,$.ac=fn,$.bc=qr,$.ma=ee,W.xa){if((w=vn())==null){ee=1;break e}if(function(Te,Ce){var Ge=[0],Re=[0],ve=[0];t:for(;;){if(Te==null)return 0;if(Ce==null)return Te.a=2,0;if(Te.l=Ce,Te.a=0,R(Te.m,Ce.data,Ce.w,Ce.ha),!re(Te.m,Ge,Re,ve)){Te.a=3;break t}if(Te.xb=G6,Ce.width=Ge[0],Ce.height=Re[0],!Co(Ge[0],Re[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(w,$)){if($=(E=Rh($.width,$.height,ee.Oa,ee.ba))==0){t:{$=w;r:for(;;){if($==null){$=0;break t}if(e($.s.yc!=null),e($.s.Ya!=null),e(0<$.s.Wb),e((L=$.l)!=null),e((W=L.ma)!=null),$.xb!=0){if($.ca=W.ba,$.tb=W.tb,e($.ca!=null),!Jf(W.Oa,L,by)){$.a=2;break r}if(!Hd($,L.width)||L.da)break r;if((L.da||Ae($.ca.S))&&Ee(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Ee()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!Qe($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!za($,$.V,$.Ba,$.c,$.i,L.o,bt))break r;W.Dc=$.Ma,$=1;break t}e($.a!=0),$=0}$=!$}$&&(E=w.a)}else E=w.a}else{if((w=new sN)==null){ee=1;break e}if(w.Fa=W.na,w.P=W.P,w.qc=W.Sa,Xx(w,$)){if((E=Rh($.width,$.height,ee.Oa,ee.ba))==0){if(w.Aa=0,L=ee.Oa,e((W=w)!=null),L!=null){if(0<(oe=0>(oe=L.Md)?0:100<oe?255:255*oe/100)){for(he=ye=0;4>he;++he)12>(Fe=W.pb[he]).lc&&(Fe.ia=oe*IX[0>Fe.lc?0:Fe.lc]>>3),ye|=Fe.ia;ye&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=L.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}aN(w,$)||(E=w.a)}}else E=w.a}E==0&&ee.Oa!=null&&ee.Oa.fd&&(E=Zf(ee.ba))}ee=E}Y=ee!=0?null:11>Y?ne.f.RGBA.eb:ne.f.kb.y}else Y=null;return Y};var rP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,k){for(var M="",j=0;j<4;j++)M+=String.fromCharCode(_[k++]);return M}function u(_,k){return(_[k+0]<<0|_[k+1]<<8|_[k+2]<<16)>>>0}function h(_,k){return(_[k+0]<<0|_[k+1]<<8|_[k+2]<<16|_[k+3]<<24)>>>0}new c;var A=[0],m=[0],x=[],g=new c,p=t,f=function(_,k){var M={},j=0,S=!1,F=0,O=0;if(M.frames=[],!function(D,X,V,de){for(var le=0;le<de;le++)if(D[X+le]!=V.charCodeAt(le))return!0;return!1}(_,k,"RIFF",4)){var H,U;for(h(_,k+=4),k+=8;k<_.length;){var z=d(_,k),R=h(_,k+=4);k+=4;var I=R+(1&R);switch(z){case"VP8 ":case"VP8L":M.frames[j]===void 0&&(M.frames[j]={}),(Q=M.frames[j]).src_off=S?O:k-8,Q.src_size=F+R+8,j++,S&&(S=!1,F=0,O=0);break;case"VP8X":(Q=M.header={}).feature_flags=_[k];var K=k+4;Q.canvas_width=1+u(_,K),K+=3,Q.canvas_height=1+u(_,K),K+=3;break;case"ALPH":S=!0,F=I+8,O=k-8;break;case"ANIM":(Q=M.header).bgcolor=h(_,k),K=k+4,Q.loop_count=(H=_)[(U=K)+0]<<0|H[U+1]<<8,K+=2;break;case"ANMF":var te,Q;(Q=M.frames[j]={}).offset_x=2*u(_,k),k+=3,Q.offset_y=2*u(_,k),k+=3,Q.width=1+u(_,k),k+=3,Q.height=1+u(_,k),k+=3,Q.duration=u(_,k),k+=3,te=_[k++],Q.dispose=1&te,Q.blend=te>>1&1}z!="ANMF"&&(k+=I)}return M}}(p,0);f.response=p,f.rgbaoutput=!0,f.dataurl=!1;var y=f.header?f.header:null,b=f.frames?f.frames:null;if(y){y.loop_counter=y.loop_count,A=[y.canvas_height],m=[y.canvas_width];for(var N=0;N<b.length&&b[N].blend!=0;N++);}var v=b[0],C=g.WebPDecodeRGBA(p,v.src_off,v.src_size,m,A);v.rgba=C,v.imgwidth=m[0],v.imgheight=A[0];for(var P=0;P<m[0]*A[0]*4;P++)x[P]=C[P];return this.width=m,this.height=A,this.data=x,this}(function(t){var e=function(){return typeof eS=="function"},r=function(A,m,x,g){var p=4,f=o;switch(g){case t.image_compression.FAST:p=1,f=i;break;case t.image_compression.MEDIUM:p=6,f=l;break;case t.image_compression.SLOW:p=9,f=c}A=n(A,m,x,f);var y=eS(A,{level:p});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(A,m,x,g){for(var p,f,y,b=A.length/m,N=new Uint8Array(A.length+b),v=u(),C=0;C<b;C+=1){if(y=C*m,p=A.subarray(y,y+m),g)N.set(g(p,x,f),y+C);else{for(var P,_=v.length,k=[];P<_;P+=1)k[P]=v[P](p,x,f);var M=h(k.concat());N.set(k[M],y+C)}f=p}return N},a=function(A){var m=Array.apply([],A);return m.unshift(0),m},i=function(A,m){var x,g=[],p=A.length;g[0]=1;for(var f=0;f<p;f+=1)x=A[f-m]||0,g[f+1]=A[f]-x+256&255;return g},o=function(A,m,x){var g,p=[],f=A.length;p[0]=2;for(var y=0;y<f;y+=1)g=x&&x[y]||0,p[y+1]=A[y]-g+256&255;return p},l=function(A,m,x){var g,p,f=[],y=A.length;f[0]=3;for(var b=0;b<y;b+=1)g=A[b-m]||0,p=x&&x[b]||0,f[b+1]=A[b]+256-(g+p>>>1)&255;return f},c=function(A,m,x){var g,p,f,y,b=[],N=A.length;b[0]=4;for(var v=0;v<N;v+=1)g=A[v-m]||0,p=x&&x[v]||0,f=x&&x[v-m]||0,y=d(g,p,f),b[v+1]=A[v]-y+256&255;return b},d=function(A,m,x){if(A===m&&m===x)return A;var g=Math.abs(m-x),p=Math.abs(A-x),f=Math.abs(A+m-x-x);return g<=p&&g<=f?A:p<=f?m:x},u=function(){return[a,i,o,l,c]},h=function(A){var m=A.map(function(x){return x.reduce(function(g,p){return g+Math.abs(p)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(A,m,x,g){var p,f,y,b,N,v,C,P,_,k,M,j,S,F,O,H=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(y=new Jhe(A)).imgData,f=y.bits,p=y.colorSpace,N=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){_=(P=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,M=new Uint8Array(_*y.colors),k=new Uint8Array(_);var z,R=y.pixelBitlength-y.bits;for(F=0,O=0;F<_;F++){for(S=P[F],z=0;z<R;)M[O++]=S>>>z&255,z+=y.bits;k[F]=S>>>z&255}}if(y.bits===16){_=(P=new Uint32Array(y.decodePixels().buffer)).length,M=new Uint8Array(_*(32/y.pixelBitlength)*y.colors),k=new Uint8Array(_*(32/y.pixelBitlength)),j=y.colors>1,F=0,O=0;for(var I=0;F<_;)S=P[F++],M[O++]=S>>>0&255,j&&(M[O++]=S>>>16&255,S=P[F++],M[O++]=S>>>0&255),k[I++]=S>>>16&255;f=8}g!==t.image_compression.NONE&&e()?(A=r(M,y.width*y.colors,y.colors,g),C=r(k,y.width,1,g)):(A=M,C=k,H=void 0)}if(y.colorType===3&&(p=this.color_spaces.INDEXED,v=y.palette,y.transparency.indexed)){var K=y.transparency.indexed,te=0;for(F=0,_=K.length;F<_;++F)te+=K[F];if((te/=255)===_-1&&K.indexOf(0)!==-1)b=[K.indexOf(0)];else if(te!==_){for(P=y.decodePixels(),k=new Uint8Array(P.length),F=0,_=P.length;F<_;F++)k[F]=K[P[F]];C=r(k,y.width,1)}}var Q=function(D){var X;switch(D){case t.image_compression.FAST:X=11;break;case t.image_compression.MEDIUM:X=13;break;case t.image_compression.SLOW:X=14;break;default:X=12}return X}(g);return H===this.decode.FLATE_DECODE&&(U="/Predictor "+Q+" "),U+="/Colors "+N+" /BitsPerComponent "+f+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:x,data:A,index:m,filter:H,decodeParameters:U,transparency:b,palette:v,sMask:C,predictor:Q,width:y.width,height:y.height,bitsPerComponent:f,colorSpace:p}}}})(kt.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new Zhe(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new X_(100).encode(d,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A}(kt.API),ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ro.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Rr.log("bit decode error:"+r)}},ro.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ro.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ro.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},ro.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},ro.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},ro.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ro.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},ro.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new ro(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new X_(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}(kt.API),$O.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new $O(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new X_(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}(kt.API),kt.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],h=n[d+1],A=n[d+2],m=n[d+3];i[l++]=u,i[l++]=h,i[l++]=A,o[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},kt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},oA=kt.API,hb=oA.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,A=0,m=t.length,x=0,g=l[0]||c,p=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?p.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(A=h&&Pr(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/u:0,p.push((l[n]||g)/c+A)),x=n;return p},LO=oA.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return oA.processArabic&&(t=oA.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:hb.apply(this,arguments).reduce(function(i,o){return i+o},0)},UO=function(t,e,r,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},RO=function(t,e,r){r||(r={});var n,a,i,o,l,c,d,u=[],h=[u],A=r.textIndent||0,m=0,x=0,g=t.split(" "),p=hb.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var f=Array(c).join(" "),y=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?y=y.concat(N.map(function(v,C){return(C&&v.length?`
`:"")+v})):y.push(N[0])}),g=y,c=LO.apply(this,[f,r])}for(i=0,o=g.length;i<o;i++){var b=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),A+m+(x=(a=hb.apply(this,[n,r])).reduce(function(N,v){return N+v},0))>e||b){if(x>e){for(l=UO.apply(this,[n,a,e-(A+m),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);x=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(N,v){return N+v},0)}else u=[n];h.push(u),A=x+c,m=p}else u.push(n),A+=m+x,m=p}return d=c?function(N,v){return(v?f:"")+N.join(" ")}:function(N){return N.join(" ")},h.map(d)},oA.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(RO.apply(this,[n[l],o,i]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var A,m,x,g,p=["{"];for(var f in h){if(A=h[f],isNaN(parseInt(f,10))?m="'"+f+"'":(f=parseInt(f,10),m=(m=i(f).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof A=="number")A<0?(x=i(A).slice(3),g="-"):(x=i(A).slice(2),g=""),x=g+x.slice(0,-1)+n[x.slice(-1)];else{if(Pr(A)!=="object")throw new Error("Don't know what to do with value type "+Pr(A)+".");x=o(A)}p.push(m+x)}return p.push("}"),p.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,m,x,g,p={},f=1,y=p,b=[],N="",v="",C=h.length-1,P=1;P<C;P+=1)(g=h[P])=="'"?A?(x=A.join(""),A=void 0):A=[]:A?A.push(g):g=="{"?(b.push([y,x]),y={},x=void 0):g=="}"?((m=b.pop())[0][m[1]]=y,x=void 0,y=m[0]):g=="-"?f=-1:x===void 0?r.hasOwnProperty(g)?(N+=r[g],x=parseInt(N,16)*f,f=1,N=""):N+=g:r.hasOwnProperty(g)?(v+=r[g],y[x]=parseInt(v,16)*f,f=1,x=void 0,v=""):v+=g;return p},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var A=h.font,m=u.Unicode[A.postScriptName];m&&(A.metadata.Unicode={},A.metadata.Unicode.widths=m.widths,A.metadata.Unicode.kerning=m.kerning);var x=d.Unicode[A.postScriptName];x&&(A.metadata.Unicode.encoding=x,A.encoding=x.codePages[0])}])}(kt.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Sg(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(kt),function(t){function e(){return(Rt.canvg?Promise.resolve(Rt.canvg):_d(()=>import("./index.es-BDb_hRJ8.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}kt.API.addSvgAsImage=function(r,n,a,i,o,l,c,d){if(isNaN(n)||isNaN(a))throw Rr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Rr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(x){return x.fromString(h,r,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(A)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),n,a,i,o,c,d)})}}(),kt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},kt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function A(x,g){var p,f=!1;for(p=0;p<x.length;p+=1)x[p]===g&&(f=!0);return f}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=l.length;for(h=0;h<m;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Pr(t)==="object"){for(a in t)if(i=t[a],A(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&A(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(kt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,A=i.length;h<A;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,h,A;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,A=(l=Object.keys(i).sort(function(m,x){return m-x})).length;h<A;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,A=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<A.length;x++)m+=String.fromCharCode(A[x]);var g=d();u({data:m,addLength1:!0,objectId:g}),c("endobj");var p=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var f=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+jA(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+jA(l.fontName)),c("/FontDescriptor "+f+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+p+" 0 R"),c("/BaseFont /"+jA(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,A="",m=0;m<h.length;m++)A+=String.fromCharCode(h[m]);var x=d();u({data:A,addLength1:!0,objectId:x}),c("endobj");var g=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var p=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+jA(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var f=0;f<l.metadata.hmtx.widths.length;f++)l.metadata.hmtx.widths[f]=parseInt(l.metadata.hmtx.widths[f]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+jA(l.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},A=h.pdfEscape,m=h.activeFontKey,x=h.fonts,g=m,p="",f=0,y="",b=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(y=l,g=m,Array.isArray(l)&&(y=l[0]),f=0;f<y.length;f+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[y[f].charCodeAt(0)]),o||y[f].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?p+=y[f]:p+="";var N="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?N=A(p,g).split("").map(function(v){return v.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(N=r(p,x[g])),h.isHex=!0,{text:N,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(kt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(kt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,d,u,h=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var N=function(j){var S=j.charCodeAt(),F=S>>8,O=g[F];return O!==void 0?h[256*O+(255&S)]:F===252||F===253?"AL":f.test(F)?"L":F===8?"R":"N"},v=function(j){for(var S,F=0;F<j.length;F++){if((S=N(j.charAt(F)))==="L")return!1;if(S==="R")return!0}return!1},C=function(j,S,F,O){var H,U,z,R,I=S[O];switch(I){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(I="AN");break;case"AL":y=!0,I="R";break;case"WS":I="N";break;case"CS":O<1||O+1>=S.length||(H=F[O-1])!=="EN"&&H!=="AN"||(U=S[O+1])!=="EN"&&U!=="AN"?I="N":y&&(U="AN"),I=U===H?U:"N";break;case"ES":I=(H=O>0?F[O-1]:"B")==="EN"&&O+1<S.length&&S[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&F[O-1]==="EN"){I="EN";break}if(y){I="N";break}for(z=O+1,R=S.length;z<R&&S[z]==="ET";)z++;I=z<R&&S[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(R=S.length,z=O+1;z<R&&S[z]==="NSM";)z++;if(z<R){var K=j[O],te=K>=1425&&K<=2303||K===64286;if(H=S[z],te&&(H==="R"||H==="AL")){I="R";break}}}I=O<1||(H=S[O-1])==="B"?"N":F[O-1];break;case"B":y=!1,a=!0,I=b;break;case"S":i=!0,I="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":I="N"}return I},P=function(j,S,F){var O=j.split("");return F&&_(O,F,{hiLevel:b}),O.reverse(),S&&S.reverse(),O.join("")},_=function(j,S,F){var O,H,U,z,R,I=-1,K=j.length,te=0,Q=[],D=b?m:A,X=[];for(y=!1,a=!1,i=!1,H=0;H<K;H++)X[H]=N(j[H]);for(U=0;U<K;U++){if(R=te,Q[U]=C(j,X,Q,U),O=240&(te=D[R][x[Q[U]]]),te&=15,S[U]=z=D[te][5],O>0)if(O===16){for(H=I;H<U;H++)S[H]=1;I=-1}else I=-1;if(D[te][6])I===-1&&(I=U);else if(I>-1){for(H=I;H<U;H++)S[H]=z;I=-1}X[U]==="B"&&(S[U]=0),F.hiLevel|=z}i&&function(V,de,le){for(var ie=0;ie<le;ie++)if(V[ie]==="S"){de[ie]=b;for(var ce=ie-1;ce>=0&&V[ce]==="WS";ce--)de[ce]=b}}(X,S,K)},k=function(j,S,F,O,H){if(!(H.hiLevel<j)){if(j===1&&b===1&&!a)return S.reverse(),void(F&&F.reverse());for(var U,z,R,I,K=S.length,te=0;te<K;){if(O[te]>=j){for(R=te+1;R<K&&O[R]>=j;)R++;for(I=te,z=R-1;I<z;I++,z--)U=S[I],S[I]=S[z],S[z]=U,F&&(U=F[I],F[I]=F[z],F[z]=U);te=R}te++}}},M=function(j,S,F){var O=j.split(""),H={hiLevel:b};return F||(F=[]),_(O,F,H),function(U,z,R){if(R.hiLevel!==0&&u)for(var I,K=0;K<U.length;K++)z[K]===1&&(I=p.indexOf(U[K]))>=0&&(U[K]=p[I+1])}(O,F,H),k(2,O,S,F,H),k(1,O,S,F,H),O.join("")};return this.__bidiEngine__.doBidiReorder=function(j,S,F){if(function(H,U){if(U)for(var z=0;z<H.length;z++)U[z]=z;l===void 0&&(l=v(H)),d===void 0&&(d=v(H))}(j,S),o||!c||d)if(o&&c&&l^d)b=l?1:0,j=P(j,S,F);else if(!o&&c&&d)b=l?1:0,j=M(j,S,F),j=P(j,S);else if(!o||l||c||d){if(o&&!c&&l^d)j=P(j,S),l?(b=0,j=M(j,S,F)):(b=1,j=M(j,S,F),j=P(j,S));else if(o&&l&&!c&&d)b=1,j=M(j,S,F),j=P(j,S);else if(!o&&!c&&l^d){var O=u;l?(b=1,j=M(j,S,F),b=0,u=!1,j=M(j,S,F),u=O):(b=0,j=M(j,S,F),j=P(j,S),b=1,u=!1,j=M(j,S,F),u=O,j=P(j,S))}}else b=0,j=M(j,S,F);else b=l?1:0,j=M(j,S,F);return j},this.__bidiEngine__.setOptions=function(j){j&&(o=j.isInputVisual,c=j.isOutputVisual,l=j.isInputRtl,d=j.isOutputRtl,u=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(kt),kt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Sd(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new mAe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new eAe(this.contents),this.head=new rAe(this),this.name=new oAe(this),this.cmap=new VH(this),this.toUnicode={},this.hhea=new nAe(this),this.maxp=new lAe(this),this.hmtx=new cAe(this),this.post=new aAe(this),this.os2=new sAe(this),this.loca=new AAe(this),this.glyf=new dAe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var jo,Sd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),eAe=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,l,c,d,u,h,A,m,x,g;for(g in m=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),o=Math.floor(h/c),u=16*m-h,(a=new Sd).writeInt(this.scalarType),a.writeShort(m),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*m,d=a.pos+i,l=null,x=[],r)for(A=r[g],a.writeString(g),a.writeInt(t(A)),a.writeInt(d),a.writeInt(A.length),x=x.concat(A),g==="head"&&(l=d),d+=A.length;d%4;)x.push(0),d++;return a.write(x),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=KH.call(r);r.length%4;)r.push(0);for(i=new Sd(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),tAe={}.hasOwnProperty,nl=function(t,e){for(var r in e)tAe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};jo=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var rAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Sd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),HO=function(){function t(e,r){var n,a,i,o,l,c,d,u,h,A,m,x,g,p,f,y,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),A=m/2,e.pos+=6,i=function(){var N,v;for(v=[],c=N=0;0<=A?N<A:N>A;c=0<=A?++N:--N)v.push(e.readUInt16());return v}(),e.pos+=2,g=function(){var N,v;for(v=[],c=N=0;0<=A?N<A:N>A;c=0<=A?++N:--N)v.push(e.readUInt16());return v}(),d=function(){var N,v;for(v=[],c=N=0;0<=A?N<A:N>A;c=0<=A?++N:--N)v.push(e.readUInt16());return v}(),u=function(){var N,v;for(v=[],c=N=0;0<=A?N<A:N>A;c=0<=A?++N:--N)v.push(e.readUInt16());return v}(),a=(this.length-e.pos+this.offset)/2,l=function(){var N,v;for(v=[],c=N=0;0<=a?N<a:N>a;c=0<=a?++N:--N)v.push(e.readUInt16());return v}(),c=f=0,b=i.length;f<b;c=++f)for(p=i[c],n=y=x=g[c];x<=p?y<=p:y>=p;n=x<=p?++y:--y)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-x)-(A-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,a,i,o,l,c,d,u,h,A,m,x,g,p,f,y,b,N,v,C,P,_,k,M,j,S,F,O,H,U,z,R,I,K,te,Q,D,X,V,de,le,ie,ce,be,J,ue;switch(O=new Sd,o=Object.keys(e).sort(function(ke,Qe){return ke-Qe}),r){case"macroman":for(g=0,p=function(){var ke=[];for(x=0;x<256;++x)ke.push(0);return ke}(),y={0:0},i={},H=0,I=o.length;H<I;H++)y[ce=e[a=o[H]]]==null&&(y[ce]=++g),i[a]={old:e[a],new:y[e[a]]},p[a]=y[e[a]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(p),{charMap:i,subtable:O.data,maxGlyphID:g+1};case"unicode":for(S=[],h=[],b=0,y={},n={},f=d=null,U=0,K=o.length;U<K;U++)y[v=e[a=o[U]]]==null&&(y[v]=++b),n[a]={old:v,new:y[v]},l=y[v]-a,f!=null&&l===d||(f&&h.push(f),S.push(a),d=l),f=a;for(f&&h.push(f),h.push(65535),S.push(65535),M=2*(k=S.length),_=2*Math.pow(Math.log(k)/Math.LN2,2),A=Math.log(_/2)/Math.LN2,P=2*k-_,c=[],C=[],m=[],x=z=0,te=S.length;z<te;x=++z){if(j=S[x],u=h[x],j===65535){c.push(0),C.push(0);break}if(j-(F=n[j].new)>=32768)for(c.push(0),C.push(2*(m.length+k-x)),a=R=j;j<=u?R<=u:R>=u;a=j<=u?++R:--R)m.push(n[a].new);else c.push(F-j),C.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*k+2*m.length),O.writeUInt16(0),O.writeUInt16(M),O.writeUInt16(_),O.writeUInt16(A),O.writeUInt16(P),le=0,Q=h.length;le<Q;le++)a=h[le],O.writeUInt16(a);for(O.writeUInt16(0),ie=0,D=S.length;ie<D;ie++)a=S[ie],O.writeUInt16(a);for(be=0,X=c.length;be<X;be++)l=c[be],O.writeUInt16(l);for(J=0,V=C.length;J<V;J++)N=C[J],O.writeUInt16(N);for(ue=0,de=m.length;ue<de;ue++)g=m[ue],O.writeUInt16(g);return{charMap:n,subtable:O.data,maxGlyphID:b+1}}},t}(),VH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new HO(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=HO.encode(r,n),(i=new Sd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),nAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),sAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),aAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},e}(),iAe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,o,l,c,d,u,h,A,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},o=h=0,A=a.length;h<A;o=++h)i=a[o],r.pos=i.offset,u=r.readString(i.length),l=new iAe(u,i),d[m=i.nameID]==null&&(d[m]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),lAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),cAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,o,l,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(r.readInt16());return h}(),this.widths=(function(){var u,h,A,m;for(m=[],u=0,h=(A=this.metrics).length;u<h;u++)o=A[u],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],d=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),KH=[].slice,dAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,o,l,c,d,u,h,A;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Sd(n.read(i))).readShort(),u=c.readShort(),A=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new hAe(c,u,A,d,h):new uAe(c,l,u,A,d,h),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},e}(),uAe=function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),hAe=function(){function t(e,r,n,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Sd(KH.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),AAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,jo),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e}(),mAe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,l,c,d,u,h,A,m,x,g,p,f;for(a in n=VH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},f=n.charMap)m[(c=f[a]).old]=c.new;for(x in A=n.maxGlyphID,o)x in m||(m[x]=A++);return u=function(y){var b,N;for(b in N={},y)N[y[b]]=b;return N}(m),h=Object.keys(u).sort(function(y,b){return y-b}),g=function(){var y,b,N;for(N=[],y=0,b=h.length;y<b;y++)l=h[y],N.push(u[l]);return N}(),i=this.font.glyf.encode(o,g,m),d=this.font.loca.encode(i.offsets,g),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},t}();kt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e}();function WH(t,e,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,d=l*c,u=/\r\n|\r|\n/g,h="",A=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof t=="string"?t.split(u):t,A=h.length||1),r+=l*(2-i),n.valign==="middle"?r-=A/2*d:n.valign==="bottom"&&(r-=A*d),n.halign==="center"||n.halign==="right"){var m=l;if(n.halign==="center"&&(m*=.5),h&&A>=1){for(var x=0;x<h.length;x++)a.text(h[x],e-a.getStringUnitWidth(h[x])*m,r),r+=d;return a}e-=a.getStringUnitWidth(t)*m}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var qO={},pm=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:qO=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=t.unifyColor(e.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return qO||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),oS=function(t,e){return oS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},oS(t,e)};function GH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");oS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var XH=function(t){GH(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function fAe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function pAe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Ow(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function YH(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var o=JH(a,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function JH(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function M2(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function ZH(t,e){var r=M2(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function gAe(t,e,r,n,a){var i={},o=1.3333333333333333,l=Y_(e,function(b){return a.getComputedStyle(b).backgroundColor});l!=null&&(i.fillColor=l);var c=Y_(e,function(b){return a.getComputedStyle(b).color});c!=null&&(i.textColor=c);var d=yAe(n,r);d&&(i.cellPadding=d);var u="borderTopColor",h=o*r,A=n.borderTopWidth;if(n.borderBottomWidth===A&&n.borderRightWidth===A&&n.borderLeftWidth===A){var m=(parseFloat(A)||0)/h;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var x=Y_(e,function(b){return a.getComputedStyle(b)[u]});x!=null&&(i.lineColor=x);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var p=parseInt(n.fontSize||"");isNaN(p)||(i.fontSize=p/o);var f=xAe(n);f&&(i.fontStyle=f);var y=(n.fontFamily||"").toLowerCase();return t.indexOf(y)!==-1&&(i.font=y),i}function xAe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Y_(t,e){var r=eq(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function eq(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:eq(t.parentElement,e):r}function yAe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=M2(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function tq(t,e,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],h=[],A=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:h,foot:A};for(var m=0;m<l.rows.length;m++){var x=l.rows[m],g=(o=(i=x==null?void 0:x.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),p=bAe(c,d,r,x,n,a);p&&(g==="thead"?u.push(p):g==="tfoot"?A.push(p):h.push(p))}return{head:u,body:h,foot:A}}function bAe(t,e,r,n,a,i){for(var o=new XH(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;i&&(u=gAe(t,c,e,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:vAe(c)})}}var h=r.getComputedStyle(n);if(o.length>0&&(a||h.display!=="none"))return o}function vAe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function wAe(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Fl(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function rq(t,e){var r=new pm(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();wAe(a,n,e);var i=Fl({},a,n,e),o;typeof window<"u"&&(o=window);var l=jAe(a,n,e),c=NAe(a,n,e),d=_Ae(r,i),u=SAe(r,i,o);return{id:e.tableId,content:u,hooks:c,styles:l,settings:d}}function jAe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=t[c],u=e[c],h=r[c];n.columnStyles=Fl({},d,u,h)}else{var A=[t,e,r],m=A.map(function(x){return x[c]||{}});n[c]=Fl({},m[0],m[1],m[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];a(l)}return n}function NAe(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function _Ae(t,e){var r,n,a,i,o,l,c,d,u,h,A,m,x=M2(e.margin,40/t.scaleFactor()),g=(r=CAe(t,e.startY))!==null&&r!==void 0?r:x.top,p;e.showFoot===!0?p="everyPage":e.showFoot===!1?p="never":p=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var f;e.showHead===!0?f="everyPage":e.showHead===!1?f="never":f=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var y=(i=e.useCss)!==null&&i!==void 0?i:!1,b=e.theme||(y?"plain":"striped"),N=!!e.horizontalPageBreak,v=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:y,theme:b,startY:g,margin:x,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:f,showFoot:p,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(A=e.tableLineColor)!==null&&A!==void 0?A:200,horizontalPageBreak:N,horizontalPageBreakRepeat:v,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function CAe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function SAe(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=tq(t,e.html,r,o,e.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||BAe(n,a,i);return{columns:c,head:n,body:a,foot:i}}function BAe(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(n)?d=a.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var lS=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),EAe=function(t){GH(e,t);function e(r,n,a,i,o,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return e}(lS),kAe=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new EAe(e,this,n,a,i,o),h=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new lS(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new lS(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),nq=function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof XH&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>a?d:a},0)},t}(),sq=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=M2(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),PAe=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function FAe(t,e){TAe(t,e);var r=[],n=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=cS(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=cS(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),IAe(e),DAe(e,t),OAe(e)}function TAe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=ZH(t,e);e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=e.hooks.didParseCell;e.callCellHooks(t,u,d,i,c,null);var h=d.padding("horizontal");d.contentWidth=Ow(d.text,d.styles,t)+h;var A=Ow(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=A+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/r;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function cS(t,e,r){for(var n=e,a=t.reduce(function(m,x){return m+x.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/a,c=n*l,d=o.width+c,u=r(o),h=d<u?u:d;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var A=t.filter(function(m){return e<0?m.width>r(m):!0});A.length&&(e=cS(A,e,r))}return e}function OAe(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var h=n.length-a,A=u.rowSpan>h?h:u.rowSpan;e[c.index]={cell:u,left:A,row:i}}}}}function IAe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+i}else{var d=n.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){a=d,i+=c.width;continue}d.width=c.width+i}}}function DAe(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){e.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,u+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=zO(d.text,u,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=zO(d.text,u,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,u);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var A=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<A*d.rowSpan?r={height:A,count:d.rowSpan}:r&&r.count>0&&r.height>A&&(A=r.height),A>i.height&&(i.height=A)}}r.count--}}function zO(t,e,r,n,a){return t.map(function(i){return MAe(i,e,r,n,a)})}function MAe(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Ow(t,r,n))return t;for(;e<Ow(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function aq(t,e){var r=new pm(t),n=LAe(e,r.scaleFactor()),a=new kAe(e,n);return FAe(r,a),r.applyStyles(r.userStyles),a}function LAe(t,e){var r=t.content,n=RAe(r.columns);if(r.head.length===0){var a=VO(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=VO(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,o=t.styles;return{columns:n,head:J_("head",r.head,n,o,i,e),body:J_("body",r.body,n,o,i,e),foot:J_("foot",r.foot,n,o,i,e)}}function J_(t,e,r,n,a,i){var o={},l=e.map(function(c,d){for(var u=0,h={},A=0,m=0,x=0,g=r;x<g.length;x++){var p=g[x];if(o[p.index]==null||o[p.index].left===0)if(m===0){var f=void 0;Array.isArray(c)?f=c[p.index-A-u]:f=c[p.dataKey];var y={};typeof f=="object"&&!Array.isArray(f)&&(y=(f==null?void 0:f.styles)||{});var b=QAe(t,p,d,a,n,i,y),N=new sq(f,b,t);h[p.dataKey]=N,h[p.index]=N,m=N.colSpan-1,o[p.index]={left:N.rowSpan-1,times:m}}else m--,A++;else o[p.index].left--,m=o[p.index].times,u++}return new nq(c,d,t,h)});return l}function VO(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=UAe(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function UAe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function RAe(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new PAe(a,e,r)})}function QAe(t,e,r,n,a,i,o){var l=pAe(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var d=Fl({},l.table,l[t],a.styles,c),u=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},h=t==="body"?u:{},A=t==="body"&&r%2===0?Fl({},l.alternateRow,a.alternateRowStyles):{},m=fAe(i),x=Fl({},m,d,A,h);return Fl(x,o)}function $Ae(t,e,r){var n;r===void 0&&(r={});var a=ZH(t,e),i=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(A){var m=e.columns.find(function(x){return x.dataKey===A||x.index===A});m&&!i.has(m.index)&&(i.set(m.index,!0),o.push(m.index),l.push(e.columns[m.index]),a-=m.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(i.has(u)){u++;continue}var h=e.columns[u].wrappedWidth;if(d||a>=h)d=!1,o.push(u),l.push(e.columns[u]),a-=h;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function HAe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=$Ae(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function iq(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(A,m){return A+m.height},0);l+=d}var u=new pm(t);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(lq(u),i.y=a.top),e.callWillDrawPageHooks(u,i);var h=Fl({},i);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?qAe(u,e,h,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(A){return Xl(u,e,A,i,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(A,m){var x=m===e.body.length-1;Iw(u,e,A,x,h,i,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(A){return Xl(u,e,A,i,e.columns)})),YH(u,e,h,i),e.callEndPageHooks(u,i),e.finalY=i.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function qAe(t,e,r,n){var a=HAe(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?Bg(t,e,r,n,d.columns,!0):KO(t,e,n,d.columns),zAe(t,e,r,n,d.columns),Z_(t,e,n,d.columns)});else for(var o=-1,l=a[0],c=function(){var d=o;if(l){t.applyStyles(t.userStyles);var u=l.columns;o>=0?Bg(t,e,r,n,u,!0):KO(t,e,n,u),d=WO(t,e,o+1,n,u),Z_(t,e,n,u)}var h=d-o;a.slice(1).forEach(function(A){t.applyStyles(t.userStyles),Bg(t,e,r,n,A.columns,!0),WO(t,e,o+1,n,A.columns,h),Z_(t,e,n,A.columns)}),o=d};o<e.body.length-1;)c()}function KO(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Xl(t,e,i,r,n)})}function zAe(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var l=o===e.body.length-1;Iw(t,e,i,l,r,n,a)})}function WO(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,d){var u=r+d===e.body.length-1,h=oq(t,e,u,n);c.canEntireRowFit(h,a)&&(Xl(t,e,c,n,a),l=r+d)}),l}function Z_(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Xl(t,e,i,r,n)})}function VAe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function KAe(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new sq(d.raw,d.styles,d.section);u=Fl(u,d),u.text=[];var h=VAe(d,e,n);d.text.length>h&&(u.text=d.text.splice(h,d.text.length));var A=n.scaleFactor(),m=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(A,m),d.contentHeight>=e&&(d.contentHeight=e,u.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(A,m),u.contentHeight>i&&(i=u.contentHeight),a[c.index]=u}}var x=new nq(t.raw,-1,t.section,a,!0);x.height=i;for(var g=0,p=r.columns;g<p.length;g++){var c=p[g],u=x.cells[c.index];u&&(u.height=x.height);var d=t.cells[c.index];d&&(d.height=t.height)}return x}function WAe(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=a-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=e.hasRowSpan(n.columns),h=e.getMaxCellHeight(n.columns)>l;return h?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Iw(t,e,r,n,a,i,o){var l=oq(t,e,n,i);if(r.canEntireRowFit(l,o))Xl(t,e,r,i,o);else if(WAe(t,r,l,e)){var c=KAe(r,l,e,t);Xl(t,e,r,i,o),Bg(t,e,a,i,o),Iw(t,e,c,n,a,i,o)}else Bg(t,e,a,i,o),Iw(t,e,r,n,a,i,o)}function Xl(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}GAe(t,c,n);var u=c.getTextPos();WH(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function GAe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=JH(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),XAe(t,e,r,n.lineWidth))}function XAe(t,e,r,n){var a,i,o,l;n.top&&(a=r.x,i=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,o,l)),n.bottom&&(a=r.x,i=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,o,l)),n.left&&(a=r.x,i=r.y,o=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,o,l)),n.right&&(a=r.x+e.width,i=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,o,l));function c(d,u,h,A,m){t.getDocument().setLineWidth(d),t.getDocument().line(u,h,A,m,"S")}}function oq(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Bg(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Xl(t,e,l,n,a)}),e.callEndPageHooks(t,n);var o=e.settings.margin;YH(t,e,r,n),lq(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Xl(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function lq(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function YAe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=rq(this,n),i=aq(this,a);return iq(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){WH(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return pm.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){pm.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new pm(this),i=tq(a,e,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var e5;function cq(t,e){var r=rq(t,e),n=aq(t,r);iq(t,n)}try{if(typeof window<"u"&&window){var GO=window,XO=GO.jsPDF||((e5=GO.jspdf)===null||e5===void 0?void 0:e5.jsPDF);XO&&YAe(XO)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Vn={name:"Giartech Solues",cnpj:"37.509.897/0001-93",address:"Rua Quito, 14",neighborhood:"Nossa Sra do ",city:"So Paulo",state:"SP",zip:"02734-010",phone:"(11) 5555-2560",email:"diretor@giartechsolucoes.com.br",website:"giartechsolucoes.com.br",instagram:"@giartech.solues",pix:"37209897000193",owner:"Tiago Bruno Giaquinto",whatsapp:"(35) 1511-9666",bank_name:"CORA",bank_agency:"0001",bank_account:"1412009-3",account_type:"Corrente"},L2=async()=>{try{const{data:t}=await ae.from("company_settings").select("*").limit(1).maybeSingle();if(t){const e=[t.address_street,t.address_number].filter(Boolean).join(", "),r=[t.address_street,t.address_number,t.address_neighborhood,t.address_city,t.address_state,t.address_zip&&`CEP: ${t.address_zip}`].filter(Boolean).join(", ");return{name:t.company_name||Vn.name,cnpj:t.cnpj||Vn.cnpj,address:e||Vn.address,neighborhood:t.address_neighborhood||Vn.neighborhood,city:t.address_city||Vn.city,state:t.address_state||Vn.state,zip:t.address_zip||Vn.zip,phone:t.phone||Vn.phone,email:t.email||Vn.email,website:t.website||Vn.website,instagram:t.instagram||Vn.instagram,pix:t.pix_key||Vn.pix,fullAddress:r,owner:t.owner_name||Vn.owner,whatsapp:t.whatsapp||Vn.whatsapp,bank_name:t.bank_name||Vn.bank_name,bank_agency:t.bank_agency||Vn.bank_agency,bank_account:t.bank_account||Vn.bank_account,account_type:t.account_type||Vn.account_type}}return Vn}catch(t){return console.error("Error loading company info:",t),Vn}};function JAe(t,e){const r=e||t.service_catalog||{};return{service_catalog_id:t.service_catalog_id||r.id,service_name:t.service_name||r.name||t.descricao||t.description||"Servio",description:t.descricao||t.description||r.description||"",service_description:t.service_description||r.description||"",scope:t.escopo_detalhado||t.escopo||t.scope||r.escopo_servico||"",service_scope:t.escopo_detalhado||t.escopo||r.escopo_servico||"",escopo_detalhado:t.escopo_detalhado||r.escopo_servico||"",technical_requirements:t.requisitos_tecnicos||r.requisitos_tecnicos||"",safety_warnings:t.avisos_seguranca||r.avisos_seguranca||"",execution_steps:t.passos_execucao||r.passos_execucao||"",expected_results:t.resultados_esperados||r.resultados_esperados||"",quality_standards:t.padroes_qualidade||r.padroes_qualidade||"",warranty_info:t.informacoes_garantia||r.informacoes_garantia||"",observations:t.observacoes_tecnicas||t.observacoes||r.observacoes_tecnicas||"",unit:t.unit||t.unidade||r.unit||"un.",unit_price:parseFloat(t.unit_price||t.preco_unitario||r.base_price||0),quantity:parseFloat(t.quantity||t.quantidade||1),total_price:parseFloat(t.total_price||t.preco_total||t.quantity*t.unit_price||0),estimated_duration:t.tempo_estimado_minutos||r.tempo_estimado_minutos||0,tempo_estimado_minutos:t.tempo_estimado_minutos||r.tempo_estimado_minutos||0,materials:t.materiais||t.materials||[],team:t.funcionarios||t.team||[]}}function dS(t){return!t||!Array.isArray(t)?[]:t.map(e=>JAe(e,e.service_catalog))}function ZAe(t){let e=t.service_name||"Servio";const r=t.service_description||t.description;r&&r!==e&&(e+=`
${r}`);const n=t.service_scope||t.scope||t.escopo_detalhado;n&&(e+=`

ESCOPO DO SERVIO:
${n}`),t.technical_requirements&&(e+=`

REQUISITOS TCNICOS:
${t.technical_requirements}`),t.safety_warnings&&(e+=`

 AVISOS DE SEGURANA:
${t.safety_warnings}`),t.execution_steps&&(e+=`

PASSOS DE EXECUO:
${t.execution_steps}`),t.expected_results&&(e+=`

RESULTADOS ESPERADOS:
${t.expected_results}`),t.quality_standards&&(e+=`

PADRES DE QUALIDADE:
${t.quality_standards}`),t.warranty_info&&(e+=`

 GARANTIA:
${t.warranty_info}`),t.observations&&(e+=`

OBSERVAES:
${t.observations}`);const a=t.estimated_duration||t.tempo_estimado_minutos;if(a&&a>0){const i=Math.floor(a/60),o=a%60;i>0&&o>0?e+=`

 Tempo estimado: ${i}h ${o}min`:i>0?e+=`

 Tempo estimado: ${i} hora${i>1?"s":""}`:e+=`

 Tempo estimado: ${o} minutos`}return t.materials&&t.materials.length>0&&(e+=`

 MATERIAIS UTILIZADOS:`,t.materials.forEach(i=>{const o=i.nome||i.material_name||i.name||"Material",l=i.quantidade||i.quantity||1,c=i.unidade_medida||i.unit||"un",d=i.preco_venda||i.unit_price||i.preco_venda_unitario||0;e+=`
   ${o} - ${l} ${c} - R$ ${d.toFixed(2)}`})),t.team&&t.team.length>0&&(e+=`

 EQUIPE RESPONSVEL:`,t.team.forEach(i=>{const o=i.nome||i.employee_name||i.name||"Funcionrio",l=i.cargo||i.role||i.position||"";l?e+=`
   ${o} (${l})`:e+=`
   ${o}`})),e}const Eg=async t=>{const e=await L2(),r=new kt,n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=20;let o=15;const l=[15,86,125],c=[230,240,250],d=[51,51,51],u=[102,102,102],h=()=>new Promise(v=>{const C=new Image;C.crossOrigin="anonymous",C.onload=()=>{const P=document.createElement("canvas");P.width=C.width,P.height=C.height;const _=P.getContext("2d");_?(_.drawImage(C,0,0),v(P.toDataURL("image/jpeg",.9))):v("")},C.onerror=()=>{const P=new Image;P.crossOrigin="anonymous",P.onload=()=>{const _=document.createElement("canvas");_.width=P.width,_.height=P.height;const k=_.getContext("2d");k?(k.drawImage(P,0,0),v(_.toDataURL("image/jpeg",.9))):v("")},P.onerror=()=>v(""),P.src="/image.png"},C.src="/8.jpg"}),A=async v=>{const C=await h();if(C)try{r.addImage(C,"JPEG",i,o,40,40)}catch(M){console.error("Erro ao adicionar logo:",M)}r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(...l),r.text(e.name,i+45,o+5),r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);let P=o+11;r.text(e.owner||"TIAGO BRUNO GIAQUINTO",i+45,P),P+=4,r.text(`CNPJ: ${e.cnpj}`,i+45,P),P+=4,r.text(e.address,i+45,P),P+=4,r.text(`${e.city}-${e.state}`,i+45,P),P+=4,r.text(`CEP ${e.zip||"02734-010"}`,i+45,P);const _=n-i;r.setFontSize(9),r.setTextColor(...d),r.text("",_-35,o+5),r.text(new Date(t.date).toLocaleDateString("pt-BR"),_-5,o+5,{align:"right"});let k=o+11;r.text("",_-60,k),r.text(e.email,_-5,k,{align:"right"}),k+=4,r.text("",_-60,k),r.text(e.phone,_-5,k,{align:"right"}),k+=4,e.instagram&&(r.text("",_-60,k),r.text(e.instagram,_-5,k,{align:"right"}))},m=(v,C)=>{const P=a-25;r.setDrawColor(200,200,200),r.setLineWidth(.5),r.line(i,P,n-i,P),r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...u);let _=P+5;r.text(e.owner||"TIAGO BRUNO GIAQUINTO",i,_),r.text("",n-80,_),r.text(e.email,n-i,_,{align:"right"}),_+=4,r.text(`CNPJ: ${e.cnpj}`,i,_),r.text("",n-80,_),r.text(e.phone,n-i,_,{align:"right"}),_+=4,r.text(e.address,i,_),e.instagram&&(r.text("",n-80,_),r.text(e.instagram,n-i,_,{align:"right"})),_+=4,r.text(`${e.city}-${e.state}`,i,_),r.text("",n-80,_),r.text(e.website||"tgarconnection.com.br",n-i,_,{align:"right"}),_+=4,r.text(`CEP ${e.zip||"02734-010"}`,i,_),_+=8,r.setFont("helvetica","normal"),r.setFontSize(8),r.text(`@${e.instagram||"tg.arconnection"}     ${e.website||"tgarconnection.com.br"}`,i,_),r.setFont("helvetica","normal"),r.setFontSize(9),r.text(`Pgina ${v}/${C}`,n-i,a-10,{align:"right"})};if(await A(),o=60,r.setFont("helvetica","italic"),r.setFontSize(9),r.setTextColor(...u),r.text("Sua satisfao  o que motiva a nossa dedicao.",n/2,o,{align:"center"}),o+=10,r.setFillColor(...l),r.rect(i,o,n-2*i,15,"F"),r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(255,255,255),r.text(`Ordem de servio ${t.order_number}`,i+5,o+7),t.title&&(r.setFont("helvetica","normal"),r.setFontSize(11),r.text(t.title,i+5,o+12)),o+=20,r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...d),r.text(`Cliente: ${t.client.name}`,i,o),o+=6,r.setFont("helvetica","normal"),r.setFontSize(9),t.client.company_name&&(r.text(t.client.company_name,i,o),o+=4),t.client.cnpj?(r.text(`CNPJ: ${t.client.cnpj}`,i,o),o+=4):t.client.cpf&&(r.text(`CPF: ${t.client.cpf}`,i,o),o+=4),t.client.address&&(r.text(t.client.address,i,o),o+=4,t.client.city&&(r.text(`${t.client.city}, ${t.client.state}-${t.client.state}`,i,o),o+=4),t.client.cep&&(r.text(`CEP ${t.client.cep}`,i,o),o+=4)),t.client.email&&(r.text(` ${t.client.email}`,i,o),o+=4),t.client.phone&&(r.text(` ${t.client.phone}`,i,o),o+=4),o+=6,t.basic_info){r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes bsicas",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const v=(n-2*i)/2;r.setFont("helvetica","bold"),r.text("Prazo de execuo",i,o),r.text("Marca",i+v,o),o+=4,r.setFont("helvetica","normal"),r.text(t.basic_info.deadline,i,o),t.basic_info.brand&&r.text(t.basic_info.brand,i+v,o),o+=6,r.setFont("helvetica","bold"),r.text("Modelo",i,o),r.text("Aparelho",i+v,o),o+=4,r.setFont("helvetica","normal"),t.basic_info.model&&r.text(t.basic_info.model,i,o),t.basic_info.equipment&&r.text(t.basic_info.equipment,i+v,o),o+=8}r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Servios",i+3,o+5.5),o+=12;const x=[];t.items.forEach(v=>{const C=ZAe(v);x.push([C,v.unit,`R$ ${v.unit_price.toFixed(2)}`,v.quantity.toString(),`R$ ${v.total_price.toFixed(2)}`])}),cq(r,{startY:o,head:[["Descrio do Servio","Unidade","Preo Unit.","Qtd.","Total"]],body:x,theme:"plain",styles:{fontSize:9,cellPadding:{top:4,right:3,bottom:4,left:3},textColor:d,lineColor:[255,255,255],lineWidth:0},headStyles:{fillColor:c,textColor:l,fontStyle:"bold",halign:"left",lineWidth:0},columnStyles:{0:{cellWidth:85},1:{cellWidth:20,halign:"center"},2:{cellWidth:30,halign:"right"},3:{cellWidth:15,halign:"center"},4:{cellWidth:30,halign:"right"}},margin:{left:i,right:i},alternateRowStyles:{fillColor:[250,250,250]},didParseCell:function(v){v.row.index===x.length&&v.section==="body"&&(v.cell.styles.fontStyle="bold")}}),o=r.autoTable.previous.finalY+5,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const g=n-i-70;r.text("Servios",g,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,n-i,o,{align:"right"}),o+=6,r.setFont("helvetica","bold"),r.setTextColor(...l),r.text("Subtotal",g,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,n-i,o,{align:"right"}),o+=6,t.discount>0&&(r.setFont("helvetica","normal"),r.setTextColor(...d),r.text("Desconto sobre servios",g,o,{align:"right"}),r.text(`- R$ ${t.discount.toFixed(2)}`,n-i,o,{align:"right"}),o+=6),r.setFillColor(...l),r.rect(g-5,o-5,n-g+5-i,10,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(255,255,255),r.text("Total",g,o+2,{align:"right"}),r.text(`R$ ${t.total.toFixed(2)}`,n-i-3,o+2,{align:"right"}),o+=15,r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Pagamento",i+3,o+5.5),o+=12,r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Meios de pagamento",i,o);const p=(n-2*i)/2;r.text("PIX",i+p,o),o+=4,r.setFont("helvetica","normal");const f=r.splitTextToSize(t.payment.methods,p-10);if(r.text(f,i,o),r.text(t.payment.pix||e.cnpj,i+p,o),m(1,3),r.addPage(),o=15,await A(),o=60,t.payment.bank_details){r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Dados bancrios",i,o);const v=(n-2*i)/2;r.text("Condies de pagamento",i+v,o),o+=4,r.setFont("helvetica","normal");const C=t.payment.bank_details;r.text(`Banco: ${C.bank}`,i,o),o+=4,r.text(`Agncia: ${C.agency}`,i,o),o+=4,r.text(`Conta: ${C.account}`,i,o),o+=4,r.text(`Tipo de conta: ${C.account_type}`,i,o),o+=4,r.text(`Titular da conta (CPF/CNPJ): ${C.holder}`,i,o),o-=20;const P=r.splitTextToSize(t.payment.conditions,v-10);r.text(P,i+v,o),o+=Math.max(20,P.length*4)+8}if(t.warranty){r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Garantia",i+3,o+5.5),o+=12,t.warranty.period&&(r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Perodo de garantia",i,o),o+=4,r.setFont("helvetica","normal"),r.text(t.warranty.period,i,o),o+=8),r.setFont("helvetica","bold"),r.text("Condies da garantia",i,o),o+=4,r.setFont("helvetica","normal");const v=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",C=r.splitTextToSize(v,n-2*i-6);r.text(C,i,o),o+=C.length*4+8}if(t.contract_clauses&&t.contract_clauses.length>0&&(r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Clusulas contratuais",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),t.contract_clauses.forEach(v=>{o>a-60&&(m(2,3),r.addPage(),o=15),r.setFont("helvetica","bold"),r.text(v.title,i,o),o+=5,r.setFont("helvetica","normal"),v.items.forEach(C=>{const P=r.splitTextToSize(C,n-2*i-6);r.text(P,i,o),o+=P.length*4}),o+=4})),t.additional_info){r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes adicionais",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const v=r.splitTextToSize(t.additional_info,n-2*i-6);r.text(v,i,o),o+=v.length*4+8}r.setFont("helvetica","italic"),r.setFontSize(9),r.setTextColor(...u),r.text("obrigado pela confiana, estaremos  disposio.",n/2,o,{align:"center"}),o+=8,r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...d),r.text(`${t.client.city||e.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,n/2,o,{align:"center"}),m(2,3),r.addPage(),o=15,await A(),o=a/2-40;const y=(n-2*i-20)/2,b=i,N=n/2+10;r.setDrawColor(...d),r.setLineWidth(.5),r.line(b,o,b+y,o),r.line(N,o,N+y,o),o+=6,r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...d),r.text(e.name,b+y/2,o,{align:"center"}),r.text(t.client.name,N+y/2,o,{align:"center"}),o+=5,r.setFont("helvetica","normal"),r.setFontSize(9),r.text(e.owner||"Tiago Bruno Giaquinto",b+y/2,o,{align:"center"}),t.client.cnpj?r.text(`CNPJ ${t.client.cnpj}`,N+y/2,o,{align:"center"}):t.client.cpf&&r.text(`CPF ${t.client.cpf}`,N+y/2,o,{align:"center"}),o+=5,r.setFont("helvetica","italic"),r.setFontSize(8),r.setTextColor(...u),r.text("diretor tcnico",b+y/2,o,{align:"center"}),m(3,3),r.save(`Ordem_de_servico_${t.order_number}_${new Date().toISOString().split("T")[0]}.pdf`)},eme=({key:t,data:e,enabled:r=!0,interval:n=3e4,onSave:a})=>{const[i,o]=B.useState(!1),[l,c]=B.useState(null),[d,u]=B.useState(null),h=B.useRef(),A=B.useRef(e);B.useEffect(()=>{A.current=e},[e]);const m=B.useCallback(async()=>{if(!(!r||!A.current))try{o(!0),u(null);const{data:p}=await ae.from("service_order_drafts").select("id").eq("draft_name",t).maybeSingle();if(p){const{error:f}=await ae.from("service_order_drafts").update({draft_data:A.current,last_saved_at:new Date().toISOString()}).eq("id",p.id);if(f)throw f}else{const{error:f}=await ae.from("service_order_drafts").insert({draft_name:t,draft_data:A.current,user_id:null});if(f)throw f}c(new Date),a==null||a(!0)}catch(p){console.error("Erro ao salvar rascunho:",p),u(p.message),a==null||a(!1)}finally{o(!1)}},[r,t,a]);B.useEffect(()=>{if(r)return h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{m()},n),()=>{h.current&&clearTimeout(h.current)}},[e,r,n,m]);const x=B.useCallback(async()=>{await m()},[m]),g=B.useCallback(async()=>{try{const{error:p}=await ae.from("service_order_drafts").delete().eq("draft_name",t);if(p)throw p;c(null)}catch(p){console.error("Erro ao limpar rascunho:",p),u(p.message)}},[t]);return{isSaving:i,lastSaved:l,error:d,manualSave:x,clearDraft:g}},tme=({services:t,recentServices:e=[],favoriteServices:r=[],onSelect:n,placeholder:a="Buscar servio..."})=>{const[i,o]=B.useState(""),[l,c]=B.useState(!1),[d,u]=B.useState(0),[h,A]=B.useState([]),m=B.useRef(null),x=B.useRef(null);B.useEffect(()=>{if(i.trim()){const b=i.toLowerCase(),N=t.filter(v=>{var C,P;return v.name.toLowerCase().includes(b)||((C=v.description)==null?void 0:C.toLowerCase().includes(b))||((P=v.category)==null?void 0:P.toLowerCase().includes(b))});A(N.slice(0,10))}else{const b=t.filter(C=>r.includes(C.id)),N=t.filter(C=>e.includes(C.id)),v=[...b,...N.filter(C=>!r.includes(C.id))];A(v.slice(0,8))}u(0)},[i,t,e,r]),B.useEffect(()=>{const b=N=>{x.current&&!x.current.contains(N.target)&&m.current&&!m.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=b=>{var N;if(!l){(b.key==="Enter"||b.key==="ArrowDown")&&(c(!0),b.preventDefault());return}switch(b.key){case"ArrowDown":b.preventDefault(),u(v=>(v+1)%h.length);break;case"ArrowUp":b.preventDefault(),u(v=>(v-1+h.length)%h.length);break;case"Enter":b.preventDefault(),h[d]&&p(h[d]);break;case"Escape":c(!1),(N=m.current)==null||N.blur();break}},p=b=>{var N;n(b),o(""),c(!1),(N=m.current)==null||N.blur()},f=b=>b?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b):"Sob consulta",y=b=>{if(!b)return"";if(b<60)return`${b}min`;const N=Math.floor(b/60),v=b%60;return v>0?`${N}h${v}min`:`${N}h`};return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{ref:m,type:"text",value:i,onChange:b=>o(b.target.value),onFocus:()=>c(!0),onKeyDown:g,placeholder:a,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoComplete:"off"}),i&&s.jsx("button",{onClick:()=>{var b;o(""),(b=m.current)==null||b.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"w-5 h-5"})})]}),s.jsx(lt,{children:l&&h.length>0&&s.jsxs(se.div,{ref:x,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-96 overflow-y-auto",children:[!i&&s.jsxs("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider bg-gray-50 border-b",children:[r.length>0&&"Favoritos e Recentes",r.length===0&&e.length>0&&"Usados Recentemente",r.length===0&&e.length===0&&"Todos os Servios"]}),h.map((b,N)=>{const v=r.includes(b.id),C=e.includes(b.id),P=N===d;return s.jsx(se.button,{onClick:()=>p(b),className:`w-full px-4 py-3 text-left transition-colors border-b last:border-b-0 ${P?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:N*.02},children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v&&s.jsx(Ms,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"font-medium text-gray-900 truncate",children:b.name})]}),b.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:b.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[b.category&&s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:b.category}),b.estimated_time&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"w-3 h-3"}),y(b.estimated_time)]}),b.materials_count&&b.materials_count>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bt,{className:"w-3 h-3"}),b.materials_count," materiais"]}),C&&!v&&s.jsx("span",{className:"text-blue-600",children:"Usado recentemente"})]})]}),b.base_price&&s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-semibold text-gray-900",children:f(b.base_price)})})]})},b.id)}),i&&h.length===0&&s.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[s.jsx(ur,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"Nenhum servio encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Tente buscar por outro termo"})]})]})})]})},rme=({isOpen:t,onClose:e,onSelect:r})=>{const[n,a]=B.useState([]),[i,o]=B.useState(!0),[l,c]=B.useState(""),[d,u]=B.useState("all");B.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{o(!0);const{data:g,error:p}=await ae.from("service_order_templates").select("*").order("usage_count",{ascending:!1});if(p)throw p;a(g||[])}catch(g){console.error("Erro ao carregar templates:",g)}finally{o(!1)}},A=async g=>{try{await ae.rpc("increment_template_usage",{template_id:g.id}),r(g.template_data),e()}catch(p){console.error("Erro ao usar template:",p),r(g.template_data),e()}},m=[...new Set(n.map(g=>g.category))],x=n.filter(g=>{var y;const p=l===""||g.name.toLowerCase().includes(l.toLowerCase())||((y=g.description)==null?void 0:y.toLowerCase().includes(l.toLowerCase())),f=d==="all"||g.category===d;return p&&f});return t?s.jsx(lt,{children:s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:s.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Templates de OS"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Escolha um template para comear rapidamente"})]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(At,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 border-b bg-gray-50",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"Buscar template...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Todos"}),m.map(g=>s.jsx("button",{onClick:()=>u(g),className:`px-4 py-2 rounded-lg font-medium transition-colors capitalize ${d===g?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:g.replace("-"," ")},g))]})]})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(at,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum template encontrado"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Tente buscar com outros termos ou categorias"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map((g,p)=>s.jsxs(se.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.05},onClick:()=>A(g),className:"bg-white border-2 border-gray-200 hover:border-blue-500 rounded-lg p-4 text-left transition-all hover:shadow-lg group",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:s.jsx(at,{className:"w-5 h-5 text-blue-600 group-hover:text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:g.name}),s.jsx("span",{className:"text-xs text-gray-500 capitalize",children:g.category.replace("-"," ")})]})]})}),g.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:g.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wl,{className:"w-3 h-3"}),g.usage_count," usos"]}),g.is_public&&s.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded",children:"Pblico"})]}),s.jsx(Ms,{className:"w-4 h-4 text-yellow-500"})]}),g.template_data.serviceItems&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:s.jsxs("span",{className:"text-xs text-gray-600",children:[g.template_data.serviceItems.length," servios inclusos"]})})]},g.id))})}),s.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"})})]})})}):null},nme=({subtotal:t,discount:e,total:r,costMaterials:n,costLabor:a,totalCost:i,profit:o,margin:l,className:c=""})=>{const d=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),u=x=>x>=30?"text-green-600":x>=15?"text-yellow-600":"text-red-600",h=x=>x>=30?"bg-green-50 border-green-200":x>=15?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200",A=x=>x>=30?s.jsx(ca,{className:"w-5 h-5"}):x>=15?s.jsx(Qi,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"}),m=x=>x>=30?"Margem excelente!":x>=15?"Margem adequada":"Margem baixa - Ateno!";return s.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:`bg-white border border-gray-200 rounded-lg p-6 shadow-lg ${c}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b",children:[s.jsx(Yt,{className:"w-6 h-6 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anlise Financeira"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsx("span",{className:"font-medium text-gray-900",children:d(t)})]}),e>0&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Desconto"}),s.jsxs("span",{className:"font-medium text-red-600",children:["- ",d(e)]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:d(r)})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Custos"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Materiais"}),s.jsx("span",{className:"font-medium text-gray-900",children:d(n)})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Mo de Obra"}),s.jsx("span",{className:"font-medium text-gray-900",children:d(a)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Custo Total"}),s.jsx("span",{className:"font-semibold text-gray-900",children:d(i)})]})]})]}),s.jsxs(se.div,{initial:{scale:.95},animate:{scale:1},className:`p-4 rounded-lg border-2 ${h(l)}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:u(l),children:A(l)}),s.jsx("span",{className:"font-semibold text-gray-900",children:"Lucro"})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-xl font-bold text-gray-900",children:d(o)})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:m(l)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:`text-2xl font-bold ${u(l)}`,children:[l.toFixed(1),"%"]}),l>=15?s.jsx(pr,{className:`w-5 h-5 ${u(l)}`}):s.jsx(fo,{className:`w-5 h-5 ${u(l)}`})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-current/20",children:s.jsx("div",{className:"flex gap-2 text-xs",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:"Distribuio"}),s.jsxs("div",{className:"flex gap-1 h-2 rounded-full overflow-hidden bg-gray-200",children:[s.jsx("div",{className:"bg-blue-500",style:{width:`${r>0?n/r*100:0}%`},title:"Materiais"}),s.jsx("div",{className:"bg-purple-500",style:{width:`${r>0?a/r*100:0}%`},title:"Mo de Obra"}),s.jsx("div",{className:"bg-green-500",style:{width:`${r>0?o/r*100:0}%`},title:"Lucro"})]})]})})})]},l),l<15&&s.jsx(se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(kr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-red-800",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Margem Abaixo do Recomendado"}),s.jsx("p",{className:"text-xs",children:"Considere aumentar o valor ou reduzir custos. Margem ideal: 30% ou mais."})]})]})}),l>=30&&o>1e3&&s.jsx(se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ca,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-green-800",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Excelente Negcio!"}),s.jsx("p",{className:"text-xs",children:"Margem saudvel e lucro acima da mdia. Continue assim!"})]})]})})]})]})},YO=()=>{var qr;const t=ms(),{id:e}=fE(),[r]=a$(),n=r.get("edit")||e,a=!!n,[i,o]=B.useState(!1),[l,c]=B.useState([]),[d,u]=B.useState(null),[h,A]=B.useState([]),[m,x]=B.useState([]),[g,p]=B.useState([]),[f,y]=B.useState([]),[b,N]=B.useState([]),[v,C]=B.useState([]),[P,_]=B.useState(!1),[k,M]=B.useState(!1),[j,S]=B.useState(""),[F,O]=B.useState(""),[H,U]=B.useState(!1),[z,R]=B.useState(""),[I,K]=B.useState({customer_id:"",description:"",scheduled_at:"",prazo_execucao_dias:7,data_inicio_execucao:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,show_value:!0,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",payment_method:"dinheiro",payment_installments:1,payment_conditions:"Sinal de 50% e o valor restante aps a concluso.",warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",custo_deslocamento:0,custo_estacionamento:0,custo_pedagio:0,custo_outros:0,descricao_outros:"",company_name:"",company_cnpj:"",company_address:"",company_phone:"",company_email:"",payment_methods_text:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",payment_pix:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"Corrente",bank_holder:"",contract_clauses:"",additional_info:"Trabalhamos para que seus projetos, se tornem realidade."}),[te,Q]=B.useState([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}]),[D,X]=B.useState({subtotal:0,desconto:0,total:0,custo_total_materiais:0,custo_total_mao_obra:0,custo_total:0,lucro_total:0,margem_lucro:0}),[V,de]=B.useState({}),[le,ie]=B.useState({company:!1,bankData:!1,additionalClauses:!1}),[ce,be]=B.useState(!1),[J,ue]=B.useState(!1),[ke,Qe]=B.useState(!1),[we,q]=B.useState({nome_razao:"",telefone:"",email:"",cnpj_cpf:""}),[Ne,Be]=B.useState({name:"",description:"",base_price:0,estimated_time_minutes:60}),[Z,pe]=B.useState({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1}),De=re=>{ie(Ue=>({...Ue,[re]:!Ue[re]}))},{isSaving:je,lastSaved:Me,error:rt}=eme({key:"service-order-draft",data:{formData:I,serviceItems:te,totals:D},interval:3e4,onSave:async re=>{var Ue,Le;if(!a&&I.customer_id&&I.description){const{error:Oe}=await ae.from("service_order_drafts").upsert({user_id:(Ue=(await ae.auth.getUser()).data.user)==null?void 0:Ue.id,customer_id:I.customer_id,draft_name:`OS - ${((Le=l.find(Ye=>Ye.id===I.customer_id))==null?void 0:Le.name)||"Cliente"} - ${new Date().toLocaleString("pt-BR")}`,draft_data:re,last_saved_at:new Date().toISOString()});if(Oe)throw Oe}}});B.useEffect(()=>{ze(),a&&n&&Pe(n)},[n]),B.useEffect(()=>{Ae()},[te,I.desconto_percentual,I.desconto_valor]);const Pe=async re=>{try{o(!0);const Ue=await Pv(re);if(Ue&&(K({customer_id:Ue.client_id||"",description:Ue.description||"",scheduled_at:Ue.due_date?new Date(Ue.due_date).toISOString().slice(0,16):Ue.scheduled_at?new Date(Ue.scheduled_at).toISOString().slice(0,16):"",prazo_execucao_dias:Ue.prazo_execucao_dias||7,data_inicio_execucao:Ue.data_inicio_execucao?new Date(Ue.data_inicio_execucao).toISOString().split("T")[0]:"",desconto_percentual:Ue.desconto_percentual||Ue.discount_percentage||0,desconto_valor:Ue.desconto_valor||Ue.discount_amount||Ue.discount_value||0,show_material_costs:Ue.show_material_costs||!1,show_value:Ue.show_value!==!1,relatorio_tecnico:Ue.relatorio_tecnico||"",orientacoes_servico:Ue.orientacoes_servico||"",escopo_detalhado:Ue.escopo_detalhado||"",payment_method:Ue.payment_method||"dinheiro",payment_installments:Ue.payment_installments||1,payment_conditions:Ue.payment_conditions||"Sinal de 50% e o valor restante aps a concluso.",warranty_period:Ue.warranty_period||90,warranty_type:Ue.warranty_type||"days",warranty_terms:Ue.warranty_terms||"",bank_account_id:Ue.bank_account_id||"",contract_template_id:Ue.contract_template_id||"",contract_notes:Ue.contract_notes||"",notes:Ue.notes||"",custo_deslocamento:Ue.custo_deslocamento||0,custo_estacionamento:Ue.custo_estacionamento||0,custo_pedagio:Ue.custo_pedagio||0,custo_outros:Ue.custo_outros||0,descricao_outros:Ue.descricao_outros||"",company_name:Ue.company_name||"",company_cnpj:Ue.company_cnpj||"",company_address:Ue.company_address||"",company_phone:Ue.company_phone||"",company_email:Ue.company_email||"",payment_methods_text:Ue.payment_methods_text||"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",payment_pix:Ue.payment_pix||"",bank_name:Ue.bank_name||"",bank_agency:Ue.bank_agency||"",bank_account:Ue.bank_account||"",bank_account_type:Ue.bank_account_type||"Corrente",bank_holder:Ue.bank_holder||"",contract_clauses:Ue.contract_clauses||"",additional_info:Ue.additional_info||"Trabalhamos para que seus projetos, se tornem realidade."}),R(Ue.order_number||""),Ue.client_id&&fe(Ue.client_id),Ue.items&&Ue.items.length>0)){const Le=Ue.items.map(Oe=>{var Se;const Ye=(Oe.materiais||Oe.materials||[]).map(bt=>({id:bt.id||crypto.randomUUID(),material_id:bt.material_id||"",nome:bt.nome||bt.material_name||bt.name||"",quantidade:bt.quantidade||bt.quantity||0,unidade_medida:bt.unidade_medida||bt.material_unit||bt.unit||"un",preco_compra_unitario:bt.preco_compra_unitario||bt.unit_cost_at_time||bt.unit_price||0,preco_venda_unitario:bt.preco_venda_unitario||bt.unit_sale_price||bt.preco_unitario||0,preco_compra:bt.preco_compra||bt.total_cost||0,preco_venda:bt.preco_venda||bt.valor_total||bt.total_sale_price||bt.total_price||0,custo_total:bt.custo_total||bt.total_cost||0,valor_total:bt.valor_total||bt.total_sale_price||bt.total_price||0,lucro:bt.lucro||0})),nt=(Oe.funcionarios||Oe.labor||[]).map(bt=>({id:bt.id||crypto.randomUUID(),staff_id:bt.staff_id||bt.employee_id||"",nome:bt.nome||bt.nome_funcionario||bt.name||"",tempo_minutos:bt.tempo_minutos||bt.time_minutes||0,custo_hora:bt.custo_hora||bt.hourly_rate||0,custo_total:bt.custo_total||bt.total_cost||0}));return{id:Oe.id||crypto.randomUUID(),service_catalog_id:Oe.service_catalog_id||null,descricao:Oe.descricao||Oe.description||Oe.service_name||((Se=Oe.service_catalog)==null?void 0:Se.name)||"",escopo:Oe.escopo||Oe.escopo_detalhado||Oe.service_scope||"",escopo_detalhado:Oe.escopo_detalhado||Oe.escopo||Oe.service_scope||"",quantidade:Oe.quantidade||Oe.quantity||1,preco_unitario:Oe.preco_unitario||Oe.unit_price||0,preco_total:Oe.preco_total||Oe.total_price||0,tempo_estimado_minutos:Oe.tempo_estimado_minutos||Oe.estimated_duration||Oe.estimated_time||0,materiais:Ye,funcionarios:nt,custo_materiais:Oe.custo_materiais||Oe.cost_materials||0,custo_mao_obra:Oe.custo_mao_obra||Oe.cost_labor||0,custo_total:Oe.custo_total||Oe.total_cost||0,lucro:Oe.lucro||Oe.profit||0,margem_lucro:Oe.margem_lucro||Oe.profit_margin||0}});Q(Le)}}catch(Ue){console.error("Error loading order data:",Ue)}finally{o(!1)}},fe=async re=>{try{const[Ue,Le]=await Promise.all([ae.from("customers").select("*").eq("id",re).single(),ae.from("customer_addresses").select("*").eq("customer_id",re).eq("principal",!0).maybeSingle()]);if(Ue.data){const Oe={...Ue.data,address:Le.data};u(Oe),Le.data&&S(Ue.data.email||"")}}catch(Ue){console.error("Error loading customer details:",Ue)}},Ve=re=>{K({...I,customer_id:re}),re?fe(re):u(null)},ze=async()=>{try{const[re,Ue,Le,Oe,Ye,nt,Se]=await Promise.all([ae.from("customers").select("*").order("nome_razao"),ae.from("materials").select("*").eq("active",!0).order("name"),ae.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),ae.from("bank_accounts").select("*").eq("active",!0).order("account_name"),ae.from("contract_templates").select("*").order("name"),ae.from("service_catalog").select(`
          *,
          service_catalog_materials (
            id,
            material_id,
            quantity,
            material_name,
            material_unit,
            unit_cost_at_time,
            unit_sale_price
          )
        `).order("name"),ae.from("inventory").select("*").order("name")]);c(re.data||[]),A(Ue.data||[]),x(Le.data||[]),p(Oe.data||[]),y(Ye.data||[]),N(nt.data||[]),C(Se.data||[])}catch(re){console.error("Error loading data:",re)}},ct=()=>{Q([...te,{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}])},Ct=re=>{Q(te.filter(Ue=>Ue.id!==re))},Ze=(re,Ue)=>{Q(Le=>Le.map(Oe=>{if(Oe.id===re){const Ye={...Oe,...Ue};return Ye.preco_total=Ye.quantidade*Ye.preco_unitario,Ye.custo_materiais=Ye.materiais.reduce((nt,Se)=>nt+Se.custo_total,0),Ye.custo_mao_obra=Ye.funcionarios.reduce((nt,Se)=>nt+Se.custo_total,0),Ye.custo_total=Ye.custo_materiais+Ye.custo_mao_obra,Ye.lucro=Ye.preco_total-Ye.custo_total,Ye.margem_lucro=Ye.preco_total>0?Ye.lucro/Ye.preco_total*100:0,Ye}return Oe}))},hr=re=>{const Ue=te.find(Oe=>Oe.id===re);if(!Ue)return;const Le={id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,preco_compra:0,preco_venda:0,custo_total:0,valor_total:0,lucro:0};Ze(re,{materiais:[...Ue.materiais,Le]})},It=(re,Ue)=>{const Le=te.find(Oe=>Oe.id===re);Le&&Ze(re,{materiais:Le.materiais.filter(Oe=>Oe.id!==Ue)})},en=(re,Ue,Le)=>{const Oe=te.find(nt=>nt.id===re);if(!Oe)return;const Ye=Oe.materiais.map(nt=>{if(nt.id===Ue){const Se={...nt,...Le},bt=Se.preco_compra_unitario||0,xt=Se.preco_venda_unitario||0;return Se.custo_total=Se.quantidade*bt,Se.valor_total=Se.quantidade*xt,Se.lucro=Se.valor_total-Se.custo_total,Se}return nt});Ze(re,{materiais:Ye})},cr=(re,Ue,Le)=>{const Oe=h.find(bt=>bt.id===Le);if(!Oe)return;const Ye=Number(Oe.unit_cost)||0,nt=Number(Oe.sale_price)||0,Se=Oe.unit||"UN";en(re,Ue,{material_id:Le,nome:Oe.name,unidade_medida:Se,preco_compra_unitario:Ye,preco_venda_unitario:nt,preco_compra:Ye,preco_venda:nt})},tr=(re,Ue)=>{const Le=te.find(Oe=>Oe.id===re);Le&&Ze(re,{funcionarios:Le.funcionarios.filter(Oe=>Oe.id!==Ue)})},ns=(re,Ue,Le)=>{const Oe=te.find(nt=>nt.id===re);if(!Oe)return;const Ye=Oe.funcionarios.map(nt=>{if(nt.id===Ue){const Se={...nt,...Le};return Se.custo_total=Se.tempo_minutos/60*Se.custo_hora,Se}return nt});Ze(re,{funcionarios:Ye})},Ae=()=>{const re=te.reduce(($n,ps)=>$n+ps.preco_total,0),Ue=(I.custo_deslocamento||0)+(I.custo_estacionamento||0)+(I.custo_pedagio||0)+(I.custo_outros||0),Le=I.desconto_valor||re*(I.desconto_percentual/100),Oe=re-Ue-Le,Ye=te.reduce(($n,ps)=>$n+ps.custo_materiais,0),nt=te.reduce(($n,ps)=>$n+ps.custo_mao_obra,0),Se=Ye+nt+Ue,bt=Oe-Se,xt=Oe>0?bt/Oe*100:0;X({subtotal:re,desconto:Le,total:Oe,custo_total_materiais:Ye,custo_total_mao_obra:nt,custo_total:Se,lucro_total:bt,margem_lucro:xt})},ut=async()=>{try{if(!I.customer_id||te.length===0){alert("Selecione um cliente e adicione pelo menos um servio!");return}o(!0);const re=I.scheduled_at?new Date(new Date(I.scheduled_at).getTime()+I.warranty_period*(I.warranty_type==="days"?864e5:I.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,Ue={client_id:I.customer_id||null,customer_id:I.customer_id||null,description:I.description,scheduled_at:I.scheduled_at||null,due_date:I.scheduled_at||null,prazo_execucao_dias:I.prazo_execucao_dias,data_inicio_execucao:I.data_inicio_execucao||null,status:"aberta",total_value:D.total,subtotal_value:D.subtotal,discount_value:D.desconto,desconto_percentual:I.desconto_percentual,desconto_valor:I.desconto_valor,custo_total_materiais:D.custo_total_materiais,custo_total_mao_obra:D.custo_total_mao_obra,custo_total:D.custo_total,lucro_total:D.lucro_total,margem_lucro:D.margem_lucro,show_material_costs:I.show_material_costs,show_value:I.show_value,relatorio_tecnico:I.relatorio_tecnico,orientacoes_servico:I.orientacoes_servico,escopo_detalhado:I.escopo_detalhado,payment_method:I.payment_method,payment_installments:I.payment_installments,bank_account_id:I.bank_account_id||null,warranty_period:I.warranty_period,warranty_type:I.warranty_type,warranty_terms:I.warranty_terms,warranty_end_date:re,contract_template_id:I.contract_template_id||null,contract_notes:I.contract_notes,notes:I.notes,subtotal:D.subtotal,discount_amount:D.desconto,final_total:D.total};let Le;if(a&&n){const{data:Oe,error:Ye}=await ae.from("service_orders").update(Ue).eq("id",n).select().single();if(Ye)throw Ye;Le=Oe,await ae.from("service_order_items").delete().eq("service_order_id",n),await ae.from("service_order_materials").delete().eq("service_order_id",n),await ae.from("service_order_labor").delete().eq("service_order_id",n)}else{const{data:Oe,error:Ye}=await ae.from("service_orders").insert([Ue]).select().single();if(Ye)throw Ye;Le=Oe}if(!Le)throw new Error("Erro ao salvar ordem");for(const Oe of te){const{data:Ye,error:nt}=await ae.from("service_order_items").insert([{service_order_id:Le.id,service_catalog_id:Oe.service_catalog_id||null,descricao:Oe.descricao||Oe.nome||"",escopo_detalhado:Oe.escopo||Oe.escopo_detalhado||"",quantidade:Oe.quantidade,preco_unitario:Oe.preco_unitario,preco_total:Oe.preco_total,tempo_estimado_minutos:Oe.tempo_estimado_minutos,custo_materiais:Oe.custo_materiais,custo_mao_obra:Oe.custo_mao_obra,custo_total:Oe.custo_total,lucro:Oe.lucro,margem_lucro:Oe.margem_lucro}]).select().single();if(nt)throw nt;if(Oe.materiais.length>0){const Se=Oe.materiais.map(xt=>({service_order_id:Le.id,service_order_item_id:Ye.id,material_id:xt.material_id,nome_material:xt.nome,quantidade:xt.quantidade,preco_compra:xt.preco_compra,preco_venda:xt.preco_venda,custo_total:xt.custo_total,valor_total:xt.valor_total,lucro:xt.lucro})),{error:bt}=await ae.from("service_order_materials").insert(Se);if(bt)throw bt}if(Oe.funcionarios.length>0){const Se=Oe.funcionarios.map(xt=>({service_order_id:Le.id,service_order_item_id:Ye.id,staff_id:xt.staff_id,nome_funcionario:xt.nome,tempo_minutos:xt.tempo_minutos,custo_hora:xt.custo_hora,custo_total:xt.custo_total})),{error:bt}=await ae.from("service_order_labor").insert(Se);if(bt)throw bt}}alert(a?"Ordem de Servio atualizada com sucesso!":"Ordem de Servio criada com sucesso!"),t("/service-orders")}catch(re){console.error("Error saving:",re),alert(`Erro ao ${a?"atualizar":"salvar"} ordem de servio!`)}finally{o(!1)}},He=async()=>{var re,Ue,Le,Oe,Ye,nt;try{const Se=d||l.find(Zt=>Zt.id===I.customer_id);if(!Se){alert("Cliente no encontrado!");return}const bt=await L2(),xt=Se.address||{},$n=[xt.logradouro,xt.numero,xt.complemento,xt.bairro].filter(Boolean).join(", "),ps={order_number:z||"TEMP-"+Date.now(),created_at:new Date().toISOString(),status:"aberta",customer:{nome_razao:Se.nome_razao||Se.name||"Cliente",cnpj_cpf:Se.cnpj_cpf||Se.cnpj||Se.cpf||"",email:Se.email||"",telefone:Se.telefone||Se.phone||"",endereco:$n||Se.endereco||Se.address||"",cidade:xt.cidade||Se.cidade||Se.city||"",estado:xt.estado||Se.estado||Se.state||"",cep:xt.cep||Se.cep||Se.zip_code||""},description:I.description,scheduled_at:I.scheduled_at,items:te.map(Zt=>({descricao:Zt.descricao,quantidade:Zt.quantidade,preco_unitario:Zt.preco_unitario,preco_total:Zt.preco_total,tempo_estimado_minutos:Zt.tempo_estimado_minutos,materiais:Zt.materiais.map(vn=>({nome:vn.nome,quantidade:vn.quantidade,unidade_medida:vn.unidade_medida,preco_venda_unitario:vn.preco_venda_unitario,valor_total:vn.valor_total})),funcionarios:Zt.funcionarios.map(vn=>({nome:vn.nome,tempo_minutos:vn.tempo_minutos,custo_total:vn.custo_total}))})),payment_method:I.payment_method,payment_installments:I.payment_installments,bank_account:((re=g.find(Zt=>Zt.id===I.bank_account_id))==null?void 0:re.account_name)||"",warranty_period:I.warranty_period,warranty_type:I.warranty_type,warranty_terms:I.warranty_terms,contract_notes:I.contract_notes,subtotal:D.subtotal,desconto_percentual:I.desconto_percentual,desconto_valor:I.desconto_valor,discount_amount:D.desconto,final_total:D.total,custo_total:D.custo_total,lucro_total:D.lucro_total,margem_lucro:D.margem_lucro,notes:I.notes,prazo_execucao_dias:I.prazo_execucao_dias,data_inicio_execucao:I.data_inicio_execucao,data_fim_execucao:I.data_inicio_execucao&&I.prazo_execucao_dias?new Date(new Date(I.data_inicio_execucao).getTime()+I.prazo_execucao_dias*864e5).toISOString().split("T")[0]:null,additional_costs:{deslocamento:I.custo_deslocamento,estacionamento:I.custo_estacionamento,pedagio:I.custo_pedagio,outros:I.custo_outros,descricao_outros:I.descricao_outros}},za={order_number:z||"NOVA-OS",date:new Date().toISOString(),title:I.description||"Ordem de Servio",client:{name:Se.nome_razao||Se.name||"Cliente",company_name:Se.nome_fantasia||"",cnpj:Se.cnpj||"",cpf:Se.cpf||"",address:$n||"",city:xt.cidade||"",state:xt.estado||"",cep:xt.cep||"",email:Se.email||"",phone:Se.telefone||Se.phone||""},basic_info:{deadline:`${I.prazo_execucao_dias} dias`,brand:"",model:"",equipment:""},items:te.map(Zt=>({service_name:Zt.descricao||"Servio",description:Zt.descricao,scope:"",unit:"un.",unit_price:Zt.preco_unitario,quantity:Zt.quantidade,total_price:Zt.preco_total})),subtotal:D.subtotal,discount:D.desconto,total:D.total,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:Se.cnpj||Se.cpf||"",bank_details:g.find(Zt=>Zt.is_default)?{bank:((Ue=g.find(Zt=>Zt.is_default))==null?void 0:Ue.bank_name)||"",agency:((Le=g.find(Zt=>Zt.is_default))==null?void 0:Le.agency)||"",account:((Oe=g.find(Zt=>Zt.is_default))==null?void 0:Oe.account_number)||"",account_type:((Ye=g.find(Zt=>Zt.is_default))==null?void 0:Ye.account_type)==="checking"?"Corrente":"Poupana",holder:((nt=g.find(Zt=>Zt.is_default))==null?void 0:nt.account_holder)||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:`${I.warranty_period} ${I.warranty_type==="days"?"dias":I.warranty_type==="months"?"meses":"anos"}`,conditions:I.warranty_terms||"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:I.notes||"Trabalhamos para que seus projetos, se tornem realidade."};await Eg(za),alert("PDF gerado com sucesso!")}catch(Se){console.error("Erro ao gerar PDF:",Se),alert("Erro ao gerar PDF!")}},ht=re=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(re),gr=async()=>{var re,Ue,Le,Oe,Ye;if(!n){alert("Salve a ordem de servio antes de imprimir!");return}try{o(!0);const nt=await Pv(n);if(!nt)throw new Error("OS no encontrada");const Se=l.find(xt=>xt.id===nt.customer_id),bt={order_number:nt.order_number||"N/A",date:nt.created_at||new Date().toISOString(),title:nt.description||"Ordem de Servio",client:{name:(Se==null?void 0:Se.nome_razao)||(Se==null?void 0:Se.name)||"Cliente",company_name:(Se==null?void 0:Se.nome_fantasia)||"",cnpj:(Se==null?void 0:Se.cnpj)||"",cpf:(Se==null?void 0:Se.cpf)||"",address:(Se==null?void 0:Se.endereco)||"",city:(Se==null?void 0:Se.cidade)||"",state:(Se==null?void 0:Se.estado)||"",cep:(Se==null?void 0:Se.cep)||"",email:(Se==null?void 0:Se.email)||"",phone:(Se==null?void 0:Se.telefone)||""},basic_info:{deadline:"15 dias",brand:"",model:"",equipment:""},items:dS(nt.items||[]),subtotal:nt.subtotal||nt.total_value||0,discount:nt.discount_amount||0,total:nt.total_value||0,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:(Se==null?void 0:Se.cnpj)||(Se==null?void 0:Se.cpf)||"",bank_details:g.find(xt=>xt.is_default)?{bank:((re=g.find(xt=>xt.is_default))==null?void 0:re.bank_name)||"",agency:((Ue=g.find(xt=>xt.is_default))==null?void 0:Ue.agency)||"",account:((Le=g.find(xt=>xt.is_default))==null?void 0:Le.account_number)||"",account_type:((Oe=g.find(xt=>xt.is_default))==null?void 0:Oe.account_type)==="checking"?"Corrente":"Poupana",holder:((Ye=g.find(xt=>xt.is_default))==null?void 0:Ye.account_holder)||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:"12 meses",conditions:"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:"Trabalhamos para que seus projetos, se tornem realidade."};await Eg(bt)}catch(nt){console.error("Error printing:",nt),alert("Erro ao gerar PDF!")}finally{o(!1)}},it=async()=>{var re,Ue,Le,Oe,Ye;if(!n){alert("Salve a ordem de servio antes de baixar!");return}try{o(!0);const nt=await Pv(n);if(!nt)throw new Error("OS no encontrada");const Se=l.find(xt=>xt.id===nt.customer_id),bt={order_number:nt.order_number||"N/A",date:nt.created_at||new Date().toISOString(),title:nt.description||"Ordem de Servio",client:{name:(Se==null?void 0:Se.nome_razao)||(Se==null?void 0:Se.name)||"Cliente",company_name:(Se==null?void 0:Se.nome_fantasia)||"",cnpj:(Se==null?void 0:Se.cnpj)||"",cpf:(Se==null?void 0:Se.cpf)||"",address:(Se==null?void 0:Se.endereco)||"",city:(Se==null?void 0:Se.cidade)||"",state:(Se==null?void 0:Se.estado)||"",cep:(Se==null?void 0:Se.cep)||"",email:(Se==null?void 0:Se.email)||"",phone:(Se==null?void 0:Se.telefone)||""},basic_info:{deadline:"15 dias",brand:"",model:"",equipment:""},items:dS(nt.items||[]),subtotal:nt.subtotal||nt.total_value||0,discount:nt.discount_amount||0,total:nt.total_value||0,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:(Se==null?void 0:Se.cnpj)||(Se==null?void 0:Se.cpf)||"",bank_details:g.find(xt=>xt.is_default)?{bank:((re=g.find(xt=>xt.is_default))==null?void 0:re.bank_name)||"",agency:((Ue=g.find(xt=>xt.is_default))==null?void 0:Ue.agency)||"",account:((Le=g.find(xt=>xt.is_default))==null?void 0:Le.account_number)||"",account_type:((Oe=g.find(xt=>xt.is_default))==null?void 0:Oe.account_type)==="checking"?"Corrente":"Poupana",holder:((Ye=g.find(xt=>xt.is_default))==null?void 0:Ye.account_holder)||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:"12 meses",conditions:"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:"Trabalhamos para que seus projetos, se tornem realidade."};await Eg(bt)}catch(nt){console.error("Error downloading:",nt),alert("Erro ao baixar PDF!")}finally{o(!1)}},St=()=>{if(!n){alert("Salve a ordem de servio antes de enviar!");return}const re=l.find(Ue=>Ue.id===I.customer_id);S((re==null?void 0:re.email)||""),O(`Ol, segue em anexo a Ordem de Servio ${z||n}.`),_(!0)},_t=async()=>{if(!j){alert("Digite um email vlido!");return}try{U(!0),alert(`Email enviado para: ${j}

Nota: A funcionalidade de envio real requer configurao do servidor de email.`),_(!1)}catch(re){console.error("Error sending email:",re),alert("Erro ao enviar email!")}finally{U(!1)}},Gt=async()=>{try{if(console.log(" Iniciando cadastro de cliente:",we),!we.nome_razao){alert("Nome/Razo Social  obrigatrio!");return}const{data:re,error:Ue}=await ae.from("customers").insert([{...we,tipo:"fisica",active:!0}]).select().single();if(Ue)throw console.error(" Erro ao cadastrar cliente:",Ue),Ue;console.log(" Cliente cadastrado:",re),alert(" Cliente cadastrado com sucesso!"),c([...l,re]),K({...I,customer_id:re.id}),be(!1),q({nome_razao:"",telefone:"",email:"",cnpj_cpf:""})}catch(re){console.error(" Erro completo:",re),alert(` Erro ao cadastrar cliente: ${re.message}`)}},fn=async()=>{try{if(console.log(" Iniciando cadastro de servio:",Ne),!Ne.name){alert("Nome do servio  obrigatrio!");return}const{data:re,error:Ue}=await ae.from("service_catalog").insert([{...Ne,active:!0,unit:"un"}]).select().single();if(Ue)throw console.error(" Erro ao cadastrar servio:",Ue),Ue;console.log(" Servio cadastrado:",re),alert(" Servio cadastrado com sucesso!"),N([...b,re]),ue(!1),Be({name:"",description:"",base_price:0,estimated_time_minutes:60})}catch(re){console.error(" Erro completo:",re),alert(` Erro ao cadastrar servio: ${re.message}`)}},tn=async()=>{try{if(console.log(" Iniciando cadastro de material:",Z),!Z.name){alert("Nome do material  obrigatrio!");return}const{data:re,error:Ue}=await ae.from("inventory_items").insert([{name:Z.name,unit:Z.unit,purchase_price:Z.unit_cost,sale_price:Z.unit_price,quantity:Z.quantity,active:!0,min_quantity:1}]).select().single();if(Ue)throw console.error(" Erro ao cadastrar material:",Ue),Ue;console.log(" Material cadastrado:",re),alert(" Material cadastrado com sucesso!"),C([...v,re]),Qe(!1),pe({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1})}catch(re){console.error(" Erro completo:",re),alert(` Erro ao cadastrar material: ${re.message}`)}};return s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen pb-24",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(at,{className:"h-8 w-8 text-blue-600"}),a?"Editar Ordem de Servio":"Nova Ordem de Servio Detalhada"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Sistema completo com mltiplos servios, materiais e funcionrios"})]}),!a&&s.jsxs("div",{className:"text-sm",children:[je&&s.jsx("span",{className:"text-blue-600",children:" Salvando..."}),!je&&Me&&s.jsxs("span",{className:"text-green-600",children:[" Salvo ",new Date(Me).toLocaleTimeString()]}),rt&&s.jsx("span",{className:"text-red-600",children:" Erro ao salvar"})]})]}),!a&&s.jsx("div",{className:"mb-4",children:s.jsxs("button",{onClick:()=>M(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all shadow-lg",children:[s.jsx(at,{className:"h-5 w-5"})," Usar Template de OS"]})}),s.jsx(rme,{isOpen:k,onClose:()=>M(!1),onSelect:re=>{K({...I,...re.formData||{}}),re.serviceItems&&Q(re.serviceItems),M(!1)}}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-blue-600"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:I.customer_id,onChange:re=>Ve(re.target.value),className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),l.map(re=>s.jsx("option",{value:re.id,children:re.nome_razao},re.id))]}),s.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo cliente"),be(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1",title:"Novo Cliente",children:[s.jsx(yt,{className:"h-4 w-4"}),"Novo"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),s.jsx("input",{type:"datetime-local",value:I.scheduled_at,onChange:re=>K({...I,scheduled_at:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Incio Execuo"}),s.jsx("input",{type:"date",value:I.data_inicio_execucao,onChange:re=>K({...I,data_inicio_execucao:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execuo (dias)"}),s.jsx("input",{type:"number",value:I.prazo_execucao_dias,min:"1",onChange:re=>K({...I,prazo_execucao_dias:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio Geral"}),s.jsx("textarea",{value:I.description,onChange:re=>K({...I,description:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrio opcional da OS..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado do Servio"}),s.jsx("textarea",{value:I.escopo_detalhado,onChange:re=>K({...I,escopo_detalhado:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva em detalhes tudo que ser executado no servio..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatrio Tcnico"}),s.jsx("textarea",{value:I.relatorio_tecnico,onChange:re=>K({...I,relatorio_tecnico:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatrio tcnico detalhado (diagnstico, anlise, etc)..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientaes de Servio"}),s.jsx("textarea",{value:I.orientacoes_servico,onChange:re=>K({...I,orientacoes_servico:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Instrues e orientaes para a equipe executar o servio..."})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:I.show_value,onChange:re=>K({...I,show_value:re.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Exibir valores na proposta (desmarque para enviar ao cliente sem valores ou para funcionrios)"})]})})]}),d&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(Nr,{className:"h-4 w-4"}),"Dados do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Nome/Razo Social:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.nome_razao})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"CPF/CNPJ:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.cpf||d.cnpj||"No informado"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Telefone:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.telefone||"No informado"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.email||"No informado"})]}),d.address&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"text-gray-600",children:"Endereo:"}),s.jsx("p",{className:"font-medium text-gray-900",children:[d.address.logradouro,d.address.numero,d.address.complemento,d.address.bairro,d.address.cidade,d.address.estado,d.address.cep&&`CEP: ${d.address.cep}`].filter(Boolean).join(", ")})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5 text-green-600"}),"Pagamento e Financeiro"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:I.payment_method,onChange:re=>K({...I,payment_method:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"debito",children:"Carto de Dbito"}),s.jsx("option",{value:"credito",children:"Carto de Crdito"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"cheque",children:"Cheque"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),s.jsxs("select",{value:I.payment_installments,onChange:re=>K({...I,payment_installments:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"1",children:" vista"}),[2,3,4,5,6,7,8,9,10,12].map(re=>s.jsxs("option",{value:re,children:[re,"x"]},re))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:I.bank_account_id,onChange:re=>K({...I,bank_account_id:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Padro"}),g.map(re=>s.jsxs("option",{value:re.id,children:[re.account_name," - ",re.bank_name]},re.id))]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Dt,{className:"h-5 w-5 text-amber-600"}),"Garantia"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Perodo de Garantia"}),s.jsx("input",{type:"number",value:I.warranty_period,min:"0",onChange:re=>K({...I,warranty_period:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Perodo"}),s.jsxs("select",{value:I.warranty_type,onChange:re=>K({...I,warranty_type:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"days",children:"Dias"}),s.jsx("option",{value:"months",children:"Meses"}),s.jsx("option",{value:"years",children:"Anos"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),s.jsx("textarea",{value:I.warranty_terms,onChange:re=>K({...I,warranty_terms:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condies da garantia: cobertura, excluses, prazos..."})]}),s.jsx("div",{className:"md:col-span-2 bg-amber-50 border border-amber-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-amber-800",children:[s.jsx("strong",{children:"Garantia:"})," ",I.warranty_period," ",I.warranty_type==="days"?"dias":I.warranty_type==="months"?"meses":"anos"," ",I.scheduled_at&&`(vlida at ${new Date(new Date(I.scheduled_at).getTime()+I.warranty_period*(I.warranty_type==="days"?864e5:I.warranty_type==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR")})`]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 shadow-md border-2 border-green-300",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5 text-green-600"})," Condies de Pagamento"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Condies de Pagamento"}),s.jsx("textarea",{value:I.payment_conditions,onChange:re=>K({...I,payment_conditions:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Ex: Sinal de 50% e o valor restante aps a concluso, Pagamento  vista com 10% de desconto, Parcelado em 3x sem juros, etc."})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:" Dica:"})," Estas condies aparecero no PDF da ordem de servio e na proposta enviada ao cliente."]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 shadow-md border-2 border-red-300",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5 text-red-600"})," Custos Adicionais (Deduzidos do Total)"]}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),s.jsx("strong",{children:" Ateno:"})," Estes custos sero DEDUZIDOS (subtrados) do valor total da OS, no adicionados."]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Deslocamento"}),s.jsx("input",{type:"number",value:I.custo_deslocamento,min:"0",step:"0.01",onChange:re=>K({...I,custo_deslocamento:Number(re.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Estacionamento"}),s.jsx("input",{type:"number",value:I.custo_estacionamento,min:"0",step:"0.01",onChange:re=>K({...I,custo_estacionamento:Number(re.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Pedgio"}),s.jsx("input",{type:"number",value:I.custo_pedagio,min:"0",step:"0.01",onChange:re=>K({...I,custo_pedagio:Number(re.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Outros Custos"}),s.jsx("input",{type:"number",value:I.custo_outros,min:"0",step:"0.01",onChange:re=>K({...I,custo_outros:Number(re.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrio dos Outros Custos"}),s.jsx("input",{type:"text",value:I.descricao_outros,onChange:re=>K({...I,descricao_outros:re.target.value}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"Ex: Alimentao, hospedagem, materiais extras..."})]}),(I.custo_deslocamento>0||I.custo_estacionamento>0||I.custo_pedagio>0||I.custo_outros>0)&&s.jsxs("div",{className:"md:col-span-2 bg-red-100 border-2 border-red-400 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:" Total de Custos a Deduzir:"}),s.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["-",ht((I.custo_deslocamento||0)+(I.custo_estacionamento||0)+(I.custo_pedagio||0)+(I.custo_outros||0))]}),s.jsx("p",{className:"text-xs text-red-700 mt-1 font-semibold",children:" Este valor ser DEDUZIDO do total da OS"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(at,{className:"h-5 w-5 text-blue-600"}),"Contrato"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),s.jsxs("select",{value:I.contract_template_id,onChange:re=>K({...I,contract_template_id:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Sem contrato"}),f.map(re=>s.jsx("option",{value:re.id,children:re.name},re.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes do Contrato"}),s.jsx("textarea",{value:I.contract_notes,onChange:re=>K({...I,contract_notes:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Clusulas especiais, condies particulares..."})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 shadow-md border-2 border-blue-300",children:[s.jsxs("button",{type:"button",onClick:()=>De("company"),className:"w-full flex items-center justify-between text-lg font-semibold mb-4 hover:text-blue-700 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($o,{className:"h-5 w-5 text-blue-600"})," Dados da Empresa no Documento"]}),le.company?s.jsx(Xo,{className:"h-5 w-5"}):s.jsx(ai,{className:"h-5 w-5"})]}),le.company&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome da Empresa"}),s.jsx("input",{type:"text",value:I.company_name,onChange:re=>K({...I,company_name:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Deixe vazio para usar configurao padro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CNPJ"}),s.jsx("input",{type:"text",value:I.company_cnpj,onChange:re=>K({...I,company_cnpj:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00.000.000/0000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:I.company_phone,onChange:re=>K({...I,company_phone:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:I.company_email,onChange:re=>K({...I,company_email:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@empresa.com.br"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Endereo Completo"}),s.jsx("textarea",{value:I.company_address,onChange:re=>K({...I,company_address:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Rua, nmero, complemento, bairro, cidade - UF, CEP"})]}),s.jsx("div",{className:"md:col-span-2 bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:" Dica:"})," Estes dados sobrescrevem as configuraes padro apenas para este documento."]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 shadow-md border-2 border-green-300",children:[s.jsxs("button",{type:"button",onClick:()=>De("bankData"),className:"w-full flex items-center justify-between text-lg font-semibold mb-4 hover:text-green-700 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"h-5 w-5 text-green-600"})," Dados Bancrios e Formas de Pagamento"]}),le.bankData?s.jsx(Xo,{className:"h-5 w-5"}):s.jsx(ai,{className:"h-5 w-5"})]}),le.bankData&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Formas de Pagamento Aceitas"}),s.jsx("input",{type:"text",value:I.payment_methods_text,onChange:re=>K({...I,payment_methods_text:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: Transferncia bancria, dinheiro, carto de crdito..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Chave PIX"}),s.jsx("input",{type:"text",value:I.payment_pix,onChange:re=>K({...I,payment_pix:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"CPF/CNPJ ou chave aleatria"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Banco"}),s.jsx("input",{type:"text",value:I.bank_name,onChange:re=>K({...I,bank_name:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Nome do Banco"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:I.bank_agency,onChange:re=>K({...I,bank_agency:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:I.bank_account,onChange:re=>K({...I,bank_account:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"00000-0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Conta"}),s.jsxs("select",{value:I.bank_account_type,onChange:re=>K({...I,bank_account_type:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"Corrente",children:"Corrente"}),s.jsx("option",{value:"Poupana",children:"Poupana"}),s.jsx("option",{value:"Salrio",children:"Salrio"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Titular da Conta"}),s.jsx("input",{type:"text",value:I.bank_holder,onChange:re=>K({...I,bank_holder:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Nome completo do titular"})]}),s.jsx("div",{className:"md:col-span-2 bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:" Dica:"})," Estes dados bancrios aparecero no documento para facilitar o pagamento do cliente."]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 shadow-md border-2 border-purple-300",children:[s.jsxs("button",{type:"button",onClick:()=>De("additionalClauses"),className:"w-full flex items-center justify-between text-lg font-semibold mb-4 hover:text-purple-700 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Eie,{className:"h-5 w-5 text-purple-600"})," Clusulas e Informaes Adicionais"]}),le.additionalClauses?s.jsx(Xo,{className:"h-5 w-5"}):s.jsx(ai,{className:"h-5 w-5"})]}),le.additionalClauses&&s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Clusulas Contratuais Adicionais"}),s.jsx("textarea",{value:I.contract_clauses,onChange:re=>K({...I,contract_clauses:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:5,placeholder:"Digite clusulas contratuais especficas, termos e condies adicionais..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Informaes Adicionais / Rodap"}),s.jsx("textarea",{value:I.additional_info,onChange:re=>K({...I,additional_info:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Mensagem de rodap, slogan, avisos importantes..."})]}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-purple-800",children:[s.jsx("strong",{children:" Dica:"})," Use este espao para adicionar informaes que devem aparecer no final do documento."]})})]})]}),te.map((re,Ue)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Servio #",Ue+1]}),te.length>1&&s.jsx("button",{onClick:()=>Ct(re.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(tme,{services:b.map(Le=>({id:Le.id,name:Le.name,description:Le.description,category:Le.category,base_price:Le.base_price})),onSelect:Le=>{if(Le){const Oe=b.find(Ye=>Ye.id===Le.id);if(Oe){const nt=(Oe.service_catalog_materials||[]).map(Se=>({id:crypto.randomUUID(),material_id:Se.material_id||"",nome:Se.material_name||"",quantidade:Number(Se.quantity)||1,preco_compra:Number(Se.unit_cost_at_time)||0,preco_venda:Number(Se.unit_sale_price)||0,unidade_medida:Se.material_unit||"UN",preco_compra_unitario:Number(Se.unit_cost_at_time)||0,preco_venda_unitario:Number(Se.unit_sale_price)||0,custo_total:(Number(Se.quantity)||1)*(Number(Se.unit_cost_at_time)||0),valor_total:(Number(Se.quantity)||1)*(Number(Se.unit_sale_price)||0),lucro:(Number(Se.quantity)||1)*(Number(Se.unit_sale_price)||0)-(Number(Se.quantity)||1)*(Number(Se.unit_cost_at_time)||0)}));Ze(re.id,{descricao:Oe.name,preco_unitario:Number(Oe.base_price)||0,tempo_estimado_minutos:Number(Oe.estimated_duration)||0,materiais:nt,funcionarios:[]})}}}})}),s.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo servio"),ue(!0)},className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1 whitespace-nowrap",title:"Novo Servio",children:[s.jsx(yt,{className:"h-4 w-4"}),"Novo Servio"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio do Servio *"}),s.jsx("input",{type:"text",value:re.descricao,onChange:Le=>Ze(re.id,{descricao:Le.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalao de Ar Condicionado 12k BTU"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (min)"}),s.jsx("input",{type:"number",value:re.tempo_estimado_minutos,onChange:Le=>Ze(re.id,{tempo_estimado_minutos:Number(Le.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:re.quantidade,min:"1",onChange:Le=>Ze(re.id,{quantidade:Number(Le.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unitrio"}),s.jsx("input",{type:"number",value:re.preco_unitario,step:"0.01",onChange:Le=>Ze(re.id,{preco_unitario:Number(Le.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Total"}),s.jsx("input",{type:"text",value:ht(re.preco_total),disabled:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 font-bold"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Materiais"]}),s.jsx("button",{onClick:()=>hr(re.id),className:"px-3 py-1 text-sm bg-green-50 text-green-600 rounded-lg hover:bg-green-100",children:"+ Material"})]}),re.materiais.length>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:" Buscar do Inventrio/Estoque"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{onChange:Le=>{const Oe=v.find(Ye=>Ye.id===Le.target.value);if(Oe&&re.materiais.length>0){const Ye=re.materiais[re.materiais.length-1];Ye.material_id||en(re.id,Ye.id,{material_id:Oe.id,nome:Oe.name,quantidade:1,preco_compra:Number(Oe.purchase_price)||0,preco_venda:Number(Oe.sale_price)||0,unidade_medida:Oe.unit||"UN"})}Le.target.value=""},className:"flex-1 px-4 py-2 border-2 border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white",children:[s.jsx("option",{value:"",children:"Selecione um item do estoque..."}),v.map(Le=>s.jsxs("option",{value:Le.id,children:[Le.name," - Estoque: ",Le.quantity||0," ",Le.unit||"UN"," - R$ ",Number(Le.sale_price||0).toFixed(2)]},Le.id))]}),s.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo material"),Qe(!0)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-1 whitespace-nowrap",title:"Novo Material",children:[s.jsx(yt,{className:"h-4 w-4"}),"Novo"]})]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Preenche o ltimo material vazio adicionado"})]}),re.materiais.length===0&&s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhum material adicionado"}),re.materiais.map(Le=>s.jsxs("div",{className:"border rounded-lg p-3 mb-3 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[s.jsxs("select",{value:Le.material_id,onChange:Oe=>cr(re.id,Le.id,Oe.target.value),className:"col-span-3 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Selecione o material..."}),h.map(Oe=>s.jsxs("option",{value:Oe.id,children:[Oe.name," - ",ht(Number(Oe.sale_price))," (",Oe.unit||"UN",")"]},Oe.id))]}),s.jsxs("div",{className:"col-span-2 relative",children:[s.jsx("input",{type:"number",value:Le.quantidade,min:"0.01",step:"0.01",onChange:Oe=>en(re.id,Le.id,{quantidade:Number(Oe.target.value)}),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",placeholder:"Qtd"}),Le.unidade_medida&&s.jsx("span",{className:"absolute right-3 top-2 text-xs text-gray-500 font-semibold",children:Le.unidade_medida})]}),s.jsx("button",{onClick:()=>It(re.id,Le.id),className:"px-3 py-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),Le.material_id&&s.jsxs("div",{className:"space-y-3 mt-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Custo Unitrio:"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-orange-500"}),s.jsx("input",{type:"number",value:Le.preco_compra_unitario||"",onChange:Oe=>en(re.id,Le.id,{preco_compra_unitario:Number(Oe.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-orange-500",step:"0.01",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Preo de Venda:"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-green-500"}),s.jsx("input",{type:"number",value:Le.preco_venda_unitario||"",onChange:Oe=>en(re.id,Le.id,{preco_venda_unitario:Number(Oe.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-green-500",step:"0.01",placeholder:"0.00"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 bg-gray-50 rounded p-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Custo Total:"}),s.jsx("p",{className:"font-bold text-orange-700",children:ht(Le.custo_total||0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Venda Total:"}),s.jsx("p",{className:"font-bold text-green-700",children:ht(Le.valor_total||0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Lucro:"}),s.jsx("p",{className:`font-bold ${(Le.lucro||0)>=0?"text-green-600":"text-red-600"}`,children:ht(Le.lucro||0)})]})]})]})]},Le.id))]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(Mt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-purple-900",children:"Mo de Obra"})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl p-4 mb-4",children:[s.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(ur,{className:"h-4 w-4"})," Buscar e Adicionar Funcionrio"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:V[re.id]||"",onChange:Le=>de({...V,[re.id]:Le.target.value}),className:"w-full px-4 py-3 border-2 border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-sm",placeholder:"Digite o nome do funcionrio..."}),V[re.id]&&s.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-purple-200 rounded-xl shadow-2xl max-h-64 overflow-y-auto",children:[m.filter(Le=>{const Oe=(Le.name||Le.nome||"").toLowerCase(),Ye=(Le.role||Le.cargo||"").toLowerCase(),nt=V[re.id].toLowerCase();return Oe.includes(nt)||Ye.includes(nt)}).map(Le=>s.jsx("button",{onClick:()=>{const Oe={id:crypto.randomUUID(),staff_id:Le.id,nome:Le.name||Le.nome||"Funcionrio",tempo_minutos:60,custo_hora:Number(Le.hourly_rate||Le.custo_hora||0),custo_total:1*Number(Le.hourly_rate||Le.custo_hora||0)};Ze(re.id,{funcionarios:[...re.funcionarios,Oe]}),de({...V,[re.id]:""})},className:"w-full px-4 py-3 hover:bg-purple-50 transition-colors text-left border-b border-purple-100 last:border-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-purple-900",children:Le.name||Le.nome}),s.jsx("p",{className:"text-xs text-gray-600",children:Le.role||Le.cargo||"N/A"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",Number(Le.hourly_rate||Le.custo_hora||0).toFixed(2),"/h"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Clique para adicionar"})]})]})},Le.id)),m.filter(Le=>{const Oe=(Le.name||Le.nome||"").toLowerCase(),Ye=(Le.role||Le.cargo||"").toLowerCase(),nt=V[re.id].toLowerCase();return Oe.includes(nt)||Ye.includes(nt)}).length===0&&s.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[s.jsx(Mt,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm",children:"Nenhum funcionrio encontrado"})]})]})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-2 flex items-center gap-1",children:" Digite para buscar e adicionar funcionrios instantaneamente"})]}),re.funcionarios.length>0&&s.jsx("div",{className:"space-y-3",children:re.funcionarios.map((Le,Oe)=>s.jsxs(se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white border-2 border-purple-100 rounded-xl p-4 hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-bold text-sm",children:Oe+1})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-purple-900",children:Le.nome}),s.jsxs("p",{className:"text-xs text-gray-500",children:["R$ ",Le.custo_hora.toFixed(2),"/hora"]})]})]}),s.jsx("button",{onClick:()=>tr(re.id,Le.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover funcionrio",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:" Tempo de Trabalho"}),s.jsx("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[10,30,60,120,240,480].map(Ye=>s.jsx("button",{type:"button",onClick:()=>ns(re.id,Le.id,{tempo_minutos:Ye}),className:`px-2 py-1 rounded-lg text-xs font-semibold transition-all ${Le.tempo_minutos===Ye?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Ye<60?`${Ye}m`:`${Ye/60}h`},Ye))}),s.jsx("select",{value:Le.tempo_minutos,onChange:Ye=>ns(re.id,Le.id,{tempo_minutos:Number(Ye.target.value)}),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Array.from({length:96},(Ye,nt)=>(nt+1)*10).map(Ye=>s.jsx("option",{value:Ye,children:Ye<60?`${Ye} minutos`:Ye===60?"1 hora":Ye%60===0?`${Ye/60} horas`:`${Math.floor(Ye/60)}h ${Ye%60}m`},Ye))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" Custo/Hora"}),s.jsx("input",{type:"text",value:ht(Le.custo_hora),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-blue-50 font-bold text-blue-700 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" Custo Total"}),s.jsx("input",{type:"text",value:ht(Le.custo_total),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-green-50 font-bold text-green-700 text-sm"})]})]})]})]},Le.id))}),re.funcionarios.length===0&&s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[s.jsx(Mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nenhum funcionrio adicionado"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Use a busca acima para adicionar"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 grid grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Custo Materiais:"}),s.jsx("p",{className:"font-bold text-orange-600",children:ht(re.custo_materiais)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Custo Mo Obra:"}),s.jsx("p",{className:"font-bold text-blue-600",children:ht(re.custo_mao_obra)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Lucro:"}),s.jsx("p",{className:"font-bold text-green-600",children:ht(re.lucro)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Margem:"}),s.jsxs("p",{className:"font-bold text-purple-600",children:[re.margem_lucro.toFixed(1),"%"]})]})]})]})]},re.id)),s.jsxs("button",{onClick:ct,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-gray-600 hover:text-blue-600",children:[s.jsx(yt,{className:"h-5 w-5"}),"Adicionar Outro Servio"]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(nme,{subtotal:D.subtotal,discount:D.desconto,total:D.total,costMaterials:D.custo_total_materiais,costLabor:D.custo_total_mao_obra,totalCost:D.custo_total,profit:D.lucro_total,margin:D.margem_lucro}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border sticky top-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal Servios:"}),s.jsx("span",{className:"font-semibold",children:ht(D.subtotal)})]}),(I.custo_deslocamento||0)+(I.custo_estacionamento||0)+(I.custo_pedagio||0)+(I.custo_outros||0)>0&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-lg p-3 space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-700 flex items-center gap-1",children:" Custos Adicionais (Deduzidos)"}),I.custo_deslocamento>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:" Deslocamento:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",ht(I.custo_deslocamento)]})]}),I.custo_estacionamento>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:" Estacionamento:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",ht(I.custo_estacionamento)]})]}),I.custo_pedagio>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:" Pedgio:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",ht(I.custo_pedagio)]})]}),I.custo_outros>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-orange-600",children:[" ",I.descricao_outros||"Outros",":"]}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",ht(I.custo_outros)]})]}),s.jsxs("div",{className:"pt-2 border-t border-orange-300 flex justify-between",children:[s.jsx("span",{className:"font-bold text-orange-700",children:"Total Deduzido:"}),s.jsxs("span",{className:"font-bold text-red-700",children:["-",ht((I.custo_deslocamento||0)+(I.custo_estacionamento||0)+(I.custo_pedagio||0)+(I.custo_outros||0))]})]})]})}),s.jsxs("div",{className:"border-t pt-3",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3 text-red-600",children:" Desconto"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto Percentual (%)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:I.desconto_percentual,step:"0.1",min:"0",max:"100",onChange:re=>K({...I,desconto_percentual:Number(re.target.value),desconto_valor:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"}),s.jsx("span",{className:"text-red-700 font-bold text-lg",children:"%"})]})]}),s.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:" OU "}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto em Valor (R$)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-red-700 font-bold text-lg",children:"R$"}),s.jsx("input",{type:"number",value:I.desconto_valor,step:"0.01",min:"0",onChange:re=>K({...I,desconto_valor:Number(re.target.value),desconto_percentual:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]})]})]}),s.jsxs("div",{className:"bg-red-100 border-2 border-red-300 rounded-lg p-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-red-700 font-semibold",children:"Desconto Aplicado:"}),s.jsxs("span",{className:"text-red-700 font-bold text-xl",children:["-",ht(D.desconto)]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"TOTAL:"}),s.jsx("span",{className:"text-blue-600",children:ht(D.total)})]}),s.jsxs("div",{className:"border-t pt-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:I.show_material_costs,onChange:re=>K({...I,show_material_costs:re.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700",children:"Mostrar custos dos materiais no documento"})]}),s.jsx("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:"Se desmarcado, apenas os preos de venda sero exibidos"})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[s.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-4 w-4 text-green-600"}),"Informaes de Pagamento"]}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-4 border-2 border-green-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Forma:"}),s.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:I.payment_method==="dinheiro"?"Dinheiro":I.payment_method==="pix"?"PIX":I.payment_method==="debito"?"Dbito":I.payment_method==="credito"?"Crdito":I.payment_method==="transferencia"?"Transferncia":I.payment_method==="boleto"?"Boleto":"Cheque"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Parcelas:"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[I.payment_installments,"x ",I.payment_installments>1&&`de ${ht(D.total/I.payment_installments)}`]})]}),I.bank_account_id&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Conta:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:((qr=g.find(re=>re.id===I.bank_account_id))==null?void 0:qr.account_name)||"Padro"})]}),I.warranty_period>0&&s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),"Garantia:"]}),s.jsxs("span",{className:"font-semibold text-amber-700",children:[I.warranty_period," ",I.warranty_type==="days"?"dias":I.warranty_type==="months"?"meses":"anos"]})]})]})})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Anlise de Custos"}),s.jsx("div",{className:"bg-orange-50 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-700",children:"Custo Materiais:"}),s.jsx("span",{className:"font-bold text-orange-700",children:ht(D.custo_total_materiais)})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-blue-700",children:"Custo Mo de Obra:"}),s.jsx("span",{className:"font-bold text-blue-700",children:ht(D.custo_total_mao_obra)})]})}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),s.jsx("span",{className:"font-bold text-gray-900",children:ht(D.custo_total)})]})}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-green-700 font-semibold",children:"Lucro:"}),s.jsx("span",{className:"font-bold text-green-700 text-lg",children:ht(D.lucro_total)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-600 text-sm",children:"Margem:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[D.margem_lucro.toFixed(1),"%"]})]})]})]})]})]})]}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5 text-blue-600"}),"Enviar Ordem de Servio"]}),s.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email do Destinatrio"}),s.jsx("input",{type:"email",value:j,onChange:re=>S(re.target.value),placeholder:"cliente@email.com",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mensagem"}),s.jsx("textarea",{value:F,onChange:re=>O(re.target.value),placeholder:"Digite uma mensagem...",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:_t,disabled:H,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:H?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"h-4 w-4"}),"Enviar"]})})]})]})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4 z-40",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[a&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:gr,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Imprimir OS",children:[s.jsx(wd,{className:"h-4 w-4"}),"Imprimir"]}),s.jsxs("button",{onClick:it,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Baixar PDF",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Download"]}),s.jsxs("button",{onClick:St,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Enviar por Email",children:[s.jsx(ja,{className:"h-4 w-4"}),"Enviar"]})]}),s.jsxs("button",{onClick:He,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 flex items-center gap-2 shadow-md",title:"Gerar PDF Profissional",children:[s.jsx(Sie,{className:"h-4 w-4"}),"Gerar PDF"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>t("/service-orders"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Cancelar"]}),s.jsxs("button",{onClick:ut,disabled:i,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2 shadow-md",children:[s.jsx(rr,{className:"h-4 w-4"}),i?"Salvando...":a?"Atualizar OS":"Salvar OS"]})]})]})}),(ce||J||ke)&&s.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg z-[10000] shadow-lg font-bold animate-pulse",children:[" MODAL ABERTO: ",ce?"CLIENTE":J?"SERVIO":"MATERIAL"]}),ce&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] p-4",onClick:re=>{console.log("Click no backdrop do modal cliente"),re.target===re.currentTarget&&(console.log(" Fechando modal cliente"),be(!1),q({nome_razao:"",telefone:"",email:"",cnpj_cpf:""}))},children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:re=>re.stopPropagation(),children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-green-600"}),"Novo Cliente"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome/Razo Social *"}),s.jsx("input",{type:"text",value:we.nome_razao,onChange:re=>q({...we,nome_razao:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Nome completo ou razo social"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF/CNPJ"}),s.jsx("input",{type:"text",value:we.cnpj_cpf,onChange:re=>q({...we,cnpj_cpf:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"000.000.000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:we.telefone,onChange:re=>q({...we,telefone:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"(00) 00000-0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:we.email,onChange:re=>q({...we,email:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"email@exemplo.com"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{be(!1),q({nome_razao:"",telefone:"",email:"",cnpj_cpf:""})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:Gt,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Cadastrar"})]})]})}),J&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] p-4",onClick:re=>{console.log("Click no backdrop do modal servio"),re.target===re.currentTarget&&(console.log(" Fechando modal servio"),ue(!1),Be({name:"",description:"",base_price:0,estimated_time_minutes:60}))},children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:re=>re.stopPropagation(),children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5 text-blue-600"}),"Novo Servio"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Servio *"}),s.jsx("input",{type:"text",value:Ne.name,onChange:re=>Be({...Ne,name:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalao de Ar Condicionado"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio"}),s.jsx("textarea",{value:Ne.description,onChange:re=>Be({...Ne,description:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrio detalhada do servio"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Base (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:Ne.base_price,onChange:re=>Be({...Ne,base_price:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),s.jsx("input",{type:"number",value:Ne.estimated_time_minutes,onChange:re=>Be({...Ne,estimated_time_minutes:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"60"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{ue(!1),Be({name:"",description:"",base_price:0,estimated_time_minutes:60})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:fn,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Cadastrar"})]})]})}),ke&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] p-4",onClick:re=>{console.log("Click no backdrop do modal material"),re.target===re.currentTarget&&(console.log(" Fechando modal material"),Qe(!1),pe({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1}))},children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:re=>re.stopPropagation(),children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5 text-orange-600"}),"Novo Material"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),s.jsx("input",{type:"text",value:Z.name,onChange:re=>pe({...Z,name:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"Ex: Tubo PVC 100mm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),s.jsxs("select",{value:Z.unit,onChange:re=>pe({...Z,unit:re.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:[s.jsx("option",{value:"un",children:"Unidade (un)"}),s.jsx("option",{value:"m",children:"Metro (m)"}),s.jsx("option",{value:"kg",children:"Quilograma (kg)"}),s.jsx("option",{value:"l",children:"Litro (l)"}),s.jsx("option",{value:"cx",children:"Caixa (cx)"}),s.jsx("option",{value:"p",children:"Pea (p)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),s.jsx("input",{type:"number",value:Z.quantity,onChange:re=>pe({...Z,quantity:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo de Custo (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:Z.unit_cost,onChange:re=>pe({...Z,unit_cost:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo de Venda (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:Z.unit_price,onChange:re=>pe({...Z,unit_price:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{Qe(!1),pe({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:tn,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Cadastrar"})]})]})})]})},dq=6048e5,sme=864e5,Ab=43200,JO=1440,ZO=Symbol.for("constructDateFrom");function Bd(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ZO in t?t[ZO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Bs(t,e){return Bd(e||t,t)}let ame={};function kx(){return ame}function C0(t,e){var l,c,d,u;const r=kx(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Bs(t,e==null?void 0:e.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Dw(t,e){return C0(t,{...e,weekStartsOn:1})}function uq(t,e){const r=Bs(t,e==null?void 0:e.in),n=r.getFullYear(),a=Bd(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Dw(a),o=Bd(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Dw(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Mw(t){const e=Bs(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function U2(t,...e){const r=Bd.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function eI(t,e){const r=Bs(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function ime(t,e,r){const[n,a]=U2(r==null?void 0:r.in,t,e),i=eI(n),o=eI(a),l=+i-Mw(i),c=+o-Mw(o);return Math.round((l-c)/sme)}function ome(t,e){const r=uq(t,e),n=Bd(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Dw(n)}function Dv(t,e){const r=+Bs(t)-+Bs(e);return r<0?-1:r>0?1:r}function lme(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cme(t){return!(!lme(t)&&typeof t!="number"||isNaN(+Bs(t)))}function dme(t,e,r){const[n,a]=U2(r==null?void 0:r.in,t,e),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function ume(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function hme(t,e){return+Bs(t)-+Bs(e)}function Ame(t,e){const r=Bs(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function mme(t,e){const r=Bs(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function fme(t,e){const r=Bs(t,e==null?void 0:e.in);return+Ame(r,e)==+mme(r,e)}function pme(t,e,r){const[n,a,i]=U2(r==null?void 0:r.in,t,t,e),o=Dv(a,i),l=Math.abs(dme(a,i));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*l);let c=Dv(a,i)===-o;fme(n)&&l===1&&Dv(n,i)===1&&(c=!1);const d=o*(l-+c);return d===0?0:d}function gme(t,e,r){const n=hme(t,e)/1e3;return ume(r==null?void 0:r.roundingMethod)(n)}function xme(t,e){const r=Bs(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const yme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bme=(t,e,r)=>{let n;const a=yme[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function gm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const vme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nme={date:gm({formats:vme,defaultWidth:"full"}),time:gm({formats:wme,defaultWidth:"full"}),dateTime:gm({formats:jme,defaultWidth:"full"})},_me={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cme=(t,e,r,n)=>_me[t];function Ro(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Sme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Eme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tme=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ome={ordinalNumber:Tme,era:Ro({values:Sme,defaultWidth:"wide"}),quarter:Ro({values:Bme,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ro({values:Eme,defaultWidth:"wide"}),day:Ro({values:kme,defaultWidth:"wide"}),dayPeriod:Ro({values:Pme,defaultWidth:"wide",formattingValues:Fme,defaultFormattingWidth:"wide"})};function Qo(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Dme(l,h=>h.test(o)):Ime(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function Ime(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Dme(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function hq(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Mme=/^(\d+)(th|st|nd|rd)?/i,Lme=/\d+/i,Ume={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rme={any:[/^b/i,/^(a|c)/i]},Qme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$me={any:[/1/i,/2/i,/3/i,/4/i]},Hme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gme={ordinalNumber:hq({matchPattern:Mme,parsePattern:Lme,valueCallback:t=>parseInt(t,10)}),era:Qo({matchPatterns:Ume,defaultMatchWidth:"wide",parsePatterns:Rme,defaultParseWidth:"any"}),quarter:Qo({matchPatterns:Qme,defaultMatchWidth:"wide",parsePatterns:$me,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qo({matchPatterns:Hme,defaultMatchWidth:"wide",parsePatterns:qme,defaultParseWidth:"any"}),day:Qo({matchPatterns:zme,defaultMatchWidth:"wide",parsePatterns:Vme,defaultParseWidth:"any"}),dayPeriod:Qo({matchPatterns:Kme,defaultMatchWidth:"any",parsePatterns:Wme,defaultParseWidth:"any"})},Aq={code:"en-US",formatDistance:bme,formatLong:Nme,formatRelative:Cme,localize:Ome,match:Gme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xme(t,e){const r=Bs(t,e==null?void 0:e.in);return ime(r,xme(r))+1}function Yme(t,e){const r=Bs(t,e==null?void 0:e.in),n=+Dw(r)-+ome(r);return Math.round(n/dq)+1}function mq(t,e){var u,h,A,m;const r=Bs(t,e==null?void 0:e.in),n=r.getFullYear(),a=kx(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(A=a.locale)==null?void 0:A.options)==null?void 0:m.firstWeekContainsDate)??1,o=Bd((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=C0(o,e),c=Bd((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=C0(c,e);return+r>=+l?n+1:+r>=+d?n:n-1}function Jme(t,e){var l,c,d,u;const r=kx(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=mq(t,e),i=Bd((e==null?void 0:e.in)||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),C0(i,e)}function Zme(t,e){const r=Bs(t,e==null?void 0:e.in),n=+C0(r,e)-+Jme(r,e);return Math.round(n/dq)+1}function Sr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ec={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Sr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Sr(r+1,2)},d(t,e){return Sr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Sr(t.getHours()%12||12,e.length)},H(t,e){return Sr(t.getHours(),e.length)},m(t,e){return Sr(t.getMinutes(),e.length)},s(t,e){return Sr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Sr(a,e.length)}},lA={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ec.y(t,e)},Y:function(t,e,r,n){const a=mq(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return Sr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Sr(i,e.length)},R:function(t,e){const r=uq(t);return Sr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Sr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Sr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Sr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ec.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Sr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Zme(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Sr(a,e.length)},I:function(t,e,r){const n=Yme(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Sr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ec.d(t,e)},D:function(t,e,r){const n=Xme(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Sr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Sr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Sr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Sr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=lA.noon:n===0?a=lA.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=lA.evening:n>=12?a=lA.afternoon:n>=4?a=lA.morning:a=lA.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ec.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ec.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Sr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Sr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ec.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ec.s(t,e)},S:function(t,e){return Ec.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return nI(n);case"XXXX":case"XX":return fu(n);case"XXXXX":case"XXX":default:return fu(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return nI(n);case"xxxx":case"xx":return fu(n);case"xxxxx":case"xxx":default:return fu(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rI(n,":");case"OOOO":default:return"GMT"+fu(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rI(n,":");case"zzzz":default:return"GMT"+fu(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Sr(n,e.length)},T:function(t,e,r){return Sr(+t,e.length)}};function rI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Sr(i,2)}function nI(t,e){return t%60===0?(t>0?"-":"+")+Sr(Math.abs(t)/60,2):fu(t,e)}function fu(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Sr(Math.trunc(n/60),2),i=Sr(n%60,2);return r+a+e+i}const sI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},efe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return sI(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",sI(n,e)).replace("{{time}}",fq(a,e))},tfe={p:fq,P:efe},rfe=/^D+$/,nfe=/^Y+$/,sfe=["D","DD","YY","YYYY"];function afe(t){return rfe.test(t)}function ife(t){return nfe.test(t)}function ofe(t,e,r){const n=lfe(t,e,r);if(console.warn(n),sfe.includes(t))throw new RangeError(n)}function lfe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ufe=/^'([^]*?)'?$/,hfe=/''/g,Afe=/[a-zA-Z]/;function Qr(t,e,r){var u,h,A,m,x,g,p,f;const n=kx(),a=(r==null?void 0:r.locale)??n.locale??Aq,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(A=n.locale)==null?void 0:A.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,l=Bs(t,r==null?void 0:r.in);if(!cme(l))throw new RangeError("Invalid time value");let c=e.match(dfe).map(y=>{const b=y[0];if(b==="p"||b==="P"){const N=tfe[b];return N(y,a.formatLong)}return y}).join("").match(cfe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:mfe(y)};if(tI[b])return{isToken:!0,value:y};if(b.match(Afe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&ife(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&afe(b))&&ofe(b,e,String(t));const N=tI[b[0]];return N(l,b,a.localize,d)}).join("")}function mfe(t){const e=t.match(ufe);return e?e[1].replace(hfe,"'"):t}function ffe(t,e,r){const n=kx(),a=(r==null?void 0:r.locale)??n.locale??Aq,i=2520,o=Dv(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,d]=U2(r==null?void 0:r.in,...o>0?[e,t]:[t,e]),u=gme(d,c),h=(Mw(d)-Mw(c))/1e3,A=Math.round((u-h)/60);let m;if(A<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):A===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",A,l);if(A<45)return a.formatDistance("xMinutes",A,l);if(A<90)return a.formatDistance("aboutXHours",1,l);if(A<JO){const x=Math.round(A/60);return a.formatDistance("aboutXHours",x,l)}else{if(A<i)return a.formatDistance("xDays",1,l);if(A<Ab){const x=Math.round(A/JO);return a.formatDistance("xDays",x,l)}else if(A<Ab*2)return m=Math.round(A/Ab),a.formatDistance("aboutXMonths",m,l)}if(m=pme(d,c),m<12){const x=Math.round(A/Ab);return a.formatDistance("xMonths",x,l)}else{const x=m%12,g=Math.trunc(m/12);return x<3?a.formatDistance("aboutXYears",g,l):x<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}const aI=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),pfe=t=>({ordem_servico:"OS",orcamento:"ORC",proposta:"PROP",contrato:"CONT",relatorio:"REL",documento:"DOC",nota_fiscal:"NF"})[t]||"DOC",gfe=t=>{const{documentType:e,documentNumber:r,clientName:n,customFilename:a}=t;if(a)return a.endsWith(".pdf")?a:`${a}.pdf`;const i=pfe(e),o=Qr(new Date,"dd-MM-yyyy");let l=i;if(r){const c=aI(r);l+=`_${c}`}if(n){const c=aI(n);l+=`_${c}`}return l+=`_${o}.pdf`,l},xfe=(t,e)=>{const r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},yfe=t=>{if(typeof window<"u"&&window.alert){const e=new CustomEvent("toast",{detail:{message:`Documento gerado: ${t}`,type:"success"}});window.dispatchEvent(e)}console.log(" PDF gerado:",t)},bfe=t=>{const e=` Erro ao gerar documento: ${t}`;if(typeof window<"u"){const r=new CustomEvent("toast",{detail:{message:e,type:"error"}});window.dispatchEvent(r)}console.error(" Erro na gerao do PDF:",t)},vfe=async(t,e)=>{try{console.log(" Iniciando gerao de documento completo...",e);const r=await t();if(!r||r.size===0)throw new Error("PDF gerado est vazio");const n=gfe(e);return xfe(r,n),e.showSuccessMessage!==!1&&yfe(n),{success:!0,filename:n,message:"Documento completo gerado com sucesso em formato PDF",blob:r}}catch(r){const n=r instanceof Error?r.message:"Erro desconhecido";return console.error("Erro ao gerar PDF:",r),e.showSuccessMessage!==!1&&bfe(n),{success:!1,filename:"",message:`Erro ao gerar documento: ${n}`,error:n}}},wfe=t=>{const[e,r]=B.useState(!1),[n,a]=B.useState(null),[i,o]=B.useState(null),l=B.useCallback(async(d,u)=>{var A,m,x;r(!0),a(null);const h={documentType:t.documentType,showSuccessMessage:!0,includeImages:!0,format:"A4",orientation:"portrait",...u};try{const g=await vfe(d,h);return o(g),g.success?(A=t.onSuccess)==null||A.call(t,g):(a(g.error||"Erro desconhecido"),(m=t.onError)==null||m.call(t,g.error||"Erro desconhecido")),g}catch(g){const p=g instanceof Error?g.message:"Erro ao imprimir documento";return a(p),(x=t.onError)==null||x.call(t,p),{success:!1,filename:"",message:p,error:p}}finally{r(!1)}},[t]),c=B.useCallback(()=>{a(null),o(null),r(!1)},[]);return{print:l,isPrinting:e,error:n,lastResult:i,reset:c}},jfe=({documentType:t,generatePDF:e,printOptions:r,label:n="Imprimir Documento",variant:a="primary",size:i="md",fullWidth:o=!1,icon:l=!0,disabled:c=!1,onSuccess:d,onError:u,className:h=""})=>{const{print:A,isPrinting:m,error:x,lastResult:g}=wfe({documentType:t,onSuccess:()=>d==null?void 0:d(),onError:N=>u==null?void 0:u(N)}),p=async()=>{await A(e,r)},f=()=>{switch(a){case"primary":return"bg-blue-600 hover:bg-blue-700 text-white";case"secondary":return"bg-gray-600 hover:bg-gray-700 text-white";case"outline":return"border-2 border-blue-600 text-blue-600 hover:bg-blue-50";default:return"bg-blue-600 hover:bg-blue-700 text-white"}},y=()=>{switch(i){case"sm":return"px-3 py-1.5 text-sm";case"md":return"px-4 py-2 text-base";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2 text-base"}},b=()=>l?m?s.jsx(b0,{className:"h-5 w-5 animate-spin"}):g!=null&&g.success?s.jsx(ca,{className:"h-5 w-5"}):x?s.jsx(Rn,{className:"h-5 w-5"}):s.jsx(wd,{className:"h-5 w-5"}):null;return s.jsxs("button",{onClick:p,disabled:c||m,className:`
        flex items-center justify-center gap-2 font-medium rounded-lg
        transition-all duration-200
        ${f()}
        ${y()}
        ${o?"w-full":""}
        ${c||m?"opacity-50 cursor-not-allowed":"hover:shadow-lg"}
        ${h}
      `,title:"Gerar documento completo em PDF (formato A4)",children:[b(),s.jsx("span",{children:m?"Gerando PDF...":n})]})},Nfe=async(t,e)=>{var r;try{const{data:n,error:a}=await ae.from("contract_templates").select("*").eq("id",t).single();if(a||!n)return console.error("Template not found:",a),null;const{data:i,error:o}=await ae.from("service_orders").select(`
        *,
        customers (
          id,
          name,
          cpf_cnpj,
          email,
          phone,
          customer_addresses (
            logradouro,
            numero,
            complemento,
            bairro,
            cidade,
            estado,
            cep
          )
        )
      `).eq("id",e.serviceOrderId).single();if(o||!i)return console.error("Service order not found:",o),null;const{data:l}=await ae.from("service_order_items").select("service_name, description, quantity, unit_price, total_price").eq("service_order_id",e.serviceOrderId),{data:c}=await ae.from("company_settings").select("*").limit(1).single(),{data:d}=await ae.from("bank_accounts").select("*").eq("is_default",!0).limit(1).maybeSingle(),u=i.customers,h=(r=u==null?void 0:u.customer_addresses)==null?void 0:r[0],A=h?`${h.logradouro}, ${h.numero}${h.complemento?" - "+h.complemento:""}, ${h.bairro}, ${h.cidade}/${h.estado}, CEP: ${h.cep}`:"Endereo no cadastrado",m=(l==null?void 0:l.map(P=>`- ${P.service_name}${P.description?": "+P.description:""} (${P.quantity}x R$ ${P.unit_price.toFixed(2)} = R$ ${P.total_price.toFixed(2)})`).join(`
`))||"Servios conforme OS",x=i.payment_method==="cash"?"Dinheiro":i.payment_method==="credit_card"?"Carto de Crdito":i.payment_method==="debit_card"?"Carto de Dbito":i.payment_method==="pix"?"PIX":i.payment_method==="bank_transfer"?"Transferncia Bancria":i.payment_method==="bank_slip"?"Boleto Bancrio":i.payment_method==="promissory_note"?"Nota Promissria":"A definir",g=i.warranty_period||90,p=i.warranty_type||"days",f=p==="days"?`${g} dias`:p==="months"?`${g} meses`:`${g} anos`,y=i.scheduled_at?new Date(i.scheduled_at).toLocaleDateString("pt-BR"):"A definir",b=i.completed_at?new Date(i.completed_at).toLocaleDateString("pt-BR"):"A definir",N=i.scheduled_at&&g?new Date(new Date(i.scheduled_at).getTime()+g*(p==="days"?864e5:p==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR"):"A calcular",v={"[NOME_CLIENTE]":(u==null?void 0:u.name)||"Cliente no informado","[CPF_CNPJ_CLIENTE]":(u==null?void 0:u.cpf_cnpj)||"No informado","[EMAIL_CLIENTE]":(u==null?void 0:u.email)||"No informado","[TELEFONE_CLIENTE]":(u==null?void 0:u.phone)||"No informado","[ENDERECO_CLIENTE]":A,"[NUMERO_OS]":i.order_number||i.id.substring(0,8),"[DATA_OS]":y,"[DATA_CONCLUSAO]":b,"[VALOR_TOTAL]":`R$ ${(i.total_amount||0).toFixed(2)}`,"[VALOR_SUBTOTAL]":`R$ ${(i.subtotal||0).toFixed(2)}`,"[DESCONTO]":`R$ ${(i.discount_amount||0).toFixed(2)}`,"[DESCRICAO_SERVICOS]":m,"[PRAZO_EXECUCAO]":`${i.estimated_duration||0} horas`,"[GARANTIA_PERIODO]":f,"[GARANTIA_ATE]":N,"[FORMA_PAGAMENTO]":x,"[CONDICOES_PAGAMENTO]":x,"[NOME_EMPRESA]":(c==null?void 0:c.company_name)||"Nome da Empresa","[CNPJ_EMPRESA]":(c==null?void 0:c.cnpj)||"CNPJ no informado","[ENDERECO_EMPRESA]":(c==null?void 0:c.address)||"Endereo no informado","[TELEFONE_EMPRESA]":(c==null?void 0:c.phone)||"Telefone no informado","[EMAIL_EMPRESA]":(c==null?void 0:c.email)||"E-mail no informado","[CIDADE]":(c==null?void 0:c.city)||(h==null?void 0:h.cidade)||"Cidade no informada","[ESTADO]":(c==null?void 0:c.state)||(h==null?void 0:h.estado)||"Estado no informado","[BANCO]":(d==null?void 0:d.bank_name)||"Banco no informado","[AGENCIA]":(d==null?void 0:d.agency)||"0000","[CONTA]":(d==null?void 0:d.account_number)||"00000-0","[TIPO_CONTA]":(d==null?void 0:d.account_type)==="checking"?"Conta Corrente":"Conta Poupana","[TITULAR]":(d==null?void 0:d.account_holder)||(c==null?void 0:c.company_name)||"Titular no informado","[CPF_CNPJ_TITULAR]":(c==null?void 0:c.cnpj)||"No informado","[CHAVE_PIX]":(d==null?void 0:d.pix_key)||"No informado","[TIPO_CHAVE_PIX]":(d==null?void 0:d.pix_key_type)==="cpf"?"CPF":(d==null?void 0:d.pix_key_type)==="cnpj"?"CNPJ":(d==null?void 0:d.pix_key_type)==="email"?"E-mail":(d==null?void 0:d.pix_key_type)==="phone"?"Telefone":(d==null?void 0:d.pix_key_type)==="random"?"Chave Aleatria":"No informado","[EMAIL_COMPROVANTE]":(c==null?void 0:c.email)||"Email no informado","[WHATSAPP_CONTATO]":(c==null?void 0:c.phone)||"WhatsApp no informado","[DADOS_BANCARIOS]":d?`Banco: ${d.bank_name}
Agncia: ${d.agency}
Conta: ${d.account_number}
PIX: ${d.pix_key||"No disponvel"}`:"Dados bancrios no cadastrados","[VALOR_ENTRADA]":`R$ ${((i.total_amount||0)*.3).toFixed(2)}`,"[NUMERO_PARCELAS]":"3","[VALOR_PARCELA]":`R$ ${((i.total_amount||0)*.7/3).toFixed(2)}`,"[DIA_VENCIMENTO]":"10"},C=P=>{let _=P;return Object.entries(v).forEach(([k,M])=>{_=_.replace(new RegExp(k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),M)}),_};return{contract_text:C(n.contract_text||""),contract_clauses:C(n.contract_clauses||""),warranty_terms:C(n.warranty_terms||""),payment_conditions:C(n.payment_conditions||""),bank_details_template:C(n.bank_details_template||"")}}catch(n){return console.error("Error filling contract:",n),null}},_fe=async()=>{try{const{data:t,error:e}=await ae.from("contract_templates").select("*").eq("is_default",!0).eq("active",!0).single();if(e||!t){const{data:r}=await ae.from("contract_templates").select("*").eq("active",!0).limit(1).single();return r}return t}catch(t){return console.error("Error getting default template:",t),null}},Cfe=({isOpen:t,onClose:e,serviceOrderId:r,templateId:n})=>{const[a,i]=B.useState(!0),[o,l]=B.useState(null);B.useEffect(()=>{t&&r&&c()},[t,r,n]);const c=async()=>{try{i(!0);let h=n;if(!h){const m=await _fe();h=m==null?void 0:m.id}if(!h){alert("Nenhum template de contrato disponvel"),e();return}const A=await Nfe(h,{serviceOrderId:r});if(!A){alert("Erro ao preencher contrato"),e();return}l(A)}catch(h){console.error("Error loading contract:",h),alert("Erro ao carregar contrato")}finally{i(!1)}},d=()=>{if(!o)return;const h=new kt,A=15,m=h.internal.pageSize.width,x=h.internal.pageSize.height,g=m-2*A;let p=A;const f=(b,N=10,v=!1)=>{h.setFontSize(N),h.setFont("helvetica",v?"bold":"normal"),h.splitTextToSize(b,g).forEach(P=>{p>x-A&&(h.addPage(),p=A),h.text(P,A,p),p+=N*.5}),p+=3};h.setFontSize(16),h.setFont("helvetica","bold"),h.text("CONTRATO DE PRESTAO DE SERVIOS",m/2,p,{align:"center"}),p+=15,o.contract_text&&(f(o.contract_text,10),p+=5),o.contract_clauses&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("CLUSULAS CONTRATUAIS",A,p),p+=7,f(o.contract_clauses,10),p+=5),o.warranty_terms&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("TERMOS DE GARANTIA",A,p),p+=7,f(o.warranty_terms,10),p+=5),o.payment_conditions&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("CONDIES DE PAGAMENTO",A,p),p+=7,f(o.payment_conditions,10),p+=5),o.bank_details_template&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("DADOS BANCRIOS",A,p),p+=7,f(o.bank_details_template,10),p+=10),p>x-50&&(h.addPage(),p=A),p+=10,h.setFontSize(10),h.text("_________________________________________",A,p),h.text("CONTRATANTE",A+30,p+5),h.text("_________________________________________",m/2+10,p),h.text("CONTRATADA",m/2+40,p+5),p+=15;const y=new Date().toLocaleDateString("pt-BR");h.setFontSize(9),h.text(`Data: ${y}`,m/2,p,{align:"center"}),h.save(`contrato-${r.substring(0,8)}.pdf`)},u=()=>{window.print()};return t?s.jsx(lt,{children:s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:s.jsxs(se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(at,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-xl font-bold",children:"Contrato de Prestao de Servios"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(At,{className:"h-5 w-5"})})]}),a?s.jsxs("div",{className:"p-12 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando contrato..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)] print:overflow-visible print:max-h-none",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border-2 border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(at,{className:"h-5 w-5 text-blue-600"}),"Contrato Principal"]}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-800",children:o.contract_text})]}),o.contract_clauses&&s.jsxs("div",{className:"bg-purple-50 rounded-lg p-6 mb-6 border-2 border-purple-200",children:[s.jsx("h3",{className:"text-lg font-bold text-purple-900 mb-4",children:"Clusulas Contratuais"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-purple-800",children:o.contract_clauses})]}),o.warranty_terms&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6 border-2 border-green-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[s.jsx(Mr,{className:"h-5 w-5"}),"Termos de Garantia"]}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-green-800",children:o.warranty_terms})]}),o.payment_conditions&&s.jsxs("div",{className:"bg-orange-50 rounded-lg p-6 mb-6 border-2 border-orange-200",children:[s.jsx("h3",{className:"text-lg font-bold text-orange-900 mb-4",children:"Condies de Pagamento"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-orange-800",children:o.payment_conditions})]}),o.bank_details_template&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-2 border-blue-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Dados Bancrios"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-blue-800",children:o.bank_details_template})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t-2 border-gray-300",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATANTE"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATADA"})]})]}),s.jsxs("p",{className:"text-center text-xs text-gray-500 mt-6",children:["Data: ",new Date().toLocaleDateString("pt-BR")]})]})]})}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t print:hidden",children:[s.jsxs("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[s.jsx(wd,{className:"h-4 w-4"}),"Imprimir"]}),s.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Baixar PDF"]}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Fechar"})]})]}):s.jsx("div",{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Erro ao carregar contrato"})})]})})}):null},Sfe=async t=>{const e=await L2(),r=new kt,n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=15;let o=20;const l=[15,118,110],c=[20,184,166],d=[52,58,64],u=[248,249,250],h=O=>o+O>a-25?(A(),r.addPage(),o=i,!0):!1,A=()=>{const O=r.getCurrentPageInfo().pageNumber;r.setDrawColor(...u),r.setLineWidth(.5),r.line(i,a-10,n-i,a-10),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(...d),r.text(`${e.email} | ${e.phone} | ${e.website||e.instagram||""}`,n/2,a-6,{align:"center"}),r.text(`Pgina ${O}`,n/2,a-3,{align:"center"})},m=()=>new Promise(O=>{const H=new Image;H.crossOrigin="anonymous",H.onload=()=>{const U=document.createElement("canvas");U.width=H.width,U.height=H.height;const z=U.getContext("2d");z?(z.drawImage(H,0,0),O(U.toDataURL("image/jpeg",.8))):O("")},H.onerror=()=>{const U=new Image;U.crossOrigin="anonymous",U.onload=()=>{const z=document.createElement("canvas");z.width=U.width,z.height=U.height;const R=z.getContext("2d");R?(R.drawImage(U,0,0),O(z.toDataURL("image/jpeg",.8))):O("")},U.onerror=()=>O(""),U.src="/image.png"},H.src="/8.jpg"});r.setFillColor(...l),r.rect(0,0,n,50,"F");const x=await m();if(x)try{r.addImage(x,"JPEG",i,10,30,30)}catch{r.setFillColor(255,255,255),r.circle(i+15,25,12,"F"),r.setFontSize(20),r.setFont("helvetica","bold"),r.setTextColor(...l);const H=e.name.charAt(0).toUpperCase();r.text(H,i+15,30,{align:"center"})}else{r.setFillColor(255,255,255),r.circle(i+15,25,12,"F"),r.setFontSize(20),r.setFont("helvetica","bold"),r.setTextColor(...l);const O=e.name.charAt(0).toUpperCase();r.text(O,i+15,30,{align:"center"})}r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(255,255,255),r.text(e.name,i+50,18),r.setFont("helvetica","normal"),r.setFontSize(8);let g=24;r.text(e.owner||"Proprietrio",i+50,g),g+=3.5,r.text(`CNPJ: ${e.cnpj}`,i+50,g),g+=3.5,r.text(e.address,i+50,g),g+=3.5,r.text(`${e.city}-${e.state}${e.zip?"  CEP "+e.zip:""}`,i+50,g);const p=n-i;if(r.text(new Date(t.date).toLocaleDateString("pt-BR"),p,18,{align:"right"}),g=24,r.text(e.email,p,g,{align:"right"}),g+=3.5,r.text(e.phone,p,g,{align:"right"}),g+=3.5,e.instagram&&r.text(e.instagram,p,g,{align:"right"}),o=60,r.setFillColor(...c),r.rect(i,o,n-2*i,t.title?18:12,"F"),r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(255,255,255),r.text(`ORAMENTO ${t.order_number}`,n/2,o+8,{align:"center"}),t.title?(r.setFontSize(11),r.setFont("helvetica","normal"),r.text(t.title,n/2,o+14,{align:"center"}),o+=24):o+=18,r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text(`Cliente: ${t.client.name}`,i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),t.client.company_name&&(r.text(t.client.company_name,i+3,o),o+=4),t.client.cnpj?(r.text(`CNPJ: ${t.client.cnpj}`,i+3,o),o+=4):t.client.cpf&&(r.text(`CPF: ${t.client.cpf}`,i+3,o),o+=4),t.client.address){const O=[t.client.address,t.client.city&&t.client.state?`${t.client.city}-${t.client.state}`:null,t.client.cep?`CEP ${t.client.cep}`:null].filter(Boolean).join(", "),H=r.splitTextToSize(O,n-2*i-6);r.text(H,i+3,o),o+=H.length*4}t.client.phone&&(r.text(`Tel: ${t.client.phone}`,i+3,o),o+=4),t.client.email&&(r.text(`Email: ${t.client.email}`,i+3,o),o+=4),o+=4,t.basic_info&&(h(30),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes do Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),r.text(`Prazo de Execuo: ${t.basic_info.deadline}`,i+3,o),o+=4,t.basic_info.start_date&&(r.text(`Data de Incio: ${t.basic_info.start_date}`,i+3,o),o+=4),t.basic_info.brand&&(r.text(`Marca: ${t.basic_info.brand}`,i+3,o),o+=4),t.basic_info.model&&(r.text(`Modelo: ${t.basic_info.model}`,i+3,o),o+=4),t.basic_info.equipment&&(r.text(`Equipamento: ${t.basic_info.equipment}`,i+3,o),o+=4),o+=4),h(40),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Servios e Produtos",i+3,o+5.5),o+=12;const f=t.show_value!==!1,y=t.items.map(O=>{let H=O.service_name||O.description||"Servio";const U=O.service_description||O.description;U&&U!==H&&(H+=`
${U}`);const z=O.service_scope||O.scope;z&&(H+=`

ESCOPO:
${z}`),O.technical_requirements&&(H+=`

REQUISITOS TCNICOS:
${O.technical_requirements}`),O.safety_warnings&&(H+=`

 AVISOS DE SEGURANA:
${O.safety_warnings}`),O.execution_steps&&(H+=`

PASSOS:
${O.execution_steps}`),O.expected_results&&(H+=`

RESULTADOS:
${O.expected_results}`),O.quality_standards&&(H+=`

QUALIDADE:
${O.quality_standards}`),O.warranty_info&&(H+=`

 GARANTIA:
${O.warranty_info}`),O.observations&&(H+=`

OBS:
${O.observations}`);const R=O.estimated_duration||O.tempo_estimado_minutos;return R&&(H+=`

 Tempo: ${R}min`),f?[H,O.unit,O.quantity.toString(),`R$ ${O.unit_price.toFixed(2)}`,`R$ ${O.total_price.toFixed(2)}`]:[H,O.unit,O.quantity.toString()]});if(cq(r,{startY:o,head:f?[["Descrio","Un.","Qtd","Preo Unit.","Total"]]:[["Descrio","Un.","Qtd"]],body:y,theme:"grid",headStyles:{fillColor:l,textColor:[255,255,255],fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8,cellPadding:3,textColor:d},columnStyles:f?{0:{cellWidth:80},1:{cellWidth:20,halign:"center"},2:{cellWidth:20,halign:"center"},3:{cellWidth:30,halign:"right"},4:{cellWidth:30,halign:"right",fontStyle:"bold"}}:{0:{cellWidth:130},1:{cellWidth:30,halign:"center"},2:{cellWidth:20,halign:"center"}},margin:{left:i,right:i}}),o=r.autoTable.previous.finalY+5,f){const O=n-i-50;if(r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(...d),r.text("Subtotal:",O,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,n-i,o,{align:"right"}),o+=5,t.discount>0){r.setTextColor(231,76,60);const H=t.discount_percentage?`Desconto (${t.discount_percentage}%):`:"Desconto:";r.text(H,O,o,{align:"right"}),r.text(`- R$ ${t.discount.toFixed(2)}`,n-i,o,{align:"right"}),o+=5}r.setDrawColor(...d),r.setLineWidth(1),r.line(O-10,o,n-i,o),o+=7,r.setFillColor(...l),r.rect(O-15,o-5,n-O+15-i,10,"F"),r.setFont("helvetica","bold"),r.setFontSize(12),r.setTextColor(255,255,255),r.text("TOTAL:",O,o+2,{align:"right"}),r.text(`R$ ${t.total.toFixed(2)}`,n-i-3,o+2,{align:"right"}),o+=15}if(t.detailed_scope){h(50),r.setFillColor(219,234,254),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(30,64,175),r.text("Escopo Detalhado do Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const O=r.splitTextToSize(t.detailed_scope,n-2*i-6);r.text(O,i+3,o),o+=O.length*3.5+8}if(t.technical_report){h(50),r.setFillColor(254,243,199),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(146,64,14),r.text("Relatrio Tcnico",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const O=r.splitTextToSize(t.technical_report,n-2*i-6);r.text(O,i+3,o),o+=O.length*3.5+8}if(t.service_instructions){h(50),r.setFillColor(220,252,231),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(20,83,45),r.text("Orientaes de Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const O=r.splitTextToSize(t.service_instructions,n-2*i-6);r.text(O,i+3,o),o+=O.length*3.5+8}if(o>a-100&&(A(),r.addPage(),o=i),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Forma de Pagamento",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),r.text(`Mtodos: ${t.payment.methods}`,i+3,o),o+=5,t.payment.pix&&(r.text(`PIX: ${t.payment.pix}`,i+3,o),o+=5),t.payment.bank_details){const O=t.payment.bank_details;r.setFont("helvetica","bold"),r.text("Dados bancrios:",i+3,o),o+=5,r.setFont("helvetica","normal"),r.text(`Banco: ${O.bank} | Agncia: ${O.agency} | Conta: ${O.account}`,i+3,o),o+=4,r.text(`Tipo: ${O.account_type} | Titular: ${O.holder}`,i+3,o),o+=5}r.setFont("helvetica","bold"),r.text("Condies:",i+3,o),o+=5,r.setFont("helvetica","normal");const v=r.splitTextToSize(t.payment.conditions,n-2*i-6);r.text(v,i+3,o),o+=v.length*4+8,h(50),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Garantia",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d),t.warranty.period&&(r.text(`Perodo: ${t.warranty.period}`,i+3,o),o+=6);const C=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",P=r.splitTextToSize(C,n-2*i-6);if(r.text(P,i+3,o),o+=P.length*3.5+10,t.additional_info||t.special_conditions){h(30),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Observaes",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const O=t.additional_info||t.special_conditions||"",H=r.splitTextToSize(O,n-2*i-6);r.text(H,i+3,o),o+=H.length*4+8}h(40),r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const _=o;r.text(`${t.client.city||e.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,n/2,_,{align:"center"}),o+=25;const k=i+10,M=n/2-10;r.line(k,o,M,o),o+=5,r.setFont("helvetica","bold"),r.text(e.name,(k+M)/2,o,{align:"center"}),o+=4,r.setFont("helvetica","normal"),r.text(e.owner||"Representante Legal",(k+M)/2,o,{align:"center"});const j=n/2+10,S=n-i-10;o-=9,r.line(j,o,S,o),o+=5,r.setFont("helvetica","bold"),r.text(t.client.name,(j+S)/2,o,{align:"center"}),o+=4,r.setFont("helvetica","normal"),t.client.cnpj?r.text(`CNPJ ${t.client.cnpj}`,(j+S)/2,o,{align:"center"}):t.client.cpf&&r.text(`CPF ${t.client.cpf}`,(j+S)/2,o,{align:"center"}),A();const F=r.getNumberOfPages();for(let O=1;O<=F;O++)r.setPage(O),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(...d),r.text(`Pgina ${O} de ${F}`,n-i-20,a-3,{align:"right"});r.save(`Orcamento_${t.order_number}_${new Date().toISOString().split("T")[0]}.pdf`)};function Bfe({isOpen:t,onClose:e,data:r}){var c,d,u,h,A,m,x,g,p,f;if(!t)return null;const n=async()=>{try{const y={order_number:r.order_number,date:r.date,title:r.title,client:r.client,basic_info:r.basic_info,items:r.items,subtotal:r.subtotal,discount:r.discount_amount||r.discount,discount_percentage:r.discount>0&&r.subtotal>0?Math.round(r.discount/r.subtotal*100):void 0,total:r.final_total||r.total,show_value:r.show_value,technical_report:r.relatorio_tecnico,service_instructions:r.orientacoes_servico,detailed_scope:r.escopo_detalhado,payment:r.payment,warranty:r.warranty,additional_info:r.additional_notes||r.additional_info,special_conditions:r.additional_info};await Sfe(y)}catch(y){console.error("Erro ao gerar PDF:",y),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},a=()=>{window.print()},i=async()=>{if(navigator.share)try{await navigator.share({title:`Oramento ${r.order_number}`,text:`Oramento para ${r.client.name}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else alert("Compartilhamento no suportado neste navegador")},o=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),l=y=>new Date(y).toLocaleDateString("pt-BR");return s.jsx(lt,{children:s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(at,{className:"h-6 w-6 text-white"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Oramento"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:n,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Baixar PDF",children:[s.jsx(Qn,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]}),s.jsxs("button",{onClick:a,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Imprimir",children:[s.jsx(wd,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),s.jsxs("button",{onClick:i,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Compartilhar",children:[s.jsx(V9,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-teal-800 rounded-lg transition-colors",title:"Fechar",children:s.jsx(At,{className:"h-5 w-5 text-white"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg my-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-teal-700 to-teal-800 px-8 py-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-white p-3 rounded-lg",children:s.jsx($o,{className:"h-12 w-12 text-teal-700"})}),s.jsxs("div",{className:"text-white",children:[s.jsx("h1",{className:"text-2xl font-bold",children:r.company.name}),s.jsx("p",{className:"text-teal-100 text-sm mt-1",children:r.company.owner}),s.jsxs("p",{className:"text-teal-100 text-sm",children:["CNPJ: ",r.company.cnpj]}),s.jsx("p",{className:"text-teal-100 text-sm",children:r.company.address}),s.jsxs("p",{className:"text-teal-100 text-sm",children:[r.company.city,"-",r.company.state]})]})]}),s.jsxs("div",{className:"text-right text-white",children:[s.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[s.jsx(lr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:l(r.date)})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.email})]}),r.company.phones.map((y,b)=>s.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[s.jsx(oa,{className:"h-4 w-4"}),s.jsx("span",{children:y})]},b))]})]}),r.company.tagline&&s.jsx("p",{className:"text-center text-teal-100 text-sm mt-4 italic",children:r.company.tagline}),r.company.social&&s.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-3",children:[r.company.social.instagram&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(JT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(XT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(x0,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.website})]})]})]}),s.jsx("div",{className:"bg-teal-700 px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Oramento ",r.order_number]}),r.title&&s.jsx("p",{className:"text-teal-100 mt-1",children:r.title})]}),s.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Validade"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"30 dias"})]})]})}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-3",children:["Cliente: ",r.client.name]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[r.client.company_name&&s.jsx("p",{className:"text-gray-700",children:r.client.company_name}),r.client.cnpj&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",r.client.cnpj]}),r.client.address&&s.jsx("p",{className:"text-sm text-gray-600",children:r.client.address}),r.client.city&&s.jsxs("p",{className:"text-sm text-gray-600",children:[r.client.city,"-",r.client.state]}),r.client.cep&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",r.client.cep]})]}),s.jsxs("div",{className:"space-y-2",children:[r.client.email&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx(ts,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{children:r.client.email})]}),r.client.phone&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx(oa,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{children:r.client.phone})]})]})]})]}),s.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informaes bsicas"}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Prazo de execuo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Marca"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Modelo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center",children:[s.jsx(at,{className:"h-5 w-5 mr-2"}),"Servios e Produtos"]}),s.jsx("div",{className:"space-y-4",children:r.items.map((y,b)=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:`grid ${r.show_value!==!1?"grid-cols-12":"grid-cols-8"} gap-4 mb-3`,children:[s.jsx("div",{className:r.show_value!==!1?"col-span-5":"col-span-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"bg-teal-100 text-teal-700 text-xs font-semibold px-2 py-1 rounded mr-2",children:b+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:y.description}),y.scope&&s.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-line mt-2 bg-gray-50 p-2 rounded",children:y.scope})]})]})}),s.jsxs("div",{className:"col-span-1 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Unidade"}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:y.unit})]}),s.jsxs("div",{className:"col-span-1 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Qtd."}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:y.quantity})]}),r.show_value!==!1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"col-span-2 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preo unitrio"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(y.unit_price)})]}),s.jsxs("div",{className:"col-span-2 text-right",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total"}),s.jsx("p",{className:"text-base font-bold text-teal-700",children:o(y.total_price)})]})]})]})},b))}),r.show_value!==!1&&s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 px-6 py-3 rounded-lg flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Subtotal"}),s.jsx("span",{className:"text-base font-semibold text-gray-900",children:o(r.subtotal)})]}),r.discount>0&&s.jsxs("div",{className:"bg-red-50 px-6 py-3 rounded-lg flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-red-700",children:["Desconto ",r.discount>0&&r.subtotal>0?`(${Math.round(r.discount/r.subtotal*100)}%)`:""]}),s.jsxs("span",{className:"text-base font-semibold text-red-700",children:["- ",o(r.discount_amount||r.discount)]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 text-white px-6 py-4 rounded-lg flex items-center justify-between shadow-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Valor Total"}),s.jsx("span",{className:"text-2xl font-bold",children:"TOTAL"})]}),s.jsx("span",{className:"text-3xl font-bold",children:o(r.total||r.final_total||0)})]})]})]}),r.escopo_detalhado&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-blue-50",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Escopo Detalhado do Servio"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.escopo_detalhado})]}),r.relatorio_tecnico&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-amber-50",children:[s.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:"Relatrio Tcnico"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.relatorio_tecnico})]}),r.orientacoes_servico&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-green-50",children:[s.jsx("h3",{className:"text-lg font-bold text-green-900 mb-4",children:"Orientaes de Servio"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.orientacoes_servico})]}),s.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Pagamento"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Meios de pagamento"}),s.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),r.payment.pix&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"PIX"}),s.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix})]}),(r.payment.bank||r.payment.bank_details)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Dados bancrios"}),s.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-1 text-sm",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Banco:"})," ",((c=r.payment.bank)==null?void 0:c.name)||((d=r.payment.bank_details)==null?void 0:d.bank)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Agncia:"})," ",((u=r.payment.bank)==null?void 0:u.agency)||((h=r.payment.bank_details)==null?void 0:h.agency)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Conta:"})," ",((A=r.payment.bank)==null?void 0:A.account)||((m=r.payment.bank_details)==null?void 0:m.account)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Tipo de conta:"})," ",((x=r.payment.bank)==null?void 0:x.type)||((g=r.payment.bank_details)==null?void 0:g.account_type)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Titular da conta (CPF/CNPJ):"})," ",((p=r.payment.bank)==null?void 0:p.holder)||((f=r.payment.bank_details)==null?void 0:f.holder)]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Condies de pagamento"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:r.payment.conditions})]})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center space-x-2",children:[s.jsx(jr,{className:"h-5 w-5"}),s.jsx("span",{children:"Garantia"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Condies da garantia"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Clusulas contratuais"}),s.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.contract_clauses=="string"?r.contract_clauses:Array.isArray(r.contract_clauses)?r.contract_clauses.map((y,b)=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:y.title}),s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:y.items.map((N,v)=>s.jsx("li",{children:N},v))})]},b)):""})]}),(r.additional_notes||r.additional_info)&&s.jsxs("div",{className:"px-8 py-6 bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informaes adicionais"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:r.additional_notes||r.additional_info}),s.jsxs("p",{className:"text-center text-gray-600 italic mt-4",children:[r.company.city,", ",l(r.date)]})]}),s.jsx("div",{className:"px-8 py-8 bg-white",children:s.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900",children:r.company.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.company.owner}),s.jsx("p",{className:"text-xs text-gray-500",children:"diretor tcnico"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900",children:r.client.name}),r.client.cnpj&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ ",r.client.cnpj]})]})})]})}),s.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.email})]}),r.company.phones.map((y,b)=>s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(oa,{className:"h-4 w-4"}),s.jsx("span",{children:y})]},b))]}),r.company.social&&s.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-sm text-gray-600",children:[r.company.social.instagram&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(JT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(XT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(x0,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.website})]})]})]})]})})]})})})}function Efe({isOpen:t,onClose:e,data:r}){const[n,a]=B.useState(null);if(B.useEffect(()=>{(async()=>{const h=await L2();a(h)})()},[]),!t||!n)return null;const i=async()=>{try{await Eg(r)}catch(u){console.error("Erro ao gerar PDF:",u),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},o=()=>{window.print()},l=async()=>{if(navigator.share)try{await navigator.share({title:`Ordem de Servio ${r.order_number}`,text:`Ordem de servio para ${r.client.name}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else try{await navigator.clipboard.writeText(window.location.href),alert("Link copiado para a rea de transferncia!")}catch(u){console.error("Erro ao copiar link:",u),alert("No foi possvel copiar o link. URL: "+window.location.href)}},c=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),d=u=>new Date(u).toLocaleDateString("pt-BR");return s.jsx(lt,{children:s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-blue-800 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(at,{className:"h-6 w-6 text-white"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Ordem de Servio"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:i,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Baixar PDF",children:[s.jsx(Qn,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]}),s.jsxs("button",{onClick:o,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Imprimir",children:[s.jsx(wd,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),s.jsxs("button",{onClick:l,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Compartilhar",children:[s.jsx(V9,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-950 rounded-lg transition-colors",title:"Fechar",children:s.jsx(At,{className:"h-5 w-5 text-white"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg",children:[s.jsxs("div",{className:"border-b border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 bg-blue-900 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white text-3xl font-bold",children:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:n.name}),s.jsx("p",{className:"text-sm text-gray-700",children:n.owner}),s.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",n.cnpj]}),s.jsx("p",{className:"text-sm text-gray-600",children:n.address}),s.jsxs("p",{className:"text-sm text-gray-600",children:[n.city,"-",n.state]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",n.zip]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[s.jsx(lr,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:d(r.date)})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx("span",{children:n.email})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(oa,{className:"h-4 w-4"}),s.jsx("span",{children:n.phone})]}),n.instagram&&s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(x0,{className:"h-4 w-4"}),s.jsx("span",{children:n.instagram})]})]})]})]}),s.jsx("p",{className:"text-center text-gray-600 italic text-sm",children:"Sua satisfao  o que motiva a nossa dedicao."})]}),s.jsxs("div",{className:"bg-blue-900 text-white px-8 py-6",children:[s.jsxs("h2",{className:"text-3xl font-bold",children:["Ordem de servio ",r.order_number]}),r.title&&s.jsx("p",{className:"text-blue-100 mt-2",children:r.title})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Cliente: ",r.client.name]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.client.company_name&&s.jsx("p",{children:r.client.company_name}),r.client.cnpj&&s.jsxs("p",{children:["CNPJ: ",r.client.cnpj]}),r.client.cpf&&s.jsxs("p",{children:["CPF: ",r.client.cpf]}),r.client.address&&s.jsxs(s.Fragment,{children:[s.jsx("p",{children:r.client.address}),r.client.city&&s.jsxs("p",{children:[r.client.city,", ",r.client.state,"-",r.client.state]}),r.client.cep&&s.jsxs("p",{children:["CEP ",r.client.cep]})]}),r.client.email&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ts,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:r.client.email})]}),r.client.phone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oa,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:r.client.phone})]})]})]}),r.basic_info&&s.jsxs("div",{className:"px-8 py-6 bg-blue-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Informaes bsicas"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Prazo de execuo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Marca"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Modelo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]}),r.basic_info.equipment&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Aparelho"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.equipment})]})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Servios"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("th",{className:"text-left py-2 font-semibold text-gray-900",children:"Descrio"}),s.jsx("th",{className:"text-center py-2 font-semibold text-gray-900",children:"Unidade"}),s.jsx("th",{className:"text-right py-2 font-semibold text-gray-900",children:"Preo unitrio"}),s.jsx("th",{className:"text-center py-2 font-semibold text-gray-900",children:"Qtd."}),s.jsx("th",{className:"text-right py-2 font-semibold text-gray-900",children:"Preo"})]})}),s.jsx("tbody",{children:r.items.map((u,h)=>s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsxs("td",{className:"py-3",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:u.service_name||u.description}),(u.scope||u.service_scope||u.escopo_detalhado)&&s.jsxs("p",{className:"text-xs text-gray-600 mt-1 whitespace-pre-line",children:["ESCOPO:",s.jsx("br",{}),u.scope||u.service_scope||u.escopo_detalhado]}),u.materials&&u.materials.length>0&&s.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded border border-green-200",children:[s.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:" Materiais:"}),u.materials.map((A,m)=>s.jsxs("p",{className:"text-xs text-green-800 ml-2",children:[" ",A.nome||A.material_name||A.name," - ",A.quantidade||A.quantity," ",A.unidade_medida||A.unit||"un"," - ",c(A.preco_venda||A.unit_price||0)]},m))]}),u.team&&u.team.length>0&&s.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded border border-blue-200",children:[s.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:" Equipe:"}),u.team.map((A,m)=>s.jsxs("p",{className:"text-xs text-blue-800 ml-2",children:[" ",A.nome||A.employee_name||A.name," ",A.cargo||A.role?`(${A.cargo||A.role})`:""]},m))]})]}),s.jsx("td",{className:"text-center py-3 text-gray-700",children:u.unit}),s.jsx("td",{className:"text-right py-3 text-gray-900",children:c(u.unit_price)}),s.jsx("td",{className:"text-center py-3 text-gray-700",children:u.quantity}),s.jsx("td",{className:"text-right py-3 font-semibold text-gray-900",children:c(u.total_price)})]},h))})]})}),s.jsxs("div",{className:"mt-6 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Servios"}),s.jsx("span",{className:"font-semibold text-gray-900",children:c(r.subtotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold text-blue-900",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:c(r.subtotal)})]}),r.discount>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Desconto sobre servios"}),s.jsxs("span",{className:"text-gray-900",children:["- ",c(r.discount)]})]}),s.jsxs("div",{className:"bg-blue-900 text-white px-4 py-3 rounded flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:c(r.total)})]})]})]}),s.jsxs("div",{className:"px-8 py-6 bg-blue-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Pagamento"}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Meios de pagamento"}),s.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"PIX"}),s.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix||n.cnpj})]})]}),r.payment.bank_details&&s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-8 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Dados bancrios"}),s.jsxs("div",{className:"space-y-1 text-gray-900",children:[s.jsxs("p",{children:["Banco: ",r.payment.bank_details.bank]}),s.jsxs("p",{children:["Agncia: ",r.payment.bank_details.agency]}),s.jsxs("p",{children:["Conta: ",r.payment.bank_details.account]}),s.jsxs("p",{children:["Tipo de conta: ",r.payment.bank_details.account_type]}),s.jsxs("p",{children:["Titular da conta (CPF/CNPJ): ",r.payment.bank_details.holder]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Condies de pagamento"}),s.jsx("p",{className:"text-gray-900",children:r.payment.conditions})]})]})]}),r.warranty&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Garantia"}),r.warranty.period&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Perodo de garantia"}),s.jsx("p",{className:"text-gray-900",children:r.warranty.period})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm mb-2",children:"Condies da garantia"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),r.contract_clauses&&r.contract_clauses.length>0&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Clusulas contratuais"}),s.jsx("div",{className:"space-y-4 text-sm",children:r.contract_clauses.map((u,h)=>s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:u.title}),s.jsx("div",{className:"space-y-1 text-gray-700",children:u.items.map((A,m)=>s.jsx("p",{children:A},m))})]},h))})]}),r.additional_info&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Informaes adicionais"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:r.additional_info}),s.jsx("p",{className:"text-center text-gray-600 italic text-sm mt-4",children:"obrigado pela confiana, estaremos  disposio."}),s.jsxs("p",{className:"text-center font-semibold text-gray-900 mt-4",children:[r.client.city||n.city,", ",d(r.date)]})]}),s.jsx("div",{className:"px-8 py-12 bg-white",children:s.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-400 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900 text-lg",children:n.name}),s.jsx("p",{className:"text-sm text-gray-700",children:n.owner}),s.jsx("p",{className:"text-xs text-gray-500 italic",children:"diretor tcnico"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-400 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900 text-lg",children:r.client.name}),r.client.cnpj&&s.jsxs("p",{className:"text-sm text-gray-700",children:["CNPJ ",r.client.cnpj]}),r.client.cpf&&s.jsxs("p",{className:"text-sm text-gray-700",children:["CPF ",r.client.cpf]})]})})]})}),s.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600 mb-2",children:[s.jsxs("span",{children:[" ",n.email]}),s.jsxs("span",{children:[" ",n.phone]}),n.instagram&&s.jsxs("span",{children:["@",n.instagram]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:n.website||"tgarconnection.com.br"})]})]})})]})})})}const kfe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Pfe=(t,e,r)=>{let n;const a=kfe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},Ffe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Tfe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ofe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ife={date:gm({formats:Ffe,defaultWidth:"full"}),time:gm({formats:Tfe,defaultWidth:"full"}),dateTime:gm({formats:Ofe,defaultWidth:"full"})},Dfe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Mfe=(t,e,r,n)=>{const a=Dfe[t];return typeof a=="function"?a(e):a},Lfe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Ufe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Rfe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Qfe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},$fe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Hfe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},qfe=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},zfe={ordinalNumber:qfe,era:Ro({values:Lfe,defaultWidth:"wide"}),quarter:Ro({values:Ufe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ro({values:Rfe,defaultWidth:"wide"}),day:Ro({values:Qfe,defaultWidth:"wide"}),dayPeriod:Ro({values:$fe,defaultWidth:"wide",formattingValues:Hfe,defaultFormattingWidth:"wide"})},Vfe=/^(\d+)[o]?/i,Kfe=/\d+/i,Wfe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Gfe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Xfe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Yfe={any:[/1/i,/2/i,/3/i,/4/i]},Jfe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Zfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},epe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},tpe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},rpe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},npe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},spe={ordinalNumber:hq({matchPattern:Vfe,parsePattern:Kfe,valueCallback:t=>parseInt(t,10)}),era:Qo({matchPatterns:Wfe,defaultMatchWidth:"wide",parsePatterns:Gfe,defaultParseWidth:"any"}),quarter:Qo({matchPatterns:Xfe,defaultMatchWidth:"wide",parsePatterns:Yfe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qo({matchPatterns:Jfe,defaultMatchWidth:"wide",parsePatterns:Zfe,defaultParseWidth:"any"}),day:Qo({matchPatterns:epe,defaultMatchWidth:"wide",parsePatterns:tpe,defaultParseWidth:"any"}),dayPeriod:Qo({matchPatterns:rpe,defaultMatchWidth:"any",parsePatterns:npe,defaultParseWidth:"any"})},Jo={code:"pt-BR",formatDistance:Pfe,formatLong:Ife,formatRelative:Mfe,localize:zfe,match:spe,options:{weekStartsOn:0,firstWeekContainsDate:1}},ape=({serviceOrderId:t,isOpen:e,onClose:r,currentStatus:n})=>{const[a,i]=B.useState([]),[o,l]=B.useState(!0),[c,d]=B.useState("");B.useEffect(()=>{e&&t&&u()},[e,t]);const u=async()=>{try{l(!0);const{data:f,error:y}=await ae.from("service_order_status_history").select("*").eq("service_order_id",t).order("created_at",{ascending:!1});if(y)throw y;i(f||[])}catch(f){console.error("Erro ao carregar timeline:",f)}finally{l(!1)}},h=async()=>{if(!(!c.trim()||!n))try{const{error:f}=await ae.from("service_order_status_history").insert({service_order_id:t,old_status:n,new_status:n,changed_by_name:"Usurio",comments:c.trim()});if(f)throw f;d(""),u()}catch(f){console.error("Erro ao adicionar comentrio:",f),alert("Erro ao adicionar comentrio")}},A=()=>{const f=["Data/Hora","Status Anterior","Novo Status","Usurio","Tempo no Status","Comentrios"],y=a.map(C=>[Qr(new Date(C.created_at),"dd/MM/yyyy HH:mm"),m(C.old_status),m(C.new_status),C.changed_by_name||"Sistema",C.duration_in_status||"-",C.comments||""]),b=[f.join(","),...y.map(C=>C.map(P=>`"${P}"`).join(","))].join(`
`),N=new Blob([b],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a");v.href=URL.createObjectURL(N),v.download=`timeline-os-${t}-${Date.now()}.csv`,v.click()},m=f=>({pending:"Pendente",in_progress:"Em Andamento",paused:"Pausada",completed:"Concluda",cancelled:"Cancelada",aberta:"Aberta",em_andamento:"Em Andamento",pausada:"Pausada",concluida:"Concluda",cancelada:"Cancelada"})[f]||f,x=f=>{switch(f){case"pending":case"aberta":return s.jsx(Rn,{className:"w-5 h-5"});case"in_progress":case"em_andamento":return s.jsx(JE,{className:"w-5 h-5"});case"paused":case"pausada":return s.jsx(Zae,{className:"w-5 h-5"});case"completed":case"concluida":return s.jsx(ca,{className:"w-5 h-5"});case"cancelled":case"cancelada":return s.jsx(g0,{className:"w-5 h-5"});default:return s.jsx(Dt,{className:"w-5 h-5"})}},g=f=>{switch(f){case"pending":case"aberta":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"in_progress":case"em_andamento":return"bg-blue-100 text-blue-700 border-blue-300";case"paused":case"pausada":return"bg-orange-100 text-orange-700 border-orange-300";case"completed":case"concluida":return"bg-green-100 text-green-700 border-green-300";case"cancelled":case"cancelada":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},p=f=>{if(!f)return null;const y=f.match(/(\d+):(\d+):(\d+)/);if(!y)return f;const[,b,N]=y,v=parseInt(b),C=parseInt(N);return v>0?`${v}h ${C}min`:`${C}min`};return e?s.jsx(lt,{children:s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:s.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center",children:s.jsx(Dt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Timeline da OS"}),s.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Histrico completo de mudanas de status"})]})]}),s.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:s.jsx(At,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:a.length})," eventos registrados"]}),s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[s.jsx(Qn,{className:"w-4 h-4"}),"Exportar CSV"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Dt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum histrico disponvel"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Os eventos aparecero aqui conforme a OS evoluir"})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200"}),s.jsx("div",{className:"space-y-6",children:a.map((f,y)=>{const b=f.old_status!==f.new_status,N=!b;return s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05},className:"relative pl-20",children:[s.jsx("div",{className:`absolute left-0 w-16 h-16 rounded-full border-4 border-white flex items-center justify-center shadow-lg ${N?"bg-purple-100 text-purple-600":g(f.new_status)}`,children:N?s.jsx(Cw,{className:"w-6 h-6"}):x(f.new_status)}),s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{className:"flex-1",children:[b?s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border-2 ${g(f.old_status)}`,children:m(f.old_status)}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border-2 ${g(f.new_status)}`,children:m(f.new_status)})]}):s.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comentrio Adicionado"}),f.comments&&s.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200",children:f.comments}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-4 h-4"}),f.changed_by_name||"Sistema"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"w-4 h-4"}),Qr(new Date(f.created_at),"dd/MM/yyyy 's' HH:mm",{locale:Jo})]}),s.jsx("span",{className:"text-gray-500",children:ffe(new Date(f.created_at),new Date,{addSuffix:!0,locale:Jo})})]}),f.duration_in_status&&s.jsxs("div",{className:"mt-2 text-sm text-blue-600 font-medium",children:[" Tempo no status anterior: ",p(f.duration_in_status)]})]})})})]},f.id)})})]})}),s.jsx("div",{className:"p-6 border-t bg-gray-50",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"text",value:c,onChange:f=>d(f.target.value),onKeyPress:f=>f.key==="Enter"&&h(),placeholder:"Adicionar comentrio  timeline...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:h,disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Adicionar"})]})})]})})}):null},ipe=({serviceOrderId:t,isOpen:e,onClose:r})=>{const[n,a]=B.useState([]),[i,o]=B.useState(!0),[l,c]=B.useState(new Set);B.useEffect(()=>{e&&t&&d()},[e,t]);const d=async()=>{try{o(!0);const{data:f,error:y}=await ae.from("service_order_audit_log").select("*").eq("service_order_id",t).order("created_at",{ascending:!1});if(y)throw y;a(f||[])}catch(f){console.error("Erro ao carregar log de auditoria:",f)}finally{o(!1)}},u=f=>{const y=new Set(l);y.has(f)?y.delete(f):y.add(f),c(y)},h=f=>{switch(f){case"created":return s.jsx(yt,{className:"w-4 h-4"});case"updated":return s.jsx(ga,{className:"w-4 h-4"});case"deleted":return s.jsx(Ut,{className:"w-4 h-4"});default:return s.jsx(at,{className:"w-4 h-4"})}},A=f=>{switch(f){case"created":return"bg-green-100 text-green-700 border-green-200";case"updated":return"bg-blue-100 text-blue-700 border-blue-200";case"deleted":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},m=f=>({created:"Criado",updated:"Atualizado",deleted:"Excludo",status_changed:"Status Alterado"})[f]||f,x=f=>Qr(new Date(f),"dd/MM/yyyy 's' HH:mm",{locale:Jo}),g=f=>{if(!f.old_values||!f.new_values)return[];const y=[],b=f.new_values,N=f.old_values;return Object.keys(b).forEach(v=>{JSON.stringify(b[v])!==JSON.stringify(N[v])&&y.push({field:v,old:N[v],new:b[v]})}),y},p=()=>{const f=["Data/Hora","Ao","Usurio","Descrio"],y=n.map(C=>[Qr(new Date(C.created_at),"dd/MM/yyyy HH:mm"),m(C.action),C.user_name||"Sistema",C.changes_summary]),b=[f.join(","),...y.map(C=>C.map(P=>`"${P}"`).join(","))].join(`
`),N=new Blob([b],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a");v.href=URL.createObjectURL(N),v.download=`auditoria-os-${t}-${Date.now()}.csv`,v.click()};return e?s.jsx(lt,{children:s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:s.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center",children:s.jsx(y0,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Histrico de Auditoria"}),s.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Todas as alteraes e aes realizadas nesta OS"})]})]}),s.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:s.jsx(At,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 border-b bg-gray-50 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:n.length})," registros encontrados"]}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Qn,{className:"w-4 h-4"}),"Exportar CSV"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(y0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum registro de auditoria"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"As alteraes aparecero aqui automaticamente"})]}):s.jsx("div",{className:"space-y-3",children:n.map((f,y)=>{const b=l.has(f.id),N=g(f);return s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg border-2 flex items-center justify-center flex-shrink-0 ${A(f.action)}`,children:h(f.action)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded border ${A(f.action)}`,children:m(f.action)}),s.jsx("span",{className:"text-xs text-gray-500",children:f.entity_type})]}),s.jsx("p",{className:"text-gray-900 font-medium mb-2",children:f.changes_summary}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-4 h-4"}),f.user_name||"Sistema"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"w-4 h-4"}),x(f.created_at)]})]}),N.length>0&&s.jsx("button",{onClick:()=>u(f.id),className:"mt-3 flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Xo,{className:"w-4 h-4"}),"Ocultar detalhes"]}):s.jsxs(s.Fragment,{children:[s.jsx(ai,{className:"w-4 h-4"}),"Ver ",N.length," ",N.length===1?"mudana":"mudanas"]})})]})]}),s.jsx(lt,{children:b&&N.length>0&&s.jsx(se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 pt-4 border-t border-gray-200 overflow-hidden",children:s.jsx("div",{className:"space-y-2",children:N.map((v,C)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2 uppercase",children:v.field.replace(/_/g," ")}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Antes"}),s.jsx("div",{className:"text-red-700 bg-red-50 px-2 py-1 rounded border border-red-200",children:String(v.old??"vazio")})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Depois"}),s.jsx("div",{className:"text-green-700 bg-green-50 px-2 py-1 rounded border border-green-200",children:String(v.new??"vazio")})]})]})]},C))})})})]})},f.id)})})}),s.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end",children:s.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar"})})]})})}):null},ope=({serviceOrderId:t,category:e="geral",onComplete:r})=>{const[n,a]=B.useState(null),[i,o]=B.useState([]),[l,c]=B.useState(!0),[d,u]=B.useState(null),[h,A]=B.useState("");B.useEffect(()=>{m()},[t]);const m=async()=>{try{c(!0);let{data:f,error:y}=await ae.from("service_order_checklists").select("*").eq("service_order_id",t).maybeSingle();if(y)throw y;if(!f){const{data:v,error:C}=await ae.rpc("create_default_checklist",{p_service_order_id:t,p_category:e});if(C)throw C;const{data:P}=await ae.from("service_order_checklists").select("*").eq("service_order_id",t).single();f=P}a(f);const{data:b,error:N}=await ae.from("service_order_checklist_items").select("*").eq("checklist_id",f.id).order("order_position");if(N)throw N;o(b||[])}catch(f){console.error("Erro ao carregar checklist:",f)}finally{c(!1)}},x=async f=>{u(f.id);try{const y=!f.is_completed,{error:b}=await ae.from("service_order_checklist_items").update({is_completed:y,completed_at:y?new Date().toISOString():null,completed_by_name:y?"Usurio":null}).eq("id",f.id);if(b)throw b;if(o(N=>N.map(v=>v.id===f.id?{...v,is_completed:y,completed_at:y?new Date().toISOString():void 0,completed_by_name:y?"Usurio":void 0}:v)),n){const{data:N}=await ae.from("service_order_checklists").select("*").eq("id",n.id).single();N&&(a(N),N.progress_percentage===100&&r&&r())}}catch(y){console.error("Erro ao atualizar item:",y),alert("Erro ao atualizar item")}finally{u(null)}},g=async()=>{if(!(!h.trim()||!n))try{const f=Math.max(...i.map(N=>N.order_position),0),{data:y,error:b}=await ae.from("service_order_checklist_items").insert({checklist_id:n.id,service_order_id:t,title:h.trim(),is_required:!1,requires_photo:!1,order_position:f+1}).select().single();if(b)throw b;o(N=>[...N,y]),A("")}catch(f){console.error("Erro ao adicionar item:",f),alert("Erro ao adicionar item")}},p=async f=>{if(confirm("Deseja realmente excluir este item?"))try{const{error:y}=await ae.from("service_order_checklist_items").delete().eq("id",f);if(y)throw y;o(b=>b.filter(N=>N.id!==f))}catch(y){console.error("Erro ao excluir item:",y),alert("Erro ao excluir item")}};return l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:n.name}),n.description&&s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:n.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-3xl font-bold",children:[n.progress_percentage.toFixed(0),"%"]}),s.jsxs("div",{className:"text-sm text-blue-100",children:[n.completed_items,"/",n.total_items," concludos"]})]})]}),s.jsx("div",{className:"w-full bg-blue-800 rounded-full h-3 overflow-hidden",children:s.jsx(se.div,{initial:{width:0},animate:{width:`${n.progress_percentage}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-green-400 to-green-500 shadow-lg"})})]}),s.jsx("div",{className:"divide-y",children:s.jsx(lt,{children:i.map((f,y)=>s.jsx(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:y*.03},className:`p-4 hover:bg-gray-50 transition-all ${f.is_completed?"bg-green-50":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("button",{onClick:()=>x(f),disabled:d===f.id,className:`flex-shrink-0 mt-1 transition-all ${d===f.id?"opacity-50":""}`,children:f.is_completed?s.jsx(Sw,{className:"w-6 h-6 text-green-600"}):s.jsx(Ale,{className:"w-6 h-6 text-gray-400 hover:text-blue-600"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:`font-medium ${f.is_completed?"text-gray-500 line-through":"text-gray-900"}`,children:[f.title,f.is_required&&s.jsx("span",{className:"ml-2 text-xs text-red-600",children:"*obrigatrio"})]}),f.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),f.is_completed&&(f.completed_at||f.completed_by_name)&&s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[f.completed_by_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-3 h-3"}),f.completed_by_name]}),f.completed_at&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"w-3 h-3"}),Qr(new Date(f.completed_at),"dd/MM/yyyy HH:mm")]})]}),f.requires_photo&&!f.photo_url&&!f.is_completed&&s.jsx("div",{className:"mt-2",children:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[s.jsx(Bv,{className:"w-4 h-4"}),"Adicionar Foto"]})})]}),!f.is_required&&s.jsx("button",{onClick:()=>p(f.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remover item",children:s.jsx(Ut,{className:"w-4 h-4"})})]})})]})},f.id))})}),s.jsx("div",{className:"p-4 border-t bg-gray-50",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:h,onChange:f=>A(f.target.value),onKeyPress:f=>f.key==="Enter"&&g(),placeholder:"Adicionar item personalizado...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),s.jsxs("button",{onClick:g,disabled:!h.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"w-4 h-4"}),"Adicionar"]})]})}),n.progress_percentage===100&&s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 bg-green-50 border-t-4 border-green-500",children:s.jsxs("div",{className:"flex items-center gap-3 text-green-800",children:[s.jsx(Sw,{className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-lg",children:"Checklist Concludo! "}),s.jsx("div",{className:"text-sm",children:"Todos os itens foram verificados com sucesso"})]})]})})]}):null};function lpe({service:t,isExpanded:e=!1,onToggle:r}){const[n,a]=B.useState(e),i=()=>{a(!n),r==null||r()},o=t.service_name||t.descricao||"Servio",l=t.service_description||t.descricao,c=t.service_scope||t.escopo_detalhado,d=t.quantity||t.quantidade||1,u=t.unit_price||t.preco_unitario||0,h=t.total_price||t.preco_total||0,A=t.estimated_duration||t.tempo_estimado_minutos,m=!!(l||c||t.technical_requirements||t.safety_warnings||t.execution_steps||t.expected_results||t.quality_standards||t.warranty_info||t.observations||t.notes);return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[s.jsxs("div",{className:"px-4 py-3 bg-gray-50 flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors",onClick:i,children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(at,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:o}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[s.jsxs("span",{children:["Qtd: ",d]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["R$ ",u.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),A&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),A,"min"]})]})]})]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total"}),s.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),m&&s.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:n?s.jsx(Xo,{className:"h-5 w-5 text-gray-600"}):s.jsx(ai,{className:"h-5 w-5 text-gray-600"})})]})]}),n&&m&&s.jsxs("div",{className:"px-4 py-4 space-y-4 border-t border-gray-200",children:[l&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qi,{className:"h-4 w-4 text-blue-600"}),s.jsx("h5",{className:"font-semibold text-gray-900",children:"Descrio"})]}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed pl-6",children:l})]}),c&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ca,{className:"h-4 w-4 text-green-600"}),s.jsx("h5",{className:"font-semibold text-gray-900",children:"Escopo do Servio"})]}),s.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:c})]}),t.technical_requirements&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(tk,{className:"h-4 w-4 text-purple-600"}),s.jsx("h5",{className:"font-semibold text-gray-900",children:"Requisitos Tcnicos"})]}),s.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.technical_requirements})]}),t.safety_warnings&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(kr,{className:"h-4 w-4 text-yellow-600"}),s.jsx("h5",{className:"font-semibold text-yellow-900",children:"Avisos de Segurana"})]}),s.jsx("div",{className:"text-yellow-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.safety_warnings})]}),t.execution_steps&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(at,{className:"h-4 w-4 text-indigo-600"}),s.jsx("h5",{className:"font-semibold text-gray-900",children:"Passos de Execuo"})]}),s.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6",children:t.execution_steps.split(`
`).map((x,g)=>s.jsxs("div",{className:"flex gap-2 mb-1",children:[s.jsxs("span",{className:"font-semibold text-indigo-600 min-w-[24px]",children:[g+1,"."]}),s.jsx("span",{children:x})]},g))})]}),t.expected_results&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ca,{className:"h-4 w-4 text-green-600"}),s.jsx("h5",{className:"font-semibold text-green-900",children:"Resultados Esperados"})]}),s.jsx("div",{className:"text-green-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.expected_results})]}),t.quality_standards&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(YE,{className:"h-4 w-4 text-blue-600"}),s.jsx("h5",{className:"font-semibold text-gray-900",children:"Padres de Qualidade"})]}),s.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.quality_standards})]}),t.warranty_info&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(jr,{className:"h-4 w-4 text-blue-600"}),s.jsx("h5",{className:"font-semibold text-blue-900",children:"Garantia"})]}),s.jsx("div",{className:"text-blue-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.warranty_info})]}),(t.observations||t.notes)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qi,{className:"h-4 w-4 text-gray-600"}),s.jsx("h5",{className:"font-semibold text-gray-900",children:"Observaes"})]}),s.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.observations||t.notes})]})]}),n&&!m&&s.jsxs("div",{className:"px-4 py-8 text-center border-t border-gray-200",children:[s.jsx(Qi,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma informao detalhada disponvel para este servio."}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Adicione descries, escopo e requisitos para melhor documentao."})]})]})}function cpe({isOpen:t,onClose:e,serviceItem:r,onSave:n}){const[a,i]=B.useState({service_name:"",service_description:"",service_scope:"",technical_requirements:"",safety_warnings:"",execution_steps:"",expected_results:"",quality_standards:"",warranty_info:"",observations:""}),[o,l]=B.useState(!1);B.useEffect(()=>{r&&t&&i({service_name:r.service_name||r.descricao||"",service_description:r.service_description||r.descricao||"",service_scope:r.service_scope||r.escopo_detalhado||"",technical_requirements:r.technical_requirements||"",safety_warnings:r.safety_warnings||"",execution_steps:r.execution_steps||"",expected_results:r.expected_results||"",quality_standards:r.quality_standards||"",warranty_info:r.warranty_info||"",observations:r.observations||r.notes||""})},[r,t]);const c=async()=>{if(r!=null&&r.id)try{l(!0);const{error:d}=await ae.from("service_order_items").update(a).eq("id",r.id);if(d)throw d;n(),e()}catch(d){console.error("Erro ao salvar:",d),alert("Erro ao salvar informaes do servio")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Informaes Detalhadas do Servio"}),s.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Adicione descries completas e requisitos tcnicos"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(at,{className:"h-4 w-4 text-blue-600"}),"Nome do Servio"]}),s.jsx("input",{type:"text",value:a.service_name,onChange:d=>i({...a,service_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalao de Ar Condicionado Split 12.000 BTUs"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Qi,{className:"h-4 w-4 text-blue-600"}),"Descrio Detalhada"]}),s.jsx("textarea",{value:a.service_description,onChange:d=>i({...a,service_description:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Descreva detalhadamente o servio a ser executado..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(at,{className:"h-4 w-4 text-green-600"}),"Escopo do Servio"]}),s.jsx("textarea",{value:a.service_scope,onChange:d=>i({...a,service_scope:d.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:`O que est includo neste servio? Ex:
 Instalao completa da unidade interna e externa
 Tubulao at 3 metros
 Suporte e dreno
 Testes de funcionamento`}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Liste tudo que est includo no servio. Use  para bullet points."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(tk,{className:"h-4 w-4 text-purple-600"}),"Requisitos Tcnicos"]}),s.jsx("textarea",{value:a.technical_requirements,onChange:d=>i({...a,technical_requirements:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Equipamentos, ferramentas ou condies necessrias..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(kr,{className:"h-4 w-4 text-yellow-600"}),"Avisos de Segurana"]}),s.jsx("textarea",{value:a.safety_warnings,onChange:d=>i({...a,safety_warnings:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none bg-yellow-50",placeholder:"EPIs necessrios, cuidados especiais, riscos a serem observados..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(at,{className:"h-4 w-4 text-indigo-600"}),"Passos de Execuo"]}),s.jsx("textarea",{value:a.execution_steps,onChange:d=>i({...a,execution_steps:d.target.value}),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:`Liste os passos da execuo (um por linha)
Ex:
Fixar suporte da unidade interna
Passar tubulao e eltrica
Instalar unidade externa
Fazer vcuo no sistema
Testar funcionamento`}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Digite um passo por linha. Sero numerados automaticamente."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(at,{className:"h-4 w-4 text-green-600"}),"Resultados Esperados"]}),s.jsx("textarea",{value:a.expected_results,onChange:d=>i({...a,expected_results:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none bg-green-50",placeholder:"O que o cliente pode esperar aps a concluso do servio..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(YE,{className:"h-4 w-4 text-blue-600"}),"Padres de Qualidade"]}),s.jsx("textarea",{value:a.quality_standards,onChange:d=>i({...a,quality_standards:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Normas tcnicas, certificaes, procedimentos de qualidade..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(jr,{className:"h-4 w-4 text-blue-600"}),"Informaes de Garantia"]}),s.jsx("textarea",{value:a.warranty_info,onChange:d=>i({...a,warranty_info:d.target.value}),rows:2,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none bg-blue-50",placeholder:"Ex: Garantia de 90 dias para mo de obra e 1 ano para equipamentos"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Qi,{className:"h-4 w-4 text-gray-600"}),"Observaes Adicionais"]}),s.jsx("textarea",{value:a.observations,onChange:d=>i({...a,observations:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Outras informaes importantes..."})]})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Preencha o mximo de informaes possvel para documentao completa"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:e,disabled:o,className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:"Cancelar"}),s.jsxs("button",{onClick:c,disabled:o,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 transition-all disabled:opacity-50 flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4"}),o?"Salvando...":"Salvar Informaes"]})]})]})]})}):null}const pq=()=>{const[t,e]=B.useState([]),r=B.useCallback((c,d,u)=>{const h=Math.random().toString(36).substring(7),A={id:h,type:c,message:d,duration:u};return e(m=>[...m,A]),h},[]),n=B.useCallback(c=>{e(d=>d.filter(u=>u.id!==c))},[]),a=B.useCallback((c,d)=>r("success",c,d),[r]),i=B.useCallback((c,d)=>r("error",c,d),[r]),o=B.useCallback((c,d)=>r("warning",c,d),[r]),l=B.useCallback((c,d)=>r("info",c,d),[r]);return{toasts:t,addToast:r,removeToast:n,success:a,error:i,warning:o,info:l}},t5=[{value:"fotos_antes",label:"Fotos Antes",icon:Bv,color:"blue"},{value:"fotos_durante",label:"Fotos Durante",icon:Bv,color:"yellow"},{value:"fotos_depois",label:"Fotos Depois",icon:Bv,color:"green"},{value:"assinaturas",label:"Assinaturas",icon:at,color:"purple"},{value:"contratos",label:"Contratos",icon:at,color:"indigo"},{value:"notas_fiscais",label:"Notas Fiscais",icon:at,color:"red"},{value:"laudos",label:"Laudos",icon:at,color:"orange"},{value:"projetos",label:"Projetos",icon:_w,color:"cyan"},{value:"orcamentos",label:"Oramentos",icon:at,color:"teal"},{value:"outros",label:"Outros",icon:C2,color:"gray"}];function dpe({serviceOrderId:t,readOnly:e=!1,onDocumentsChange:r}){const[n,a]=B.useState([]),[i,o]=B.useState([]),[l,c]=B.useState(!0),[d,u]=B.useState(!1),[h,A]=B.useState(null),[m,x]=B.useState(""),[g,p]=B.useState(null),f=pq();B.useEffect(()=>{y(),b()},[t]);const y=async()=>{try{const{data:F,error:O}=await ae.from("service_order_documents").select("*").eq("service_order_id",t).eq("status","active").order("uploaded_at",{ascending:!1});if(O)throw O;a(F||[])}catch(F){console.error("Error loading documents:",F),f.error("Erro ao carregar documentos")}finally{c(!1)}},b=async()=>{try{const{data:F,error:O}=await ae.rpc("get_service_order_documents_count",{p_service_order_id:t});if(O)throw O;o(F||[])}catch(F){console.error("Error loading stats:",F)}},N=async(F,O)=>{if(!F.length)return;u(!0);let H=0;try{for(const U of Array.from(F)){if(U.size>10*1024*1024){f.error(`${U.name} excede 10MB`);continue}const z=await v(U),{error:R}=await ae.from("service_order_documents").insert({service_order_id:t,file_name:U.name,file_type:U.type,file_size:U.size,file_url:z,category:O,title:U.name.split(".")[0],is_visible_to_client:!1,status:"active"});if(R)throw R;H++}f.success(`${H} arquivo(s) enviado(s) com sucesso!`),y(),b(),r==null||r()}catch(U){console.error("Error uploading files:",U),f.error("Erro ao enviar arquivo(s)")}finally{u(!1)}},v=F=>new Promise((O,H)=>{const U=new FileReader;U.readAsDataURL(F),U.onload=()=>O(U.result),U.onerror=z=>H(z)}),C=async F=>{if(confirm("Deseja realmente excluir este documento?"))try{const{error:O}=await ae.from("service_order_documents").update({status:"deleted"}).eq("id",F);if(O)throw O;f.success("Documento excludo com sucesso!"),y(),b(),r==null||r()}catch(O){console.error("Error deleting document:",O),f.error("Erro ao excluir documento")}},P=async(F,O)=>{try{const{error:H}=await ae.from("service_order_documents").update({is_visible_to_client:!O}).eq("id",F);if(H)throw H;const U=O?"Documento oculto do cliente":"Documento visvel para cliente";f.success(U),y()}catch(H){console.error("Error toggling visibility:",H),f.error("Erro ao alterar visibilidade")}},_=F=>{const O=document.createElement("a");O.href=F.file_url,O.download=F.file_name,O.click()},k=F=>{var O;return((O=i.find(H=>H.category===F))==null?void 0:O.count)||0},M=n.filter(F=>{var U,z;const O=!h||F.category===h,H=!m||F.file_name.toLowerCase().includes(m.toLowerCase())||((U=F.title)==null?void 0:U.toLowerCase().includes(m.toLowerCase()))||((z=F.description)==null?void 0:z.toLowerCase().includes(m.toLowerCase()));return O&&H}),j=F=>F<1024?F+" B":F<1024*1024?(F/1024).toFixed(1)+" KB":(F/(1024*1024)).toFixed(1)+" MB",S=F=>F.startsWith("image/")?Xie:at;return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:t5.slice(0,5).map(F=>{const O=k(F.value),H=F.icon;return s.jsxs("button",{onClick:()=>A(h===F.value?null:F.value),className:`p-4 rounded-lg border-2 transition-all ${h===F.value?`border-${F.color}-500 bg-${F.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(H,{className:`h-5 w-5 text-${F.color}-600`}),s.jsx("span",{className:`text-2xl font-bold text-${F.color}-600`,children:O})]}),s.jsx("p",{className:"text-sm text-gray-600",children:F.label})]},F.value)})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:m,onChange:F=>x(F.target.value),placeholder:"Buscar documentos...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),!e&&s.jsx("div",{className:"flex gap-2",children:t5.map(F=>{const O=F.icon;return s.jsxs("label",{className:`flex items-center gap-2 px-4 py-2 bg-${F.color}-500 text-white rounded-lg hover:bg-${F.color}-600 cursor-pointer transition-colors`,children:[s.jsx(O,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium hidden md:inline",children:F.label}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx",onChange:H=>H.target.files&&N(H.target.files,F.value),className:"hidden",disabled:d})]},F.value)})})]}),M.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_w,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Nenhum documento encontrado"}),!e&&s.jsx("p",{className:"text-sm text-gray-400",children:"Clique em uma categoria acima para adicionar documentos"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:M.map(F=>{const O=S(F.file_type),H=t5.find(U=>U.value===F.category);return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"relative h-48 bg-gray-100 flex items-center justify-center cursor-pointer",onClick:()=>p(F),children:[F.file_type.startsWith("image/")?s.jsx("img",{src:F.file_url,alt:F.file_name,className:"w-full h-full object-cover"}):s.jsx(O,{className:"h-16 w-16 text-gray-400"}),s.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 bg-${H==null?void 0:H.color}-500 text-white text-xs rounded`,children:H==null?void 0:H.label})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate mb-1",children:F.title||F.file_name}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[j(F.file_size),"  ",new Date(F.uploaded_at).toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>_(F),className:"flex-1 flex items-center justify-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 text-xs",children:[s.jsx(Qn,{className:"h-3.5 w-3.5"}),"Baixar"]}),!e&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>P(F.id,F.is_visible_to_client),className:`p-1.5 rounded ${F.is_visible_to_client?"bg-green-50 text-green-600":"bg-gray-100 text-gray-600"} hover:bg-opacity-80`,title:F.is_visible_to_client?"Visvel para cliente":"Oculto do cliente",children:F.is_visible_to_client?s.jsx(Ss,{className:"h-4 w-4"}):s.jsx(_2,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>C(F.id),className:"p-1.5 bg-red-50 text-red-600 rounded hover:bg-red-100",title:"Excluir",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]})]})]},F.id)})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>p(null),children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] overflow-auto",onClick:F=>F.stopPropagation(),children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-lg",children:g.title||g.file_name}),s.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(At,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"p-4",children:g.file_type.startsWith("image/")?s.jsx("img",{src:g.file_url,alt:g.file_name,className:"w-full h-auto"}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(at,{className:"h-24 w-24 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Visualizao no disponvel para este tipo de arquivo"}),s.jsx("button",{onClick:()=>_(g),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Baixar Arquivo"})]})})]})}),d&&s.jsxs("div",{className:"fixed bottom-4 right-4 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Enviando arquivo(s)..."})]})]})}const upe=()=>{var de;const{id:t}=fE(),e=ms(),[r,n]=B.useState(!0),[a,i]=B.useState(null),[o,l]=B.useState(null),[c,d]=B.useState(!1),[u,h]=B.useState(!1),[A,m]=B.useState(!1),[x,g]=B.useState(!1),[p,f]=B.useState(!1),[y,b]=B.useState(!1),[N,v]=B.useState(!1),[C,P]=B.useState(!1),[_,k]=B.useState(!1),[M,j]=B.useState([]),[S,F]=B.useState(null),[O,H]=B.useState(!1),[U,z]=B.useState(null);B.useEffect(()=>{t&&R()},[t]);const R=async()=>{try{n(!0);const le=await Pv(t);if(le){i(le);const{data:ie}=await ae.from("customers").select(`
            *,
            customer_addresses(
              logradouro,
              numero,
              complemento,
              bairro,
              cidade,
              estado,
              cep
            )
          `).eq("id",le.client_id).single();l(ie);const{data:ce}=await ae.from("service_order_items").select(`
            *,
            service_catalog:service_catalog_id(
              id,
              name,
              description,
              base_price,
              category,
              estimated_duration
            )
          `).eq("service_order_id",t),{data:be}=await ae.from("service_order_materials").select(`
            *,
            material:material_id(name, unit)
          `).eq("service_order_id",t),{data:J}=await ae.from("service_order_labor").select(`
            *,
            employee:staff_id(id, name)
          `).eq("service_order_id",t),{data:ue}=await ae.from("service_order_team").select(`
            *,
            employee:employee_id(id, name)
          `).eq("service_order_id",t);if(ce&&ce.length>0){const we=ce.map(q=>{var Z,pe,De,je;const Ne=(be||[]).filter(Me=>Me.service_order_item_id===q.id).map(Me=>{var rt,Pe;return{nome:Me.material_name||Me.nome_material||((rt=Me.material)==null?void 0:rt.name)||"Material",quantidade:Me.quantity||Me.quantidade||0,unidade_medida:Me.material_unit||((Pe=Me.material)==null?void 0:Pe.unit)||"un",preco_unitario:Me.unit_price||Me.preco_venda||0,valor_total:Me.total_price||Me.valor_total||0}}),Be=(J||[]).filter(Me=>Me.service_order_item_id===q.id).map(Me=>{var rt;return{nome:Me.nome_funcionario||((rt=Me.employee)==null?void 0:rt.name)||"Funcionrio",tempo_minutos:Me.tempo_minutos||(Me.hours?Me.hours*60:0)||0,custo_hora:Me.custo_hora||Me.hourly_rate||0,custo_total:Me.custo_total||Me.total_cost||0}});return{id:q.id,service_catalog_id:q.service_catalog_id,description:q.descricao||q.notes||((Z=q.service_catalog)==null?void 0:Z.description)||((pe=q.service_catalog)==null?void 0:pe.name)||"",name:((De=q.service_catalog)==null?void 0:De.name)||q.descricao||"",descricao:q.descricao||q.notes||((je=q.service_catalog)==null?void 0:je.name)||"",escopo:q.escopo_detalhado||q.escopo||"",escopo_detalhado:q.escopo_detalhado||q.escopo||"",scope:q.escopo_detalhado||q.escopo||"",quantity:q.quantity||q.quantidade||1,quantidade:q.quantidade||q.quantity||1,unit_price:q.unit_price||q.preco_unitario||0,preco_unitario:q.preco_unitario||q.unit_price||0,total_price:q.total_price||q.preco_total||0,preco_total:q.preco_total||q.total_price||0,estimated_duration:q.estimated_duration||q.tempo_estimado_minutos||0,tempo_estimado_minutos:q.tempo_estimado_minutos||q.estimated_duration||0,materiais:Ne,funcionarios:Be}});i({...le,items:we,team:(ue||[]).map(q=>{var Ne;return{id:q.id,employee_id:q.employee_id,nome:((Ne=q.employee)==null?void 0:Ne.name)||"Funcionrio",role:q.role||"",assigned_at:q.assigned_at}})})}const{data:ke}=await ae.from("bank_accounts").select("*").eq("is_default",!0).maybeSingle();ke&&j([ke]);const{data:Qe}=await ae.from("company_settings").select("*").maybeSingle();F(Qe)}}catch(le){console.error("Error loading order:",le),alert("Erro ao carregar ordem de servio")}finally{n(!1)}},I=async()=>{if(!a||!o)throw new Error("Dados incompletos para gerar PDF");const le=K();if(!le)throw new Error("Erro ao preparar dados do documento");return await Eg(le),new Blob([],{type:"application/pdf"})},K=()=>{var ie,ce,be;if(!a||!o)return null;const le=(ie=o.customer_addresses)==null?void 0:ie[0];return console.log(" PREPARANDO DADOS GIARTECH"),console.log(" Total de itens:",(ce=a.items)==null?void 0:ce.length),a.items&&a.items.length>0&&(console.log(" Primeiro item completo:",JSON.stringify(a.items[0],null,2)),(be=a.items[0])!=null&&be.service_catalog&&console.log(" Catlogo do primeiro item:",JSON.stringify(a.items[0].service_catalog,null,2))),{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.title||a.description||"",client:{name:a.client_name||o.nome_razao||o.name||"Cliente",company_name:a.client_company_name||o.nome_fantasia||"",cnpj:a.client_cnpj||o.cnpj||"",cpf:a.client_cpf||o.cpf||"",address:a.client_address||(le?`${le.logradouro}${le.numero?", "+le.numero:""}`:""),city:a.client_city||(le==null?void 0:le.cidade)||"",state:a.client_state||(le==null?void 0:le.estado)||"",cep:a.client_cep||(le==null?void 0:le.cep)||"",email:a.client_email||o.email||"",phone:a.client_phone||o.telefone||o.phone||""},basic_info:{deadline:a.prazo_execucao_dias?`${a.prazo_execucao_dias} dias`:"15 dias",brand:a.brand||"",model:a.model||"",equipment:a.equipment||""},items:dS(a.items||[]),subtotal:a.subtotal||a.total_value||0,discount:a.discount_amount||a.desconto_valor||0,total:a.final_total||a.total_value||0,payment:{methods:a.payment_methods||"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:a.payment_pix||(S==null?void 0:S.pix_key)||a.client_cnpj||a.client_cpf||"",bank_details:M[0]?{bank:M[0].bank_name||"Banco",agency:M[0].agency||"0001",account:M[0].account_number||"",account_type:M[0].account_type==="checking"?"Corrente":M[0].account_type==="savings"?"Poupana":"Corrente",holder:M[0].account_holder||(S==null?void 0:S.company_name)||""}:void 0,conditions:a.payment_conditions||"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":a.warranty_type==="months"?"meses":"anos"}`:"12 meses",conditions:a.warranty_terms||`Garantias referentes  sistemas de novo em tubulaes antigas, s sero vlidas, com os processos de descontaminao das tubulaes antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, s so vlidas com manuteno semestral comprovada COM LAUDO TCNICO.

Garantias extendidas pela nossa empresa, so concedidas em caso de compra das mquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter at 12 meses de acordo com o tipo e capacidade do sistema, mediante a manuteno dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:a.contract_clauses?JSON.parse(a.contract_clauses):[],additional_info:a.additional_info||"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"}},te=le=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(le),Q=le=>new Date(le).toLocaleDateString("pt-BR"),D=()=>{d(!0)},X=async()=>{if(t)try{h(!0),await jH(t),alert("Ordem de servio excluda com sucesso!"),e("/service-orders")}catch(le){console.error("Error deleting order:",le),alert("Erro ao excluir ordem de servio. Verifique se no h dependncias.")}finally{h(!1)}},V=()=>{d(!1)};return r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a?s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/service-orders"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ac,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Visualizar Ordem de Servio"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["OS #",a.order_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 shadow-lg",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Ver Oramento"]}),s.jsx(jfe,{documentType:"ordem_servico",generatePDF:I,printOptions:{documentNumber:a==null?void 0:a.order_number,clientName:(o==null?void 0:o.nome_razao)||(o==null?void 0:o.name)},label:"Imprimir OS Completa",variant:"primary",size:"md"}),s.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg hover:from-teal-700 hover:to-teal-800 flex items-center gap-2 shadow-lg",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Ver Proposta"]}),s.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 flex items-center gap-2 shadow-lg",children:[s.jsx(at,{className:"h-4 w-4"}),"Ver Contrato"]}),s.jsxs("button",{onClick:()=>e(`/service-orders?edit=${t}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Hr,{className:"h-4 w-4"}),"Editar"]}),s.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 flex items-center gap-2 shadow-lg",children:[s.jsx(lr,{className:"h-4 w-4"}),"Timeline"]}),s.jsxs("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-lg hover:from-amber-700 hover:to-amber-800 flex items-center gap-2 shadow-lg",children:[s.jsx(at,{className:"h-4 w-4"}),"Checklist"]}),s.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 flex items-center gap-2 shadow-lg",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Auditoria"]}),s.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 flex items-center gap-2 shadow-lg",children:[s.jsx(at,{className:"h-4 w-4"}),"Documentos"]}),s.jsxs("button",{onClick:D,className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 flex items-center gap-2 shadow-lg",children:[s.jsx(Ut,{className:"h-4 w-4"}),"Excluir"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-blue-600"}),"Informaes do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.nome_razao)||(o==null?void 0:o.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.telefone)||(o==null?void 0:o.phone)||"N/A"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.email)||"N/A"})]}),((o==null?void 0:o.endereco)||(o==null?void 0:o.address))&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo"}),s.jsxs("p",{className:"text-gray-900",children:[(o==null?void 0:o.endereco)||(o==null?void 0:o.address),((o==null?void 0:o.cidade)||(o==null?void 0:o.city))&&`, ${(o==null?void 0:o.cidade)||(o==null?void 0:o.city)}`,((o==null?void 0:o.estado)||(o==null?void 0:o.state))&&` - ${(o==null?void 0:o.estado)||(o==null?void 0:o.state)}`,((o==null?void 0:o.cep)||(o==null?void 0:o.zip_code))&&` - CEP: ${(o==null?void 0:o.cep)||(o==null?void 0:o.zip_code)}`]})]})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(at,{className:"h-5 w-5 text-blue-600"}),"Detalhes da Ordem"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("p",{className:"text-gray-900",children:a.description||"Sem descrio"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Criao"}),s.jsx("p",{className:"text-gray-900",children:Q(a.created_at)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista"}),s.jsx("p",{className:"text-gray-900",children:a.due_date?Q(a.due_date):a.service_date?Q(a.service_date):"No definida"})]})]})]})]}),a.items&&a.items.length>0&&s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5 text-blue-600"}),"Servios"]}),s.jsxs("button",{onClick:()=>{a.items&&a.items.length>0&&(z(a.items[0]),H(!0))},className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[s.jsx(Hr,{className:"h-4 w-4"}),"Editar Informaes"]})]}),s.jsx("div",{className:"space-y-3",children:a.items.map((le,ie)=>s.jsx(lpe,{service:le,isExpanded:!1},le.id||ie))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),s.jsxs("div",{className:"space-y-3",children:[a.items&&a.items.length>0&&s.jsx("div",{className:"space-y-2 pb-3 border-b",children:a.items.map((le,ie)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 flex-1 mr-2",children:le.descricao||le.description||le.service_name||"Servio"}),s.jsx("span",{className:"font-medium whitespace-nowrap",children:te(le.total_price||le.total||(le.unit_price||le.price||0)*(le.quantity||1))})]},ie))}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),s.jsx("span",{className:"font-semibold",children:te(a.subtotal_value||a.total_value||0)})]}),a.discount_value>0&&s.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[s.jsx("span",{children:"Desconto:"}),s.jsxs("span",{className:"font-semibold",children:["-",te(a.discount_value)]})]}),s.jsx("div",{className:"pt-3 border-t",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:te(a.total_value||0)})]})})]})]}),s.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Status Atual:"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="in_progress"?"bg-blue-100 text-blue-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status==="completed"?"Concluda":a.status==="in_progress"?"Em Andamento":a.status==="pending"?"Pendente":a.status})})]})})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Ut,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Servio"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Esta ao no pode ser desfeita"})]})]})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Voc est prestes a excluir a seguinte OS:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Nmero:"})," ",a==null?void 0:a.order_number]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Cliente:"})," ",(o==null?void 0:o.nome_razao)||(o==null?void 0:o.name)]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Servio:"})," ",a==null?void 0:a.service_type]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Valor:"})," ",te((a==null?void 0:a.total_cost)||0)]})]})]})]})}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:" Ateno!"}),s.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados sero permanentemente removidos do sistema. Esta ao  irreversvel."})]})]})}),s.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:V,disabled:u,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:X,disabled:u,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"h-5 w-5"}),"Confirmar Excluso"]})})]})]})]})}),s.jsx(Cfe,{isOpen:A,onClose:()=>m(!1),serviceOrderId:t||""}),a&&o&&s.jsxs(s.Fragment,{children:[s.jsx(Efe,{isOpen:p,onClose:()=>f(!1),data:K()}),s.jsx(Bfe,{isOpen:x,onClose:()=>g(!1),data:{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.description||"",client:{name:o.nome_razao||o.name||"Cliente",company_name:o.nome_razao,cnpj:o.cnpj_cpf,address:(()=>{var ie;const le=(ie=o.customer_addresses)==null?void 0:ie[0];return le?`${le.logradouro}${le.numero?", "+le.numero:""}${le.complemento?" - "+le.complemento:""}`:o.address_street?`${o.address_street}${o.address_number?", "+o.address_number:""}${o.address_complement?" - "+o.address_complement:""}`:o.endereco||o.address})(),city:(()=>{var ie;const le=(ie=o.customer_addresses)==null?void 0:ie[0];return(le==null?void 0:le.cidade)||o.address_city||o.cidade||o.city})(),state:(()=>{var ie;const le=(ie=o.customer_addresses)==null?void 0:ie[0];return(le==null?void 0:le.estado)||o.address_state||o.estado||o.state})(),cep:(()=>{var ie;const le=(ie=o.customer_addresses)==null?void 0:ie[0];return(le==null?void 0:le.cep)||o.address_zip_code||o.cep||o.zip_code})(),email:o.email,phone:o.telefone||o.phone},company:{name:(S==null?void 0:S.company_name)||"Giartech Solues",owner:(S==null?void 0:S.owner_name)||"Tiago Bruno Giaquinto",cnpj:(S==null?void 0:S.cnpj)||"375.098.970",address:(S==null?void 0:S.address)||"Rua Quito 14, 14",city:(S==null?void 0:S.city)||"So Paulo",state:(S==null?void 0:S.state)||"SP",cep:S==null?void 0:S.zip_code,email:(S==null?void 0:S.email)||"giartechsolucoes@gmail.com",phones:S!=null&&S.phone?[S.phone]:["+351 511 966 617","+351 511 943 985"],social:{instagram:"@tg.arconnection",facebook:"@tgarconnection",website:"tgarconnection.com.br"},tagline:"Sua satisfao  o que motiva a nossa dedicao"},basic_info:{deadline:a.estimated_hours?`${a.estimated_hours} horas`:"3 DIAS",brand:a.equipment_brand,model:a.equipment_model},items:(a.items||[]).map(le=>{var ie,ce;return{description:((ie=le.service_catalog)==null?void 0:ie.name)||le.service_name||le.name||le.descricao||le.description||"Servio",scope:le.notes||((ce=le.service_catalog)==null?void 0:ce.description)||le.scope||le.description||"",unit:le.unit||"un.",unit_price:le.unit_price||le.preco_unitario||le.price||0,quantity:le.quantity||le.quantidade||1,total_price:le.total_price||le.preco_total||(le.unit_price||le.preco_unitario||le.price||0)*(le.quantity||le.quantidade||1)}}),subtotal:a.subtotal_value||a.total_value||0,discount:a.discount_value||a.desconto_valor||0,total:a.total_value||0,show_value:a.show_value!==!1,relatorio_tecnico:a.relatorio_tecnico,orientacoes_servico:a.orientacoes_servico,escopo_detalhado:a.escopo_detalhado,payment:{methods:a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia Bancria":"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:((de=M[0])==null?void 0:de.pix_key)||(S==null?void 0:S.cnpj),bank_details:M[0]?{bank:M[0].bank_name,agency:M[0].agency,account:M[0].account_number,account_type:M[0].account_type==="checking"?"Corrente":"Poupana",holder:M[0].account_holder}:void 0,conditions:a.payment_installments&&a.payment_installments>1?`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia":"Diversos"}
Parcelas: ${a.payment_installments}x
LINK DE PAGAMENTO EM ${a.payment_installments}X SEM JUROS / DEMAIS PARCELAS INCIDNCIA DE JUROS DA MQUINA
 VISTA 5% DE DESCONTO`:`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia":" Vista"}
Pagamento  vista com 5% de desconto`},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":"meses"}`:"90 dias",conditions:a.warranty_terms||`Garantias referentes  sistemas de novo em tubulaes antigas, s sero vlidas, com os processos de descontaminao das tubulaes antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, s so vlidas com manuteno semestral comprovada COM LAUDO TCNICO.

Garantias extendidas pela nossa empresa, so concedidas em caso de compra das mquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter at 12 meses de acordo com o tipo e capacidade do sistema, mediante a manuteno dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:`1. Obrigaes do Cliente
1.1. O cliente deve fornecer todas as informaes necessrias para a execuo adequada dos servios contratados, incluindo, mas no se limitando a, especificaes tcnicas, localizao e horrios preferenciais para a realizao dos servios, como tambm a planta do imvel e projeto arquitetnico.
1.2. O cliente deve garantir o acesso seguro e adequado s instalaes onde os servios sero realizados.
1.3. O cliente deve comunicar prontamente qualquer problema ou defeito observado nos servios prestados.
1.4.  de responsabilidade do cliente o destelhamento e reinstalao do telhado.

2. Obrigaes do Contratante
2.1. O contratante deve realizar os servios de acordo com as especificaes tcnicas fornecidas pelo cliente e de acordo com os padres da indstria.
2.2. O contratante deve cumprir todos os prazos acordados para a execuo dos servios.
2.3. O contratante deve manter o cliente informado sobre o progresso dos servios e quaisquer problemas ou atrasos que possam surgir.

3. Regras de Resciso
3.1. Ambas as partes tm o direito de rescindir o contrato a qualquer momento, com um aviso prvio de 30 dias.
3.2. Em caso de violao de qualquer uma das obrigaes estabelecidas neste contrato, a parte no infratora tem o direito de rescindir o contrato imediatamente, sem necessidade de aviso prvio.

4. Regras Gerais
4.1. Este contrato no cria qualquer relao de parceria, joint venture, emprego ou agncia entre as partes.
4.2. Nenhuma das partes pode ceder ou transferir seus direitos ou obrigaes sob este contrato sem o consentimento prvio por escrito da outra parte.
4.3. Este contrato constitui o acordo completo entre as partes e substitui todos os acordos anteriores, escritos ou orais, relacionados ao seu objeto.`,additional_info:a.notes||`Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana

obrigado pela confiana, estaremos  disposio.`}})]}),y&&t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Timeline de Status"}),s.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]}),s.jsx("div",{className:"p-6",children:s.jsx(ape,{serviceOrderId:t,isOpen:y,onClose:()=>b(!1)})})]})}),N&&t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Histrico de Auditoria"}),s.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]}),s.jsx("div",{className:"p-6",children:s.jsx(ipe,{serviceOrderId:t,isOpen:N,onClose:()=>v(!1)})})]})}),C&&t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Checklist de Execuo"}),s.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]}),s.jsx("div",{className:"p-6",children:s.jsx(ope,{serviceOrderId:t})})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[90vh] overflow-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Documentos da OS"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gerencie fotos, contratos, notas fiscais e outros documentos"})]}),s.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""})]}),s.jsx("div",{className:"p-6",children:s.jsx(dpe,{serviceOrderId:t,onDocumentsChange:R})})]})}),s.jsx(cpe,{isOpen:O,onClose:()=>{H(!1),z(null)},serviceItem:U,onSave:()=>{R(),H(!1),z(null)}})]}):s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Ordem de servio no encontrada"}),s.jsx("button",{onClick:()=>e("/service-orders"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uS=function(t,e){return uS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},uS(t,e)};function No(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hS=function(){return hS=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hS.apply(this,arguments)};function ma(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,[])).next())})}function Gs(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function mb(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var Yl=function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),R2=function(t,e){return Yl.fromClientRect(t,e.getBoundingClientRect())},hpe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Yl(0,0,n,a)},Q2=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},On=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},iI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ape=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fb=0;fb<iI.length;fb++)Ape[iI.charCodeAt(fb)]=fb;var oI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pb=0;pb<oI.length;pb++)Yp[oI.charCodeAt(pb)]=pb;var mpe=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=Yp[t.charCodeAt(n)],o=Yp[t.charCodeAt(n+1)],l=Yp[t.charCodeAt(n+2)],c=Yp[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},fpe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},ppe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Vu=5,dk=11,r5=2,gpe=dk-Vu,gq=65536>>Vu,xpe=1<<Vu,n5=xpe-1,ype=1024>>Vu,bpe=gq+ype,vpe=bpe,wpe=32,jpe=vpe+wpe,Npe=65536>>dk,_pe=1<<gpe,Cpe=_pe-1,lI=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Spe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Bpe=function(t,e){var r=mpe(t),n=Array.isArray(r)?ppe(r):new Uint32Array(r),a=Array.isArray(r)?fpe(r):new Uint16Array(r),i=24,o=lI(a,i/2,n[4]/2),l=n[5]===2?lI(a,(i+n[4])/2):Spe(n,Math.ceil((i+n[4])/4));return new Epe(n[0],n[1],n[2],n[3],o,l)},Epe=function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Vu],r=(r<<r5)+(e&n5),this.data[r];if(e<=65535)return r=this.index[gq+(e-55296>>Vu)],r=(r<<r5)+(e&n5),this.data[r];if(e<this.highStart)return r=jpe-Npe+(e>>dk),r=this.index[r],r+=e>>Vu&Cpe,r=this.index[r],r=(r<<r5)+(e&n5),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),cI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gb=0;gb<cI.length;gb++)kpe[cI.charCodeAt(gb)]=gb;var Ppe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",dI=50,Fpe=1,xq=2,yq=3,Tpe=4,Ope=5,uI=7,bq=8,hI=9,Wc=10,AS=11,AI=12,mS=13,Ipe=14,Jp=15,fS=16,xb=17,_p=18,Dpe=19,mI=20,pS=21,Cp=22,s5=23,cA=24,Xa=25,Zp=26,eg=27,dA=28,Mpe=29,Nu=30,Lpe=31,yb=32,bb=33,gS=34,xS=35,yS=36,S0=37,bS=38,Mv=39,Lv=40,a5=41,vq=42,Upe=43,Rpe=[9001,65288],wq="!",ir="",vb="",vS=Bpe(Ppe),xl=[Nu,yS],wS=[Fpe,xq,yq,Ope],jq=[Wc,bq],fI=[eg,Zp],Qpe=wS.concat(jq),pI=[bS,Mv,Lv,gS,xS],$pe=[Jp,mS],Hpe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(i,o){var l=vS.get(i);if(l>dI?(a.push(!0),l-=dI):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(fS);if(l===Tpe||l===AS){if(o===0)return n.push(o),r.push(Nu);var c=r[o-1];return Qpe.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(Nu))}if(n.push(o),l===Lpe)return r.push(e==="strict"?pS:S0);if(l===vq||l===Mpe)return r.push(Nu);if(l===Upe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(S0):r.push(Nu);r.push(l)}),[n,r,a]},i5=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===e)return!0;if(o!==Wc)break}if(a===Wc)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==Wc)break}if(l!==Wc)break}return!1},gI=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Wc)r--;else return n}return 0},qpe=function(t,e,r,n,a){if(r[n]===0)return ir;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return ir;var o=i-1,l=i+1,c=e[i],d=o>=0?e[o]:0,u=e[l];if(c===xq&&u===yq)return ir;if(wS.indexOf(c)!==-1)return wq;if(wS.indexOf(u)!==-1||jq.indexOf(u)!==-1)return ir;if(gI(i,e)===bq)return vb;if(vS.get(t[i])===AS||(c===yb||c===bb)&&vS.get(t[l])===AS||c===uI||u===uI||c===hI||[Wc,mS,Jp].indexOf(c)===-1&&u===hI||[xb,_p,Dpe,cA,dA].indexOf(u)!==-1||gI(i,e)===Cp||i5(s5,Cp,i,e)||i5([xb,_p],pS,i,e)||i5(AI,AI,i,e))return ir;if(c===Wc)return vb;if(c===s5||u===s5)return ir;if(u===fS||c===fS)return vb;if([mS,Jp,pS].indexOf(u)!==-1||c===Ipe||d===yS&&$pe.indexOf(c)!==-1||c===dA&&u===yS||u===mI||xl.indexOf(u)!==-1&&c===Xa||xl.indexOf(c)!==-1&&u===Xa||c===eg&&[S0,yb,bb].indexOf(u)!==-1||[S0,yb,bb].indexOf(c)!==-1&&u===Zp||xl.indexOf(c)!==-1&&fI.indexOf(u)!==-1||fI.indexOf(c)!==-1&&xl.indexOf(u)!==-1||[eg,Zp].indexOf(c)!==-1&&(u===Xa||[Cp,Jp].indexOf(u)!==-1&&e[l+1]===Xa)||[Cp,Jp].indexOf(c)!==-1&&u===Xa||c===Xa&&[Xa,dA,cA].indexOf(u)!==-1)return ir;if([Xa,dA,cA,xb,_p].indexOf(u)!==-1)for(var h=i;h>=0;){var A=e[h];if(A===Xa)return ir;if([dA,cA].indexOf(A)!==-1)h--;else break}if([eg,Zp].indexOf(u)!==-1)for(var h=[xb,_p].indexOf(c)!==-1?o:i;h>=0;){var A=e[h];if(A===Xa)return ir;if([dA,cA].indexOf(A)!==-1)h--;else break}if(bS===c&&[bS,Mv,gS,xS].indexOf(u)!==-1||[Mv,gS].indexOf(c)!==-1&&[Mv,Lv].indexOf(u)!==-1||[Lv,xS].indexOf(c)!==-1&&u===Lv||pI.indexOf(c)!==-1&&[mI,Zp].indexOf(u)!==-1||pI.indexOf(u)!==-1&&c===eg||xl.indexOf(c)!==-1&&xl.indexOf(u)!==-1||c===cA&&xl.indexOf(u)!==-1||xl.concat(Xa).indexOf(c)!==-1&&u===Cp&&Rpe.indexOf(t[l])===-1||xl.concat(Xa).indexOf(u)!==-1&&c===_p)return ir;if(c===a5&&u===a5){for(var m=r[i],x=1;m>0&&(m--,e[m]===a5);)x++;if(x%2!==0)return ir}return c===yb&&u===bb?ir:vb},zpe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=Hpe(t,e.lineBreak),n=r[0],a=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[Xa,Nu,vq].indexOf(l)!==-1?S0:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},Vpe=function(){function t(e,r,n,a){this.codePoints=e,this.required=r===wq,this.start=n,this.end=a}return t.prototype.slice=function(){return On.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Kpe=function(t,e){var r=Q2(t),n=zpe(r,e),a=n[0],i=n[1],o=n[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=ir;d<l&&(u=qpe(r,i,a,++d,o))===ir;);if(u!==ir||d===l){var h=new Vpe(r,u,c,d);return c=d,{value:h,done:!1}}return{done:!0,value:null}}}},Wpe=1,Gpe=2,Px=4,xI=8,Lw=10,yI=47,kg=92,Xpe=9,Ype=32,wb=34,Sp=61,Jpe=35,Zpe=36,ege=37,jb=39,Nb=40,Bp=41,tge=95,Ta=45,rge=33,nge=60,sge=62,age=64,ige=91,oge=93,lge=61,cge=123,_b=63,dge=125,bI=124,uge=126,hge=128,vI=65533,o5=42,Tu=43,Age=44,mge=58,fge=59,B0=46,pge=0,gge=8,xge=11,yge=14,bge=31,vge=127,Fo=-1,Nq=48,_q=97,Cq=101,wge=102,jge=117,Nge=122,Sq=65,Bq=69,Eq=70,_ge=85,Cge=90,Js=function(t){return t>=Nq&&t<=57},Sge=function(t){return t>=55296&&t<=57343},uA=function(t){return Js(t)||t>=Sq&&t<=Eq||t>=_q&&t<=wge},Bge=function(t){return t>=_q&&t<=Nge},Ege=function(t){return t>=Sq&&t<=Cge},kge=function(t){return Bge(t)||Ege(t)},Pge=function(t){return t>=hge},Cb=function(t){return t===Lw||t===Xpe||t===Ype},Uw=function(t){return kge(t)||Pge(t)||t===tge},wI=function(t){return Uw(t)||Js(t)||t===Ta},Fge=function(t){return t>=pge&&t<=gge||t===xge||t>=yge&&t<=bge||t===vge},Mc=function(t,e){return t!==kg?!1:e!==Lw},Sb=function(t,e,r){return t===Ta?Uw(e)||Mc(e,r):Uw(t)?!0:!!(t===kg&&Mc(t,e))},l5=function(t,e,r){return t===Tu||t===Ta?Js(e)?!0:e===B0&&Js(r):Js(t===B0?e:t)},Tge=function(t){var e=0,r=1;(t[e]===Tu||t[e]===Ta)&&(t[e]===Ta&&(r=-1),e++);for(var n=[];Js(t[e]);)n.push(t[e++]);var a=n.length?parseInt(On.apply(void 0,n),10):0;t[e]===B0&&e++;for(var i=[];Js(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(On.apply(void 0,i),10):0;(t[e]===Bq||t[e]===Cq)&&e++;var c=1;(t[e]===Tu||t[e]===Ta)&&(t[e]===Ta&&(c=-1),e++);for(var d=[];Js(t[e]);)d.push(t[e++]);var u=d.length?parseInt(On.apply(void 0,d),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},Oge={type:2},Ige={type:3},Dge={type:4},Mge={type:13},Lge={type:8},Uge={type:21},Rge={type:9},Qge={type:10},$ge={type:11},Hge={type:12},qge={type:14},Bb={type:23},zge={type:1},Vge={type:25},Kge={type:24},Wge={type:26},Gge={type:27},Xge={type:28},Yge={type:29},Jge={type:31},jS={type:32},kq=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Q2(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==jS;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case wb:return this.consumeStringToken(wb);case Jpe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(wI(r)||Mc(n,a)){var i=Sb(r,n,a)?Gpe:Wpe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case Zpe:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),Mge;break;case jb:return this.consumeStringToken(jb);case Nb:return Oge;case Bp:return Ige;case o5:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),qge;break;case Tu:if(l5(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Age:return Dge;case Ta:var l=e,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(l5(l,c,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Sb(l,c,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Ta&&d===sge)return this.consumeCodePoint(),this.consumeCodePoint(),Kge;break;case B0:if(l5(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yI:if(this.peekCodePoint(0)===o5)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===o5&&(u=this.consumeCodePoint(),u===yI))return this.consumeToken();if(u===Fo)return this.consumeToken()}break;case mge:return Wge;case fge:return Gge;case nge:if(this.peekCodePoint(0)===rge&&this.peekCodePoint(1)===Ta&&this.peekCodePoint(2)===Ta)return this.consumeCodePoint(),this.consumeCodePoint(),Vge;break;case age:var h=this.peekCodePoint(0),A=this.peekCodePoint(1),m=this.peekCodePoint(2);if(Sb(h,A,m)){var o=this.consumeName();return{type:7,value:o}}break;case ige:return Xge;case kg:if(Mc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case oge:return Yge;case lge:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),Lge;break;case cge:return $ge;case dge:return Hge;case jge:case _ge:var x=this.peekCodePoint(0),g=this.peekCodePoint(1);return x===Tu&&(uA(g)||g===_b)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case bI:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),Rge;if(this.peekCodePoint(0)===bI)return this.consumeCodePoint(),Uge;break;case uge:if(this.peekCodePoint(0)===Sp)return this.consumeCodePoint(),Qge;break;case Fo:return jS}return Cb(e)?(this.consumeWhiteSpace(),Jge):Js(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Uw(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:On(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();uA(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===_b&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(On.apply(void 0,e.map(function(c){return c===_b?Nq:c})),16),i=parseInt(On.apply(void 0,e.map(function(c){return c===_b?Eq:c})),16);return{type:30,start:a,end:i}}var o=parseInt(On.apply(void 0,e),16);if(this.peekCodePoint(0)===Ta&&uA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];uA(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(On.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Nb?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Nb?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Fo)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===jb||r===wb){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Fo||this.peekCodePoint(0)===Bp)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Bb)}for(;;){var a=this.consumeCodePoint();if(a===Fo||a===Bp)return{type:22,value:On.apply(void 0,e)};if(Cb(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Fo||this.peekCodePoint(0)===Bp?(this.consumeCodePoint(),{type:22,value:On.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Bb);if(a===wb||a===jb||a===Nb||Fge(a))return this.consumeBadUrlRemnants(),Bb;if(a===kg)if(Mc(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Bb;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;Cb(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Bp||e===Fo)return;Mc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=On.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===Fo||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Lw)return this._value.splice(0,n),zge;if(a===kg){var i=this._value[n+1];i!==Fo&&i!==void 0&&(i===Lw?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Mc(a,i)&&(r+=this.consumeStringSlice(n),r+=On(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Px,n=this.peekCodePoint(0);for((n===Tu||n===Ta)&&e.push(this.consumeCodePoint());Js(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===B0&&Js(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=xI;Js(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Bq||n===Cq)&&((a===Tu||a===Ta)&&Js(i)||Js(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=xI;Js(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Tge(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Sb(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===ege?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(uA(e)){for(var r=On(e);uA(this.peekCodePoint(0))&&r.length<6;)r+=On(this.consumeCodePoint());Cb(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Sge(n)||n>1114111?vI:n}return e===Fo?vI:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(wI(r))e+=On(r);else if(Mc(r,this.peekCodePoint(0)))e+=On(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),Pq=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new kq;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||e0e(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?jS:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Fx=function(t){return t.type===15},vf=function(t){return t.type===17},Lr=function(t){return t.type===20},Zge=function(t){return t.type===0},NS=function(t,e){return Lr(t)&&t.value===e},Fq=function(t){return t.type!==31},Im=function(t){return t.type!==31&&t.type!==4},sl=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},e0e=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Ed=function(t){return t.type===17||t.type===15},Yn=function(t){return t.type===16||Ed(t)},Tq=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ls={type:17,number:0,flags:Px},uk={type:16,number:50,flags:Px},Gc={type:16,number:100,flags:Px},tg=function(t,e,r){var n=t[0],a=t[1];return[Yr(n,e),Yr(typeof a<"u"?a:n,r)]},Yr=function(t,e){if(t.type===16)return t.number/100*e;if(Fx(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Oq="deg",Iq="grad",Dq="rad",Mq="turn",$2={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Oq:return Math.PI*e.number/180;case Iq:return Math.PI/200*e.number;case Dq:return e.number;case Mq:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Lq=function(t){return t.type===15&&(t.unit===Oq||t.unit===Iq||t.unit===Dq||t.unit===Mq)},Uq=function(t){var e=t.filter(Lr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ls,Ls];case"to top":case"bottom":return Ii(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ls,Gc];case"to right":case"left":return Ii(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gc,Gc];case"to bottom":case"top":return Ii(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gc,Ls];case"to left":case"right":return Ii(270)}return 0},Ii=function(t){return Math.PI*t/180},hd={name:"color",parse:function(t,e){if(e.type===18){var r=t0e[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return Xc(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return Xc(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return Xc(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return Xc(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=Ul[e.value.toUpperCase()];if(typeof l<"u")return l}return Ul.TRANSPARENT}},Ad=function(t){return(255&t)===0},bs=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},Xc=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},jI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},NI=function(t,e){var r=e.filter(Im);if(r.length===3){var n=r.map(jI),a=n[0],i=n[1],o=n[2];return Xc(a,i,o,1)}if(r.length===4){var l=r.map(jI),a=l[0],i=l[1],o=l[2],c=l[3];return Xc(a,i,o,c)}return 0};function c5(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var _I=function(t,e){var r=e.filter(Im),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?Ii(n.number):$2.parse(t,n))/(Math.PI*2),c=Yn(a)?a.number/100:0,d=Yn(i)?i.number/100:0,u=typeof o<"u"&&Yn(o)?Yr(o,1):1;if(c===0)return Xc(d*255,d*255,d*255,1);var h=d<=.5?d*(c+1):d+c-d*c,A=d*2-h,m=c5(A,h,l+1/3),x=c5(A,h,l),g=c5(A,h,l-1/3);return Xc(m*255,x*255,g*255,u)},t0e={hsl:_I,hsla:_I,rgb:NI,rgba:NI},Pg=function(t,e){return hd.parse(t,Pq.create(e).parseComponentValue())},Ul={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},r0e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Lr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},n0e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},H2=function(t,e){var r=hd.parse(t,e[0]),n=e[1];return n&&Yn(n)?{color:r,stop:n}:{color:r,stop:null}},CI=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Ls),n.stop===null&&(n.stop=Gc);for(var a=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=Yr(l,e);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,A=a[d-1],m=(u-A)/(h+1),x=1;x<=h;x++)a[d+x-1]=m*x;d=null}}return t.map(function(g,p){var f=g.color;return{color:f,stop:Math.max(Math.min(1,a[p]/e),0)}})},s0e=function(t,e,r){var n=e/2,a=r/2,i=Yr(t[0],e)-n,o=a-Yr(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},a0e=function(t,e,r){var n=typeof t=="number"?t:s0e(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},ao=function(t,e){return Math.sqrt(t*t+e*e)},SI=function(t,e,r,n,a){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=ao(r-c,n-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},i0e=function(t,e,r,n,a){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)i=o=Math.min(ao(e,r),ao(e,r-a),ao(e-n,r),ao(e-n,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=SI(n,a,e,r,!0),d=c[0],u=c[1];i=ao(d-e,(u-r)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)i=o=Math.max(ao(e,r),ao(e,r-a),ao(e-n,r),ao(e-n,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),h=SI(n,a,e,r,!1),d=h[0],u=h[1];i=ao(d-e,(u-r)/l),o=l*i}break}return Array.isArray(t.size)&&(i=Yr(t.size[0],n),o=t.size.length===2?Yr(t.size[1],a):i),[i,o]},o0e=function(t,e){var r=Ii(180),n=[];return sl(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=Uq(a);return}else if(Lq(o)){r=$2.parse(t,o);return}}var l=H2(t,a);n.push(l)}),{angle:r,stops:n,type:1}},Eb=function(t,e){var r=Ii(180),n=[];return sl(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Uq(a);return}else if(Lq(o)){r=($2.parse(t,o)+Ii(270))%Ii(360);return}}var l=H2(t,a);n.push(l)}),{angle:r,stops:n,type:1}},l0e=function(t,e){var r=Ii(180),n=[],a=1,i=0,o=3,l=[];return sl(e).forEach(function(c,d){var u=c[0];if(d===0){if(Lr(u)&&u.value==="linear"){a=1;return}else if(Lr(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var h=hd.parse(t,u.values[0]);n.push({stop:Ls,color:h})}else if(u.name==="to"){var h=hd.parse(t,u.values[0]);n.push({stop:Gc,color:h})}else if(u.name==="color-stop"){var A=u.values.filter(Im);if(A.length===2){var h=hd.parse(t,A[1]),m=A[0];vf(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:h})}}}}),a===1?{angle:(r+Ii(180))%Ii(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},Rq="closest-side",Qq="farthest-side",$q="closest-corner",Hq="farthest-corner",qq="circle",zq="ellipse",Vq="cover",Kq="contain",c0e=function(t,e){var r=0,n=3,a=[],i=[];return sl(e).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(h,A){if(d)if(Lr(A))switch(A.value){case"center":return i.push(uk),h;case"top":case"left":return i.push(Ls),h;case"right":case"bottom":return i.push(Gc),h}else(Yn(A)||Ed(A))&&i.push(A);else if(Lr(A))switch(A.value){case qq:return r=0,!1;case zq:return r=1,!1;case"at":return d=!0,!1;case Rq:return n=0,!1;case Vq:case Qq:return n=1,!1;case Kq:case $q:return n=2,!1;case Hq:return n=3,!1}else if(Ed(A)||Yn(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return h},c)}if(c){var u=H2(t,o);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},kb=function(t,e){var r=0,n=3,a=[],i=[];return sl(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,h){if(Lr(h))switch(h.value){case"center":return i.push(uk),!1;case"top":case"left":return i.push(Ls),!1;case"right":case"bottom":return i.push(Gc),!1}else if(Yn(h)||Ed(h))return i.push(h),!1;return u},c):l===1&&(c=o.reduce(function(u,h){if(Lr(h))switch(h.value){case qq:return r=0,!1;case zq:return r=1,!1;case Kq:case Rq:return n=0,!1;case Qq:return n=1,!1;case $q:return n=2,!1;case Vq:case Hq:return n=3,!1}else if(Ed(h)||Yn(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},c)),c){var d=H2(t,o);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},d0e=function(t){return t.type===1},u0e=function(t){return t.type===2},hk={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Wq[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function h0e(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Wq[t.name])}var Wq={"linear-gradient":o0e,"-moz-linear-gradient":Eb,"-ms-linear-gradient":Eb,"-o-linear-gradient":Eb,"-webkit-linear-gradient":Eb,"radial-gradient":c0e,"-moz-radial-gradient":kb,"-ms-radial-gradient":kb,"-o-radial-gradient":kb,"-webkit-radial-gradient":kb,"-webkit-gradient":l0e},A0e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Im(n)&&h0e(n)}).map(function(n){return hk.parse(t,n)})}},m0e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Lr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},f0e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return sl(e).map(function(r){return r.filter(Yn)}).map(Tq)}},p0e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return sl(e).map(function(r){return r.filter(Lr).map(function(n){return n.value}).join(" ")}).map(g0e)}},g0e=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},xm;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(xm||(xm={}));var x0e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return sl(e).map(function(r){return r.filter(y0e)})}},y0e=function(t){return Lr(t)||Yn(t)},q2=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},b0e=q2("top"),v0e=q2("right"),w0e=q2("bottom"),j0e=q2("left"),z2=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return Tq(r.filter(Yn))}}},N0e=z2("top-left"),_0e=z2("top-right"),C0e=z2("bottom-right"),S0e=z2("bottom-left"),V2=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},B0e=V2("top"),E0e=V2("right"),k0e=V2("bottom"),P0e=V2("left"),K2=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Fx(r)?r.number:0}}},F0e=K2("top"),T0e=K2("right"),O0e=K2("bottom"),I0e=K2("left"),D0e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},M0e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},L0e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Lr).reduce(function(r,n){return r|U0e(n.value)},0)}},U0e=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},R0e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Q0e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Rw;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Rw||(Rw={}));var $0e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Rw.STRICT;case"normal":default:return Rw.NORMAL}}},H0e={name:"line-height",initialValue:"normal",prefix:!1,type:4},BI=function(t,e){return Lr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Yn(t)?Yr(t,e):e},q0e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:hk.parse(t,e)}},z0e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},_S={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},W2=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},V0e=W2("top"),K0e=W2("right"),W0e=W2("bottom"),G0e=W2("left"),X0e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Lr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Y0e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},G2=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},J0e=G2("top"),Z0e=G2("right"),exe=G2("bottom"),txe=G2("left"),rxe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},nxe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sxe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&NS(e[0],"none")?[]:sl(e).map(function(r){for(var n={color:Ul.TRANSPARENT,offsetX:Ls,offsetY:Ls,blur:Ls},a=0,i=0;i<r.length;i++){var o=r[i];Ed(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=hd.parse(t,o)}return n})}},axe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ixe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=cxe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},oxe=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},lxe=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,a,i,o,l]:null},cxe={matrix:oxe,matrix3d:lxe},EI={type:16,number:50,flags:Px},dxe=[EI,EI],uxe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Yn);return r.length!==2?dxe:[r[0],r[1]]}},hxe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Fg;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Fg||(Fg={}));var Axe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Fg.BREAK_ALL;case"keep-all":return Fg.KEEP_ALL;case"normal":default:return Fg.NORMAL}}},mxe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(vf(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Gq={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},fxe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return vf(e)?e.number:1}},pxe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gxe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Lr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},xxe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},yxe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bxe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(vf(e))return e.number;if(Lr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},vxe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Lr).map(function(r){return r.value})}},wxe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},cs=function(t,e){return(t&e)!==0},jxe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Nxe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter(Fq),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&vf(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},_xe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(Fq),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(Lr(i)&&i.value!=="none"){var l=o&&vf(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},Cxe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Fx).map(function(r){return Gq.parse(t,r)})}},Sxe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(Zge);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},kI=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},Bxe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&NS(e[0],"none")?[]:sl(e).map(function(r){for(var n={color:255,offsetX:Ls,offsetY:Ls,blur:Ls,spread:Ls,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];NS(o,"inset")?n.inset=!0:Ed(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=hd.parse(t,o)}return n})}},Exe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Lr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},kxe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Pxe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Fx(e)?e.number:0}},Fxe=function(){function t(e,r){var n,a;this.animationDuration=gt(e,Cxe,r.animationDuration),this.backgroundClip=gt(e,r0e,r.backgroundClip),this.backgroundColor=gt(e,n0e,r.backgroundColor),this.backgroundImage=gt(e,A0e,r.backgroundImage),this.backgroundOrigin=gt(e,m0e,r.backgroundOrigin),this.backgroundPosition=gt(e,f0e,r.backgroundPosition),this.backgroundRepeat=gt(e,p0e,r.backgroundRepeat),this.backgroundSize=gt(e,x0e,r.backgroundSize),this.borderTopColor=gt(e,b0e,r.borderTopColor),this.borderRightColor=gt(e,v0e,r.borderRightColor),this.borderBottomColor=gt(e,w0e,r.borderBottomColor),this.borderLeftColor=gt(e,j0e,r.borderLeftColor),this.borderTopLeftRadius=gt(e,N0e,r.borderTopLeftRadius),this.borderTopRightRadius=gt(e,_0e,r.borderTopRightRadius),this.borderBottomRightRadius=gt(e,C0e,r.borderBottomRightRadius),this.borderBottomLeftRadius=gt(e,S0e,r.borderBottomLeftRadius),this.borderTopStyle=gt(e,B0e,r.borderTopStyle),this.borderRightStyle=gt(e,E0e,r.borderRightStyle),this.borderBottomStyle=gt(e,k0e,r.borderBottomStyle),this.borderLeftStyle=gt(e,P0e,r.borderLeftStyle),this.borderTopWidth=gt(e,F0e,r.borderTopWidth),this.borderRightWidth=gt(e,T0e,r.borderRightWidth),this.borderBottomWidth=gt(e,O0e,r.borderBottomWidth),this.borderLeftWidth=gt(e,I0e,r.borderLeftWidth),this.boxShadow=gt(e,Bxe,r.boxShadow),this.color=gt(e,D0e,r.color),this.direction=gt(e,M0e,r.direction),this.display=gt(e,L0e,r.display),this.float=gt(e,R0e,r.cssFloat),this.fontFamily=gt(e,xxe,r.fontFamily),this.fontSize=gt(e,yxe,r.fontSize),this.fontStyle=gt(e,wxe,r.fontStyle),this.fontVariant=gt(e,vxe,r.fontVariant),this.fontWeight=gt(e,bxe,r.fontWeight),this.letterSpacing=gt(e,Q0e,r.letterSpacing),this.lineBreak=gt(e,$0e,r.lineBreak),this.lineHeight=gt(e,H0e,r.lineHeight),this.listStyleImage=gt(e,q0e,r.listStyleImage),this.listStylePosition=gt(e,z0e,r.listStylePosition),this.listStyleType=gt(e,_S,r.listStyleType),this.marginTop=gt(e,V0e,r.marginTop),this.marginRight=gt(e,K0e,r.marginRight),this.marginBottom=gt(e,W0e,r.marginBottom),this.marginLeft=gt(e,G0e,r.marginLeft),this.opacity=gt(e,fxe,r.opacity);var i=gt(e,X0e,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=gt(e,Y0e,r.overflowWrap),this.paddingTop=gt(e,J0e,r.paddingTop),this.paddingRight=gt(e,Z0e,r.paddingRight),this.paddingBottom=gt(e,exe,r.paddingBottom),this.paddingLeft=gt(e,txe,r.paddingLeft),this.paintOrder=gt(e,Exe,r.paintOrder),this.position=gt(e,nxe,r.position),this.textAlign=gt(e,rxe,r.textAlign),this.textDecorationColor=gt(e,pxe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=gt(e,gxe,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=gt(e,sxe,r.textShadow),this.textTransform=gt(e,axe,r.textTransform),this.transform=gt(e,ixe,r.transform),this.transformOrigin=gt(e,uxe,r.transformOrigin),this.visibility=gt(e,hxe,r.visibility),this.webkitTextStrokeColor=gt(e,kxe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=gt(e,Pxe,r.webkitTextStrokeWidth),this.wordBreak=gt(e,Axe,r.wordBreak),this.zIndex=gt(e,mxe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ad(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return cs(this.display,4)||cs(this.display,33554432)||cs(this.display,268435456)||cs(this.display,536870912)||cs(this.display,67108864)||cs(this.display,134217728)},t}(),Txe=function(){function t(e,r){this.content=gt(e,jxe,r.content),this.quotes=gt(e,Sxe,r.quotes)}return t}(),PI=function(){function t(e,r){this.counterIncrement=gt(e,Nxe,r.counterIncrement),this.counterReset=gt(e,_xe,r.counterReset)}return t}(),gt=function(t,e,r){var n=new kq,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var i=new Pq(n.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,Lr(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return $2.parse(t,i.parseComponentValue());case"color":return hd.parse(t,i.parseComponentValue());case"image":return hk.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return Ed(l)?l:Ls;case"length-percentage":var c=i.parseComponentValue();return Yn(c)?c:Ls;case"time":return Gq.parse(t,i.parseComponentValue())}break}},Oxe="data-html2canvas-debug",Ixe=function(t){var e=t.getAttribute(Oxe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},CS=function(t,e){var r=Ixe(t);return r===1||e===r},al=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,CS(r,3))debugger;this.styles=new Fxe(e,window.getComputedStyle(r,null)),ES(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=R2(this.context,r),CS(r,4)&&(this.flags|=16)}return t}(),Dxe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",FI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pb=0;Pb<FI.length;Pb++)rg[FI.charCodeAt(Pb)]=Pb;var Mxe=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=rg[t.charCodeAt(n)],o=rg[t.charCodeAt(n+1)],l=rg[t.charCodeAt(n+2)],c=rg[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},Lxe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Uxe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Ku=5,Ak=11,d5=2,Rxe=Ak-Ku,Xq=65536>>Ku,Qxe=1<<Ku,u5=Qxe-1,$xe=1024>>Ku,Hxe=Xq+$xe,qxe=Hxe,zxe=32,Vxe=qxe+zxe,Kxe=65536>>Ak,Wxe=1<<Rxe,Gxe=Wxe-1,TI=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Xxe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Yxe=function(t,e){var r=Mxe(t),n=Array.isArray(r)?Uxe(r):new Uint32Array(r),a=Array.isArray(r)?Lxe(r):new Uint16Array(r),i=24,o=TI(a,i/2,n[4]/2),l=n[5]===2?TI(a,(i+n[4])/2):Xxe(n,Math.ceil((i+n[4])/4));return new Jxe(n[0],n[1],n[2],n[3],o,l)},Jxe=function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Ku],r=(r<<d5)+(e&u5),this.data[r];if(e<=65535)return r=this.index[Xq+(e-55296>>Ku)],r=(r<<d5)+(e&u5),this.data[r];if(e<this.highStart)return r=Vxe-Kxe+(e>>Ak),r=this.index[r],r+=e>>Ku&Gxe,r=this.index[r],r=(r<<d5)+(e&u5),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),OI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zxe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fb=0;Fb<OI.length;Fb++)Zxe[OI.charCodeAt(Fb)]=Fb;var eye=1,h5=2,A5=3,II=4,DI=5,tye=7,MI=8,m5=9,f5=10,LI=11,UI=12,RI=13,QI=14,p5=15,rye=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},nye=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},sye=Yxe(Dxe),Ci="",g5="",aye=function(t){return sye.get(t)},iye=function(t,e,r){var n=r-2,a=e[n],i=e[r-1],o=e[r];if(i===h5&&o===A5)return Ci;if(i===h5||i===A5||i===II||o===h5||o===A5||o===II)return g5;if(i===MI&&[MI,m5,LI,UI].indexOf(o)!==-1||(i===LI||i===m5)&&(o===m5||o===f5)||(i===UI||i===f5)&&o===f5||o===RI||o===DI||o===tye||i===eye)return Ci;if(i===RI&&o===QI){for(;a===DI;)a=e[--n];if(a===QI)return Ci}if(i===p5&&o===p5){for(var l=0;a===p5;)l++,a=e[--n];if(l%2===0)return Ci}return g5},oye=function(t){var e=rye(t),r=e.length,n=0,a=0,i=e.map(aye);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Ci;n<r&&(o=iye(e,i,++n))===Ci;);if(o!==Ci||n===r){var l=nye.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},lye=function(t){for(var e=oye(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},cye=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(n),i===e)return!0}}return!1},dye=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=Q2(n.data).map(function(c){return On(c)}),i=0,o={},l=a.every(function(c,d){r.setStart(n,i),r.setEnd(n,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var h=u.x>o.x||u.y>o.y;return o=u,d===0?!0:h});return t.body.removeChild(e),l},uye=function(){return typeof new Image().crossOrigin<"u"},hye=function(){return typeof new XMLHttpRequest().responseType=="string"},Aye=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},$I=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},mye=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=e.toDataURL();a.src=i;var o=SS(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),HI(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",$I(c)?HI(SS(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),$I(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},SS=function(t,e,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},HI=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ds={get SUPPORT_RANGE_BOUNDS(){var t=cye(document);return Object.defineProperty(Ds,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ds.SUPPORT_RANGE_BOUNDS&&dye(document);return Object.defineProperty(Ds,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Aye(document);return Object.defineProperty(Ds,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?mye(document):Promise.resolve(!1);return Object.defineProperty(Ds,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=uye();return Object.defineProperty(Ds,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=hye();return Object.defineProperty(Ds,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ds,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ds,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Tg=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),fye=function(t,e,r,n){var a=xye(e,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Ds.SUPPORT_RANGE_BOUNDS){var c=qI(n,o,l.length).getClientRects();if(c.length>1){var d=mk(l),u=0;d.forEach(function(A){i.push(new Tg(A,Yl.fromDOMRectList(t,qI(n,u+o,A.length).getClientRects()))),u+=A.length})}else i.push(new Tg(l,Yl.fromDOMRectList(t,c)))}else{var h=n.splitText(l.length);i.push(new Tg(l,pye(t,n))),n=h}else Ds.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},pye=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var i=R2(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return Yl.EMPTY},qI=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},mk=function(t){if(Ds.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return lye(t)},gye=function(t,e){if(Ds.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return bye(t,e)},xye=function(t,e){return e.letterSpacing!==0?mk(t):gye(t,e)},yye=[32,160,4961,65792,65793,4153,4241],bye=function(t,e){for(var r=Kpe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=Q2(o),c="";l.forEach(function(d){yye.indexOf(d)===-1?c+=On(d):(c.length&&n.push(c),n.push(On(d)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},vye=function(){function t(e,r,n){this.text=wye(r.data,n.textTransform),this.textBounds=fye(e,this.text,n,r)}return t}(),wye=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(jye,Nye);case 2:return t.toUpperCase();default:return t}},jye=/(^|\s|:|-|\(|\))([a-z])/g,Nye=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Yq=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e}(al),Jq=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e}(al),Zq=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=new XMLSerializer,o=R2(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e}(al),ez=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(al),BS=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e}(al),_ye=[{type:15,flags:0,unit:"px",number:3}],Cye=[{type:16,flags:0,number:50}],Sye=function(t){return t.width>t.height?new Yl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Yl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Bye=function(t){var e=t.type===Eye?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Qw="checkbox",$w="radio",Eye="password",zI=707406591,fk=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=Bye(n),(a.type===Qw||a.type===$w)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Sye(a.bounds)),a.type){case Qw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=_ye;break;case $w:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Cye;break}return a}return e}(al),tz=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return e}(al),rz=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(al),nz=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=az(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Pg(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ul.TRANSPARENT,o=n.contentWindow.document.body?Pg(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ul.TRANSPARENT;a.backgroundColor=Ad(i)?Ad(o)?a.styles.backgroundColor:o:i}}catch{}return a}return e}(al),kye=["OL","UL","MENU"],Uv=function(t,e,r,n){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,iz(a)&&a.data.trim().length>0)r.textNodes.push(new vye(t,a,r.styles));else if(zA(a))if(dz(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return Uv(t,l,r,n)});else{var o=sz(t,a);o.styles.isVisible()&&(Pye(a,o,n)?o.flags|=4:Fye(o.styles)&&(o.flags|=2),kye.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?Uv(t,a.shadowRoot,o,n):!Hw(a)&&!oz(a)&&!qw(a)&&Uv(t,a,o,n))}},sz=function(t,e){return kS(e)?new Yq(t,e):lz(e)?new Jq(t,e):oz(e)?new Zq(t,e):Tye(e)?new ez(t,e):Oye(e)?new BS(t,e):Iye(e)?new fk(t,e):qw(e)?new tz(t,e):Hw(e)?new rz(t,e):cz(e)?new nz(t,e):new al(t,e)},az=function(t,e){var r=sz(t,e);return r.flags|=4,Uv(t,e,r,r),r},Pye=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||pk(t)&&r.styles.isTransparent()},Fye=function(t){return t.isPositioned()||t.isFloating()},iz=function(t){return t.nodeType===Node.TEXT_NODE},zA=function(t){return t.nodeType===Node.ELEMENT_NODE},ES=function(t){return zA(t)&&typeof t.style<"u"&&!Rv(t)},Rv=function(t){return typeof t.className=="object"},Tye=function(t){return t.tagName==="LI"},Oye=function(t){return t.tagName==="OL"},Iye=function(t){return t.tagName==="INPUT"},Dye=function(t){return t.tagName==="HTML"},oz=function(t){return t.tagName==="svg"},pk=function(t){return t.tagName==="BODY"},lz=function(t){return t.tagName==="CANVAS"},VI=function(t){return t.tagName==="VIDEO"},kS=function(t){return t.tagName==="IMG"},cz=function(t){return t.tagName==="IFRAME"},KI=function(t){return t.tagName==="STYLE"},Mye=function(t){return t.tagName==="SCRIPT"},Hw=function(t){return t.tagName==="TEXTAREA"},qw=function(t){return t.tagName==="SELECT"},dz=function(t){return t.tagName==="SLOT"},WI=function(t){return t.tagName.indexOf("-")>0},Lye=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),GI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},XI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Uye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Rye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hA=function(t,e,r,n,a,i){return t<e||t>r?E0(t,a,i.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+i},uz=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},Fn=function(t,e,r,n,a){var i=r-e+1;return(t<0?"-":"")+(uz(Math.abs(t),i,n,function(o){return On(Math.floor(o%i)+e)})+a)},nu=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return uz(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},NA=1,Tc=2,Oc=4,ng=8,yl=function(t,e,r,n,a,i){if(t<-9999||t>9999)return E0(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&cs(i,NA)&&l!==""?l=e[d]+l:d>1||d===1&&c===0||d===1&&c===1&&cs(i,Tc)||d===1&&c===1&&cs(i,Oc)&&t>100||d===1&&c>1&&cs(i,ng)?l=e[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},YI="",JI="",ZI="",x5="",E0=function(t,e,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Fn(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return nu(t,"",a);case 6:return hA(t,1,3999,GI,3,n).toLowerCase();case 7:return hA(t,1,3999,GI,3,n);case 8:return Fn(t,945,969,!1,n);case 9:return Fn(t,97,122,!1,n);case 10:return Fn(t,65,90,!1,n);case 11:return Fn(t,1632,1641,!0,n);case 12:case 49:return hA(t,1,9999,XI,3,n);case 35:return hA(t,1,9999,XI,3,n).toLowerCase();case 13:return Fn(t,2534,2543,!0,n);case 14:case 30:return Fn(t,6112,6121,!0,n);case 15:return nu(t,"",a);case 16:return nu(t,"",a);case 17:case 48:return yl(t,"",YI,"",a,Tc|Oc|ng);case 47:return yl(t,"",JI,"",a,NA|Tc|Oc|ng);case 42:return yl(t,"",YI,"",a,Tc|Oc|ng);case 41:return yl(t,"",JI,"",a,NA|Tc|Oc|ng);case 26:return yl(t,"","",ZI,a,0);case 25:return yl(t,"","",ZI,a,NA|Tc|Oc);case 31:return yl(t,"","",x5,i,NA|Tc|Oc);case 33:return yl(t,"","",x5,i,0);case 32:return yl(t,"","",x5,i,NA|Tc|Oc);case 18:return Fn(t,2406,2415,!0,n);case 20:return hA(t,1,19999,Rye,3,n);case 21:return Fn(t,2790,2799,!0,n);case 22:return Fn(t,2662,2671,!0,n);case 22:return hA(t,1,10999,Uye,3,n);case 23:return nu(t,"");case 24:return nu(t,"");case 27:return Fn(t,3302,3311,!0,n);case 28:return nu(t,"",a);case 29:return nu(t,"",a);case 34:return Fn(t,3792,3801,!0,n);case 37:return Fn(t,6160,6169,!0,n);case 38:return Fn(t,4160,4169,!0,n);case 39:return Fn(t,2918,2927,!0,n);case 40:return Fn(t,1776,1785,!0,n);case 43:return Fn(t,3046,3055,!0,n);case 44:return Fn(t,3174,3183,!0,n);case 45:return Fn(t,3664,3673,!0,n);case 46:return Fn(t,3872,3881,!0,n);case 3:default:return Fn(t,48,57,!0,n)}},hz="data-html2canvas-ignore",eD=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Lye,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=Qye(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=qye(a).then(function(){return ma(n,void 0,void 0,function(){var u,h;return Gs(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(Wye),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Hye(c)]:[3,4];case 3:A.sent(),A.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Vye(document.doctype)+"<html></html>"),Kye(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(e){if(CS(e,2))debugger;if(lz(e))return this.createCanvasClone(e);if(VI(e))return this.createVideoClone(e);if(KI(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return kS(r)&&(kS(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),WI(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return y5(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!zA(r)||!Mye(r)&&!r.hasAttribute(hz)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!zA(r)||!KI(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(zA(i)&&dz(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(iz(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&zA(e)&&(ES(e)||Rv(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&ES(a)&&(this.clonedReferenceElement=a),pk(a)&&Yye(a);var c=this.counters.parse(new PI(this.context,i)),d=this.resolvePseudoContent(e,a,o,Og.BEFORE);WI(e)&&(r=!0),VI(e)||this.cloneChildNodes(e,a,r),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(e,a,l,Og.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||Rv(e))&&!cz(e)||r)&&y5(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Hw(e)||qw(e))&&(Hw(a)||qw(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new PI(this.context,n));var c=new Txe(this.context,n),d=l.createElement("html2canvaspseudoelement");y5(n,d),c.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var A=l.createElement("img");A.src=h.value,A.style.opacity="1",d.appendChild(A)}else if(h.type===18){if(h.name==="attr"){var m=h.values.filter(Lr);m.length&&d.appendChild(l.createTextNode(e.getAttribute(m[0].value)||""))}else if(h.name==="counter"){var x=h.values.filter(Im),g=x[0],p=x[1];if(g&&Lr(g)){var f=i.counters.getCounterValue(g.value),y=p&&Lr(p)?_S.parse(i.context,p.value):3;d.appendChild(l.createTextNode(E0(f,y,!1)))}}else if(h.name==="counters"){var b=h.values.filter(Im),g=b[0],N=b[1],p=b[2];if(g&&Lr(g)){var v=i.counters.getCounterValues(g.value),C=p&&Lr(p)?_S.parse(i.context,p.value):3,P=N&&N.type===0?N.value:"",_=v.map(function(j){return E0(j,C,!1)}).join(P);d.appendChild(l.createTextNode(_))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(kI(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(kI(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=PS+" "+FS;var u=a===Og.BEFORE?" "+PS:" "+FS;return Rv(r)?r.className.baseValue+=u:r.className+=u,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Og;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Og||(Og={}));var Qye=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(hz,"true"),t.body.appendChild(r),r},$ye=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Hye=function(t){return Promise.all([].slice.call(t.images,0).map($ye))},qye=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},zye=["all","d","content"],y5=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);zye.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Vye=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Kye=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Wye=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Gye=":before",Xye=":after",PS="___html2canvas___pseudoelement_before",FS="___html2canvas___pseudoelement_after",tD=`{
    content: "" !important;
    display: none !important;
}`,Yye=function(t){Jye(t,"."+PS+Gye+tD+`
         .`+FS+Xye+tD)},Jye=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},Az=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Zye=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(v5(e)||nbe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ma(this,void 0,void 0,function(){var r,n,a,i,o=this;return Gs(this,function(l){switch(l.label){case 0:return r=Az.isSameOrigin(e),n=!b5(e)&&this._options.useCORS===!0&&Ds.SUPPORT_CORS_IMAGES&&!r,a=!b5(e)&&!r&&!v5(e)&&typeof this._options.proxy=="string"&&Ds.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!b5(e)&&!v5(e)&&!a&&!n?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(sbe(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,o){var l=Ds.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(A){return o(A)},!1),h.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},t}(),ebe=/^data:image\/svg\+xml/i,tbe=/^data:image\/.*;base64,/i,rbe=/^data:image\/.*/i,nbe=function(t){return Ds.SUPPORT_SVG_DRAWING||!abe(t)},b5=function(t){return rbe.test(t)},sbe=function(t){return tbe.test(t)},v5=function(t){return t.substr(0,4)==="blob"},abe=function(t){return t.substr(-3).toLowerCase()==="svg"||ebe.test(t)},mt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),AA=function(t,e,r){return new mt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Tb=function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=AA(this.start,this.startControl,e),a=AA(this.startControl,this.endControl,e),i=AA(this.endControl,this.end,e),o=AA(n,a,e),l=AA(a,i,e),c=AA(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ki=function(t){return t.type===1},ibe=function(){function t(e){var r=e.styles,n=e.bounds,a=tg(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=tg(r.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=tg(r.borderBottomRightRadius,n.width,n.height),h=u[0],A=u[1],m=tg(r.borderBottomLeftRadius,n.width,n.height),x=m[0],g=m[1],p=[];p.push((i+c)/n.width),p.push((x+h)/n.width),p.push((o+g)/n.height),p.push((d+A)/n.height);var f=Math.max.apply(Math,p);f>1&&(i/=f,o/=f,c/=f,d/=f,h/=f,A/=f,x/=f,g/=f);var y=n.width-c,b=n.height-A,N=n.width-h,v=n.height-g,C=r.borderTopWidth,P=r.borderRightWidth,_=r.borderBottomWidth,k=r.borderLeftWidth,M=Yr(r.paddingTop,e.bounds.width),j=Yr(r.paddingRight,e.bounds.width),S=Yr(r.paddingBottom,e.bounds.width),F=Yr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?dn(n.left+k/3,n.top+C/3,i-k/3,o-C/3,wr.TOP_LEFT):new mt(n.left+k/3,n.top+C/3),this.topRightBorderDoubleOuterBox=i>0||o>0?dn(n.left+y,n.top+C/3,c-P/3,d-C/3,wr.TOP_RIGHT):new mt(n.left+n.width-P/3,n.top+C/3),this.bottomRightBorderDoubleOuterBox=h>0||A>0?dn(n.left+N,n.top+b,h-P/3,A-_/3,wr.BOTTOM_RIGHT):new mt(n.left+n.width-P/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=x>0||g>0?dn(n.left+k/3,n.top+v,x-k/3,g-_/3,wr.BOTTOM_LEFT):new mt(n.left+k/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?dn(n.left+k*2/3,n.top+C*2/3,i-k*2/3,o-C*2/3,wr.TOP_LEFT):new mt(n.left+k*2/3,n.top+C*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?dn(n.left+y,n.top+C*2/3,c-P*2/3,d-C*2/3,wr.TOP_RIGHT):new mt(n.left+n.width-P*2/3,n.top+C*2/3),this.bottomRightBorderDoubleInnerBox=h>0||A>0?dn(n.left+N,n.top+b,h-P*2/3,A-_*2/3,wr.BOTTOM_RIGHT):new mt(n.left+n.width-P*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||g>0?dn(n.left+k*2/3,n.top+v,x-k*2/3,g-_*2/3,wr.BOTTOM_LEFT):new mt(n.left+k*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=i>0||o>0?dn(n.left+k/2,n.top+C/2,i-k/2,o-C/2,wr.TOP_LEFT):new mt(n.left+k/2,n.top+C/2),this.topRightBorderStroke=i>0||o>0?dn(n.left+y,n.top+C/2,c-P/2,d-C/2,wr.TOP_RIGHT):new mt(n.left+n.width-P/2,n.top+C/2),this.bottomRightBorderStroke=h>0||A>0?dn(n.left+N,n.top+b,h-P/2,A-_/2,wr.BOTTOM_RIGHT):new mt(n.left+n.width-P/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=x>0||g>0?dn(n.left+k/2,n.top+v,x-k/2,g-_/2,wr.BOTTOM_LEFT):new mt(n.left+k/2,n.top+n.height-_/2),this.topLeftBorderBox=i>0||o>0?dn(n.left,n.top,i,o,wr.TOP_LEFT):new mt(n.left,n.top),this.topRightBorderBox=c>0||d>0?dn(n.left+y,n.top,c,d,wr.TOP_RIGHT):new mt(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||A>0?dn(n.left+N,n.top+b,h,A,wr.BOTTOM_RIGHT):new mt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||g>0?dn(n.left,n.top+v,x,g,wr.BOTTOM_LEFT):new mt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?dn(n.left+k,n.top+C,Math.max(0,i-k),Math.max(0,o-C),wr.TOP_LEFT):new mt(n.left+k,n.top+C),this.topRightPaddingBox=c>0||d>0?dn(n.left+Math.min(y,n.width-P),n.top+C,y>n.width+P?0:Math.max(0,c-P),Math.max(0,d-C),wr.TOP_RIGHT):new mt(n.left+n.width-P,n.top+C),this.bottomRightPaddingBox=h>0||A>0?dn(n.left+Math.min(N,n.width-k),n.top+Math.min(b,n.height-_),Math.max(0,h-P),Math.max(0,A-_),wr.BOTTOM_RIGHT):new mt(n.left+n.width-P,n.top+n.height-_),this.bottomLeftPaddingBox=x>0||g>0?dn(n.left+k,n.top+Math.min(v,n.height-_),Math.max(0,x-k),Math.max(0,g-_),wr.BOTTOM_LEFT):new mt(n.left+k,n.top+n.height-_),this.topLeftContentBox=i>0||o>0?dn(n.left+k+F,n.top+C+M,Math.max(0,i-(k+F)),Math.max(0,o-(C+M)),wr.TOP_LEFT):new mt(n.left+k+F,n.top+C+M),this.topRightContentBox=c>0||d>0?dn(n.left+Math.min(y,n.width+k+F),n.top+C+M,y>n.width+k+F?0:c-k+F,d-(C+M),wr.TOP_RIGHT):new mt(n.left+n.width-(P+j),n.top+C+M),this.bottomRightContentBox=h>0||A>0?dn(n.left+Math.min(N,n.width-(k+F)),n.top+Math.min(b,n.height+C+M),Math.max(0,h-(P+j)),A-(_+S),wr.BOTTOM_RIGHT):new mt(n.left+n.width-(P+j),n.top+n.height-(_+S)),this.bottomLeftContentBox=x>0||g>0?dn(n.left+k+F,n.top+v,Math.max(0,x-(k+F)),g-(_+S),wr.BOTTOM_LEFT):new mt(n.left+k+F,n.top+n.height-(_+S))}return t}(),wr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(wr||(wr={}));var dn=function(t,e,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=t+r,d=e+n;switch(a){case wr.TOP_LEFT:return new Tb(new mt(t,d),new mt(t,d-l),new mt(c-o,e),new mt(c,e));case wr.TOP_RIGHT:return new Tb(new mt(t,e),new mt(t+o,e),new mt(c,d-l),new mt(c,d));case wr.BOTTOM_RIGHT:return new Tb(new mt(c,e),new mt(c,e+l),new mt(t+o,d),new mt(t,d));case wr.BOTTOM_LEFT:default:return new Tb(new mt(c,d),new mt(c-o,d),new mt(t,e+l),new mt(t,e))}},zw=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},obe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Vw=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},lbe=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Ob=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),cbe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),dbe=function(t){return t.type===0},mz=function(t){return t.type===1},ube=function(t){return t.type===2},rD=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},hbe=function(t,e,r,n,a){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+a);case 3:return i.add(e,r+a)}return i})},fz=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),pz=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new ibe(this.container),this.container.styles.opacity<1&&this.effects.push(new cbe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new lbe(n,a,i))}if(this.container.styles.overflowX!==0){var o=zw(this.curves),l=Vw(this.curves);rD(o,l)?this.effects.push(new Ob(o,6)):(this.effects.push(new Ob(o,2)),this.effects.push(new Ob(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!mz(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=zw(n.curves),l=Vw(n.curves);rD(o,l)||a.unshift(new Ob(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return cs(c.target,e)})},t}(),TS=function(t,e,r,n){t.container.elements.forEach(function(a){var i=cs(a.flags,4),o=cs(a.flags,2),l=new pz(a,t);cs(a.styles.display,2048)&&n.push(l);var c=cs(a.flags,8)?[]:n;if(i||o){var d=i||a.styles.isPositioned()?r:e,u=new fz(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var A=0;d.negativeZIndex.some(function(x,g){return h>x.element.container.styles.zIndex.order?(A=g,!1):A>0}),d.negativeZIndex.splice(A,0,u)}else if(h>0){var m=0;d.positiveZIndex.some(function(x,g){return h>=x.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),d.positiveZIndex.splice(m,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);TS(l,u,i?u:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),TS(l,e,r,c);cs(a.flags,8)&&gz(a,c)})},gz=function(t,e){for(var r=t instanceof BS?t.start:1,n=t instanceof BS?t.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof ez&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=E0(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},Abe=function(t){var e=new pz(t,null),r=new fz(e),n=[];return TS(e,r,r,n),gz(e.container,n),r},nD=function(t,e){switch(e){case 0:return Di(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Di(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Di(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Di(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},mbe=function(t,e){switch(e){case 0:return Di(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Di(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Di(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Di(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},fbe=function(t,e){switch(e){case 0:return Di(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Di(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Di(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Di(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},pbe=function(t,e){switch(e){case 0:return Ib(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Ib(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Ib(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Ib(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Ib=function(t,e){var r=[];return ki(t)?r.push(t.subdivide(.5,!1)):r.push(t),ki(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Di=function(t,e,r,n){var a=[];return ki(t)?a.push(t.subdivide(.5,!1)):a.push(t),ki(r)?a.push(r.subdivide(.5,!0)):a.push(r),ki(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ki(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},xz=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Kw=function(t){var e=t.styles,r=t.bounds,n=Yr(e.paddingLeft,r.width),a=Yr(e.paddingRight,r.width),i=Yr(e.paddingTop,r.width),o=Yr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+i+o))},gbe=function(t,e){return t===0?e.bounds:t===2?Kw(e):xz(e)},xbe=function(t,e){return t===0?e.bounds:t===2?Kw(e):xz(e)},w5=function(t,e,r){var n=gbe(_A(t.styles.backgroundOrigin,e),t),a=xbe(_A(t.styles.backgroundClip,e),t),i=ybe(_A(t.styles.backgroundSize,e),r,n),o=i[0],l=i[1],c=tg(_A(t.styles.backgroundPosition,e),n.width-o,n.height-l),d=bbe(_A(t.styles.backgroundRepeat,e),c,i,n,a),u=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[d,u,h,o,l]},mA=function(t){return Lr(t)&&t.value===xm.AUTO},Db=function(t){return typeof t=="number"},ybe=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Yn(o)&&l&&Yn(l))return[Yr(o,r.width),Yr(l,r.height)];var c=Db(i);if(Lr(o)&&(o.value===xm.CONTAIN||o.value===xm.COVER)){if(Db(i)){var d=r.width/r.height;return d<i!=(o.value===xm.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=Db(n),h=Db(a),A=u||h;if(mA(o)&&(!l||mA(l))){if(u&&h)return[n,a];if(!c&&!A)return[r.width,r.height];if(A&&c){var m=u?n:a*i,x=h?a:n/i;return[m,x]}var g=u?n:r.width,p=h?a:r.height;return[g,p]}if(c){var f=0,y=0;return Yn(o)?f=Yr(o,r.width):Yn(l)&&(y=Yr(l,r.height)),mA(o)?f=y*i:(!l||mA(l))&&(y=f/i),[f,y]}var b=null,N=null;if(Yn(o)?b=Yr(o,r.width):l&&Yn(l)&&(N=Yr(l,r.height)),b!==null&&(!l||mA(l))&&(N=u&&h?b/n*a:r.height),N!==null&&mA(o)&&(b=u&&h?N/a*n:r.width),b!==null&&N!==null)return[b,N];throw new Error("Unable to calculate background-size for element")},_A=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},bbe=function(t,e,r,n,a){var i=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new mt(Math.round(n.left),Math.round(n.top+o)),new mt(Math.round(n.left+n.width),Math.round(n.top+o)),new mt(Math.round(n.left+n.width),Math.round(c+n.top+o)),new mt(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new mt(Math.round(n.left+i),Math.round(n.top)),new mt(Math.round(n.left+i+l),Math.round(n.top)),new mt(Math.round(n.left+i+l),Math.round(n.height+n.top)),new mt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new mt(Math.round(n.left+i),Math.round(n.top+o)),new mt(Math.round(n.left+i+l),Math.round(n.top+o)),new mt(Math.round(n.left+i+l),Math.round(n.top+o+c)),new mt(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new mt(Math.round(a.left),Math.round(a.top)),new mt(Math.round(a.left+a.width),Math.round(a.top)),new mt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new mt(Math.round(a.left),Math.round(a.height+a.top))]}},vbe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",sD="Hidden Text",wbe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=vbe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(sD)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(sD)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),yz=function(){function t(e,r){this.context=e,this.options=r}return t}(),jbe=1e4,Nbe=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new wbe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),ube(r)&&(this.ctx.globalAlpha=r.opacity),dbe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),mz(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ma(this,void 0,void 0,function(){var n;return Gs(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ma(this,void 0,void 0,function(){return Gs(this,function(n){switch(n.label){case 0:if(cs(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=mk(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Ebe(r.fontFamily).join(", "),i=Fx(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(r,n){return ma(this,void 0,void 0,function(){var a,i,o,l,c,d,u,h,A=this;return Gs(this,function(m){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,h=n.paintOrder,r.textBounds.forEach(function(x){h.forEach(function(g){switch(g){case 0:A.ctx.fillStyle=bs(n.color),A.renderTextWithLetterSpacing(x,n.letterSpacing,d);var p=n.textShadow;p.length&&x.text.trim().length&&(p.slice(0).reverse().forEach(function(f){A.ctx.shadowColor=bs(f.color),A.ctx.shadowOffsetX=f.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=f.offsetY.number*A.options.scale,A.ctx.shadowBlur=f.blur.number,A.renderTextWithLetterSpacing(x,n.letterSpacing,d)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),n.textDecorationLine.length&&(A.ctx.fillStyle=bs(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(f){switch(f){case 1:A.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+d),x.bounds.width,1);break;case 2:A.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:A.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+u),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(A.ctx.strokeStyle=bs(n.webkitTextStrokeColor),A.ctx.lineWidth=n.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+d)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Kw(r),o=Vw(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ma(this,void 0,void 0,function(){var n,a,i,o,l,c,y,y,d,u,h,A,N,m,x,v,g,p,f,y,b,N,v;return Gs(this,function(C){switch(C.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,C.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:C.sent(),C.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof Yq))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=C.sent(),this.renderReplacedElement(n,a,y),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Jq&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof Zq))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=C.sent(),this.renderReplacedElement(n,a,y),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof nz&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=C.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),C.label=14;case 14:if(n instanceof fk&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Qw?n.checked&&(this.ctx.save(),this.path([new mt(n.bounds.left+h*.39363,n.bounds.top+h*.79),new mt(n.bounds.left+h*.16,n.bounds.top+h*.5549),new mt(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new mt(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new mt(n.bounds.left+h*.72983,n.bounds.top+h*.23),new mt(n.bounds.left+h*.84,n.bounds.top+h*.34085),new mt(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=bs(zI),this.ctx.fill(),this.ctx.restore()):n.type===$w&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=bs(zI),this.ctx.fill(),this.ctx.restore())),_be(n)&&n.value.length){switch(A=this.createFontStyle(i),N=A[0],m=A[1],x=this.fontMetrics.getMetrics(N,m).baseline,this.ctx.font=N,this.ctx.fillStyle=bs(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Sbe(n.styles.textAlign),v=Kw(n),g=0,n.styles.textAlign){case 1:g+=v.width/2;break;case 2:g+=v.width;break}p=v.add(g,0,0,-v.height/2+1),this.ctx.save(),this.path([new mt(v.left,v.top),new mt(v.left+v.width,v.top),new mt(v.left+v.width,v.top+v.height),new mt(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Tg(n.value,p),i.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!cs(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(f=n.styles.listStyleImage,f.type!==0)return[3,18];y=void 0,b=f.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return y=C.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(N=this.createFontStyle(i)[0],this.ctx.font=N,this.ctx.fillStyle=bs(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new Yl(n.bounds.left,n.bounds.top+Yr(n.styles.paddingTop,n.bounds.width),n.bounds.width,BI(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Tg(r.listValue,v),i.letterSpacing,BI(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ma(this,void 0,void 0,function(){var n,a,f,i,o,f,l,c,f,d,u,f,h,A,f,m,x,f,g,p,f;return Gs(this,function(y){switch(y.label){case 0:if(cs(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,a=r.negativeZIndex,y.label=2;case 2:return n<a.length?(f=a[n],[4,this.renderStack(f)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,o=r.nonInlineLevel,y.label=7;case 7:return i<o.length?(f=o[i],[4,this.renderNode(f)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,y.label=11;case 11:return l<c.length?(f=c[l],[4,this.renderStack(f)]):[3,14];case 12:y.sent(),y.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return d<u.length?(f=u[d],[4,this.renderStack(f)]):[3,18];case 16:y.sent(),y.label=17;case 17:return d++,[3,15];case 18:h=0,A=r.inlineLevel,y.label=19;case 19:return h<A.length?(f=A[h],[4,this.renderNode(f)]):[3,22];case 20:y.sent(),y.label=21;case 21:return h++,[3,19];case 22:m=0,x=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return m<x.length?(f=x[m],[4,this.renderStack(f)]):[3,26];case 24:y.sent(),y.label=25;case 25:return m++,[3,23];case 26:g=0,p=r.positiveZIndex,y.label=27;case 27:return g<p.length?(f=p[g],[4,this.renderStack(f)]):[3,30];case 28:y.sent(),y.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=ki(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ki(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(r){return ma(this,void 0,void 0,function(){var n,a,i,o,l,c;return Gs(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,a=function(u){var h,A,m,M,U,z,F,O,_,x,M,U,z,F,O,g,p,f,y,b,N,v,C,P,_,k,M,j,S,F,O,H,U,z,R,I,K,te,Q,D,X,V;return Gs(this,function(de){switch(de.label){case 0:if(u.type!==0)return[3,5];h=void 0,A=u.url,de.label=1;case 1:return de.trys.push([1,3,,4]),[4,i.context.cache.match(A)];case 2:return h=de.sent(),[3,4];case 3:return de.sent(),i.context.logger.error("Error loading background-image "+A),[3,4];case 4:return h&&(m=w5(r,n,[h.width,h.height,h.width/h.height]),M=m[0],U=m[1],z=m[2],F=m[3],O=m[4],_=i.ctx.createPattern(i.resizeImage(h,F,O),"repeat"),i.renderRepeat(M,_,U,z)),[3,6];case 5:d0e(u)?(x=w5(r,n,[null,null,null]),M=x[0],U=x[1],z=x[2],F=x[3],O=x[4],g=a0e(u.angle,F,O),p=g[0],f=g[1],y=g[2],b=g[3],N=g[4],v=document.createElement("canvas"),v.width=F,v.height=O,C=v.getContext("2d"),P=C.createLinearGradient(f,b,y,N),CI(u.stops,p).forEach(function(le){return P.addColorStop(le.stop,bs(le.color))}),C.fillStyle=P,C.fillRect(0,0,F,O),F>0&&O>0&&(_=i.ctx.createPattern(v,"repeat"),i.renderRepeat(M,_,U,z))):u0e(u)&&(k=w5(r,n,[null,null,null]),M=k[0],j=k[1],S=k[2],F=k[3],O=k[4],H=u.position.length===0?[uk]:u.position,U=Yr(H[0],F),z=Yr(H[H.length-1],O),R=i0e(u,U,z,F,O),I=R[0],K=R[1],I>0&&K>0&&(te=i.ctx.createRadialGradient(j+U,S+z,0,j+U,S+z,I),CI(u.stops,I*2).forEach(function(le){return te.addColorStop(le.stop,bs(le.color))}),i.path(M),i.ctx.fillStyle=te,I!==K?(Q=r.bounds.left+.5*r.bounds.width,D=r.bounds.top+.5*r.bounds.height,X=K/I,V=1/X,i.ctx.save(),i.ctx.translate(Q,D),i.ctx.transform(1,0,0,X,0,0),i.ctx.translate(-Q,-D),i.ctx.fillRect(j,V*(S-D)+D,F,O*V),i.ctx.restore()):i.ctx.fill())),de.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return ma(this,void 0,void 0,function(){return Gs(this,function(i){return this.path(nD(a,n)),this.ctx.fillStyle=bs(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,i){return ma(this,void 0,void 0,function(){var o,l;return Gs(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=mbe(i,a),this.path(o),this.ctx.fillStyle=bs(r),this.ctx.fill(),l=fbe(i,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ma(this,void 0,void 0,function(){var n,a,i,o,l,c,d,u,h=this;return Gs(this,function(A){switch(A.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!Ad(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Cbe(_A(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Ad(n.backgroundColor)||(this.ctx.fillStyle=bs(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){h.ctx.save();var x=zw(r.curves),g=m.inset?0:jbe,p=hbe(x,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(h.path(x),h.ctx.clip(),h.mask(p)):(h.mask(x),h.ctx.clip(),h.path(p)),h.ctx.shadowOffsetX=m.offsetX.number+g,h.ctx.shadowOffsetY=m.offsetY.number,h.ctx.shadowColor=bs(m.color),h.ctx.shadowBlur=m.blur.number,h.ctx.fillStyle=m.inset?bs(m.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),A.label=2;case 2:l=0,c=0,d=i,A.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!Ad(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return A.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return A.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:A.sent(),A.label=11;case 11:l++,A.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return ma(this,void 0,void 0,function(){var l,c,d,u,h,A,m,x,g,p,f,y,b,N,v,C,v,C;return Gs(this,function(P){return this.ctx.save(),l=pbe(i,a),c=nD(i,a),o===2&&(this.path(c),this.ctx.clip()),ki(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),ki(c[1])?(h=c[1].end.x,A=c[1].end.y):(h=c[1].x,A=c[1].y),a===0||a===2?m=Math.abs(d-h):m=Math.abs(u-A),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(x=n,g=n),p=!0,m<=x*2?p=!1:m<=x*2+g?(f=m/(2*x+g),x*=f,g*=f):(y=Math.floor((m+g)/(x+g)),b=(m-y*x)/(y-1),N=(m-(y+1)*x)/y,g=N<=0||Math.abs(g-b)<Math.abs(g-N)?b:N),p&&(o===3?this.ctx.setLineDash([0,x+g]):this.ctx.setLineDash([x,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=bs(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ki(c[0])&&(v=c[3],C=c[0],this.ctx.beginPath(),this.formatPath([new mt(v.end.x,v.end.y),new mt(C.start.x,C.start.y)]),this.ctx.stroke()),ki(c[1])&&(v=c[1],C=c[2],this.ctx.beginPath(),this.formatPath([new mt(v.end.x,v.end.y),new mt(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ma(this,void 0,void 0,function(){var n;return Gs(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=bs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Abe(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(yz),_be=function(t){return t instanceof rz||t instanceof tz?!0:t instanceof fk&&t.type!==$w&&t.type!==Qw},Cbe=function(t,e){switch(t){case 0:return zw(e);case 2:return obe(e);case 1:default:return Vw(e)}},Sbe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Bbe=["-apple-system","system-ui"],Ebe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Bbe.indexOf(e)===-1}):t},kbe=function(t){No(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return ma(this,void 0,void 0,function(){var n,a;return Gs(this,function(i){switch(i.label){case 0:return n=SS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Pbe(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=bs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(yz),Pbe=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Fbe=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,mb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,mb([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,mb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,mb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Tbe=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Fbe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Zye(this,e)}return t.instanceCount=1,t}(),gk=function(t,e){return e===void 0&&(e={}),Obe(t,e)};typeof window<"u"&&Az.setContext(window);var Obe=function(t,e){return ma(void 0,void 0,void 0,function(){var r,n,a,i,o,l,c,d,u,h,A,m,x,g,p,f,y,b,N,v,P,C,P,_,k,M,j,S,F,O,H,U,z,R,I,K,te,Q,D,X;return Gs(this,function(V){switch(V.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(M=e.useCORS)!==null&&M!==void 0?M:!1},i=hS({logging:(j=e.logging)!==null&&j!==void 0?j:!0,cache:e.cache},a),o={windowWidth:(S=e.windowWidth)!==null&&S!==void 0?S:n.innerWidth,windowHeight:(F=e.windowHeight)!==null&&F!==void 0?F:n.innerHeight,scrollX:(O=e.scrollX)!==null&&O!==void 0?O:n.pageXOffset,scrollY:(H=e.scrollY)!==null&&H!==void 0?H:n.pageYOffset},l=new Yl(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Tbe(i,l),d=(U=e.foreignObjectRendering)!==null&&U!==void 0?U:!1,u={allowTaint:(z=e.allowTaint)!==null&&z!==void 0?z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new eD(c,t,u),A=h.clonedReferenceElement,A?[4,h.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=V.sent(),x=pk(A)||Dye(A)?hpe(A.ownerDocument):R2(c,A),g=x.width,p=x.height,f=x.left,y=x.top,b=Ibe(c,A,e.backgroundColor),N={canvas:e.canvas,backgroundColor:b,scale:(I=(R=e.scale)!==null&&R!==void 0?R:n.devicePixelRatio)!==null&&I!==void 0?I:1,x:((K=e.x)!==null&&K!==void 0?K:0)+f,y:((te=e.y)!==null&&te!==void 0?te:0)+y,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(g),height:(D=e.height)!==null&&D!==void 0?D:Math.ceil(p)},d?(c.logger.debug("Document cloned, using foreign object rendering"),P=new kbe(c,N),[4,P.render(A)]):[3,3];case 2:return v=V.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+f+","+y+" with size "+g+"x"+p+" using computed rendering"),c.logger.debug("Starting DOM parsing"),C=az(c,A),b===C.styles.backgroundColor&&(C.styles.backgroundColor=Ul.TRANSPARENT),c.logger.debug("Starting renderer for element at "+N.x+","+N.y+" with size "+N.width+"x"+N.height),P=new Nbe(c,N),[4,P.render(C)];case 4:v=V.sent(),V.label=5;case 5:return(!((X=e.removeContainer)!==null&&X!==void 0)||X)&&(eD.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,v]}})})},Ibe=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?Pg(t,getComputedStyle(n.documentElement).backgroundColor):Ul.TRANSPARENT,i=n.body?Pg(t,getComputedStyle(n.body).backgroundColor):Ul.TRANSPARENT,o=typeof r=="string"?Pg(t,r):r===null?Ul.TRANSPARENT:4294967295;return e===n.documentElement?Ad(a)?Ad(i)?o:i:a:o};const Dbe=Object.freeze(Object.defineProperty({__proto__:null,default:gk},Symbol.toStringTag,{value:"Module"})),Mbe=()=>{const{isAdmin:t}=cn(),e=ms(),[r,n]=B.useState(""),[a,i]=B.useState("all"),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(null),[A,m]=B.useState(null),[x,g]=B.useState(!1),[p,f]=B.useState(!1),[y,b]=B.useState(0),[N,v]=B.useState([]),[C,P]=B.useState(!0),[_,k]=B.useState(null),M=B.useRef(null),[j,S]=B.useState({name:"",category:"",quantity:0,min_stock:0,unit:"un",cost:0,price:0,supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""});B.useEffect(()=>{F()},[]);const F=async()=>{try{P(!0);const V=await Que();v(V||[]),k(null)}catch(V){console.error("Error loading inventory items:",V),k("Erro ao carregar itens do estoque"),v([])}finally{P(!1)}},O=["all",...Array.from(new Set(N.map(V=>V.category)))],H=N.filter(V=>{const de=V.name.toLowerCase().includes(r.toLowerCase())||V.supplier.toLowerCase().includes(r.toLowerCase())||V.sku&&V.sku.toLowerCase().includes(r.toLowerCase()),le=a==="all"||V.category===a;return de&&le}),U=V=>{switch(R(V.quantity,V.min_stock)){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=V=>{switch(R(V.quantity,V.min_stock)){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},R=(V,de)=>V===0?"out_of_stock":V<de?"low_stock":"in_stock",I={total:N.length,inStock:N.filter(V=>R(V.quantity,V.min_stock)==="in_stock").length,lowStock:N.filter(V=>R(V.quantity,V.min_stock)==="low_stock").length,outOfStock:N.filter(V=>R(V.quantity,V.min_stock)==="out_of_stock").length,totalValue:N.reduce((V,de)=>V+de.quantity*de.price,0)},K=async()=>{var V,de;if(!j.name||!j.category||!j.supplier){alert("Por favor, preencha todos os campos obrigatrios");return}try{const le={name:j.name,category:j.category,quantity:j.quantity,min_stock:j.min_stock,price:j.price,supplier:j.supplier,description:j.description,sku:j.sku,location:j.location},ie=await Rue(le);v([...N,ie]),S({name:"",category:"",quantity:0,min_stock:0,price:0,cost:0,unit:"un",supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""}),l(!1),alert("Item adicionado com sucesso!")}catch(le){console.error("Error creating item:",le);let ie="Erro ao adicionar item";(V=le==null?void 0:le.message)!=null&&V.includes("duplicate key")||(de=le==null?void 0:le.message)!=null&&de.includes("already exists")?ie="J existe um item com este cdigo/SKU. Por favor, use um cdigo diferente ou deixe em branco para gerar automaticamente.":le!=null&&le.message&&(ie=`Erro: ${le.message}`),alert(ie)}},te=async()=>{if(u)try{const V={name:u.name,category:u.category,quantity:u.quantity,min_stock:u.min_stock,price:u.price,supplier:u.supplier,description:u.description,sku:u.sku,location:u.location},de=await $ue(u.id,V);v(N.map(le=>le.id===de.id?de:le)),d(!1),h(null),alert("Item atualizado com sucesso!")}catch(V){console.error("Error updating item:",V),alert("Erro ao atualizar item")}},Q=async V=>{try{await Hue(V),v(N.filter(de=>de.id!==V)),m(null),h(null),alert("Item excludo com sucesso!")}catch(de){console.error("Error deleting item:",de),alert("Erro ao excluir item")}},D=V=>{S({name:`${V.name} (Cpia)`,category:V.category,quantity:0,min_stock:V.min_stock,unit:V.unit,cost:V.cost,price:V.price,supplier:V.supplier,description:V.description,sku:V.sku?`${V.sku}-COPIA`:"",location:V.location,created_at:"",updated_at:""}),l(!0)},X=async()=>{if(M.current){g(!0),f(!0),b(10);try{const V=setInterval(()=>{b(J=>J>=90?(clearInterval(V),90):J+10)},300),de=await gk(M.current,{scale:1,useCORS:!0,logging:!1});b(95);const le=de.toDataURL("image/png"),ie=new kt({orientation:"portrait",unit:"mm",format:"a4"});ie.setFillColor(59,130,246),ie.rect(0,0,ie.internal.pageSize.width,20,"F"),ie.setTextColor(255,255,255),ie.setFontSize(14),ie.text("Relatrio de Estoque - GiarTech",10,10),ie.setFontSize(10),ie.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const ce=ie.internal.pageSize.width,be=de.height*ce/de.width;ie.addImage(le,"PNG",0,25,ce,be),ie.save("relatorio-estoque.pdf"),b(100),setTimeout(()=>{g(!1),f(!1),b(0)},1e3)}catch(V){console.error("Error generating PDF:",V),g(!1),f(!1),alert("Error generating PDF. Please try again.")}}};return s.jsxs("div",{className:"space-y-6",ref:M,children:[_&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(kr,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:_})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estoque"}),s.jsxs("div",{className:"flex gap-3",children:[I.lowStock>0&&s.jsxs("button",{onClick:()=>e("/purchasing"),className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all animate-pulse",children:[s.jsx(kr,{className:"h-4 w-4"}),s.jsxs("span",{children:[I.lowStock," ",I.lowStock===1?"Item":"Itens"," Necessitando Compra"]}),s.jsx(HA,{className:"h-4 w-4"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Item"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:"Total de Itens",value:I.total,color:"from-blue-500 to-cyan-500",icon:Bt},{label:"Em Estoque",value:I.inStock,color:"from-green-500 to-emerald-500",icon:pr},{label:"Estoque Baixo",value:I.lowStock,color:"from-yellow-500 to-orange-500",icon:kr},{label:"Sem Estoque",value:I.outOfStock,color:"from-red-500 to-pink-500",icon:fo},{label:"Valor Total",value:`R$ ${I.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,color:"from-purple-500 to-indigo-500",icon:Bt,adminOnly:!0}].filter(V=>!V.adminOnly||V.adminOnly&&t).map((V,de)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:de*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${V.color} rounded-lg flex items-center justify-center`,children:s.jsx(V.icon,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:V.value}),s.jsx("p",{className:"text-sm text-gray-600",children:V.label})]},V.label))}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 md:items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 flex-grow",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, fornecedor ou SKU...",value:r,onChange:V=>n(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gh,{className:"h-5 w-5 text-gray-400"}),s.jsx("select",{value:a,onChange:V=>i(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:O.map(V=>s.jsx("option",{value:V,children:V==="all"?"Todas as Categorias":V},V))})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:X,className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(at,{className:"h-4 w-4"}),s.jsx("span",{children:"Relatrio"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors flex items-center space-x-1",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Item"})]})]})]})}),C?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando estoque..."})]}):s.jsx("div",{className:"space-y-4",children:H.length>0?H.map((V,de)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:de*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${R(V.quantity,V.min_stock)==="in_stock"?"bg-green-100 text-green-600":R(V.quantity,V.min_stock)==="low_stock"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:s.jsx(Bt,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:V.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:V.category}),V.sku&&s.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",V.sku]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${U(V)}`,children:z(V)}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>{h(V),d(!0)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar",children:s.jsx(C2,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>D(V),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar Item",children:s.jsx(Wl,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>m(V.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:V.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mnimo"}),s.jsx("p",{className:"text-sm text-gray-900",children:V.min_stock})]}),t&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Preo Unitrio"}),s.jsxs("p",{className:"text-sm text-green-600",children:["R$ ",V.price.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),s.jsx("p",{className:"text-sm text-gray-900",children:V.supplier})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Nvel de Estoque"}),s.jsxs("span",{children:[V.quantity,"/",V.min_stock," mn"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${V.quantity>V.min_stock?"bg-green-500":V.quantity>0?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(V.quantity/(V.min_stock*2)*100,100)}%`}})})]}),V.location&&s.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[s.jsx("span",{className:"font-medium",children:"Localizao:"})," ",V.location]})]},V.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(Bt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum item encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos itens de estoque com os filtros selecionados."}),s.jsx("button",{onClick:()=>{n(""),i("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(lt,{children:o&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Item de Estoque"}),s.jsx("button",{onClick:()=>l(!1),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Bt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",value:j.name,onChange:V=>S({...j,name:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:j.category,onChange:V=>S({...j,category:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peas, etc.",required:!0,list:"categories"}),s.jsx("datalist",{id:"categories",children:O.filter(V=>V!=="all").map(V=>s.jsx("option",{value:V},V))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Cdigo ",s.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),s.jsx("input",{type:"text",value:j.sku,onChange:V=>S({...j,sku:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deixe em branco para gerar automaticamente"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:j.description,onChange:V=>S({...j,description:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Bt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),s.jsx("input",{type:"number",value:j.quantity,onChange:V=>S({...j,quantity:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),s.jsx("input",{type:"number",value:j.min_stock,onChange:V=>S({...j,min_stock:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade de Medida"}),s.jsxs("select",{value:j.unit||"un",onChange:V=>S({...j,unit:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"un",children:"Unidade (un)"}),s.jsx("option",{value:"m",children:"Metro (m)"}),s.jsx("option",{value:"m2",children:"Metro Quadrado (m)"}),s.jsx("option",{value:"m3",children:"Metro Cbico (m)"}),s.jsx("option",{value:"kg",children:"Quilograma (kg)"}),s.jsx("option",{value:"g",children:"Grama (g)"}),s.jsx("option",{value:"l",children:"Litro (l)"}),s.jsx("option",{value:"ml",children:"Mililitro (ml)"}),s.jsx("option",{value:"cx",children:"Caixa (cx)"}),s.jsx("option",{value:"pc",children:"Pea (pc)"}),s.jsx("option",{value:"par",children:"Par"}),s.jsx("option",{value:"rolo",children:"Rolo"}),s.jsx("option",{value:"pct",children:"Pacote (pct)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Custo (R$)"}),s.jsx("input",{type:"number",value:j.cost,onChange:V=>S({...j,cost:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preo de compra"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Venda (R$)"}),s.jsx("input",{type:"number",value:j.price,onChange:V=>S({...j,price:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preo de venda",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",value:j.supplier,onChange:V=>S({...j,supplier:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),s.jsx("input",{type:"text",value:j.location,onChange:V=>S({...j,location:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:K,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Item"]})]})]})]})}),s.jsx(lt,{children:c&&u&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Item"}),s.jsx("button",{onClick:()=>d(!1),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Bt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",value:u.name,onChange:V=>h({...u,name:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:u.category,onChange:V=>h({...u,category:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peas, etc.",required:!0,list:"edit-categories"}),s.jsx("datalist",{id:"edit-categories",children:O.filter(V=>V!=="all").map(V=>s.jsx("option",{value:V},V))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Cdigo ",s.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),s.jsx("input",{type:"text",value:u.sku||"",onChange:V=>h({...u,sku:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cdigo nico do item"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:u.description||"",onChange:V=>h({...u,description:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Bt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:u.quantity,onChange:V=>h({...u,quantity:parseInt(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),s.jsx("input",{type:"number",value:u.min_stock,onChange:V=>h({...u,min_stock:parseInt(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Unitrio (R$)"}),s.jsx("input",{type:"number",value:u.price,onChange:V=>h({...u,price:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",value:u.supplier,onChange:V=>h({...u,supplier:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),s.jsx("input",{type:"text",value:u.location||"",onChange:V=>h({...u,location:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:te,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})}),s.jsx(lt,{children:A!==null&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(kr,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este item do estoque? Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>m(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>A&&Q(A),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(lt,{children:p&&s.jsxs(se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatrio"}),y===100&&s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[y<100?s.jsx(xf,{className:"h-5 w-5 text-blue-500 animate-spin"}):s.jsx(es,{className:"h-5 w-5 text-green-500"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${y}%`}})})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[y,"%"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:y<100?"Processando dados e gerando relatrio...":"Relatrio gerado com sucesso!"})]})})]})},Lbe=()=>{const{id:t}=fE(),e=ms(),{isAdmin:r}=cn(),[n,a]=B.useState(!1),[i,o]=B.useState(0),[l,c]=B.useState(""),[d,u]=B.useState("details"),h={name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,minStock:2,price:1800,supplier:"Fornecedor A",status:"in_stock",description:"Ar condicionado split 12.000 BTUs, 220V, com controle remoto e instalao bsica includa.",sku:"AC-12000-220",location:"Prateleira A3",history:[{date:"2023-12-15",type:"entrada",quantity:10,user:"Admin",notes:"Compra inicial"},{date:"2023-12-16",type:"saida",quantity:2,user:"Carlos Tcnico",notes:"OS-2023-001"},{date:"2023-12-17",type:"saida",quantity:3,user:"Ana Tcnica",notes:"OS-2023-002"}]},A=p=>{switch(p){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=p=>{switch(p){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},x=p=>{switch(p){case"entrada":return"text-green-600";case"saida":return"text-red-600";case"ajuste":return"text-blue-600";default:return"text-gray-600"}},g=()=>{i!==0&&(console.log("Adjusting stock by:",i,"Reason:",l),a(!1),o(0),c(""))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>e("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:s.jsx(ac,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:h.name})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A(h.status)}`,children:m(h.status)})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[s.jsx(pr,{className:"h-4 w-4"}),s.jsx("span",{children:"Ajustar Estoque"})]}),s.jsxs("button",{onClick:()=>e(`/inventory/${t}/edit`),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),r&&s.jsxs("button",{className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Ut,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>u("details"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="details"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Bt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Detalhes"})]}),s.jsxs("button",{onClick:()=>u("history"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="history"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Dt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Histrico"})]}),r&&s.jsxs("button",{onClick:()=>u("analytics"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="analytics"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Cs,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Anlise"})]})]}),s.jsxs("div",{className:"p-6",children:[d==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Categoria"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"SKU"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.sku})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.supplier})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Localizao"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.location})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(pr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informaes de Estoque"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade Atual"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mnimo"}),s.jsx("p",{className:"text-lg font-medium text-gray-900",children:h.minStock})]}),r&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Valor Unitrio"}),s.jsxs("p",{className:"text-lg font-medium text-green-600",children:["R$ ",h.price.toFixed(2)]})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Nvel de Estoque"}),s.jsxs("span",{children:[h.quantity,"/",h.minStock," mn"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-500",style:{width:`${Math.min(h.quantity/(h.minStock*2)*100,100)}%`}})})]}),h.quantity<=h.minStock]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Descrio"]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-gray-700",children:h.description})})]})]}),d==="history"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Dt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Histrico de Movimentaes"]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),s.jsx("div",{className:"space-y-6",children:h.history.map((p,f)=>s.jsxs("div",{className:"relative pl-10",children:[s.jsx("div",{className:`absolute left-0 top-0 w-8 h-8 rounded-full flex items-center justify-center ${p.type==="entrada"?"bg-green-100":"bg-red-100"}`,children:p.type==="entrada"?s.jsx(yt,{className:"h-4 w-4 text-green-600"}):s.jsx(v0,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h4",{className:`font-medium ${x(p.type)}`,children:[p.type==="entrada"?"Entrada":"Sada"," de ",p.quantity," unidades"]}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(p.date).toLocaleDateString("pt-BR")})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Realizado por: ",p.user]}),p.notes&&s.jsxs("p",{className:"text-sm text-gray-700",children:["Observao: ",p.notes]})]})]},f))})]})]}),d==="analytics"&&r&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Cs,{className:"h-4 w-4 mr-2 text-blue-500"}),"Anlise de Consumo"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[s.jsx(Cs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 mb-2",children:"Anlise de consumo em desenvolvimento"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Em breve voc poder visualizar grficos de consumo, previses de estoque e muito mais."})]})]})]})]}),n&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ajustar Estoque"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Atual"}),s.jsx("input",{type:"text",value:h.quantity,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajuste"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>o(p=>p-1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:s.jsx(v0,{className:"h-5 w-5"})}),s.jsx("input",{type:"number",value:i,onChange:p=>o(parseInt(p.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center"}),s.jsx("button",{type:"button",onClick:()=>o(p=>p+1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:s.jsx(yt,{className:"h-5 w-5"})})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i>0?"Entrada":i<0?"Sada":"Sem alterao"," de ",Math.abs(i)," unidades"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Quantidade"}),s.jsx("input",{type:"text",value:h.quantity+i,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 font-bold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo do Ajuste"}),s.jsx("textarea",{value:l,onChange:p=>c(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o motivo deste ajuste...",required:!0})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:g,disabled:i===0||!l,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ajuste"})]})]})]})]})},Ube=()=>{const t=ms(),[e,r]=B.useState({name:"",category:"",quantity:0,minStock:0,price:0,supplier:"",description:"",sku:"",location:""}),n=["Equipamentos","Acessrios","Materiais","Peas","Ferramentas"],a=o=>{const{name:l,value:c}=o.target;r(l==="price"||l==="quantity"||l==="minStock"?{...e,[l]:parseFloat(c)||0}:{...e,[l]:c})},i=o=>{o.preventDefault(),console.log("Form submitted:",e),t("/inventory")};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>t("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:s.jsx(ac,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Item de Estoque"})]})}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Bt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{name:"category",value:e.category,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),n.map(o=>s.jsx("option",{value:o,children:o},o))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Cdigo"}),s.jsx("input",{type:"text",name:"sku",value:e.sku,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cdigo nico do item"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{name:"description",value:e.description,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Bt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:Math.max(0,o.quantity-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:s.jsx(v0,{className:"h-4 w-4"})}),s.jsx("input",{type:"number",name:"quantity",value:e.quantity,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:o.quantity+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:s.jsx(yt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:Math.max(0,o.minStock-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:s.jsx(v0,{className:"h-4 w-4"})}),s.jsx("input",{type:"number",name:"minStock",value:e.minStock,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:o.minStock+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:s.jsx(yt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Unitrio (R$)"}),s.jsx("input",{type:"number",name:"price",value:e.price,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",name:"supplier",value:e.supplier,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),s.jsx("input",{type:"text",name:"location",value:e.location,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t("/inventory"),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex-1",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex-1 flex items-center justify-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2"}),"Salvar Item"]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Tx(t){return t+.5|0}const Yc=(t,e,r)=>Math.max(Math.min(t,r),e);function sg(t){return Yc(Tx(t*2.55),0,255)}function md(t){return Yc(Tx(t*255),0,255)}function El(t){return Yc(Tx(t/2.55)/100,0,1)}function aD(t){return Yc(Tx(t*100),0,100)}const vi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},OS=[..."0123456789ABCDEF"],Rbe=t=>OS[t&15],Qbe=t=>OS[(t&240)>>4]+OS[t&15],Mb=t=>(t&240)>>4===(t&15),$be=t=>Mb(t.r)&&Mb(t.g)&&Mb(t.b)&&Mb(t.a);function Hbe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&vi[t[1]]*17,g:255&vi[t[2]]*17,b:255&vi[t[3]]*17,a:e===5?vi[t[4]]*17:255}:(e===7||e===9)&&(r={r:vi[t[1]]<<4|vi[t[2]],g:vi[t[3]]<<4|vi[t[4]],b:vi[t[5]]<<4|vi[t[6]],a:e===9?vi[t[7]]<<4|vi[t[8]]:255})),r}const qbe=(t,e)=>t<255?e(t):"";function zbe(t){var e=$be(t)?Rbe:Qbe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+qbe(t.a,e):void 0}const Vbe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bz(t,e,r){const n=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function Kbe(t,e,r){const n=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function Wbe(t,e,r){const n=bz(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function Gbe(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function xk(t){const r=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=Gbe(r,n,a,u,i),c=c*60+.5),[c|0,d||0,l]}function yk(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(md)}function bk(t,e,r){return yk(bz,t,e,r)}function Xbe(t,e,r){return yk(Wbe,t,e,r)}function Ybe(t,e,r){return yk(Kbe,t,e,r)}function vz(t){return(t%360+360)%360}function Jbe(t){const e=Vbe.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?sg(+e[5]):md(+e[5]));const a=vz(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=Xbe(a,i,o):e[1]==="hsv"?n=Ybe(a,i,o):n=bk(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function Zbe(t,e){var r=xk(t);r[0]=vz(r[0]+e),r=bk(r),t.r=r[0],t.g=r[1],t.b=r[2]}function eve(t){if(!t)return;const e=xk(t),r=e[0],n=aD(e[1]),a=aD(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${El(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const iD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tve(){const t={},e=Object.keys(oD),r=Object.keys(iD);let n,a,i,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],a=0;a<r.length;a++)i=r[a],l=l.replace(i,iD[i]);i=parseInt(oD[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Lb;function rve(t){Lb||(Lb=tve(),Lb.transparent=[0,0,0,0]);const e=Lb[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nve=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sve(t){const e=nve.exec(t);let r=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?sg(o):Yc(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?sg(n):Yc(n,0,255)),a=255&(e[4]?sg(a):Yc(a,0,255)),i=255&(e[6]?sg(i):Yc(i,0,255)),{r:n,g:a,b:i,a:r}}}function ave(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${El(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const j5=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,fA=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ive(t,e,r){const n=fA(El(t.r)),a=fA(El(t.g)),i=fA(El(t.b));return{r:md(j5(n+r*(fA(El(e.r))-n))),g:md(j5(a+r*(fA(El(e.g))-a))),b:md(j5(i+r*(fA(El(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Ub(t,e,r){if(t){let n=xk(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=bk(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function wz(t,e){return t&&Object.assign(e||{},t)}function lD(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=md(t[3]))):(e=wz(t,{r:0,g:0,b:0,a:1}),e.a=md(e.a)),e}function ove(t){return t.charAt(0)==="r"?sve(t):Jbe(t)}let jz=class IS{constructor(e){if(e instanceof IS)return e;const r=typeof e;let n;r==="object"?n=lD(e):r==="string"&&(n=Hbe(e)||rve(e)||ove(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=wz(this._rgb);return e&&(e.a=El(e.a)),e}set rgb(e){this._rgb=lD(e)}rgbString(){return this._valid?ave(this._rgb):void 0}hexString(){return this._valid?zbe(this._rgb):void 0}hslString(){return this._valid?eve(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=n.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,n.r=255&d*n.r+i*a.r+.5,n.g=255&d*n.g+i*a.g+.5,n.b=255&d*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=ive(this._rgb,e._rgb,r)),this}clone(){return new IS(this.rgb)}alpha(e){return this._rgb.a=md(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Tx(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ub(this._rgb,2,e),this}darken(e){return Ub(this._rgb,2,-e),this}saturate(e){return Ub(this._rgb,1,e),this}desaturate(e){return Ub(this._rgb,1,-e),this}rotate(e){return Zbe(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function bl(){}const lve=(()=>{let t=0;return()=>t++})();function fr(t){return t==null}function hn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function or(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Es(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function To(t,e){return Es(t)?t:e}function Jt(t,e){return typeof t>"u"?e:t}const cve=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Nz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Gr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Br(t,e,r,n){let a,i,o;if(hn(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(or(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function Ww(t,e){let r,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Gw(t){if(hn(t))return t.map(Gw);if(or(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=Gw(t[r[a]]);return e}return t}function _z(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dve(t,e,r,n){if(!_z(t))return;const a=e[t],i=r[t];or(a)&&or(i)?k0(a,i,n):e[t]=Gw(i)}function k0(t,e,r){const n=hn(e)?e:[e],a=n.length;if(!or(t))return t;r=r||{};const i=r.merger||dve;let o;for(let l=0;l<a;++l){if(o=n[l],!or(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,r)}return t}function Ig(t,e){return k0(t,e,{merger:uve})}function uve(t,e,r){if(!_z(t))return;const n=e[t],a=r[t];or(n)&&or(a)?Ig(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Gw(a))}const cD={"":t=>t,x:t=>t.x,y:t=>t.y};function hve(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Ave(t){const e=hve(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function kd(t,e){return(cD[e]||(cD[e]=Ave(e)))(t)}function vk(t){return t.charAt(0).toUpperCase()+t.slice(1)}const P0=t=>typeof t<"u",Pd=t=>typeof t=="function",dD=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function mve(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const br=Math.PI,ln=2*br,fve=ln+br,Xw=Number.POSITIVE_INFINITY,pve=br/180,Un=br/2,su=br/4,uD=br*2/3,Cz=Math.log10,Zo=Math.sign;function Dg(t,e,r){return Math.abs(t-e)<r}function hD(t){const e=Math.round(t);t=Dg(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Cz(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function gve(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function xve(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function F0(t){return!xve(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function yve(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function bve(t,e,r){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function qo(t){return t*(br/180)}function wk(t){return t*(180/br)}function AD(t){if(!Es(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Sz(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*br&&(i+=ln),{angle:i,distance:a}}function DS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vve(t,e){return(t-e+fve)%ln-br}function Zs(t){return(t%ln+ln)%ln}function T0(t,e,r,n){const a=Zs(t),i=Zs(e),o=Zs(r),l=Zs(i-a),c=Zs(o-a),d=Zs(a-i),u=Zs(a-o);return a===i||a===o||n&&i===o||l>c&&d<u}function ia(t,e,r){return Math.max(e,Math.min(r,t))}function wve(t){return ia(t,-32768,32767)}function Tl(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function jk(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const Ou=(t,e,r,n)=>jk(t,r,n?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),jve=(t,e,r)=>jk(t,r,n=>t[n][e]>=r);function Nve(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const Bz=["push","pop","shift","splice","unshift"];function _ve(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Bz.forEach(r=>{const n="_onData"+vk(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function mD(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Bz.forEach(i=>{delete t[i]}),delete t._chartjs)}function Ez(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const kz=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Pz(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,kz.call(window,()=>{n=!1,t.apply(e,r)}))}}function Cve(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Nk=t=>t==="start"?"left":t==="end"?"right":"center",Xs=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Sve=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function Bve(t,e,r){const n=e.length;let a=0,i=n;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:A,minDefined:m,maxDefined:x}=o.getUserBounds();if(m){if(a=Math.min(Ou(c,u,h).lo,r?n:Ou(e,u,o.getPixelForValue(h)).lo),d){const g=c.slice(0,a+1).reverse().findIndex(p=>!fr(p[l.axis]));a-=Math.max(0,g)}a=ia(a,0,n-1)}if(x){let g=Math.max(Ou(c,o.axis,A,!0).hi+1,r?0:Ou(e,u,o.getPixelForValue(A),!0).hi+1);if(d){const p=c.slice(g-1).findIndex(f=>!fr(f[l.axis]));g+=Math.max(0,p)}i=ia(g,a,n)-a}else i=n-a}return{start:a,count:i}}function Eve(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const Rb=t=>t===0||t===1,fD=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ln/r)),pD=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ln/r)+1,Mg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Un)+1,easeOutSine:t=>Math.sin(t*Un),easeInOutSine:t=>-.5*(Math.cos(br*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Rb(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Rb(t)?t:fD(t,.075,.3),easeOutElastic:t=>Rb(t)?t:pD(t,.075,.3),easeInOutElastic(t){return Rb(t)?t:t<.5?.5*fD(t*2,.1125,.45):.5+.5*pD(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Mg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mg.easeInBounce(t*2)*.5:Mg.easeOutBounce(t*2-1)*.5+.5};function _k(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function gD(t){return _k(t)?t:new jz(t)}function N5(t){return _k(t)?t:new jz(t).saturate(.5).darken(.1).hexString()}const kve=["x","y","borderWidth","radius","tension"],Pve=["color","borderColor","backgroundColor"];function Fve(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Pve},numbers:{type:"number",properties:kve}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Tve(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xD=new Map;function Ove(t,e){e=e||{};const r=t+JSON.stringify(e);let n=xD.get(r);return n||(n=new Intl.NumberFormat(t,e),xD.set(r,n)),n}function Ck(t,e,r){return Ove(e,r).format(t)}const Ive={values(t){return hn(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=Dve(t,r)}const o=Cz(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Ck(t,n,c)}};function Dve(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Sk={formatters:Ive};function Mve(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Sk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ih=Object.create(null),MS=Object.create(null);function Lg(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function _5(t,e,r){return typeof e=="string"?k0(Lg(t,e),r):k0(Lg(t,""),e)}class Lve{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>N5(a.backgroundColor),this.hoverBorderColor=(n,a)=>N5(a.borderColor),this.hoverColor=(n,a)=>N5(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return _5(this,e,r)}get(e){return Lg(this,e)}describe(e,r){return _5(MS,e,r)}override(e,r){return _5(ih,e,r)}route(e,r,n,a){const i=Lg(this,e),o=Lg(this,n),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return or(c)?Object.assign({},d,c):Jt(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Bn=new Lve({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Fve,Tve,Mve]);function Uve(t){return!t||fr(t.size)||fr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yw(t,e,r,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>n&&(n=i),n}function Rve(t,e,r,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},i=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const l=r.length;let c,d,u,h,A;for(c=0;c<l;c++)if(h=r[c],h!=null&&!hn(h))o=Yw(t,a,i,o,h);else if(hn(h))for(d=0,u=h.length;d<u;d++)A=h[d],A!=null&&!hn(A)&&(o=Yw(t,a,i,o,A));t.restore();const m=i.length/2;if(m>r.length){for(c=0;c<m;c++)delete a[i[c]];i.splice(0,m)}return o}function au(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function yD(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function LS(t,e,r,n){Fz(t,e,r,n,null)}function Fz(t,e,r,n,a){let i,o,l,c,d,u,h,A;const m=e.pointStyle,x=e.rotation,g=e.radius;let p=(x||0)*pve;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(p),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),m){default:a?t.ellipse(r,n,a/2,g,0,0,ln):t.arc(r,n,g,0,ln),t.closePath();break;case"triangle":u=a?a/2:g,t.moveTo(r+Math.sin(p)*u,n-Math.cos(p)*g),p+=uD,t.lineTo(r+Math.sin(p)*u,n-Math.cos(p)*g),p+=uD,t.lineTo(r+Math.sin(p)*u,n-Math.cos(p)*g),t.closePath();break;case"rectRounded":d=g*.516,c=g-d,o=Math.cos(p+su)*c,h=Math.cos(p+su)*(a?a/2-d:c),l=Math.sin(p+su)*c,A=Math.sin(p+su)*(a?a/2-d:c),t.arc(r-h,n-l,d,p-br,p-Un),t.arc(r+A,n-o,d,p-Un,p),t.arc(r+h,n+l,d,p,p+Un),t.arc(r-A,n+o,d,p+Un,p+br),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*g,u=a?a/2:c,t.rect(r-u,n-c,2*u,2*c);break}p+=su;case"rectRot":h=Math.cos(p)*(a?a/2:g),o=Math.cos(p)*g,l=Math.sin(p)*g,A=Math.sin(p)*(a?a/2:g),t.moveTo(r-h,n-l),t.lineTo(r+A,n-o),t.lineTo(r+h,n+l),t.lineTo(r-A,n+o),t.closePath();break;case"crossRot":p+=su;case"cross":h=Math.cos(p)*(a?a/2:g),o=Math.cos(p)*g,l=Math.sin(p)*g,A=Math.sin(p)*(a?a/2:g),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+A,n-o),t.lineTo(r-A,n+o);break;case"star":h=Math.cos(p)*(a?a/2:g),o=Math.cos(p)*g,l=Math.sin(p)*g,A=Math.sin(p)*(a?a/2:g),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+A,n-o),t.lineTo(r-A,n+o),p+=su,h=Math.cos(p)*(a?a/2:g),o=Math.cos(p)*g,l=Math.sin(p)*g,A=Math.sin(p)*(a?a/2:g),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+A,n-o),t.lineTo(r-A,n+o);break;case"line":o=a?a/2:Math.cos(p)*g,l=Math.sin(p)*g,t.moveTo(r-o,n-l),t.lineTo(r+o,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(p)*(a?a/2:g),n+Math.sin(p)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ol(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function X2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Y2(t){t.restore()}function Qve(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function $ve(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Hve(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),fr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function qve(t,e,r,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function zve(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function oh(t,e,r,n,a,i={}){const o=hn(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,Hve(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&zve(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),fr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,n,i.maxWidth)),t.fillText(d,r,n,i.maxWidth),qve(t,r,n,d,i),n+=Number(a.lineHeight);t.restore()}function O0(t,e){const{x:r,y:n,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*br,br,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,br,Un,!0),t.lineTo(r+a-o.bottomRight,n+i),t.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Un,0,!0),t.lineTo(r+a,n+o.topRight),t.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-Un,!0),t.lineTo(r+o.topLeft,n)}const Vve=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Kve=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Wve(t,e){const r=(""+t).match(Vve);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Gve=t=>+t||0;function Bk(t,e){const r={},n=or(e),a=n?Object.keys(e):e,i=or(t)?n?o=>Jt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=Gve(i(o));return r}function Tz(t){return Bk(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wu(t){return Bk(t,["topLeft","topRight","bottomLeft","bottomRight"])}function da(t){const e=Tz(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function us(t,e){t=t||{},e=e||Bn.font;let r=Jt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Jt(t.style,e.style);n&&!(""+n).match(Kve)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Jt(t.family,e.family),lineHeight:Wve(Jt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Jt(t.weight,e.weight),string:""};return a.string=Uve(a),a}function Qb(t,e,r,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function Xve(t,e,r){const{min:n,max:a}=t,i=Nz(e,(a-n)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function Ld(t,e){return Object.assign(Object.create(t),e)}function Ek(t,e=[""],r,n,a=()=>t[0]){const i=r||t;typeof n>"u"&&(n=Mz("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>Ek([l,...t],e,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Iz(l,c,()=>swe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return vD(l).includes(c)},ownKeys(l){return vD(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function Dm(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Oz(t,n),setContext:i=>Dm(t,i,r,n),override:i=>Dm(t.override(i),e,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return Iz(i,o,()=>Jve(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function Oz(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Pd(r)?r:()=>r,isIndexable:Pd(n)?n:()=>n}}const Yve=(t,e)=>t?t+vk(e):e,kk=(t,e)=>or(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Iz(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Jve(t,e,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let l=n[e];return Pd(l)&&o.isScriptable(e)&&(l=Zve(e,l,t,r)),hn(l)&&l.length&&(l=ewe(e,l,t,o.isIndexable)),kk(e,l)&&(l=Dm(l,a,i&&i[e],o)),l}function Zve(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||n);return l.delete(t),kk(t,c)&&(c=Pk(a._scopes,a,t,c)),c}function ewe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(or(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=Pk(d,a,t,u);e.push(Dm(h,i,o&&o[t],l))}}return e}function Dz(t,e,r){return Pd(t)?t(e,r):t}const twe=(t,e)=>t===!0?e:typeof t=="string"?kd(e,t):void 0;function rwe(t,e,r,n,a){for(const i of e){const o=twe(r,i);if(o){t.add(o);const l=Dz(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function Pk(t,e,r,n){const a=e._rootScopes,i=Dz(e._fallback,r,n),o=[...t,...a],l=new Set;l.add(n);let c=bD(l,o,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=bD(l,o,i,c,n),c===null)?!1:Ek(Array.from(l),[""],a,i,()=>nwe(e,r,n))}function bD(t,e,r,n,a){for(;r;)r=rwe(t,e,r,n,a);return r}function nwe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return hn(a)&&or(r)?r:a||{}}function swe(t,e,r,n){let a;for(const i of e)if(a=Mz(Yve(i,t),r),typeof a<"u")return kk(t,a)?Pk(r,n,t,a):a}function Mz(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function vD(t){let e=t._keys;return e||(e=t._keys=awe(t._scopes)),e}function awe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function iwe(t,e,r,n){const{iScale:a}=t,{key:i="r"}=this._parsing,o=new Array(n);let l,c,d,u;for(l=0,c=n;l<c;++l)d=l+r,u=e[d],o[l]={r:a.parse(kd(u,i),d)};return o}const owe=Number.EPSILON||1e-14,Mm=(t,e)=>e<t.length&&!t[e].skip&&t[e],Lz=t=>t==="x"?"y":"x";function lwe(t,e,r,n){const a=t.skip?e:t,i=e,o=r.skip?e:r,l=DS(i,a),c=DS(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,A=n*u;return{previous:{x:i.x-h*(o.x-a.x),y:i.y-h*(o.y-a.y)},next:{x:i.x+A*(o.x-a.x),y:i.y+A*(o.y-a.y)}}}function cwe(t,e,r){const n=t.length;let a,i,o,l,c,d=Mm(t,0);for(let u=0;u<n-1;++u)if(c=d,d=Mm(t,u+1),!(!c||!d)){if(Dg(e[u],0,owe)){r[u]=r[u+1]=0;continue}a=r[u]/e[u],i=r[u+1]/e[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[u]=a*o*e[u],r[u+1]=i*o*e[u])}}function dwe(t,e,r="x"){const n=Lz(r),a=t.length;let i,o,l,c=Mm(t,0);for(let d=0;d<a;++d){if(o=l,l=c,c=Mm(t,d+1),!l)continue;const u=l[r],h=l[n];o&&(i=(u-o[r])/3,l[`cp1${r}`]=u-i,l[`cp1${n}`]=h-i*e[d]),c&&(i=(c[r]-u)/3,l[`cp2${r}`]=u+i,l[`cp2${n}`]=h+i*e[d])}}function uwe(t,e="x"){const r=Lz(e),n=t.length,a=Array(n).fill(0),i=Array(n);let o,l,c,d=Mm(t,0);for(o=0;o<n;++o)if(l=c,c=d,d=Mm(t,o+1),!!c){if(d){const u=d[e]-c[e];a[o]=u!==0?(d[r]-c[r])/u:0}i[o]=l?d?Zo(a[o-1])!==Zo(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}cwe(t,a,i),dwe(t,i,e)}function $b(t,e,r){return Math.max(Math.min(t,r),e)}function hwe(t,e){let r,n,a,i,o,l=Ol(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=l,l=r<n-1&&Ol(t[r+1],e),i&&(a=t[r],o&&(a.cp1x=$b(a.cp1x,e.left,e.right),a.cp1y=$b(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=$b(a.cp2x,e.left,e.right),a.cp2y=$b(a.cp2y,e.top,e.bottom)))}function Awe(t,e,r,n,a){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")uwe(t,a);else{let d=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=lwe(d,l,t[Math.min(i+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&hwe(t,r)}function Fk(){return typeof window<"u"&&typeof document<"u"}function Tk(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Jw(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const J2=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function mwe(t,e){return J2(t).getPropertyValue(e)}const fwe=["top","right","bottom","left"];function Gu(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=fwe[a];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const pwe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function gwe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,l,c;if(pwe(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function pu(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=J2(r),i=a.boxSizing==="border-box",o=Gu(a,"padding"),l=Gu(a,"border","width"),{x:c,y:d,box:u}=gwe(t,r),h=o.left+(u&&l.left),A=o.top+(u&&l.top);let{width:m,height:x}=e;return i&&(m-=o.width+l.width,x-=o.height+l.height),{x:Math.round((c-h)/m*r.width/n),y:Math.round((d-A)/x*r.height/n)}}function xwe(t,e,r){let n,a;if(e===void 0||r===void 0){const i=t&&Tk(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=J2(i),c=Gu(l,"border","width"),d=Gu(l,"padding");e=o.width-d.width-c.width,r=o.height-d.height-c.height,n=Jw(l.maxWidth,i,"clientWidth"),a=Jw(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||Xw,maxHeight:a||Xw}}const Jc=t=>Math.round(t*10)/10;function ywe(t,e,r,n){const a=J2(t),i=Gu(a,"margin"),o=Jw(a.maxWidth,t,"clientWidth")||Xw,l=Jw(a.maxHeight,t,"clientHeight")||Xw,c=xwe(t,e,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const A=Gu(a,"border","width"),m=Gu(a,"padding");d-=m.width+A.width,u-=m.height+A.height}return d=Math.max(0,d-i.width),u=Math.max(0,n?d/n:u-i.height),d=Jc(Math.min(d,o,c.maxWidth)),u=Jc(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Jc(d/2)),(e!==void 0||r!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Jc(Math.floor(u*n))),{width:d,height:u}}function wD(t,e,r){const n=e||1,a=Jc(t.height*n),i=Jc(t.width*n);t.height=Jc(t.height),t.width=Jc(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const bwe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Fk()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function jD(t,e){const r=mwe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function gu(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function vwe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function wwe(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=gu(t,a,r),l=gu(a,i,r),c=gu(i,e,r),d=gu(o,l,r),u=gu(l,c,r);return gu(d,u,r)}const jwe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Nwe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ym(t,e,r){return t?jwe(e,r):Nwe()}function Uz(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Rz(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Qz(t){return t==="angle"?{between:T0,compare:vve,normalize:Zs}:{between:Tl,compare:(e,r)=>e-r,normalize:e=>e}}function ND({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function _we(t,e,r){const{property:n,start:a,end:i}=r,{between:o,normalize:l}=Qz(n),c=e.length;let{start:d,end:u,loop:h}=t,A,m;if(h){for(d+=c,u+=c,A=0,m=c;A<m&&o(l(e[d%c][n]),a,i);++A)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function $z(t,e,r){if(!r)return[t];const{property:n,start:a,end:i}=r,o=e.length,{compare:l,between:c,normalize:d}=Qz(n),{start:u,end:h,loop:A,style:m}=_we(t,e,r),x=[];let g=!1,p=null,f,y,b;const N=()=>c(a,b,f)&&l(a,b)!==0,v=()=>l(i,f)===0||c(i,b,f),C=()=>g||N(),P=()=>!g||v();for(let _=u,k=u;_<=h;++_)y=e[_%o],!y.skip&&(f=d(y[n]),f!==b&&(g=c(f,a,i),p===null&&C()&&(p=l(f,a)===0?_:k),p!==null&&P()&&(x.push(ND({start:p,end:_,loop:A,count:o,style:m})),p=null),k=_,b=f));return p!==null&&x.push(ND({start:p,end:h,loop:A,count:o,style:m})),x}function Hz(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const i=$z(n[a],t.points,e);i.length&&r.push(...i)}return r}function Cwe(t,e,r,n){let a=0,i=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function Swe(t,e,r,n){const a=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=r;++c){const d=t[c%a];d.skip||d.stop?l.skip||(n=!1,i.push({start:e%a,end:(c-1)%a,loop:n}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%a,end:o%a,loop:n}),i}function Bwe(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:o,end:l}=Cwe(r,a,i,n);if(n===!0)return _D(t,[{start:o,end:l,loop:i}],r,e);const c=l<o?l+a:l,d=!!t._fullLoop&&o===0&&l===a-1;return _D(t,Swe(r,o,c,d),r,e)}function _D(t,e,r,n){return!n||!n.setContext||!r?e:Ewe(t,e,r,n)}function Ewe(t,e,r,n){const a=t._chart.getContext(),i=CD(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=r.length,d=[];let u=i,h=e[0].start,A=h;function m(x,g,p,f){const y=l?-1:1;if(x!==g){for(x+=c;r[x%c].skip;)x-=y;for(;r[g%c].skip;)g+=y;x%c!==g%c&&(d.push({start:x%c,end:g%c,loop:p,style:f}),u=f,h=g%c)}}for(const x of e){h=l?h:x.start;let g=r[h%c],p;for(A=h+1;A<=x.end;A++){const f=r[A%c];p=CD(n.setContext(Ld(a,{type:"segment",p0:g,p1:f,p0DataIndex:(A-1)%c,p1DataIndex:A%c,datasetIndex:o}))),kwe(p,u)&&m(h,A-1,x.loop,u),g=f,u=p}h<A-1&&m(h,A-1,x.loop,u)}return d}function CD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function kwe(t,e){if(!e)return!1;const r=[],n=function(a,i){return _k(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Hb(t,e,r){return t.options.clip?t[r]:e[r]}function Pwe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Hb(r,e,"left"),right:Hb(r,e,"right"),top:Hb(n,e,"top"),bottom:Hb(n,e,"bottom")}:e}function qz(t,e){const r=e._clip;if(r.disabled)return!1;const n=Pwe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Fwe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=kz.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var jl=new Fwe;const SD="transparent",Twe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=gD(t||SD),a=n.valid&&gD(e||SD);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Owe{constructor(e,r,n,a){const i=r[n];a=Qb([e.to,a,i,e.from]);const o=Qb([e.from,i,a]);this._active=!0,this._fn=e.fn||Twe[e.type||typeof o],this._easing=Mg[e.easing]||Mg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Qb([e.to,r,a,e.from]),this._from=Qb([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class zz{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!or(e))return;const r=Object.keys(Bn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!or(i))return;const o={};for(const l of r)o[l]=i[l];(hn(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,r){const n=r.options,a=Dwe(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Iwe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,r));continue}const u=r[d];let h=i[d];const A=n.get(d);if(h)if(A&&h.active()){h.update(A,u,l);continue}else h.cancel();if(!A||!A.duration){e[d]=u;continue}i[d]=h=new Owe(A,e,d,u),a.push(h)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return jl.add(this._chart,n),!0}}function Iwe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Dwe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function BD(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function Mwe(t,e,r){if(r===!1)return!1;const n=BD(t,r),a=BD(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Lwe(t){let e,r,n,a;return or(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function Vz(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function ED(t,e,r,n={}){const a=t.keys,i=n.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,n.all)continue;break}d=t.values[c],Es(d)&&(i||e===0||Zo(e)===Zo(d))&&(e+=d)}return!u&&!n.all?0:e}function Uwe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function C5(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function Rwe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Qwe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function $we(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function kD(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function PD(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,d=o.axis,u=Rwe(i,o,n),h=e.length;let A;for(let m=0;m<h;++m){const x=e[m],{[c]:g,[d]:p}=x,f=x._stacks||(x._stacks={});A=f[d]=$we(a,u,g),A[l]=p,A._top=kD(A,o,!0,n.type),A._bottom=kD(A,o,!1,n.type);const y=A._visualValues||(A._visualValues={});y[l]=p}}function S5(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Hwe(t,e){return Ld(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qwe(t,e,r){return Ld(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Ep(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const B5=t=>t==="reset"||t==="none",FD=(t,e)=>e?t:Object.assign({},t),zwe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Vz(r,!0),values:null};class fd{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=C5(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ep(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(h,A,m,x)=>h==="x"?A:h==="r"?x:m,i=r.xAxisID=Jt(n.xAxisID,S5(e,"x")),o=r.yAxisID=Jt(n.yAxisID,S5(e,"y")),l=r.rAxisID=Jt(n.rAxisID,S5(e,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&mD(this._data,this),e._stacked&&Ep(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(or(r)){const a=this._cachedMeta;this._data=Uwe(r,a)}else if(n!==r){if(n){mD(n,this);const a=this._cachedMeta;Ep(a),a._parsed=[]}r&&Object.isExtensible(r)&&_ve(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=C5(r.vScale,r),r.stack!==n.stack&&(a=!0,Ep(r),r.stack=n.stack),this._resyncElements(e),(a||i!==r._stacked)&&(PD(this,r._parsed),r._stacked=C5(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=e===0&&r===a.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,h,A;if(this._parsing===!1)n._parsed=a,n._sorted=!0,A=a;else{hn(a[e])?A=this.parseArrayData(n,a,e,r):or(a[e])?A=this.parseObjectData(n,a,e,r):A=this.parsePrimitiveData(n,a,e,r);const m=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<r;++u)n._parsed[u+e]=h=A[u],c&&(m()&&(c=!1),d=h);n._sorted=c}o&&PD(this,A)}parsePrimitiveData(e,r,n,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(a);let A,m,x;for(A=0,m=a;A<m;++A)x=A+n,h[A]={[l]:u||i.parse(d[x],x),[c]:o.parse(r[x],x)};return h}parseArrayData(e,r,n,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+n,h=r[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,r,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,A,m;for(u=0,h=a;u<h;++u)A=u+n,m=r[A],d[u]={x:i.parse(kd(m,l),A),y:o.parse(kd(m,c),A)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,i=this._cachedMeta,o=r[e.axis],l={keys:Vz(a,!0),values:r._stacks[e.axis]._visualValues};return ED(l,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,o=ED(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=zwe(r,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Qwe(l);let A,m;function x(){m=a[A];const g=m[l.axis];return!Es(m[e.axis])||u>g||h<g}for(A=0;A<o&&!(!x()&&(this.updateRangeFromParsed(d,e,m,c),i));++A);if(i){for(A=o-1;A>=0;--A)if(!x()){this.updateRangeFromParsed(d,e,m,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],Es(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Lwe(Jt(this.options.clip,Mwe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=qwe(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Hwe(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,l=i[o],c=this.enableOptionSharing&&P0(n);if(l)return FD(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=a?[`${e}Hover`,"hover",e,""]:[e,""],A=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Bn.elements[e]),x=()=>this.getContext(n,a,r),g=d.resolveNamedOptions(A,m,x,h);return g.$shared&&(g.$shared=c,i[o]=Object.freeze(FD(g,c))),g}_resolveAnimations(e,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),A=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(A,this.getContext(e,n,r))}const d=new zz(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||B5(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,a){B5(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!B5(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,n=!0){const a=this._cachedMeta,i=a.data,o=e+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Ep(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}et(fd,"defaults",{}),et(fd,"datasetElementType",null),et(fd,"dataElementType",null);function Vwe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=Ez(n.sort((a,i)=>a-i))}return t._cache.$bar}function Kwe(t){const e=t.iScale,r=Vwe(e,t.type);let n=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(P0(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return n}function Wwe(t,e,r,n){const a=r.barThickness;let i,o;return fr(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function Gwe(t,e,r,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:r.barPercentage,start:d}}function Xwe(t,e,r,n){const a=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function Kz(t,e,r,n){return hn(t)?Xwe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function TD(t,e,r,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,h,A;for(d=r,u=r+n;d<u;++d)A=e[d],h={},h[a.axis]=l||a.parse(o[d],d),c.push(Kz(A,h,i,d));return c}function E5(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Ywe(t,e,r){return t!==0?Zo(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Jwe(t){let e,r,n,a,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:e,top:a,bottom:i}}function Zwe(t,e,r,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=Jwe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=d:(r._bottom||0)===n?a=u:(i[OD(u,o,l,c)]=!0,a=d)),i[OD(a,o,l,c)]=!0,t.borderSkipped=i}function OD(t,e,r,n){return n?(t=e1e(t,e,r),t=ID(t,r,e)):t=ID(t,e,r),t}function e1e(t,e,r){return t===e?r:t===r?e:t}function ID(t,e,r){return t==="start"?e:t==="end"?r:t}function t1e(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Qv extends fd{parsePrimitiveData(e,r,n,a){return TD(e,r,n,a)}parseArrayData(e,r,n,a){return TD(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let A,m,x,g;for(A=n,m=n+a;A<m;++A)g=r[A],x={},x[i.axis]=i.parse(kd(g,d),A),h.push(Kz(kd(g,u),x,o,A));return h}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(e),o=i._custom,l=E5(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:A}=this._getSharedOptions(r,a);for(let m=r;m<r+n;m++){const x=this.getParsed(m),g=i||fr(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),p=this._calculateBarIndexPixels(m,u),f=(x._stacks||{})[l.axis],y={horizontal:d,base:g.base,enableBorderRadius:!f||E5(x._custom)||o===f._top||o===f._bottom,x:d?g.head:p.center,y:d?p.center:g.head,height:d?p.size:Math.abs(g.size),width:d?Math.abs(g.size):p.size};A&&(y.options=h||this.resolveDataElementOptions(m,e[m].active?"active":a));const b=y.options||e[m].options;Zwe(y,b,f,o),t1e(y,b,u.ratio),this.updateElement(e[m],m,y,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],d=u=>{const h=u._parsed.find(m=>m[n.axis]===c),A=h&&h[u.vScale.axis];if(fr(A)||isNaN(A))return!0};for(const u of a)if(!(r!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Jt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||Kwe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=E5(d);let h=c[r.axis],A=0,m=n?this.applyStack(r,c,n):h,x,g;m!==h&&(A=m-h,m=h),u&&(h=d.barStart,m=d.barEnd-d.barStart,h!==0&&Zo(h)!==Zo(d.barEnd)&&(A=0),A+=h);const p=!fr(i)&&!u?i:A;let f=r.getPixelForValue(p);if(this.chart.getDataVisibility(e)?x=r.getPixelForValue(A+m):x=f,g=x-f,Math.abs(g)<o){g=Ywe(g,r,l)*o,h===l&&(f-=g/2);const y=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),N=Math.min(y,b),v=Math.max(y,b);f=Math.max(Math.min(f,v),N),x=f+g,n&&!u&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(x)-r.getValueForPixel(f))}if(f===r.getPixelForValue(l)){const y=Zo(g)*r.getLineWidthForValue(l)/2;f+=y,g-=y}return{size:g,base:f,head:x,center:x+g/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,i=a.skipNull,o=Jt(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,h=a.barThickness==="flex"?Gwe(e,r,a,u*d):Wwe(e,r,a,u*d),A=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Jt(A,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;l=h.start+h.chunk*x+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}et(Qv,"id","bar"),et(Qv,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),et(Qv,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function r1e(t,e,r){let n=1,a=1,i=0,o=0;if(e<ln){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),A=Math.sin(c),m=(b,N,v)=>T0(b,l,c,!0)?1:Math.max(N,N*r,v,v*r),x=(b,N,v)=>T0(b,l,c,!0)?-1:Math.min(N,N*r,v,v*r),g=m(0,d,h),p=m(Un,u,A),f=x(br,d,h),y=x(br+Un,u,A);n=(g-f)/2,a=(p-y)/2,i=-(g+f)/2,o=-(p+y)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class VA extends fd{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=c=>+n[c];if(or(n[e])){const{key:c="value"}=this._parsing;i=d=>+kd(n[d],c)}let o,l;for(o=e,l=e+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return qo(this.options.rotation-90)}_getCircumference(){return qo(this.options.circumference)}_getRotationExtents(){let e=ln,r=-ln;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(cve(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:A,ratioY:m,offsetX:x,offsetY:g}=r1e(h,u,c),p=(n.width-o)/A,f=(n.height-o)/m,y=Math.max(Math.min(p,f)/2,0),b=Nz(this.options.radius,y),N=Math.max(b*c,0),v=(b-N)/this._getVisibleDatasetWeightTotal();this.offsetX=x*b,this.offsetY=g*b,a.total=this.calculateTotal(),this.outerRadius=b-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/ln)}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,A=i&&d.animateScale,m=A?0:this.innerRadius,x=A?0:this.outerRadius,{sharedOptions:g,includeOptions:p}=this._getSharedOptions(r,a);let f=this._getRotation(),y;for(y=0;y<r;++y)f+=this._circumference(y,i);for(y=r;y<r+n;++y){const b=this._circumference(y,i),N=e[y],v={x:u+this.offsetX,y:h+this.offsetY,startAngle:f,endAngle:f+b,circumference:b,outerRadius:x,innerRadius:m};p&&(v.options=g||this.resolveDataElementOptions(y,N.active?"active":a)),f+=b,this.updateElement(N,y,v,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?ln*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Ck(r._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Jt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}et(VA,"id","doughnut"),et(VA,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),et(VA,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),et(VA,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class $v extends fd{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=Bve(r,a,o);this._drawStart=l,this._drawCount=c,Eve(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,a),A=o.axis,m=l.axis,{spanGaps:x,segment:g}=this.options,p=F0(x)?x:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||i||a==="none",y=r+n,b=e.length;let N=r>0&&this.getParsed(r-1);for(let v=0;v<b;++v){const C=e[v],P=f?C:{};if(v<r||v>=y){P.skip=!0;continue}const _=this.getParsed(v),k=fr(_[m]),M=P[A]=o.getPixelForValue(_[A],v),j=P[m]=i||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,_,c):_[m],v);P.skip=isNaN(M)||isNaN(j)||k,P.stop=v>0&&Math.abs(_[A]-N[A])>p,g&&(P.parsed=_,P.raw=d.data[v]),h&&(P.options=u||this.resolveDataElementOptions(v,C.active?"active":a)),f||this.updateElement(C,v,P,a),N=_}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}et($v,"id","line"),et($v,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),et($v,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class US extends VA{}et(US,"id","pie"),et(US,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Hv extends fd{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return iwe.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],i=r.iScale.getLabels();if(n.points=a,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":a),u=i.getPointPositionForValue(l,this.getParsed(l).r),h=o?i.xCenter:u.x,A=o?i.yCenter:u.y,m={x:h,y:A,angle:u.angle,skip:isNaN(h)||isNaN(A),options:d};this.updateElement(c,l,m,a)}}}et(Hv,"id","radar"),et(Hv,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),et(Hv,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function iu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ok{constructor(e){et(this,"options");this.options=e||{}}static override(e){Object.assign(Ok.prototype,e)}init(){}formats(){return iu()}parse(){return iu()}format(){return iu()}add(){return iu()}diff(){return iu()}startOf(){return iu()}endOf(){return iu()}}var n1e={_date:Ok};function s1e(t,e,r,n){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?jve:Ou;if(n){if(a._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const A=d(i,e,r-h),m=d(i,e,r+h);return{lo:A.lo,hi:m.hi}}}}else{const u=d(i,e,r);if(c){const{vScale:h}=a._cachedMeta,{_parsed:A}=t,m=A.slice(0,u.lo+1).reverse().findIndex(g=>!fr(g[h.axis]));u.lo-=Math.max(0,m);const x=A.slice(u.hi).findIndex(g=>!fr(g[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:i.length-1}}function Z2(t,e,r,n,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:A}=s1e(i[l],e,o,a);for(let m=h;m<=A;++m){const x=u[m];x.skip||n(x,d,m)}}}function a1e(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function k5(t,e,r,n,a){const i=[];return!a&&!t.isPointInArea(e)||Z2(t,r,e,function(l,c,d){!a&&!Ol(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function i1e(t,e,r,n){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=Sz(o,{x:e.x,y:e.y});T0(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return Z2(t,r,e,i),a}function o1e(t,e,r,n,a,i){let o=[];const l=a1e(r);let c=Number.POSITIVE_INFINITY;function d(u,h,A){const m=u.inRange(e.x,e.y,a);if(n&&!m)return;const x=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(x))&&!m)return;const p=l(e,x);p<c?(o=[{element:u,datasetIndex:h,index:A}],c=p):p===c&&o.push({element:u,datasetIndex:h,index:A})}return Z2(t,r,e,d),o}function P5(t,e,r,n,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?i1e(t,e,r,a):o1e(t,e,r,n,a,i)}function DD(t,e,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return Z2(t,r,e,(c,d,u)=>{c[o]&&c[o](e[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:i}var l1e={modes:{index(t,e,r,n){const a=pu(e,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?k5(t,a,i,n,o):P5(t,a,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,n){const a=pu(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?k5(t,a,i,n,o):P5(t,a,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,r,n){const a=pu(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return k5(t,a,i,n,o)},nearest(t,e,r,n){const a=pu(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return P5(t,a,i,r.intersect,n,o)},x(t,e,r,n){const a=pu(e,t);return DD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=pu(e,t);return DD(t,a,"y",r.intersect,n)}}};const Wz=["left","top","right","bottom"];function kp(t,e){return t.filter(r=>r.pos===e)}function MD(t,e){return t.filter(r=>Wz.indexOf(r.pos)===-1&&r.box.axis===e)}function Pp(t,e){return t.sort((r,n)=>{const a=e?n:r,i=e?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function c1e(t){const e=[];let r,n,a,i,o,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function d1e(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!Wz.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function u1e(t,e){const r=d1e(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=u?u*a:c&&e.availableHeight)}return r}function h1e(t){const e=c1e(t),r=Pp(e.filter(d=>d.box.fullSize),!0),n=Pp(kp(e,"left"),!0),a=Pp(kp(e,"right")),i=Pp(kp(e,"top"),!0),o=Pp(kp(e,"bottom")),l=MD(e,"x"),c=MD(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:kp(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function LD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function Gz(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function A1e(t,e,r,n){const{pos:a,box:i}=r,o=t.maxPadding;if(!or(a)){r.size&&(t[a]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,t[a]+=r.size}i.getPadding&&Gz(o,i.getPadding());const l=Math.max(0,e.outerWidth-LD(o,t,"left","right")),c=Math.max(0,e.outerHeight-LD(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function m1e(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function f1e(t,e){const r=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function ag(t,e,r,n){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,f1e(l.horizontal,e));const{same:h,other:A}=A1e(e,r,l,n);d|=h&&a.length,u=u||A,c.fullSize||a.push(l)}return d&&ag(a,e,r,n)||u}function qb(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function UD(t,e,r,n){const a=r.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,A=d.size||c.height;P0(d.start)&&(o=d.start),c.fullSize?qb(c,a.left,o,r.outerWidth-a.right-a.left,A):qb(c,e.left+d.placed,o,h,A),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,A=d.size||c.width;P0(d.start)&&(i=d.start),c.fullSize?qb(c,i,a.top,A,r.outerHeight-a.bottom-a.top):qb(c,i,e.top+d.placed,A,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var Mi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=da(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),l=h1e(t.boxes),c=l.vertical,d=l.horizontal;Br(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,p)=>p.box.options&&p.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),A=Object.assign({},a);Gz(A,da(n));const m=Object.assign({maxPadding:A,w:i,h:o,x:a.left,y:a.top},a),x=u1e(c.concat(d),h);ag(l.fullSize,m,h,x),ag(c,m,h,x),ag(d,m,h,x)&&ag(c,m,h,x),m1e(m),UD(l.leftAndTop,m,h,x),m.x+=m.w,m.y+=m.h,UD(l.rightAndBottom,m,h,x),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Br(l.chartArea,g=>{const p=g.box;Object.assign(p,t.chartArea),p.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Xz{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class p1e extends Xz{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const qv="$chartjs",g1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},RD=t=>t===null||t==="";function x1e(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[qv]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",RD(a)){const i=jD(t,"width");i!==void 0&&(t.width=i)}if(RD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=jD(t,"height");i!==void 0&&(t.height=i)}return t}const Yz=bwe?{passive:!0}:!1;function y1e(t,e,r){t&&t.addEventListener(e,r,Yz)}function b1e(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,Yz)}function v1e(t,e){const r=g1e[t.type]||t.type,{x:n,y:a}=pu(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Zw(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function w1e(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Zw(l.addedNodes,n),o=o&&!Zw(l.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function j1e(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Zw(l.removedNodes,n),o=o&&!Zw(l.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const I0=new Map;let QD=0;function Jz(){const t=window.devicePixelRatio;t!==QD&&(QD=t,I0.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function N1e(t,e){I0.size||window.addEventListener("resize",Jz),I0.set(t,e)}function _1e(t){I0.delete(t),I0.size||window.removeEventListener("resize",Jz)}function C1e(t,e,r){const n=t.canvas,a=n&&Tk(n);if(!a)return;const i=Pz((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),N1e(t,i),o}function F5(t,e,r){r&&r.disconnect(),e==="resize"&&_1e(t)}function S1e(t,e,r){const n=t.canvas,a=Pz(i=>{t.ctx!==null&&r(v1e(i,t))},t);return y1e(n,e,a),a}class B1e extends Xz{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(x1e(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[qv])return!1;const n=r[qv].initial;["height","width"].forEach(i=>{const o=n[i];fr(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[qv],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:w1e,detach:j1e,resize:C1e}[r]||S1e;a[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:F5,detach:F5,resize:F5}[r]||b1e)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return ywe(e,r,n,a)}isAttached(e){const r=e&&Tk(e);return!!(r&&r.isConnected)}}function E1e(t){return!Fk()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?p1e:B1e}var uv;let ic=(uv=class{constructor(){et(this,"x");et(this,"y");et(this,"active",!1);et(this,"options");et(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return F0(this.x)&&F0(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},et(uv,"defaults",{}),et(uv,"defaultRoutes"),uv);function k1e(t,e){const r=t.options.ticks,n=P1e(t),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?T1e(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return O1e(e,d,i,o/a),d;const u=F1e(i,e,a);if(o>0){let h,A;const m=o>1?Math.round((c-l)/(o-1)):null;for(zb(e,d,u,fr(m)?0:l-m,l),h=0,A=o-1;h<A;h++)zb(e,d,u,i[h],i[h+1]);return zb(e,d,u,c,fr(m)?e.length:c+m),d}return zb(e,d,u),d}function P1e(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function F1e(t,e,r){const n=I1e(t),a=e.length/r;if(!n)return Math.max(a,1);const i=gve(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function T1e(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function O1e(t,e,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*n])}function zb(t,e,r,n,a){const i=Jt(n,0),o=Math.min(Jt(a,t.length),t.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*r))}function I1e(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const D1e=t=>t==="left"?"right":t==="right"?"left":t,$D=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,HD=(t,e)=>Math.min(e||t,t);function qD(t,e){const r=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)r.push(t[Math.floor(i)]);return r}function M1e(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(r&&(n===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function L1e(t,e){Br(t,r=>{const n=r.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function Fp(t){return t.drawTicks?t.tickLength:0}function zD(t,e){if(!t.display)return 0;const r=us(t.font,e),n=da(t.padding);return(hn(t.text)?t.text.length:1)*r.lineHeight+n.height}function U1e(t,e){return Ld(t,{scale:e,type:"scale"})}function R1e(t,e,r){return Ld(t,{tick:r,index:e,type:"tick"})}function Q1e(t,e,r){let n=Nk(t);return(r&&e!=="right"||!r&&e==="right")&&(n=D1e(n)),n}function $1e(t,e,r,n){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,A,m,x;const g=o-a,p=l-i;if(t.isHorizontal()){if(m=Xs(n,i,l),or(r)){const f=Object.keys(r)[0],y=r[f];x=u[f].getPixelForValue(y)+g-e}else r==="center"?x=(d.bottom+d.top)/2+g-e:x=$D(t,r,e);A=l-i}else{if(or(r)){const f=Object.keys(r)[0],y=r[f];m=u[f].getPixelForValue(y)-p+e}else r==="center"?m=(d.left+d.right)/2-p+e:m=$D(t,r,e);x=Xs(n,o,a),h=r==="left"?-Un:Un}return{titleX:m,titleY:x,maxWidth:A,rotation:h}}class wf extends ic{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=To(e,Number.POSITIVE_INFINITY),r=To(r,Number.NEGATIVE_INFINITY),n=To(n,Number.POSITIVE_INFINITY),a=To(a,Number.NEGATIVE_INFINITY),{min:To(e,n),max:To(r,a),minDefined:Es(e),maxDefined:Es(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:To(r,To(n,r)),max:To(n,To(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Xve(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?qD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=k1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gr(this.options.afterUpdate,[this])}beforeSetDimensions(){Gr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Gr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=Gr(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Gr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=HD(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,A=u.highest.height,m=ia(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:m/(n-1),h+6>l&&(l=m/(n-(e.offset?.5:1)),c=this.maxHeight-Fp(e.grid)-r.padding-zD(e.title,this.chart.options.font),d=Math.sqrt(h*h+A*A),o=wk(Math.min(Math.asin(ia((u.highest.height+6)/l,-1,1)),Math.asin(ia(c/d,-1,1))-Math.asin(ia(A/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Gr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=zD(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Fp(i)+c):(e.height=this.maxHeight,e.width=Fp(i)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:A}=this._getLabelSizes(),m=n.padding*2,x=qo(this.labelRotation),g=Math.cos(x),p=Math.sin(x);if(l){const f=n.mirror?0:p*h.width+g*A.height;e.height=Math.min(this.maxHeight,e.height+f+m)}else{const f=n.mirror?0:g*h.width+p*A.height;e.width=Math.min(this.maxWidth,e.width+f+m)}this._calculatePadding(d,u,p,g)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let A=0,m=0;c?d?(A=a*e.width,m=n*r.height):(A=n*e.height,m=a*r.width):i==="start"?m=r.width:i==="end"?A=e.width:i!=="inner"&&(A=e.width/2,m=r.width/2),this.paddingLeft=Math.max((A-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=r.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)fr(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=qD(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/HD(r,n));let d=0,u=0,h,A,m,x,g,p,f,y,b,N,v;for(h=0;h<r;h+=c){if(x=e[h].label,g=this._resolveTickFontOptions(h),a.font=p=g.string,f=i[p]=i[p]||{data:{},gc:[]},y=g.lineHeight,b=N=0,!fr(x)&&!hn(x))b=Yw(a,f.data,f.gc,b,x),N=y;else if(hn(x))for(A=0,m=x.length;A<m;++A)v=x[A],!fr(v)&&!hn(v)&&(b=Yw(a,f.data,f.gc,b,v),N+=y);o.push(b),l.push(N),d=Math.max(b,d),u=Math.max(N,u)}L1e(i,r);const C=o.indexOf(d),P=l.indexOf(u),_=k=>({width:o[k]||0,height:l[k]||0});return{first:_(0),last:_(r-1),widest:_(C),highest:_(P),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return wve(this._alignToPixels?au(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=R1e(this.getContext(),e,n))}return this.$context||(this.$context=U1e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=qo(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),A=Fp(i),m=[],x=l.setContext(this.getContext()),g=x.display?x.width:0,p=g/2,f=function(U){return au(n,U,g)};let y,b,N,v,C,P,_,k,M,j,S,F;if(o==="top")y=f(this.bottom),P=this.bottom-A,k=y-p,j=f(e.top)+p,F=e.bottom;else if(o==="bottom")y=f(this.top),j=e.top,F=f(e.bottom)-p,P=y+p,k=this.top+A;else if(o==="left")y=f(this.right),C=this.right-A,_=y-p,M=f(e.left)+p,S=e.right;else if(o==="right")y=f(this.left),M=e.left,S=f(e.right)-p,C=y+p,_=this.left+A;else if(r==="x"){if(o==="center")y=f((e.top+e.bottom)/2+.5);else if(or(o)){const U=Object.keys(o)[0],z=o[U];y=f(this.chart.scales[U].getPixelForValue(z))}j=e.top,F=e.bottom,P=y+p,k=P+A}else if(r==="y"){if(o==="center")y=f((e.left+e.right)/2);else if(or(o)){const U=Object.keys(o)[0],z=o[U];y=f(this.chart.scales[U].getPixelForValue(z))}C=y-p,_=C-A,M=e.left,S=e.right}const O=Jt(a.ticks.maxTicksLimit,h),H=Math.max(1,Math.ceil(h/O));for(b=0;b<h;b+=H){const U=this.getContext(b),z=i.setContext(U),R=l.setContext(U),I=z.lineWidth,K=z.color,te=R.dash||[],Q=R.dashOffset,D=z.tickWidth,X=z.tickColor,V=z.tickBorderDash||[],de=z.tickBorderDashOffset;N=M1e(this,b,c),N!==void 0&&(v=au(n,N,I),d?C=_=M=S=v:P=k=j=F=v,m.push({tx1:C,ty1:P,tx2:_,ty2:k,x1:M,y1:j,x2:S,y2:F,width:I,color:K,borderDash:te,borderDashOffset:Q,tickWidth:D,tickColor:X,tickBorderDash:V,tickBorderDashOffset:de}))}return this._ticksLength=h,this._borderValue=y,m}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,A=Fp(n.grid),m=A+u,x=h?-u:m,g=-qo(this.labelRotation),p=[];let f,y,b,N,v,C,P,_,k,M,j,S,F="middle";if(a==="top")C=this.bottom-x,P=this._getXAxisLabelAlignment();else if(a==="bottom")C=this.top+x,P=this._getXAxisLabelAlignment();else if(a==="left"){const H=this._getYAxisLabelAlignment(A);P=H.textAlign,v=H.x}else if(a==="right"){const H=this._getYAxisLabelAlignment(A);P=H.textAlign,v=H.x}else if(r==="x"){if(a==="center")C=(e.top+e.bottom)/2+m;else if(or(a)){const H=Object.keys(a)[0],U=a[H];C=this.chart.scales[H].getPixelForValue(U)+m}P=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")v=(e.left+e.right)/2-m;else if(or(a)){const H=Object.keys(a)[0],U=a[H];v=this.chart.scales[H].getPixelForValue(U)}P=this._getYAxisLabelAlignment(A).textAlign}r==="y"&&(c==="start"?F="top":c==="end"&&(F="bottom"));const O=this._getLabelSizes();for(f=0,y=l.length;f<y;++f){b=l[f],N=b.label;const H=i.setContext(this.getContext(f));_=this.getPixelForTick(f)+i.labelOffset,k=this._resolveTickFontOptions(f),M=k.lineHeight,j=hn(N)?N.length:1;const U=j/2,z=H.color,R=H.textStrokeColor,I=H.textStrokeWidth;let K=P;o?(v=_,P==="inner"&&(f===y-1?K=this.options.reverse?"left":"right":f===0?K=this.options.reverse?"right":"left":K="center"),a==="top"?d==="near"||g!==0?S=-j*M+M/2:d==="center"?S=-O.highest.height/2-U*M+M:S=-O.highest.height+M/2:d==="near"||g!==0?S=M/2:d==="center"?S=O.highest.height/2-U*M:S=O.highest.height-j*M,h&&(S*=-1),g!==0&&!H.showLabelBackdrop&&(v+=M/2*Math.sin(g))):(C=_,S=(1-j)*M/2);let te;if(H.showLabelBackdrop){const Q=da(H.backdropPadding),D=O.heights[f],X=O.widths[f];let V=S-Q.top,de=0-Q.left;switch(F){case"middle":V-=D/2;break;case"bottom":V-=D;break}switch(P){case"center":de-=X/2;break;case"right":de-=X;break;case"inner":f===y-1?de-=X:f>0&&(de-=X/2);break}te={left:de,top:V,width:X+Q.width,height:D+Q.height,color:H.backdropColor}}p.push({label:N,font:k,textOffset:S,options:{rotation:g,color:z,strokeColor:R,strokeWidth:I,textAlign:K,textBaseline:F,translation:[v,C],backdrop:te}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-qo(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,A;this.isHorizontal()?(d=au(e,this.left,o)-o/2,u=au(e,this.right,l)+l/2,h=A=c):(h=au(e,this.top,o)-o/2,A=au(e,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,h),r.lineTo(u,A),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&X2(n,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;oh(n,d,0,u,c,l)}a&&Y2(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=us(n.font),o=da(n.padding),l=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||or(r)?(c+=o.bottom,hn(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:A}=$1e(this,c,r,l);oh(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:A,textAlign:Q1e(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Jt(e.grid&&e.grid.z,-1),a=Jt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==wf.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return us(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vb{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;z1e(r)&&(n=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,H1e(e,o,n),this.override&&Bn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Bn[a]&&(delete Bn[a][n],this.override&&delete ih[n])}}function H1e(t,e,r){const n=k0(Object.create(null),[r?Bn.get(r):{},Bn.get(e),t.defaults]);Bn.set(e,n),t.defaultRoutes&&q1e(e,t.defaultRoutes),t.descriptors&&Bn.describe(e,t.descriptors)}function q1e(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),l=o.pop(),c=o.join(".");Bn.route(i,a,c,l)})}function z1e(t){return"id"in t&&"defaults"in t}class V1e{constructor(){this.controllers=new Vb(fd,"datasets",!0),this.elements=new Vb(ic,"elements"),this.plugins=new Vb(Object,"plugins"),this.scales=new Vb(wf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Br(a,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,r,n){const a=vk(e);Gr(n["before"+a],[],n),r[e](n),Gr(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Lo=new V1e;class K1e{constructor(){this._init=void 0}notify(e,r,n,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,n,a){a=a||{};for(const i of e){const o=i.plugin,l=o[n],c=[r,a,i.options];if(Gr(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){fr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Jt(n.options&&n.options.plugins,{}),i=W1e(n);return a===!1&&!r?[]:X1e(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function W1e(t){const e={},r=[],n=Object.keys(Lo.plugins.items);for(let i=0;i<n.length;i++)r.push(Lo.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function G1e(t,e){return!e&&t===!1?null:t===!0?{}:t}function X1e(t,{plugins:e,localIds:r},n,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=G1e(n[c],a);d!==null&&i.push({plugin:l,options:Y1e(t.config,{plugin:l,local:r[c]},d,o)})}return i}function Y1e(t,{plugin:e,local:r},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function RS(t,e){const r=Bn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function J1e(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Z1e(t,e){return t===e?"_index_":"_value_"}function VD(t){if(t==="x"||t==="y"||t==="r")return t}function e2e(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function QS(t,...e){if(VD(t))return t;for(const r of e){const n=r.axis||e2e(r.position)||t.length>1&&VD(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function KD(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function t2e(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return KD(t,"x",r[0])||KD(t,"y",r[0])}return{}}function r2e(t,e){const r=ih[t.type]||{scales:{}},n=e.scales||{},a=RS(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!or(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=QS(o,l,t2e(o,t),Bn.scales[l.type]),d=Z1e(c,a),u=r.scales||{};i[o]=Ig(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||RS(l,e),u=(ih[l]||{}).scales||{};Object.keys(u).forEach(h=>{const A=J1e(h,c),m=o[A+"AxisID"]||A;i[m]=i[m]||Object.create(null),Ig(i[m],[{axis:A},n[m],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];Ig(l,[Bn.scales[l.type],Bn.scale])}),i}function Zz(t){const e=t.options||(t.options={});e.plugins=Jt(e.plugins,{}),e.scales=r2e(t,e)}function eV(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function n2e(t){return t=t||{},t.data=eV(t.data),Zz(t),t}const WD=new Map,tV=new Set;function Kb(t,e){let r=WD.get(t);return r||(r=e(),WD.set(t,r),tV.add(r)),r}const Tp=(t,e,r)=>{const n=kd(e,r);n!==void 0&&t.add(n)};class s2e{constructor(e){this._config=n2e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=eV(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Zz(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Kb(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Kb(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Kb(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Kb(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(h=>Tp(c,e,h))),u.forEach(h=>Tp(c,a,h)),u.forEach(h=>Tp(c,ih[i]||{},h)),u.forEach(h=>Tp(c,Bn,h)),u.forEach(h=>Tp(c,MS,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),tV.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,ih[r]||{},Bn.datasets[r]||{},{type:r},Bn,MS]}resolveNamedOptions(e,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=GD(this._resolverCache,e,a);let c=o;if(i2e(o,r)){i.$shared=!1,n=Pd(n)?n():n;const d=this.createResolver(e,n,l);c=Dm(o,n,d)}for(const d of r)i[d]=c[d];return i}createResolver(e,r,n=[""],a){const{resolver:i}=GD(this._resolverCache,e,n);return or(r)?Dm(i,r,void 0,a):i}}function GD(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let i=n.get(a);return i||(i={resolver:Ek(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const a2e=t=>or(t)&&Object.getOwnPropertyNames(t).some(e=>Pd(t[e]));function i2e(t,e){const{isScriptable:r,isIndexable:n}=Oz(t);for(const a of e){const i=r(a),o=n(a),l=(o||i)&&t[a];if(i&&(Pd(l)||a2e(l))||o&&hn(l))return!0}return!1}var o2e="4.5.1";const l2e=["top","bottom","left","right","chartArea"];function XD(t,e){return t==="top"||t==="bottom"||l2e.indexOf(t)===-1&&e==="x"}function YD(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function JD(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Gr(r&&r.onComplete,[t],e)}function c2e(t){const e=t.chart,r=e.options.animation;Gr(r&&r.onProgress,[t],e)}function rV(t){return Fk()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const zv={},ZD=t=>{const e=rV(t);return Object.values(zv).filter(r=>r.canvas===e).pop()};function d2e(t,e,r){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function u2e(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var kc;let bh=(kc=class{static register(...e){Lo.add(...e),eM()}static unregister(...e){Lo.remove(...e),eM()}constructor(e,r){const n=this.config=new s2e(r),a=rV(e),i=ZD(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||E1e(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=lve(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new K1e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Cve(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],zv[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}jl.listen(this,"complete",JD),jl.listen(this,"progress",c2e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return fr(e)?r&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Lo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yD(this.canvas,this.ctx),this}stop(){return jl.stop(this),this}resize(e,r){jl.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,wD(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Gr(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Br(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=QS(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Br(i,o=>{const l=o.options,c=l.id,d=QS(c,l),u=Jt(l.type,o.dtype);(l.position===void 0||XD(l.position,d)!==XD(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const A=Lo.getScale(u);h=new A({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),Br(a,(o,l)=>{o||delete n[l]}),Br(n,o=>{Mi.configure(this,o,o.options),Mi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(YD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||RS(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Lo.getController(l),{datasetElementType:d,dataElementType:u}=Bn.datasets[l];Object.assign(c,{dataElementType:Lo.getElement(u),datasetElementType:d&&Lo.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Br(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),A=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(A),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||Br(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(YD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Br(this.scales,e=>{Mi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!dD(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;d2e(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!dD(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mi.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Br(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Pd(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(jl.has(this)?this.attached&&!jl.running(this)&&jl.start(this):(this.draw(),JD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=qz(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&X2(r,a),e.controller.draw(),a&&Y2(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Ol(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const i=l1e.modes[r];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Ld(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);P0(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),jl.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yD(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete zv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Br(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){Br(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Br(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Ww(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(r,e),l=n?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(e,a,n,o),c=mve(e),d=u2e(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Gr(i.onHover,[e,l,this],this),c&&Gr(i.onClick,[e,l,this],this));const u=!Ww(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}},et(kc,"defaults",Bn),et(kc,"instances",zv),et(kc,"overrides",ih),et(kc,"registry",Lo),et(kc,"version",o2e),et(kc,"getChart",ZD),kc);function eM(){return Br(bh.instances,t=>t._plugins.invalidate())}function h2e(t,e,r){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,Zs(n-r));if(t.beginPath(),t.arc(a,i,o-d/2,n+h/2,r-h/2),l>0){const A=Math.min(d/l,Zs(n-r));t.arc(a,i,l+d/2,r-A/2,n+A/2,!0)}else{const A=Math.min(d/2,o*Zs(n-r));if(u==="round")t.arc(a,i,A,r-br/2,n+br/2,!0);else if(u==="bevel"){const m=2*A*A,x=-m*Math.cos(r+br/2)+a,g=-m*Math.sin(r+br/2)+i,p=m*Math.cos(n+br/2)+a,f=m*Math.sin(n+br/2)+i;t.lineTo(x,g),t.lineTo(p,f)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function A2e(t,e,r){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,n-d,r+d),c>a?(d=a/c,t.arc(i,o,c,r+d,n-d,!0)):t.arc(i,o,a,r+Un,n-Un),t.closePath(),t.clip()}function m2e(t){return Bk(t,["outerStart","outerEnd","innerStart","innerEnd"])}function f2e(t,e,r,n){const a=m2e(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),l=c=>{const d=(r-Math.min(i,c))*n/2;return ia(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:ia(a.innerStart,0,o),innerEnd:ia(a.innerEnd,0,o)}}function pA(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function e1(t,e,r,n,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+n+r-d,0),A=u>0?u+n+r+d:0;let m=0;const x=a-c;if(n){const H=u>0?u-n:0,U=h>0?h-n:0,z=(H+U)/2,R=z!==0?x*z/(z+n):x;m=(x-R)/2}const g=Math.max(.001,x*h-r/br)/h,p=(x-g)/2,f=c+p+m,y=a-p-m,{outerStart:b,outerEnd:N,innerStart:v,innerEnd:C}=f2e(e,A,h,y-f),P=h-b,_=h-N,k=f+b/P,M=y-N/_,j=A+v,S=A+C,F=f+v/j,O=y-C/S;if(t.beginPath(),i){const H=(k+M)/2;if(t.arc(o,l,h,k,H),t.arc(o,l,h,H,M),N>0){const I=pA(_,M,o,l);t.arc(I.x,I.y,N,M,y+Un)}const U=pA(S,y,o,l);if(t.lineTo(U.x,U.y),C>0){const I=pA(S,O,o,l);t.arc(I.x,I.y,C,y+Un,O+Math.PI)}const z=(y-C/A+(f+v/A))/2;if(t.arc(o,l,A,y-C/A,z,!0),t.arc(o,l,A,z,f+v/A,!0),v>0){const I=pA(j,F,o,l);t.arc(I.x,I.y,v,F+Math.PI,f-Un)}const R=pA(P,f,o,l);if(t.lineTo(R.x,R.y),b>0){const I=pA(P,k,o,l);t.arc(I.x,I.y,b,f-Un,k)}}else{t.moveTo(o,l);const H=Math.cos(k)*h+o,U=Math.sin(k)*h+l;t.lineTo(H,U);const z=Math.cos(M)*h+o,R=Math.sin(M)*h+l;t.lineTo(z,R)}t.closePath()}function p2e(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){e1(t,e,r,n,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%ln||ln))}return e1(t,e,r,n,c,a),t.fill(),c}function g2e(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:A,borderRadius:m}=c,x=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=A,x?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let g=e.endAngle;if(i){e1(t,e,r,n,g,a);for(let p=0;p<i;++p)t.stroke();isNaN(l)||(g=o+(l%ln||ln))}x&&A2e(t,e,g),c.selfJoin&&g-o>=br&&m===0&&u!=="miter"&&h2e(t,e,g),i||(e1(t,e,r,n,g,a),t.stroke())}class Iu extends ic{constructor(r){super();et(this,"circumference");et(this,"endAngle");et(this,"fullCircles");et(this,"innerRadius");et(this,"outerRadius");et(this,"pixelMargin");et(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=Sz(i,{x:r,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:A}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),m=(this.options.spacing+this.options.borderWidth)/2,x=Jt(A,d-c),g=T0(o,c,d)&&c!==d,p=x>=ln||g,f=Tl(l,u+m,h+m);return p&&f}getCenterPoint(r){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,h=(i+o)/2,A=(l+c+u+d)/2;return{x:n+Math.cos(h)*A,y:a+Math.sin(h)*A}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>ln?Math.floor(a/ln):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(br,a||0)),u=i*d;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,p2e(r,this,u,o,l),g2e(r,this,u,o,l),r.restore()}}et(Iu,"id","arc"),et(Iu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),et(Iu,"defaultRoutes",{backgroundColor:"backgroundColor"}),et(Iu,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function nV(t,e,r=e){t.lineCap=Jt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Jt(r.borderDash,e.borderDash)),t.lineDashOffset=Jt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Jt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Jt(r.borderWidth,e.borderWidth),t.strokeStyle=Jt(r.borderColor,e.borderColor)}function x2e(t,e,r){t.lineTo(r.x,r.y)}function y2e(t){return t.stepped?Qve:t.tension||t.cubicInterpolationMode==="monotone"?$ve:x2e}function sV(t,e,r={}){const n=t.length,{start:a=0,end:i=n-1}=r,{start:o,end:l}=e,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!u?n+d-c:d-c}}function b2e(t,e,r,n){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:d}=sV(a,r,n),u=y2e(i);let{move:h=!0,reverse:A}=n||{},m,x,g;for(m=0;m<=d;++m)x=a[(l+(A?d-m:m))%o],!x.skip&&(h?(t.moveTo(x.x,x.y),h=!1):u(t,g,x,A,i.stepped),g=x);return c&&(x=a[(l+(A?d:0))%o],u(t,g,x,A,i.stepped)),!!c}function v2e(t,e,r,n){const a=e.points,{count:i,start:o,ilen:l}=sV(a,r,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,A,m,x,g,p,f;const y=N=>(o+(d?l-N:N))%i,b=()=>{g!==p&&(t.lineTo(u,p),t.lineTo(u,g),t.lineTo(u,f))};for(c&&(m=a[y(0)],t.moveTo(m.x,m.y)),A=0;A<=l;++A){if(m=a[y(A)],m.skip)continue;const N=m.x,v=m.y,C=N|0;C===x?(v<g?g=v:v>p&&(p=v),u=(h*u+N)/++h):(b(),t.lineTo(N,v),x=C,h=0,g=p=v),f=v}b()}function $S(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?v2e:b2e}function w2e(t){return t.stepped?vwe:t.tension||t.cubicInterpolationMode==="monotone"?wwe:gu}function j2e(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),nV(t,e.options),t.stroke(a)}function N2e(t,e,r,n){const{segments:a,options:i}=e,o=$S(e);for(const l of a)nV(t,i,l.style),t.beginPath(),o(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const _2e=typeof Path2D=="function";function C2e(t,e,r,n){_2e&&!e.options.segment?j2e(t,e,r,n):N2e(t,e,r,n)}class po extends ic{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Awe(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Bwe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],i=this.points,o=Hz(this,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=w2e(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:A}=o[d],m=i[h],x=i[A];if(m===x){l.push(m);continue}const g=Math.abs((a-m[r])/(x[r]-m[r])),p=c(m,x,g,n.stepped);p[r]=e[r],l.push(p)}return l.length===1?l[0]:l}pathSegment(e,r,n){return $S(this)(e,this,r,n)}path(e,r,n){const a=this.segments,i=$S(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)o&=i(e,this,l,{start:r,end:r+n-1});return!!o}draw(e,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),C2e(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}et(po,"id","line"),et(po,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),et(po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),et(po,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function tM(t,e,r,n){const a=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<a.radius+a.hitRadius}class Xu extends ic{constructor(r){super();et(this,"parsed");et(this,"skip");et(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(r-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return tM(this,r,"x",n)}inYRange(r,n){return tM(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!Ol(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,LS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}et(Xu,"id","point"),et(Xu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),et(Xu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function aV(t,e){const{x:r,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(r,a),c=Math.max(r,a),d=n-h,u=n+h):(h=i/2,l=r-h,c=r+h,d=Math.min(n,a),u=Math.max(n,a)),{left:l,top:d,right:c,bottom:u}}function Zc(t,e,r,n){return t?0:ia(e,r,n)}function S2e(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,i=Tz(n);return{t:Zc(a.top,i.top,0,r),r:Zc(a.right,i.right,0,e),b:Zc(a.bottom,i.bottom,0,r),l:Zc(a.left,i.left,0,e)}}function B2e(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=Wu(a),o=Math.min(e,r),l=t.borderSkipped,c=n||or(a);return{topLeft:Zc(!c||l.top||l.left,i.topLeft,0,o),topRight:Zc(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Zc(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Zc(!c||l.bottom||l.right,i.bottomRight,0,o)}}function E2e(t){const e=aV(t),r=e.right-e.left,n=e.bottom-e.top,a=S2e(t,r/2,n/2),i=B2e(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function T5(t,e,r,n){const a=e===null,i=r===null,l=t&&!(a&&i)&&aV(t,n);return l&&(a||Tl(e,l.left,l.right))&&(i||Tl(r,l.top,l.bottom))}function k2e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function P2e(t,e){t.rect(e.x,e.y,e.w,e.h)}function O5(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class bm extends ic{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=E2e(this),l=k2e(o.radius)?O0:P2e;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,O5(o,r,i)),e.clip(),l(e,O5(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,O5(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return T5(this,e,r,n)}inXRange(e,r){return T5(this,e,null,r)}inYRange(e,r){return T5(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}et(bm,"id","bar"),et(bm,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),et(bm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function F2e(t,e,r){const n=t.segments,a=t.points,i=e.points,o=[];for(const l of n){let{start:c,end:d}=l;d=ej(c,d,a);const u=HS(r,a[c],a[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:a[c],end:a[d]});continue}const h=Hz(e,u);for(const A of h){const m=HS(r,i[A.start],i[A.end],A.loop),x=$z(l,a,m);for(const g of x)o.push({source:g,target:A,start:{[r]:rM(u,m,"start",Math.max)},end:{[r]:rM(u,m,"end",Math.min)}})}}return o}function HS(t,e,r,n){if(n)return;let a=e[t],i=r[t];return t==="angle"&&(a=Zs(a),i=Zs(i)),{property:t,start:a,end:i}}function T2e(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=ej(o,l,a);const c=a[o],d=a[l];n!==null?(i.push({x:c.x,y:n}),i.push({x:d.x,y:n})):r!==null&&(i.push({x:r,y:c.y}),i.push({x:r,y:d.y}))}),i}function ej(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function rM(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function iV(t,e){let r=[],n=!1;return hn(t)?(n=!0,r=t):r=T2e(t,e),r.length?new po({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function nM(t){return t&&t.fill!==!1}function O2e(t,e,r){let a=t[e].fill;const i=[e];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Es(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function I2e(t,e,r){const n=U2e(t);if(or(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Es(a)&&Math.floor(a)===a?D2e(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function D2e(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function M2e(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:or(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function L2e(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:or(t)?n=t.value:n=e.getBaseValue(),n}function U2e(t){const e=t.options,r=e.fill;let n=Jt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function R2e(t){const{scale:e,index:r,line:n}=t,a=[],i=n.segments,o=n.points,l=Q2e(e,r);l.push(iV({x:null,y:e.bottom},n));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)$2e(a,o[u],l)}return new po({points:a,options:{}})}function Q2e(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function $2e(t,e,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:l,point:c}=H2e(i,e,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function H2e(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],h=o[u.start][r],A=o[u.end][r];if(Tl(a,h,A)){l=a===h,c=a===A;break}}return{first:l,last:c,point:n}}class oV{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:ln},e.arc(a,i,o,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function q2e(t){const{chart:e,fill:r,line:n}=t;if(Es(r))return z2e(e,r);if(r==="stack")return R2e(t);if(r==="shape")return!0;const a=V2e(t);return a instanceof oV?a:iV(a,n)}function z2e(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function V2e(t){return(t.scale||{}).getPointPositionForValue?W2e(t):K2e(t)}function K2e(t){const{scale:e={},fill:r}=t,n=M2e(r,e);if(Es(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function W2e(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,o=L2e(r,e,i),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,i);return new oV({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,o));return l}function I5(t,e,r){const n=q2e(e),{chart:a,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,h=d.backgroundColor,{above:A=h,below:m=h}=u||{},x=a.getDatasetMeta(i),g=qz(a,x);n&&o.points.length&&(X2(t,r),G2e(t,{line:o,target:n,above:A,below:m,area:r,scale:l,axis:c,clip:g}),Y2(t))}function G2e(t,e){const{line:r,target:n,above:a,below:i,area:o,scale:l,clip:c}=e,d=r._loop?"angle":e.axis;t.save();let u=i;i!==a&&(d==="x"?(sM(t,n,o.top),D5(t,{line:r,target:n,color:a,scale:l,property:d,clip:c}),t.restore(),t.save(),sM(t,n,o.bottom)):d==="y"&&(aM(t,n,o.left),D5(t,{line:r,target:n,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),aM(t,n,o.right),u=a)),D5(t,{line:r,target:n,color:u,scale:l,property:d,clip:c}),t.restore()}function sM(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],h=a[ej(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function aM(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],h=a[ej(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(r,h.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function D5(t,e){const{line:r,target:n,property:a,color:i,scale:o,clip:l}=e,c=F2e(r,n,a);for(const{source:d,target:u,start:h,end:A}of c){const{style:{backgroundColor:m=i}={}}=d,x=n!==!0;t.save(),t.fillStyle=m,X2e(t,o,l,x&&HS(a,h,A)),t.beginPath();const g=!!r.pathSegment(t,d);let p;if(x){g?t.closePath():iM(t,n,A,a);const f=!!n.pathSegment(t,u,{move:g,reverse:!0});p=g&&f,p||iM(t,n,h,a)}t.closePath(),t.fill(p?"evenodd":"nonzero"),t.restore()}}function X2e(t,e,r,n){const a=e.chart.chartArea,{property:i,start:o,end:l}=n||{};if(i==="x"||i==="y"){let c,d,u,h;i==="x"?(c=o,d=a.top,u=l,h=a.bottom):(c=a.left,d=o,u=a.right,h=l),t.beginPath(),r&&(c=Math.max(c,r.left),u=Math.min(u,r.right),d=Math.max(d,r.top),h=Math.min(h,r.bottom)),t.rect(c,d,u-c,h-d),t.clip()}}function iM(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var tj={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<n;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof po&&(c={visible:t.isDatasetVisible(o),index:o,fill:I2e(l,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<n;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=O2e(a,o,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&I5(t.ctx,l,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;nM(i)&&I5(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!nM(n)||r.drawTime!=="beforeDatasetDraw"||I5(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const oM=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Y2e=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let lM=class extends ic{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Gr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=us(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=oM(n,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=e;i.textAlign="left",i.textBaseline="middle";let A=-1,m=-u;return this.legendItems.forEach((x,g)=>{const p=n+r/2+i.measureText(x.text).width;(g===0||d[d.length-1]+p+2*l>o)&&(h+=u,d[d.length-(g>0?0:1)]=0,m+=u,A++),c[g]={left:0,top:m,row:A,width:p,height:a},d[d.length-1]+=p+l}),h}_fitCols(e,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,A=0,m=0,x=0,g=0;return this.legendItems.forEach((p,f)=>{const{itemWidth:y,itemHeight:b}=J2e(n,r,i,p,a);f>0&&m+b+2*l>u&&(h+=A+l,d.push({width:A,height:m}),x+=A+l,g++,A=m=0),c[f]={left:x,top:m,col:g,width:y,height:b},A=Math.max(A,y),m+=b+l}),h+=A,d.push({width:A,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=ym(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Xs(n,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=Xs(n,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=Xs(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=Xs(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;X2(e,this),this._draw(),Y2(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,l=Bn.color,c=ym(e.rtl,this.left,this.width),d=us(o.font),{padding:u}=o,h=d.size,A=h/2;let m;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:x,boxHeight:g,itemHeight:p}=oM(o,h),f=function(C,P,_){if(isNaN(x)||x<=0||isNaN(g)||g<0)return;a.save();const k=Jt(_.lineWidth,1);if(a.fillStyle=Jt(_.fillStyle,l),a.lineCap=Jt(_.lineCap,"butt"),a.lineDashOffset=Jt(_.lineDashOffset,0),a.lineJoin=Jt(_.lineJoin,"miter"),a.lineWidth=k,a.strokeStyle=Jt(_.strokeStyle,l),a.setLineDash(Jt(_.lineDash,[])),o.usePointStyle){const M={radius:g*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:k},j=c.xPlus(C,x/2),S=P+A;Fz(a,M,j,S,o.pointStyleWidth&&x)}else{const M=P+Math.max((h-g)/2,0),j=c.leftForLtr(C,x),S=Wu(_.borderRadius);a.beginPath(),Object.values(S).some(F=>F!==0)?O0(a,{x:j,y:M,w:x,h:g,radius:S}):a.rect(j,M,x,g),a.fill(),k!==0&&a.stroke()}a.restore()},y=function(C,P,_){oh(a,_.text,C,P+p/2,d,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},b=this.isHorizontal(),N=this._computeTitleHeight();b?m={x:Xs(i,this.left+u,this.right-n[0]),y:this.top+u+N,line:0}:m={x:this.left+u,y:Xs(i,this.top+N+u,this.bottom-r[0].height),line:0},Uz(this.ctx,e.textDirection);const v=p+u;this.legendItems.forEach((C,P)=>{a.strokeStyle=C.fontColor,a.fillStyle=C.fontColor;const _=a.measureText(C.text).width,k=c.textAlign(C.textAlign||(C.textAlign=o.textAlign)),M=x+A+_;let j=m.x,S=m.y;c.setWidth(this.width),b?P>0&&j+M+u>this.right&&(S=m.y+=v,m.line++,j=m.x=Xs(i,this.left+u,this.right-n[m.line])):P>0&&S+v>this.bottom&&(j=m.x=j+r[m.line].width+u,m.line++,S=m.y=Xs(i,this.top+N+u,this.bottom-r[m.line].height));const F=c.x(j);if(f(F,S,C),j=Sve(k,j+x+A,b?j+M:this.right,e.rtl),y(c.x(j),S,C),b)m.x+=M+u;else if(typeof C.text!="string"){const O=d.lineHeight;m.y+=lV(C,O)+u}else m.y+=v}),Rz(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=us(r.font),a=da(r.padding);if(!r.display)return;const i=ym(e.rtl,this.left,this.width),o=this.ctx,l=r.position,c=n.size/2,d=a.top+c;let u,h=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),u=this.top+d,h=Xs(e.align,h,this.right-A);else{const x=this.columnSizes.reduce((g,p)=>Math.max(g,p.height),0);u=d+Xs(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const m=Xs(l,h,h+A);o.textAlign=i.textAlign(Nk(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,oh(o,r.text,m,u,n)}_computeTitleHeight(){const e=this.options.title,r=us(e.font),n=da(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,i;if(Tl(e,this.left,this.right)&&Tl(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],Tl(e,a.left,a.left+a.width)&&Tl(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!tje(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=Y2e(a,n);a&&!i&&Gr(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&Gr(r.onHover,[e,n,this],this)}else n&&Gr(r.onClick,[e,n,this],this)}};function J2e(t,e,r,n,a){const i=Z2e(n,t,e,r),o=eje(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function Z2e(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(a).width}function eje(t,e,r){let n=t;return typeof e.text!="string"&&(n=lV(e,r)),n}function lV(t,e){const r=t.text?t.text.length:0;return e*r}function tje(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var rj={id:"legend",_element:lM,start(t,e,r){const n=t.legend=new lM({ctx:t.ctx,options:r,chart:t});Mi.configure(t,n,r),Mi.addBox(t,n)},stop(t){Mi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Mi.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=da(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class cV extends ic{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=hn(n.text)?n.text.length:1;this._padding=da(n.padding);const i=a*us(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Xs(l,n,i),h=r+e,d=i-n):(o.position==="left"?(u=n+e,h=Xs(l,a,r),c=br*-.5):(u=i-e,h=Xs(l,r,a),c=br*.5),d=a-r),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=us(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);oh(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:d,textAlign:Nk(r.align),textBaseline:"middle",translation:[o,l]})}}function rje(t,e){const r=new cV({ctx:t.ctx,options:e,chart:t});Mi.configure(t,r,e),Mi.addBox(t,r),t.titleBlock=r}var nj={id:"title",_element:cV,start(t,e,r){rje(t,r)},stop(t){const e=t.titleBlock;Mi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Mi.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ig={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=DS(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Io(t,e){return e&&(hn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Nl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function nje(t,e){const{element:r,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function cM(t,e){const r=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=us(e.bodyFont),d=us(e.titleFont),u=us(e.footerFont),h=i.length,A=a.length,m=n.length,x=da(e.padding);let g=x.height,p=0,f=n.reduce((N,v)=>N+v.before.length+v.lines.length+v.after.length,0);if(f+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),f){const N=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=m*N+(f-m)*c.lineHeight+(f-1)*e.bodySpacing}A&&(g+=e.footerMarginTop+A*u.lineHeight+(A-1)*e.footerSpacing);let y=0;const b=function(N){p=Math.max(p,r.measureText(N).width+y)};return r.save(),r.font=d.string,Br(t.title,b),r.font=c.string,Br(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,Br(n,N=>{Br(N.before,b),Br(N.lines,b),Br(N.after,b)}),y=0,r.font=u.string,Br(t.footer,b),r.restore(),p+=x.width,{width:p,height:g}}function sje(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function aje(t,e,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function ije(t,e,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),aje(d,t,e,r)&&(d="center"),d}function dM(t,e,r){const n=r.yAlign||e.yAlign||sje(t,r);return{xAlign:r.xAlign||e.xAlign||ije(t,e,r,n),yAlign:n}}function oje(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function lje(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function uM(t,e,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:h,bottomLeft:A,bottomRight:m}=Wu(o);let x=oje(e,l);const g=lje(e,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(u,A)+a:l==="right"&&(x+=Math.max(h,m)+a),{x:ia(x,0,n.width-e.width),y:ia(g,0,n.height-e.height)}}function Wb(t,e,r){const n=da(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function hM(t){return Io([],Nl(t))}function cje(t,e,r){return Ld(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function AM(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const dV={beforeTitle:bl,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:bl,beforeBody:bl,beforeLabel:bl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return fr(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:bl,afterBody:bl,beforeFooter:bl,footer:bl,afterFooter:bl};function Fa(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?dV[e].call(r,n):a}var fC;let mM=(fC=class extends ic{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new zz(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=cje(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Fa(n,"beforeTitle",this,e),i=Fa(n,"title",this,e),o=Fa(n,"afterTitle",this,e);let l=[];return l=Io(l,Nl(a)),l=Io(l,Nl(i)),l=Io(l,Nl(o)),l}getBeforeBody(e,r){return hM(Fa(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return Br(e,i=>{const o={before:[],lines:[],after:[]},l=AM(n,i);Io(o.before,Nl(Fa(l,"beforeLabel",this,i))),Io(o.lines,Fa(l,"label",this,i)),Io(o.after,Nl(Fa(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return hM(Fa(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Fa(n,"beforeFooter",this,e),i=Fa(n,"footer",this,e),o=Fa(n,"afterFooter",this,e);let l=[];return l=Io(l,Nl(a)),l=Io(l,Nl(i)),l=Io(l,Nl(o)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(nje(this.chart,r[c]));return e.filter&&(l=l.filter((u,h,A)=>e.filter(u,h,A,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),Br(l,u=>{const h=AM(e.callbacks,u);a.push(Fa(h,"labelColor",this,u)),i.push(Fa(h,"labelPointStyle",this,u)),o.push(Fa(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=ig[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=cM(this,n),d=Object.assign({},l,c),u=dM(this.chart,n,d),h=uM(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const i=this.getCaretPosition(e,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Wu(l),{x:A,y:m}=e,{width:x,height:g}=r;let p,f,y,b,N,v;return i==="center"?(N=m+g/2,a==="left"?(p=A,f=p-o,b=N+o,v=N-o):(p=A+x,f=p+o,b=N-o,v=N+o),y=p):(a==="left"?f=A+Math.max(c,u)+o:a==="right"?f=A+x-Math.max(d,h)-o:f=this.caretX,i==="top"?(b=m,N=b-o,p=f-o,y=f+o):(b=m+g,N=b+o,p=f+o,y=f-o),v=b),{x1:p,x2:f,x3:y,y1:b,y2:N,y3:v}}drawTitle(e,r,n){const a=this.title,i=a.length;let o,l,c;if(i){const d=ym(n.rtl,this.x,this.width);for(e.x=Wb(this,n.titleAlign,n),r.textAlign=d.textAlign(n.titleAlign),r.textBaseline="middle",o=us(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,u=us(i.bodyFont),h=Wb(this,"left",i),A=a.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,x=r.y+m;if(i.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},p=a.leftForLtr(A,d)+d/2,f=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,LS(e,g,p,f),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,LS(e,g,p,f)}else{e.lineWidth=or(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=a.leftForLtr(A,d),p=a.leftForLtr(a.xPlus(A,1),d-2),f=Wu(o.borderRadius);Object.values(f).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,O0(e,{x:g,y:x,w:d,h:c,radius:f}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),O0(e,{x:p,y:x+1,w:d-2,h:c-2,radius:f}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(g,x,d,c),e.strokeRect(g,x,d,c),e.fillStyle=o.backgroundColor,e.fillRect(p,x+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=us(n.bodyFont);let A=h.lineHeight,m=0;const x=ym(n.rtl,this.x,this.width),g=function(_){r.fillText(_,x.x(e.x+m),e.y+A/2),e.y+=A+i},p=x.textAlign(o);let f,y,b,N,v,C,P;for(r.textAlign=o,r.textBaseline="middle",r.font=h.string,e.x=Wb(this,p,n),r.fillStyle=n.bodyColor,Br(this.beforeBody,g),m=l&&p!=="right"?o==="center"?d/2+u:d+2+u:0,N=0,C=a.length;N<C;++N){for(f=a[N],y=this.labelTextColors[N],r.fillStyle=y,Br(f.before,g),b=f.lines,l&&b.length&&(this._drawColorBox(r,e,N,x,n),A=Math.max(h.lineHeight,c)),v=0,P=b.length;v<P;++v)g(b[v]),A=h.lineHeight;Br(f.after,g)}m=0,A=h.lineHeight,Br(this.afterBody,g),e.y-=i}drawFooter(e,r,n){const a=this.footer,i=a.length;let o,l;if(i){const c=ym(n.rtl,this.x,this.width);for(e.x=Wb(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",o=us(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:h,topRight:A,bottomLeft:m,bottomRight:x}=Wu(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+h,c),o==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+d-A,c),r.quadraticCurveTo(l+d,c,l+d,c+A),o==="center"&&i==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+d,c+u-x),r.quadraticCurveTo(l+d,c+u,l+d-x,c+u),o==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+m,c+u),r.quadraticCurveTo(l,c+u,l,c+u-m),o==="center"&&i==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=ig[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=cM(this,e),c=Object.assign({},o,this._size),d=dM(r,e,c),u=uM(e,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=da(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,r),Uz(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),Rz(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!Ww(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),l=this._positionChanged(o,e),c=r||!Ww(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:a,options:i}=this,o=ig[i.position].call(this,e,r);return o!==!1&&(n!==o.x||a!==o.y)}},et(fC,"positioners",ig),fC);var sj={id:"tooltip",_element:mM,positioners:ig,afterInit(t,e,r){r&&(t.tooltip=new mM({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dV},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const dje=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function uje(t,e,r,n){const a=t.indexOf(e);if(a===-1)return dje(t,e,r,n);const i=t.lastIndexOf(e);return a!==i?r:a}const hje=(t,e)=>t===null?null:ia(Math.round(t),0,e);function fM(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Lm extends wf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(fr(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:uje(n,e,Jt(r,e),this._addedLabels),hje(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return fM.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}et(Lm,"id","category"),et(Lm,"defaults",{ticks:{callback:fM}});function Aje(t,e){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:A}=t,m=i||1,x=u-1,{min:g,max:p}=e,f=!fr(o),y=!fr(l),b=!fr(d),N=(p-g)/(h+1);let v=hD((p-g)/x/m)*m,C,P,_,k;if(v<1e-14&&!f&&!y)return[{value:g},{value:p}];k=Math.ceil(p/v)-Math.floor(g/v),k>x&&(v=hD(k*v/x/m)*m),fr(c)||(C=Math.pow(10,c),v=Math.ceil(v*C)/C),a==="ticks"?(P=Math.floor(g/v)*v,_=Math.ceil(p/v)*v):(P=g,_=p),f&&y&&i&&yve((l-o)/i,v/1e3)?(k=Math.round(Math.min((l-o)/v,u)),v=(l-o)/k,P=o,_=l):b?(P=f?o:P,_=y?l:_,k=d-1,v=(_-P)/k):(k=(_-P)/v,Dg(k,Math.round(k),v/1e3)?k=Math.round(k):k=Math.ceil(k));const M=Math.max(AD(v),AD(P));C=Math.pow(10,fr(c)?M:c),P=Math.round(P*C)/C,_=Math.round(_*C)/C;let j=0;for(f&&(A&&P!==o?(r.push({value:o}),P<o&&j++,Dg(Math.round((P+j*v)*C)/C,o,pM(o,N,t))&&j++):P<o&&j++);j<k;++j){const S=Math.round((P+j*v)*C)/C;if(y&&S>l)break;r.push({value:S})}return y&&A&&_!==l?r.length&&Dg(r[r.length-1].value,l,pM(l,N,t))?r[r.length-1].value=l:r.push({value:l}):(!y||_===l)&&r.push({value:_}),r}function pM(t,e,{horizontal:r,minRotation:n}){const a=qo(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class qS extends wf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return fr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=n?i:c;if(e){const c=Zo(a),d=Zo(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=Aje(a,i);return e.bounds==="ticks"&&bve(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Ck(e,this.chart.options.locale,this.options.ticks.format)}}class Um extends qS{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Es(e)?e:0,this.max=Es(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=qo(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}et(Um,"id","linear"),et(Um,"defaults",{ticks:{callback:Sk.formatters.numeric}});function zS(t){const e=t.ticks;if(e.display&&t.display){const r=da(e.backdropPadding);return Jt(e.font&&e.font.size,Bn.font.size)+r.height}return 0}function mje(t,e,r){return r=hn(r)?r:[r],{w:Rve(t,e.string,r),h:r.length*e.lineHeight}}function gM(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function fje(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],i=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?br/i:0;for(let c=0;c<i;c++){const d=o.setContext(t.getPointLabelContext(c));a[c]=d.padding;const u=t.getPointPosition(c,t.drawingArea+a[c],l),h=us(d.font),A=mje(t.ctx,h,t._pointLabels[c]);n[c]=A;const m=Zs(t.getIndexAngle(c)+l),x=Math.round(wk(m)),g=gM(x,u.x,A.w,0,180),p=gM(x,u.y,A.h,90,270);pje(r,e,m,g,p)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=yje(t,n,a)}function pje(t,e,r,n,a){const i=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/i,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/o,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function gje(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:i,padding:o,size:l}=r,c=t.getPointPosition(e,n+a+o,i),d=Math.round(wk(Zs(c.angle+Un))),u=wje(c.y,l.h,d),h=bje(d),A=vje(c.x,l.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:A,top:u,right:A+l.w,bottom:u+l.h}}function xje(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:i}=t;return!(Ol({x:r,y:n},e)||Ol({x:r,y:i},e)||Ol({x:a,y:n},e)||Ol({x:a,y:i},e))}function yje(t,e,r){const n=[],a=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:l}=i.pointLabels,c={extra:zS(i)/2,additionalAngle:o?br/a:0};let d;for(let u=0;u<a;u++){c.padding=r[u],c.size=e[u];const h=gje(t,u,c);n.push(h),l==="auto"&&(h.visible=xje(h,d),h.visible&&(d=h))}return n}function bje(t){return t===0||t===180?"center":t<180?"left":"right"}function vje(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function wje(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function jje(t,e,r){const{left:n,top:a,right:i,bottom:o}=r,{backdropColor:l}=e;if(!fr(l)){const c=Wu(e.borderRadius),d=da(e.backdropPadding);t.fillStyle=l;const u=n-d.left,h=a-d.top,A=i-n+d.width,m=o-a+d.height;Object.values(c).some(x=>x!==0)?(t.beginPath(),O0(t,{x:u,y:h,w:A,h:m,radius:c}),t.fill()):t.fillRect(u,h,A,m)}}function Nje(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const i=t._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(t.getPointLabelContext(a));jje(r,o,i);const l=us(o.font),{x:c,y:d,textAlign:u}=i;oh(r,t._pointLabels[a],c,d+l.lineHeight/2,l,{color:o.color,textAlign:u,textBaseline:"middle"})}}function uV(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,ln);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),a.lineTo(i.x,i.y)}}function _je(t,e,r,n,a){const i=t.ctx,o=e.circular,{color:l,lineWidth:c}=e;!o&&!n||!l||!c||r<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),uV(t,r,o,n),i.closePath(),i.stroke(),i.restore())}function Cje(t,e,r){return Ld(t,{label:r,index:e,type:"pointLabel"})}class og extends qS{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=da(zS(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Es(e)&&!isNaN(e)?e:0,this.max=Es(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zS(this.options))}generateTickLabels(e){qS.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=Gr(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?fje(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=ln/(this._pointLabels.length||1),n=this.options.startAngle||0;return Zs(e*r+qo(n))}getDistanceFromCenterForValue(e){if(fr(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(fr(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return Cje(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Un+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:i}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),uV(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:i}=r,o=this._pointLabels.length;let l,c,d;if(r.pointLabels.display&&Nje(this,o),a.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const A=this.getContext(h),m=a.setContext(A),x=i.setContext(A);_je(this,m,c,o,x)}}),n.display){for(e.save(),l=o-1;l>=0;l--){const u=n.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:A}=u;!A||!h||(e.lineWidth=A,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const d=n.setContext(this.getContext(c)),u=us(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=u.string,o=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const h=da(d.backdropPadding);e.fillRect(-o/2-h.left,-i-u.size/2-h.top,o+h.width,u.size+h.height)}oh(e,l.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}et(og,"id","radialLinear"),et(og,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Sk.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),et(og,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),et(og,"descriptors",{angleLines:{_fallback:"grid"}});const aj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Da=Object.keys(aj);function xM(t,e){return t-e}function yM(t,e){if(fr(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Es(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(F0(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function bM(t,e,r,n){const a=Da.length;for(let i=Da.indexOf(t);i<a-1;++i){const o=aj[Da[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(l*o.size))<=n)return Da[i]}return Da[a-1]}function Sje(t,e,r,n,a){for(let i=Da.length-1;i>=Da.indexOf(r);i--){const o=Da[i];if(aj[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return Da[r?Da.indexOf(r):0]}function Bje(t){for(let e=Da.indexOf(t)+1,r=Da.length;e<r;++e)if(aj[Da[e]].common)return Da[e]}function vM(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=jk(r,e),i=r[n]>=e?r[n]:r[a];t[i]=!0}}function Eje(t,e,r,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function wM(t,e,r){const n=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,n.push({value:l,major:!1});return i===0||!r?n:Eje(t,n,a,r)}class t1 extends wf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new n1e._date(e.adapters.date);a.init(r),Ig(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:yM(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Es(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=Es(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=Nve(a,i,o);return this._unit=r.unit||(n.autoSkip?bM(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):Sje(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Bje(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),wM(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=ia(r,0,o),n=ia(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||bM(i.minUnit,r,n,this._getLabelCapacity(r)),l=Jt(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=F0(c)||c===!0,u={};let h=r,A,m;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(n,r,o)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+o);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(A=h,m=0;A<n;A=+e.add(A,l,o),m++)vM(u,A,x);return(A===n||a.bounds==="ticks"||m===1)&&vM(u,A,x),Object.keys(u).sort(xM).map(g=>+g)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return Gr(o,[e,r,n],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],A=n[r],m=d&&h&&A&&A.major;return this._adapter.format(e,a||(m?h:u))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=qo(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,wM(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(yM(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ez(e.sort(xM))}}et(t1,"id","time"),et(t1,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gb(t,e,r){let n=0,a=t.length-1,i,o,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=Ou(t,"pos",e)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=Ou(t,"time",e)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class jM extends t1{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Gb(r,this.min),this._tableRange=Gb(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=r&&d<=n&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Gb(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Gb(this._table,n*this._tableRange+this._minPos,!0)}}et(jM,"id","timeseries"),et(jM,"defaults",t1.defaults);const hV="label";function NM(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function kje(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function AV(t,e){t.labels=e}function mV(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hV;const n=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[r]===a[r]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function Pje(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hV;const r={labels:[],datasets:[]};return AV(r,t.labels),mV(r,t.datasets,e),r}function Fje(t,e){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...A}=t,m=B.useRef(null),x=B.useRef(null),g=()=>{m.current&&(x.current=new bh(m.current,{type:o,data:Pje(l,i),options:c&&{...c},plugins:d}),NM(e,x.current))},p=()=>{NM(e,null),x.current&&(x.current.destroy(),x.current=null)};return B.useEffect(()=>{!a&&x.current&&c&&kje(x.current,c)},[a,c]),B.useEffect(()=>{!a&&x.current&&AV(x.current.config.data,l.labels)},[a,l.labels]),B.useEffect(()=>{!a&&x.current&&l.datasets&&mV(x.current.config.data,l.datasets,i)},[a,l.datasets]),B.useEffect(()=>{x.current&&(a?(p(),setTimeout(g)):x.current.update(h))},[a,c,l.labels,l.datasets,h]),B.useEffect(()=>{x.current&&(p(),setTimeout(g))},[o]),B.useEffect(()=>(g(),()=>p()),[]),ge.createElement("canvas",{ref:m,role:"img",height:r,width:n,...A},u)}const Tje=B.forwardRef(Fje);function Ox(t,e){return bh.register(e),B.forwardRef((r,n)=>ge.createElement(Tje,{...r,ref:n,type:t}))}const r1=Ox("line",$v),Ug=Ox("bar",Qv),Oje=Ox("radar",Hv),Ije=Ox("doughnut",VA),Vv=Ox("pie",US);bh.register(Lm,Um,bm,nj,sj,rj,Iu,Xu,po,tj);const fV=()=>{const{isAdmin:t}=cn(),[e,r]=B.useState("service-orders"),[n,a]=B.useState("month"),[i,o]=B.useState(""),[l,c]=B.useState(""),[d,u]=B.useState(!1),[h,A]=B.useState(!1),[m,x]=B.useState(!1),[g,p]=B.useState(null),[f,y]=B.useState(0),N=[{id:"service-orders",name:"Ordens de Servio",icon:wa,adminOnly:!1},{id:"inventory",name:"Movimentao de Estoque",icon:Bt,adminOnly:!1},{id:"technicians",name:"Desempenho de Tcnicos",icon:Mt,adminOnly:!0},{id:"financial",name:"Relatrio Financeiro",icon:Yt,adminOnly:!0}].filter(D=>!D.adminOnly||D.adminOnly&&t),v=()=>{console.log("Generating report:",{type:e,dateRange:n,startDate:i,endDate:l}),u(!0)},C=D=>{console.log(`Exporting report as ${D}`),alert(`Relatrio exportado como ${D}`)},P=[{month:"Jan",income:12500,expense:8200},{month:"Fev",income:14800,expense:9100},{month:"Mar",income:13200,expense:8700},{month:"Abr",income:15850,expense:9320},{month:"Mai",income:16200,expense:9800},{month:"Jun",income:17500,expense:10200}],_=[{name:"Concludos",value:5},{name:"Em Progresso",value:6},{name:"Planejados",value:1}],k=[{name:"Servios",value:15850},{name:"Materiais",value:4200},{name:"Administrativo",value:3e3},{name:"Folha de Pagamento",value:8500}],M={labels:P.map(D=>D.month),datasets:[{label:"Receitas",data:P.map(D=>D.income),backgroundColor:"rgba(74, 222, 128, 0.6)",borderColor:"rgb(74, 222, 128)",borderWidth:1},{label:"Despesas",data:P.map(D=>D.expense),backgroundColor:"rgba(248, 113, 113, 0.6)",borderColor:"rgb(248, 113, 113)",borderWidth:1}]},j={labels:_.map(D=>D.name),datasets:[{data:_.map(D=>D.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)"],borderWidth:1}]},S={labels:P.map(D=>D.month),datasets:[{label:"Receitas",data:P.map(D=>D.income),borderColor:"rgb(74, 222, 128)",backgroundColor:"rgba(74, 222, 128, 0.1)",tension:.3,fill:!0},{label:"Despesas",data:P.map(D=>D.expense),borderColor:"rgb(248, 113, 113)",backgroundColor:"rgba(248, 113, 113, 0.1)",tension:.3,fill:!0}]},F=5,O=[{id:1,name:"Relatrio de OS - Dezembro 2023",type:"Ordens de Servio",date:"2023-12-15",user:"Admin Demo"},{id:2,name:"Movimentao de Estoque - Dezembro 2023",type:"Estoque",date:"2023-12-14",user:"Admin Demo"},{id:3,name:"Desempenho de Tcnicos - Novembro 2023",type:"Desempenho",date:"2023-12-01",user:"Admin Demo"},{id:4,name:"Relatrio Financeiro - Dezembro 2023",type:"Financeiro",date:"2023-12-31",user:"Admin Demo"},{id:5,name:"Anlise de Clientes - Dezembro 2023",type:"Clientes",date:"2023-12-20",user:"Admin Demo"},{id:6,name:"Relatrio de OS - Novembro 2023",type:"Ordens de Servio",date:"2023-11-30",user:"Admin Demo"},{id:7,name:"Movimentao de Estoque - Novembro 2023",type:"Estoque",date:"2023-11-29",user:"Admin Demo"},{id:8,name:"Desempenho de Tcnicos - Outubro 2023",type:"Desempenho",date:"2023-11-01",user:"Admin Demo"},{id:9,name:"Relatrio Financeiro - Novembro 2023",type:"Financeiro",date:"2023-11-30",user:"Admin Demo"},{id:10,name:"Anlise de Clientes - Novembro 2023",type:"Clientes",date:"2023-11-20",user:"Admin Demo"}],H=Math.ceil(O.length/F),U=O.slice(f*F,(f+1)*F),[z,R]=B.useState(null),[I,K]=B.useState("bar"),te=(D,X)=>{R(JSON.parse(JSON.stringify(X))),K(D),x(!0)},Q=(D,X,V)=>{if(!z)return;const de={...z};if(X==="label")de.labels[D]=V;else{const le=parseInt(X.split("-")[1]),ie=X.split("-")[2];ie==="label"?de.datasets[le].label=V:ie==="data"&&(de.datasets[le].data[D]=parseFloat(V)||0)}R(de)};return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatrios"}),s.jsxs("button",{onClick:()=>A(!h),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(S2,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtros"}),s.jsx(ai,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:s.jsx(wa,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"48"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ordens de Servio"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:s.jsx(Bt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"156"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Itens em Estoque"})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(Mt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"8"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tcnicos Ativos"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx(Yt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"R$ 15.850"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Faturamento Mensal"})]})]})]}),s.jsx(lt,{children:h&&s.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(at,{className:"h-5 w-5 mr-2 text-blue-500"}),"Gerador de Relatrios"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Relatrio"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(D=>s.jsxs("button",{type:"button",onClick:()=>r(D.id),className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-colors ${e===D.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[s.jsx(D.icon,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm",children:D.name})]},D.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perodo"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{type:"button",onClick:()=>a("week"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="week"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"ltima Semana"}),s.jsx("button",{type:"button",onClick:()=>a("month"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="month"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"ltimo Ms"}),s.jsx("button",{type:"button",onClick:()=>a("custom"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="custom"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Personalizado"})]})]}),n==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),s.jsxs("div",{className:"relative",children:[s.jsx(lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:i,onChange:D=>o(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:n==="custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),s.jsxs("div",{className:"relative",children:[s.jsx(lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:l,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:n==="custom"})]})]})]}),s.jsx("div",{className:"pt-4",children:s.jsxs("button",{type:"button",onClick:v,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[s.jsx(Cs,{className:"h-5 w-5 mr-2"}),"Gerar Relatrio"]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Pr-visualizao"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>C("pdf"),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Exportar como PDF",children:s.jsx(at,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",onClick:()=>C("excel"),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Exportar como Excel",children:s.jsx(Qn,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",onClick:()=>C("print"),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Imprimir",children:s.jsx(wd,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:d?s.jsx("div",{className:"w-full h-full",children:s.jsx("div",{className:"h-40 w-full bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:s.jsx(Ug,{data:M,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})}):s.jsxs("div",{className:"text-center",children:[s.jsx(Cs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione as opes e gere o relatrio"}),s.jsx("p",{className:"text-sm text-gray-400",children:"A pr-visualizao aparecer aqui"})]})})]})]})]})})}),d&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Receitas vs Despesas"}),s.jsxs("button",{onClick:()=>te("bar",M),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(Ug,{data:M,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendncia de Fluxo de Caixa"}),s.jsxs("button",{onClick:()=>te("line",S),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(r1,{data:S,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendncia de Fluxo de Caixa"}}}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status dos Projetos"}),s.jsxs("button",{onClick:()=>te("pie",j),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(Vv,{data:j,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Categorias de Transaes"}),s.jsxs("button",{onClick:()=>te("pie",j),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(Vv,{data:{labels:k.map(D=>D.name),datasets:[{data:k.map(D=>D.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)","rgba(248, 113, 113, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)","rgb(248, 113, 113)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Categorias de Transaes"}}}})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(at,{className:"h-5 w-5 mr-2 text-blue-500"}),"Relatrios Recentes"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gerado por"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:D.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:new Date(D.date).toLocaleDateString("pt-BR")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:D.user})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",children:s.jsx(Qn,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(wd,{className:"h-4 w-4"})})]})})]},D.id))})]})}),H>1&&s.jsxs("div",{className:"flex justify-between items-center mt-4",children:[s.jsxs("button",{onClick:()=>y(D=>Math.max(0,D-1)),disabled:f===0,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${f===0?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[s.jsx(ac,{className:"h-4 w-4"}),s.jsx("span",{children:"Anterior"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",f+1," de ",H]}),s.jsxs("button",{onClick:()=>y(D=>Math.min(H-1,D+1)),disabled:f===H-1,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${f===H-1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[s.jsx("span",{children:"Prximo"}),s.jsx(ci,{className:"h-4 w-4"})]})]})]}),s.jsx(lt,{children:m&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>x(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Grfico"}),s.jsx("button",{onClick:()=>x(!1),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Grfico"}),s.jsxs("select",{value:I,onChange:D=>K(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"bar",children:"Barras"}),s.jsx("option",{value:"line",children:"Linhas"}),s.jsx("option",{value:"pie",children:"Pizza"}),s.jsx("option",{value:"area",children:"rea"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estilo"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{children:"Padro"}),s.jsx("option",{children:"Gradiente"}),s.jsx("option",{children:"Monocromtico"}),s.jsx("option",{children:"Pastel"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dados do Grfico"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ms"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receitas"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Despesas"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((D,X)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"text",defaultValue:D.month,onChange:V=>Q(X,"label",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",defaultValue:D.income,onChange:V=>Q(X,"0-data",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",defaultValue:D.expense,onChange:V=>Q(X,"1-data",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})})]},X))})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visualizao"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg h-64",children:[I==="bar"&&s.jsx(Ug,{data:M,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}}),I==="line"&&s.jsx(r1,{data:S,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendncia de Fluxo de Caixa"}}}}),I==="pie"&&s.jsx(Vv,{data:j,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:()=>{x(!1),alert("Alteraes salvas com sucesso!")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]})},Dje=()=>{const{user:t,isAdmin:e}=cn(),[r,n]=B.useState("profile"),[a,i]=B.useState(!1),[o,l]=B.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:"(11) 99999-9999",company:"Minha Empresa"}),[c,d]=B.useState({email:!0,push:!0,sms:!1}),[u,h]=B.useState({autoBackup:!0,backupFrequency:"daily",backupTime:"00:00",keepBackups:"30"}),[A,m]=B.useState({realTimeSync:!0,offlineMode:!0,syncOnWifiOnly:!1}),x=C=>{const{name:P,value:_}=C.target;l(k=>({...k,[P]:_}))},g=C=>{d(P=>({...P,[C]:!P[C]}))},p=C=>{const{name:P,value:_}=C.target;h(k=>({...k,[P]:_}))},f=C=>{m(P=>({...P,[C]:!P[C]}))},y=()=>{console.log("Saving profile:",o),i(!0),setTimeout(()=>i(!1),2e3)},b=()=>{console.log("Saving notification settings:",c),i(!0),setTimeout(()=>i(!1),2e3)},N=()=>{console.log("Saving backup settings:",u),i(!0),setTimeout(()=>i(!1),2e3)},v=()=>{console.log("Saving sync settings:",A),i(!0),setTimeout(()=>i(!1),2e3)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraes"})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("profile"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="profile"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Nr,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Perfil"})]}),s.jsxs("button",{onClick:()=>n("notifications"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="notifications"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(om,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Notificaes"})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>n("backup"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="backup"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Tm,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Backup"})]}),s.jsxs("button",{onClick:()=>n("sync"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="sync"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Q9,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Sincronizao"})]})]})]}),s.jsxs("div",{className:"p-6",children:[r==="profile"&&s.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaes do Perfil"}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t!=null&&t.avatar?s.jsx("img",{src:t.avatar,alt:t.name,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):s.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-bold",children:t==null?void 0:t.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:(t==null?void 0:t.role)==="admin"?"Administrador":(t==null?void 0:t.role)==="technician"?"Tcnico":"Funcionrio Externo"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),s.jsx("input",{type:"text",name:"name",value:o.name,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:o.email,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),s.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),s.jsx("input",{type:"text",name:"company",value:o.company,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("button",{onClick:y,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-5 w-5 mr-2"}),"Salvar Alteraes"]})})]}),r==="notifications"&&s.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preferncias de Notificao"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notificaes por Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receber atualizaes importantes por email"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.email,onChange:()=>g("email"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notificaes Push"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notificaes em tempo real no navegador"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.push,onChange:()=>g("push"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"SMS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Alertas crticos por mensagem de texto"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.sms,onChange:()=>g("sms"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsx("button",{onClick:b,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-5 w-5 mr-2"}),"Salvar Alteraes"]})})]}),r==="backup"&&e&&s.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuraes de Backup"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Backup Automtico"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Realizar backup automtico dos dados"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.autoBackup,onChange:()=>h(C=>({...C,autoBackup:!C.autoBackup})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.autoBackup&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequncia"}),s.jsxs("select",{name:"backupFrequency",value:u.backupFrequency,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Dirio"}),s.jsx("option",{value:"weekly",children:"Semanal"}),s.jsx("option",{value:"monthly",children:"Mensal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horrio"}),s.jsx("input",{type:"time",name:"backupTime",value:u.backupTime,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manter Backups (dias)"}),s.jsx("input",{type:"number",name:"keepBackups",value:u.keepBackups,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:N,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-5 w-5 mr-2"}),"Salvar Configuraes"]})}),s.jsxs("button",{className:"px-6 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[s.jsx(Tm,{className:"h-5 w-5 mr-2 inline"}),"Backup Manual"]})]})]})]}),r==="sync"&&e&&s.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuraes de Sincronizao"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronizao em Tempo Real"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manter dados sincronizados em tempo real entre dispositivos"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:A.realTimeSync,onChange:()=>f("realTimeSync"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Modo Offline"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Permitir trabalhar offline e sincronizar depois"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:A.offlineMode,onChange:()=>f("offlineMode"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronizar Apenas no Wi-Fi"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Economizar dados mveis sincronizando apenas no Wi-Fi"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:A.syncOnWifiOnly,onChange:()=>f("syncOnWifiOnly"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsx("button",{onClick:v,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-5 w-5 mr-2"}),"Salvar Configuraes"]})})]})]})]})]})},Mje=()=>{const{isAdmin:t}=cn(),[e,r]=B.useState(""),[n,a]=B.useState("all"),[i,o]=B.useState(!1),[l,c]=B.useState(null),[d,u]=B.useState([{id:"1",name:"Admin Demo",email:"admin@example.com",role:"admin",status:"active",lastLogin:"2023-12-15T10:30:00",department:"Administrao",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Tcnico",email:"carlos@example.com",role:"technician",status:"active",lastLogin:"2023-12-15T09:15:00",department:"Manuteno"},{id:"3",name:"Ana Tcnica",email:"ana@example.com",role:"technician",status:"active",lastLogin:"2023-12-14T16:45:00",department:"Instalao"},{id:"4",name:"Joo Externo",email:"joao@terceirizada.com",role:"external",status:"inactive",lastLogin:"2023-12-10T08:30:00"}]),[h,A]=B.useState({name:"",email:"",role:"technician",department:"",status:"active"}),m=d.filter(v=>{const C=v.name.toLowerCase().includes(e.toLowerCase())||v.email.toLowerCase().includes(e.toLowerCase()),P=n==="all"||v.role===n;return C&&P}),x=()=>{if(h.name&&h.email){const v={id:Date.now().toString(),name:h.name,email:h.email,role:h.role,status:"active",lastLogin:"",department:h.department||void 0};u([...d,v]),A({name:"",email:"",role:"technician",department:"",status:"active"}),o(!1)}},g=()=>{l&&(u(d.map(v=>v.id===l.id?l:v)),c(null))},p=v=>{u(d.map(C=>C.id===v?{...C,status:C.status==="active"?"inactive":"active"}:C))},f=v=>{window.confirm("Tem certeza que deseja excluir este usurio?")&&u(d.filter(C=>C.id!==v))},y=v=>{switch(v){case"admin":return"Administrador";case"technician":return"Tcnico";case"external":return"Externo";default:return v}},b=v=>{switch(v){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},N=v=>v==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Usurios"}),t&&s.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(W9,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Usurio"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:e,onChange:v=>r(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(S2,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:n,onChange:v=>a(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Perfis"}),s.jsx("option",{value:"admin",children:"Administradores"}),s.jsx("option",{value:"technician",children:"Tcnicos"}),s.jsx("option",{value:"external",children:"Externos"})]})]})]})}),s.jsx("div",{className:"space-y-4",children:m.length>0?m.map((v,C)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[v.avatar?s.jsx("img",{src:v.avatar,alt:v.name,className:"w-12 h-12 rounded-full object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold",children:v.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.name}),s.jsx("p",{className:"text-sm text-gray-600",children:v.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b(v.role)}`,children:y(v.role)}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N(v.status)}`,children:v.status==="active"?"Ativo":"Inativo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[v.department&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Departamento"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.department})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ltimo Acesso"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.lastLogin?new Date(v.lastLogin).toLocaleString("pt-BR"):"Nunca"})]})]}),t&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>c(v),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>p(v.id),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${v.status==="active"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[v.status==="active"?s.jsx(Pi,{className:"h-4 w-4"}):s.jsx(q9,{className:"h-4 w-4"}),s.jsx("span",{children:v.status==="active"?"Desativar":"Ativar"})]}),s.jsxs("button",{onClick:()=>f(v.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Ut,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]})]},v.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(Mt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum usurio encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos usurios com os filtros selecionados."}),s.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(lt,{children:i&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Usurio"}),s.jsx("button",{onClick:()=>o(!1),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:h.name,onChange:v=>A({...h,name:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usurio",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:h.email,onChange:v=>A({...h,email:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),s.jsxs("select",{value:h.role,onChange:v=>A({...h,role:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Tcnico"}),s.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:h.department,onChange:v=>A({...h,department:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Adicionar"]})]})]})]})}),s.jsx(lt,{children:l&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Usurio"}),s.jsx("button",{onClick:()=>c(null),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:l.name,onChange:v=>c({...l,name:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usurio",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),s.jsxs("select",{value:l.role,onChange:v=>c({...l,role:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Tcnico"}),s.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:l.department||"",onChange:v=>c({...l,department:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:l.status==="active",onChange:()=>c({...l,status:"active"}),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Ativo"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:l.status==="inactive",onChange:()=>c({...l,status:"inactive"}),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Inativo"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:g,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar"]})]})]})]})})]})},Lje=({isOpen:t,onClose:e,onSave:r,serviceId:n,duplicateFromId:a})=>{const[i,o]=B.useState("dados"),[l,c]=B.useState(!1),[d,u]=B.useState(!1),[h,A]=B.useState({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),[m,x]=B.useState({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),[g,p]=B.useState([]),[f,y]=B.useState([]),[b,N]=B.useState(""),[v,C]=B.useState(null);B.useEffect(()=>{t?(P(),n?_(n,!1):a?_(a,!0):(A({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),y([]))):(C(null),N(""))},[t,n,a]);const P=async()=>{try{const{data:R}=await ae.from("materials").select("id, name, unit, quantity, unit_cost, sale_price, sku").eq("active",!0).order("name");p(R||[])}catch(R){console.error("Error loading materials:",R)}},_=async(R,I)=>{if(R)try{const{data:K}=await ae.from("service_catalog").select("*").eq("id",R).single();K&&A({nome:I?`${K.name} (Cpia)`:K.name||"",descricao:K.description||"",categoria:K.category||"",preco_base:K.base_price||0,tempo_estimado_minutos:K.estimated_duration||0,observacoes:""});const{data:te}=await ae.from("service_catalog_materials").select("*").eq("service_catalog_id",R);te&&y(te.map(Q=>({id:I?`new-${Date.now()}-${Math.random()}`:Q.id,material_id:Q.material_id||"",nome_material:Q.material_name||"",quantidade_padrao:Q.quantity||0,unidade_medida:Q.material_unit||"un",preco_compra_unitario:Q.unit_cost_at_time||0,preco_venda_unitario:Q.unit_sale_price||0,custo_total:Q.total_cost||0,valor_total:Q.total_sale_price||0,lucro:(Q.total_sale_price||0)-(Q.total_cost||0),obrigatorio:!Q.is_optional})))}catch(K){console.error("Error loading service data:",K)}},k=()=>{y([{id:`new-${Date.now()}`,material_id:"",nome_material:"",quantidade_padrao:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0,obrigatorio:!0},...f])},M=(R,I)=>{y(f.map(K=>{if(K.id===R){const te={...K,...I},Q=te.preco_compra_unitario||0,D=te.preco_venda_unitario||0;return te.custo_total=te.quantidade_padrao*Q,te.valor_total=te.quantidade_padrao*D,te.lucro=te.valor_total-te.custo_total,te}return K}))},j=(R,I)=>{const K=g.find(te=>te.id===I);K&&(M(R,{material_id:I,nome_material:K.name,unidade_medida:K.unit||"un",preco_compra_unitario:Number(K.unit_cost)||0,preco_venda_unitario:Number(K.sale_price)||0}),N(""),C(null))},S=R=>{y(f.filter(I=>I.id!==R))},F=async()=>{try{if(!m.name){alert("Nome do material  obrigatrio!");return}c(!0);const{data:R,error:I}=await ae.from("materials").insert([{name:m.name,sku:m.sku||null,unit:m.unit,quantity:Number(m.quantity),unit_cost:Number(m.unit_cost),sale_price:Number(m.sale_price),min_quantity:Number(m.min_quantity),active:!0}]).select().single();if(I)throw I;await P(),x({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),u(!1),alert("Material criado com sucesso!")}catch(R){console.error("Error creating material:",R),alert("Erro ao criar material!")}finally{c(!1)}},O=()=>{const R=f.reduce((X,V)=>X+V.custo_total,0),I=f.reduce((X,V)=>X+V.valor_total,0),K=R,te=I+h.preco_base,Q=te-K,D=K>0?Q/K*100:0;return{custoMateriais:R,valorMateriais:I,custoTotal:K,valorTotal:te,lucroTotal:Q,margemLucro:D}},H=async()=>{try{if(!h.nome){alert("Nome do servio  obrigatrio!");return}c(!0);const R=O();let I=n;const K={name:h.nome,description:h.descricao,category:h.categoria,base_price:h.preco_base,estimated_duration:h.tempo_estimado_minutos,active:!0};if(n)await ae.from("service_catalog").update(K).eq("id",n);else{const{data:Q,error:D}=await ae.from("service_catalog").insert([K]).select().single();if(D)throw D;I=Q.id}const{error:te}=await ae.from("service_catalog_materials").delete().eq("service_catalog_id",I);te&&console.error("Error deleting materials:",te);for(const Q of f){const{error:D}=await ae.from("service_catalog_materials").insert([{service_catalog_id:I,material_id:Q.material_id,material_name:Q.nome_material,quantity:Q.quantidade_padrao,material_unit:Q.unidade_medida,is_optional:!Q.obrigatorio,unit_cost_at_time:Q.preco_compra_unitario,unit_sale_price:Q.preco_venda_unitario}]);if(D)throw console.error("Error inserting material:",D),D}r(),e()}catch(R){console.error("Error saving:",R),alert("Erro ao salvar servio!")}finally{c(!1)}},U=R=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R),z=O();return t?s.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-green-600 to-emerald-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Servio":"Novo Servio no Catlogo"}),s.jsx("p",{className:"text-green-100 text-sm",children:"Configure materiais, mo de obra e custos completos"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:Qi},{id:"materiais",label:"Materiais",icon:Bt},{id:"resumo",label:"Resumo Financeiro",icon:I4}].map(R=>{const I=R.icon;return s.jsxs("button",{onClick:()=>o(R.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${i===R.id?"border-green-600 text-green-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(I,{className:"h-4 w-4"}),R.label]},R.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(lt,{mode:"wait",children:[i==="dados"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Servio *"}),s.jsx("input",{type:"text",value:h.nome,onChange:R=>A({...h,nome:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: Instalao de Ar Condicionado Split 12k BTU"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio"}),s.jsx("textarea",{value:h.descricao,onChange:R=>A({...h,descricao:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Descreva o servio em detalhes..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),s.jsxs("select",{value:h.categoria,onChange:R=>A({...h,categoria:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),s.jsx("option",{value:"instalacao",children:"Instalao"}),s.jsx("option",{value:"manutencao",children:"Manuteno"}),s.jsx("option",{value:"reparo",children:"Reparo"}),s.jsx("option",{value:"limpeza",children:"Limpeza"}),s.jsx("option",{value:"vistoria",children:"Vistoria"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),s.jsx("input",{type:"number",value:h.tempo_estimado_minutos,onChange:R=>A({...h,tempo_estimado_minutos:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Base do Servio (R$)"}),s.jsx("input",{type:"number",value:h.preco_base,step:"0.01",onChange:R=>A({...h,preco_base:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Valor da mo de obra"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),s.jsx("textarea",{value:h.observacoes,onChange:R=>A({...h,observacoes:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:2,placeholder:"Observaes internas sobre o servio..."})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Qi,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Configure o servio completo"}),s.jsxs("p",{children:["Nas prximas abas, voc pode adicionar materiais e mo de obra. ",s.jsx("span",{className:"font-medium",children:"Ambos so opcionais"})," - voc pode criar servios sem materiais ou sem mo de obra, dependendo do tipo de servio."]})]})]})]},"dados"),i==="materiais"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Materiais Necessrios ",s.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Opcional)"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Liste todos os materiais usados neste servio. Ex: Consultoria, Vistoria, Laudo no precisam de materiais."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Criar Novo Material"]}),s.jsxs("button",{onClick:k,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Adicionar do Estoque"]})]})]}),f.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(Bt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),s.jsx("p",{className:"text-sm",children:"Materiais so opcionais para este servio"}),s.jsx("p",{className:"text-xs mt-1 text-gray-400",children:'Clique em "Adicionar Material" se o servio precisar de materiais'})]}),f.map((R,I)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",I+1,R.nome_material&&s.jsxs("span",{className:"ml-2 text-green-600",children:["- ",R.nome_material]})]}),R.material_id&&!R.nome_material&&s.jsx("span",{className:"text-xs text-gray-500",children:"Material selecionado"})]}),s.jsx("button",{onClick:()=>S(R.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-3",children:[s.jsxs("div",{className:"md:col-span-3 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Material do Estoque"}),s.jsx("input",{type:"text",value:b,onChange:K=>N(K.target.value),onFocus:()=>C(R.id),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Digite para buscar no estoque..."}),b&&v===R.id&&g.filter(K=>K.name.toLowerCase().includes(b.toLowerCase())||K.sku&&K.sku.toLowerCase().includes(b.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:g.filter(K=>K.name.toLowerCase().includes(b.toLowerCase())||K.sku&&K.sku.toLowerCase().includes(b.toLowerCase())).map(K=>s.jsxs("button",{type:"button",onClick:()=>j(R.id,K.id),className:"w-full px-4 py-3 text-left hover:bg-green-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:K.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("span",{children:[K.sku&&s.jsxs("span",{className:"mr-2",children:["Cd: ",K.sku]}),s.jsxs("span",{children:["Estoque: ",K.quantity," ",K.unit]})]}),s.jsxs("span",{className:"font-semibold text-green-600",children:["R$ ",Number(K.sale_price).toFixed(2),"/",K.unit]})]})]},K.id))})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:R.quantidade_padrao,min:"0.01",step:"0.01",onChange:K=>M(R.id,{quantidade_padrao:Number(K.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),R.unidade_medida&&s.jsx("span",{className:"absolute right-3 top-9 text-xs text-gray-500 font-semibold",children:R.unidade_medida})]}),s.jsx("div",{className:"md:col-span-2 flex items-end",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:R.obrigatorio,onChange:K=>M(R.id,{obrigatorio:K.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Obrigatrio"})]})})]}),R.material_id&&s.jsxs("div",{className:"grid grid-cols-5 gap-3 text-xs bg-white rounded p-3 border",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Custo Unit:"}),s.jsx("p",{className:"font-bold text-orange-600",children:U(R.preco_compra_unitario)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Venda Unit:"}),s.jsx("p",{className:"font-bold text-green-600",children:U(R.preco_venda_unitario)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Custo Total:"}),s.jsx("p",{className:"font-bold text-orange-700",children:U(R.custo_total)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Valor Total:"}),s.jsx("p",{className:"font-bold text-green-700",children:U(R.valor_total)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Lucro:"}),s.jsx("p",{className:"font-bold text-blue-700",children:U(R.lucro)})]})]})]},R.id)),s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-green-900",children:"Total Materiais:"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-green-700",children:["Custo: ",U(z.custoMateriais)]}),s.jsxs("p",{className:"text-lg font-bold text-green-900",children:["Venda: ",U(z.valorMateriais)]})]})]})})]},"materiais"),i==="resumo"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo Financeiro Completo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[s.jsxs("h4",{className:"font-semibold text-orange-900 mb-3 flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5"}),"Custos de Materiais"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Quantidade de Itens:"}),s.jsx("span",{className:"font-semibold",children:f.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),s.jsx("span",{className:"font-bold text-orange-700",children:U(z.custoMateriais)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Valor de Venda:"}),s.jsx("span",{className:"font-bold text-green-700",children:U(z.valorMateriais)})]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-300",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(I4,{className:"h-5 w-5"}),"Totais do Servio"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Custo Total (Materiais):"}),s.jsx("span",{className:"font-bold text-gray-900",children:U(z.custoTotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Preo Base do Servio:"}),s.jsx("span",{className:"font-bold text-gray-900",children:U(h.preco_base)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Valor dos Materiais:"}),s.jsx("span",{className:"font-bold text-gray-900",children:U(z.valorMateriais)})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between",children:[s.jsx("span",{className:"font-semibold",children:"Preo Total Sugerido:"}),s.jsx("span",{className:"font-bold text-xl text-green-600",children:U(z.valorTotal)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-300",children:[s.jsxs("h4",{className:"font-semibold text-green-900 mb-3 flex items-center gap-2",children:[s.jsx(pr,{className:"h-5 w-5"}),"Anlise de Lucro"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-800",children:"Lucro Bruto:"}),s.jsx("span",{className:"font-bold text-xl text-green-700",children:U(z.lucroTotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-800",children:"Margem de Lucro:"}),s.jsxs("span",{className:"font-bold text-2xl text-green-600",children:[z.margemLucro.toFixed(1),"%"]})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Rn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Ateno"}),s.jsx("p",{children:"Estes valores so calculados automaticamente e serviro como base para os oramentos. Voc poder ajustar as quantidades em cada Ordem de Servio."})]})]})]},"resumo")]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:H,disabled:l,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-5 w-5"}),"Salvar Servio no Catlogo"]})})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:s.jsxs(se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-blue-600 text-white p-6 flex items-center justify-between z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Criar Novo Material"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Adicione ao estoque e use neste servio"})]}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),s.jsx("input",{type:"text",value:m.name,onChange:R=>x({...m,name:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Cabo de Rede Cat6"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU / Cdigo"}),s.jsx("input",{type:"text",value:m.sku,onChange:R=>x({...m,sku:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: MAT-001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade de Medida"}),s.jsxs("select",{value:m.unit,onChange:R=>x({...m,unit:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"UN",children:"Unidade (UN)"}),s.jsx("option",{value:"MT",children:"Metro (MT)"}),s.jsx("option",{value:"M2",children:"Metro Quadrado (M)"}),s.jsx("option",{value:"KG",children:"Quilograma (KG)"}),s.jsx("option",{value:"LT",children:"Litro (LT)"}),s.jsx("option",{value:"CX",children:"Caixa (CX)"}),s.jsx("option",{value:"PC",children:"Pea (PC)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),s.jsx("input",{type:"number",value:m.quantity,onChange:R=>x({...m,quantity:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unitrio (R$)"}),s.jsx("input",{type:"number",value:m.unit_cost,onChange:R=>x({...m,unit_cost:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo de Venda (R$)"}),s.jsx("input",{type:"number",value:m.sale_price,onChange:R=>x({...m,sale_price:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estoque Mnimo"}),s.jsx("input",{type:"number",value:m.min_quantity,onChange:R=>x({...m,min_quantity:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Qi,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Material no Estoque"}),s.jsx("p",{children:"Este material ser adicionado ao seu estoque e ficar disponvel para uso em servios e ordens de servio."})]})]})})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:F,disabled:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?s.jsx(s.Fragment,{children:"Criando..."}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-5 w-5"}),"Criar e Salvar no Estoque"]})})]})]})})]}):null},Uje=()=>{const{isAdmin:t}=cn();ms();const[e,r]=B.useState(""),[n,a]=B.useState("all"),[i,o]=B.useState([]),[l,c]=B.useState(!0),[d,u]=B.useState(null),[h,A]=B.useState(!1),[m,x]=B.useState(null),[g,p]=B.useState(void 0),[f,y]=B.useState(void 0),[b,N]=B.useState(null),[v,C]=B.useState({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]});B.useEffect(()=>{P()},[]);const P=async()=>{try{c(!0);const F=await Yue();o(F||[]),u(null)}catch(F){console.error("Error loading services:",F),u("Erro ao carregar catlogo de servios")}finally{c(!1)}},_=["all",...Array.from(new Set(i.map(F=>F.category)))],k=i.filter(F=>{const O=F.name.toLowerCase().includes(e.toLowerCase())||F.description.toLowerCase().includes(e.toLowerCase()),H=n==="all"||F.category===n;return O&&H}),M=async()=>{if(!v.name||!v.category){alert("Por favor, preencha todos os campos obrigatrios");return}try{const F={name:v.name,category:v.category,description:v.description,estimated_time:v.estimated_time,base_price:v.base_price,materials:v.materials,instructions:v.instructions,is_active:!0},O=await Xue(F);o([...i,O]),C({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]}),A(!1),alert("Servio adicionado com sucesso!")}catch(F){console.error("Error creating service:",F),alert("Erro ao adicionar servio")}},j=async()=>{if(m)try{const F={name:m.name,category:m.category,description:m.description,estimated_time:m.estimated_time,base_price:m.base_price,materials:m.materials,instructions:m.instructions,is_active:m.is_active},O=await Jue(m.id,F);o(i.map(H=>H.id===O.id?O:H)),x(null),alert("Servio atualizado com sucesso!")}catch(F){console.error("Error updating service:",F),alert("Erro ao atualizar servio")}},S=async F=>{try{await Zue(F),o(i.filter(O=>O.id!==F)),N(null),alert("Servio excludo com sucesso!")}catch(O){console.error("Error deleting service:",O),alert("Erro ao excluir servio")}};return s.jsxs("div",{className:"space-y-6",children:[d&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(kr,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:d})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Catlogo de Servios"}),s.jsxs("button",{onClick:()=>A(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Servio"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:e,onChange:F=>r(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gh,{className:"h-5 w-5 text-gray-400"}),s.jsx("select",{value:n,onChange:F=>a(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:_.map(F=>s.jsx("option",{value:F,children:F==="all"?"Todas as Categorias":F},F))})]})]})}),l?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando servios..."})]}):s.jsx("div",{className:"space-y-4",children:k.length>0?k.map((F,O)=>{var H;return s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 cursor-pointer",onClick:()=>x(F),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:s.jsx(at,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F.name}),s.jsx("p",{className:"text-sm text-gray-600",children:F.category})]})]}),t&&s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["R$ ",F.base_price.toFixed(2)]})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:F.description||"Sem descrio"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(Bt,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[((H=F.materials)==null?void 0:H.length)||0," materiais"]})]}),s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(Dt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:F.estimated_time||"No definido"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:U=>{U.stopPropagation(),x(F),p(F.id)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar servio",children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:U=>{U.stopPropagation(),y(F.id)},className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar servio",children:s.jsx(Wl,{className:"h-4 w-4"})}),s.jsx("button",{onClick:U=>{U.stopPropagation(),N(F.id)},className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir servio",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]})]},F.id)}):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(at,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum servio encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos servios com os filtros selecionados."}),s.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(lt,{children:h&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>A(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Servio"}),s.jsx("button",{onClick:()=>A(!1),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Servio"}),s.jsx("input",{type:"text",value:v.name,onChange:F=>C({...v,name:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do servio",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:v.category,onChange:F=>C({...v,category:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalao, Manuteno",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),s.jsx("input",{type:"text",value:v.estimated_time,onChange:F=>C({...v,estimated_time:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 2 horas"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Base (R$)"}),s.jsx("input",{type:"number",value:v.base_price,onChange:F=>C({...v,base_price:parseFloat(F.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:v.description,onChange:F=>C({...v,description:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do servio"})]})]})}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:M,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Servio"]})]})]})]})}),s.jsx(lt,{children:m&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>x(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Servio"}),s.jsx("button",{onClick:()=>x(null),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Servio"}),s.jsx("input",{type:"text",value:m.name,onChange:F=>x({...m,name:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:m.category,onChange:F=>x({...m,category:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),s.jsx("input",{type:"text",value:m.estimated_time||"",onChange:F=>x({...m,estimated_time:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Base (R$)"}),s.jsx("input",{type:"number",value:m.base_price,onChange:F=>x({...m,base_price:parseFloat(F.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:m.description||"",onChange:F=>x({...m,description:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Materiais Necessrios"}),m.materials&&m.materials.length>0?s.jsx("div",{className:"space-y-2",children:m.materials.map((F,O)=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[s.jsx(Bt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"flex-1 text-sm",children:F.name}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Qtd: ",F.quantity]})]},O))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum material definido"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Instrues"}),m.instructions&&m.instructions.length>0?s.jsx("ol",{className:"list-decimal list-inside space-y-1",children:m.instructions.map((F,O)=>s.jsx("li",{className:"text-sm text-gray-700",children:F},O))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma instruo definida"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>x(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:j,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})}),s.jsx(lt,{children:b&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>N(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(kr,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este servio? Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>N(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>S(b),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(Lje,{isOpen:h||m!==null||f!==void 0,onClose:()=>{A(!1),x(null),p(void 0),y(void 0)},onSave:()=>{P(),A(!1),x(null),p(void 0),y(void 0)},serviceId:g,duplicateFromId:f})]})},Rje=({isOpen:t,onComplete:e})=>{const[r,n]=B.useState(0),a=[{title:"Bem-vindo ao Sistema OS!",description:"Vamos fazer um tour rpido pelas principais funcionalidades do sistema.",image:s.jsx(wa,{className:"h-12 w-12 text-blue-500"}),highlight:null},{title:"Ordens de Servio",description:"Crie, gerencie e acompanhe todas as suas ordens de servio em um s lugar. Adicione fotos, materiais e acompanhe o status em tempo real.",image:s.jsx(wa,{className:"h-12 w-12 text-blue-500"}),highlight:"service-orders"},{title:"Estoque Integrado",description:"Controle seu estoque de materiais com baixa automtica quando uma OS  finalizada. Receba alertas de estoque mnimo.",image:s.jsx(Bt,{className:"h-12 w-12 text-green-500"}),highlight:"inventory"},{title:"Catlogo de Servios",description:"Crie servios pr-definidos com descries, materiais necessrios e valores para agilizar a criao de novas ordens.",image:s.jsx(at,{className:"h-12 w-12 text-purple-500"}),highlight:"service-catalog"},{title:"Relatrios Detalhados",description:"Acompanhe o desempenho do seu negcio com relatrios detalhados e grficos interativos.",image:s.jsx(Cs,{className:"h-12 w-12 text-orange-500"}),highlight:"reports"},{title:"Controle de Acesso",description:"Diferentes nveis de acesso para administradores, tcnicos e funcionrios externos, garantindo a segurana das informaes.",image:s.jsx(jd,{className:"h-12 w-12 text-gray-500"}),highlight:"settings"}],i=()=>{r<a.length-1?n(r+1):e()},o=()=>{r>0&&n(r-1)},l=()=>{e()};return s.jsx(lt,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white rounded-t-3xl",children:[s.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(At,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-3",children:a[r].image}),s.jsx("h2",{className:"text-xl font-bold",children:a[r].title})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:a[r].description}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[r+1," de ",a.length]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(se.div,{initial:{width:0},animate:{width:`${(r+1)/a.length*100}%`},className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:o,disabled:r===0,className:`flex items-center px-4 py-2 rounded-xl transition-all duration-200 ${r===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Anterior"]}),s.jsx("div",{className:"flex space-x-2",children:a.map((c,d)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${d===r?"bg-blue-500 w-6":d<r?"bg-green-500":"bg-gray-300"}`},d))}),s.jsx("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl hover:shadow-lg transition-all duration-200",children:r===a.length-1?s.jsxs(s.Fragment,{children:["Concluir",s.jsx(Mr,{className:"h-4 w-4 ml-2"})]}):s.jsxs(s.Fragment,{children:["Prximo",s.jsx(ci,{className:"h-4 w-4 ml-2"})]})})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("button",{onClick:l,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Pular tutorial"})})]})]})]})})},Qje=()=>{const[t,e]=B.useState(null),[r,n]=B.useState([]),[a,i]=B.useState([]),[o,l]=B.useState([]),[c,d]=B.useState(!0),[u,h]=B.useState("overview");B.useEffect(()=>{A()},[]);const A=async()=>{try{d(!0);const[f,y,b,N]=await Promise.all([ae.from("v_business_kpis").select("*").maybeSingle(),ae.from("v_service_performance").select("*").order("total_revenue",{ascending:!1}),ae.from("v_customer_profitability").select("*").order("total_revenue",{ascending:!1}).limit(20),ae.from("v_team_productivity").select("*").order("total_revenue_generated",{ascending:!1})]);f.data&&e(f.data),y.data&&n(y.data),b.data&&i(b.data),N.data&&l(N.data)}catch(f){console.error("Erro ao carregar KPIs:",f)}finally{d(!1)}},m=f=>f==null||isNaN(f)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),x=f=>f==null||isNaN(f)?"0.0%":`${f.toFixed(1)}%`;if(c)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const g=[{title:"Taxa de Converso",value:x((t==null?void 0:t.conversion_rate)||0),target:"80%",progress:(t==null?void 0:t.conversion_rate)||0,icon:Nd,color:"blue",trend:((t==null?void 0:t.conversion_rate)||0)>=80?"up":"down"},{title:"Ticket Mdio",value:m((t==null?void 0:t.avg_order_value)||0),target:"R$ 5.000",progress:((t==null?void 0:t.avg_order_value)||0)/5e3*100,icon:Yt,color:"green",trend:"up"},{title:"Margem de Lucro",value:x((t==null?void 0:t.profit_margin)||0),target:"30%",progress:(t==null?void 0:t.profit_margin)||0,icon:pr,color:"purple",trend:((t==null?void 0:t.profit_margin)||0)>=30?"up":"down"},{title:"Tempo Mdio Atendimento",value:`${(((t==null?void 0:t.avg_service_time_hours)??0)||0).toFixed(1)}h`,target:"24h",progress:Math.min(100,(24-(((t==null?void 0:t.avg_service_time_hours)??0)||0))/24*100),icon:Dt,color:"orange",trend:((t==null?void 0:t.avg_service_time_hours)||0)<=24?"up":"down"}],p=[{label:"OSs Concludas",value:(t==null?void 0:t.total_completed_orders)||0,icon:ca,color:"text-green-600 bg-green-50"},{label:"OSs em Andamento",value:(t==null?void 0:t.orders_in_progress)||0,icon:dd,color:"text-blue-600 bg-blue-50"},{label:"Clientes Ativos",value:(t==null?void 0:t.active_customers)||0,icon:Mt,color:"text-purple-600 bg-purple-50"},{label:"Itens em Estoque",value:(t==null?void 0:t.materials_in_stock)||0,icon:Bt,color:"text-orange-600 bg-orange-50"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"KPIs e OKRs"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Indicadores-chave de performance e objetivos"})]}),s.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Atualizar"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((f,y)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-12 h-12 bg-${f.color}-50 rounded-lg flex items-center justify-center`,children:s.jsx(f.icon,{className:`h-6 w-6 text-${f.color}-600`})}),f.trend==="up"?s.jsx(j2,{className:"h-5 w-5 text-green-500"}):s.jsx(XE,{className:"h-5 w-5 text-red-500"})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:f.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:f.value}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-500",children:["Meta: ",f.target]}),s.jsxs("span",{className:`font-medium ${f.progress>=100?"text-green-600":"text-orange-600"}`,children:[Math.min(100,f.progress||0).toFixed(0),"%"]})]}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`bg-${f.color}-600 h-2 rounded-full transition-all duration-500`,style:{width:`${Math.min(100,f.progress)}%`}})})]},f.title))}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:p.map((f,y)=>s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+y*.05},className:`${f.color} rounded-xl p-4`,children:[s.jsx(f.icon,{className:"h-8 w-8 mb-2"}),s.jsx("p",{className:"text-2xl font-bold mb-1",children:f.value}),s.jsx("p",{className:"text-sm opacity-80",children:f.label})]},f.label))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"overview",label:"Viso Geral"},{id:"services",label:"Servios"},{id:"customers",label:"Clientes"},{id:"team",label:"Equipe"}].map(f=>s.jsx("button",{onClick:()=>h(f.id),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${u===f.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:f.label},f.id))}),s.jsxs("div",{className:"p-6",children:[u==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Desempenho Financeiro"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Receita Total"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:m((t==null?void 0:t.total_income)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Despesas Totais"}),s.jsx("span",{className:"text-lg font-bold text-red-600",children:m((t==null?void 0:t.total_expenses)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-green-300",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Lucro Lquido"}),s.jsx("span",{className:"text-xl font-bold text-green-700",children:m((t==null?void 0:t.net_profit)||0)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Potencial de Estoque"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Valor em Estoque"}),s.jsx("span",{className:"text-lg font-bold text-purple-600",children:m((t==null?void 0:t.total_inventory_value)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Lucro Potencial"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:m((t==null?void 0:t.potential_profit)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-purple-300",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Margem Potencial"}),s.jsx("span",{className:"text-xl font-bold text-purple-700",children:x(((t==null?void 0:t.potential_profit)||0)/((t==null?void 0:t.total_inventory_value)||1)*100)})]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contas a Receber e Pagar"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Receber"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m((t==null?void 0:t.accounts_receivable)||0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Pagar"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:m((t==null?void 0:t.accounts_payable)||0)})]})]})]})]}),u==="services"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Servio"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Concluso"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Total"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ticket Mdio"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Tempo Mdio"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(f=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.service_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:f.total_orders}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x(f.completion_rate)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:m(f.total_revenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:m(f.avg_revenue_per_service)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[(f.avg_completion_time_hours||0).toFixed(1),"h"]})]},f.service_name))})]})}),u==="customers"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Lucro Bruto"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Margem"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"ltimo Pedido"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(f=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.customer_name}),f.company_name&&s.jsx("div",{className:"text-sm text-gray-500",children:f.company_name})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:f.total_orders}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:m(f.total_revenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-green-600",children:m(f.gross_profit)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.profit_margin>=30?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x(f.profit_margin)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[f.days_since_last_order," dias"]})]},f.customer_name))})]})}),u==="team"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Colaborador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cargo"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Concluso"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Gerada"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"ROI Salarial"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(f=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.employee_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:f.role}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[f.completed_orders,"/",f.total_orders_assigned]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x(f.completion_rate)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:m(f.total_revenue_generated)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.revenue_to_salary_ratio>=5?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:[(f.revenue_to_salary_ratio||0).toFixed(1),"x"]})})]},f.employee_name))})]})})]})]})]})};bh.register(Lm,Um,Xu,po,nj,sj,rj,tj);const pV=()=>{const{hasPermission:t}=cn(),e=t("view_bank_balances"),[r,n]=B.useState("overview"),[a,i]=B.useState([]),[o,l]=B.useState([]),[c,d]=B.useState([]),[u,h]=B.useState([]),[A,m]=B.useState([]),[x,g]=B.useState(!0),[p,f]=B.useState("month"),[y,b]=B.useState(""),[N,v]=B.useState(""),[C,P]=B.useState({totalReceitas:0,totalDespesas:0,lucro:0,custoFolha:0,receitasMes:0,despesasMes:0,lucroMes:0,contasReceber:0,contasPagar:0,margemLucro:0,ticketMedio:0,valorEstoque:0,valorVendaEstoque:0,lucroEstoque:0}),[_,k]=B.useState({receitas:[],despesas:[],totalReceitas:0,totalDespesas:0,lucroOperacional:0,margemOperacional:0}),[M,j]=B.useState({labels:[],receitas:[],despesas:[],saldo:[]});B.useEffect(()=>{S()},[p]);const S=async()=>{try{g(!0);const[I,K,te,Q,D]=await Promise.all([ae.from("finance_entries").select("*").order("data",{ascending:!1}),ae.from("financial_categories").select("*"),ae.from("employees").select("id, name, salary"),ae.from("inventory_items").select("unit_cost, unit_price, quantity").eq("active",!0),ae.rpc("get_bank_accounts_with_transactions")]);if(I.error)throw I.error;if(K.error)throw K.error;if(te.error)throw te.error;if(Q.error)throw Q.error;D.error&&console.error("Erro ao carregar contas bancrias:",D.error);const X=I.data||[],V=K.data||[],de=te.data||[],le=Q.data||[],ie=D.data||[];console.log(" Contas bancrias carregadas:",ie),i(X),l(V),d(de),h(le),m(ie),F(X,de,le),O(X,V,de),H(X)}catch(I){console.error("Error loading data:",I)}finally{g(!1)}},F=(I,K,te)=>{const Q=new Date,D=Q.getMonth(),X=Q.getFullYear(),V=I.filter(Z=>Z.tipo==="receita"&&Z.status==="recebido").reduce((Z,pe)=>Z+Number(pe.valor),0),de=I.filter(Z=>Z.tipo==="despesa"&&Z.status==="pago").reduce((Z,pe)=>Z+Number(pe.valor),0),le=K.reduce((Z,pe)=>Z+Number(pe.salary||0),0),ie=I.filter(Z=>Z.tipo==="receita"&&Z.status==="a_receber").reduce((Z,pe)=>Z+Number(pe.valor),0),ce=I.filter(Z=>Z.tipo==="despesa"&&Z.status==="a_pagar").reduce((Z,pe)=>Z+Number(pe.valor),0),be=I.filter(Z=>{const pe=new Date(Z.data);return Z.tipo==="receita"&&Z.status==="recebido"&&pe.getMonth()===D&&pe.getFullYear()===X}).reduce((Z,pe)=>Z+Number(pe.valor),0),J=I.filter(Z=>{const pe=new Date(Z.data);return Z.tipo==="despesa"&&Z.status==="pago"&&pe.getMonth()===D&&pe.getFullYear()===X}).reduce((Z,pe)=>Z+Number(pe.valor),0),ue=I.filter(Z=>Z.tipo==="receita"&&Z.status==="recebido").length,ke=ue>0?V/ue:0,Qe=te.reduce((Z,pe)=>Z+Number(pe.unit_cost||0)*Number(pe.quantity||0),0),we=te.reduce((Z,pe)=>Z+Number(pe.unit_price||0)*Number(pe.quantity||0),0),q=we-Qe,Ne=V-de,Be=V>0?Ne/V*100:0;P({totalReceitas:V,totalDespesas:de,lucro:Ne,custoFolha:le,receitasMes:be,despesasMes:J,lucroMes:be-J,contasReceber:ie,contasPagar:ce,margemLucro:Be,ticketMedio:ke,valorEstoque:Qe,valorVendaEstoque:we,lucroEstoque:q})},O=(I,K,te)=>{const Q={},D={};I.forEach(J=>{if(J.categoria_id){const ue=K.find(ke=>ke.id===J.categoria_id);if(ue){if(J.tipo==="receita"&&J.status==="recebido"){const ke=ue.dre_grupo||ue.nome;Q[ke]||(Q[ke]={valor:0,grupo:ue.dre_grupo}),Q[ke].valor+=Number(J.valor)}else if(J.tipo==="despesa"&&J.status==="pago"){const ke=ue.dre_grupo||ue.nome;D[ke]||(D[ke]={valor:0,grupo:ue.dre_grupo}),D[ke].valor+=Number(J.valor)}}}});const X=te.reduce((J,ue)=>J+Number(ue.salary||0),0);X>0&&(D["Folha de Pagamento"]={valor:X,grupo:"Despesas Operacionais"});const V=Object.values(Q).reduce((J,ue)=>J+ue.valor,0),de=Object.values(D).reduce((J,ue)=>J+ue.valor,0),le=Object.entries(Q).map(([J,ue])=>({categoria:J,valor:ue.valor,percentual:V>0?ue.valor/V*100:0})).sort((J,ue)=>ue.valor-J.valor),ie=Object.entries(D).map(([J,ue])=>({categoria:J,valor:ue.valor,percentual:de>0?ue.valor/de*100:0})).sort((J,ue)=>ue.valor-J.valor),ce=V-de,be=V>0?ce/V*100:0;k({receitas:le,despesas:ie,totalReceitas:V,totalDespesas:de,lucroOperacional:ce,margemOperacional:be})},H=I=>{const K=new Date,te=[],Q=[],D=[],X=[];for(let V=5;V>=0;V--){const de=new Date(K.getFullYear(),K.getMonth()-V,1),le=de.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"});te.push(le);const ie=I.filter(be=>{const J=new Date(be.data);return be.tipo==="receita"&&be.status==="recebido"&&J.getMonth()===de.getMonth()&&J.getFullYear()===de.getFullYear()}).reduce((be,J)=>be+Number(J.valor),0),ce=I.filter(be=>{const J=new Date(be.data);return be.tipo==="despesa"&&be.status==="pago"&&J.getMonth()===de.getMonth()&&J.getFullYear()===de.getFullYear()}).reduce((be,J)=>be+Number(J.valor),0);Q.push(ie),D.push(ce),X.push(ie-ce)}j({labels:te,receitas:Q,despesas:D,saldo:X})},U=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),z=I=>I.toFixed(1)+"%",R=()=>{let I="";r==="dre"&&(I=`DRE - Demonstrativo de Resultados

`,I+=`RECEITAS
`,I+=`Categoria,Valor,Percentual
`,_.receitas.forEach(D=>{I+=`${D.categoria},${D.valor},${D.percentual.toFixed(2)}%
`}),I+=`
TOTAL RECEITAS,${_.totalReceitas}

`,I+=`DESPESAS
`,I+=`Categoria,Valor,Percentual
`,_.despesas.forEach(D=>{I+=`${D.categoria},${D.valor},${D.percentual.toFixed(2)}%
`}),I+=`
TOTAL DESPESAS,${_.totalDespesas}

`,I+=`LUCRO OPERACIONAL,${_.lucroOperacional}
`,I+=`MARGEM OPERACIONAL,${_.margemOperacional.toFixed(2)}%
`);const K=new Blob([I],{type:"text/csv"}),te=window.URL.createObjectURL(K),Q=document.createElement("a");Q.href=te,Q.download=`relatorio-financeiro-${new Date().toISOString().split("T")[0]}.csv`,Q.click()};return x?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-8 w-8 text-green-600"}),"Dashboard Financeiro Completo"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Relatrios financeiros e anlises em tempo real"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Exportar"]})})]}),s.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[{id:"overview",label:"Viso Geral",icon:Pu},{id:"kpis",label:"KPIs e OKRs",icon:pr},{id:"dre",label:"DRE",icon:at},{id:"cashflow",label:"Fluxo de Caixa",icon:R9},{id:"reports",label:"Relatrios",icon:xle}].map(I=>{const K=I.icon;return s.jsxs("button",{onClick:()=>n(I.id),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${r===I.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[s.jsx(K,{className:"h-4 w-4"}),I.label]},I.id)})}),r==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-4 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(j2,{className:"h-5 w-5"})}),s.jsx(pr,{className:"h-4 w-4 opacity-80"})]}),s.jsx("p",{className:"text-green-100 text-xs font-medium mb-1",children:"Total Receitas"}),s.jsx("h2",{className:"text-2xl font-bold",children:U(C.totalReceitas)}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:s.jsxs("p",{className:"text-xs text-green-100",children:["Ms: ",U(C.receitasMes)]})})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-lg p-4 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(XE,{className:"h-5 w-5"})}),s.jsx(fo,{className:"h-4 w-4 opacity-80"})]}),s.jsx("p",{className:"text-red-100 text-xs font-medium mb-1",children:"Total Despesas"}),s.jsx("h2",{className:"text-2xl font-bold",children:U(C.totalDespesas)}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:s.jsxs("p",{className:"text-xs text-red-100",children:["Ms: ",U(C.despesasMes)]})})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`bg-gradient-to-br ${C.lucro>=0?"from-blue-500 to-blue-600":"from-orange-500 to-orange-600"} rounded-lg p-4 text-white shadow-lg`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(ab,{className:"h-5 w-5"})}),s.jsx(Yt,{className:"h-4 w-4 opacity-80"})]}),s.jsx("p",{className:"text-blue-100 text-xs font-medium mb-1",children:"Lucro Lquido"}),s.jsx("h2",{className:"text-2xl font-bold",children:U(C.lucro)}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:s.jsxs("p",{className:"text-xs text-blue-100",children:["Margem: ",z(C.margemLucro)]})})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-4 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-1",children:s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(Mt,{className:"h-5 w-5"})})}),s.jsx("p",{className:"text-purple-100 text-xs font-medium mb-1",children:"Custo Folha"}),s.jsx("h2",{className:"text-2xl font-bold",children:U(C.custoFolha)}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:s.jsxs("p",{className:"text-xs text-purple-100",children:[c.length," funcionrios"]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(ab,{className:"h-5 w-5 text-blue-600"}),"Contas Bancrias"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[A.length," conta(s)"]})]}),e?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[A.map((I,K)=>s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:K*.05},className:`relative rounded-lg p-3 border-2 transition-all hover:shadow-md ${I.saldo_calculado>=0?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-br from-red-50 to-orange-50 border-red-200"}`,children:[I.is_default&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:"Principal"})}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ab,{className:`h-4 w-4 ${I.saldo_calculado>=0?"text-green-600":"text-red-600"}`}),s.jsx("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:I.bank_name})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-2 truncate",children:I.account_name}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Saldo:"}),s.jsx("span",{className:`text-sm font-bold ${I.saldo_calculado>=0?"text-green-700":"text-red-700"}`,children:U(Number(I.saldo_calculado))})]}),s.jsxs("div",{className:"pt-1.5 border-t border-gray-200",children:[s.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[s.jsx("span",{className:"text-green-600",children:"Receitas:"}),s.jsx("span",{className:"font-medium text-green-700",children:U(Number(I.total_receitas))})]}),s.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[s.jsx("span",{className:"text-red-600",children:"Despesas:"}),s.jsx("span",{className:"font-medium text-red-700",children:U(Number(I.total_despesas))})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Transaes:"}),s.jsx("span",{className:"font-medium text-gray-700",children:I.total_transactions})]})]})]})]},I.id)),A.length===0&&s.jsxs("div",{className:"col-span-full text-center py-8 text-gray-400",children:[s.jsx(ab,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Nenhuma conta bancria cadastrada"})]})]}):s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(Pi,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Acesso Restrito"}),s.jsxs("p",{className:"text-sm text-gray-500 max-w-md mx-auto",children:["Voc no tem permisso para visualizar os saldos das contas bancrias.",s.jsx("br",{}),"Entre em contato com o administrador para solicitar acesso."]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg p-4 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-1",children:s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(Bt,{className:"h-5 w-5"})})}),s.jsx("p",{className:"text-amber-100 text-xs font-medium mb-1",children:"Investido em Estoque"}),s.jsx("h2",{className:"text-2xl font-bold",children:U(C.valorEstoque)}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:s.jsxs("p",{className:"text-xs text-amber-100",children:["Venda: ",U(C.valorVendaEstoque)]})})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg p-4 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-1",children:s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(pr,{className:"h-5 w-5"})})}),s.jsx("p",{className:"text-emerald-100 text-xs font-medium mb-1",children:"Lucro Potencial Estoque"}),s.jsx("h2",{className:"text-2xl font-bold",children:U(C.lucroEstoque)}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:s.jsxs("p",{className:"text-xs text-emerald-100",children:["Margem: ",z(C.valorEstoque>0?C.lucroEstoque/C.valorEstoque*100:0)]})})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg p-4 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-1",children:s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(Bt,{className:"h-5 w-5"})})}),s.jsx("p",{className:"text-cyan-100 text-xs font-medium mb-1",children:"Itens em Estoque"}),s.jsx("h2",{className:"text-2xl font-bold",children:u.length}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:s.jsx("p",{className:"text-xs text-cyan-100",children:"Produtos disponveis"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Receber"}),s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-4",children:U(C.contasReceber)}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.filter(I=>I.tipo==="receita"&&I.status==="a_receber").slice(0,5).map(I=>s.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:I.descricao}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(I.data).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"font-bold text-green-600",children:U(Number(I.valor))})]})},I.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Pagar"}),s.jsx("div",{className:"text-3xl font-bold text-red-600 mb-4",children:U(C.contasPagar)}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.filter(I=>I.tipo==="despesa"&&I.status==="a_pagar").slice(0,5).map(I=>s.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:I.descricao}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(I.data).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"font-bold text-red-600",children:U(Number(I.valor))})]})},I.id))})]})]})]}),r==="dre"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"DRE - Demonstrativo de Resultados"}),s.jsx(lr,{className:"h-6 w-6 text-gray-400"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"RECEITAS"}),s.jsx("span",{className:"text-2xl font-bold text-green-700",children:U(_.totalReceitas)})]}),s.jsx("div",{className:"space-y-2",children:_.receitas.map((I,K)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:I.categoria}),s.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${I.percentual}%`}})})]}),s.jsxs("div",{className:"ml-4 text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:U(I.valor)}),s.jsx("p",{className:"text-sm text-gray-500",children:z(I.percentual)})]})]},K))})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"DESPESAS"}),s.jsx("span",{className:"text-2xl font-bold text-red-700",children:U(_.totalDespesas)})]}),s.jsx("div",{className:"space-y-2",children:_.despesas.map((I,K)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:I.categoria}),s.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${I.percentual}%`}})})]}),s.jsxs("div",{className:"ml-4 text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:U(I.valor)}),s.jsx("p",{className:"text-sm text-gray-500",children:z(I.percentual)})]})]},K))})]}),s.jsx("div",{className:"border-t pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-6 rounded-xl ${_.lucroOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Lucro Operacional"}),s.jsx("p",{className:`text-4xl font-bold ${_.lucroOperacional>=0?"text-blue-700":"text-orange-700"}`,children:U(_.lucroOperacional)})]}),s.jsxs("div",{className:`p-6 rounded-xl ${_.margemOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Margem Operacional"}),s.jsx("p",{className:`text-4xl font-bold ${_.margemOperacional>=0?"text-blue-700":"text-orange-700"}`,children:z(_.margemOperacional)})]})]})})]})]})}),r==="cashflow"&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Fluxo de Caixa - ltimos 6 Meses"}),s.jsx("div",{className:"h-96",children:s.jsx(r1,{data:{labels:M.labels,datasets:[{label:"Receitas",data:M.receitas,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:M.despesas,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4},{label:"Saldo",data:M.saldo,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:I=>`${I.dataset.label}: ${U(I.parsed.y)}`}}},scales:{y:{ticks:{callback:I=>U(Number(I))}}}}})})]}),r==="kpis"&&s.jsx(Qje,{}),r==="reports"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Ticket Mdio"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:U(C.ticketMedio)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Margem de Lucro"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:z(C.margemLucro)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Lucro do Ms"}),s.jsx("p",{className:`text-3xl font-bold ${C.lucroMes>=0?"text-blue-600":"text-red-600"}`,children:U(C.lucroMes)})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ltimos Lanamentos"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Data"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Cdigo"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Descrio"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Tipo"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Valor"})]})}),s.jsx("tbody",{className:"divide-y",children:a.slice(0,10).map(I=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(I.data).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:I.codigo}),s.jsx("td",{className:"px-4 py-3 text-sm",children:I.descricao}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${I.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:I.tipo})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${I.status==="recebido"||I.status==="pago"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:I.status})}),s.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:U(Number(I.valor))})]},I.id))})]})})]})]})]})},gV=async t=>{try{const e=t.replace(/\D/g,"");if(e.length!==14)throw new Error("CNPJ deve conter 14 dgitos");const r="https://hevvpugkhcmujiyncysq.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",a=`${r}/functions/v1/buscar-cnpj?cnpj=${e}`,i=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${n}`,apikey:n}});if(!i.ok){const l=await i.json().catch(()=>({}));throw i.status===429?new Error("Limite de consultas atingido. Tente novamente em alguns segundos."):i.status===404?new Error(l.error||"CNPJ no encontrado na base de dados."):new Error(l.error||"Erro ao buscar CNPJ. Verifique sua conexo.")}const o=await i.json();if(o.status==="ERROR")throw new Error(o.message||"CNPJ no encontrado");return o}catch(e){throw console.error("Erro ao buscar CNPJ:",e),e instanceof TypeError?new Error("Erro de conexo. Verifique sua internet."):e}},xV=t=>{const e=t.replace(/\D/g,"");return e.length<=2?e:e.length<=5?`${e.slice(0,2)}.${e.slice(2)}`:e.length<=8?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5)}`:e.length<=12?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8)}`:`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8,12)}-${e.slice(12,14)}`},$je=({cnpj:t,onCnpjChange:e,onDataFilled:r})=>{const[n,a]=B.useState(!1),[i,o]=B.useState(""),[l,c]=B.useState(!1),d=async()=>{if(!t||t.replace(/\D/g,"").length!==14){o("CNPJ deve conter 14 dgitos");return}a(!0),o(""),c(!1);try{const m=await gV(t);m&&(r({razao_social:m.razao_social,nome_fantasia:m.nome_fantasia,email:m.email,telefone:m.telefone,logradouro:m.logradouro,numero:m.numero,complemento:m.complemento,bairro:m.bairro,cidade:m.municipio,estado:m.uf,cep:m.cep}),c(!0),setTimeout(()=>c(!1),3e3))}catch(m){o(m instanceof Error?m.message:"Erro ao buscar CNPJ")}finally{a(!1)}},u=m=>{const x=xV(m);e(x),o(""),c(!1)},h=()=>{t&&t.replace(/\D/g,"").length===14&&d()},A=m=>{m.key==="Enter"&&(m.preventDefault(),d())};return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNPJ ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s.jsx($o,{className:"w-5 h-5"})}),s.jsx("input",{type:"text",value:t,onChange:m=>u(m.target.value),onBlur:h,onKeyPress:A,placeholder:"00.000.000/0000-00",maxLength:18,className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${i?"border-red-500":l?"border-green-500":"border-gray-300"}`}),s.jsx("button",{type:"button",onClick:d,disabled:n||!t,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar dados da empresa",children:n?s.jsx(xf,{className:"w-5 h-5 animate-spin"}):s.jsx(ur,{className:"w-5 h-5"})})]}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),l&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx($o,{className:"w-4 h-4"}),"Dados da empresa preenchidos automaticamente"]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Digite o CNPJ e pressione Enter ou clique na lupa para buscar os dados automaticamente"})]})},Hje=({isOpen:t,onClose:e,onSave:r,customerId:n})=>{const[a,i]=B.useState("dados"),[o,l]=B.useState(!1),[c,d]=B.useState({tipo_pessoa:"fisica",nome_razao:"",nome_fantasia:"",cpf:"",rg:"",cnpj:"",inscricao_estadual:"",inscricao_municipal:"",data_nascimento:"",data_fundacao:"",email:"",telefone:"",celular:"",observacoes:""}),[u,h]=B.useState([]),[A,m]=B.useState([]),[x,g]=B.useState([]);B.useEffect(()=>{n&&p()},[n]);const p=async()=>{if(n)try{const{data:_}=await ae.from("customers").select("*").eq("id",n).single();_&&d({tipo_pessoa:_.tipo_pessoa||"fisica",nome_razao:_.nome_razao||"",nome_fantasia:_.nome_fantasia||"",cpf:_.cpf||"",rg:_.rg||"",cnpj:_.cnpj||"",inscricao_estadual:_.inscricao_estadual||"",inscricao_municipal:_.inscricao_municipal||"",data_nascimento:_.data_nascimento||"",data_fundacao:_.data_fundacao||"",email:_.email||"",telefone:_.telefone||"",celular:_.celular||"",observacoes:_.observacoes||""});const{data:k}=await ae.from("customer_addresses").select("*").eq("customer_id",n),{data:M}=await ae.from("customer_contacts").select("*").eq("customer_id",n),{data:j}=await ae.from("customer_equipment").select("*").eq("customer_id",n);h(k||[]),m(M||[]),g(j||[])}catch(_){console.error("Error loading customer:",_)}},f=async()=>{try{if(!c.nome_razao){alert("Nome/Razo Social  obrigatrio!");return}l(!0);let _=n;const k={nome_razao:c.nome_razao,tipo_pessoa:c.tipo_pessoa||"fisica",cpf:c.cpf||null,cnpj:c.cnpj||null,rg:c.rg||null,email:c.email||null,telefone:c.telefone||null,celular:c.celular||null,inscricao_estadual:c.inscricao_estadual||null,inscricao_municipal:c.inscricao_municipal||null,nome_fantasia:c.nome_fantasia||null,data_nascimento:c.data_nascimento||null,data_fundacao:c.data_fundacao||null,observacoes:c.observacoes||null};if(n){const{error:j}=await ae.from("customers").update(k).eq("id",n);if(j)throw console.error("Error updating customer:",j),j}else{const{data:j,error:S}=await ae.from("customers").insert([k]).select().single();if(S)throw console.error("Error inserting customer:",S),alert(`Erro ao salvar cliente: ${S.message}`),S;_=j.id}const M={};for(const j of u)if(j.id.startsWith("new-")){console.log(" ENDEREO ORIGINAL:",JSON.stringify(j,null,2));const{data:S,error:F}=await ae.rpc("insert_customer_address",{p_customer_id:_,p_tipo:j.tipo||"comercial",p_nome_identificacao:j.nome_identificacao||"",p_cep:j.cep||"",p_logradouro:j.logradouro||"",p_numero:j.numero||"",p_complemento:j.complemento||"",p_bairro:j.bairro||"",p_cidade:j.cidade||"",p_estado:j.estado||"",p_principal:j.principal||!1});if(F)throw console.error(" ERRO ao inserir endereo:",F),alert(`Erro ao salvar endereo: ${F.message}`),F;S&&(M[j.id]=S,console.log(` Endereo criado: ${j.id}  ${S}`))}else{const{error:S}=await ae.rpc("update_customer_address",{p_id:j.id,p_tipo:j.tipo||"comercial",p_nome_identificacao:j.nome_identificacao||"",p_cep:j.cep||"",p_logradouro:j.logradouro||"",p_numero:j.numero||"",p_complemento:j.complemento||"",p_bairro:j.bairro||"",p_cidade:j.cidade||"",p_estado:j.estado||"",p_principal:j.principal||!1});if(S)throw console.error(" ERRO ao atualizar endereo:",S),alert(`Erro ao atualizar endereo: ${S.message}`),S}for(const j of A)if(j.id.startsWith("new-")){const S={customer_id:_,nome:String(j.nome||""),cargo:String(j.cargo||""),email:String(j.email||""),telefone:String(j.telefone||""),celular:String(j.celular||""),departamento:String(j.departamento||""),principal:!!j.principal,recebe_notificacoes:j.recebe_notificacoes!==void 0?!!j.recebe_notificacoes:!0},{error:F}=await ae.from("customer_contacts").insert([S]);if(F)throw console.error(" ERRO ao inserir contato:",F),F}else{const S={nome:String(j.nome||""),cargo:String(j.cargo||""),email:String(j.email||""),telefone:String(j.telefone||""),celular:String(j.celular||""),departamento:String(j.departamento||""),principal:!!j.principal,recebe_notificacoes:j.recebe_notificacoes!==void 0?!!j.recebe_notificacoes:!0},{error:F}=await ae.from("customer_contacts").update(S).eq("id",j.id);if(F)throw console.error(" ERRO ao atualizar contato:",F),F}for(const j of x)if(j.id.startsWith("new-")){let S=j.customer_address_id;S&&S.startsWith("new-")&&(S=M[S]||null);const F={customer_id:_,customer_address_id:S||null,tipo_equipamento:String(j.tipo_equipamento||""),marca:String(j.marca||""),modelo:String(j.modelo||""),numero_serie:String(j.numero_serie||""),capacidade:String(j.capacidade||""),data_instalacao:j.data_instalacao||null};console.log(" Inserindo equipamento:",F);const{error:O}=await ae.from("customer_equipment").insert([F]);if(O)throw console.error(" ERRO ao inserir equipamento:",O),O}else{const S={customer_address_id:j.customer_address_id||null,tipo_equipamento:String(j.tipo_equipamento||""),marca:String(j.marca||""),modelo:String(j.modelo||""),numero_serie:String(j.numero_serie||""),capacidade:String(j.capacidade||""),data_instalacao:j.data_instalacao||null},{error:F}=await ae.from("customer_equipment").update(S).eq("id",j.id);if(F)throw console.error(" ERRO ao atualizar equipamento:",F),F}r(),e()}catch(_){console.error("Error saving:",_),alert("Erro ao salvar cliente!")}finally{l(!1)}},y=()=>{h([...u,{id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",principal:u.length===0}])},b=()=>{m([...A,{id:`new-${Date.now()}`,nome:"",cargo:"",email:"",telefone:"",celular:"",departamento:"",principal:A.length===0,recebe_notificacoes:!0}])},N=()=>{var _;g([...x,{id:`new-${Date.now()}`,customer_address_id:((_=u[0])==null?void 0:_.id)||"",tipo_equipamento:"",marca:"",modelo:"",numero_serie:"",capacidade:"",data_instalacao:""}])},v=_=>_.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),C=_=>_.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),P=_=>{if(d({...c,nome_razao:_.razao_social||c.nome_razao,nome_fantasia:_.nome_fantasia||c.nome_fantasia,email:_.email||c.email,telefone:_.telefone||c.telefone}),_.logradouro&&_.cidade&&_.estado){const k={id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"Sede",cep:_.cep||"",logradouro:_.logradouro||"",numero:_.numero||"",complemento:_.complemento||"",bairro:_.bairro||"",cidade:_.cidade||"",estado:_.estado||"",principal:u.length===0};h([...u,k])}};return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Cliente":"Novo Cliente"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Cadastro completo com endereos, contatos e equipamentos"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:Nr},{id:"enderecos",label:"Endereos",icon:ii},{id:"contatos",label:"Contatos",icon:Mt},{id:"equipamentos",label:"Equipamentos",icon:Bt}].map(_=>{const k=_.icon;return s.jsxs("button",{onClick:()=>i(_.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===_.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(k,{className:"h-4 w-4"}),_.label]},_.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(lt,{mode:"wait",children:[a==="dados"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:c.tipo_pessoa==="fisica",onChange:()=>d({...c,tipo_pessoa:"fisica"}),className:"w-4 h-4"}),s.jsx(Nr,{className:"h-4 w-4"}),s.jsx("span",{children:"Pessoa Fsica"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:c.tipo_pessoa==="juridica",onChange:()=>d({...c,tipo_pessoa:"juridica"}),className:"w-4 h-4"}),s.jsx(qu,{className:"h-4 w-4"}),s.jsx("span",{children:"Pessoa Jurdica"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:c.tipo_pessoa==="fisica"?"Nome Completo *":"Razo Social *"}),s.jsx("input",{type:"text",value:c.nome_razao,onChange:_=>d({...c,nome_razao:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="juridica"&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:c.nome_fantasia,onChange:_=>d({...c,nome_fantasia:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="fisica"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF *"}),s.jsx("input",{type:"text",value:c.cpf,maxLength:14,onChange:_=>d({...c,cpf:v(_.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"RG"}),s.jsx("input",{type:"text",value:c.rg,onChange:_=>d({...c,rg:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Nascimento"}),s.jsx("input",{type:"date",value:c.data_nascimento,onChange:_=>d({...c,data_nascimento:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx($je,{cnpj:c.cnpj,onCnpjChange:_=>d({...c,cnpj:_}),onDataFilled:P}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrio Estadual"}),s.jsx("input",{type:"text",value:c.inscricao_estadual,onChange:_=>d({...c,inscricao_estadual:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrio Municipal"}),s.jsx("input",{type:"text",value:c.inscricao_municipal,onChange:_=>d({...c,inscricao_municipal:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Fundao"}),s.jsx("input",{type:"date",value:c.data_fundacao,onChange:_=>d({...c,data_fundacao:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:c.email,onChange:_=>d({...c,email:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: contato@empresa.com.br"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:c.telefone,onChange:_=>d({...c,telefone:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular / WhatsApp"}),s.jsx("input",{type:"tel",value:c.celular,onChange:_=>d({...c,celular:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),s.jsx("textarea",{value:c.observacoes,onChange:_=>d({...c,observacoes:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Ex: Cliente preferencial, Pagamento  vista, Desconto corporativo..."})]})]})]},"dados"),a==="enderecos"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Endereos do Cliente"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:" Digite o CEP e os dados sero preenchidos automaticamente"})]}),s.jsxs("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Adicionar Endereo"]})]}),u.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(ii,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum endereo cadastrado"})]}),u.map((_,k)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Endereo #",k+1]}),s.jsx("button",{onClick:()=>h(u.filter(M=>M.id!==_.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),s.jsxs("select",{value:_.tipo,onChange:M=>h(u.map(j=>j.id===_.id?{...j,tipo:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"comercial",children:"Comercial"}),s.jsx("option",{value:"residencial",children:"Residencial"}),s.jsx("option",{value:"filial",children:"Filial"}),s.jsx("option",{value:"outro",children:"Outro"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Identificao (Ex: Matriz, Filial Centro)"}),s.jsx("input",{type:"text",value:_.nome_identificacao||"",onChange:M=>h(u.map(j=>j.id===_.id?{...j,nome_identificacao:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Matriz, Filial So Paulo, Depsito Centro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CEP"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",value:_.cep||"",maxLength:9,onChange:M=>h(u.map(j=>j.id===_.id?{...j,cep:C(M.target.value)}:j)),onBlur:async M=>{const j=M.target.value.replace(/\D/g,"");if(j.length===8)try{const F=await(await fetch(`https://viacep.com.br/ws/${j}/json/`)).json();F.erro||h(u.map(O=>O.id===_.id?{...O,logradouro:F.logradouro||O.logradouro,bairro:F.bairro||O.bairro,cidade:F.localidade||O.cidade,estado:F.uf||O.estado,complemento:F.complemento||O.complemento}:O))}catch{console.log("CEP no encontrado, preencha manualmente")}},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Logradouro (Rua/Avenida)"}),s.jsx("input",{type:"text",value:_.logradouro||"",onChange:M=>h(u.map(j=>j.id===_.id?{...j,logradouro:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rua das Flores, Avenida Paulista"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nmero"}),s.jsx("input",{type:"text",value:_.numero||"",onChange:M=>h(u.map(j=>j.id===_.id?{...j,numero:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 123, S/N"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Complemento"}),s.jsx("input",{type:"text",value:_.complemento||"",onChange:M=>h(u.map(j=>j.id===_.id?{...j,complemento:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Apto 101, Bloco A, Sala 205"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:_.bairro||"",onChange:M=>h(u.map(j=>j.id===_.id?{...j,bairro:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Centro, Vila Mariana"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:_.cidade||"",onChange:M=>h(u.map(j=>j.id===_.id?{...j,cidade:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: So Paulo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estado"}),s.jsx("input",{type:"text",value:_.estado||"",maxLength:2,onChange:M=>h(u.map(j=>j.id===_.id?{...j,estado:M.target.value.toUpperCase()}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"SP"})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_.principal,onChange:M=>h(u.map(j=>j.id===_.id?{...j,principal:M.target.checked}:{...j,principal:!1})),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Endereo Principal"})]})})]})]},_.id))]},"enderecos"),a==="contatos"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Contatos e Responsveis"}),s.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Adicionar Contato"]})]}),A.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Mt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum contato cadastrado"})]}),A.map((_,k)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Contato #",k+1]}),s.jsx("button",{onClick:()=>m(A.filter(M=>M.id!==_.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:_.nome,onChange:M=>m(A.map(j=>j.id===_.id?{...j,nome:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Joo da Silva"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cargo"}),s.jsx("input",{type:"text",value:_.cargo,onChange:M=>m(A.map(j=>j.id===_.id?{...j,cargo:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Gerente de Compras, Diretor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:_.email,onChange:M=>m(A.map(j=>j.id===_.id?{...j,email:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: joao@empresa.com.br"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:_.telefone,onChange:M=>m(A.map(j=>j.id===_.id?{...j,telefone:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular"}),s.jsx("input",{type:"tel",value:_.celular,onChange:M=>m(A.map(j=>j.id===_.id?{...j,celular:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:_.departamento,onChange:M=>m(A.map(j=>j.id===_.id?{...j,departamento:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Financeiro, Compras, T.I."})]}),s.jsxs("div",{className:"md:col-span-2 flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_.principal,onChange:M=>m(A.map(j=>j.id===_.id?{...j,principal:M.target.checked}:{...j,principal:!1})),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Contato Principal"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_.recebe_notificacoes,onChange:M=>m(A.map(j=>j.id===_.id?{...j,recebe_notificacoes:M.target.checked}:j)),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Recebe Notificaes"})]})]})]})]},_.id))]},"contatos"),a==="equipamentos"&&s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Inventrio de Equipamentos"}),s.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Adicionar Equipamento"]})]}),u.length===0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Rn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900",children:"Cadastre endereos primeiro"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Para registrar equipamentos,  necessrio ter pelo menos um endereo cadastrado."})]})]}),x.length===0&&u.length>0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Bt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum equipamento cadastrado"})]}),x.map((_,k)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Equipamento #",k+1]}),s.jsx("button",{onClick:()=>g(x.filter(M=>M.id!==_.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Localizao"}),s.jsxs("select",{value:_.customer_address_id,onChange:M=>g(x.map(j=>j.id===_.id?{...j,customer_address_id:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione o endereo..."}),u.map(M=>s.jsx("option",{value:M.id,children:M.nome_identificacao||`${M.logradouro}, ${M.numero}`},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Equipamento"}),s.jsx("input",{type:"text",value:_.tipo_equipamento,onChange:M=>g(x.map(j=>j.id===_.id?{...j,tipo_equipamento:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Ar Condicionado Split"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),s.jsx("input",{type:"text",value:_.marca,onChange:M=>g(x.map(j=>j.id===_.id?{...j,marca:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),s.jsx("input",{type:"text",value:_.modelo,onChange:M=>g(x.map(j=>j.id===_.id?{...j,modelo:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nmero de Srie"}),s.jsx("input",{type:"text",value:_.numero_serie,onChange:M=>g(x.map(j=>j.id===_.id?{...j,numero_serie:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacidade"}),s.jsx("input",{type:"text",value:_.capacidade,onChange:M=>g(x.map(j=>j.id===_.id?{...j,capacidade:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12000 BTU, 18000 BTU"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Instalao"}),s.jsx("input",{type:"date",value:_.data_instalacao,onChange:M=>g(x.map(j=>j.id===_.id?{...j,data_instalacao:M.target.value}:j)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]},_.id))]},"equipamentos")]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:f,disabled:o,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:o?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-5 w-5"}),"Salvar Cliente"]})})]})]})}):null},qje=()=>{const{isAdmin:t}=cn(),e=ms(),[r,n]=B.useState([]),[a,i]=B.useState([]),[o,l]=B.useState([]),[c,d]=B.useState([]),[u,h]=B.useState(!0),[A,m]=B.useState(null),[x,g]=B.useState(""),[p,f]=B.useState("all"),[y,b]=B.useState(!1),[N,v]=B.useState(null),[C,P]=B.useState(void 0),[_,k]=B.useState(null),[M,j]=B.useState(null),[S,F]=B.useState(!1),[O,H]=B.useState(null),[U,z]=B.useState([]),[R,I]=B.useState(1),K=10,[te,Q]=B.useState({name:"",email:"",phone:"",address:"",client_type:"PF",document:""}),[D,X]=B.useState({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""});B.useEffect(()=>{V()},[]);const V=async()=>{try{h(!0);const fe=await que();n(fe||[]),m(null)}catch(fe){console.error("Error loading clients:",fe),m("Erro ao carregar clientes"),n([{id:"1",name:"Joo Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - So Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - So Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"}])}finally{h(!1)}},de=async fe=>{try{return await Kue(fe)||[]}catch(Ve){return console.error("Error loading client contracts:",Ve),[]}},le=async fe=>{try{const{data:Ve,error:ze}=await ae.from("service_orders").select("*").eq("customer_id",fe).order("opened_at",{ascending:!1});if(ze)throw ze;return Ve||[]}catch(Ve){return console.error("Error loading service orders:",Ve),[]}},ie=async fe=>{try{const{data:Ve,error:ze}=await ae.from("customer_equipment").select("*").eq("customer_id",fe).order("created_at",{ascending:!1});if(ze)throw ze;return Ve||[]}catch(Ve){return console.error("Error loading equipments:",Ve),[]}},ce=r.filter(fe=>{var ct,Ct;const Ve=fe.name.toLowerCase().includes(x.toLowerCase())||((ct=fe.email)==null?void 0:ct.toLowerCase().includes(x.toLowerCase()))||((Ct=fe.phone)==null?void 0:Ct.toLowerCase().includes(x.toLowerCase())),ze=p==="all"||fe.client_type===p;return Ve&&ze}),be=Math.ceil(ce.length/K),J=(R-1)*K,ue=J+K,ke=ce.slice(J,ue),Qe=r.filter(fe=>a.some(Ve=>Ve.customer_id===fe.id&&Ve.status==="active")).length;B.useEffect(()=>{I(1)},[x,p]);const we=async fe=>{try{await zue(fe),n(r.filter(Ve=>Ve.id!==fe)),k(null),alert("Cliente excludo com sucesso!")}catch(Ve){console.error("Error deleting client:",Ve),alert("Erro ao excluir cliente")}},q=async()=>{if(!M){alert("Por favor, selecione um cliente");return}try{const fe={client_id:M.id,contract_number:`CONT-${new Date().getFullYear()}-${String(a.length+1).padStart(3,"0")}`,title:D.title,start_date:D.start_date,end_date:D.end_date,contract_type:D.contract_type,frequency:D.frequency,value:D.value,status:"active",sla_response_time:D.sla_response_time,sla_resolution_time:D.sla_resolution_time,sla_availability:D.sla_availability,next_service_date:D.next_service_date,terms_and_conditions:D.terms_and_conditions,notes:D.notes},Ve=await Vue(fe);i([...a,Ve]),X({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""}),F(!1),j(null),alert("Contrato criado com sucesso!")}catch(fe){console.error("Error creating contract:",fe),alert("Erro ao criar contrato")}},Ne=async()=>{if(O)try{const fe={title:O.title,start_date:O.start_date,end_date:O.end_date,contract_type:O.contract_type,frequency:O.frequency,value:O.value,status:O.status,sla_response_time:O.sla_response_time,sla_resolution_time:O.sla_resolution_time,sla_availability:O.sla_availability,next_service_date:O.next_service_date,terms_and_conditions:O.terms_and_conditions,notes:O.notes},Ve=await Wue(O.id,fe);i(a.map(ze=>ze.id===Ve.id?Ve:ze)),H(null),alert("Contrato atualizado com sucesso!")}catch(fe){console.error("Error updating contract:",fe),alert("Erro ao atualizar contrato")}},Be=async fe=>{try{await Gue(fe),i(a.filter(Ve=>Ve.id!==fe)),alert("Contrato excludo com sucesso!")}catch(Ve){console.error("Error deleting contract:",Ve),alert("Erro ao excluir contrato")}},Z=async fe=>{if(U.includes(fe))z(U.filter(Ve=>Ve!==fe));else{z([...U,fe]);const[Ve,ze,ct]=await Promise.all([de(fe),le(fe),ie(fe)]);i(Ct=>[...Ct.filter(Ze=>Ze.client_id!==fe),...Ve]),l(Ct=>[...Ct.filter(Ze=>Ze.customer_id!==fe),...ze]),d(Ct=>[...Ct.filter(Ze=>Ze.customer_id!==fe),...ct])}},pe=fe=>{switch(fe){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},De=fe=>{switch(fe){case"pending":return"Pendente";case"in_progress":return"Em Andamento";case"completed":return"Concluda";case"cancelled":return"Cancelada";default:return fe}},je=fe=>{switch(fe){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Me=fe=>{switch(fe){case"active":return"Ativo";case"expired":return"Expirado";case"cancelled":return"Cancelado";case"suspended":return"Suspenso";default:return"Desconhecido"}},rt=fe=>{switch(fe){case"maintenance":return"Manuteno";case"support":return"Suporte";case"service":return"Servio";default:return fe}},Pe=fe=>{switch(fe){case"monthly":return"Mensal";case"quarterly":return"Trimestral";case"biannual":return"Semestral";case"annual":return"Anual";default:return"No definida"}};return s.jsxs("div",{className:"space-y-6",children:[A&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(kr,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:A})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Clientes"}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("button",{onClick:()=>b(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Cliente"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:s.jsx(Mt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Clientes"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:s.jsx(Nr,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(fe=>fe.client_type==="PF").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Fsica"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(qu,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(fe=>fe.client_type==="PJ").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Jurdica"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx(at,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Qe}),s.jsx("p",{className:"text-sm text-gray-600",children:"Clientes com Contrato"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:x,onChange:fe=>g(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gh,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:p,onChange:fe=>f(fe.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Tipos"}),s.jsx("option",{value:"PF",children:"Pessoa Fsica"}),s.jsx("option",{value:"PJ",children:"Pessoa Jurdica"})]})]})]})}),u?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando clientes..."})]}):s.jsxs("div",{className:"space-y-4",children:[ke.length>0?ke.map((fe,Ve)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ve*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${fe.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:fe.client_type==="PF"?s.jsx(Nr,{className:"h-6 w-6"}):s.jsx(qu,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:fe.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fe.client_type==="PF"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:fe.client_type}),fe.document&&s.jsx("span",{className:"text-xs text-gray-500",children:fe.document})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>Z(fe.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:U.includes(fe.id)?s.jsx(Xo,{className:"h-4 w-4"}):s.jsx(ai,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oa,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:fe.phone})]}),fe.email&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ts,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:fe.email})]}),s.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[s.jsx(ii,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:fe.address})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{v(fe),P(fe.id)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(Hr,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>k(fe.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Ut,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]}),s.jsx(lt,{children:U.includes(fe.id)&&s.jsxs(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(at,{className:"h-5 w-5 mr-2 text-blue-500"}),"Contratos"]}),s.jsxs("button",{onClick:()=>{j(fe),F(!0)},className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(yt,{className:"h-3 w-3"}),s.jsx("span",{children:"Novo Contrato"})]})]}),a.filter(ze=>ze.customer_id===fe.id).length>0?s.jsx("div",{className:"space-y-3",children:a.filter(ze=>ze.customer_id===fe.id).map(ze=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:ze.title}),s.jsx("p",{className:"text-sm text-gray-600",children:ze.contract_number})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${je(ze.status)}`,children:Me(ze.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Tipo:"}),s.jsx("p",{className:"font-medium",children:rt(ze.contract_type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Frequncia:"}),s.jsx("p",{className:"font-medium",children:Pe(ze.frequency)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Valor:"}),s.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",ze.value.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Vigncia:"}),s.jsxs("p",{className:"font-medium",children:[new Date(ze.start_date).toLocaleDateString("pt-BR")," - ",new Date(ze.end_date).toLocaleDateString("pt-BR")]})]}),ze.next_service_date&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Prximo Servio:"}),s.jsx("p",{className:"font-medium",children:new Date(ze.next_service_date).toLocaleDateString("pt-BR")})]}),ze.sla_response_time&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"SLA Resposta:"}),s.jsxs("p",{className:"font-medium",children:[ze.sla_response_time,"h"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>H(ze),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Hr,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>Be(ze.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Ut,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},ze.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(at,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum contrato cadastrado"}),s.jsx("button",{onClick:()=>{j(fe),F(!0)},className:"mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Criar Primeiro Contrato"})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[s.jsx(wa,{className:"h-5 w-5 mr-2 text-green-500"}),"Histrico de Servios"]}),o.filter(ze=>ze.customer_id===fe.id).length>0?s.jsxs("div",{className:"space-y-2",children:[o.filter(ze=>ze.customer_id===fe.id).slice(0,5).map(ze=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>e(`/ordens-servico/${ze.id}`),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:ze.order_number}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${pe(ze.status)}`,children:De(ze.status)})]}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:ze.description||"Sem descrio"}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(lr,{className:"h-3 w-3"}),ze.opened_at?new Date(ze.opened_at).toLocaleDateString("pt-BR"):"N/A"]}),ze.total_value&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"h-3 w-3"}),"R$ ",ze.total_value.toFixed(2)]})]})]}),s.jsx(ci,{className:"h-4 w-4 text-gray-400"})]})},ze.id)),o.filter(ze=>ze.customer_id===fe.id).length>5&&s.jsxs("button",{onClick:()=>e("/ordens-servico"),className:"w-full py-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:["Ver todas as ",o.filter(ze=>ze.customer_id===fe.id).length," ordens de servio"]})]}):s.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(wa,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhuma ordem de servio realizada"})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[s.jsx(Bt,{className:"h-5 w-5 mr-2 text-purple-500"}),"Equipamentos"]}),c.filter(ze=>ze.customer_id===fe.id).length>0?s.jsx("div",{className:"space-y-2",children:c.filter(ze=>ze.customer_id===fe.id).map(ze=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:ze.equipment_name||"Equipamento"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs text-gray-600",children:[ze.brand&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Marca:"})," ",ze.brand]}),ze.model&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Modelo:"})," ",ze.model]}),ze.serial_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Srie:"})," ",ze.serial_number]}),ze.installation_date&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Instalado em:"})," ",new Date(ze.installation_date).toLocaleDateString("pt-BR")]})]})]})})},ze.id))}):s.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Bt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum equipamento cadastrado"})]})]})]})})]},fe.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(Mt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum cliente encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos clientes com os filtros selecionados."}),s.jsx("button",{onClick:()=>{g(""),f("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]}),ce.length>0&&be>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>I(fe=>Math.max(fe-1,1)),disabled:R===1,className:`px-4 py-2 rounded-lg ${R===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Anterior"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:be},(fe,Ve)=>Ve+1).map(fe=>s.jsx("button",{onClick:()=>I(fe),className:`w-10 h-10 rounded-lg ${R===fe?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:fe},fe))}),s.jsx("button",{onClick:()=>I(fe=>Math.min(fe+1,be)),disabled:R===be,className:`px-4 py-2 rounded-lg ${R===be?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Prxima"}),s.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Mostrando ",J+1,"-",Math.min(ue,ce.length)," de ",ce.length," clientes"]})]})]}),s.jsx(Hje,{isOpen:y||N!==null,onClose:()=>{b(!1),v(null),P(void 0)},onSave:()=>{V(),b(!1),v(null),P(void 0)},customerId:C}),s.jsx(lt,{children:!1}),s.jsx(lt,{children:!1}),s.jsx(lt,{children:_&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>k(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(kr,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este cliente? Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>k(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>we(_),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(lt,{children:S&&M&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>F(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Contrato"}),s.jsx("button",{onClick:()=>F(!1),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Cliente Selecionado"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${M.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:M.client_type==="PF"?s.jsx(Nr,{className:"h-5 w-5"}):s.jsx(qu,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:M.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[M.client_type," - ",M.phone]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informaes do Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo do Contrato"}),s.jsx("input",{type:"text",value:D.title,onChange:fe=>X({...D,title:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Contrato de Manuteno Preventiva",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),s.jsxs("select",{value:D.contract_type,onChange:fe=>X({...D,contract_type:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"maintenance",children:"Manuteno"}),s.jsx("option",{value:"support",children:"Suporte"}),s.jsx("option",{value:"service",children:"Servio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),s.jsxs("select",{value:D.frequency,onChange:fe=>X({...D,frequency:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio"}),s.jsx("input",{type:"date",value:D.start_date,onChange:fe=>X({...D,start_date:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),s.jsx("input",{type:"date",value:D.end_date,onChange:fe=>X({...D,end_date:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),s.jsx("input",{type:"number",value:D.value,onChange:fe=>X({...D,value:parseFloat(fe.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prximo Servio"}),s.jsx("input",{type:"date",value:D.next_service_date,onChange:fe=>X({...D,next_service_date:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(jr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configurao de SLA"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),s.jsx("input",{type:"number",value:D.sla_response_time,onChange:fe=>X({...D,sla_response_time:parseInt(fe.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resoluo (horas)"}),s.jsx("input",{type:"number",value:D.sla_resolution_time,onChange:fe=>X({...D,sla_resolution_time:parseInt(fe.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),s.jsx("input",{type:"number",value:D.sla_availability,onChange:fe=>X({...D,sla_availability:parseFloat(fe.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observaes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condies"}),s.jsx("textarea",{value:D.terms_and_conditions,onChange:fe=>X({...D,terms_and_conditions:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Descreva os termos e condies do contrato..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:D.notes,onChange:fe=>X({...D,notes:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observaes adicionais..."})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>F(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:q,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Criar Contrato"]})]})]})]})}),s.jsx(lt,{children:O&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>H(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Contrato"}),s.jsx("button",{onClick:()=>H(null),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informaes do Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo do Contrato"}),s.jsx("input",{type:"text",value:O.title,onChange:fe=>H({...O,title:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),s.jsxs("select",{value:O.contract_type,onChange:fe=>H({...O,contract_type:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"maintenance",children:"Manuteno"}),s.jsx("option",{value:"support",children:"Suporte"}),s.jsx("option",{value:"service",children:"Servio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:O.status,onChange:fe=>H({...O,status:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"suspended",children:"Suspenso"}),s.jsx("option",{value:"cancelled",children:"Cancelado"}),s.jsx("option",{value:"expired",children:"Expirado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),s.jsxs("select",{value:O.frequency,onChange:fe=>H({...O,frequency:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),s.jsx("input",{type:"number",value:O.value,onChange:fe=>H({...O,value:parseFloat(fe.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(jr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configurao de SLA"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),s.jsx("input",{type:"number",value:O.sla_response_time||0,onChange:fe=>H({...O,sla_response_time:parseInt(fe.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resoluo (horas)"}),s.jsx("input",{type:"number",value:O.sla_resolution_time||0,onChange:fe=>H({...O,sla_resolution_time:parseInt(fe.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),s.jsx("input",{type:"number",value:O.sla_availability||0,onChange:fe=>H({...O,sla_availability:parseFloat(fe.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observaes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condies"}),s.jsx("textarea",{value:O.terms_and_conditions||"",onChange:fe=>H({...O,terms_and_conditions:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:O.notes||"",onChange:fe=>H({...O,notes:fe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>H(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:Ne,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]})},zje=({onPremiumFeature:t})=>{const[e,r]=B.useState("themes"),[n,a]=B.useState(null),[i,o]=B.useState(null),[l,c]=B.useState("desktop"),[d,u]=B.useState("light"),[h,A]=B.useState({id:"custom",name:"Tema Personalizado",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"});B.useEffect(()=>{const f=localStorage.getItem("giartech-theme");if(f){const y=JSON.parse(f);o(y),m(y)}},[]);const m=f=>{const y=document.documentElement,b=f.palette;y.style.setProperty("--color-primary",b.primary),y.style.setProperty("--color-secondary",b.secondary),y.style.setProperty("--color-accent",b.accent),y.style.setProperty("--color-success",b.success),y.style.setProperty("--color-warning",b.warning),y.style.setProperty("--color-error",b.error),y.style.setProperty("--color-neutral",b.neutral),y.style.setProperty("--color-background",b.background),y.style.setProperty("--color-surface",b.surface),y.style.setProperty("--color-text",b.text)},x=f=>{o(f),m(f),localStorage.setItem("giartech-theme",JSON.stringify(f));const y=document.createElement("div");y.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",y.innerHTML=` Tema "${f.name}" aplicado com sucesso!`,document.body.appendChild(y),setTimeout(()=>{y.style.transition="opacity 0.3s",y.style.opacity="0",setTimeout(()=>y.remove(),300)},2e3)},g=()=>{const f={id:"custom-"+Date.now(),name:h.name,description:"Tema personalizado criado pelo usurio",palette:h,typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!0};x(f)},p=[{id:"default",name:"Tema Padro",description:"Tema clssico azul e branco",palette:{id:"default",name:"Padro",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!1},{id:"dark",name:"Tema Escuro",description:"Tema escuro moderno",palette:{id:"dark",name:"Escuro",primary:"#60a5fa",secondary:"#94a3b8",accent:"#a78bfa",success:"#34d399",warning:"#fbbf24",error:"#f87171",neutral:"#9ca3af",background:"#111827",surface:"#1f2937",text:"#f9fafb"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"12px",shadows:!0,animations:!0,isCustom:!1},{id:"nature",name:"Natureza",description:"Tons verdes e terrosos",palette:{id:"nature",name:"Natureza",primary:"#059669",secondary:"#6b7280",accent:"#d97706",success:"#10b981",warning:"#f59e0b",error:"#dc2626",neutral:"#78716c",background:"#f0fdf4",surface:"#ecfdf5",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.6"},spacing:"8px",borderRadius:"16px",shadows:!1,animations:!0,isCustom:!1}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Personalizao Visual"}),i&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Tema ativo: ",s.jsx("span",{className:"font-semibold text-green-600",children:i.name})]})]}),s.jsxs("button",{onClick:()=>alert("Novo tema em breve!"),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Tema"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>r("themes"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="themes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(B2,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Temas"})]}),s.jsxs("button",{onClick:()=>r("colors"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="colors"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(jd,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Cores"})]}),s.jsxs("button",{onClick:()=>r("preview"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="preview"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Ss,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Preview"})]})]}),s.jsxs("div",{className:"p-6",children:[e==="themes"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Temas Disponveis"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((f,y)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:`p-6 rounded-xl border-2 cursor-pointer transition-all relative ${(i==null?void 0:i.id)===f.id?"border-green-500 bg-green-50":(n==null?void 0:n.id)===f.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(f),children:[(i==null?void 0:i.id)===f.id&&s.jsxs("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Mr,{className:"h-3 w-3"}),s.jsx("span",{children:"Ativo"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex space-x-1 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:f.palette.primary}}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:f.palette.secondary}}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:f.palette.accent}})]}),s.jsxs("div",{className:"w-full h-16 rounded-lg border",style:{backgroundColor:f.palette.background,borderColor:f.palette.neutral},children:[s.jsx("div",{className:"h-4 rounded-t-lg",style:{backgroundColor:f.palette.primary}}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"w-full h-2 rounded mb-1",style:{backgroundColor:f.palette.surface}}),s.jsx("div",{className:"w-3/4 h-2 rounded",style:{backgroundColor:f.palette.surface}})]})]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:f.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:f.description}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:b=>{b.stopPropagation(),a(f),r("preview")},className:"flex-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[s.jsx(Ss,{className:"h-4 w-4 mr-1 inline"}),"Preview"]}),s.jsxs("button",{onClick:b=>{b.stopPropagation(),x(f)},className:`flex-1 px-3 py-1 rounded-lg transition-colors text-sm ${(i==null?void 0:i.id)===f.id?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[s.jsx(Mr,{className:"h-4 w-4 mr-1 inline"}),(i==null?void 0:i.id)===f.id?"Ativo":"Aplicar"]})]})]},f.id))})]}),e==="colors"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor de Cores"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).filter(([f])=>f!=="id"&&f!=="name").map(([f,y])=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:f==="primary"?"Cor Primria":f==="secondary"?"Cor Secundria":f==="accent"?"Cor de Destaque":f==="success"?"Cor de Sucesso":f==="warning"?"Cor de Aviso":f==="error"?"Cor de Erro":f==="neutral"?"Cor Neutra":f==="background"?"Cor de Fundo":f==="surface"?"Cor de Superfcie":f==="text"?"Cor do Texto":f}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"color",value:y,onChange:b=>A({...h,[f]:b.target.value}),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:y,onChange:b=>A({...h,[f]:b.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(y),className:"p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:s.jsx(Wl,{className:"h-4 w-4"})})]})]},f))}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:g,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar e Aplicar Paleta"]}),s.jsxs("button",{onClick:()=>A(p[0].palette),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(As,{className:"h-4 w-4 mr-2 inline"}),"Resetar"]})]})]}),e==="preview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preview do Tema"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>c("desktop"),className:`p-2 rounded-md transition-colors ${l==="desktop"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(Eoe,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>c("tablet"),className:`p-2 rounded-md transition-colors ${l==="tablet"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(ble,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>c("mobile"),className:`p-2 rounded-md transition-colors ${l==="mobile"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(ZE,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>u("light"),className:`p-2 rounded-md transition-colors ${d==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(ple,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>u("dark"),className:`p-2 rounded-md transition-colors ${d==="dark"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(Poe,{className:"h-4 w-4"})})]})]})]}),s.jsx("div",{className:"bg-gray-100 p-8 rounded-xl",children:s.jsxs("div",{className:`mx-auto rounded-lg shadow-lg overflow-hidden transition-all ${l==="mobile"?"max-w-sm":l==="tablet"?"max-w-2xl":"max-w-4xl"}`,style:{backgroundColor:(n==null?void 0:n.palette.background)||h.background,color:(n==null?void 0:n.palette.text)||h.text},children:[s.jsx("div",{className:"p-4",style:{backgroundColor:(n==null?void 0:n.palette.primary)||h.primary},children:s.jsx("h3",{className:"text-white font-semibold",children:"Sistema GiarTech"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||h.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Cs,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.primary)||h.primary}}),s.jsx("span",{className:"font-medium",children:"Analytics"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"1,234"})]}),s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||h.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Mt,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.success)||h.success}}),s.jsx("span",{className:"font-medium",children:"Usurios"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"567"})]}),s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||h.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Bt,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.accent)||h.accent}}),s.jsx("span",{className:"font-medium",children:"Produtos"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"89"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.primary)||h.primary},children:"Boto Primrio"}),s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.success)||h.success},children:"Boto de Sucesso"}),s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.warning)||h.warning},children:"Boto de Aviso"})]})]})]})})]})]})]})]})},Vje=({isOpen:t,onClose:e,onSave:r,title:n,children:a,showControls:i=!0,currentStep:o,totalSteps:l,onPrevStep:c,onNextStep:d})=>s.jsx(lt,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ss,{className:"h-5 w-5 text-blue-500"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n})]}),s.jsx("button",{onClick:e,children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 mb-6",children:a}),i&&s.jsxs("div",{className:"flex justify-between items-center",children:[o!==void 0&&l!==void 0?s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:c,disabled:o<=0,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o<=0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(ac,{className:"h-4 w-4"}),s.jsx("span",{children:"Anterior"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Passo ",o+1," de ",l]}),s.jsxs("button",{onClick:d,disabled:o>=l-1,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o>=l-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx("span",{children:"Prximo"}),s.jsx(ci,{className:"h-4 w-4"})]})]}):s.jsx("div",{}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Fechar"}),r&&s.jsxs("button",{onClick:r,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[s.jsx(rr,{className:"h-4 w-4"}),s.jsx("span",{children:"Salvar Alteraes"})]})]})]})]})]})}),Kje=({onPremiumFeature:t,onEnterpriseFeature:e})=>{var H;const{isPremium:r,isEnterprise:n}=cn(),[a,i]=B.useState([{id:"inventory",name:"Estoque de Materiais",description:"Controle de produtos, quantidades e movimentaes",icon:Bt,enabled:!0,metrics:["Quantidade em estoque","Produtos em falta","Valor total","Rotatividade"],color:"from-blue-500 to-cyan-500"},{id:"orders",name:"Ordens de Servio",description:"Gesto de pedidos e acompanhamento de status",icon:wa,enabled:!0,metrics:["Ordens abertas","Ordens concludas","Tempo mdio","Satisfao"],color:"from-green-500 to-emerald-500"},{id:"team",name:"Desempenho da Equipe",description:"Produtividade e performance dos colaboradores",icon:Mt,enabled:!1,metrics:["Tarefas concludas","Horas trabalhadas","Eficincia","Avaliaes"],color:"from-purple-500 to-pink-500",requiresPremium:!0},{id:"financial",name:"Financeiro",description:"Receitas, despesas e indicadores financeiros",icon:Yt,enabled:!1,metrics:["Receita mensal","Despesas","Lucro lquido","Fluxo de caixa"],color:"from-orange-500 to-red-500",requiresPremium:!0},{id:"delivery",name:"Entregas",description:"Acompanhamento de entregas e logstica",icon:ek,enabled:!0,metrics:["Entregas no prazo","Atrasos","Distncia percorrida","Custos"],color:"from-indigo-500 to-purple-500"},{id:"quality",name:"Qualidade",description:"Controle de qualidade e no conformidades",icon:kr,enabled:!1,metrics:["No conformidades","Reclamaes","ndice de qualidade","Melhorias"],color:"from-yellow-500 to-orange-500",requiresEnterprise:!0}]),[o,l]=B.useState([{id:"realtime",name:"Monitoramento em Tempo Real",description:"Configuraes para monitoramento em tempo real",icon:di,requiresEnterprise:!0,settings:[{id:"interval",name:"Intervalo de Atualizao",description:"Frequncia de atualizao dos dados em tempo real",type:"select",value:"5s",options:["1s","5s","10s","30s","1m"]},{id:"alerts",name:"Alertas Automticos",description:"Enviar alertas automticos quando mtricas ultrapassarem limites",type:"toggle",value:!0},{id:"threshold",name:"Limite de Alerta",description:"Percentual de desvio para disparar alertas",type:"range",value:15,min:5,max:50,step:5}]},{id:"security",name:"Segurana Avanada",description:"Configuraes de segurana para monitoramento",icon:jr,requiresEnterprise:!0,settings:[{id:"encryption",name:"Criptografia de Dados",description:"Criptografar dados sensveis de monitoramento",type:"toggle",value:!0},{id:"access",name:"Controle de Acesso",description:"Nvel de permisso para visualizar dados de monitoramento",type:"select",value:"admin",options:["admin","manager","all"]},{id:"audit",name:"Trilha de Auditoria",description:"Manter logs de acesso aos dados de monitoramento",type:"toggle",value:!0}]},{id:"notifications",name:"Notificaes",description:"Configuraes de notificaes de monitoramento",icon:om,requiresEnterprise:!0,settings:[{id:"channels",name:"Canais de Notificao",description:"Canais para envio de notificaes",type:"select",value:"all",options:["email","push","sms","all"]},{id:"frequency",name:"Frequncia de Resumos",description:"Frequncia de envio de resumos de monitoramento",type:"select",value:"daily",options:["hourly","daily","weekly"]},{id:"quiet",name:"Perodo de Silncio",description:"Horrio em que notificaes no sero enviadas",type:"input",value:"22:00 - 08:00"}]},{id:"integration",name:"Integraes",description:"Configuraes de integrao com sistemas externos",icon:Zoe,requiresEnterprise:!0,settings:[{id:"api",name:"API Externa",description:"Integrar com API externa para monitoramento",type:"toggle",value:!1},{id:"endpoint",name:"Endpoint da API",description:"URL do endpoint da API externa",type:"input",value:"https://api.example.com/monitoring"},{id:"format",name:"Formato de Dados",description:"Formato dos dados enviados para API externa",type:"select",value:"json",options:["json","xml","csv"]}]},{id:"storage",name:"Armazenamento de Dados",description:"Configuraes de armazenamento de dados de monitoramento",icon:Tm,requiresEnterprise:!0,settings:[{id:"retention",name:"Perodo de Reteno",description:"Tempo de reteno dos dados de monitoramento",type:"select",value:"90d",options:["30d","90d","180d","365d","unlimited"]},{id:"compression",name:"Compresso de Dados",description:"Comprimir dados histricos para economizar espao",type:"toggle",value:!0},{id:"backup",name:"Backup Automtico",description:"Frequncia de backup dos dados de monitoramento",type:"select",value:"daily",options:["daily","weekly","monthly"]}]}]),[c,d]=B.useState(!1),[u,h]=B.useState(!1),[A,m]=B.useState(((H=o[0])==null?void 0:H.id)||""),[x,g]=B.useState({name:"",description:"",metrics:[""]}),[p,f]=B.useState(null),[y,b]=B.useState(["areas","enterprise"]),[N,v]=B.useState(!1),C=U=>{b(z=>z.includes(U)?z.filter(R=>R!==U):[...z,U])},P=U=>{const z=a.find(I=>I.id===U);if(z!=null&&z.requiresPremium&&!r){t&&t("Monitoramento Avanado");return}if(z!=null&&z.requiresEnterprise&&!n){e&&e("Monitoramento Enterprise");return}i(a.map(I=>I.id===U?{...I,enabled:!I.enabled}:I));const R=document.getElementById(`area-${U}`);R&&(R.classList.add("bg-blue-50"),setTimeout(()=>{R.classList.remove("bg-blue-50")},300))},_=()=>{console.log("Configuraes salvas:",a.filter(z=>z.enabled));const U=document.getElementById("save-config-button");if(U){const z=U.innerText;U.innerText="Salvo!",U.classList.add("bg-green-500"),U.classList.remove("from-green-500","to-emerald-500"),setTimeout(()=>{U.innerText=z,U.classList.remove("bg-green-500"),U.classList.add("bg-gradient-to-r","from-green-500","to-emerald-500")},2e3)}alert("Configuraes de monitoramento salvas com sucesso!")},k=()=>{g(U=>({...U,metrics:[...U.metrics,""]}))},M=(U,z)=>{g(R=>({...R,metrics:R.metrics.map((I,K)=>K===U?z:I)}))},j=U=>{g(z=>({...z,metrics:z.metrics.filter((R,I)=>I!==U)}))},S=()=>{if(!r){t&&t("reas de Monitoramento Personalizadas"),d(!1);return}if(x.name.trim()){const U={id:Date.now().toString(),name:x.name,description:x.description,icon:Cs,enabled:!0,metrics:x.metrics.filter(z=>z.trim()),color:"from-gray-500 to-gray-600"};i([...a,U]),g({name:"",description:"",metrics:[""]}),d(!1),setTimeout(()=>{const z=document.getElementById(`area-${U.id}`);z&&(z.classList.add("bg-green-50"),setTimeout(()=>{z.classList.remove("bg-green-50")},1e3))},100)}},F=(U,z,R)=>{if(!n){e&&e("Configuraes Enterprise");return}l(K=>K.map(te=>te.id===U?{...te,settings:te.settings.map(Q=>Q.id===z?{...Q,value:R}:Q)}:te));const I=document.getElementById(`setting-${U}-${z}`);I&&(I.classList.add("bg-blue-50"),setTimeout(()=>{I.classList.remove("bg-blue-50")},300))},O=U=>{f(U),h(!0)};return s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-base font-bold text-gray-900 mb-1",children:"Configurao de Monitoramento"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Configure quais reas voc deseja monitorar nas anlises"})]}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[s.jsxs("button",{onClick:()=>v(!N),className:"bg-blue-100 text-blue-700 px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:bg-blue-200 transition-all text-xs",children:[s.jsx(rie,{className:"h-3 w-3"}),s.jsx("span",{children:"Ajuda"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(yt,{className:"h-3 w-3"}),s.jsx("span",{children:"Nova rea"})]}),s.jsxs("button",{id:"save-config-button",onClick:_,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(rr,{className:"h-3 w-3"}),s.jsx("span",{children:"Salvar"})]})]})]}),!r&&s.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-700 flex items-center",children:[s.jsx(jd,{className:"h-3 w-3 mr-1"}),"Plano Bsico: Limitado a 3 reas de monitoramento. Faa upgrade para monitoramento avanado."]})})]}),s.jsx(lt,{children:N&&s.jsxs(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-blue-50 rounded-xl p-3 shadow-md border border-blue-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-sm font-semibold text-blue-800 flex items-center",children:[s.jsx(Qi,{className:"h-4 w-4 mr-1"}),"Como configurar o monitoramento"]}),s.jsx("button",{onClick:()=>v(!1),className:"text-blue-500 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100",children:s.jsx(At,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"reas de Monitoramento"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Ative ou desative reas especficas para monitoramento. Cada rea contm mtricas relevantes que sero exibidas nos dashboards e relatrios."})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Configuraes Enterprise"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Configure opes avanadas como monitoramento em tempo real, segurana, notificaes e integraes. Disponvel apenas para planos Enterprise."})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Dicas de Uso"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1 list-disc pl-4",children:[s.jsx("li",{children:"Clique no cone de olho para ativar/desativar uma rea"}),s.jsx("li",{children:'Use o boto "Nova rea" para criar reas personalizadas'}),s.jsx("li",{children:'Clique em "Salvar" aps fazer alteraes'}),s.jsx("li",{children:"Use o boto de visualizao para ver detalhes de cada rea"})]})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>C("areas"),children:[s.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(jd,{className:"h-4 w-4 mr-1 text-blue-500"}),"reas de Monitoramento"]}),y.includes("areas")?s.jsx(Xo,{className:"h-4 w-4 text-gray-500"}):s.jsx(ai,{className:"h-4 w-4 text-gray-500"})]}),s.jsx(lt,{children:y.includes("areas")&&s.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(U=>s.jsxs(se.div,{id:`area-${U.id}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg p-3 border border-gray-100 transition-all duration-200 ${U.enabled?"ring-1 ring-blue-200":"opacity-75"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${U.color} rounded-lg flex items-center justify-center`,children:s.jsx(U.icon,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[U.requiresPremium&&!r||U.requiresEnterprise&&!n?s.jsx("div",{className:"p-1.5 bg-gray-100 text-gray-400 rounded-lg",children:s.jsx(Pi,{className:"h-3.5 w-3.5"})}):s.jsx("button",{onClick:()=>P(U.id),className:`p-1.5 rounded-lg transition-colors ${U.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,"aria-label":U.enabled?"Desativar rea":"Ativar rea",children:U.enabled?s.jsx(Ss,{className:"h-3.5 w-3.5"}):s.jsx(_2,{className:"h-3.5 w-3.5"})}),s.jsx("button",{onClick:()=>O(U),className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors","aria-label":"Visualizar detalhes",children:s.jsx(Ss,{className:"h-3.5 w-3.5"})})]})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:U.name}),s.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:U.description}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Mtricas:"}),s.jsxs("div",{className:"space-y-0.5",children:[U.metrics.slice(0,2).map((z,R)=>s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full mr-1.5"}),z]},R)),U.metrics.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",U.metrics.length-2," mais"]})]})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:U.enabled?"Ativo":"Inativo"}),(U.requiresPremium||U.requiresEnterprise)&&s.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[s.jsx(Pi,{className:"h-2.5 w-2.5 mr-0.5"}),U.requiresEnterprise?"Enterprise":"Premium"]})]})]},U.id))})})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>C("enterprise"),children:[s.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(jr,{className:"h-4 w-4 mr-1 text-purple-500"}),"Configuraes Enterprise"]}),y.includes("enterprise")?s.jsx(Xo,{className:"h-4 w-4 text-gray-500"}):s.jsx(ai,{className:"h-4 w-4 text-gray-500"})]}),s.jsx(lt,{children:y.includes("enterprise")&&s.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 mb-3 overflow-x-auto hide-scrollbar",children:s.jsx("div",{className:"flex",children:o.map(U=>s.jsxs("button",{onClick:()=>m(U.id),className:`flex items-center space-x-1 px-3 py-1.5 border-b-2 whitespace-nowrap text-xs ${A===U.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(U.icon,{className:"h-3 w-3"}),s.jsx("span",{children:U.name})]},U.id))})}),o.map(U=>s.jsxs("div",{className:A===U.id?"block":"hidden",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:U.name}),s.jsx("p",{className:"text-xs text-gray-600",children:U.description})]}),s.jsx("div",{className:"space-y-3",children:U.settings.map(z=>{var R;return s.jsxs("div",{id:`setting-${U.id}-${z.id}`,className:"bg-gray-50 rounded-lg p-3 transition-colors duration-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:z.name}),s.jsx("p",{className:"text-xs text-gray-600",children:z.description})]}),z.type==="toggle"&&s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:z.value,onChange:()=>F(U.id,z.id,!z.value),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-600"})]})]}),z.type==="select"&&s.jsx("select",{value:z.value,onChange:I=>F(U.id,z.id,I.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs",children:(R=z.options)==null?void 0:R.map(I=>s.jsx("option",{value:I,children:I},I))}),z.type==="input"&&s.jsx("input",{type:"text",value:z.value,onChange:I=>F(U.id,z.id,I.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs"}),z.type==="range"&&s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{type:"range",min:z.min,max:z.max,step:z.step,value:z.value,onChange:I=>F(U.id,z.id,parseInt(I.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsxs("span",{children:[z.min,"%"]}),s.jsxs("span",{children:[z.value,"%"]}),s.jsxs("span",{children:[z.max,"%"]})]})]})]},z.id)})})]},U.id))]}):s.jsxs("div",{className:"py-6 text-center",children:[s.jsx(jr,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recursos Enterprise"}),s.jsx("p",{className:"text-xs text-gray-600 mb-4 max-w-md mx-auto",children:"Acesse configuraes avanadas de monitoramento com o plano Enterprise."}),s.jsx("button",{onClick:()=>e&&e("Configuraes Enterprise"),className:"px-4 py-1.5 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:shadow-lg transition-all text-xs",children:"Ver Plano Enterprise"})]})})})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Resumo da Configurao"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.filter(U=>U.enabled).length}),s.jsx("div",{className:"text-xs text-gray-600",children:"reas Ativas"})]}),s.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:a.filter(U=>U.enabled).reduce((U,z)=>U+z.metrics.length,0)}),s.jsx("div",{className:"text-xs text-gray-600",children:"Mtricas Monitoradas"})]}),s.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[Math.round(a.filter(U=>U.enabled).length/a.length*100),"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Cobertura"})]})]}),!n&&s.jsx("div",{className:"mt-3 p-2 bg-purple-50 border border-purple-100 rounded-lg",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cs,{className:"h-4 w-4 text-purple-600 mr-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-purple-800 text-xs",children:"Monitoramento em Tempo Real"}),s.jsx("p",{className:"text-xs text-purple-600",children:"Alertas instantneos e dashboards ao vivo"})]})]}),s.jsxs("button",{onClick:()=>e&&e("Monitoramento em Tempo Real"),className:"px-2 py-1 bg-purple-200 text-purple-700 rounded-lg flex items-center space-x-1 hover:bg-purple-300 transition-colors text-xs",children:[s.jsx(Pi,{className:"h-2.5 w-2.5 mr-0.5"}),s.jsx("span",{children:"Enterprise"}),s.jsx(N2,{className:"h-2.5 w-2.5 ml-0.5"})]})]})})]}),s.jsx(lt,{children:c&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Nova rea de Monitoramento"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100","aria-label":"Fechar",children:s.jsx(At,{className:"h-5 w-5"})})]}),r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nome da rea"}),s.jsx("input",{type:"text",value:x.name,onChange:U=>g({...x,name:U.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Ex: Vendas Online"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:x.description,onChange:U=>g({...x,description:U.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:2,placeholder:"Descreva o que ser monitorado nesta rea"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Mtricas"}),s.jsxs("button",{onClick:k,className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[s.jsx(yt,{className:"h-3 w-3 mr-0.5"}),"Adicionar"]})]}),s.jsx("div",{className:"space-y-1.5",children:x.metrics.map((U,z)=>s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("input",{type:"text",value:U,onChange:R=>M(z,R.target.value),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Nome da mtrica"}),x.metrics.length>1&&s.jsx("button",{onClick:()=>j(z),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50","aria-label":"Remover mtrica",children:s.jsx(At,{className:"h-3 w-3"})})]},z))})]})]}),s.jsxs("div",{className:"flex space-x-2 mt-4",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsx("button",{onClick:S,className:"flex-1 px-3 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:"Criar rea"})]})]}):s.jsxs("div",{className:"text-center py-5",children:[s.jsx(Pi,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recurso Premium"}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"reas de monitoramento personalizadas esto disponveis apenas para assinantes do plano Premium."}),s.jsx("button",{onClick:()=>{t&&t("reas de Monitoramento Personalizadas"),d(!1)},className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all text-sm",children:"Ver Plano Premium"})]})]})]})}),s.jsx(Vje,{isOpen:u,onClose:()=>h(!1),title:`Preview: ${(p==null?void 0:p.name)||"Configurao"}`,children:p&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${p.color} rounded-xl flex items-center justify-center`,children:s.jsx(p.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:p.name}),s.jsx("p",{className:"text-sm text-gray-600",children:p.description})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Mtricas Monitoradas"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:p.metrics.map((U,z)=>s.jsxs("div",{className:"flex items-center space-x-1.5 p-1.5 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-xs text-gray-700",children:U})]},z))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Visualizao de Dashboard"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 h-32 flex items-center justify-center",children:s.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Aqui ser exibido o dashboard de monitoramento para ",p.name.toLowerCase(),".",s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:"Os dados sero atualizados em tempo real quando esta rea estiver ativa."})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${p.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:p.enabled?"Ativo":"Inativo"}),(p.requiresPremium||p.requiresEnterprise)&&s.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[s.jsx(Pi,{className:"h-2.5 w-2.5 mr-0.5"}),p.requiresEnterprise?"Enterprise":"Premium"]})]})]})]})})]})},_M={pessoal:"#8b5cf6",networking:"#3b82f6",financeiro:"#10b981",cobrar:"#f59e0b",pagar:"#ef4444",operacional:"#06b6d4"},Wje={a_fazer:"scheduled",em_andamento:"in_progress",feito:"completed",cancelado:"cancelled"},Gje={scheduled:"a_fazer",in_progress:"em_andamento",confirmed:"em_andamento",completed:"feito",cancelled:"cancelado"},Xje={pessoal:"meeting",networking:"meeting",financeiro:"task",operacional:"task",cobrar:"reminder",pagar:"reminder"},Yje={meeting:"pessoal",task:"operacional",service_order:"operacional",appointment:"pessoal",reminder:"cobrar",other:"pessoal"},Jje=t=>{const e=new Date(t.start_date),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),l=`${r}-${n}-${a}`,c=`${i}:${o}`;let d,u;if(t.end_date){const x=new Date(t.end_date),g=x.getFullYear(),p=String(x.getMonth()+1).padStart(2,"0"),f=String(x.getDate()).padStart(2,"0"),y=String(x.getHours()).padStart(2,"0"),b=String(x.getMinutes()).padStart(2,"0");d=`${g}-${p}-${f}`,u=`${y}:${b}`}const h=t.event_type,A=Yje[h]||"pessoal",m=t.status;return{id:t.id,title:t.title||"Sem ttulo",date:l,time:c,endDate:d,endTime:u,type:A,priority:t.priority||"medium",status:Gje[m]||"a_fazer",assignedTo:t.employee_id,location:t.location,description:t.description||t.notes,color:_M[A]||_M.pessoal}},M5=t=>{const e=t.status;let r;if(t.date&&t.time){const[l,c,d]=t.date.split("-").map(Number),[u,h]=t.time.split(":").map(Number);r=new Date(l,c-1,d,u,h,0,0).toISOString()}else r=new Date().toISOString();let n;if(t.endDate&&t.endTime){const[l,c,d]=t.endDate.split("-").map(Number),[u,h]=t.endTime.split(":").map(Number);n=new Date(l,c-1,d,u,h,0,0).toISOString()}else{const l=new Date(r);l.setHours(l.getHours()+1),n=l.toISOString()}const a=l=>l?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(l):!1,i=t.type,o=i?Xje[i]:"meeting";return{title:t.title||t.description||"Sem ttulo",description:t.description,start_date:r,end_date:n,all_day:!1,event_type:o,status:e?Wje[e]:"scheduled",priority:t.priority,employee_id:a(t.assignedTo)?t.assignedTo:null,location:t.location,notes:t.description}},Zje=t=>{const e=[];return t.forEach(r=>{if(!r.endDate||r.date===r.endDate)e.push(r);else{const n=new Date(r.date+"T00:00:00"),a=new Date(r.endDate+"T00:00:00");let i=new Date(n);for(;i<=a;){const o=i.toISOString().split("T")[0];e.push({...r,date:o,title:r.title+(i.getTime()===n.getTime()||i.getTime()===a.getTime()?" ":" ")}),i.setDate(i.getDate()+1)}}}),e},eNe=({onPremiumFeature:t})=>{const{isPremium:e}=cn(),[r,n]=B.useState(new Date),[a,i]=B.useState("calendar"),[o,l]=B.useState("monthly"),[c,d]=B.useState(!1),[u,h]=B.useState(null),[A,m]=B.useState(null),[x,g]=B.useState([]),[p,f]=B.useState(!0);B.useEffect(()=>{y()},[]);const y=async()=>{try{f(!0);const Ne=(await ehe()).map(Jje),Be=Zje(Ne);g(Be)}catch(q){console.error("Error loading events:",q),g([])}finally{f(!1)}},[b,N]=B.useState({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""});function v(){const q=new Date;return q.setDate(q.getDate()+1),q.toISOString().split("T")[0]}const C=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],P=["D","S","T","Q","Q","S","S"],_=q=>{const Ne=q.getFullYear(),Be=q.getMonth(),Z=new Date(Ne,Be,1),De=new Date(Ne,Be+1,0).getDate(),je=Z.getDay(),Me=[];for(let Pe=je-1;Pe>=0;Pe--){const fe=new Date(Ne,Be,-Pe);Me.push({date:fe,isCurrentMonth:!1})}for(let Pe=1;Pe<=De;Pe++){const fe=new Date(Ne,Be,Pe);Me.push({date:fe,isCurrentMonth:!0})}const rt=42-Me.length;for(let Pe=1;Pe<=rt;Pe++){const fe=new Date(Ne,Be+1,Pe);Me.push({date:fe,isCurrentMonth:!1})}return Me},k=q=>{const Ne=q.toISOString().split("T")[0];return x.filter(Be=>Be.date===Ne)},M=()=>{const q=new Date().toISOString().split("T")[0];return x.filter(Ne=>Ne.date===q).sort((Ne,Be)=>Ne.time.localeCompare(Be.time))},j=()=>{const q=v();return x.filter(Ne=>Ne.date===q).sort((Ne,Be)=>Ne.time.localeCompare(Be.time))},S=()=>{n(new Date(r.getFullYear(),r.getMonth()-1))},F=()=>{n(new Date(r.getFullYear(),r.getMonth()+1))},O=q=>{if(m(q),N(Ne=>({...Ne,date:q.toISOString().split("T")[0]})),!e&&x.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},H=async()=>{if(b.title&&b.date&&b.time)try{const q=M5(b);await the(q),await y(),N({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""}),d(!1)}catch(q){console.error("Error creating event:",q),alert("Erro ao criar evento. Verifique os campos de data e hora.")}else alert("Por favor, preencha ttulo, data e horrio de incio.")},U=async()=>{if(u)try{const q=M5(u);await U_(u.id,q),await y(),h(null)}catch(q){console.error("Error updating event:",q),alert("Erro ao atualizar evento")}},z=async q=>{if(confirm("Tem certeza que deseja excluir este evento?"))try{await rhe(q),await y(),h(null)}catch(Ne){console.error("Error deleting event:",Ne),alert("Erro ao excluir evento")}},R=async q=>{try{await U_(q,{status:"feito"}),await y()}catch(Ne){console.error("Error completing task:",Ne),alert("Erro ao completar tarefa")}},I=q=>{switch(q){case"pessoal":return"bg-purple-600";case"networking":return"bg-blue-500";case"financeiro":return"bg-green-500";case"cobrar":return"bg-yellow-500";case"pagar":return"bg-red-500";default:return"bg-gray-500"}},K=q=>{switch(q){case"pessoal":return"Pessoal";case"networking":return"Networking";case"financeiro":return"Financeiro";case"operacional":return"Operacional";case"cobrar":return"Cobrar";case"pagar":return"Pagar";default:return"Evento"}},te=q=>{switch(q){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Q=q=>{switch(q){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return"Normal"}},D=q=>{switch(q){case"a_fazer":return"bg-yellow-100 text-yellow-800";case"em_andamento":return"bg-blue-100 text-blue-800";case"feito":return"bg-green-100 text-green-800";case"cancelado":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},X=q=>{switch(q){case"a_fazer":return"A Fazer";case"em_andamento":return"Em Andamento";case"feito":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}},V=()=>{const q=_(r);return s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[P.map(Ne=>s.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Ne},Ne)),q.map((Ne,Be)=>{const Z=k(Ne.date),pe=Ne.date.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>O(Ne.date),className:`min-h-[70px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${Ne.isCurrentMonth?"bg-white":"bg-gray-100 text-gray-400"} ${pe?"bg-blue-50 border-blue-300":""}`,children:[s.jsx("div",{className:`text-xs font-medium mb-1 ${pe?"text-blue-600":Ne.isCurrentMonth?"text-gray-900":"text-gray-400"}`,children:Ne.date.getDate()}),s.jsxs("div",{className:"space-y-1",children:[Z.slice(0,2).map(De=>s.jsxs("div",{onClick:je=>{je.stopPropagation(),h(De)},className:`text-xs p-1 rounded text-white truncate cursor-pointer hover:opacity-80 transition-opacity ${I(De.type)}`,children:[De.time," ",De.title]},De.id)),Z.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",Z.length-2]})]})]},Be)})]})},de=()=>{const q=new Date(r);q.setDate(r.getDate()-r.getDay());const Ne=[];for(let Be=0;Be<7;Be++){const Z=new Date(q);Z.setDate(q.getDate()+Be),Ne.push(Z)}return s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map((Be,Z)=>s.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Be},Be))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ne.map((Be,Z)=>{const pe=k(Be),De=Be.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>O(Be),className:`min-h-[100px] p-2 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${De?"bg-blue-50 border-blue-300":"bg-white"}`,children:[s.jsx("div",{className:`text-sm font-medium mb-2 ${De?"text-blue-600":"text-gray-900"}`,children:Be.getDate()}),s.jsx("div",{className:"space-y-1",children:pe.map(je=>s.jsxs("div",{className:`text-xs p-1 rounded text-white truncate ${I(je.type)}`,children:[je.time," ",je.title]},je.id))})]},Z)})})]})},le=()=>{const q=k(r),Ne=Array.from({length:24},(Be,Z)=>Z);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:r.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),s.jsxs("p",{className:"text-sm text-gray-600",children:[q.length," eventos agendados"]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-1",children:Ne.map(Be=>{const Z=q.filter(pe=>parseInt(pe.time.split(":")[0])===Be);return s.jsxs("div",{className:"flex border-b border-gray-100 pb-2",children:[s.jsxs("div",{className:"w-16 text-xs text-gray-500 pt-1",children:[Be.toString().padStart(2,"0"),":00"]}),s.jsx("div",{className:"flex-1 min-h-[40px]",children:Z.length>0?s.jsx("div",{className:"space-y-1",children:Z.map(pe=>s.jsxs("div",{className:`p-2 rounded text-white text-xs ${I(pe.type)}`,onClick:()=>h(pe),children:[s.jsx("div",{className:"font-medium",children:pe.title}),s.jsx("div",{className:"opacity-80",children:pe.time})]},pe.id))}):s.jsx("div",{className:"h-full hover:bg-gray-50 rounded cursor-pointer flex items-center justify-center text-gray-400 text-xs",onClick:()=>{const pe=new Date(r);pe.setHours(Be,0,0,0),O(pe)},children:"Clique para adicionar evento"})})]},Be)})})]})},ie=()=>{const q=[...x].sort((Ne,Be)=>{const Z=Ne.date.localeCompare(Be.date);return Z!==0?Z:Ne.time.localeCompare(Be.time)});return s.jsx("div",{className:"divide-y divide-gray-200",children:q.length>0?q.map(Ne=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>h(Ne),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsx("div",{className:`w-1 h-16 rounded-full ${I(Ne.type)}`}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:Ne.title}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${te(Ne.priority)}`,children:Q(Ne.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${D(Ne.status)}`,children:X(Ne.status)})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(lr,{className:"h-3 w-3 mr-1"}),new Date(Ne.date).toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1"}),Ne.time]}),Ne.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),Ne.assignedTo]}),Ne.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ii,{className:"h-3 w-3 mr-1"}),Ne.location]})]}),Ne.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Ne.description})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs text-white ${I(Ne.type)}`,children:K(Ne.type)})})]})},Ne.id)):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(E_,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum evento cadastrado"})]})})},ce=(q,Ne)=>{q.dataTransfer.effectAllowed="move",q.dataTransfer.setData("text/html",JSON.stringify(Ne))},be=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},J=async(q,Ne)=>{q.preventDefault();try{const Be=JSON.parse(q.dataTransfer.getData("text/html"));if(Be.status===Ne)return;const Z={...Be,status:Ne},pe=M5(Z);await U_(Be.id,pe),await y()}catch(Be){console.error("Error updating event status:",Be)}},ue=()=>{const q=[{status:"a_fazer",title:"A Fazer",color:"border-yellow-400",bgColor:"bg-yellow-50"},{status:"em_andamento",title:"Em Andamento",color:"border-blue-400",bgColor:"bg-blue-50"},{status:"feito",title:"Concludo",color:"border-green-400",bgColor:"bg-green-50"},{status:"cancelado",title:"Cancelado",color:"border-gray-400",bgColor:"bg-gray-50"}];return s.jsx("div",{className:"grid grid-cols-4 gap-4 p-4",children:q.map(Ne=>{const Be=x.filter(Z=>Z.status===Ne.status);return s.jsxs("div",{className:`border-t-4 ${Ne.color} ${Ne.bgColor} rounded-lg min-h-[500px]`,onDragOver:be,onDrop:Z=>J(Z,Ne.status),children:[s.jsx("div",{className:"p-3 border-b border-gray-200 bg-white",children:s.jsxs("h3",{className:"font-medium text-gray-900 flex items-center justify-between",children:[Ne.title,s.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:Be.length})]})}),s.jsxs("div",{className:"p-2 space-y-2 max-h-[450px] overflow-y-auto",children:[Be.map(Z=>s.jsxs("div",{draggable:!0,onDragStart:pe=>ce(pe,Z),className:"bg-white p-3 rounded-lg shadow-sm hover:shadow-lg transition-all cursor-move border border-gray-200 hover:border-blue-300 active:opacity-50",onDoubleClick:()=>h(Z),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 flex-1",children:Z.title}),s.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ml-2 ${te(Z.priority)}`,children:s.jsx(kv,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(lr,{className:"h-3 w-3 mr-1"}),new Date(Z.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),s.jsx(Dt,{className:"h-3 w-3 ml-2 mr-1"}),Z.time]}),Z.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"truncate",children:Z.assignedTo})]})]}),s.jsx("div",{className:`mt-2 w-full h-1 rounded-full ${I(Z.type)}`}),s.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:"Arraste para mover ou clique 2x para editar"})]},Z.id)),Be.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-400 text-xs border-2 border-dashed border-gray-300 rounded-lg",children:s.jsx("p",{children:"Arraste tarefas aqui"})})]})]},Ne.status)})})},ke=()=>{const Ne=[...x].sort((Be,Z)=>Be.date.localeCompare(Z.date)).reduce((Be,Z)=>{const pe=Z.date;return Be[pe]||(Be[pe]=[]),Be[pe].push(Z),Be},{});return s.jsxs("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[Object.entries(Ne).map(([Be,Z])=>s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-24 flex-shrink-0",children:s.jsxs("div",{className:"sticky top-0 pt-1",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:new Date(Be).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(Be).toLocaleDateString("pt-BR",{weekday:"short"})})]})}),s.jsx("div",{className:"flex-1 border-l-2 border-gray-200 pl-4 pb-4",children:s.jsx("div",{className:"space-y-2",children:Z.map(pe=>s.jsxs("div",{className:"relative bg-white p-3 rounded-lg border-l-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",style:{borderLeftColor:I(pe.type).replace("bg-","").replace("500","")},onClick:()=>h(pe),children:[s.jsx("div",{className:"absolute -left-[29px] top-4 w-3 h-3 rounded-full bg-white border-2",style:{borderColor:I(pe.type).replace("bg-","").replace("500","")}}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900",children:pe.title}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1"}),pe.time]}),pe.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),pe.assignedTo]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${te(pe.priority)}`,children:Q(pe.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${D(pe.status)}`,children:X(pe.status)})]})]})]},pe.id))})})]},Be)),Object.keys(Ne).length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(YT,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum evento na linha do tempo"})]})]})},Qe=()=>{const q=[...x].sort((je,Me)=>je.date.localeCompare(Me.date)),Ne=q.map(je=>je.date),Be=Ne.length>0?new Date(Math.min(...Ne.map(je=>new Date(je).getTime()))):new Date,Z=Ne.length>0?new Date(Math.max(...Ne.map(je=>new Date(je).getTime()))):new Date,pe=Math.ceil((Z.getTime()-Be.getTime())/(1e3*60*60*24))+1,De=Array.from({length:Math.max(pe,7)},(je,Me)=>{const rt=new Date(Be);return rt.setDate(Be.getDate()+Me),rt});return s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("div",{className:"flex mb-2 min-w-max",children:[s.jsx("div",{className:"w-48 flex-shrink-0"}),s.jsx("div",{className:"flex flex-1",children:De.map((je,Me)=>s.jsxs("div",{className:"flex-1 min-w-[60px] text-center border-l border-gray-200 px-1",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:je.getDate()}),s.jsx("div",{className:"text-xs text-gray-500",children:je.toLocaleDateString("pt-BR",{weekday:"short"})})]},Me))})]}),s.jsx("div",{className:"space-y-2",children:q.map(je=>{const Me=new Date(je.date),rt=Math.floor((Me.getTime()-Be.getTime())/(1e3*60*60*24));return s.jsxs("div",{className:"flex items-center hover:bg-gray-50 rounded transition-colors",children:[s.jsxs("div",{className:"w-48 flex-shrink-0 pr-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:je.title}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[s.jsx(Dt,{className:"h-3 w-3"}),s.jsx("span",{children:je.time})]})]}),s.jsxs("div",{className:"flex flex-1 relative h-12",children:[De.map((Pe,fe)=>s.jsx("div",{className:"flex-1 min-w-[60px] border-l border-gray-200"},fe)),s.jsx("div",{className:`absolute h-8 top-2 rounded cursor-pointer ${I(je.type)} hover:opacity-80 transition-opacity`,style:{left:`${rt/De.length*100}%`,width:`${1/De.length*100}%`},onClick:()=>h(je),children:s.jsx("div",{className:"px-2 py-1 text-white text-xs truncate",children:je.title})})]})]},je.id)})}),q.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(GT,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma tarefa para visualizar"})]})]})})},we=()=>{const q=new Date(r);q.setDate(r.getDate()-r.getDay());const Ne=[];for(let Be=0;Be<2;Be++){const Z=new Date(q);Z.setDate(q.getDate()+Be*7);const pe=[];for(let De=0;De<7;De++){const je=new Date(Z);je.setDate(Z.getDate()+De),pe.push(je)}Ne.push(pe)}return s.jsx("div",{className:"space-y-4",children:Ne.map((Be,Z)=>s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:["Semana ",Z+1," - ",Be[0].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})," a ",Be[6].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:["D","S","T","Q","Q","S","S"].map((pe,De)=>s.jsx("div",{className:"p-1 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:pe},`day-${Z}-${De}`))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Be.map((pe,De)=>{const je=k(pe),Me=pe.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>O(pe),className:`min-h-[60px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${Me?"bg-blue-50 border-blue-300":"bg-white"}`,children:[s.jsx("div",{className:`text-xs font-medium mb-1 ${Me?"text-blue-600":"text-gray-900"}`,children:pe.getDate()}),s.jsxs("div",{className:"space-y-1",children:[je.slice(0,1).map(rt=>s.jsx("div",{className:`text-xs p-0.5 rounded text-white truncate ${I(rt.type)}`,children:rt.time},rt.id)),je.length>1&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",je.length-1]})]})]},De)})})]},Z))})};return s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Agenda"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Gerencie seus compromissos"})]}),s.jsx("button",{onClick:()=>{if(!e&&x.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:s.jsx(yt,{className:"h-5 w-5"})})]})}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 gap-1",children:[s.jsxs("button",{onClick:()=>i("calendar"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="calendar"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(lr,{className:"h-3.5 w-3.5"}),"Calendrio"]}),s.jsxs("button",{onClick:()=>i("list"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="list"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(E_,{className:"h-3.5 w-3.5"}),"Lista"]}),s.jsxs("button",{onClick:()=>i("board"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="board"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(noe,{className:"h-3.5 w-3.5"}),"Quadro"]}),s.jsxs("button",{onClick:()=>i("timeline"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="timeline"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(YT,{className:"h-3.5 w-3.5"}),"Linha"]}),s.jsxs("button",{onClick:()=>i("gantt"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="gantt"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(GT,{className:"h-3.5 w-3.5"}),"Gantt"]})]})}),a==="calendar"&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["daily","weekly","biweekly","monthly"].map(q=>s.jsx("button",{onClick:()=>l(q),className:`px-3 py-1.5 rounded-md transition-colors text-xs font-medium ${o===q?"bg-blue-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:q==="daily"?"Dia":q==="weekly"?"Sem":q==="biweekly"?"Quinz":"Ms"},q))})}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Nw,{className:"h-4 w-4"})}),s.jsxs("h2",{className:"text-base font-semibold text-gray-900",children:[C[r.getMonth()]," ",r.getFullYear()]}),s.jsx("button",{onClick:F,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(N2,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a==="calendar"&&s.jsxs(s.Fragment,{children:[o==="monthly"&&V(),o==="weekly"&&de(),o==="biweekly"&&we(),o==="daily"&&le()]}),a==="list"&&ie(),a==="board"&&ue(),a==="timeline"&&ke(),a==="gantt"&&Qe()]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[s.jsx(lr,{className:"h-4 w-4 mr-2"}),a==="calendar"&&"Visualizao em Calendrio com mltiplos perodos",a==="list"&&"Visualizao em Lista organizada por data",a==="board"&&"Visualizao em Quadro Kanban por status",a==="timeline"&&"Visualizao em Linha do Tempo cronolgica",a==="gantt"&&"Visualizao em Grfico de Gantt"]})}),a==="calendar"&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(E_,{className:"h-4 w-4 mr-2 text-blue-500"}),"Compromissos do Ms"]}),s.jsxs("div",{className:"space-y-2",children:[x.filter(q=>{const Ne=new Date(q.date);return Ne.getMonth()===r.getMonth()&&Ne.getFullYear()===r.getFullYear()}).sort((q,Ne)=>new Date(q.date).getTime()-new Date(Ne.date).getTime()).map(q=>s.jsx("div",{onClick:()=>h(q),className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md hover:border-blue-300 transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${I(q.type)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:q.title}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(lr,{className:"h-3 w-3"}),new Date(q.date).toLocaleDateString("pt-BR")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),q.time]}),q.assignedTo&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Mt,{className:"h-3 w-3"}),q.assignedTo]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${D(q.status)}`,children:X(q.status)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${te(q.priority)}`,children:Q(q.priority)})]})]})},q.id)),x.filter(q=>{const Ne=new Date(q.date);return Ne.getMonth()===r.getMonth()&&Ne.getFullYear()===r.getFullYear()}).length===0&&s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(lr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum compromisso neste ms"})]})]})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Dt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Tarefas Pendentes"]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(lr,{className:"h-4 w-4 mr-1 text-blue-500"}),"Hoje (",M().length,")"]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),M().length>0?s.jsx("div",{className:"space-y-2",children:M().map(q=>s.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${I(q.type)}`}),s.jsx("h4",{className:"font-medium text-gray-900",children:q.title})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${te(q.priority)}`,children:Q(q.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${D(q.status)}`,children:X(q.status)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1 text-gray-400"}),q.time]}),q.assignedTo&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1 text-gray-400"}),q.assignedTo]}),q.location&&s.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[s.jsx(ii,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:q.location})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[q.status!=="feito"&&s.jsxs("button",{onClick:()=>R(q.id),className:"px-2 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors text-xs flex items-center",children:[s.jsx(es,{className:"h-3 w-3 mr-1"}),"Concluir"]}),s.jsxs("button",{onClick:()=>h(q),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[s.jsx(Hr,{className:"h-3 w-3 mr-1"}),"Editar"]})]})]},q.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(es,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para hoje"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(lr,{className:"h-4 w-4 mr-1 text-purple-500"}),"Amanh (",j().length,")"]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(v()).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),j().length>0?s.jsx("div",{className:"space-y-2",children:j().map(q=>s.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${I(q.type)}`}),s.jsx("h4",{className:"font-medium text-gray-900",children:q.title})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${te(q.priority)}`,children:Q(q.priority)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1 text-gray-400"}),q.time]}),q.assignedTo&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1 text-gray-400"}),q.assignedTo]}),q.location&&s.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[s.jsx(ii,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:q.location})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>h(q),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[s.jsx(Hr,{className:"h-3 w-3 mr-1"}),"Editar"]}),s.jsxs("button",{onClick:()=>z(q.id),className:"px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-xs flex items-center",children:[s.jsx(Ut,{className:"h-3 w-3 mr-1"}),"Excluir"]})]})]},q.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(es,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para amanh"})]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm flex items-center mx-auto",children:[s.jsx("span",{children:"Ver todas as tarefas"}),s.jsx(ci,{className:"h-4 w-4 ml-1"})]})})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Novo Compromisso"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Adicionar evento  agenda"})]}),s.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ttulo do Compromisso ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:b.title,onChange:q=>N({...b,title:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Reunio com cliente"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Data Incio ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b.date,onChange:q=>N({...b,date:q.target.value,endDate:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hora Incio ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"time",value:b.time,onChange:q=>N({...b,time:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Trmino"}),s.jsx("input",{type:"date",value:b.endDate,onChange:q=>N({...b,endDate:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora Trmino"}),s.jsx("input",{type:"time",value:b.endTime,onChange:q=>N({...b,endTime:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Compromisso"}),s.jsxs("select",{value:b.type,onChange:q=>N({...b,type:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"pessoal",children:"Pessoal"}),s.jsx("option",{value:"networking",children:"Networking"}),s.jsx("option",{value:"financeiro",children:"Financeiro"}),s.jsx("option",{value:"operacional",children:"Operacional"}),s.jsx("option",{value:"cobrar",children:"Cobrar"}),s.jsx("option",{value:"pagar",children:"Pagar"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),s.jsxs("select",{value:b.priority,onChange:q=>N({...b,priority:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"low",children:"Baixa"}),s.jsx("option",{value:"medium",children:"Mdia"}),s.jsx("option",{value:"high",children:"Alta"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),s.jsx("input",{type:"text",value:b.assignedTo,onChange:q=>N({...b,assignedTo:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsvel"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),s.jsx("input",{type:"text",value:b.location,onChange:q=>N({...b,location:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:b.description,onChange:q=>N({...b,description:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Detalhes do compromisso..."})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:H,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(rr,{className:"h-5 w-5"}),"Salvar Compromisso"]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Editar Compromisso"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Atualizar informaes do evento"})]}),s.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),s.jsx("input",{type:"text",value:u.title,onChange:q=>h({...u,title:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do evento"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio"}),s.jsx("input",{type:"date",value:u.date,onChange:q=>h({...u,date:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio de Incio"}),s.jsx("input",{type:"time",value:u.time,onChange:q=>h({...u,time:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),s.jsx("input",{type:"date",value:u.endDate||u.date,onChange:q=>h({...u,endDate:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio de Trmino"}),s.jsx("input",{type:"time",value:u.endTime||u.time,onChange:q=>h({...u,endTime:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:u.type,onChange:q=>h({...u,type:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"pessoal",children:"Pessoal"}),s.jsx("option",{value:"networking",children:"Networking"}),s.jsx("option",{value:"financeiro",children:"Financeiro"}),s.jsx("option",{value:"operacional",children:"Operacional"}),s.jsx("option",{value:"cobrar",children:"Cobrar"}),s.jsx("option",{value:"pagar",children:"Pagar"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),s.jsxs("select",{value:u.priority,onChange:q=>h({...u,priority:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"low",children:"Baixa"}),s.jsx("option",{value:"medium",children:"Mdia"}),s.jsx("option",{value:"high",children:"Alta"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:u.status,onChange:q=>h({...u,status:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"a_fazer",children:"A Fazer"}),s.jsx("option",{value:"em_andamento",children:"Em Andamento"}),s.jsx("option",{value:"feito",children:"Concludo"}),s.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),s.jsx("input",{type:"text",value:u.assignedTo||"",onChange:q=>h({...u,assignedTo:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsvel"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),s.jsx("input",{type:"text",value:u.location||"",onChange:q=>h({...u,location:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:u.description||"",onChange:q=>h({...u,description:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Detalhes do evento"})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsxs("button",{onClick:()=>z(u.id),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Ut,{className:"h-5 w-5"}),"Excluir"]}),s.jsx("button",{onClick:()=>h(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:U,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(rr,{className:"h-5 w-5"}),"Atualizar"]})]})]})})]})},tNe=({onPremiumFeature:t,onEnterpriseFeature:e})=>{const{isPremium:r,isEnterprise:n}=cn(),[a,i]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState(null),[u,h]=B.useState(null),[A,m]=B.useState([{id:1,name:"App Mobile GiarTech",status:"Em Progresso",team:4,deadline:"2024-01-15",progress:75,color:"from-blue-500 to-cyan-500",description:"Desenvolvimento do aplicativo mobile principal da empresa",tasks:[{id:1,title:"Design de interface",completed:!0,dueDate:"2023-12-10"},{id:2,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-20"},{id:3,title:"Integrao com API",completed:!1,dueDate:"2024-01-05"},{id:4,title:"Testes e QA",completed:!1,dueDate:"2024-01-10"},{id:5,title:"Lanamento",completed:!1,dueDate:"2024-01-15"}]},{id:2,name:"Website Corporativo",status:"Concludo",team:3,deadline:"2024-01-10",progress:100,color:"from-green-500 to-emerald-500",description:"Novo site institucional com design moderno",tasks:[{id:1,title:"Wireframes e prottipos",completed:!0,dueDate:"2023-11-15"},{id:2,title:"Design de pginas",completed:!0,dueDate:"2023-11-30"},{id:3,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-15"},{id:4,title:"Desenvolvimento backend",completed:!0,dueDate:"2023-12-30"},{id:5,title:"Testes e lanamento",completed:!0,dueDate:"2024-01-10"}]},{id:3,name:"Sistema de CRM",status:"Planejamento",team:5,deadline:"2024-01-30",progress:25,color:"from-purple-500 to-pink-500",description:"Sistema de gesto de relacionamento com clientes",tasks:[{id:1,title:"Levantamento de requisitos",completed:!0,dueDate:"2023-12-15"},{id:2,title:"Modelagem de dados",completed:!0,dueDate:"2023-12-30"},{id:3,title:"Prototipagem de interface",completed:!1,dueDate:"2024-01-10"},{id:4,title:"Desenvolvimento",completed:!1,dueDate:"2024-01-25"},{id:5,title:"Testes e implantao",completed:!1,dueDate:"2024-01-30"}]}]),[x,g]=B.useState({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),[p,f]=B.useState({title:"",dueDate:""}),y=["from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-purple-500 to-pink-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500","from-yellow-500 to-orange-500"],b=()=>{if(!r&&A.length>=3){t("Projetos Ilimitados");return}if(x.name.trim()){const _={id:Date.now(),name:x.name,status:x.status,team:x.team,deadline:x.deadline,progress:0,color:y[Math.floor(Math.random()*y.length)],description:x.description,tasks:[]};m([...A,_]),g({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),i(!1)}},N=()=>{if(!r&&u&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}if(u&&p.title&&p.dueDate){const _={id:Date.now(),title:p.title,completed:!1,dueDate:p.dueDate},k={...u,tasks:[...u.tasks||[],_]};m(A.map(M=>M.id===u.id?k:M)),h(k),f({title:"",dueDate:""}),l(!1)}},v=(_,k)=>{const M=A.find(j=>j.id===_);if(M&&M.tasks){const j=M.tasks.map(U=>U.id===k?{...U,completed:!U.completed}:U),S=j.filter(U=>U.completed).length,F=j.length,O=F>0?Math.round(S/F*100):0,H={...M,tasks:j,progress:O};m(A.map(U=>U.id===_?H:U)),u&&u.id===_&&h(H)}},C=_=>{window.confirm("Tem certeza que deseja excluir este projeto?")&&(m(A.filter(k=>k.id!==_)),u&&u.id===_&&h(null))},P=()=>{n||e&&e("Anlise Avanada de Projetos")};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Meus Projetos (",A.length,")"]}),s.jsx("p",{className:"text-gray-600",children:"Gerencie todos os seus projetos em um s lugar"})]}),s.jsx("button",{onClick:()=>{if(!r&&A.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:s.jsx(yt,{className:"h-6 w-6"})})]}),!r&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[s.jsx(sb,{className:"h-4 w-4 mr-2"}),"Plano Bsico: Limitado a 3 projetos e 5 tarefas por projeto. Faa upgrade para projetos ilimitados."]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 col-span-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Status dos Projetos"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:A.length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Concludos"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:A.filter(_=>_.progress===100).length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Em Progresso"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:A.filter(_=>_.progress>0&&_.progress<100).length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Planejados"}),s.jsx("p",{className:"text-lg font-bold text-purple-600",children:A.filter(_=>_.progress===0).length})]})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Progresso Mdio"}),s.jsxs("div",{className:"flex flex-col justify-between h-full",children:[s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[Math.round(A.reduce((_,k)=>_+k.progress,0)/(A.length||1)),"%"]})}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.round(A.reduce((_,k)=>_+k.progress,0)/(A.length||1))}%`}})})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Prximos Prazos"}),s.jsx("div",{className:"flex flex-col justify-between h-full",children:s.jsxs("div",{className:"space-y-2",children:[A.filter(_=>_.progress<100).sort((_,k)=>new Date(_.deadline).getTime()-new Date(k.deadline).getTime()).slice(0,2).map(_=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs truncate max-w-[120px]",children:_.name}),s.jsx("span",{className:"text-xs font-medium",children:new Date(_.deadline).toLocaleDateString("pt-BR")})]},_.id)),!n&&s.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500 cursor-pointer hover:text-blue-600",onClick:P,children:[s.jsx("span",{children:"Anlise avanada"}),s.jsx(Pi,{className:"h-3 w-3"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-2 space-y-4",children:s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Todos os Projetos"}),s.jsx("div",{className:"space-y-4",children:A.map((_,k)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>h(_),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${_.color} rounded-lg flex items-center justify-center`,children:s.jsx(sb,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:_.name}),s.jsx("p",{className:"text-xs text-gray-500",children:_.status})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-xs text-gray-500",children:new Date(_.deadline).toLocaleDateString("pt-BR")})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[_.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${_.progress===100?"bg-green-500":_.progress>50?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${_.progress}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Mt,{className:"h-3 w-3"}),s.jsxs("span",{children:[_.team," membros"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Sw,{className:"h-3 w-3"}),s.jsxs("span",{children:[_.tasks?_.tasks.filter(M=>M.completed).length:0,"/",_.tasks?_.tasks.length:0," tarefas"]})]})]})]},_.id))})]})}),s.jsx("div",{className:"md:col-span-1",children:u?s.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${u.color} rounded-lg flex items-center justify-center`,children:s.jsx(sb,{className:"h-5 w-5 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900",children:u.name})]}),s.jsx("button",{onClick:()=>C(u.id),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Descrio"}),s.jsx("p",{className:"text-sm text-gray-700",children:u.description||"Sem descrio"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Prazo"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(u.deadline).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Equipe"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.team," membros"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Progresso"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.progress,"%"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Tarefas"}),s.jsxs("button",{onClick:()=>{if(!r&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}l(!0)},className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[s.jsx(yt,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.tasks&&u.tasks.length>0?u.tasks.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>v(u.id,_.id),className:`w-4 h-4 rounded border flex items-center justify-center ${_.completed?"bg-green-500 border-green-500 text-white":"border-gray-300"}`,children:_.completed&&s.jsx(Sw,{className:"h-3 w-3"})}),s.jsx("span",{className:`text-sm ${_.completed?"line-through text-gray-500":"text-gray-700"}`,children:_.title})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-xs text-gray-500",children:new Date(_.dueDate).toLocaleDateString("pt-BR")})})]},_.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhuma tarefa adicionada"})})]}),!n&&s.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-100 rounded-lg cursor-pointer",onClick:P,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cs,{className:"h-4 w-4 text-purple-600 mr-2"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Anlise avanada de projetos"})]}),s.jsx(Pi,{className:"h-4 w-4 text-purple-600"})]}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Disponvel no plano Enterprise"})]})]})]}):s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(sb,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione um projeto para ver os detalhes"}),s.jsxs("button",{onClick:()=>{if(!r&&A.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"mt-4 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[s.jsx(yt,{className:"h-4 w-4 mr-2 inline"}),"Novo Projeto"]})]})})})]}),s.jsx(lt,{children:a&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Projeto"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Projeto"}),s.jsx("input",{type:"text",value:x.name,onChange:_=>g({...x,name:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o nome do projeto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio"}),s.jsx("textarea",{value:x.description,onChange:_=>g({...x,description:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o projeto"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),s.jsx("input",{type:"date",value:x.deadline,onChange:_=>g({...x,deadline:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipe"}),s.jsx("input",{type:"number",min:"1",value:x.team,onChange:_=>g({...x,team:parseInt(_.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:x.status,onChange:_=>g({...x,status:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Planejamento",children:"Planejamento"}),s.jsx("option",{value:"Em Progresso",children:"Em Progresso"}),s.jsx("option",{value:"Em Reviso",children:"Em Reviso"}),s.jsx("option",{value:"Concludo",children:"Concludo"})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Criar"]})]})]})]})}),s.jsx(lt,{children:o&&u&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nova Tarefa"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projeto"}),s.jsx("input",{type:"text",value:u.name,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo da Tarefa"}),s.jsx("input",{type:"text",value:p.title,onChange:_=>f({...p,title:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o ttulo da tarefa"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:p.dueDate,onChange:_=>f({...p,dueDate:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:N,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]})]})})]})},rNe=()=>{const{user:t,isPremium:e}=cn();return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:(t==null?void 0:t.avatar)||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-2 rounded-full",children:s.jsx(Sx,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${e?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gray-100 text-gray-600"}`,children:e?" Premium":"Bsico"})]}),s.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:s.jsx(ga,{className:"h-5 w-5"})})]})}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informaes Pessoais"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Nome Completo"}),s.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.name})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(ts,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(oa,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),s.jsx("p",{className:"font-medium text-gray-900",children:"(11) 99999-9999"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(ii,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Localizao"}),s.jsx("p",{className:"font-medium text-gray-900",children:"So Paulo, SP"})]})]})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estatsticas da Conta"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Projetos",value:"12",color:"from-blue-500 to-cyan-500"},{label:"Tarefas",value:"48",color:"from-green-500 to-emerald-500"},{label:"Horas",value:"156",color:"from-purple-500 to-pink-500"},{label:"Equipe",value:"8",color:"from-orange-500 to-red-500"}].map((r,n)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${r.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:s.jsx("span",{className:"text-2xl font-bold text-white",children:r.value})}),s.jsx("p",{className:"text-sm text-gray-600",children:r.label})]},r.label))})]})]})};function Xb({title:t,value:e,subtitle:r,icon:n,color:a,trend:i,onClick:o,details:l,externalLink:c}){const[d,u]=B.useState(!1);return s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,translateY:-4},className:`
        bg-white rounded-2xl p-6 shadow-lg border border-gray-100
        transition-all duration-300 cursor-pointer
        ${o?"hover:shadow-2xl":"hover:shadow-xl"}
      `,onClick:o,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${a} rounded-xl flex items-center justify-center shadow-lg`,children:s.jsx(n,{className:"h-7 w-7 text-white"})}),i&&s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg ${i.value>=0?"bg-green-100":"bg-red-100"}`,children:[i.value>=0?s.jsx(pr,{className:"h-4 w-4 text-green-600"}):s.jsx(fo,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{className:`text-xs font-semibold ${i.value>=0?"text-green-700":"text-red-700"}`,children:[Math.abs(i.value),"%"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[t,l&&s.jsx("button",{onClick:h=>{h.stopPropagation(),u(!d)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Qi,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-500",children:r}),i&&s.jsx("p",{className:"text-xs text-gray-500",children:i.label})]}),d&&l&&s.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200 space-y-2",children:l.map((h,A)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:h.label}),s.jsx("span",{className:"font-semibold text-gray-900",children:h.value})]},A))}),c&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("button",{onClick:h=>{h.stopPropagation(),window.open(c,"_blank")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:["Ver detalhes completos",s.jsx(H9,{className:"h-3 w-3"})]})})]})}bh.register(Lm,Um,Xu,po,bm,Iu,og,nj,sj,rj,tj);const CM=()=>{const t=ms(),[e,r]=B.useState(null),[n,a]=B.useState([]),[i,o]=B.useState([]),[l,c]=B.useState(!0),[d,u]=B.useState("month");B.useEffect(()=>{h();const b=setInterval(h,5*60*1e3);return()=>clearInterval(b)},[d]);const h=async()=>{try{c(!0);const{data:b,error:N}=await ae.from("v_cfo_kpis").select("*").maybeSingle();if(N)throw N;const{data:v,error:C}=await ae.from("financial_alerts").select("*").eq("is_active",!0).order("severity",{ascending:!0}).order("created_at",{ascending:!1}).limit(10);if(C)throw C;const{data:P,error:_}=await ae.from("v_customer_intelligence").select("*").order("total_revenue",{ascending:!1}).limit(10);if(_)throw _;console.log("KPIs carregados:",b),r(b),a(v||[]),o(P||[])}catch(b){console.error("Erro ao carregar dados CFO:",b),alert(`Erro ao carregar Dashboard CFO: ${b.message}`)}finally{c(!1)}},A=b=>b?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(b):"R$ 0",m=b=>b==null||isNaN(b)?"0.0%":`${b>=0?"+":""}${b.toFixed(1)}%`,x=b=>{switch(b){case"critical":return"bg-red-100 text-red-800 border-red-300";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"info":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},g=b=>{switch(b){case"critical":return s.jsx(g0,{className:"h-5 w-5 text-red-600"});case"warning":return s.jsx(kr,{className:"h-5 w-5 text-yellow-600"});case"info":return s.jsx(om,{className:"h-5 w-5 text-blue-600"});default:return s.jsx(om,{className:"h-5 w-5"})}},p=b=>{switch(b){case"A":return"bg-green-100 text-green-800 border-green-300";case"B":return"bg-blue-100 text-blue-800 border-blue-300";case"C":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},f=b=>b>=70?{label:"Alto Risco",color:"text-red-600"}:b>=40?{label:"Risco Mdio",color:"text-yellow-600"}:{label:"Baixo Risco",color:"text-green-600"};if(l)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(As,{className:"h-12 w-12 animate-spin text-blue-600"})});A((e==null?void 0:e.total_revenue)||0),`${A((e==null?void 0:e.net_profit)||0)}`,A((e==null?void 0:e.ebitda)||0),`${m((e==null?void 0:e.ebitda_margin)||0)}`,m((e==null?void 0:e.roi_percentage)||0),`${A((e==null?void 0:e.break_even_point)||0)}`,A((e==null?void 0:e.net_working_capital)||0),`${m((e==null?void 0:e.operational_efficiency)||0)}`;const y=[{label:"Margem Bruta",value:(e==null?void 0:e.gross_margin)||0,target:60,color:"rgb(34, 197, 94)"},{label:"Margem Operacional",value:(e==null?void 0:e.operating_margin)||0,target:40,color:"rgb(59, 130, 246)"},{label:"Margem Lquida",value:(e==null?void 0:e.profit_margin)||0,target:30,color:"rgb(168, 85, 247)"},{label:"Margem EBITDA",value:(e==null?void 0:e.ebitda_margin)||0,target:35,color:"rgb(251, 146, 60)"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:s.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard CFO"}),s.jsx("p",{className:"text-gray-600",children:"Inteligncia Financeira Executiva"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:d,onChange:b=>u(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white shadow-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"month",children:"ltimo Ms"}),s.jsx("option",{value:"quarter",children:"ltimo Trimestre"}),s.jsx("option",{value:"year",children:"ltimo Ano"})]}),s.jsxs("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(As,{className:"h-4 w-4"}),"Atualizar"]}),s.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Exportar"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Xb,{title:"Receita Total",value:A((e==null?void 0:e.total_revenue)||0),subtitle:`Lucro: ${A((e==null?void 0:e.net_profit)||0)}`,icon:Yt,color:"from-green-500 to-emerald-600",trend:{value:(e==null?void 0:e.profit_margin)||0,label:"Margem de lucro"},onClick:()=>t("/financeiro"),details:[{label:"Despesas",value:A((e==null?void 0:e.total_expenses)||0)},{label:"Lucro Lquido",value:A((e==null?void 0:e.net_profit)||0)},{label:"Margem",value:m((e==null?void 0:e.profit_margin)||0)}]}),s.jsx(Xb,{title:"EBITDA",value:A((e==null?void 0:e.ebitda)||0),subtitle:`Margem: ${m((e==null?void 0:e.ebitda_margin)||0)}`,icon:pr,color:"from-blue-500 to-cyan-600",trend:{value:(e==null?void 0:e.ebitda_margin)||0,label:"Margem EBITDA"},onClick:()=>t("/financeiro"),details:[{label:"Margem Bruta",value:m((e==null?void 0:e.gross_margin)||0)},{label:"Margem Operacional",value:m((e==null?void 0:e.operating_margin)||0)},{label:"Margem EBITDA",value:m((e==null?void 0:e.ebitda_margin)||0)}]}),s.jsx(Xb,{title:"ROI",value:m((e==null?void 0:e.roi_percentage)||0),subtitle:`Break-even: ${A((e==null?void 0:e.break_even_point)||0)}`,icon:Nd,color:"from-purple-500 to-pink-600",trend:{value:(e==null?void 0:e.roi_percentage)||0,label:"Retorno sobre investimento"},onClick:()=>t("/financeiro"),details:[{label:"Break-even",value:A((e==null?void 0:e.break_even_point)||0)},{label:"Payback",value:`${(e==null?void 0:e.payback_period_days)||0} dias`},{label:"ROI",value:m((e==null?void 0:e.roi_percentage)||0)}]}),s.jsx(Xb,{title:"Capital de Giro",value:A((e==null?void 0:e.net_working_capital)||0),subtitle:`Eficincia: ${m((e==null?void 0:e.operational_efficiency)||0)}`,icon:dd,color:"from-orange-500 to-red-600",trend:{value:(e==null?void 0:e.operational_efficiency)||0,label:"Eficincia operacional"},onClick:()=>t("/financeiro"),details:[{label:"A Receber",value:A((e==null?void 0:e.accounts_receivable)||0)},{label:"A Pagar",value:A((e==null?void 0:e.accounts_payable)||0)},{label:"Capital Lquido",value:A((e==null?void 0:e.net_working_capital)||0)}]})]}),n.length>0&&s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-pink-600 rounded-xl flex items-center justify-center",children:s.jsx(om,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Alertas Financeiros"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," alertas ativos"]})]})]}),s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Ver Todos"})]}),s.jsx("div",{className:"space-y-3",children:n.map(b=>s.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${x(b.severity)}`,children:[g(b.severity),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"font-semibold",children:b.title}),s.jsx("span",{className:"text-xs opacity-70",children:new Date(b.created_at).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"text-sm opacity-90",children:b.description}),s.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs",children:[s.jsxs("span",{children:["Atual: ",A(b.current_value)]}),s.jsxs("span",{children:["Limite: ",A(b.threshold_value)]})]})]})]},b.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Anlise de Margens"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Indicadores de rentabilidade"})]}),s.jsx(Cs,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:y.map(b=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.label}),s.jsx("span",{className:"text-sm font-bold",style:{color:b.color},children:m(b.value)})]}),s.jsxs("div",{className:"relative h-3 bg-gray-100 rounded-full overflow-hidden",children:[s.jsx("div",{className:"absolute h-full transition-all duration-500 rounded-full",style:{width:`${Math.min(b.value/b.target*100,100)}%`,backgroundColor:b.color}}),s.jsx("div",{className:"absolute h-full border-r-2 border-gray-400",style:{left:`${b.target/100*100}%`}})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Meta: ",b.target,"%"]}),s.jsx("span",{className:`text-xs font-medium ${b.value>=b.target?"text-green-600":"text-orange-600"}`,children:b.value>=b.target?"Acima da meta":"Abaixo da meta"})]})]},b.label))})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Sade Financeira"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Indicadores comparativos"})]}),s.jsx(jr,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"h-80",children:s.jsx(Oje,{data:{labels:y.map(b=>b.label),datasets:[{label:"Atual",data:y.map(b=>b.value),backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgb(59, 130, 246)",borderWidth:2,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(59, 130, 246)"},{label:"Meta",data:y.map(b=>b.target),backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgb(34, 197, 94)",borderWidth:2,pointBackgroundColor:"rgb(34, 197, 94)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(34, 197, 94)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:70,ticks:{stepSize:10}}}}})})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:s.jsx(Mt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Inteligncia de Clientes"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Top 10 clientes por receita"})]})]}),s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:"Ver Anlise Completa"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Cliente"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Tipo"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Classificao"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Receita"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Pedidos"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Ticket Mdio"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Score"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Risco"})]})}),s.jsx("tbody",{children:i.map((b,N)=>{const v=f(b.risk_score);return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:N+1}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.customer_name})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:b.customer_type})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold border ${p(b.abc_classification)}`,children:b.abc_classification})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx("span",{className:"text-sm font-bold text-green-600",children:A(b.total_revenue)})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx("span",{className:"text-sm text-gray-900",children:b.total_orders})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx("span",{className:"text-sm text-gray-900",children:A(b.avg_order_value)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-600",style:{width:`${b.credit_score/1e3*100}%`}})}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:b.credit_score})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`text-xs font-medium ${v.color}`,children:v.label})})]},b.customer_id)})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-600 to-emerald-700 rounded-2xl p-6 shadow-lg text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Bt,{className:"h-8 w-8 text-green-200"}),s.jsx("span",{className:"text-sm font-medium text-green-100",children:"Estoque"})]}),s.jsx("h3",{className:"text-3xl font-bold mb-2",children:A((e==null?void 0:e.total_inventory_value)||0)}),s.jsx("p",{className:"text-green-100 text-sm mb-4",children:"Valor Total"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-green-100 mb-1",children:"Lucro Potencial"}),s.jsx("p",{className:"text-lg font-bold",children:A((e==null?void 0:e.potential_profit)||0)})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-green-100 mb-1",children:"Giro"}),s.jsxs("p",{className:"text-lg font-bold",children:[((e==null?void 0:e.inventory_turnover)||0).toFixed(1),"x"]})]})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-600 to-cyan-700 rounded-2xl p-6 shadow-lg text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Mt,{className:"h-8 w-8 text-blue-200"}),s.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Clientes"})]}),s.jsx("h3",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.total_customers)||0}),s.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Total de Clientes"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Pessoa Jurdica"}),s.jsx("p",{className:"text-lg font-bold",children:(e==null?void 0:e.total_customers_pj)||0})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Pessoa Fsica"}),s.jsx("p",{className:"text-lg font-bold",children:(e==null?void 0:e.total_customers_pf)||0})]})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-600 to-pink-700 rounded-2xl p-6 shadow-lg text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(at,{className:"h-8 w-8 text-purple-200"}),s.jsx("span",{className:"text-sm font-medium text-purple-100",children:"Ordens de Servio"})]}),s.jsx("h3",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.total_completed_orders)||0}),s.jsx("p",{className:"text-purple-100 text-sm mb-4",children:"Concludas"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Ticket Mdio"}),s.jsx("p",{className:"text-lg font-bold",children:A((e==null?void 0:e.avg_order_value)||0)})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Em Progresso"}),s.jsx("p",{className:"text-lg font-bold",children:(e==null?void 0:e.orders_in_progress)||0})]})]})]})]})]})})},nNe=()=>{const[t,e]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(""),[o,l]=B.useState(null);B.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:x,error:g}=await ae.from("service_orders").select(`
          *,
          customer:customers(nome_razao, telefone)
        `).order("opened_at",{ascending:!1});if(g)throw g;e(x||[])}catch(x){console.error("Error loading service orders:",x),e([])}finally{n(!1)}},d=[{id:"aberta",title:"Abertas",icon:Rn,color:"bg-yellow-500",borderColor:"border-yellow-400",bgColor:"bg-yellow-50"},{id:"em_andamento",title:"Em Andamento",icon:JE,color:"bg-blue-500",borderColor:"border-blue-400",bgColor:"bg-blue-50"},{id:"concluida",title:"Concludas",icon:es,color:"bg-green-500",borderColor:"border-green-400",bgColor:"bg-green-50"},{id:"cancelada",title:"Canceladas",icon:ud,color:"bg-gray-500",borderColor:"border-gray-400",bgColor:"bg-gray-50"}],u=x=>t.filter(g=>{var N,v,C;const p=g.status||"aberta",f=p===x,y=!a||((N=g.description)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||((C=(v=g.customer)==null?void 0:v.nome_razao)==null?void 0:C.toLowerCase().includes(a.toLowerCase()));return f&&y&&(!o||p===o)}),h=x=>x?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x):"R$ 0,00",A=x=>x?new Date(x).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"No agendado",m=x=>{const g=new Date(x);return Math.floor((new Date().getTime()-g.getTime())/(1e3*60*60*24))};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando ordens de servio..."})]})}):s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(wa,{className:"h-6 w-6 text-blue-500"}),"Ordens de Servio"]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.length," ordens de servio cadastradas"]})]}),s.jsxs("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Nova OS"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrio...",value:a,onChange:x=>i(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(gh,{className:"h-4 w-4"}),"Filtros"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(x=>{const g=u(x.id),p=x.icon;return s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:`${x.bgColor} border-t-4 ${x.borderColor} rounded-t-xl p-3`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(p,{className:`h-5 w-5 ${x.color.replace("bg-","text-")}`}),s.jsx("h3",{className:"font-semibold text-gray-900",children:x.title})]}),s.jsx("span",{className:"bg-white text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:g.length})]})}),s.jsx("div",{className:"flex-1 bg-gray-50 rounded-b-xl p-2 space-y-2 min-h-[400px]",children:g.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Nenhuma ordem"}):g.map(f=>{var y,b;return s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:((y=f.customer)==null?void 0:y.nome_razao)||"Cliente no informado"}),f.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:f.description})]})}),s.jsxs("div",{className:"space-y-1.5",children:[f.scheduled_at&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(lr,{className:"h-3 w-3"}),s.jsx("span",{children:A(f.scheduled_at)})]}),((b=f.customer)==null?void 0:b.telefone)&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(Nr,{className:"h-3 w-3"}),s.jsx("span",{children:f.customer.telefone})]}),f.total_value!==void 0&&f.total_value>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(Yt,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:h(f.total_value)})]})]}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(Dt,{className:"h-3 w-3"}),s.jsxs("span",{children:[m(f.opened_at)," dias aberta"]})]}),s.jsx("div",{className:`w-2 h-2 rounded-full ${x.color}`})]})]},f.id)})})]},x.id)})}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map(x=>{const g=u(x.id),p=g.reduce((f,y)=>f+(y.total_value||0),0);return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${x.color.replace("bg-","text-")}`,children:g.length}),s.jsx("div",{className:"text-sm text-gray-600",children:x.title}),p>0&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:h(p)})]},x.id)})})})]})},sNe=()=>{const t=ms(),[e,r]=B.useState(!0),n=()=>{t("/login")};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 relative overflow-hidden",children:[e&&s.jsx(se.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},onClick:n,className:"absolute top-6 right-6 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors z-20",children:s.jsx(At,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-indigo-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[s.jsx(se.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring",stiffness:100},className:"mb-12",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx(se.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-32 h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-3xl flex items-center justify-center shadow-2xl",children:s.jsx("span",{className:"text-4xl font-bold text-white",children:"GT"})}),s.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,duration:.5},className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-orange-400 rounded-full flex items-center justify-center",children:s.jsx(ah,{className:"h-4 w-4 text-white"})})]})}),s.jsx(se.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"text-5xl md:text-6xl font-bold mb-6",children:s.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"GiarTech"})}),s.jsxs(se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-xl md:text-2xl text-gray-600 mb-12 leading-relaxed",children:["Plataforma empresarial completa para",s.jsx("br",{}),s.jsx("span",{className:"font-semibold text-gray-800",children:"gesto inteligente de projetos"})]}),s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[{icon:di,label:"Rpido",color:"from-yellow-400 to-orange-500"},{icon:jr,label:"Seguro",color:"from-green-400 to-emerald-500"},{icon:Mt,label:"Colaborativo",color:"from-blue-400 to-cyan-500"},{icon:ah,label:"Inteligente",color:"from-purple-400 to-pink-500"}].map((a,i)=>s.jsxs(se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+i*.1,duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/50",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${a.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:s.jsx(a.icon,{className:"h-6 w-6 text-white"})}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.label})]},a.label))}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},className:"flex flex-col items-center space-y-4",children:[s.jsxs(vo,{to:"/login",className:"group inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[s.jsx("span",{className:"mr-3",children:"GIARTECH Gesto Integrada"}),s.jsx(se.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:s.jsx(ci,{className:"h-5 w-5"})})]}),s.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Acessar Plataforma"})]}),s.jsx(se.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.8},className:"text-sm text-gray-500 mt-8",children:"Verso 2.0  Premium Edition"})]})]})},SM=()=>{const{user:t,isPremium:e}=cn(),r=[{title:"Nova Ordem de Servio",description:"Criar uma nova OS rapidamente",icon:wa,color:"from-blue-500 to-cyan-500",path:"/service-orders/create"},{title:"Gesto de Clientes",description:"Adicionar ou editar clientes",icon:Mt,color:"from-green-500 to-emerald-500",path:"/client-management"},{title:"Controle de Estoque",description:"Verificar materiais disponveis",icon:Bt,color:"from-purple-500 to-pink-500",path:"/inventory"},{title:"Relatrios Financeiros",description:"Acompanhar receitas e despesas",icon:Yt,color:"from-orange-500 to-red-500",path:"/financial"},{title:"Agenda de Trabalho",description:"Organizar compromissos",icon:lr,color:"from-indigo-500 to-purple-500",path:"/calendar"},{title:"Chat da Equipe",description:"Comunicar com a equipe",icon:Cw,color:"from-teal-500 to-cyan-500",path:"/chat"}],n=[{action:"OS criada",item:"OS-2024-001 - Joo Silva",time:"2 horas atrs",icon:wa,color:"text-blue-500"},{action:"Cliente adicionado",item:"Empresa ABC Ltda",time:"4 horas atrs",icon:Mt,color:"text-green-500"},{action:"Estoque atualizado",item:"Ar Condicionado Split 12.000 BTUs",time:"1 dia atrs",icon:Bt,color:"text-purple-500"},{action:"Pagamento recebido",item:"R$ 850,00 - OS-2024-003",time:"2 dias atrs",icon:Yt,color:"text-green-500"}],a=[{title:"Ordens Ativas",value:"8",icon:wa,color:"from-blue-500 to-cyan-500"},{title:"Clientes Cadastrados",value:"24",icon:Mt,color:"from-green-500 to-emerald-500"},{title:"Itens em Estoque",value:"156",icon:Bt,color:"from-purple-500 to-pink-500"},{title:"Faturamento Mensal",value:"R$ 15.850",icon:Yt,color:"from-orange-500 to-red-500"}];return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Bem-vindo, ",t==null?void 0:t.name,"! "]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie seu negcio de forma inteligente e eficiente"})]}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(di,{className:"h-12 w-12 text-white"})})})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ca,{className:"h-5 w-5 text-green-300"}),s.jsx("span",{className:"text-sm",children:"Sistema Online"})]})}),s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{className:"h-5 w-5 text-blue-300"}),s.jsx("span",{className:"text-sm",children:"Dados Seguros"})]})}),s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(x0,{className:"h-5 w-5 text-purple-300"}),s.jsx("span",{className:"text-sm",children:"Acesso Remoto"})]})})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((i,o)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center`,children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:i.value}),s.jsx("p",{className:"text-gray-600",children:i.title})]},i.title))}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Aes Rpidas"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((i,o)=>s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+o*.1},children:s.jsxs(vo,{to:i.path,className:"block p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:i.description}),s.jsxs("div",{className:"flex items-center text-blue-600 group-hover:text-blue-700",children:[s.jsx("span",{className:"text-sm font-medium",children:"Acessar"}),s.jsx(ci,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},i.title))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Atividade Recente"}),s.jsx("div",{className:"space-y-4",children:n.map((i,o)=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(i.icon,{className:`h-5 w-5 ${i.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.action}),s.jsx("p",{className:"text-sm text-gray-600",children:i.item})]}),s.jsx("span",{className:"text-xs text-gray-500",children:i.time})]},o))})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Status do Sistema"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ca,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Todos os Servios"})]}),s.jsx("span",{className:"text-green-600 font-medium",children:"Operacional"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Dt,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"ltima Sincronizao"})]}),s.jsx("span",{className:"text-blue-600 font-medium",children:"Agora"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ms,{className:"h-5 w-5 text-purple-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Plano Atual"})]}),s.jsx("span",{className:"text-purple-600 font-medium",children:e?"Premium":"Bsico"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(vo,{to:"/departmental-dashboard",className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 px-4 rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[s.jsx(Cs,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Ver Dashboard Completo"}),s.jsx(ci,{className:"h-4 w-4 ml-2"})]})})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-8 border border-indigo-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Dicas Rpidas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(di,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Automatizao"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Use o sistema integrado para automatizar processos e economizar tempo"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(pr,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Produtividade"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhe mtricas de desempenho no Dashboard Departamental"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(jr,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Segurana"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seus dados esto protegidos com criptografia de ponta a ponta"})]})]})]})]})},aNe=()=>{const t=[{icon:Nd,title:"Foco no Cliente",description:"Colocamos as necessidades dos nossos clientes no centro de tudo que fazemos."},{icon:YE,title:"Excelncia",description:"Buscamos sempre a mais alta qualidade em cada projeto que desenvolvemos."},{icon:Mt,title:"Colaborao",description:"Trabalhamos em parceria com nossos clientes para alcanar os melhores resultados."},{icon:zie,title:"Paixo",description:"Amamos o que fazemos e isso se reflete na qualidade das nossas solues."}];return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Sobre a ",s.jsx("span",{className:"text-accent-300",children:"GiarTech"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Somos uma empresa de tecnologia apaixonada por criar solues inovadoras que transformam negcios e conectam pessoas"})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs(se.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Nossa Histria"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Fundada em 2020, a GiarTech nasceu da viso de democratizar o acesso  tecnologia de qualidade. Comeamos como uma pequena startup com grandes sonhos e hoje somos uma referncia em desenvolvimento de solues digitais."}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Nossa jornada  marcada pela constante busca por inovao e pela dedicao em entregar resultados excepcionais para nossos clientes. Cada projeto  uma oportunidade de superar expectativas e criar valor real."}),s.jsx("p",{className:"text-lg text-gray-600",children:"Hoje, orgulhamo-nos de ter uma equipe talentosa e diversificada, unida pela paixo por tecnologia e pelo compromisso com a excelncia."})]}),s.jsxs(se.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"relative",children:[s.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Equipe trabalhando",className:"rounded-lg shadow-xl"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary-600/20 to-accent-600/20 rounded-lg"})]})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nossos Valores"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Os princpios que guiam nossa empresa e definem nossa cultura organizacional"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 text-center group hover:-translate-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-full mb-6 group-hover:bg-primary-600 transition-colors duration-300",children:s.jsx(e.icon,{className:"h-8 w-8 text-primary-600 group-hover:text-white transition-colors duration-300"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.description})]},e.title))})]})}),s.jsx("section",{className:"py-20 gradient-bg",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Nossos Nmeros"}),s.jsx("p",{className:"text-xl text-gray-200",children:"Resultados que comprovam nossa dedicao e competncia"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{number:"100+",label:"Projetos Entregues"},{number:"50+",label:"Clientes Satisfeitos"},{number:"4+",label:"Anos de Experincia"},{number:"24/7",label:"Suporte Disponvel"}].map((e,r)=>s.jsxs(se.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-accent-300 mb-2",children:e.number}),s.jsx("div",{className:"text-lg text-gray-200",children:e.label})]},e.label))})]})})]})},iNe=()=>{const t=[{icon:uie,title:"Desenvolvimento Web",description:"Criamos sites e aplicaes web modernas, responsivas e otimizadas.",features:["React/Next.js","Vue.js/Nuxt.js","Node.js/Express","TypeScript"],color:"from-blue-500 to-cyan-500"},{icon:ZE,title:"Desenvolvimento Mobile",description:"Apps nativos e hbridos para iOS e Android com performance superior.",features:["React Native","Flutter","Swift/Kotlin","Ionic"],color:"from-purple-500 to-pink-500"},{icon:x0,title:"Solues Cloud",description:"Infraestrutura escalvel e segura na nuvem para seu negcio.",features:["AWS/Azure","Docker/Kubernetes","CI/CD","Microservios"],color:"from-green-500 to-teal-500"},{icon:Tm,title:"Banco de Dados",description:"Design e otimizao de bancos de dados para mxima performance.",features:["PostgreSQL","MongoDB","Redis","Elasticsearch"],color:"from-orange-500 to-red-500"},{icon:jr,title:"Segurana Digital",description:"Implementao de medidas de segurana robustas e auditoria.",features:["Pentesting","LGPD/GDPR","SSL/TLS","Firewall"],color:"from-indigo-500 to-purple-500"},{icon:di,title:"Otimizao",description:"Melhoria de performance e otimizao de aplicaes existentes.",features:["Performance","SEO","Core Web Vitals","Monitoring"],color:"from-yellow-500 to-orange-500"}];return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Nossos ",s.jsx("span",{className:"text-accent-300",children:"Servios"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Oferecemos solues tecnolgicas completas para transformar sua viso em realidade digital"})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,r)=>s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 group hover:-translate-y-2 relative overflow-hidden",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br ${e.color} rounded-full mb-6`,children:s.jsx(e.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),s.jsx("div",{className:"space-y-2 mb-6",children:e.features.map(n=>s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full mr-2"}),n]},n))}),s.jsxs("button",{className:"flex items-center text-primary-600 font-medium group-hover:text-primary-700 transition-colors duration-200",children:["Saiba mais",s.jsx(ci,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},e.title))})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nosso Processo"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Uma metodologia comprovada para entregar resultados excepcionais"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"01",title:"Descoberta",description:"Entendemos suas necessidades e objetivos de negcio."},{step:"02",title:"Planejamento",description:"Criamos uma estratgia detalhada e cronograma do projeto."},{step:"03",title:"Desenvolvimento",description:"Implementamos a soluo com as melhores prticas."},{step:"04",title:"Entrega",description:"Testamos, otimizamos e entregamos o projeto finalizado."}].map((e,r)=>s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 text-primary-600 rounded-full text-xl font-bold mb-4",children:e.step}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.description})]},e.step))})]})}),s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Pronto para comear seu projeto?"}),s.jsx("p",{className:"text-xl text-gray-200 mb-8 max-w-2xl mx-auto",children:"Entre em contato conosco e vamos discutir como podemos ajudar a transformar sua ideia em realidade"}),s.jsxs("button",{className:"btn-primary inline-flex items-center",children:["Solicitar Oramento",s.jsx(ci,{className:"ml-2 h-5 w-5"})]})]})})})]})},oNe=()=>{const[t,e]=B.useState({name:"",email:"",subject:"",message:""}),r=a=>{a.preventDefault(),console.log("Form submitted:",t),alert("Mensagem enviada com sucesso! Entraremos em contato em breve."),e({name:"",email:"",subject:"",message:""})},n=a=>{e({...t,[a.target.name]:a.target.value})};return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Entre em ",s.jsx("span",{className:"text-accent-300",children:"Contato"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Estamos prontos para transformar sua ideia em realidade. Vamos conversar sobre seu prximo projeto!"})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs(se.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Vamos conversar"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Nossa equipe est sempre disponvel para discutir seu projeto e encontrar a melhor soluo para suas necessidades."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(ts,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),s.jsx("p",{className:"text-gray-600",children:"contato@giartech.com"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Respondemos em at 24 horas"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(oa,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telefone"}),s.jsx("p",{className:"text-gray-600",children:"(11) 99999-9999"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Seg - Sex, 9h s 18h"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(ii,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Localizao"}),s.jsx("p",{className:"text-gray-600",children:"So Paulo, SP"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Atendimento remoto e presencial"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(Dt,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Horrio"}),s.jsx("p",{className:"text-gray-600",children:"Segunda a Sexta: 9h - 18h"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Suporte 24/7 para clientes"})]})]})]})]}),s.jsxs(se.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"card p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(dm,{className:"h-6 w-6 text-primary-600 mr-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Envie uma mensagem"})]}),s.jsxs("form",{onSubmit:r,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome completo"}),s.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Seu nome completo"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"seu@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Assunto"}),s.jsxs("select",{id:"subject",name:"subject",value:t.subject,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[s.jsx("option",{value:"",children:"Selecione um assunto"}),s.jsx("option",{value:"desenvolvimento-web",children:"Desenvolvimento Web"}),s.jsx("option",{value:"desenvolvimento-mobile",children:"Desenvolvimento Mobile"}),s.jsx("option",{value:"consultoria",children:"Consultoria em TI"}),s.jsx("option",{value:"suporte",children:"Suporte Tcnico"}),s.jsx("option",{value:"outros",children:"Outros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),s.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 resize-none",placeholder:"Conte-nos sobre seu projeto ou dvida..."})]}),s.jsxs("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center",children:["Enviar Mensagem",s.jsx(ja,{className:"ml-2 h-5 w-5"})]})]})]})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Perguntas Frequentes"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Respostas para as dvidas mais comuns sobre nossos servios"})]}),s.jsx("div",{className:"space-y-6",children:[{question:"Quanto tempo leva para desenvolver um projeto?",answer:"O tempo varia conforme a complexidade do projeto. Projetos simples podem levar de 2-4 semanas, enquanto aplicaes mais complexas podem levar de 2-6 meses. Sempre fornecemos um cronograma detalhado aps a anlise inicial."},{question:"Vocs oferecem suporte aps a entrega?",answer:"Sim! Oferecemos suporte tcnico e manuteno contnua para todos os nossos projetos. Temos diferentes planos de suporte para atender s necessidades especficas de cada cliente."},{question:"Como funciona o processo de oramento?",answer:"Aps o primeiro contato, agendamos uma reunio para entender suas necessidades. Com base nisso, elaboramos uma proposta detalhada com escopo, cronograma e valores. O oramento  sempre gratuito e sem compromisso."},{question:"Trabalham com quais tecnologias?",answer:"Trabalhamos com as principais tecnologias do mercado: React, Vue.js, Node.js, Python, React Native, Flutter, AWS, Azure, e muitas outras. Sempre escolhemos a melhor tecnologia para cada projeto especfico."}].map((a,i)=>s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0},className:"card p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:a.question}),s.jsx("p",{className:"text-gray-600",children:a.answer})]},i))})]})})]})},lNe=({isOpen:t,feature:e,onClose:r})=>{const n=[{icon:Cs,title:"Analytics Avanados",description:"Relatrios detalhados e insights em tempo real"},{icon:Mt,title:"Colaborao Ilimitada",description:"Adicione quantos membros quiser ao seu time"},{icon:jr,title:"Segurana Enterprise",description:"Criptografia avanada e backup automtico"},{icon:di,title:"Automaes",description:"Fluxos de trabalho automatizados e integraes"}],a=[{name:"Bsico",price:"Grtis",features:["At 5 ordens de servio","Gesto bsica de estoque","Catlogo de servios limitado","Suporte por email","Acesso a 1 usurio","Backup manual","Relatrios bsicos"],current:!0},{name:"Premium",price:"R$ 99,00/ms",features:["Ordens de servio ilimitadas","Gesto completa de estoque","Catlogo de servios completo","Suporte prioritrio","At 5 usurios","Backup automtico","Analytics avanados","Personalizao visual","Modo offline no app","Integraes bsicas"],popular:!0},{name:"Enterprise",price:"R$ 200,00/ms",features:["Tudo do Premium","Usurios ilimitados","API de integrao","Suporte dedicado 24/7","SLA garantido","Dashboards personalizados","Gesto financeira avanada","Controle de acesso granular","Monitoramento em tempo real","Relatrios customizados","Treinamento da equipe","Ambiente de homologao"]}];return s.jsx(lt,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white rounded-t-3xl",children:[s.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(At,{className:"h-6 w-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(Sx,{className:"h-8 w-8 text-yellow-300"})}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Recurso Premium"}),s.jsx("p",{className:"text-blue-100",children:e?`"${e}" est disponvel apenas no plano Premium`:"Desbloqueie todo o potencial da plataforma"})]})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"O que voc ganha com o Premium"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((i,o)=>s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*o},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]})]},i.title))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Escolha seu plano"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((i,o)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*o},className:`relative p-6 rounded-2xl border-2 transition-all duration-200 ${i.popular?"border-blue-500 bg-gradient-to-b from-blue-50 to-purple-50 shadow-lg scale-105":i.current?"border-gray-300 bg-gray-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:[i.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center",children:[s.jsx(Ms,{className:"h-4 w-4 mr-1"}),"Mais Popular"]})}),i.current&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"bg-gray-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Plano Atual"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:i.name}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:i.price})]}),s.jsx("ul",{className:"space-y-3 mb-6",children:i.features.map((l,c)=>s.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Mr,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),l]},c))}),s.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${i.current?"bg-gray-300 text-gray-500 cursor-not-allowed":i.popular?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-900 text-white hover:bg-gray-800"}`,disabled:i.current,children:i.current?"Plano Atual":"Fazer Upgrade"})]},i.name))})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(se.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Comear Teste Grtis de 14 dias"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Sem compromisso  Cancele a qualquer momento"})]})]})]})]})})},cNe=({feature:t})=>{const[e,r]=B.useState(!0);return e?s.jsx(lt,{children:s.jsx(se.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"fixed bottom-20 left-0 right-0 z-30 px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"relative p-4 md:p-6",children:[s.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 p-1 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:s.jsx(At,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[s.jsx("div",{className:"mb-4 md:mb-0 md:mr-6 flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Sx,{className:"h-6 w-6 text-yellow-300"})})}),s.jsxs("div",{className:"text-center md:text-left flex-1 md:mr-6",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t?`Desbloqueie "${t}" com o plano Premium!`:"Atualize para o plano Premium!"}),s.jsx("p",{className:"text-white/80 text-sm",children:"Acesse recursos avanados, usurios ilimitados e suporte prioritrio por apenas R$49,90/ms."})]}),s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsxs(vo,{to:"/pricing",className:"inline-flex items-center px-4 py-2 bg-white text-blue-600 font-medium rounded-lg hover:bg-blue-50 transition-colors",children:[s.jsx(Ms,{className:"h-4 w-4 mr-2 text-yellow-500"}),s.jsx("span",{children:"Ver Planos"}),s.jsx(ci,{className:"h-4 w-4 ml-2"})]})})]})]}),s.jsx("div",{className:"h-1 bg-white/20",children:s.jsx(se.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-300",initial:{width:0},animate:{width:"100%"},transition:{duration:10,ease:"linear"},onAnimationComplete:()=>r(!1)})})]})})})}):null},dNe=({isOpen:t,feature:e,onClose:r})=>{const n=[{icon:Cs,title:"Analytics Avanados",description:"Relatrios detalhados, dashboards personalizados e anlise preditiva"},{icon:Mt,title:"Usurios Ilimitados",description:"Adicione toda sua equipe sem limites ou custos adicionais"},{icon:jr,title:"Segurana Enterprise",description:"Criptografia avanada, autenticao em dois fatores e logs de auditoria"},{icon:di,title:"Integraes Avanadas",description:"API personalizada e conexo com sistemas ERP, CRM e contbeis"}];return s.jsx(lt,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-white rounded-t-2xl",children:[s.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(At,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(Pi,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Recurso Enterprise"}),s.jsx("p",{className:"text-purple-100",children:e?`"${e}" est disponvel apenas no plano Enterprise`:"Desbloqueie recursos avanados com o plano Enterprise"})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"O que voc ganha com o Enterprise"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map((a,i)=>s.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*i},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:s.jsx(a.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:a.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})]},a.title))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Benefcios Exclusivos"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Ms,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Gerente de conta dedicado"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Ms,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Suporte 24/7 por telefone, email e chat"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Ms,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"SLA garantido com 99.9% de uptime"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Ms,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Treinamento personalizado para sua equipe"]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs(vo,{to:"/pricing",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:[s.jsx(Sx,{className:"h-5 w-5 mr-2 text-yellow-300"}),"Ver Plano Enterprise"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Entre em contato para uma demonstrao personalizada"})]})]})]})]})})},uNe=()=>{const t=ms();return B.useEffect(()=>{t("/",{replace:!0})},[t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",children:s.jsxs("div",{className:"text-white text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),s.jsx("p",{className:"mt-4 text-lg",children:"Carregando sistema..."})]})})},hNe=()=>{var _,k,M;const{isAdmin:t}=cn(),[e,r]=B.useState([{id:"1",code:"0000",role:"admin",createdAt:"2024-01-15T10:00:00",expiresAt:"2099-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Admin Demo",usedAt:"2024-01-15T10:05:00",isUniversal:!0},{id:"2",code:"234567",role:"technician",createdAt:"2024-01-16T11:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Carlos Tcnico",usedAt:"2024-01-16T14:20:00"},{id:"3",code:"345678",role:"technician",createdAt:"2024-01-17T09:15:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Ana Tcnica",usedAt:"2024-01-17T10:45:00"},{id:"4",code:"456789",role:"external",createdAt:"2024-01-18T14:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Joo Externo",usedAt:"2024-01-19T08:10:00"},{id:"5",code:"567890",role:"technician",createdAt:"2024-01-20T16:45:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!1}]),[n,a]=B.useState(!1),[i,o]=B.useState(!1),[l,c]=B.useState(null),[d,u]=B.useState({role:"technician",expiresAt:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),[h,A]=B.useState(null),[m,x]=B.useState("all"),g=e.filter(j=>m==="all"?!0:m==="used"?j.isUsed:m==="unused"?!j.isUsed:m==="admin"||m==="technician"||m==="external"?j.role===m:!0),p=()=>Math.floor(1e5+Math.random()*9e5).toString(),f=()=>{const j={id:Date.now().toString(),code:p(),role:d.role,createdAt:new Date().toISOString(),expiresAt:new Date(d.expiresAt+"T23:59:59").toISOString(),createdBy:"Admin Demo",isUsed:!1};r([...e,j]),a(!1),A(j.id),setTimeout(()=>{h===j.id&&A(null)},3e3)},y=()=>{l&&(r(e.map(j=>j.id===l.id?l:j)),o(!1),c(null))},b=(j,S)=>{navigator.clipboard.writeText(j).then(()=>{A(S),setTimeout(()=>{h===S&&A(null)},3e3)})},N=j=>{const S=e.find(F=>F.id===j);if(S!=null&&S.isUniversal){alert("O cdigo universal no pode ser excludo.");return}confirm("Tem certeza que deseja excluir este cdigo de acesso?")&&r(e.filter(F=>F.id!==j))},v=j=>{const S=e.find(F=>F.id===j);if(S!=null&&S.isUniversal){c(S),o(!0);return}r(e.map(F=>F.id===j?{...F,code:p(),isUsed:!1,usedBy:void 0,usedAt:void 0}:F))},C=j=>new Date(j).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),P=j=>new Date(j)<new Date;return t?s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cdigos de Acesso"}),s.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Cdigo"})]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 shadow-md border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(cm,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cdigo Universal"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Cdigo de acesso principal para administradores"})]})]}),s.jsxs("button",{onClick:()=>{const j=e.find(S=>S.isUniversal);j&&(c(j),o(!0))},className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(ga,{className:"h-3 w-3"}),s.jsx("span",{children:"Alterar"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(jr,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-mono font-bold text-lg text-gray-900 mr-2",children:((_=e.find(j=>j.isUniversal))==null?void 0:_.code)||"0000"}),s.jsx("button",{onClick:()=>{const j=e.find(S=>S.isUniversal);j&&b(j.code,j.id)},className:`p-1 rounded-md transition-colors ${h===((k=e.find(j=>j.isUniversal))==null?void 0:k.id)?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar cdigo",children:h===((M=e.find(j=>j.isUniversal))==null?void 0:M.id)?s.jsx(Mr,{className:"h-4 w-4"}):s.jsx(Wl,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Acesso administrativo com permisses completas"})]})]}),s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:"Universal"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg transition-colors ${m==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),s.jsx("button",{onClick:()=>x("unused"),className:`px-4 py-2 rounded-lg transition-colors ${m==="unused"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"No Utilizados"}),s.jsx("button",{onClick:()=>x("used"),className:`px-4 py-2 rounded-lg transition-colors ${m==="used"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Utilizados"}),s.jsx("button",{onClick:()=>x("admin"),className:`px-4 py-2 rounded-lg transition-colors ${m==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Administradores"}),s.jsx("button",{onClick:()=>x("technician"),className:`px-4 py-2 rounded-lg transition-colors ${m==="technician"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tcnicos"}),s.jsx("button",{onClick:()=>x("external"),className:`px-4 py-2 rounded-lg transition-colors ${m==="external"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Externos"})]})}),s.jsx("div",{className:"space-y-4",children:g.filter(j=>!j.isUniversal).length>0?g.filter(j=>!j.isUniversal).map((j,S)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.05},className:`bg-white rounded-xl p-6 shadow-md border ${j.isUsed?P(j.expiresAt)?"border-red-200":"border-yellow-200":P(j.expiresAt)?"border-red-200":"border-green-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${j.role==="admin"?"bg-purple-100":j.role==="technician"?"bg-blue-100":"bg-orange-100"}`,children:s.jsx(cm,{className:`h-6 w-6 ${j.role==="admin"?"text-purple-600":j.role==="technician"?"text-blue-600":"text-orange-600"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mr-2",children:j.code}),s.jsx("button",{onClick:()=>b(j.code,j.id),className:`p-1 rounded-md transition-colors ${h===j.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar cdigo",children:h===j.id?s.jsx(Mr,{className:"h-4 w-4"}):s.jsx(Wl,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:j.role==="admin"?"Administrador":j.role==="technician"?"Tcnico":"Funcionrio Externo"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:j.isUsed?s.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Utilizado"}):P(j.expiresAt)?s.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Expirado"}):s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Disponvel"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(lr,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Criado em:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:C(j.createdAt)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(lr,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Expira em:"})]}),s.jsx("p",{className:`text-sm font-medium ${P(j.expiresAt)?"text-red-600":"text-gray-900"}`,children:C(j.expiresAt)})]}),j.isUsed&&j.usedBy&&j.usedAt&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(Nr,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Utilizado por:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.usedBy})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(Dt,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Utilizado em:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:C(j.usedAt)})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[!j.isUsed&&s.jsxs("button",{onClick:()=>v(j.id),className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(As,{className:"h-3 w-3"}),s.jsx("span",{children:"Regenerar"})]}),s.jsxs("button",{onClick:()=>N(j.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Ut,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},j.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(cm,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum cdigo encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos cdigos de acesso com os filtros selecionados."}),s.jsx("button",{onClick:()=>x("all"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(lt,{children:n&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Cdigo de Acesso"}),s.jsx("button",{onClick:()=>a(!1),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Acesso"}),s.jsxs("select",{value:d.role,onChange:j=>u({...d,role:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Tcnico"}),s.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Expirao"}),s.jsx("input",{type:"date",value:d.expiresAt,onChange:j=>u({...d,expiresAt:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[s.jsx(jr,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Informaes de Segurana"})]}),s.jsx("p",{className:"text-sm text-blue-600",children:"O cdigo ser gerado automaticamente e poder ser copiado aps a criao. Compartilhe-o de forma segura com o usurio."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Gerar Cdigo"})]})]})]})}),s.jsx(lt,{children:i&&l&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{o(!1),c(null)},className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Alterar Cdigo Universal"}),s.jsx("button",{onClick:()=>{o(!1),c(null)},children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Novo Cdigo Universal"}),s.jsx("input",{type:"text",value:l.code,onChange:j=>c({...l,code:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o novo cdigo",maxLength:6,required:!0}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"O cdigo universal deve ter no mximo 6 dgitos"})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-yellow-700 mb-2",children:[s.jsx(jr,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Ateno"})]}),s.jsx("p",{className:"text-sm text-yellow-600",children:"Alterar o cdigo universal afetar o acesso de todos os administradores. Certifique-se de comunicar o novo cdigo a todos os usurios relevantes."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{o(!1),c(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(rr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6",children:[s.jsx(jr,{className:"h-16 w-16 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Restrito"}),s.jsx("p",{className:"text-gray-600 text-center",children:"Esta rea  restrita a administradores do sistema."})]})},ANe=()=>{const[t,e]=B.useState("monthly"),[r,n]=B.useState(!1),a=[{name:"Bsico",description:"Para pequenos negcios e profissionais autnomos",price:{monthly:0,annual:0},features:["At 50 ordens de servio por ms","At 3 usurios","Gesto bsica de estoque","Catlogo de servios","Relatrios bsicos","Suporte por email"],limitations:["Sem integrao financeira","Sem contratos de manuteno","Sem personalizao visual","Sem acesso offline"],cta:"Comear Grtis",color:"gray"},{name:"Premium",description:"Para empresas em crescimento que precisam de mais recursos",price:{monthly:49.9,annual:44.9},features:["Ordens de servio ilimitadas","At 10 usurios","Gesto avanada de estoque","Catlogo de servios completo","Contratos de manuteno","Integrao financeira","Relatrios avanados","Personalizao visual","Acesso offline","Suporte prioritrio"],limitations:["Sem API personalizada","Sem SLA garantido"],cta:"Assinar Premium",color:"blue",popular:!0},{name:"Enterprise",description:"Para grandes empresas com necessidades complexas",price:{monthly:99.9,annual:89.9},features:["Tudo do plano Premium","Usurios ilimitados","API personalizada","Integraes avanadas","Anlise de dados avanada","Monitoramento em tempo real","Suporte 24/7","Gerente de conta dedicado","SLA garantido","Treinamento personalizado"],cta:"Fale com Vendas",color:"purple"}],i=[{category:"Ordens de Servio",features:[{name:"Criao de OS",basic:!0,premium:!0,enterprise:!0},{name:"Atribuio de tcnicos",basic:!0,premium:!0,enterprise:!0},{name:"Anexo de fotos",basic:!0,premium:!0,enterprise:!0},{name:"Histrico de status",basic:!0,premium:!0,enterprise:!0},{name:"OS ilimitadas",basic:!1,premium:!0,enterprise:!0},{name:"Modelos personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Assinatura digital",basic:!1,premium:!0,enterprise:!0},{name:"Automao de fluxo",basic:!1,premium:!1,enterprise:!0}]},{category:"Clientes",features:[{name:"Cadastro bsico",basic:!0,premium:!0,enterprise:!0},{name:"Histrico de servios",basic:!0,premium:!0,enterprise:!0},{name:"Cadastro PF/PJ",basic:!1,premium:!0,enterprise:!0},{name:"Contratos de manuteno",basic:!1,premium:!0,enterprise:!0},{name:"SLA personalizado",basic:!1,premium:!1,enterprise:!0},{name:"Portal do cliente",basic:!1,premium:!1,enterprise:!0}]},{category:"Estoque",features:[{name:"Controle bsico",basic:!0,premium:!0,enterprise:!0},{name:"Baixa automtica",basic:!1,premium:!0,enterprise:!0},{name:"Alertas de estoque mnimo",basic:!1,premium:!0,enterprise:!0},{name:"Mltiplos depsitos",basic:!1,premium:!1,enterprise:!0},{name:"Gesto de fornecedores",basic:!1,premium:!0,enterprise:!0}]},{category:"Financeiro",features:[{name:"Faturamento bsico",basic:!0,premium:!0,enterprise:!0},{name:"Integrao com OS",basic:!1,premium:!0,enterprise:!0},{name:"Relatrios financeiros",basic:!1,premium:!0,enterprise:!0},{name:"Integrao bancria",basic:!1,premium:!1,enterprise:!0},{name:"Fluxo de caixa avanado",basic:!1,premium:!1,enterprise:!0}]},{category:"Relatrios",features:[{name:"Relatrios bsicos",basic:!0,premium:!0,enterprise:!0},{name:"Exportao PDF/Excel",basic:!1,premium:!0,enterprise:!0},{name:"Dashboards personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Business Intelligence",basic:!1,premium:!1,enterprise:!0},{name:"Anlise preditiva",basic:!1,premium:!1,enterprise:!0}]},{category:"Suporte",features:[{name:"Suporte por email",basic:!0,premium:!0,enterprise:!0},{name:"Suporte prioritrio",basic:!1,premium:!0,enterprise:!0},{name:"Suporte 24/7",basic:!1,premium:!1,enterprise:!0},{name:"Gerente de conta",basic:!1,premium:!1,enterprise:!0},{name:"SLA garantido",basic:!1,premium:!1,enterprise:!0},{name:"Treinamento personalizado",basic:!1,premium:!1,enterprise:!0}]}];return s.jsx("div",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx(se.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-gray-900 mb-4",children:"Planos e Preos"}),s.jsx(se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Escolha o plano ideal para o seu negcio e comece a otimizar sua gesto de servios hoje mesmo"}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"mt-8 inline-flex items-center bg-gray-100 p-1 rounded-full",children:[s.jsx("button",{onClick:()=>e("monthly"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="monthly"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Mensal"}),s.jsxs("button",{onClick:()=>e("annual"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="annual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Anual ",s.jsx("span",{className:"text-green-600 font-bold",children:"-10%"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:a.map((o,l)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+l*.1,duration:.6},className:`relative rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${o.popular?"border-2 border-blue-500 transform md:-translate-y-4 hover:shadow-2xl":"border border-gray-200 hover:shadow-xl"}`,children:[o.popular&&s.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-blue-500 to-purple-500 text-white py-2 text-center text-sm font-bold",children:"MAIS POPULAR"}),s.jsxs("div",{className:`p-8 ${o.popular?"pt-14":"pt-8"}`,children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:o.name}),s.jsx("p",{className:"text-gray-600 mb-6 h-12",children:o.description}),s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"text-4xl font-bold text-gray-900",children:o.price[t]===0?"Grtis":`R$${o.price[t].toFixed(2)}`}),o.price[t]>0&&s.jsxs("span",{className:"text-gray-600 ml-2",children:["/ms",t==="annual"&&", cobrado anualmente"]})]}),s.jsxs("ul",{className:"space-y-3 mb-8",children:[o.features.map((c,d)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mr,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-600",children:c})]},d)),o.limitations&&o.limitations.map((c,d)=>s.jsxs("li",{className:"flex items-start text-gray-400",children:[s.jsx(At,{className:"h-5 w-5 text-gray-300 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:c})]},`limit-${d}`))]}),s.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${o.name==="Bsico"?"bg-gray-900 text-white hover:bg-gray-800":o.name==="Premium"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:o.cta})]})]},o.name))}),s.jsx("div",{className:"text-center mb-8",children:s.jsxs("button",{onClick:()=>n(!r),className:"inline-flex items-center space-x-2 text-blue-600 font-medium hover:text-blue-800 transition-colors",children:[s.jsx("span",{children:r?"Ocultar comparao detalhada":"Ver comparao detalhada de recursos"}),s.jsx(se.div,{animate:{rotate:r?90:0},transition:{duration:.3},children:s.jsx(ci,{className:"h-5 w-5"})})]})}),r&&s.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden mb-16",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 w-1/3",children:"Recursos"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50",children:"Bsico"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-blue-600 uppercase tracking-wider bg-blue-50",children:"Premium"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-purple-600 uppercase tracking-wider bg-purple-50",children:"Enterprise"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(o=>s.jsxs(ge.Fragment,{children:[s.jsx("tr",{className:"bg-gray-50",children:s.jsx("td",{colSpan:4,className:"px-6 py-4 text-sm font-medium text-gray-900",children:o.category})}),o.features.map((l,c)=>s.jsxs("tr",{className:c%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.name}),s.jsx("td",{className:"px-6 py-4 text-center",children:l.basic?s.jsx(Mr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(At,{className:"h-5 w-5 text-gray-300 mx-auto"})}),s.jsx("td",{className:"px-6 py-4 text-center bg-blue-50",children:l.premium?s.jsx(Mr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(At,{className:"h-5 w-5 text-gray-300 mx-auto"})}),s.jsx("td",{className:"px-6 py-4 text-center bg-purple-50",children:l.enterprise?s.jsx(Mr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(At,{className:"h-5 w-5 text-gray-300 mx-auto"})})]},`${o.category}-${c}`))]},o.category))})]})})}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Recursos Principais"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:at,title:"Gesto de Ordens de Servio",description:"Crie, acompanhe e gerencie todas as suas ordens de servio em um s lugar.",color:"blue"},{icon:Bt,title:"Controle de Estoque",description:"Gerencie seu inventrio com baixa automtica de materiais utilizados nas OS.",color:"green"},{icon:Mt,title:"Gesto de Clientes",description:"Cadastro completo de clientes PF e PJ com histrico de servios.",color:"purple"},{icon:lr,title:"Agendamento Inteligente",description:"Organize a agenda dos tcnicos e otimize rotas de atendimento.",color:"orange"},{icon:Yt,title:"Integrao Financeira",description:"Faturamento automtico vinculado s ordens de servio concludas.",color:"emerald"},{icon:Cs,title:"Relatrios Avanados",description:"Anlise detalhada de desempenho, produtividade e resultados financeiros.",color:"indigo"},{icon:ZE,title:"Acesso Mobile",description:"Acesse o sistema de qualquer lugar, mesmo sem conexo com internet.",color:"pink"},{icon:B2,title:"Personalizao Visual",description:"Adapte a interface s cores e identidade visual da sua empresa.",color:"amber"},{icon:Q9,title:"Backup Automtico",description:"Seus dados sempre seguros com backup automtico na nuvem.",color:"sky"}].map((o,l)=>s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg bg-${o.color}-100 flex items-center justify-center mb-4`,children:s.jsx(o.icon,{className:`h-6 w-6 text-${o.color}-600`})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.title}),s.jsx("p",{className:"text-gray-600",children:o.description})]},o.title))})]}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Perguntas Frequentes"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[{question:"Posso mudar de plano a qualquer momento?",answer:"Sim, voc pode fazer upgrade ou downgrade do seu plano a qualquer momento. As mudanas entram em vigor imediatamente e o valor  ajustado proporcionalmente."},{question:"Existe perodo de teste?",answer:"Sim, oferecemos 14 dias de teste gratuito para os planos Premium e Enterprise, com acesso a todos os recursos."},{question:"Como funciona o suporte tcnico?",answer:"O plano Bsico inclui suporte por email com tempo de resposta de at 48h. O plano Premium oferece suporte prioritrio com resposta em at 24h. O plano Enterprise inclui suporte 24/7 por email, chat e telefone."},{question:"Preciso instalar algum software?",answer:"No, o GiarTech  uma soluo 100% web, acessvel de qualquer navegador. Tambm oferecemos aplicativos mobile para iOS e Android nos planos Premium e Enterprise."},{question:"Meus dados esto seguros?",answer:"Sim, utilizamos criptografia de ponta a ponta e seguimos as melhores prticas de segurana. Realizamos backups dirios e estamos em conformidade com a LGPD."},{question:"Posso cancelar a qualquer momento?",answer:"Sim, voc pode cancelar sua assinatura a qualquer momento sem taxas adicionais. No caso de planos anuais, oferecemos reembolso proporcional ao perodo no utilizado."}].map((o,l)=>s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:o.question}),s.jsx("p",{className:"text-gray-600",children:o.answer})]},l))})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-12 text-center text-white",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para transformar sua gesto de servios?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Comece agora mesmo com o plano gratuito ou experimente todos os recursos premium por 14 dias sem compromisso."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{className:"px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:"Comear Gratuitamente"}),s.jsx("button",{className:"px-8 py-4 bg-blue-500 bg-opacity-30 text-white font-semibold rounded-xl hover:bg-opacity-40 hover:shadow-lg transition-all duration-200",children:"Agendar Demonstrao"})]})]}),s.jsxs("div",{className:"mt-16 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"Precisa de ajuda para escolher o plano ideal?"}),s.jsxs("p",{className:"text-gray-900 font-medium",children:["Entre em contato: ",s.jsx("a",{href:"tel:1155552560",className:"text-blue-600 hover:text-blue-800",children:"11 5555-2560"})," | ",s.jsx("a",{href:"mailto:contato@giartech.com.br",className:"text-blue-600 hover:text-blue-800",children:"contato@giartech.com.br"})]}),s.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"GiarTech Solues Engenharia da Climatizao | CNPJ: 37.509.897/0001-93"})]})]})})},mNe=({isOpen:t,onClose:e,requiredRole:r})=>{const a=(()=>{switch(r){case"admin":return{title:"Acesso Restrito",description:"Esta funcionalidade est disponvel apenas para administradores do sistema.",icon:jr,color:"red",buttonText:"Entendi"};case"premium":return{title:"Recurso Premium",description:"Esta funcionalidade est disponvel apenas para assinantes do plano Premium.",icon:cm,color:"blue",buttonText:"Ver Planos"};case"enterprise":return{title:"Recurso Enterprise",description:"Esta funcionalidade est disponvel apenas para assinantes do plano Enterprise.",icon:Pi,color:"purple",buttonText:"Ver Planos"};default:return{title:"Acesso Restrito",description:"Voc no tem permisso para acessar esta funcionalidade.",icon:kr,color:"yellow",buttonText:"Entendi"}}})();return s.jsx(lt,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:`relative bg-${a.color}-600 p-6 text-white rounded-t-xl`,children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(At,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(a.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:a.title}),s.jsx("p",{className:"text-white/80",children:a.description})]})]}),s.jsx("div",{className:"p-6",children:r==="admin"?s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"Entre em contato com o administrador do sistema para solicitar acesso a esta funcionalidade."}),s.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:a.buttonText})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"Faa upgrade do seu plano para desbloquear esta e outras funcionalidades avanadas."}),s.jsx(vo,{to:"/pricing",className:`inline-block px-6 py-3 bg-${a.color}-600 text-white font-semibold rounded-lg hover:bg-${a.color}-700 transition-colors`,children:a.buttonText})]})})]})]})})};function yV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=yV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function er(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=yV(t))&&(n&&(n+=" "),n+=e);return n}var fNe=Array.isArray,qa=fNe,pNe=typeof sa=="object"&&sa&&sa.Object===Object&&sa,bV=pNe,gNe=bV,xNe=typeof self=="object"&&self&&self.Object===Object&&self,yNe=gNe||xNe||Function("return this")(),il=yNe,bNe=il,vNe=bNe.Symbol,Ix=vNe,BM=Ix,vV=Object.prototype,wNe=vV.hasOwnProperty,jNe=vV.toString,Op=BM?BM.toStringTag:void 0;function NNe(t){var e=wNe.call(t,Op),r=t[Op];try{t[Op]=void 0;var n=!0}catch{}var a=jNe.call(t);return n&&(e?t[Op]=r:delete t[Op]),a}var _Ne=NNe,CNe=Object.prototype,SNe=CNe.toString;function BNe(t){return SNe.call(t)}var ENe=BNe,EM=Ix,kNe=_Ne,PNe=ENe,FNe="[object Null]",TNe="[object Undefined]",kM=EM?EM.toStringTag:void 0;function ONe(t){return t==null?t===void 0?TNe:FNe:kM&&kM in Object(t)?kNe(t):PNe(t)}var oc=ONe;function INe(t){return t!=null&&typeof t=="object"}var lc=INe,DNe=oc,MNe=lc,LNe="[object Symbol]";function UNe(t){return typeof t=="symbol"||MNe(t)&&DNe(t)==LNe}var jf=UNe,RNe=qa,QNe=jf,$Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HNe=/^\w*$/;function qNe(t,e){if(RNe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||QNe(t)?!0:HNe.test(t)||!$Ne.test(t)||e!=null&&t in Object(e)}var Ik=qNe;function zNe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ud=zNe;const Nf=Tr(Ud);var VNe=oc,KNe=Ud,WNe="[object AsyncFunction]",GNe="[object Function]",XNe="[object GeneratorFunction]",YNe="[object Proxy]";function JNe(t){if(!KNe(t))return!1;var e=VNe(t);return e==GNe||e==XNe||e==WNe||e==YNe}var Dk=JNe;const Ht=Tr(Dk);var ZNe=il,e_e=ZNe["__core-js_shared__"],t_e=e_e,L5=t_e,PM=function(){var t=/[^.]+$/.exec(L5&&L5.keys&&L5.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function r_e(t){return!!PM&&PM in t}var n_e=r_e,s_e=Function.prototype,a_e=s_e.toString;function i_e(t){if(t!=null){try{return a_e.call(t)}catch{}try{return t+""}catch{}}return""}var wV=i_e,o_e=Dk,l_e=n_e,c_e=Ud,d_e=wV,u_e=/[\\^$.*+?()[\]{}|]/g,h_e=/^\[object .+?Constructor\]$/,A_e=Function.prototype,m_e=Object.prototype,f_e=A_e.toString,p_e=m_e.hasOwnProperty,g_e=RegExp("^"+f_e.call(p_e).replace(u_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x_e(t){if(!c_e(t)||l_e(t))return!1;var e=o_e(t)?g_e:h_e;return e.test(d_e(t))}var y_e=x_e;function b_e(t,e){return t==null?void 0:t[e]}var v_e=b_e,w_e=y_e,j_e=v_e;function N_e(t,e){var r=j_e(t,e);return w_e(r)?r:void 0}var vh=N_e,__e=vh,C_e=__e(Object,"create"),ij=C_e,FM=ij;function S_e(){this.__data__=FM?FM(null):{},this.size=0}var B_e=S_e;function E_e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var k_e=E_e,P_e=ij,F_e="__lodash_hash_undefined__",T_e=Object.prototype,O_e=T_e.hasOwnProperty;function I_e(t){var e=this.__data__;if(P_e){var r=e[t];return r===F_e?void 0:r}return O_e.call(e,t)?e[t]:void 0}var D_e=I_e,M_e=ij,L_e=Object.prototype,U_e=L_e.hasOwnProperty;function R_e(t){var e=this.__data__;return M_e?e[t]!==void 0:U_e.call(e,t)}var Q_e=R_e,$_e=ij,H_e="__lodash_hash_undefined__";function q_e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$_e&&e===void 0?H_e:e,this}var z_e=q_e,V_e=B_e,K_e=k_e,W_e=D_e,G_e=Q_e,X_e=z_e;function _f(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_f.prototype.clear=V_e;_f.prototype.delete=K_e;_f.prototype.get=W_e;_f.prototype.has=G_e;_f.prototype.set=X_e;var Y_e=_f;function J_e(){this.__data__=[],this.size=0}var Z_e=J_e;function e5e(t,e){return t===e||t!==t&&e!==e}var Mk=e5e,t5e=Mk;function r5e(t,e){for(var r=t.length;r--;)if(t5e(t[r][0],e))return r;return-1}var oj=r5e,n5e=oj,s5e=Array.prototype,a5e=s5e.splice;function i5e(t){var e=this.__data__,r=n5e(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():a5e.call(e,r,1),--this.size,!0}var o5e=i5e,l5e=oj;function c5e(t){var e=this.__data__,r=l5e(e,t);return r<0?void 0:e[r][1]}var d5e=c5e,u5e=oj;function h5e(t){return u5e(this.__data__,t)>-1}var A5e=h5e,m5e=oj;function f5e(t,e){var r=this.__data__,n=m5e(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var p5e=f5e,g5e=Z_e,x5e=o5e,y5e=d5e,b5e=A5e,v5e=p5e;function Cf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cf.prototype.clear=g5e;Cf.prototype.delete=x5e;Cf.prototype.get=y5e;Cf.prototype.has=b5e;Cf.prototype.set=v5e;var lj=Cf,w5e=vh,j5e=il,N5e=w5e(j5e,"Map"),Lk=N5e,TM=Y_e,_5e=lj,C5e=Lk;function S5e(){this.size=0,this.__data__={hash:new TM,map:new(C5e||_5e),string:new TM}}var B5e=S5e;function E5e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var k5e=E5e,P5e=k5e;function F5e(t,e){var r=t.__data__;return P5e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var cj=F5e,T5e=cj;function O5e(t){var e=T5e(this,t).delete(t);return this.size-=e?1:0,e}var I5e=O5e,D5e=cj;function M5e(t){return D5e(this,t).get(t)}var L5e=M5e,U5e=cj;function R5e(t){return U5e(this,t).has(t)}var Q5e=R5e,$5e=cj;function H5e(t,e){var r=$5e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var q5e=H5e,z5e=B5e,V5e=I5e,K5e=L5e,W5e=Q5e,G5e=q5e;function Sf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sf.prototype.clear=z5e;Sf.prototype.delete=V5e;Sf.prototype.get=K5e;Sf.prototype.has=W5e;Sf.prototype.set=G5e;var Uk=Sf,jV=Uk,X5e="Expected a function";function Rk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(X5e);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Rk.Cache||jV),r}Rk.Cache=jV;var NV=Rk;const Y5e=Tr(NV);var J5e=NV,Z5e=500;function eCe(t){var e=J5e(t,function(n){return r.size===Z5e&&r.clear(),n}),r=e.cache;return e}var tCe=eCe,rCe=tCe,nCe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sCe=/\\(\\)?/g,aCe=rCe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nCe,function(r,n,a,i){e.push(a?i.replace(sCe,"$1"):n||r)}),e}),iCe=aCe;function oCe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Qk=oCe,OM=Ix,lCe=Qk,cCe=qa,dCe=jf,IM=OM?OM.prototype:void 0,DM=IM?IM.toString:void 0;function _V(t){if(typeof t=="string")return t;if(cCe(t))return lCe(t,_V)+"";if(dCe(t))return DM?DM.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var uCe=_V,hCe=uCe;function ACe(t){return t==null?"":hCe(t)}var CV=ACe,mCe=qa,fCe=Ik,pCe=iCe,gCe=CV;function xCe(t,e){return mCe(t)?t:fCe(t,e)?[t]:pCe(gCe(t))}var SV=xCe,yCe=jf;function bCe(t){if(typeof t=="string"||yCe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var dj=bCe,vCe=SV,wCe=dj;function jCe(t,e){e=vCe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[wCe(e[r++])];return r&&r==n?t:void 0}var $k=jCe,NCe=$k;function _Ce(t,e,r){var n=t==null?void 0:NCe(t,e);return n===void 0?r:n}var BV=_Ce;const oi=Tr(BV);function CCe(t){return t==null}var SCe=CCe;const nr=Tr(SCe);var BCe=oc,ECe=qa,kCe=lc,PCe="[object String]";function FCe(t){return typeof t=="string"||!ECe(t)&&kCe(t)&&BCe(t)==PCe}var TCe=FCe;const lh=Tr(TCe);var EV={exports:{}},Or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=Symbol.for("react.element"),qk=Symbol.for("react.portal"),uj=Symbol.for("react.fragment"),hj=Symbol.for("react.strict_mode"),Aj=Symbol.for("react.profiler"),mj=Symbol.for("react.provider"),fj=Symbol.for("react.context"),OCe=Symbol.for("react.server_context"),pj=Symbol.for("react.forward_ref"),gj=Symbol.for("react.suspense"),xj=Symbol.for("react.suspense_list"),yj=Symbol.for("react.memo"),bj=Symbol.for("react.lazy"),ICe=Symbol.for("react.offscreen"),kV;kV=Symbol.for("react.module.reference");function Ki(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hk:switch(t=t.type,t){case uj:case Aj:case hj:case gj:case xj:return t;default:switch(t=t&&t.$$typeof,t){case OCe:case fj:case pj:case bj:case yj:case mj:return t;default:return e}}case qk:return e}}}Or.ContextConsumer=fj;Or.ContextProvider=mj;Or.Element=Hk;Or.ForwardRef=pj;Or.Fragment=uj;Or.Lazy=bj;Or.Memo=yj;Or.Portal=qk;Or.Profiler=Aj;Or.StrictMode=hj;Or.Suspense=gj;Or.SuspenseList=xj;Or.isAsyncMode=function(){return!1};Or.isConcurrentMode=function(){return!1};Or.isContextConsumer=function(t){return Ki(t)===fj};Or.isContextProvider=function(t){return Ki(t)===mj};Or.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hk};Or.isForwardRef=function(t){return Ki(t)===pj};Or.isFragment=function(t){return Ki(t)===uj};Or.isLazy=function(t){return Ki(t)===bj};Or.isMemo=function(t){return Ki(t)===yj};Or.isPortal=function(t){return Ki(t)===qk};Or.isProfiler=function(t){return Ki(t)===Aj};Or.isStrictMode=function(t){return Ki(t)===hj};Or.isSuspense=function(t){return Ki(t)===gj};Or.isSuspenseList=function(t){return Ki(t)===xj};Or.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uj||t===Aj||t===hj||t===gj||t===xj||t===ICe||typeof t=="object"&&t!==null&&(t.$$typeof===bj||t.$$typeof===yj||t.$$typeof===mj||t.$$typeof===fj||t.$$typeof===pj||t.$$typeof===kV||t.getModuleId!==void 0)};Or.typeOf=Ki;EV.exports=Or;var DCe=EV.exports,MCe=oc,LCe=lc,UCe="[object Number]";function RCe(t){return typeof t=="number"||LCe(t)&&MCe(t)==UCe}var PV=RCe;const QCe=Tr(PV);var $Ce=PV;function HCe(t){return $Ce(t)&&t!=+t}var qCe=HCe;const Dx=Tr(qCe);var xa=function(e){return e===0?0:e>0?1:-1},Du=function(e){return lh(e)&&e.indexOf("%")===e.length-1},st=function(e){return QCe(e)&&!Dx(e)},zCe=function(e){return nr(e)},hs=function(e){return st(e)||lh(e)},VCe=0,Mx=function(e){var r=++VCe;return"".concat(e||"").concat(r)},ya=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!st(e)&&!lh(e))return n;var i;if(Du(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Dx(i)&&(i=n),a&&i>r&&(i=r),i},Hc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},KCe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Lc=function(e,r){return st(e)&&st(r)?function(n){return e+n*(r-e)}:function(){return r}};function VS(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):oi(n,e))===r})}var WCe=function(e,r){return st(e)&&st(r)?e-r:lh(e)&&lh(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function vm(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function KS(t){"@babel/helpers - typeof";return KS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KS(t)}var GCe=["viewBox","children"],XCe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MM=["points","pathLength"],U5={svg:GCe,polygon:MM,polyline:MM},zk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],n1=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(B.isValidElement(e)&&(n=e.props),!Nf(n))return null;var a={};return Object.keys(n).forEach(function(i){zk.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},YCe=function(e,r,n){return function(a){return e(r,n,a),null}},ch=function(e,r,n){if(!Nf(e)||KS(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];zk.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=YCe(o,r,n))}),a},JCe=["children"],ZCe=["children"];function LM(t,e){if(t==null)return{};var r=e4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var UM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Rl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},RM=null,R5=null,Vk=function t(e){if(e===RM&&Array.isArray(R5))return R5;var r=[];return B.Children.forEach(e,function(n){nr(n)||(DCe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),R5=r,RM=e,r};function Hi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Rl(a)}):n=[Rl(e)],Vk(t).forEach(function(a){var i=oi(a,"type.displayName")||oi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ei(t,e){var r=Hi(t,e);return r&&r[0]}var QM=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!st(n)||n<=0||!st(a)||a<=0)},t4e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],r4e=function(e){return e&&e.type&&lh(e.type)&&t4e.indexOf(e.type)>=0},n4e=function(e,r,n,a){var i,o=(i=U5==null?void 0:U5[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ht(e)&&(a&&o.includes(r)||XCe.includes(r))||n&&zk.includes(r)},$t=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(B.isValidElement(e)&&(a=e.props),!Nf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;n4e((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},WS=function t(e,r){if(e===r)return!0;var n=B.Children.count(e);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $M(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!$M(i,o))return!1}return!0},$M=function(e,r){if(nr(e)&&nr(r))return!0;if(!nr(e)&&!nr(r)){var n=e.props||{},a=n.children,i=LM(n,JCe),o=r.props||{},l=o.children,c=LM(o,ZCe);return a&&l?vm(i,c)&&WS(a,l):!a&&!l?vm(i,c):!1}return!1},HM=function(e,r){var n=[],a={};return Vk(e).forEach(function(i,o){if(r4e(i))n.push(i);else if(i){var l=Rl(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);n.push(h),a[l]=!0}}}),n},s4e=function(e){var r=e&&e.type;return r&&UM[r]?UM[r]:null},a4e=function(e,r){return Vk(r).indexOf(e)},i4e=["children","width","height","viewBox","className","style","title","desc"];function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GS.apply(this,arguments)}function o4e(t,e){if(t==null)return{};var r=l4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XS(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=o4e(t,i4e),u=a||{width:r,height:n,x:0,y:0},h=er("recharts-surface",i);return ge.createElement("svg",GS({},$t(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ge.createElement("title",null,l),ge.createElement("desc",null,c),e)}var c4e=["children","className"];function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YS.apply(this,arguments)}function d4e(t,e){if(t==null)return{};var r=u4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Er=ge.forwardRef(function(t,e){var r=t.children,n=t.className,a=d4e(t,c4e),i=er("recharts-layer",n);return ge.createElement("g",YS({className:i},$t(a,!0),{ref:e}),r)}),yo=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function h4e(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var A4e=h4e,m4e=A4e;function f4e(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:m4e(t,e,r)}var p4e=f4e,g4e="\\ud800-\\udfff",x4e="\\u0300-\\u036f",y4e="\\ufe20-\\ufe2f",b4e="\\u20d0-\\u20ff",v4e=x4e+y4e+b4e,w4e="\\ufe0e\\ufe0f",j4e="\\u200d",N4e=RegExp("["+j4e+g4e+v4e+w4e+"]");function _4e(t){return N4e.test(t)}var FV=_4e;function C4e(t){return t.split("")}var S4e=C4e,TV="\\ud800-\\udfff",B4e="\\u0300-\\u036f",E4e="\\ufe20-\\ufe2f",k4e="\\u20d0-\\u20ff",P4e=B4e+E4e+k4e,F4e="\\ufe0e\\ufe0f",T4e="["+TV+"]",JS="["+P4e+"]",ZS="\\ud83c[\\udffb-\\udfff]",O4e="(?:"+JS+"|"+ZS+")",OV="[^"+TV+"]",IV="(?:\\ud83c[\\udde6-\\uddff]){2}",DV="[\\ud800-\\udbff][\\udc00-\\udfff]",I4e="\\u200d",MV=O4e+"?",LV="["+F4e+"]?",D4e="(?:"+I4e+"(?:"+[OV,IV,DV].join("|")+")"+LV+MV+")*",M4e=LV+MV+D4e,L4e="(?:"+[OV+JS+"?",JS,IV,DV,T4e].join("|")+")",U4e=RegExp(ZS+"(?="+ZS+")|"+L4e+M4e,"g");function R4e(t){return t.match(U4e)||[]}var Q4e=R4e,$4e=S4e,H4e=FV,q4e=Q4e;function z4e(t){return H4e(t)?q4e(t):$4e(t)}var V4e=z4e,K4e=p4e,W4e=FV,G4e=V4e,X4e=CV;function Y4e(t){return function(e){e=X4e(e);var r=W4e(e)?G4e(e):void 0,n=r?r[0]:e.charAt(0),a=r?K4e(r,1).join(""):e.slice(1);return n[t]()+a}}var J4e=Y4e,Z4e=J4e,eSe=Z4e("toUpperCase"),tSe=eSe;const vj=Tr(tSe);function Xr(t){return function(){return t}}const UV=Math.cos,s1=Math.sin,_o=Math.sqrt,a1=Math.PI,wj=2*a1,eB=Math.PI,tB=2*eB,xu=1e-6,rSe=tB-xu;function RV(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function nSe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return RV;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class sSe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?RV:nSe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=a-r,u=o-e,h=l-r,A=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(A>xu)if(!(Math.abs(h*c-d*u)>xu)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,x=a-l,g=c*c+d*d,p=m*m+x*x,f=Math.sqrt(g),y=Math.sqrt(A),b=i*Math.tan((eB-Math.acos((g+A-p)/(2*f*y)))/2),N=b/y,v=b/f;Math.abs(N-1)>xu&&this._append`L${e+N*u},${r+N*h}`,this._append`A${i},${i},0,0,${+(h*m>u*x)},${this._x1=e+v*c},${this._y1=r+v*d}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=e+l,u=r+c,h=1^o,A=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>xu||Math.abs(this._y1-u)>xu)&&this._append`L${d},${u}`,n&&(A<0&&(A=A%tB+tB),A>rSe?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:A>xu&&this._append`A${n},${n},0,${+(A>=eB)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Kk(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new sSe(e)}function Wk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QV(t){this._context=t}QV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jj(t){return new QV(t)}function $V(t){return t[0]}function HV(t){return t[1]}function qV(t,e){var r=Xr(!0),n=null,a=jj,i=null,o=Kk(l);t=typeof t=="function"?t:t===void 0?$V:Xr(t),e=typeof e=="function"?e:e===void 0?HV:Xr(e);function l(c){var d,u=(c=Wk(c)).length,h,A=!1,m;for(n==null&&(i=a(m=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===A&&((A=!A)?i.lineStart():i.lineEnd()),A&&i.point(+t(h,d,c),+e(h,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Xr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Xr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Xr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Yb(t,e,r){var n=null,a=Xr(!0),i=null,o=jj,l=null,c=Kk(d);t=typeof t=="function"?t:t===void 0?$V:Xr(+t),e=typeof e=="function"?e:Xr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?HV:Xr(+r);function d(h){var A,m,x,g=(h=Wk(h)).length,p,f=!1,y,b=new Array(g),N=new Array(g);for(i==null&&(l=o(y=c())),A=0;A<=g;++A){if(!(A<g&&a(p=h[A],A,h))===f)if(f=!f)m=A,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=A-1;x>=m;--x)l.point(b[x],N[x]);l.lineEnd(),l.areaEnd()}f&&(b[A]=+t(p,A,h),N[A]=+e(p,A,h),l.point(n?+n(p,A,h):b[A],r?+r(p,A,h):N[A]))}if(y)return l=null,y+""||null}function u(){return qV().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Xr(+h),n=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Xr(+h),d):t},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Xr(+h),d):n},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Xr(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Xr(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Xr(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(n).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Xr(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class zV{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function aSe(t){return new zV(t,!0)}function iSe(t){return new zV(t,!1)}const Gk={draw(t,e){const r=_o(e/a1);t.moveTo(r,0),t.arc(0,0,r,0,wj)}},oSe={draw(t,e){const r=_o(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},VV=_o(1/3),lSe=VV*2,cSe={draw(t,e){const r=_o(e/lSe),n=r*VV;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},dSe={draw(t,e){const r=_o(e),n=-r/2;t.rect(n,n,r,r)}},uSe=.8908130915292852,KV=s1(a1/10)/s1(7*a1/10),hSe=s1(wj/10)*KV,ASe=-UV(wj/10)*KV,mSe={draw(t,e){const r=_o(e*uSe),n=hSe*r,a=ASe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=wj*i/5,l=UV(o),c=s1(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},Q5=_o(3),fSe={draw(t,e){const r=-_o(e/(Q5*3));t.moveTo(0,r*2),t.lineTo(-Q5*r,-r),t.lineTo(Q5*r,-r),t.closePath()}},wi=-.5,ji=_o(3)/2,rB=1/_o(12),pSe=(rB/2+1)*3,gSe={draw(t,e){const r=_o(e/pSe),n=r/2,a=r*rB,i=n,o=r*rB+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(wi*n-ji*a,ji*n+wi*a),t.lineTo(wi*i-ji*o,ji*i+wi*o),t.lineTo(wi*l-ji*c,ji*l+wi*c),t.lineTo(wi*n+ji*a,wi*a-ji*n),t.lineTo(wi*i+ji*o,wi*o-ji*i),t.lineTo(wi*l+ji*c,wi*c-ji*l),t.closePath()}};function xSe(t,e){let r=null,n=Kk(a);t=typeof t=="function"?t:Xr(t||Gk),e=typeof e=="function"?e:Xr(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Xr(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Xr(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function i1(){}function o1(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function WV(t){this._context=t}WV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ySe(t){return new WV(t)}function GV(t){this._context=t}GV.prototype={areaStart:i1,areaEnd:i1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:o1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bSe(t){return new GV(t)}function XV(t){this._context=t}XV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:o1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vSe(t){return new XV(t)}function YV(t){this._context=t}YV.prototype={areaStart:i1,areaEnd:i1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wSe(t){return new YV(t)}function qM(t){return t<0?-1:1}function zM(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(qM(i)+qM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function VM(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function $5(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function l1(t){this._context=t}l1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$5(this,this._t0,VM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$5(this,VM(this,r=zM(this,t,e)),r);break;default:$5(this,this._t0,r=zM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function JV(t){this._context=new ZV(t)}(JV.prototype=Object.create(l1.prototype)).point=function(t,e){l1.prototype.point.call(this,e,t)};function ZV(t){this._context=t}ZV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function jSe(t){return new l1(t)}function NSe(t){return new JV(t)}function eK(t){this._context=t}eK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=KM(t),a=KM(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KM(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function _Se(t){return new eK(t)}function Nj(t,e){this._context=t,this._t=e}Nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function CSe(t){return new Nj(t,.5)}function SSe(t){return new Nj(t,0)}function BSe(t){return new Nj(t,1)}function Rm(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function nB(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ESe(t,e){return t[e]}function kSe(t){const e=[];return e.key=t,e}function PSe(){var t=Xr([]),e=nB,r=Rm,n=ESe;function a(i){var o=Array.from(t.apply(this,arguments),kSe),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=Wk(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Xr(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Xr(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?nB:typeof i=="function"?i:Xr(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Rm,a):r},a}function FSe(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Rm(t,e)}}function TSe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Rm(t,e)}}function OSe(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[n][1]||0,A=u[n-1][1]||0,m=(h-A)/2,x=0;x<l;++x){var g=t[e[x]],p=g[n][1]||0,f=g[n-1][1]||0;m+=p-f}c+=h,d+=m*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Rm(t,e)}}function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}var ISe=["type","size","sizeType"];function sB(){return sB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sB.apply(this,arguments)}function WM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(r),!0).forEach(function(n){DSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DSe(t,e,r){return e=MSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MSe(t){var e=LSe(t,"string");return D0(e)=="symbol"?e:e+""}function LSe(t,e){if(D0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function USe(t,e){if(t==null)return{};var r=RSe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tK={symbolCircle:Gk,symbolCross:oSe,symbolDiamond:cSe,symbolSquare:dSe,symbolStar:mSe,symbolTriangle:fSe,symbolWye:gSe},QSe=Math.PI/180,$Se=function(e){var r="symbol".concat(vj(e));return tK[r]||Gk},HSe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*QSe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qSe=function(e,r){tK["symbol".concat(vj(e))]=r},Xk=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=USe(e,ISe),d=GM(GM({},c),{},{type:n,size:i,sizeType:l}),u=function(){var p=$Se(n),f=xSe().type(p).size(HSe(i,l,n));return f()},h=d.className,A=d.cx,m=d.cy,x=$t(d,!0);return A===+A&&m===+m&&i===+i?ge.createElement("path",sB({},x,{className:er("recharts-symbols",h),transform:"translate(".concat(A,", ").concat(m,")"),d:u()})):null};Xk.registerSymbol=qSe;function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function aB(){return aB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aB.apply(this,arguments)}function XM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zSe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(r),!0).forEach(function(n){M0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nK(n.key),n)}}function WSe(t,e,r){return e&&KSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GSe(t,e,r){return e=c1(e),XSe(t,rK()?Reflect.construct(e,r||[],c1(t).constructor):e.apply(t,r))}function XSe(t,e){if(e&&(Qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YSe(t)}function YSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rK=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(t)}function JSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iB(t,e)}function iB(t,e){return iB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iB(t,e)}function M0(t,e,r){return e=nK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nK(t){var e=ZSe(t,"string");return Qm(e)=="symbol"?e:e+""}function ZSe(t,e){if(Qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ni=32,Yk=function(t){function e(){return VSe(this,e),GSe(this,e,arguments)}return JSe(e,t),WSe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ni/2,o=Ni/6,l=Ni/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ge.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ni,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ge.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ni,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ge.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ni/8,"h").concat(Ni,"v").concat(Ni*3/4,"h").concat(-Ni,"z"),className:"recharts-legend-icon"});if(ge.isValidElement(n.legendIcon)){var d=zSe({},n);return delete d.legendIcon,ge.cloneElement(n.legendIcon,d)}return ge.createElement(Xk,{fill:c,cx:i,cy:i,size:Ni,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Ni,height:Ni},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var g=m.formatter||c,p=er(M0(M0({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var f=Ht(m.value)?null:m.value;yo(!Ht(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?d:m.color;return ge.createElement("li",aB({className:p,style:h,key:"legend-item-".concat(x)},ch(n.props,m,x)),ge.createElement(XS,{width:o,height:o,viewBox:u,style:A},n.renderIcon(m)),ge.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(f,m,x):f))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ge.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(B.PureComponent);M0(Yk,"displayName","Legend");M0(Yk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eBe=lj;function tBe(){this.__data__=new eBe,this.size=0}var rBe=tBe;function nBe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var sBe=nBe;function aBe(t){return this.__data__.get(t)}var iBe=aBe;function oBe(t){return this.__data__.has(t)}var lBe=oBe,cBe=lj,dBe=Lk,uBe=Uk,hBe=200;function ABe(t,e){var r=this.__data__;if(r instanceof cBe){var n=r.__data__;if(!dBe||n.length<hBe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new uBe(n)}return r.set(t,e),this.size=r.size,this}var mBe=ABe,fBe=lj,pBe=rBe,gBe=sBe,xBe=iBe,yBe=lBe,bBe=mBe;function Bf(t){var e=this.__data__=new fBe(t);this.size=e.size}Bf.prototype.clear=pBe;Bf.prototype.delete=gBe;Bf.prototype.get=xBe;Bf.prototype.has=yBe;Bf.prototype.set=bBe;var sK=Bf,vBe="__lodash_hash_undefined__";function wBe(t){return this.__data__.set(t,vBe),this}var jBe=wBe;function NBe(t){return this.__data__.has(t)}var _Be=NBe,CBe=Uk,SBe=jBe,BBe=_Be;function d1(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new CBe;++e<r;)this.add(t[e])}d1.prototype.add=d1.prototype.push=SBe;d1.prototype.has=BBe;var aK=d1;function EBe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var iK=EBe;function kBe(t,e){return t.has(e)}var oK=kBe,PBe=aK,FBe=iK,TBe=oK,OBe=1,IBe=2;function DBe(t,e,r,n,a,i){var o=r&OBe,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(t),u=i.get(e);if(d&&u)return d==e&&u==t;var h=-1,A=!0,m=r&IBe?new PBe:void 0;for(i.set(t,e),i.set(e,t);++h<l;){var x=t[h],g=e[h];if(n)var p=o?n(g,x,h,e,t,i):n(x,g,h,t,e,i);if(p!==void 0){if(p)continue;A=!1;break}if(m){if(!FBe(e,function(f,y){if(!TBe(m,y)&&(x===f||a(x,f,r,n,i)))return m.push(y)})){A=!1;break}}else if(!(x===g||a(x,g,r,n,i))){A=!1;break}}return i.delete(t),i.delete(e),A}var lK=DBe,MBe=il,LBe=MBe.Uint8Array,UBe=LBe;function RBe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var QBe=RBe;function $Be(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Jk=$Be,YM=Ix,JM=UBe,HBe=Mk,qBe=lK,zBe=QBe,VBe=Jk,KBe=1,WBe=2,GBe="[object Boolean]",XBe="[object Date]",YBe="[object Error]",JBe="[object Map]",ZBe="[object Number]",e3e="[object RegExp]",t3e="[object Set]",r3e="[object String]",n3e="[object Symbol]",s3e="[object ArrayBuffer]",a3e="[object DataView]",ZM=YM?YM.prototype:void 0,H5=ZM?ZM.valueOf:void 0;function i3e(t,e,r,n,a,i,o){switch(r){case a3e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case s3e:return!(t.byteLength!=e.byteLength||!i(new JM(t),new JM(e)));case GBe:case XBe:case ZBe:return HBe(+t,+e);case YBe:return t.name==e.name&&t.message==e.message;case e3e:case r3e:return t==e+"";case JBe:var l=zBe;case t3e:var c=n&KBe;if(l||(l=VBe),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;n|=WBe,o.set(t,e);var u=qBe(l(t),l(e),n,a,i,o);return o.delete(t),u;case n3e:if(H5)return H5.call(t)==H5.call(e)}return!1}var o3e=i3e;function l3e(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var cK=l3e,c3e=cK,d3e=qa;function u3e(t,e,r){var n=e(t);return d3e(t)?n:c3e(n,r(t))}var h3e=u3e;function A3e(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}var m3e=A3e;function f3e(){return[]}var p3e=f3e,g3e=m3e,x3e=p3e,y3e=Object.prototype,b3e=y3e.propertyIsEnumerable,eL=Object.getOwnPropertySymbols,v3e=eL?function(t){return t==null?[]:(t=Object(t),g3e(eL(t),function(e){return b3e.call(t,e)}))}:x3e,w3e=v3e;function j3e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var N3e=j3e,_3e=oc,C3e=lc,S3e="[object Arguments]";function B3e(t){return C3e(t)&&_3e(t)==S3e}var E3e=B3e,tL=E3e,k3e=lc,dK=Object.prototype,P3e=dK.hasOwnProperty,F3e=dK.propertyIsEnumerable,T3e=tL(function(){return arguments}())?tL:function(t){return k3e(t)&&P3e.call(t,"callee")&&!F3e.call(t,"callee")},Zk=T3e,u1={exports:{}};function O3e(){return!1}var I3e=O3e;u1.exports;(function(t,e){var r=il,n=I3e,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(u1,u1.exports);var uK=u1.exports,D3e=9007199254740991,M3e=/^(?:0|[1-9]\d*)$/;function L3e(t,e){var r=typeof t;return e=e??D3e,!!e&&(r=="number"||r!="symbol"&&M3e.test(t))&&t>-1&&t%1==0&&t<e}var e6=L3e,U3e=9007199254740991;function R3e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=U3e}var t6=R3e,Q3e=oc,$3e=t6,H3e=lc,q3e="[object Arguments]",z3e="[object Array]",V3e="[object Boolean]",K3e="[object Date]",W3e="[object Error]",G3e="[object Function]",X3e="[object Map]",Y3e="[object Number]",J3e="[object Object]",Z3e="[object RegExp]",eEe="[object Set]",tEe="[object String]",rEe="[object WeakMap]",nEe="[object ArrayBuffer]",sEe="[object DataView]",aEe="[object Float32Array]",iEe="[object Float64Array]",oEe="[object Int8Array]",lEe="[object Int16Array]",cEe="[object Int32Array]",dEe="[object Uint8Array]",uEe="[object Uint8ClampedArray]",hEe="[object Uint16Array]",AEe="[object Uint32Array]",nn={};nn[aEe]=nn[iEe]=nn[oEe]=nn[lEe]=nn[cEe]=nn[dEe]=nn[uEe]=nn[hEe]=nn[AEe]=!0;nn[q3e]=nn[z3e]=nn[nEe]=nn[V3e]=nn[sEe]=nn[K3e]=nn[W3e]=nn[G3e]=nn[X3e]=nn[Y3e]=nn[J3e]=nn[Z3e]=nn[eEe]=nn[tEe]=nn[rEe]=!1;function mEe(t){return H3e(t)&&$3e(t.length)&&!!nn[Q3e(t)]}var fEe=mEe;function pEe(t){return function(e){return t(e)}}var hK=pEe,h1={exports:{}};h1.exports;(function(t,e){var r=bV,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(h1,h1.exports);var gEe=h1.exports,xEe=fEe,yEe=hK,rL=gEe,nL=rL&&rL.isTypedArray,bEe=nL?yEe(nL):xEe,AK=bEe,vEe=N3e,wEe=Zk,jEe=qa,NEe=uK,_Ee=e6,CEe=AK,SEe=Object.prototype,BEe=SEe.hasOwnProperty;function EEe(t,e){var r=jEe(t),n=!r&&wEe(t),a=!r&&!n&&NEe(t),i=!r&&!n&&!a&&CEe(t),o=r||n||a||i,l=o?vEe(t.length,String):[],c=l.length;for(var d in t)(e||BEe.call(t,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||_Ee(d,c)))&&l.push(d);return l}var kEe=EEe,PEe=Object.prototype;function FEe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||PEe;return t===r}var TEe=FEe;function OEe(t,e){return function(r){return t(e(r))}}var mK=OEe,IEe=mK,DEe=IEe(Object.keys,Object),MEe=DEe,LEe=TEe,UEe=MEe,REe=Object.prototype,QEe=REe.hasOwnProperty;function $Ee(t){if(!LEe(t))return UEe(t);var e=[];for(var r in Object(t))QEe.call(t,r)&&r!="constructor"&&e.push(r);return e}var HEe=$Ee,qEe=Dk,zEe=t6;function VEe(t){return t!=null&&zEe(t.length)&&!qEe(t)}var Lx=VEe,KEe=kEe,WEe=HEe,GEe=Lx;function XEe(t){return GEe(t)?KEe(t):WEe(t)}var _j=XEe,YEe=h3e,JEe=w3e,ZEe=_j;function eke(t){return YEe(t,ZEe,JEe)}var tke=eke,sL=tke,rke=1,nke=Object.prototype,ske=nke.hasOwnProperty;function ake(t,e,r,n,a,i){var o=r&rke,l=sL(t),c=l.length,d=sL(e),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var A=l[h];if(!(o?A in e:ske.call(e,A)))return!1}var m=i.get(t),x=i.get(e);if(m&&x)return m==e&&x==t;var g=!0;i.set(t,e),i.set(e,t);for(var p=o;++h<c;){A=l[h];var f=t[A],y=e[A];if(n)var b=o?n(y,f,A,e,t,i):n(f,y,A,t,e,i);if(!(b===void 0?f===y||a(f,y,r,n,i):b)){g=!1;break}p||(p=A=="constructor")}if(g&&!p){var N=t.constructor,v=e.constructor;N!=v&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof v=="function"&&v instanceof v)&&(g=!1)}return i.delete(t),i.delete(e),g}var ike=ake,oke=vh,lke=il,cke=oke(lke,"DataView"),dke=cke,uke=vh,hke=il,Ake=uke(hke,"Promise"),mke=Ake,fke=vh,pke=il,gke=fke(pke,"Set"),fK=gke,xke=vh,yke=il,bke=xke(yke,"WeakMap"),vke=bke,oB=dke,lB=Lk,cB=mke,dB=fK,uB=vke,pK=oc,Ef=wV,aL="[object Map]",wke="[object Object]",iL="[object Promise]",oL="[object Set]",lL="[object WeakMap]",cL="[object DataView]",jke=Ef(oB),Nke=Ef(lB),_ke=Ef(cB),Cke=Ef(dB),Ske=Ef(uB),yu=pK;(oB&&yu(new oB(new ArrayBuffer(1)))!=cL||lB&&yu(new lB)!=aL||cB&&yu(cB.resolve())!=iL||dB&&yu(new dB)!=oL||uB&&yu(new uB)!=lL)&&(yu=function(t){var e=pK(t),r=e==wke?t.constructor:void 0,n=r?Ef(r):"";if(n)switch(n){case jke:return cL;case Nke:return aL;case _ke:return iL;case Cke:return oL;case Ske:return lL}return e});var Bke=yu,q5=sK,Eke=lK,kke=o3e,Pke=ike,dL=Bke,uL=qa,hL=uK,Fke=AK,Tke=1,AL="[object Arguments]",mL="[object Array]",Jb="[object Object]",Oke=Object.prototype,fL=Oke.hasOwnProperty;function Ike(t,e,r,n,a,i){var o=uL(t),l=uL(e),c=o?mL:dL(t),d=l?mL:dL(e);c=c==AL?Jb:c,d=d==AL?Jb:d;var u=c==Jb,h=d==Jb,A=c==d;if(A&&hL(t)){if(!hL(e))return!1;o=!0,u=!1}if(A&&!u)return i||(i=new q5),o||Fke(t)?Eke(t,e,r,n,a,i):kke(t,e,c,r,n,a,i);if(!(r&Tke)){var m=u&&fL.call(t,"__wrapped__"),x=h&&fL.call(e,"__wrapped__");if(m||x){var g=m?t.value():t,p=x?e.value():e;return i||(i=new q5),a(g,p,r,n,i)}}return A?(i||(i=new q5),Pke(t,e,r,n,a,i)):!1}var Dke=Ike,Mke=Dke,pL=lc;function gK(t,e,r,n,a){return t===e?!0:t==null||e==null||!pL(t)&&!pL(e)?t!==t&&e!==e:Mke(t,e,r,n,gK,a)}var r6=gK,Lke=sK,Uke=r6,Rke=1,Qke=2;function $ke(t,e,r,n){var a=r.length,i=a,o=!n;if(t==null)return!i;for(t=Object(t);a--;){var l=r[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<i;){l=r[a];var c=l[0],d=t[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in t))return!1}else{var h=new Lke;if(n)var A=n(d,u,c,t,e,h);if(!(A===void 0?Uke(u,d,Rke|Qke,n,h):A))return!1}}return!0}var Hke=$ke,qke=Ud;function zke(t){return t===t&&!qke(t)}var xK=zke,Vke=xK,Kke=_j;function Wke(t){for(var e=Kke(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,Vke(a)]}return e}var Gke=Wke;function Xke(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var yK=Xke,Yke=Hke,Jke=Gke,Zke=yK;function e6e(t){var e=Jke(t);return e.length==1&&e[0][2]?Zke(e[0][0],e[0][1]):function(r){return r===t||Yke(r,t,e)}}var t6e=e6e;function r6e(t,e){return t!=null&&e in Object(t)}var n6e=r6e,s6e=SV,a6e=Zk,i6e=qa,o6e=e6,l6e=t6,c6e=dj;function d6e(t,e,r){e=s6e(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var o=c6e(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&l6e(a)&&o6e(o,a)&&(i6e(t)||a6e(t)))}var u6e=d6e,h6e=n6e,A6e=u6e;function m6e(t,e){return t!=null&&A6e(t,e,h6e)}var f6e=m6e,p6e=r6,g6e=BV,x6e=f6e,y6e=Ik,b6e=xK,v6e=yK,w6e=dj,j6e=1,N6e=2;function _6e(t,e){return y6e(t)&&b6e(e)?v6e(w6e(t),e):function(r){var n=g6e(r,t);return n===void 0&&n===e?x6e(r,t):p6e(e,n,j6e|N6e)}}var C6e=_6e;function S6e(t){return t}var kf=S6e;function B6e(t){return function(e){return e==null?void 0:e[t]}}var E6e=B6e,k6e=$k;function P6e(t){return function(e){return k6e(e,t)}}var F6e=P6e,T6e=E6e,O6e=F6e,I6e=Ik,D6e=dj;function M6e(t){return I6e(t)?T6e(D6e(t)):O6e(t)}var L6e=M6e,U6e=t6e,R6e=C6e,Q6e=kf,$6e=qa,H6e=L6e;function q6e(t){return typeof t=="function"?t:t==null?Q6e:typeof t=="object"?$6e(t)?R6e(t[0],t[1]):U6e(t):H6e(t)}var ol=q6e;function z6e(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var bK=z6e;function V6e(t){return t!==t}var K6e=V6e;function W6e(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var G6e=W6e,X6e=bK,Y6e=K6e,J6e=G6e;function Z6e(t,e,r){return e===e?J6e(t,e,r):X6e(t,Y6e,r)}var ePe=Z6e,tPe=ePe;function rPe(t,e){var r=t==null?0:t.length;return!!r&&tPe(t,e,0)>-1}var nPe=rPe;function sPe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var aPe=sPe;function iPe(){}var oPe=iPe,z5=fK,lPe=oPe,cPe=Jk,dPe=1/0,uPe=z5&&1/cPe(new z5([,-0]))[1]==dPe?function(t){return new z5(t)}:lPe,hPe=uPe,APe=aK,mPe=nPe,fPe=aPe,pPe=oK,gPe=hPe,xPe=Jk,yPe=200;function bPe(t,e,r){var n=-1,a=mPe,i=t.length,o=!0,l=[],c=l;if(r)o=!1,a=fPe;else if(i>=yPe){var d=e?null:gPe(t);if(d)return xPe(d);o=!1,a=pPe,c=new APe}else c=e?[]:l;e:for(;++n<i;){var u=t[n],h=e?e(u):u;if(u=r||u!==0?u:0,o&&h===h){for(var A=c.length;A--;)if(c[A]===h)continue e;e&&c.push(h),l.push(u)}else a(c,h,r)||(c!==l&&c.push(h),l.push(u))}return l}var vPe=bPe,wPe=ol,jPe=vPe;function NPe(t,e){return t&&t.length?jPe(t,wPe(e)):[]}var _Pe=NPe;const gL=Tr(_Pe);function vK(t,e,r){return e===!0?gL(t,r):Ht(e)?gL(t,e):t}function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}var CPe=["ref"];function xL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(r),!0).forEach(function(n){Cj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jK(n.key),n)}}function BPe(t,e,r){return e&&yL(t.prototype,e),r&&yL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EPe(t,e,r){return e=A1(e),kPe(t,wK()?Reflect.construct(e,r||[],A1(t).constructor):e.apply(t,r))}function kPe(t,e){if(e&&($m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(t)}function PPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wK=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(t)}function FPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hB(t,e)}function hB(t,e){return hB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hB(t,e)}function Cj(t,e,r){return e=jK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jK(t){var e=TPe(t,"string");return $m(e)=="symbol"?e:e+""}function TPe(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OPe(t,e){if(t==null)return{};var r=IPe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DPe(t){return t.value}function MPe(t,e){if(ge.isValidElement(t))return ge.cloneElement(t,e);if(typeof t=="function")return ge.createElement(t,e);e.ref;var r=OPe(e,CPe);return ge.createElement(Yk,r)}var bL=1,Yu=function(t){function e(){var r;SPe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=EPe(this,e,[].concat(a)),Cj(r,"lastBoundingBox",{width:-1,height:-1}),r}return FPe(e,t),BPe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>bL||Math.abs(a.height-this.lastBoundingBox.height)>bL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?vl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,A;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((d||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();A={top:((u||0)-x.height)/2}}else A=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return vl(vl({},h),A)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=vl(vl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ge.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){n.wrapperNode=m}},MPe(i,vl(vl({},this.props),{},{payload:vK(u,d,DPe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=vl(vl({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&st(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(B.PureComponent);Cj(Yu,"displayName","Legend");Cj(Yu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vL=Ix,LPe=Zk,UPe=qa,wL=vL?vL.isConcatSpreadable:void 0;function RPe(t){return UPe(t)||LPe(t)||!!(wL&&t&&t[wL])}var QPe=RPe,$Pe=cK,HPe=QPe;function NK(t,e,r,n,a){var i=-1,o=t.length;for(r||(r=HPe),a||(a=[]);++i<o;){var l=t[i];e>0&&r(l)?e>1?NK(l,e-1,r,n,a):$Pe(a,l):n||(a[a.length]=l)}return a}var _K=NK;function qPe(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++a];if(r(i[c],c,i)===!1)break}return e}}var zPe=qPe,VPe=zPe,KPe=VPe(),WPe=KPe,GPe=WPe,XPe=_j;function YPe(t,e){return t&&GPe(t,e,XPe)}var CK=YPe,JPe=Lx;function ZPe(t,e){return function(r,n){if(r==null)return r;if(!JPe(r))return t(r,n);for(var a=r.length,i=e?a:-1,o=Object(r);(e?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var eFe=ZPe,tFe=CK,rFe=eFe,nFe=rFe(tFe),n6=nFe,sFe=n6,aFe=Lx;function iFe(t,e){var r=-1,n=aFe(t)?Array(t.length):[];return sFe(t,function(a,i,o){n[++r]=e(a,i,o)}),n}var SK=iFe;function oFe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var lFe=oFe,jL=jf;function cFe(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=jL(t),o=e!==void 0,l=e===null,c=e===e,d=jL(e);if(!l&&!d&&!i&&t>e||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!d&&t<e||d&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var dFe=cFe,uFe=dFe;function hFe(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,o=a.length,l=r.length;++n<o;){var c=uFe(a[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return t.index-e.index}var AFe=hFe,V5=Qk,mFe=$k,fFe=ol,pFe=SK,gFe=lFe,xFe=hK,yFe=AFe,bFe=kf,vFe=qa;function wFe(t,e,r){e.length?e=V5(e,function(i){return vFe(i)?function(o){return mFe(o,i.length===1?i[0]:i)}:i}):e=[bFe];var n=-1;e=V5(e,xFe(fFe));var a=pFe(t,function(i,o,l){var c=V5(e,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return gFe(a,function(i,o){return yFe(i,o,r)})}var jFe=wFe;function NFe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var _Fe=NFe,CFe=_Fe,NL=Math.max;function SFe(t,e,r){return e=NL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=NL(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(o),CFe(t,this,l)}}var BFe=SFe;function EFe(t){return function(){return t}}var kFe=EFe,PFe=vh,FFe=function(){try{var t=PFe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),BK=FFe,TFe=kFe,_L=BK,OFe=kf,IFe=_L?function(t,e){return _L(t,"toString",{configurable:!0,enumerable:!1,value:TFe(e),writable:!0})}:OFe,DFe=IFe,MFe=800,LFe=16,UFe=Date.now;function RFe(t){var e=0,r=0;return function(){var n=UFe(),a=LFe-(n-r);if(r=n,a>0){if(++e>=MFe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var QFe=RFe,$Fe=DFe,HFe=QFe,qFe=HFe($Fe),zFe=qFe,VFe=kf,KFe=BFe,WFe=zFe;function GFe(t,e){return WFe(KFe(t,e,VFe),t+"")}var XFe=GFe,YFe=Mk,JFe=Lx,ZFe=e6,eTe=Ud;function tTe(t,e,r){if(!eTe(r))return!1;var n=typeof e;return(n=="number"?JFe(r)&&ZFe(e,r.length):n=="string"&&e in r)?YFe(r[e],t):!1}var Sj=tTe,rTe=_K,nTe=jFe,sTe=XFe,CL=Sj,aTe=sTe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&CL(t,e[0],e[1])?e=[]:r>2&&CL(e[0],e[1],e[2])&&(e=[e[0]]),nTe(t,rTe(e,1),[])}),iTe=aTe;const s6=Tr(iTe);function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function AB(){return AB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AB.apply(this,arguments)}function oTe(t,e){return uTe(t)||dTe(t,e)||cTe(t,e)||lTe()}function lTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cTe(t,e){if(t){if(typeof t=="string")return SL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SL(t,e)}}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function uTe(t){if(Array.isArray(t))return t}function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(n){hTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hTe(t,e,r){return e=ATe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ATe(t){var e=mTe(t,"string");return L0(e)=="symbol"?e:e+""}function mTe(t,e){if(L0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fTe(t){return Array.isArray(t)&&hs(t[0])&&hs(t[1])?t.join(" ~ "):t}var pTe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,A=e.itemSorter,m=e.wrapperClassName,x=e.labelClassName,g=e.label,p=e.labelFormatter,f=e.accessibilityLayer,y=f===void 0?!1:f,b=function(){if(u&&u.length){var S={padding:0,margin:0},F=(A?s6(u,A):u).map(function(O,H){if(O.type==="none")return null;var U=K5({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),z=O.formatter||h||fTe,R=O.value,I=O.name,K=R,te=I;if(z&&K!=null&&te!=null){var Q=z(R,I,O,H,u);if(Array.isArray(Q)){var D=oTe(Q,2);K=D[0],te=D[1]}else K=Q}return ge.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:U},hs(te)?ge.createElement("span",{className:"recharts-tooltip-item-name"},te):null,hs(te)?ge.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ge.createElement("span",{className:"recharts-tooltip-item-value"},K),ge.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return ge.createElement("ul",{className:"recharts-tooltip-item-list",style:S},F)}return null},N=K5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),v=K5({margin:0},d),C=!nr(g),P=C?g:"",_=er("recharts-default-tooltip",m),k=er("recharts-tooltip-label",x);C&&p&&u!==void 0&&u!==null&&(P=p(g,u));var M=y?{role:"status","aria-live":"assertive"}:{};return ge.createElement("div",AB({className:_,style:N},M),ge.createElement("p",{className:k,style:v},ge.isValidElement(P)?P:"".concat(P)),b())};function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function Zb(t,e,r){return e=gTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gTe(t){var e=xTe(t,"string");return U0(e)=="symbol"?e:e+""}function xTe(t,e){if(U0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ip="recharts-tooltip-wrapper",yTe={visibility:"hidden"};function bTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return er(Ip,Zb(Zb(Zb(Zb({},"".concat(Ip,"-right"),st(r)&&e&&st(e.x)&&r>=e.x),"".concat(Ip,"-left"),st(r)&&e&&st(e.x)&&r<e.x),"".concat(Ip,"-bottom"),st(n)&&e&&st(e.y)&&n>=e.y),"".concat(Ip,"-top"),st(n)&&e&&st(e.y)&&n<e.y))}function EL(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&st(i[n]))return i[n];var u=r[n]-l-a,h=r[n]+a;if(e[n])return o[n]?u:h;if(o[n]){var A=u,m=c[n];return A<m?Math.max(h,c[n]):Math.max(u,c[n])}var x=h+l,g=c[n]+d;return x>g?Math.max(u,c[n]):Math.max(h,c[n])}function vTe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function wTe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=EL({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=EL({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=vTe({translateX:u,translateY:h,useTranslate3d:l})):d=yTe,{cssProperties:d,cssClasses:bTe({translateX:u,translateY:h,coordinate:r})}}function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){fB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kK(n.key),n)}}function _Te(t,e,r){return e&&NTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CTe(t,e,r){return e=m1(e),STe(t,EK()?Reflect.construct(e,r||[],m1(t).constructor):e.apply(t,r))}function STe(t,e){if(e&&(Hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BTe(t)}function BTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EK=function(){return!!t})()}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(t)}function ETe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mB(t,e)}function mB(t,e){return mB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mB(t,e)}function fB(t,e,r){return e=kK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kK(t){var e=kTe(t,"string");return Hm(e)=="symbol"?e:e+""}function kTe(t,e){if(Hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FL=1,PTe=function(t){function e(){var r;jTe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=CTe(this,e,[].concat(a)),fB(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fB(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return ETe(e,t),_Te(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>FL||Math.abs(n.height-this.state.lastBoundingBox.height)>FL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,A=a.isAnimationActive,m=a.offset,x=a.position,g=a.reverseDirection,p=a.useTranslate3d,f=a.viewBox,y=a.wrapperStyle,b=wTe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:f}),N=b.cssClasses,v=b.cssProperties,C=PL(PL({transition:A&&i?"transform ".concat(l,"ms ").concat(c):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return ge.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(_){n.wrapperNode=_}},d)}}])}(B.PureComponent),FTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pf={isSsr:FTe()};function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){a6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FK(n.key),n)}}function ITe(t,e,r){return e&&OTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DTe(t,e,r){return e=f1(e),MTe(t,PK()?Reflect.construct(e,r||[],f1(t).constructor):e.apply(t,r))}function MTe(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LTe(t)}function LTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PK=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(t)}function UTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pB(t,e)}function pB(t,e){return pB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pB(t,e)}function a6(t,e,r){return e=FK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FK(t){var e=RTe(t,"string");return qm(e)=="symbol"?e:e+""}function RTe(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QTe(t){return t.dataKey}function $Te(t,e){return ge.isValidElement(t)?ge.cloneElement(t,e):typeof t=="function"?ge.createElement(t,e):ge.createElement(pTe,e)}var Si=function(t){function e(){return TTe(this,e),DTe(this,e,arguments)}return UTe(e,t),ITe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,A=a.isAnimationActive,m=a.offset,x=a.payload,g=a.payloadUniqBy,p=a.position,f=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,N=a.wrapperStyle,v=x??[];h&&v.length&&(v=vK(x.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,QTe));var C=v.length>0;return ge.createElement(PTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:A,active:i,coordinate:u,hasPayload:C,offset:m,position:p,reverseDirection:f,useTranslate3d:y,viewBox:b,wrapperStyle:N},$Te(d,OL(OL({},this.props),{},{payload:v})))}}])}(B.PureComponent);a6(Si,"displayName","Tooltip");a6(Si,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HTe=il,qTe=function(){return HTe.Date.now()},zTe=qTe,VTe=/\s/;function KTe(t){for(var e=t.length;e--&&VTe.test(t.charAt(e)););return e}var WTe=KTe,GTe=WTe,XTe=/^\s+/;function YTe(t){return t&&t.slice(0,GTe(t)+1).replace(XTe,"")}var JTe=YTe,ZTe=JTe,IL=Ud,eOe=jf,DL=NaN,tOe=/^[-+]0x[0-9a-f]+$/i,rOe=/^0b[01]+$/i,nOe=/^0o[0-7]+$/i,sOe=parseInt;function aOe(t){if(typeof t=="number")return t;if(eOe(t))return DL;if(IL(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=IL(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ZTe(t);var r=rOe.test(t);return r||nOe.test(t)?sOe(t.slice(2),r?2:8):tOe.test(t)?DL:+t}var TK=aOe,iOe=Ud,W5=zTe,ML=TK,oOe="Expected a function",lOe=Math.max,cOe=Math.min;function dOe(t,e,r){var n,a,i,o,l,c,d=0,u=!1,h=!1,A=!0;if(typeof t!="function")throw new TypeError(oOe);e=ML(e)||0,iOe(r)&&(u=!!r.leading,h="maxWait"in r,i=h?lOe(ML(r.maxWait)||0,e):i,A="trailing"in r?!!r.trailing:A);function m(C){var P=n,_=a;return n=a=void 0,d=C,o=t.apply(_,P),o}function x(C){return d=C,l=setTimeout(f,e),u?m(C):o}function g(C){var P=C-c,_=C-d,k=e-P;return h?cOe(k,i-_):k}function p(C){var P=C-c,_=C-d;return c===void 0||P>=e||P<0||h&&_>=i}function f(){var C=W5();if(p(C))return y(C);l=setTimeout(f,g(C))}function y(C){return l=void 0,A&&n?m(C):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),d=0,n=c=a=l=void 0}function N(){return l===void 0?o:y(W5())}function v(){var C=W5(),P=p(C);if(n=arguments,a=this,c=C,P){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(f,e),m(c)}return l===void 0&&(l=setTimeout(f,e)),o}return v.cancel=b,v.flush=N,v}var uOe=dOe,hOe=uOe,AOe=Ud,mOe="Expected a function";function fOe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(mOe);return AOe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),hOe(t,e,{leading:n,maxWait:e,trailing:a})}var pOe=fOe;const OK=Tr(pOe);function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ev(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){gOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gOe(t,e,r){return e=xOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xOe(t){var e=yOe(t,"string");return R0(e)=="symbol"?e:e+""}function yOe(t,e){if(R0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bOe(t,e){return NOe(t)||jOe(t,e)||wOe(t,e)||vOe()}function vOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wOe(t,e){if(t){if(typeof t=="string")return UL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UL(t,e)}}function UL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function NOe(t){if(Array.isArray(t))return t}var i6=B.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,A=t.maxHeight,m=t.children,x=t.debounce,g=x===void 0?0:x,p=t.id,f=t.className,y=t.onResize,b=t.style,N=b===void 0?{}:b,v=B.useRef(null),C=B.useRef();C.current=y,B.useImperativeHandle(e,function(){return Object.defineProperty(v.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),v.current},configurable:!0})});var P=B.useState({containerWidth:a.width,containerHeight:a.height}),_=bOe(P,2),k=_[0],M=_[1],j=B.useCallback(function(F,O){M(function(H){var U=Math.round(F),z=Math.round(O);return H.containerWidth===U&&H.containerHeight===z?H:{containerWidth:U,containerHeight:z}})},[]);B.useEffect(function(){var F=function(I){var K,te=I[0].contentRect,Q=te.width,D=te.height;j(Q,D),(K=C.current)===null||K===void 0||K.call(C,Q,D)};g>0&&(F=OK(F,g,{trailing:!0,leading:!1}));var O=new ResizeObserver(F),H=v.current.getBoundingClientRect(),U=H.width,z=H.height;return j(U,z),O.observe(v.current),function(){O.disconnect()}},[j,g]);var S=B.useMemo(function(){var F=k.containerWidth,O=k.containerHeight;if(F<0||O<0)return null;yo(Du(o)||Du(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),yo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Du(o)?F:o,U=Du(c)?O:c;r&&r>0&&(H?U=H/r:U&&(H=U*r),A&&U>A&&(U=A)),yo(H>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,U,o,c,u,h,r);var z=!Array.isArray(m)&&Rl(m.type).endsWith("Chart");return ge.Children.map(m,function(R){return ge.isValidElement(R)?B.cloneElement(R,ev({width:H,height:U},z?{style:ev({height:"100%",width:"100%",maxHeight:U,maxWidth:H},R.props.style)}:{})):R})},[r,m,c,A,h,u,k,o]);return ge.createElement("div",{id:p?"".concat(p):void 0,className:er("recharts-responsive-container",f),style:ev(ev({},N),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:A}),ref:v},S)}),Ux=function(e){return null};Ux.displayName="Cell";function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){_Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Oe(t,e,r){return e=COe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function COe(t){var e=SOe(t,"string");return Q0(e)=="symbol"?e:e+""}function SOe(t,e){if(Q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gA={widthCache:{},cacheCount:0},BOe=2e3,EOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QL="recharts_measurement_span";function kOe(t){var e=gB({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Rg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pf.isSsr)return{width:0,height:0};var n=kOe(r),a=JSON.stringify({text:e,copyStyle:n});if(gA.widthCache[a])return gA.widthCache[a];try{var i=document.getElementById(QL);i||(i=document.createElement("span"),i.setAttribute("id",QL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=gB(gB({},EOe),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return gA.widthCache[a]=c,++gA.cacheCount>BOe&&(gA.cacheCount=0,gA.widthCache={}),c}catch{return{width:0,height:0}}},POe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function p1(t,e){return IOe(t)||OOe(t,e)||TOe(t,e)||FOe()}function FOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TOe(t,e){if(t){if(typeof t=="string")return $L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $L(t,e)}}function $L(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function IOe(t){if(Array.isArray(t))return t}function DOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LOe(n.key),n)}}function MOe(t,e,r){return e&&HL(t.prototype,e),r&&HL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LOe(t){var e=UOe(t,"string");return $0(e)=="symbol"?e:e+""}function UOe(t,e){if($0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ROe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QOe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$Oe=Object.keys(IK),KA="NaN";function HOe(t,e){return t*IK[e]}var tv=function(){function t(e,r){DOe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!ROe.test(r)&&(this.num=NaN,this.unit=""),$Oe.includes(r)&&(this.num=HOe(e,r),this.unit="px")}return MOe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=QOe.exec(r))!==null&&n!==void 0?n:[],i=p1(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function DK(t){if(t.includes(KA))return KA;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=qL.exec(e))!==null&&r!==void 0?r:[],a=p1(n,4),i=a[1],o=a[2],l=a[3],c=tv.parse(i??""),d=tv.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return KA;e=e.replace(qL,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,A=(h=zL.exec(e))!==null&&h!==void 0?h:[],m=p1(A,4),x=m[1],g=m[2],p=m[3],f=tv.parse(x??""),y=tv.parse(p??""),b=g==="+"?f.add(y):f.subtract(y);if(b.isNaN())return KA;e=e.replace(zL,b.toString())}return e}var VL=/\(([^()]*)\)/;function qOe(t){for(var e=t;e.includes("(");){var r=VL.exec(e),n=p1(r,2),a=n[1];e=e.replace(VL,DK(a))}return e}function zOe(t){var e=t.replace(/\s+/g,"");return e=qOe(e),e=DK(e),e}function VOe(t){try{return zOe(t)}catch{return KA}}function G5(t){var e=VOe(t.slice(5,-1));return e===KA?"":e}var KOe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WOe=["dx","dy","angle","className","breakAll"];function xB(){return xB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xB.apply(this,arguments)}function KL(t,e){if(t==null)return{};var r=GOe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WL(t,e){return ZOe(t)||JOe(t,e)||YOe(t,e)||XOe()}function XOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YOe(t,e){if(t){if(typeof t=="string")return GL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GL(t,e)}}function GL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ZOe(t){if(Array.isArray(t))return t}var MK=/[ \f\n\r\t\v\u2028\u2029]+/,LK=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];nr(r)||(n?i=r.toString().split(""):i=r.toString().split(MK));var o=i.map(function(c){return{word:c,width:Rg(c,a).width}}),l=n?0:Rg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},eIe=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=st(o),h=l,A=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(U,z){var R=z.word,I=z.width,K=U[U.length-1];if(K&&(a==null||i||K.width+I+n<Number(a)))K.words.push(R),K.width+=I+n;else{var te={words:[R],width:I};U.push(te)}return U},[])},m=A(r),x=function(H){return H.reduce(function(U,z){return U.width>z.width?U:z})};if(!u)return m;for(var g="",p=function(H){var U=h.slice(0,H),z=LK({breakAll:d,style:c,children:U+g}).wordsWithComputedWidth,R=A(z),I=R.length>o||x(R).width>Number(a);return[I,R]},f=0,y=h.length-1,b=0,N;f<=y&&b<=h.length-1;){var v=Math.floor((f+y)/2),C=v-1,P=p(C),_=WL(P,2),k=_[0],M=_[1],j=p(v),S=WL(j,1),F=S[0];if(!k&&!F&&(f=v+1),k&&F&&(y=v-1),!k&&F){N=M;break}b++}return N||m},XL=function(e){var r=nr(e)?[]:e.toString().split(MK);return[{words:r}]},tIe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Pf.isSsr){var c,d,u=LK({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,A=u.spaceWidth;c=h,d=A}else return XL(a);return eIe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,n)}return XL(a)},YL="#808080",dh=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,A=e.textAnchor,m=A===void 0?"start":A,x=e.verticalAnchor,g=x===void 0?"end":x,p=e.fill,f=p===void 0?YL:p,y=KL(e,KOe),b=B.useMemo(function(){return tIe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),N=y.dx,v=y.dy,C=y.angle,P=y.className,_=y.breakAll,k=KL(y,WOe);if(!hs(n)||!hs(i))return null;var M=n+(st(N)?N:0),j=i+(st(v)?v:0),S;switch(g){case"start":S=G5("calc(".concat(d,")"));break;case"middle":S=G5("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:S=G5("calc(".concat(b.length-1," * -").concat(l,")"));break}var F=[];if(h){var O=b[0].width,H=y.width;F.push("scale(".concat((st(H)?H/O:1)/O,")"))}return C&&F.push("rotate(".concat(C,", ").concat(M,", ").concat(j,")")),F.length&&(k.transform=F.join(" ")),ge.createElement("text",xB({},$t(k,!0),{x:M,y:j,className:er("recharts-text",P),textAnchor:m,fill:f.includes("url")?YL:f}),b.map(function(U,z){var R=U.words.join(_?"":" ");return ge.createElement("tspan",{x:M,dy:z===0?S:l,key:"".concat(R,"-").concat(z)},R)}))};function pd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o6(t){let e,r,n;t.length!==2?(e=pd,r=(l,c)=>pd(t(l),c),n=(l,c)=>t(l)-c):(e=t===pd||t===rIe?t:nIe,r=t,n=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function nIe(){return 0}function UK(t){return t===null?NaN:+t}function*sIe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const aIe=o6(pd),Rx=aIe.right;o6(UK).center;class JL extends Map{constructor(e,r=lIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(ZL(this,e))}has(e){return super.has(ZL(this,e))}set(e,r){return super.set(iIe(this,e),r)}delete(e){return super.delete(oIe(this,e))}}function ZL({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function iIe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function oIe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function lIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cIe(t=pd){if(t===pd)return RK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function RK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dIe=Math.sqrt(50),uIe=Math.sqrt(10),hIe=Math.sqrt(2);function g1(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=dIe?10:i>=uIe?5:i>=hIe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?g1(t,e,r*2):[l,c,d]}function yB(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?g1(e,t,r):g1(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function bB(t,e,r){return e=+e,t=+t,r=+r,g1(t,e,r)[2]}function vB(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?bB(e,t,r):bB(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function eU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function tU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QK(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?RK:cIe(a);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),A=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(e-d*h/c+A)),x=Math.min(n,Math.floor(e+(c-d)*h/c+A));QK(t,e,m,x,a)}const i=t[e];let o=r,l=n;for(Dp(t,r,e),a(t[n],i)>0&&Dp(t,r,n);o<l;){for(Dp(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Dp(t,r,l):(++l,Dp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Dp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function AIe(t,e,r){if(t=Float64Array.from(sIe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return tU(t);if(e>=1)return eU(t);var n,a=(n-1)*e,i=Math.floor(a),o=eU(QK(t,i).subarray(0,i+1)),l=tU(t.subarray(i+1));return o+(l-o)*(a-i)}}function mIe(t,e,r=UK){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function fIe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Wi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function cc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wB=Symbol("implicit");function l6(){var t=new JL,e=[],r=[],n=wB;function a(i){let o=t.get(i);if(o===void 0){if(n!==wB)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new JL;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return l6(e,r).unknown(n)},Wi.apply(a,arguments),a}function H0(){var t=l6().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var A=e().length,m=a<n,x=m?a:n,g=m?n:a;i=(g-x)/Math.max(1,A-c+d*2),l&&(i=Math.floor(i)),x+=(g-x-i*(A-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var p=fIe(A).map(function(f){return x+i*f});return r(m?p.reverse():p)}return t.domain=function(A){return arguments.length?(e(A),h()):e()},t.range=function(A){return arguments.length?([n,a]=A,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(A){return[n,a]=A,n=+n,a=+a,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(A){return arguments.length?(l=!!A,h()):l},t.padding=function(A){return arguments.length?(c=Math.min(1,d=+A),h()):c},t.paddingInner=function(A){return arguments.length?(c=Math.min(1,A),h()):c},t.paddingOuter=function(A){return arguments.length?(d=+A,h()):d},t.align=function(A){return arguments.length?(u=Math.max(0,Math.min(1,A)),h()):u},t.copy=function(){return H0(e(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Wi.apply(h(),arguments)}function $K(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $K(e())},t}function Qg(){return $K(H0.apply(null,arguments).paddingInner(1))}function c6(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function HK(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Qx(){}var q0=.7,x1=1/q0,wm="\\s*([+-]?\\d+)\\s*",z0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",el="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pIe=/^#([0-9a-f]{3,8})$/,gIe=new RegExp(`^rgb\\(${wm},${wm},${wm}\\)$`),xIe=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),yIe=new RegExp(`^rgba\\(${wm},${wm},${wm},${z0}\\)$`),bIe=new RegExp(`^rgba\\(${el},${el},${el},${z0}\\)$`),vIe=new RegExp(`^hsl\\(${z0},${el},${el}\\)$`),wIe=new RegExp(`^hsla\\(${z0},${el},${el},${z0}\\)$`),rU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c6(Qx,V0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nU,formatHex:nU,formatHex8:jIe,formatHsl:NIe,formatRgb:sU,toString:sU});function nU(){return this.rgb().formatHex()}function jIe(){return this.rgb().formatHex8()}function NIe(){return qK(this).formatHsl()}function sU(){return this.rgb().formatRgb()}function V0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=pIe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?aU(e):r===3?new Ua(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?rv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?rv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gIe.exec(t))?new Ua(e[1],e[2],e[3],1):(e=xIe.exec(t))?new Ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yIe.exec(t))?rv(e[1],e[2],e[3],e[4]):(e=bIe.exec(t))?rv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vIe.exec(t))?lU(e[1],e[2]/100,e[3]/100,1):(e=wIe.exec(t))?lU(e[1],e[2]/100,e[3]/100,e[4]):rU.hasOwnProperty(t)?aU(rU[t]):t==="transparent"?new Ua(NaN,NaN,NaN,0):null}function aU(t){return new Ua(t>>16&255,t>>8&255,t&255,1)}function rv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ua(t,e,r,n)}function _Ie(t){return t instanceof Qx||(t=V0(t)),t?(t=t.rgb(),new Ua(t.r,t.g,t.b,t.opacity)):new Ua}function jB(t,e,r,n){return arguments.length===1?_Ie(t):new Ua(t,e,r,n??1)}function Ua(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}c6(Ua,jB,HK(Qx,{brighter(t){return t=t==null?x1:Math.pow(x1,t),new Ua(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?q0:Math.pow(q0,t),new Ua(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ua(Ju(this.r),Ju(this.g),Ju(this.b),y1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iU,formatHex:iU,formatHex8:CIe,formatRgb:oU,toString:oU}));function iU(){return`#${Mu(this.r)}${Mu(this.g)}${Mu(this.b)}`}function CIe(){return`#${Mu(this.r)}${Mu(this.g)}${Mu(this.b)}${Mu((isNaN(this.opacity)?1:this.opacity)*255)}`}function oU(){const t=y1(this.opacity);return`${t===1?"rgb(":"rgba("}${Ju(this.r)}, ${Ju(this.g)}, ${Ju(this.b)}${t===1?")":`, ${t})`}`}function y1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ju(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mu(t){return t=Ju(t),(t<16?"0":"")+t.toString(16)}function lU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new mo(t,e,r,n)}function qK(t){if(t instanceof mo)return new mo(t.h,t.s,t.l,t.opacity);if(t instanceof Qx||(t=V0(t)),!t)return new mo;if(t instanceof mo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new mo(o,l,c,t.opacity)}function SIe(t,e,r,n){return arguments.length===1?qK(t):new mo(t,e,r,n??1)}function mo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}c6(mo,SIe,HK(Qx,{brighter(t){return t=t==null?x1:Math.pow(x1,t),new mo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?q0:Math.pow(q0,t),new mo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Ua(X5(t>=240?t-240:t+120,a,n),X5(t,a,n),X5(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new mo(cU(this.h),nv(this.s),nv(this.l),y1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=y1(this.opacity);return`${t===1?"hsl(":"hsla("}${cU(this.h)}, ${nv(this.s)*100}%, ${nv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cU(t){return t=(t||0)%360,t<0?t+360:t}function nv(t){return Math.max(0,Math.min(1,t||0))}function X5(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const d6=t=>()=>t;function BIe(t,e){return function(r){return t+r*e}}function EIe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function kIe(t){return(t=+t)==1?zK:function(e,r){return r-e?EIe(e,r,t):d6(isNaN(e)?r:e)}}function zK(t,e){var r=e-t;return r?BIe(t,r):d6(isNaN(t)?e:t)}const dU=function t(e){var r=kIe(e);function n(a,i){var o=r((a=jB(a)).r,(i=jB(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=zK(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=t,n}(1);function PIe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function FIe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function TIe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ff(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function OIe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function b1(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function IIe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Ff(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var NB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y5=new RegExp(NB.source,"g");function DIe(t){return function(){return t}}function MIe(t){return function(e){return t(e)+""}}function LIe(t,e){var r=NB.lastIndex=Y5.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=NB.exec(t))&&(a=Y5.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:b1(n,a)})),r=Y5.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?MIe(c[0].x):DIe(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Ff(t,e){var r=typeof e,n;return e==null||r==="boolean"?d6(e):(r==="number"?b1:r==="string"?(n=V0(e))?(e=n,dU):LIe:e instanceof V0?dU:e instanceof Date?OIe:FIe(e)?PIe:Array.isArray(e)?TIe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?IIe:b1)(t,e)}function u6(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function UIe(t,e){e===void 0&&(e=t,t=Ff);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function RIe(t){return function(){return t}}function v1(t){return+t}var uU=[0,1];function ba(t){return t}function _B(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:RIe(isNaN(e)?NaN:.5)}function QIe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function $Ie(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=_B(a,n),i=r(o,i)):(n=_B(n,a),i=r(i,o)),function(l){return i(n(l))}}function HIe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=_B(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=Rx(t,l,1,n)-1;return i[c](a[c](l))}}function $x(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bj(){var t=uU,e=uU,r=Ff,n,a,i,o=ba,l,c,d;function u(){var A=Math.min(t.length,e.length);return o!==ba&&(o=QIe(t[0],t[A-1])),l=A>2?HIe:$Ie,c=d=null,h}function h(A){return A==null||isNaN(A=+A)?i:(c||(c=l(t.map(n),e,r)))(n(o(A)))}return h.invert=function(A){return o(a((d||(d=l(e,t.map(n),b1)))(A)))},h.domain=function(A){return arguments.length?(t=Array.from(A,v1),u()):t.slice()},h.range=function(A){return arguments.length?(e=Array.from(A),u()):e.slice()},h.rangeRound=function(A){return e=Array.from(A),r=u6,u()},h.clamp=function(A){return arguments.length?(o=A?!0:ba,u()):o!==ba},h.interpolate=function(A){return arguments.length?(r=A,u()):r},h.unknown=function(A){return arguments.length?(i=A,h):i},function(A,m){return n=A,a=m,u()}}function h6(){return Bj()(ba,ba)}function qIe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function w1(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function zm(t){return t=w1(Math.abs(t)),t?t[1]:NaN}function zIe(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function VIe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var KIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function K0(t){if(!(e=KIe.exec(t)))throw new Error("invalid format: "+t);var e;return new A6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}K0.prototype=A6.prototype;function A6(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}A6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WIe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var VK;function GIe(t,e){var r=w1(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(VK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+w1(t,Math.max(0,e+i-1))[0]}function hU(t,e){var r=w1(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const AU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qIe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hU(t*100,e),r:hU,s:GIe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mU(t){return t}var fU=Array.prototype.map,pU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function XIe(t){var e=t.grouping===void 0||t.thousands===void 0?mU:zIe(fU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?mU:VIe(fU.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=K0(h);var A=h.fill,m=h.align,x=h.sign,g=h.symbol,p=h.zero,f=h.width,y=h.comma,b=h.precision,N=h.trim,v=h.type;v==="n"?(y=!0,v="g"):AU[v]||(b===void 0&&(b=12),N=!0,v="g"),(p||A==="0"&&m==="=")&&(p=!0,A="0",m="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",P=g==="$"?n:/[%p]/.test(v)?o:"",_=AU[v],k=/[defgprs%]/.test(v);b=b===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(j){var S=C,F=P,O,H,U;if(v==="c")F=_(j)+F,j="";else{j=+j;var z=j<0||1/j<0;if(j=isNaN(j)?c:_(Math.abs(j),b),N&&(j=WIe(j)),z&&+j==0&&x!=="+"&&(z=!1),S=(z?x==="("?x:l:x==="-"||x==="("?"":x)+S,F=(v==="s"?pU[8+VK/3]:"")+F+(z&&x==="("?")":""),k){for(O=-1,H=j.length;++O<H;)if(U=j.charCodeAt(O),48>U||U>57){F=(U===46?a+j.slice(O+1):j.slice(O))+F,j=j.slice(0,O);break}}}y&&!p&&(j=e(j,1/0));var R=S.length+j.length+F.length,I=R<f?new Array(f-R+1).join(A):"";switch(y&&p&&(j=e(I+j,I.length?f-F.length:1/0),I=""),m){case"<":j=S+j+F+I;break;case"=":j=S+I+j+F;break;case"^":j=I.slice(0,R=I.length>>1)+S+j+F+I.slice(R);break;default:j=I+S+j+F;break}return i(j)}return M.toString=function(){return h+""},M}function u(h,A){var m=d((h=K0(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(zm(A)/3)))*3,g=Math.pow(10,-x),p=pU[8+x/3];return function(f){return m(g*f)+p}}return{format:d,formatPrefix:u}}var sv,m6,KK;YIe({thousands:",",grouping:[3],currency:["$",""]});function YIe(t){return sv=XIe(t),m6=sv.format,KK=sv.formatPrefix,sv}function JIe(t){return Math.max(0,-zm(Math.abs(t)))}function ZIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zm(e)/3)))*3-zm(Math.abs(t)))}function eDe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zm(e)-zm(t))+1}function WK(t,e,r,n){var a=vB(t,e,r),i;switch(n=K0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=ZIe(a,o))&&(n.precision=i),KK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=eDe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=JIe(a))&&(n.precision=i-(n.type==="%")*2);break}}return m6(n)}function Rd(t){var e=t.domain;return t.ticks=function(r){var n=e();return yB(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return WK(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=bB(o,l,r),d===c)return n[a]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function j1(){var t=h6();return t.copy=function(){return $x(t,j1())},Wi.apply(t,arguments),Rd(t)}function GK(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,v1),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return GK(t).unknown(e)},t=arguments.length?Array.from(t,v1):[0,1],Rd(r)}function XK(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function gU(t){return Math.log(t)}function xU(t){return Math.exp(t)}function tDe(t){return-Math.log(-t)}function rDe(t){return-Math.exp(-t)}function nDe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sDe(t){return t===10?nDe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aDe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yU(t){return(e,r)=>-t(-e,r)}function f6(t){const e=t(gU,xU),r=e.domain;let n=10,a,i;function o(){return a=aDe(n),i=sDe(n),r()[0]<0?(a=yU(a),i=yU(i),t(tDe,rDe)):t(gU,xU),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let A=a(d),m=a(u),x,g;const p=l==null?10:+l;let f=[];if(!(n%1)&&m-A<p){if(A=Math.floor(A),m=Math.ceil(m),d>0){for(;A<=m;++A)for(x=1;x<n;++x)if(g=A<0?x/i(-A):x*i(A),!(g<d)){if(g>u)break;f.push(g)}}else for(;A<=m;++A)for(x=n-1;x>=1;--x)if(g=A>0?x/i(-A):x*i(A),!(g<d)){if(g>u)break;f.push(g)}f.length*2<p&&(f=yB(d,u,p))}else f=yB(A,m,Math.min(m-A,p)).map(i);return h?f.reverse():f},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=K0(c)).precision==null&&(c.trim=!0),c=m6(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},e.nice=()=>r(XK(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function YK(){const t=f6(Bj()).domain([1,10]);return t.copy=()=>$x(t,YK()).base(t.base()),Wi.apply(t,arguments),t}function bU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function p6(t){var e=1,r=t(bU(e),vU(e));return r.constant=function(n){return arguments.length?t(bU(e=+n),vU(e)):e},Rd(r)}function JK(){var t=p6(Bj());return t.copy=function(){return $x(t,JK()).constant(t.constant())},Wi.apply(t,arguments)}function wU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iDe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oDe(t){return t<0?-t*t:t*t}function g6(t){var e=t(ba,ba),r=1;function n(){return r===1?t(ba,ba):r===.5?t(iDe,oDe):t(wU(r),wU(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Rd(e)}function x6(){var t=g6(Bj());return t.copy=function(){return $x(t,x6()).exponent(t.exponent())},Wi.apply(t,arguments),t}function lDe(){return x6.apply(null,arguments).exponent(.5)}function jU(t){return Math.sign(t)*t*t}function cDe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ZK(){var t=h6(),e=[0,1],r=!1,n;function a(i){var o=cDe(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(jU(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,v1)).map(jU)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ZK(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Wi.apply(a,arguments),Rd(a)}function eW(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=mIe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[Rx(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(pd),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return eW().domain(t).range(e).unknown(n)},Wi.apply(i,arguments)}function tW(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Rx(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return tW().domain([t,e]).range(a).unknown(i)},Wi.apply(Rd(o),arguments)}function rW(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Rx(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return rW().domain(t).range(e).unknown(r)},Wi.apply(a,arguments)}const J5=new Date,Z5=new Date;function fs(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>fs(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(J5.setTime(+i),Z5.setTime(+o),t(J5),t(Z5),Math.floor(r(J5,Z5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const N1=fs(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);N1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fs(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):N1);N1.range;const Il=1e3,Li=Il*60,Dl=Li*60,Jl=Dl*24,y6=Jl*7,NU=Jl*30,eC=Jl*365,Lu=fs(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Il)},(t,e)=>(e-t)/Il,t=>t.getUTCSeconds());Lu.range;const b6=fs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Il)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());b6.range;const v6=fs(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());v6.range;const w6=fs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Il-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*Dl)},(t,e)=>(e-t)/Dl,t=>t.getHours());w6.range;const j6=fs(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Dl)},(t,e)=>(e-t)/Dl,t=>t.getUTCHours());j6.range;const Hx=fs(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/Jl,t=>t.getDate()-1);Hx.range;const Ej=fs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jl,t=>t.getUTCDate()-1);Ej.range;const nW=fs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jl,t=>Math.floor(t/Jl));nW.range;function wh(t){return fs(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Li)/y6)}const kj=wh(0),_1=wh(1),dDe=wh(2),uDe=wh(3),Vm=wh(4),hDe=wh(5),ADe=wh(6);kj.range;_1.range;dDe.range;uDe.range;Vm.range;hDe.range;ADe.range;function jh(t){return fs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/y6)}const Pj=jh(0),C1=jh(1),mDe=jh(2),fDe=jh(3),Km=jh(4),pDe=jh(5),gDe=jh(6);Pj.range;C1.range;mDe.range;fDe.range;Km.range;pDe.range;gDe.range;const N6=fs(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());N6.range;const _6=fs(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_6.range;const Zl=fs(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Zl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fs(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Zl.range;const ec=fs(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ec.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ec.range;function sW(t,e,r,n,a,i){const o=[[Lu,1,Il],[Lu,5,5*Il],[Lu,15,15*Il],[Lu,30,30*Il],[i,1,Li],[i,5,5*Li],[i,15,15*Li],[i,30,30*Li],[a,1,Dl],[a,3,3*Dl],[a,6,6*Dl],[a,12,12*Dl],[n,1,Jl],[n,2,2*Jl],[r,1,y6],[e,1,NU],[e,3,3*NU],[t,1,eC]];function l(d,u,h){const A=u<d;A&&([d,u]=[u,d]);const m=h&&typeof h.range=="function"?h:c(d,u,h),x=m?m.range(d,+u+1):[];return A?x.reverse():x}function c(d,u,h){const A=Math.abs(u-d)/h,m=o6(([,,p])=>p).right(o,A);if(m===o.length)return t.every(vB(d/eC,u/eC,h));if(m===0)return N1.every(Math.max(vB(d,u,h),1));const[x,g]=o[A/o[m-1][2]<o[m][2]/A?m-1:m];return x.every(g)}return[l,c]}const[xDe,yDe]=sW(ec,_6,Pj,nW,j6,v6),[bDe,vDe]=sW(Zl,N6,kj,Hx,w6,b6);function tC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function wDe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Lp(a),u=Up(a),h=Lp(i),A=Up(i),m=Lp(o),x=Up(o),g=Lp(l),p=Up(l),f=Lp(c),y=Up(c),b={a:z,A:R,b:I,B:K,c:null,d:kU,e:kU,f:zDe,g:tMe,G:nMe,H:$De,I:HDe,j:qDe,L:aW,m:VDe,M:KDe,p:te,q:Q,Q:TU,s:OU,S:WDe,u:GDe,U:XDe,V:YDe,w:JDe,W:ZDe,x:null,X:null,y:eMe,Y:rMe,Z:sMe,"%":FU},N={a:D,A:X,b:V,B:de,c:null,d:PU,e:PU,f:lMe,g:xMe,G:bMe,H:aMe,I:iMe,j:oMe,L:oW,m:cMe,M:dMe,p:le,q:ie,Q:TU,s:OU,S:uMe,u:hMe,U:AMe,V:mMe,w:fMe,W:pMe,x:null,X:null,y:gMe,Y:yMe,Z:vMe,"%":FU},v={a:M,A:j,b:S,B:F,c:O,d:BU,e:BU,f:LDe,g:SU,G:CU,H:EU,I:EU,j:ODe,L:MDe,m:TDe,M:IDe,p:k,q:FDe,Q:RDe,s:QDe,S:DDe,u:SDe,U:BDe,V:EDe,w:CDe,W:kDe,x:H,X:U,y:SU,Y:CU,Z:PDe,"%":UDe};b.x=C(r,b),b.X=C(n,b),b.c=C(e,b),N.x=C(r,N),N.X=C(n,N),N.c=C(e,N);function C(ce,be){return function(J){var ue=[],ke=-1,Qe=0,we=ce.length,q,Ne,Be;for(J instanceof Date||(J=new Date(+J));++ke<we;)ce.charCodeAt(ke)===37&&(ue.push(ce.slice(Qe,ke)),(Ne=_U[q=ce.charAt(++ke)])!=null?q=ce.charAt(++ke):Ne=q==="e"?" ":"0",(Be=be[q])&&(q=Be(J,Ne)),ue.push(q),Qe=ke+1);return ue.push(ce.slice(Qe,ke)),ue.join("")}}function P(ce,be){return function(J){var ue=Mp(1900,void 0,1),ke=_(ue,ce,J+="",0),Qe,we;if(ke!=J.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(be&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Qe=rC(Mp(ue.y,0,1)),we=Qe.getUTCDay(),Qe=we>4||we===0?C1.ceil(Qe):C1(Qe),Qe=Ej.offset(Qe,(ue.V-1)*7),ue.y=Qe.getUTCFullYear(),ue.m=Qe.getUTCMonth(),ue.d=Qe.getUTCDate()+(ue.w+6)%7):(Qe=tC(Mp(ue.y,0,1)),we=Qe.getDay(),Qe=we>4||we===0?_1.ceil(Qe):_1(Qe),Qe=Hx.offset(Qe,(ue.V-1)*7),ue.y=Qe.getFullYear(),ue.m=Qe.getMonth(),ue.d=Qe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),we="Z"in ue?rC(Mp(ue.y,0,1)).getUTCDay():tC(Mp(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(we+5)%7:ue.w+ue.U*7-(we+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,rC(ue)):tC(ue)}}function _(ce,be,J,ue){for(var ke=0,Qe=be.length,we=J.length,q,Ne;ke<Qe;){if(ue>=we)return-1;if(q=be.charCodeAt(ke++),q===37){if(q=be.charAt(ke++),Ne=v[q in _U?be.charAt(ke++):q],!Ne||(ue=Ne(ce,J,ue))<0)return-1}else if(q!=J.charCodeAt(ue++))return-1}return ue}function k(ce,be,J){var ue=d.exec(be.slice(J));return ue?(ce.p=u.get(ue[0].toLowerCase()),J+ue[0].length):-1}function M(ce,be,J){var ue=m.exec(be.slice(J));return ue?(ce.w=x.get(ue[0].toLowerCase()),J+ue[0].length):-1}function j(ce,be,J){var ue=h.exec(be.slice(J));return ue?(ce.w=A.get(ue[0].toLowerCase()),J+ue[0].length):-1}function S(ce,be,J){var ue=f.exec(be.slice(J));return ue?(ce.m=y.get(ue[0].toLowerCase()),J+ue[0].length):-1}function F(ce,be,J){var ue=g.exec(be.slice(J));return ue?(ce.m=p.get(ue[0].toLowerCase()),J+ue[0].length):-1}function O(ce,be,J){return _(ce,e,be,J)}function H(ce,be,J){return _(ce,r,be,J)}function U(ce,be,J){return _(ce,n,be,J)}function z(ce){return o[ce.getDay()]}function R(ce){return i[ce.getDay()]}function I(ce){return c[ce.getMonth()]}function K(ce){return l[ce.getMonth()]}function te(ce){return a[+(ce.getHours()>=12)]}function Q(ce){return 1+~~(ce.getMonth()/3)}function D(ce){return o[ce.getUTCDay()]}function X(ce){return i[ce.getUTCDay()]}function V(ce){return c[ce.getUTCMonth()]}function de(ce){return l[ce.getUTCMonth()]}function le(ce){return a[+(ce.getUTCHours()>=12)]}function ie(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var be=C(ce+="",b);return be.toString=function(){return ce},be},parse:function(ce){var be=P(ce+="",!1);return be.toString=function(){return ce},be},utcFormat:function(ce){var be=C(ce+="",N);return be.toString=function(){return ce},be},utcParse:function(ce){var be=P(ce+="",!0);return be.toString=function(){return ce},be}}}var _U={"-":"",_:" ",0:"0"},ks=/^\s*\d+/,jDe=/^%/,NDe=/[\\^$*+?|[\]().{}]/g;function xr(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function _De(t){return t.replace(NDe,"\\$&")}function Lp(t){return new RegExp("^(?:"+t.map(_De).join("|")+")","i")}function Up(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function CDe(t,e,r){var n=ks.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function SDe(t,e,r){var n=ks.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function BDe(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function EDe(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function kDe(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function CU(t,e,r){var n=ks.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function SU(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PDe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function FDe(t,e,r){var n=ks.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function TDe(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function BU(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ODe(t,e,r){var n=ks.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function EU(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function IDe(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function DDe(t,e,r){var n=ks.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function MDe(t,e,r){var n=ks.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function LDe(t,e,r){var n=ks.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UDe(t,e,r){var n=jDe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function RDe(t,e,r){var n=ks.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function QDe(t,e,r){var n=ks.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function kU(t,e){return xr(t.getDate(),e,2)}function $De(t,e){return xr(t.getHours(),e,2)}function HDe(t,e){return xr(t.getHours()%12||12,e,2)}function qDe(t,e){return xr(1+Hx.count(Zl(t),t),e,3)}function aW(t,e){return xr(t.getMilliseconds(),e,3)}function zDe(t,e){return aW(t,e)+"000"}function VDe(t,e){return xr(t.getMonth()+1,e,2)}function KDe(t,e){return xr(t.getMinutes(),e,2)}function WDe(t,e){return xr(t.getSeconds(),e,2)}function GDe(t){var e=t.getDay();return e===0?7:e}function XDe(t,e){return xr(kj.count(Zl(t)-1,t),e,2)}function iW(t){var e=t.getDay();return e>=4||e===0?Vm(t):Vm.ceil(t)}function YDe(t,e){return t=iW(t),xr(Vm.count(Zl(t),t)+(Zl(t).getDay()===4),e,2)}function JDe(t){return t.getDay()}function ZDe(t,e){return xr(_1.count(Zl(t)-1,t),e,2)}function eMe(t,e){return xr(t.getFullYear()%100,e,2)}function tMe(t,e){return t=iW(t),xr(t.getFullYear()%100,e,2)}function rMe(t,e){return xr(t.getFullYear()%1e4,e,4)}function nMe(t,e){var r=t.getDay();return t=r>=4||r===0?Vm(t):Vm.ceil(t),xr(t.getFullYear()%1e4,e,4)}function sMe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xr(e/60|0,"0",2)+xr(e%60,"0",2)}function PU(t,e){return xr(t.getUTCDate(),e,2)}function aMe(t,e){return xr(t.getUTCHours(),e,2)}function iMe(t,e){return xr(t.getUTCHours()%12||12,e,2)}function oMe(t,e){return xr(1+Ej.count(ec(t),t),e,3)}function oW(t,e){return xr(t.getUTCMilliseconds(),e,3)}function lMe(t,e){return oW(t,e)+"000"}function cMe(t,e){return xr(t.getUTCMonth()+1,e,2)}function dMe(t,e){return xr(t.getUTCMinutes(),e,2)}function uMe(t,e){return xr(t.getUTCSeconds(),e,2)}function hMe(t){var e=t.getUTCDay();return e===0?7:e}function AMe(t,e){return xr(Pj.count(ec(t)-1,t),e,2)}function lW(t){var e=t.getUTCDay();return e>=4||e===0?Km(t):Km.ceil(t)}function mMe(t,e){return t=lW(t),xr(Km.count(ec(t),t)+(ec(t).getUTCDay()===4),e,2)}function fMe(t){return t.getUTCDay()}function pMe(t,e){return xr(C1.count(ec(t)-1,t),e,2)}function gMe(t,e){return xr(t.getUTCFullYear()%100,e,2)}function xMe(t,e){return t=lW(t),xr(t.getUTCFullYear()%100,e,2)}function yMe(t,e){return xr(t.getUTCFullYear()%1e4,e,4)}function bMe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Km(t):Km.ceil(t),xr(t.getUTCFullYear()%1e4,e,4)}function vMe(){return"+0000"}function FU(){return"%"}function TU(t){return+t}function OU(t){return Math.floor(+t/1e3)}var xA,cW,dW;wMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wMe(t){return xA=wDe(t),cW=xA.format,xA.parse,dW=xA.utcFormat,xA.utcParse,xA}function jMe(t){return new Date(t)}function NMe(t){return t instanceof Date?+t:+new Date(+t)}function C6(t,e,r,n,a,i,o,l,c,d){var u=h6(),h=u.invert,A=u.domain,m=d(".%L"),x=d(":%S"),g=d("%I:%M"),p=d("%I %p"),f=d("%a %d"),y=d("%b %d"),b=d("%B"),N=d("%Y");function v(C){return(c(C)<C?m:l(C)<C?x:o(C)<C?g:i(C)<C?p:n(C)<C?a(C)<C?f:y:r(C)<C?b:N)(C)}return u.invert=function(C){return new Date(h(C))},u.domain=function(C){return arguments.length?A(Array.from(C,NMe)):A().map(jMe)},u.ticks=function(C){var P=A();return t(P[0],P[P.length-1],C??10)},u.tickFormat=function(C,P){return P==null?v:d(P)},u.nice=function(C){var P=A();return(!C||typeof C.range!="function")&&(C=e(P[0],P[P.length-1],C??10)),C?A(XK(P,C)):u},u.copy=function(){return $x(u,C6(t,e,r,n,a,i,o,l,c,d))},u}function _Me(){return Wi.apply(C6(bDe,vDe,Zl,N6,kj,Hx,w6,b6,Lu,cW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CMe(){return Wi.apply(C6(xDe,yDe,ec,_6,Pj,Ej,j6,v6,Lu,dW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fj(){var t=0,e=1,r,n,a,i,o=ba,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(A){var m,x;return arguments.length?([m,x]=A,o=h(m,x),d):[o(0),o(1)]}}return d.range=u(Ff),d.rangeRound=u(u6),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(t),n=h(e),a=r===n?0:1/(n-r),d}}function Qd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uW(){var t=Rd(Fj()(ba));return t.copy=function(){return Qd(t,uW())},cc.apply(t,arguments)}function hW(){var t=f6(Fj()).domain([1,10]);return t.copy=function(){return Qd(t,hW()).base(t.base())},cc.apply(t,arguments)}function AW(){var t=p6(Fj());return t.copy=function(){return Qd(t,AW()).constant(t.constant())},cc.apply(t,arguments)}function S6(){var t=g6(Fj());return t.copy=function(){return Qd(t,S6()).exponent(t.exponent())},cc.apply(t,arguments)}function SMe(){return S6.apply(null,arguments).exponent(.5)}function mW(){var t=[],e=ba;function r(n){if(n!=null&&!isNaN(n=+n))return e((Rx(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(pd),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>AIe(t,i/n))},r.copy=function(){return mW(e).domain(t)},cc.apply(r,arguments)}function Tj(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,d=ba,u,h=!1,A;function m(g){return isNaN(g=+g)?A:(g=.5+((g=+u(g))-i)*(n*g<n*i?l:c),d(h?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,a=u(t=+t),i=u(e=+e),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(h=!!g,m):h},m.interpolator=function(g){return arguments.length?(d=g,m):d};function x(g){return function(p){var f,y,b;return arguments.length?([f,y,b]=p,d=UIe(g,[f,y,b]),m):[d(0),d(.5),d(1)]}}return m.range=x(Ff),m.rangeRound=x(u6),m.unknown=function(g){return arguments.length?(A=g,m):A},function(g){return u=g,a=g(t),i=g(e),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function fW(){var t=Rd(Tj()(ba));return t.copy=function(){return Qd(t,fW())},cc.apply(t,arguments)}function pW(){var t=f6(Tj()).domain([.1,1,10]);return t.copy=function(){return Qd(t,pW()).base(t.base())},cc.apply(t,arguments)}function gW(){var t=p6(Tj());return t.copy=function(){return Qd(t,gW()).constant(t.constant())},cc.apply(t,arguments)}function B6(){var t=g6(Tj());return t.copy=function(){return Qd(t,B6()).exponent(t.exponent())},cc.apply(t,arguments)}function BMe(){return B6.apply(null,arguments).exponent(.5)}const IU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:H0,scaleDiverging:fW,scaleDivergingLog:pW,scaleDivergingPow:B6,scaleDivergingSqrt:BMe,scaleDivergingSymlog:gW,scaleIdentity:GK,scaleImplicit:wB,scaleLinear:j1,scaleLog:YK,scaleOrdinal:l6,scalePoint:Qg,scalePow:x6,scaleQuantile:eW,scaleQuantize:tW,scaleRadial:ZK,scaleSequential:uW,scaleSequentialLog:hW,scaleSequentialPow:S6,scaleSequentialQuantile:mW,scaleSequentialSqrt:SMe,scaleSequentialSymlog:AW,scaleSqrt:lDe,scaleSymlog:JK,scaleThreshold:rW,scaleTime:_Me,scaleUtc:CMe,tickFormat:WK},Symbol.toStringTag,{value:"Module"}));var EMe=jf;function kMe(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],o=e(i);if(o!=null&&(l===void 0?o===o&&!EMe(o):r(o,l)))var l=o,c=i}return c}var Oj=kMe;function PMe(t,e){return t>e}var xW=PMe,FMe=Oj,TMe=xW,OMe=kf;function IMe(t){return t&&t.length?FMe(t,OMe,TMe):void 0}var DMe=IMe;const Ij=Tr(DMe);function MMe(t,e){return t<e}var yW=MMe,LMe=Oj,UMe=yW,RMe=kf;function QMe(t){return t&&t.length?LMe(t,RMe,UMe):void 0}var $Me=QMe;const Dj=Tr($Me);var HMe=Qk,qMe=ol,zMe=SK,VMe=qa;function KMe(t,e){var r=VMe(t)?HMe:zMe;return r(t,qMe(e))}var WMe=KMe,GMe=_K,XMe=WMe;function YMe(t,e){return GMe(XMe(t,e),1)}var JMe=YMe;const ZMe=Tr(JMe);var eLe=r6;function tLe(t,e){return eLe(t,e)}var rLe=tLe;const Mj=Tr(rLe);var Tf=1e9,nLe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},k6,mn=!0,Vi="[DecimalError] ",Zu=Vi+"Invalid argument: ",E6=Vi+"Exponent out of range: ",Of=Math.floor,bu=Math.pow,sLe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ti,vs=1e7,sn=7,bW=9007199254740991,S1=Of(bW/sn),jt={};jt.absoluteValue=jt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};jt.comparedTo=jt.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*sn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};jt.dividedBy=jt.div=function(t){return Ql(this,new this.constructor(t))};jt.dividedToIntegerBy=jt.idiv=function(t){var e=this,r=e.constructor;return $r(Ql(e,new r(t),0,1),r.precision)};jt.equals=jt.eq=function(t){return!this.cmp(t)};jt.exponent=function(){return rs(this)};jt.greaterThan=jt.gt=function(t){return this.cmp(t)>0};jt.greaterThanOrEqualTo=jt.gte=function(t){return this.cmp(t)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(t){return this.cmp(t)<0};jt.lessThanOrEqualTo=jt.lte=function(t){return this.cmp(t)<1};jt.logarithm=jt.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ti))throw Error(Vi+"NaN");if(r.s<1)throw Error(Vi+(r.s?"NaN":"-Infinity"));return r.eq(ti)?new n(0):(mn=!1,e=Ql(W0(r,i),W0(t,i),i),mn=!0,$r(e,a))};jt.minus=jt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jW(e,t):vW(e,(t.s=-t.s,t))};jt.modulo=jt.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Vi+"NaN");return r.s?(mn=!1,e=Ql(r,t,0,1).times(t),mn=!0,r.minus(e)):$r(new n(r),a)};jt.naturalExponential=jt.exp=function(){return wW(this)};jt.naturalLogarithm=jt.ln=function(){return W0(this)};jt.negated=jt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};jt.plus=jt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vW(e,t):jW(e,(t.s=-t.s,t))};jt.precision=jt.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zu+t);if(e=rs(a)+1,n=a.d.length-1,r=n*sn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};jt.squareRoot=jt.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vi+"NaN")}for(t=rs(l),mn=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=zo(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Of((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ql(l,i,o+2)).times(.5),zo(i.d).slice(0,o)===(e=zo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if($r(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return mn=!0,$r(n,r)};jt.times=jt.mul=function(t){var e,r,n,a,i,o,l,c,d,u=this,h=u.constructor,A=u.d,m=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,r=u.e+t.e,c=A.length,d=m.length,c<d&&(i=A,A=m,m=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+m[n]*A[a-n-1]+e,i[a--]=l%vs|0,e=l/vs|0;i[a]=(i[a]+e)%vs|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,mn?$r(t,h.precision):t};jt.toDecimalPlaces=jt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(rl(t,0,Tf),e===void 0?e=n.rounding:rl(e,0,8),$r(r,t+rs(r)+1,e))};jt.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=uh(n,!0):(rl(t,0,Tf),e===void 0?e=a.rounding:rl(e,0,8),n=$r(new a(n),t+1,e),r=uh(n,!0,t+1)),r};jt.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?uh(a):(rl(t,0,Tf),e===void 0?e=i.rounding:rl(e,0,8),n=$r(new i(a),t+rs(a)+1,e),r=uh(n.abs(),!1,t+rs(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};jt.toInteger=jt.toint=function(){var t=this,e=t.constructor;return $r(new e(t),rs(t)+1,e.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(ti);if(l=new c(l),!l.s){if(t.s<1)throw Error(Vi+"Infinity");return l}if(l.eq(ti))return l;if(n=c.precision,t.eq(ti))return $r(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=bW){for(a=new c(ti),e=Math.ceil(n/sn+4),mn=!1;r%2&&(a=a.times(l),MU(a.d,e)),r=Of(r/2),r!==0;)l=l.times(l),MU(l.d,e);return mn=!0,t.s<0?new c(ti).div(a):$r(a,n)}}else if(i<0)throw Error(Vi+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,mn=!1,a=t.times(W0(l,n+d)),mn=!0,a=wW(a),a.s=i,a};jt.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=rs(a),n=uh(a,r<=i.toExpNeg||r>=i.toExpPos)):(rl(t,1,Tf),e===void 0?e=i.rounding:rl(e,0,8),a=$r(new i(a),t,e),r=rs(a),n=uh(a,t<=r||r<=i.toExpNeg,t)),n};jt.toSignificantDigits=jt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(rl(t,1,Tf),e===void 0?e=n.rounding:rl(e,0,8)),$r(new n(r),t,e)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rs(t),r=t.constructor;return uh(t,e<=r.toExpNeg||e>=r.toExpPos)};function vW(t,e){var r,n,a,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),mn?$r(e,h):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(h/sn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/vs|0,c[i]%=vs;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,mn?$r(e,h):e}function rl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Zu+t)}function zo(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=sn-n.length,r&&(i+=Uc(r)),i+=n;o=t[e],n=o+"",r=sn-n.length,r&&(i+=Uc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ql=function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%vs|0,o=i/vs|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*vs+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,h,A,m,x,g,p,f,y,b,N,v,C,P,_,k=n.constructor,M=n.s==a.s?1:-1,j=n.d,S=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Vi+"Division by zero");for(c=n.e-a.e,P=S.length,v=j.length,m=new k(M),x=m.d=[],d=0;S[d]==(j[d]||0);)++d;if(S[d]>(j[d]||0)&&--c,i==null?y=i=k.precision:o?y=i+(rs(n)-rs(a))+1:y=i,y<0)return new k(0);if(y=y/sn+2|0,d=0,P==1)for(u=0,S=S[0],y++;(d<v||u)&&y--;d++)b=u*vs+(j[d]||0),x[d]=b/S|0,u=b%S|0;else{for(u=vs/(S[0]+1)|0,u>1&&(S=t(S,u),j=t(j,u),P=S.length,v=j.length),N=P,g=j.slice(0,P),p=g.length;p<P;)g[p++]=0;_=S.slice(),_.unshift(0),C=S[0],S[1]>=vs/2&&++C;do u=0,l=e(S,g,P,p),l<0?(f=g[0],P!=p&&(f=f*vs+(g[1]||0)),u=f/C|0,u>1?(u>=vs&&(u=vs-1),h=t(S,u),A=h.length,p=g.length,l=e(h,g,A,p),l==1&&(u--,r(h,P<A?_:S,A))):(u==0&&(l=u=1),h=S.slice()),A=h.length,A<p&&h.unshift(0),r(g,h,p),l==-1&&(p=g.length,l=e(S,g,P,p),l<1&&(u++,r(g,P<p?_:S,p))),p=g.length):l===0&&(u++,g=[0]),x[d++]=u,l&&g[0]?g[p++]=j[N]||0:(g=[j[N]],p=1);while((N++<v||g[0]!==void 0)&&y--)}return x[0]||x.shift(),m.e=c,$r(m,o?i+rs(m)+1:i)}}();function wW(t,e){var r,n,a,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(rs(t)>16)throw Error(E6+rs(t));if(!t.s)return new u(ti);for(mn=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(bu(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(ti),u.precision=l;;){if(a=$r(a.times(t),l),r=r.times(++c),o=i.plus(Ql(a,r,l)),zo(o.d).slice(0,l)===zo(i.d).slice(0,l)){for(;d--;)i=$r(i.times(i),l);return u.precision=h,e==null?(mn=!0,$r(i,h)):i}i=o}}function rs(t){for(var e=t.e*sn,r=t.d[0];r>=10;r/=10)e++;return e}function nC(t,e,r){if(e>t.LN10.sd())throw mn=!0,r&&(t.precision=r),Error(Vi+"LN10 precision limit exceeded");return $r(new t(t.LN10),e)}function Uc(t){for(var e="";t--;)e+="0";return e}function W0(t,e){var r,n,a,i,o,l,c,d,u,h=1,A=10,m=t,x=m.d,g=m.constructor,p=g.precision;if(m.s<1)throw Error(Vi+(m.s?"NaN":"-Infinity"));if(m.eq(ti))return new g(0);if(e==null?(mn=!1,d=p):d=e,m.eq(10))return e==null&&(mn=!0),nC(g,d);if(d+=A,g.precision=d,r=zo(x),n=r.charAt(0),i=rs(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=zo(m.d),n=r.charAt(0),h++;i=rs(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=nC(g,d+2,p).times(i+""),m=W0(new g(n+"."+r.slice(1)),d-A).plus(c),g.precision=p,e==null?(mn=!0,$r(m,p)):m;for(l=o=m=Ql(m.minus(ti),m.plus(ti),d),u=$r(m.times(m),d),a=3;;){if(o=$r(o.times(u),d),c=l.plus(Ql(o,new g(a),d)),zo(c.d).slice(0,d)===zo(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(nC(g,d+2,p).times(i+""))),l=Ql(l,new g(h),d),g.precision=p,e==null?(mn=!0,$r(l,p)):l;l=c,a+=2}}function DU(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Of(r/sn),t.d=[],n=(r+1)%sn,r<0&&(n+=sn),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=sn;n<a;)t.d.push(+e.slice(n,n+=sn));e=e.slice(n),n=sn-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),mn&&(t.e>S1||t.e<-S1))throw Error(E6+r)}else t.s=0,t.e=0,t.d=[0];return t}function $r(t,e,r){var n,a,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=sn,a=e,d=h[u=0];else{if(u=Math.ceil((n+1)/sn),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=sn,a=n-sn+o}if(r!==void 0&&(i=bu(10,o-a-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/bu(10,o-a):0:h[u-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=rs(t),h.length=1,e=e-i-1,h[0]=bu(10,(sn-e%sn)%sn),t.e=Of(-e/sn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=bu(10,sn-n),h[u]=a>0?(d/bu(10,o-a)%bu(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==vs&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=vs)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(mn&&(t.e>S1||t.e<-S1))throw Error(E6+rs(t));return t}function jW(t,e){var r,n,a,i,o,l,c,d,u,h,A=t.constructor,m=A.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new A(t),mn?$r(e,m):e;if(c=t.d,h=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),a=Math.max(Math.ceil(m/sn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=vs-1;--c[i],c[a]+=vs}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,mn?$r(e,m):e):new A(0)}function uh(t,e,r){var n,a=rs(t),i=zo(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Uc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Uc(-a-1)+i,r&&(n=r-o)>0&&(i+=Uc(n))):a>=o?(i+=Uc(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Uc(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Uc(n))),t.s<0?"-"+i:i}function MU(t,e){if(t.length>e)return t.length=e,!0}function NW(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Zu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return DU(o,i.toString())}else if(typeof i!="string")throw Error(Zu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,sLe.test(i))DU(o,i);else throw Error(Zu+i)}if(a.prototype=jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=NW,a.config=a.set=aLe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function aLe(t){if(!t||typeof t!="object")throw Error(Vi+"Object expected");var e,r,n,a=["precision",1,Tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Of(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Zu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zu+r+": "+n);return this}var k6=NW(nLe);ti=new k6(1);const Dr=k6;function iLe(t){return dLe(t)||cLe(t)||lLe(t)||oLe()}function oLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lLe(t,e){if(t){if(typeof t=="string")return CB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CB(t,e)}}function cLe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dLe(t){if(Array.isArray(t))return CB(t)}function CB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uLe=function(e){return e},_W={},CW=function(e){return e===_W},LU=function(e){return function r(){return arguments.length===0||arguments.length===1&&CW(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},hLe=function t(e,r){return e===1?r:LU(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==_W}).length;return o>=e?r.apply(void 0,a):t(e-o,LU(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return CW(h)?c.shift():h});return r.apply(void 0,iLe(u).concat(c))}))})},Lj=function(e){return hLe(e.length,e)},SB=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},ALe=Lj(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),mLe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return uLe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},BB=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SW=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function fLe(t){var e;return t===0?e=1:e=Math.floor(new Dr(t).abs().log(10).toNumber())+1,e}function pLe(t,e,r){for(var n=new Dr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var gLe=Lj(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),xLe=Lj(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),yLe=Lj(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Uj={rangeStep:pLe,getDigitCount:fLe,interpolateNumber:gLe,uninterpolateNumber:xLe,uninterpolateTruncation:yLe};function EB(t){return wLe(t)||vLe(t)||BW(t)||bLe()}function bLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vLe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wLe(t){if(Array.isArray(t))return kB(t)}function G0(t,e){return _Le(t)||NLe(t,e)||BW(t,e)||jLe()}function jLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BW(t,e){if(t){if(typeof t=="string")return kB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kB(t,e)}}function kB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NLe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function _Le(t){if(Array.isArray(t))return t}function EW(t){var e=G0(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function kW(t,e,r){if(t.lte(0))return new Dr(0);var n=Uj.getDigitCount(t.toNumber()),a=new Dr(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new Dr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new Dr(Math.ceil(c))}function CLe(t,e,r){var n=1,a=new Dr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Dr(10).pow(Uj.getDigitCount(t)-1),a=new Dr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Dr(Math.floor(t)))}else t===0?a=new Dr(Math.floor((e-1)/2)):r||(a=new Dr(Math.floor(t)));var o=Math.floor((e-1)/2),l=mLe(ALe(function(c){return a.add(new Dr(c-o).mul(n)).toNumber()}),SB);return l(0,e)}function PW(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Dr(0),tickMin:new Dr(0),tickMax:new Dr(0)};var i=kW(new Dr(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new Dr(0):(o=new Dr(t).add(e).div(2),o=o.sub(new Dr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Dr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?PW(t,e,r,n,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Dr(l).mul(i)),tickMax:o.add(new Dr(c).mul(i))})}function SLe(t){var e=G0(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=EW([r,n]),c=G0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(EB(SB(0,a-1).map(function(){return 1/0}))):[].concat(EB(SB(0,a-1).map(function(){return-1/0})),[u]);return r>n?BB(h):h}if(d===u)return CLe(d,a,i);var A=PW(d,u,o,i),m=A.step,x=A.tickMin,g=A.tickMax,p=Uj.rangeStep(x,g.add(new Dr(.1).mul(m)),m);return r>n?BB(p):p}function BLe(t,e){var r=G0(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EW([n,a]),l=G0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(e,2),h=kW(new Dr(d).sub(c).div(u-1),i,0),A=[].concat(EB(Uj.rangeStep(new Dr(c),new Dr(d).sub(new Dr(.99).mul(h)),h)),[d]);return n>a?BB(A):A}var ELe=SW(SLe),kLe=SW(BLe),PLe="Invariant failed";function hh(t,e){throw new Error(PLe)}var FLe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B1.apply(this,arguments)}function TLe(t,e){return MLe(t)||DLe(t,e)||ILe(t,e)||OLe()}function OLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ILe(t,e){if(t){if(typeof t=="string")return UU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UU(t,e)}}function UU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function MLe(t){if(Array.isArray(t))return t}function LLe(t,e){if(t==null)return{};var r=ULe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ULe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OW(n.key),n)}}function $Le(t,e,r){return e&&QLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HLe(t,e,r){return e=E1(e),qLe(t,FW()?Reflect.construct(e,r||[],E1(t).constructor):e.apply(t,r))}function qLe(t,e){if(e&&(Wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zLe(t)}function zLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(t)}function VLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PB(t,e)}function PB(t,e){return PB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PB(t,e)}function TW(t,e,r){return e=OW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OW(t){var e=KLe(t,"string");return Wm(e)=="symbol"?e:e+""}function KLe(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rj=function(t){function e(){return RLe(this,e),HLe(this,e,arguments)}return VLe(e,t),$Le(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,h=n.yAxis,A=LLe(n,FLe),m=$t(A,!1);this.props.direction==="x"&&u.type!=="number"&&hh();var x=c.map(function(g){var p=d(g,l),f=p.x,y=p.y,b=p.value,N=p.errorVal;if(!N)return null;var v=[],C,P;if(Array.isArray(N)){var _=TLe(N,2);C=_[0],P=_[1]}else C=P=N;if(i==="vertical"){var k=u.scale,M=y+a,j=M+o,S=M-o,F=k(b-C),O=k(b+P);v.push({x1:O,y1:j,x2:O,y2:S}),v.push({x1:F,y1:M,x2:O,y2:M}),v.push({x1:F,y1:j,x2:F,y2:S})}else if(i==="horizontal"){var H=h.scale,U=f+a,z=U-o,R=U+o,I=H(b-C),K=H(b+P);v.push({x1:z,y1:K,x2:R,y2:K}),v.push({x1:U,y1:I,x2:U,y2:K}),v.push({x1:z,y1:I,x2:R,y2:I})}return ge.createElement(Er,B1({className:"recharts-errorBar",key:"bar-".concat(v.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},m),v.map(function(te){return ge.createElement("line",B1({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return ge.createElement(Er,{className:"recharts-errorBars"},x)}}])}(ge.Component);TW(Rj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TW(Rj,"displayName","ErrorBar");function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function RU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ou(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RU(Object(r),!0).forEach(function(n){WLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WLe(t,e,r){return e=GLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GLe(t){var e=XLe(t,"string");return X0(e)=="symbol"?e:e+""}function XLe(t,e){if(X0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IW=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=ei(r,Yu);if(!o)return null;var l=Yu.defaultProps,c=l!==void 0?ou(ou({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,h){var A=h.item,m=h.props,x=m.sectors||m.data||[];return u.concat(x.map(function(g){return{type:o.props.iconType||A.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(n||[]).map(function(u){var h=u.item,A=h.type.defaultProps,m=A!==void 0?ou(ou({},A),h.props):{},x=m.dataKey,g=m.name,p=m.legendType,f=m.hide;return{inactive:f,dataKey:x,type:c.iconType||p||"square",color:P6(h),value:g||x,payload:m}}),ou(ou(ou({},c),Yu.getWithHeight(o,a)),{},{payload:d,item:o})};function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function QU(t){return eUe(t)||ZLe(t)||JLe(t)||YLe()}function YLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JLe(t,e){if(t){if(typeof t=="string")return FB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FB(t,e)}}function ZLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eUe(t){if(Array.isArray(t))return FB(t)}function FB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(r),!0).forEach(function(n){jm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jm(t,e,r){return e=tUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tUe(t){var e=rUe(t,"string");return Y0(e)=="symbol"?e:e+""}function rUe(t,e){if(Y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function na(t,e,r){return nr(t)||nr(e)?r:hs(e)?oi(t,e,r):Ht(e)?e(t):r}function $g(t,e,r,n){var a=ZMe(t,function(l){return na(l,e)});if(r==="number"){var i=a.filter(function(l){return st(l)||parseFloat(l)});return i.length?[Dj(i),Ij(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!nr(l)}):a;return o.map(function(l){return hs(l)||l instanceof Date?l:""})}var nUe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,A=d>=l-1?a[0].coordinate:a[d+1].coordinate,m=void 0;if(xa(h-u)!==xa(A-h)){var x=[];if(xa(A-h)===xa(c[1]-c[0])){m=A;var g=h+c[1]-c[0];x[0]=Math.min(g,(g+u)/2),x[1]=Math.max(g,(g+u)/2)}else{m=u;var p=A+c[1]-c[0];x[0]=Math.min(h,(p+h)/2),x[1]=Math.max(h,(p+h)/2)}var f=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(e>f[0]&&e<=f[1]||e>=x[0]&&e<=x[1]){o=a[d].index;break}}else{var y=Math.min(u,A),b=Math.max(u,A);if(e>(y+h)/2&&e<=(b+h)/2){o=a[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},P6=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Sn(Sn({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},sUe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),A=0,m=h.length;A<m;A++){var x=u[h[A]],g=x.items,p=x.cateAxisId,f=g.filter(function(P){return Rl(P.type).indexOf("Bar")>=0});if(f&&f.length){var y=f[0].type.defaultProps,b=y!==void 0?Sn(Sn({},y),f[0].props):f[0].props,N=b.barSize,v=b[p];o[v]||(o[v]=[]);var C=nr(N)?r:N;o[v].push({item:f[0],stackList:f.slice(1),barSize:nr(C)?void 0:ya(C,n,0)})}}return o},aUe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=ya(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var A=!1,m=a/c,x=o.reduce(function(N,v){return N+v.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&m>0&&(A=!0,m*=.9,x=c*m);var g=(a-x)/2>>0,p={offset:g-d,size:0};u=o.reduce(function(N,v){var C={item:v.item,position:{offset:p.offset+p.size+d,size:A?m:v.barSize}},P=[].concat(QU(N),[C]);return p=P[P.length-1].position,v.stackList&&v.stackList.length&&v.stackList.forEach(function(_){P.push({item:_,position:p})}),P},h)}else{var f=ya(n,a,0,!0);a-2*f-(c-1)*d<=0&&(d=0);var y=(a-2*f-(c-1)*d)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;u=o.reduce(function(N,v,C){var P=[].concat(QU(N),[{item:v.item,position:{offset:f+(y+d)*C+(y-b)/2,size:b}}]);return v.stackList&&v.stackList.length&&v.stackList.forEach(function(_){P.push({item:_,position:P[P.length-1].position})}),P},h)}return u},iUe=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=IW({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,A=u.height,m=d.align,x=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&st(e[m]))return Sn(Sn({},e),{},jm({},m,e[m]+(h||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&st(e[x]))return Sn(Sn({},e),{},jm({},x,e[x]+(A||0)))}return e},oUe=function(e,r,n){return nr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},DW=function(e,r,n,a,i){var o=r.props.children,l=Hi(o,Rj).filter(function(d){return oUe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=na(u,n);if(nr(h))return d;var A=Array.isArray(h)?[Dj(h),Ij(h)]:[h,h],m=c.reduce(function(x,g){var p=na(u,g,0),f=A[0]-Math.abs(Array.isArray(p)?p[0]:p),y=A[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(f,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},lUe=function(e,r,n,a,i){var o=r.map(function(l){return DW(e,l,n,i,a)}).filter(function(l){return!nr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},MW=function(e,r,n,a,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&DW(e,c,d,a)||$g(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},LW=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},UW=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ml=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xa(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var A=i?i.indexOf(h):h;return{coordinate:a(A)+d,value:h,offset:d}});return u.filter(function(h){return!Dx(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,A){return{coordinate:a(h)+d,value:h,index:A,offset:d}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,A){return{coordinate:a(h)+d,value:i?i[h]:h,index:A,offset:d}})},sC=new WeakMap,av=function(e,r){if(typeof r!="function")return e;sC.has(e)||sC.set(e,new WeakMap);var n=sC.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},RW=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:H0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:j1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Qg(),realScaleType:"point"}:i==="category"?{scale:H0(),realScaleType:"band"}:{scale:j1(),realScaleType:"linear"};if(lh(a)){var c="scale".concat(vj(a));return{scale:(IU[c]||Qg)(),realScaleType:IU[c]?c:"point"}}return Ht(a)?{scale:a}:{scale:Qg(),realScaleType:"point"}},HU=1e-4,QW=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-HU,o=Math.max(a[0],a[1])+HU,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},cUe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},dUe=function(e,r){if(!r||r.length!==2||!st(r[0])||!st(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!st(e[0])||e[0]<n)&&(i[0]=n),(!st(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},uUe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Dx(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},hUe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Dx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},AUe={sign:uUe,expand:FSe,none:Rm,silhouette:TSe,wiggle:OSe,positive:hUe},mUe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=AUe[n],o=PSe().keys(a).value(function(l,c){return+na(l,c,0)}).order(nB).offset(i);return o(e)},fUe=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,A){var m,x=(m=A.type)!==null&&m!==void 0&&m.defaultProps?Sn(Sn({},A.type.defaultProps),A.props):A.props,g=x.stackId,p=x.hide;if(p)return h;var f=x[n],y=h[f]||{hasStack:!1,stackGroups:{}};if(hs(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(A),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[Mx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[A]};return Sn(Sn({},h),{},jm({},f,y))},c),u={};return Object.keys(d).reduce(function(h,A){var m=d[A];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,p){var f=m.stackGroups[p];return Sn(Sn({},g),{},jm({},p,{numericAxisId:n,cateAxisId:a,items:f.items,stackedData:mUe(e,f.items,i)}))},x)}return Sn(Sn({},h),{},jm({},A,m))},u)},$W=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=ELe(d,i,l);return e.domain([Dj(u),Ij(u)]),{niceTicks:u}}if(i&&a==="number"){var h=e.domain(),A=kLe(h,i,l);return{niceTicks:A}}return null},qU=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=na(o,r.dataKey,r.domain[l]);return nr(c)?null:r.scale(c)-i/2+a},pUe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},gUe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Sn(Sn({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(hs(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},xUe=function(e){return e.reduce(function(r,n){return[Dj(n.concat([r[0]]).filter(st)),Ij(n.concat([r[1]]).filter(st))]},[1/0,-1/0])},HW=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=xUe(u.slice(r,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},zU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TB=function(e,r,n){if(Ht(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(st(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(zU.test(e[0])){var i=+zU.exec(e[0])[1];a[0]=r[0]-i}else Ht(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(st(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(VU.test(e[1])){var o=+VU.exec(e[1])[1];a[1]=r[1]+o}else Ht(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},k1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=s6(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},KU=function(e,r,n){return!e||!e.length||Mj(e,oi(n,"type.defaultProps.domain"))?r:e},qW=function(e,r){var n=e.type.defaultProps?Sn(Sn({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return Sn(Sn({},$t(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:P6(e),value:na(r,a),type:c,payload:r,chartType:d,hide:u})};function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function WU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(r),!0).forEach(function(n){zW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zW(t,e,r){return e=yUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yUe(t){var e=bUe(t,"string");return J0(e)=="symbol"?e:e+""}function bUe(t,e){if(J0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vUe(t,e){return _Ue(t)||NUe(t,e)||jUe(t,e)||wUe()}function wUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jUe(t,e){if(t){if(typeof t=="string")return GU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GU(t,e)}}function GU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function _Ue(t){if(Array.isArray(t))return t}var P1=Math.PI/180,CUe=function(e){return e*180/Math.PI},Zr=function(e,r,n,a){return{x:e+Math.cos(-P1*a)*n,y:r+Math.sin(-P1*a)*n}},VW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},SUe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=ya(e.cx,o,o/2),h=ya(e.cy,l,l/2),A=VW(o,l,n),m=ya(e.innerRadius,A,0),x=ya(e.outerRadius,A,A*.8),g=Object.keys(r);return g.reduce(function(p,f){var y=r[f],b=y.domain,N=y.reversed,v;if(nr(y.range))a==="angleAxis"?v=[c,d]:a==="radiusAxis"&&(v=[m,x]),N&&(v=[v[1],v[0]]);else{v=y.range;var C=v,P=vUe(C,2);c=P[0],d=P[1]}var _=RW(y,i),k=_.realScaleType,M=_.scale;M.domain(b).range(v),QW(M);var j=$W(M,Sl(Sl({},y),{},{realScaleType:k})),S=Sl(Sl(Sl({},y),j),{},{range:v,radius:x,realScaleType:k,scale:M,cx:u,cy:h,innerRadius:m,outerRadius:x,startAngle:c,endAngle:d});return Sl(Sl({},p),{},zW({},f,S))},{})},BUe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},EUe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=BUe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:CUe(d),angleInRadian:d}},kUe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},PUe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},XU=function(e,r){var n=e.x,a=e.y,i=EUe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=kUe(r),h=u.startAngle,A=u.endAngle,m=l,x;if(h<=A){for(;m>A;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=A}else{for(;m>h;)m-=360;for(;m<A;)m+=360;x=m>=A&&m<=h}return x?Sl(Sl({},r),{},{radius:o,angle:PUe(m,r)}):null},KW=function(e){return!B.isValidElement(e)&&!Ht(e)&&typeof e!="boolean"?e.className:""};function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}var FUe=["offset"];function TUe(t){return MUe(t)||DUe(t)||IUe(t)||OUe()}function OUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IUe(t,e){if(t){if(typeof t=="string")return OB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OB(t,e)}}function DUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MUe(t){if(Array.isArray(t))return OB(t)}function OB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LUe(t,e){if(t==null)return{};var r=UUe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){RUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RUe(t,e,r){return e=QUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QUe(t){var e=$Ue(t,"string");return Z0(e)=="symbol"?e:e+""}function $Ue(t,e){if(Z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ex.apply(this,arguments)}var HUe=function(e){var r=e.value,n=e.formatter,a=nr(e.children)?r:e.children;return Ht(n)?n(a):a},qUe=function(e,r){var n=xa(r-e),a=Math.min(Math.abs(r-e),360);return n*a},zUe=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,A=c.outerRadius,m=c.startAngle,x=c.endAngle,g=c.clockWise,p=(h+A)/2,f=qUe(m,x),y=f>=0?1:-1,b,N;a==="insideStart"?(b=m+y*o,N=g):a==="insideEnd"?(b=x-y*o,N=!g):a==="end"&&(b=x+y*o,N=g),N=f<=0?N:!N;var v=Zr(d,u,p,b),C=Zr(d,u,p,b+(N?1:-1)*359),P="M".concat(v.x,",").concat(v.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),_=nr(e.id)?Mx("recharts-radial-line-"):e.id;return ge.createElement("text",ex({},n,{dominantBaseline:"central",className:er("recharts-radial-bar-label",l)}),ge.createElement("defs",null,ge.createElement("path",{id:_,d:P})),ge.createElement("textPath",{xlinkHref:"#".concat(_)},r))},VUe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,A=(u+h)/2;if(a==="outside"){var m=Zr(o,l,d+n,A),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+d)/2,f=Zr(o,l,p,A),y=f.x,b=f.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},KUe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,A=h*a,m=h>0?"end":"start",x=h>0?"start":"end",g=d>=0?1:-1,p=g*a,f=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var b={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return is(is({},b),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:c+u+A,textAnchor:"middle",verticalAnchor:x};return is(is({},N),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var v={x:l-p,y:c+u/2,textAnchor:f,verticalAnchor:"middle"};return is(is({},v),n?{width:Math.max(v.x-n.x,0),height:u}:{})}if(i==="right"){var C={x:l+d+p,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return is(is({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var P=n?{width:d,height:u}:{};return i==="insideLeft"?is({x:l+p,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},P):i==="insideRight"?is({x:l+d-p,y:c+u/2,textAnchor:f,verticalAnchor:"middle"},P):i==="insideTop"?is({x:l+d/2,y:c+A,textAnchor:"middle",verticalAnchor:x},P):i==="insideBottom"?is({x:l+d/2,y:c+u-A,textAnchor:"middle",verticalAnchor:m},P):i==="insideTopLeft"?is({x:l+p,y:c+A,textAnchor:y,verticalAnchor:x},P):i==="insideTopRight"?is({x:l+d-p,y:c+A,textAnchor:f,verticalAnchor:x},P):i==="insideBottomLeft"?is({x:l+p,y:c+u-A,textAnchor:y,verticalAnchor:m},P):i==="insideBottomRight"?is({x:l+d-p,y:c+u-A,textAnchor:f,verticalAnchor:m},P):Nf(i)&&(st(i.x)||Du(i.x))&&(st(i.y)||Du(i.y))?is({x:l+ya(i.x,d),y:c+ya(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):is({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},WUe=function(e){return"cx"in e&&st(e.cx)};function Ns(t){var e=t.offset,r=e===void 0?5:e,n=LUe(t,FUe),a=is({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,A=a.textBreakAll;if(!i||nr(l)&&nr(c)&&!B.isValidElement(d)&&!Ht(d))return null;if(B.isValidElement(d))return B.cloneElement(d,a);var m;if(Ht(d)){if(m=B.createElement(d,a),B.isValidElement(m))return m}else m=HUe(a);var x=WUe(i),g=$t(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return zUe(a,m,g);var p=x?VUe(a):KUe(a);return ge.createElement(dh,ex({className:er("recharts-label",h)},g,p,{breakAll:A}),m)}Ns.displayName="Label";var WW=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,A=e.y,m=e.top,x=e.left,g=e.width,p=e.height,f=e.clockWise,y=e.labelViewBox;if(y)return y;if(st(g)&&st(p)){if(st(h)&&st(A))return{x:h,y:A,width:g,height:p};if(st(m)&&st(x))return{x:m,y:x,width:g,height:p}}return st(h)&&st(A)?{x:h,y:A,width:0,height:0}:st(r)&&st(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:f}:e.viewBox?e.viewBox:{}},GUe=function(e,r){return e?e===!0?ge.createElement(Ns,{key:"label-implicit",viewBox:r}):hs(e)?ge.createElement(Ns,{key:"label-implicit",viewBox:r,value:e}):B.isValidElement(e)?e.type===Ns?B.cloneElement(e,{key:"label-implicit",viewBox:r}):ge.createElement(Ns,{key:"label-implicit",content:e,viewBox:r}):Ht(e)?ge.createElement(Ns,{key:"label-implicit",content:e,viewBox:r}):Nf(e)?ge.createElement(Ns,ex({viewBox:r},e,{key:"label-implicit"})):null:null},XUe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=WW(e),o=Hi(a,Ns).map(function(c,d){return B.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=GUe(e.label,r||i);return[l].concat(TUe(o))};Ns.parseViewBox=WW;Ns.renderCallByParent=XUe;function YUe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var JUe=YUe;const ZUe=Tr(JUe);function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}var eRe=["valueAccessor"],tRe=["data","dataKey","clockWise","id","textBreakAll"];function rRe(t){return iRe(t)||aRe(t)||sRe(t)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sRe(t,e){if(t){if(typeof t=="string")return IB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IB(t,e)}}function aRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iRe(t){if(Array.isArray(t))return IB(t)}function IB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function JU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(r),!0).forEach(function(n){oRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oRe(t,e,r){return e=lRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lRe(t){var e=cRe(t,"string");return tx(e)=="symbol"?e:e+""}function cRe(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eR(t,e){if(t==null)return{};var r=dRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uRe=function(e){return Array.isArray(e.value)?ZUe(e.value):e.value};function gd(t){var e=t.valueAccessor,r=e===void 0?uRe:e,n=eR(t,eRe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=eR(n,tRe);return!a||!a.length?null:ge.createElement(Er,{className:"recharts-label-list"},a.map(function(u,h){var A=nr(i)?r(u,h):na(u&&u.payload,i),m=nr(l)?{}:{id:"".concat(l,"-").concat(h)};return ge.createElement(Ns,F1({},$t(u,!0),d,m,{parentViewBox:u.parentViewBox,value:A,textBreakAll:c,viewBox:Ns.parseViewBox(nr(o)?u:ZU(ZU({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}gd.displayName="LabelList";function hRe(t,e){return t?t===!0?ge.createElement(gd,{key:"labelList-implicit",data:e}):ge.isValidElement(t)||Ht(t)?ge.createElement(gd,{key:"labelList-implicit",data:e,content:t}):Nf(t)?ge.createElement(gd,F1({data:e},t,{key:"labelList-implicit"})):null:null}function ARe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Hi(n,gd).map(function(o,l){return B.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=hRe(t.label,e);return[i].concat(rRe(a))}gd.renderCallByParent=ARe;function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function DB(){return DB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DB.apply(this,arguments)}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){mRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mRe(t,e,r){return e=fRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fRe(t){var e=pRe(t,"string");return rx(e)=="symbol"?e:e+""}function pRe(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gRe=function(e,r){var n=xa(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},iv=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/P1,A=d?i:i+o*h,m=Zr(r,n,u,A),x=Zr(r,n,a,A),g=d?i-o*h:i,p=Zr(r,n,u*Math.cos(h*P1),g);return{center:m,circleTangency:x,lineTangency:p,theta:h}},GW=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=gRe(o,l),d=o+c,u=Zr(r,n,i,o),h=Zr(r,n,i,d),A="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=Zr(r,n,a,o),x=Zr(r,n,a,d);A+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else A+="L ".concat(r,",").concat(n," Z");return A},xRe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=xa(u-d),A=iv({cx:r,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),m=A.circleTangency,x=A.lineTangency,g=A.theta,p=iv({cx:r,cy:n,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),f=p.circleTangency,y=p.lineTangency,b=p.theta,N=c?Math.abs(d-u):Math.abs(d-u)-g-b;if(N<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GW({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var v="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var C=iv({cx:r,cy:n,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=C.circleTangency,_=C.lineTangency,k=C.theta,M=iv({cx:r,cy:n,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=M.circleTangency,S=M.lineTangency,F=M.theta,O=c?Math.abs(d-u):Math.abs(d-u)-k-F;if(O<0&&o===0)return"".concat(v,"L").concat(r,",").concat(n,"Z");v+="L".concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else v+="L".concat(r,",").concat(n,"Z");return v},yRe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XW=function(e){var r=rR(rR({},yRe),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,A=r.className;if(o<i||u===h)return null;var m=er("recharts-sector",A),x=o-i,g=ya(l,x,0,!0),p;return g>0&&Math.abs(u-h)<360?p=xRe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):p=GW({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ge.createElement("path",DB({},$t(r,!0),{className:m,d:p,role:"img"}))};function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function MB(){return MB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MB.apply(this,arguments)}function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){bRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bRe(t,e,r){return e=vRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vRe(t){var e=wRe(t,"string");return nx(e)=="symbol"?e:e+""}function wRe(t,e){if(nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aR={curveBasisClosed:bSe,curveBasisOpen:vSe,curveBasis:ySe,curveBumpX:aSe,curveBumpY:iSe,curveLinearClosed:wSe,curveLinear:jj,curveMonotoneX:jSe,curveMonotoneY:NSe,curveNatural:_Se,curveStep:CSe,curveStepAfter:BSe,curveStepBefore:SSe},ov=function(e){return e.x===+e.x&&e.y===+e.y},Rp=function(e){return e.x},Qp=function(e){return e.y},jRe=function(e,r){if(Ht(e))return e;var n="curve".concat(vj(e));return(n==="curveMonotone"||n==="curveBump")&&r?aR["".concat(n).concat(r==="vertical"?"Y":"X")]:aR[n]||jj},NRe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=jRe(n,l),h=d?i.filter(function(g){return ov(g)}):i,A;if(Array.isArray(o)){var m=d?o.filter(function(g){return ov(g)}):o,x=h.map(function(g,p){return sR(sR({},g),{},{base:m[p]})});return l==="vertical"?A=Yb().y(Qp).x1(Rp).x0(function(g){return g.base.x}):A=Yb().x(Rp).y1(Qp).y0(function(g){return g.base.y}),A.defined(ov).curve(u),A(x)}return l==="vertical"&&st(o)?A=Yb().y(Qp).x1(Rp).x0(o):st(o)?A=Yb().x(Rp).y1(Qp).y0(o):A=qV().x(Rp).y(Qp),A.defined(ov).curve(u),A(h)},LB=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?NRe(e):a;return B.createElement("path",MB({},$t(e,!1),n1(e),{className:er("recharts-curve",r),d:o,ref:i}))},YW={exports:{}},_Re="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CRe=_Re,SRe=CRe;function JW(){}function ZW(){}ZW.resetWarningCache=JW;var BRe=function(){function t(n,a,i,o,l,c){if(c!==SRe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZW,resetWarningCache:JW};return r.PropTypes=r,r};YW.exports=BRe();var ERe=YW.exports;const vr=Tr(ERe);var kRe=Object.getOwnPropertyNames,PRe=Object.getOwnPropertySymbols,FRe=Object.prototype.hasOwnProperty;function iR(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function lv(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function TRe(t){return t!=null?t[Symbol.toStringTag]:void 0}function oR(t){return kRe(t).concat(PRe(t))}var ORe=Object.hasOwn||function(t,e){return FRe.call(t,e)};function Nh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var IRe="__v",DRe="__o",MRe="_owner",lR=Object.getOwnPropertyDescriptor,cR=Object.keys;function LRe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function URe(t,e){return Nh(t.getTime(),e.getTime())}function RRe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function QRe(t,e){return t===e}function dR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var A=o.value,m=l.value;if(r.equals(A[0],m[0],c,h,t,e,r)&&r.equals(A[1],m[1],A[0],m[0],t,e,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var $Re=Nh;function HRe(t,e,r){var n=cR(t),a=n.length;if(cR(e).length!==a)return!1;for(;a-- >0;)if(!eG(t,e,r,n[a]))return!1;return!0}function $p(t,e,r){var n=oR(t),a=n.length;if(oR(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!eG(t,e,r,i)||(o=lR(t,i),l=lR(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function qRe(t,e){return Nh(t.valueOf(),e.valueOf())}function zRe(t,e){return t.source===e.source&&t.flags===e.flags}function uR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function VRe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function KRe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function eG(t,e,r,n){return(n===MRe||n===DRe||n===IRe)&&(t.$$typeof||e.$$typeof)?!0:ORe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var WRe="[object Arguments]",GRe="[object Boolean]",XRe="[object Date]",YRe="[object Error]",JRe="[object Map]",ZRe="[object Number]",e8e="[object Object]",t8e="[object RegExp]",r8e="[object Set]",n8e="[object String]",s8e="[object URL]",a8e=Array.isArray,hR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,AR=Object.assign,i8e=Object.prototype.toString.call.bind(Object.prototype.toString);function o8e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,h=t.areTypedArraysEqual,A=t.areUrlsEqual,m=t.unknownTagComparators;return function(g,p,f){if(g===p)return!0;if(g==null||p==null)return!1;var y=typeof g;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?o(g,p,f):y==="function"?a(g,p,f):!1;var b=g.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(g,p,f);if(a8e(g))return e(g,p,f);if(hR!=null&&hR(g))return h(g,p,f);if(b===Date)return r(g,p,f);if(b===RegExp)return d(g,p,f);if(b===Map)return i(g,p,f);if(b===Set)return u(g,p,f);var N=i8e(g);if(N===XRe)return r(g,p,f);if(N===t8e)return d(g,p,f);if(N===JRe)return i(g,p,f);if(N===r8e)return u(g,p,f);if(N===e8e)return typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,f);if(N===s8e)return A(g,p,f);if(N===YRe)return n(g,p,f);if(N===WRe)return l(g,p,f);if(N===GRe||N===ZRe||N===n8e)return c(g,p,f);if(m){var v=m[N];if(!v){var C=TRe(g);C&&(v=m[C])}if(v)return v(g,p,f)}return!1}}function l8e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?$p:LRe,areDatesEqual:URe,areErrorsEqual:RRe,areFunctionsEqual:QRe,areMapsEqual:n?iR(dR,$p):dR,areNumbersEqual:$Re,areObjectsEqual:n?$p:HRe,arePrimitiveWrappersEqual:qRe,areRegExpsEqual:zRe,areSetsEqual:n?iR(uR,$p):uR,areTypedArraysEqual:n?$p:VRe,areUrlsEqual:KRe,unknownTagComparators:void 0};if(r&&(a=AR({},a,r(a))),e){var i=lv(a.areArraysEqual),o=lv(a.areMapsEqual),l=lv(a.areObjectsEqual),c=lv(a.areSetsEqual);a=AR({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function c8e(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function d8e(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,d){var u=n(),h=u.cache,A=h===void 0?e?new WeakMap:void 0:h,m=u.meta;return r(c,d,{cache:A,equals:a,meta:m,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var u8e=$d();$d({strict:!0});$d({circular:!0});$d({circular:!0,strict:!0});$d({createInternalComparator:function(){return Nh}});$d({strict:!0,createInternalComparator:function(){return Nh}});$d({circular:!0,createInternalComparator:function(){return Nh}});$d({circular:!0,createInternalComparator:function(){return Nh},strict:!0});function $d(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=l8e(t),c=o8e(l),d=n?n(c):c8e(c);return d8e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function h8e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function mR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):h8e(a)};requestAnimationFrame(n)}function UB(t){"@babel/helpers - typeof";return UB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UB(t)}function A8e(t){return g8e(t)||p8e(t)||f8e(t)||m8e()}function m8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f8e(t,e){if(t){if(typeof t=="string")return fR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fR(t,e)}}function fR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g8e(t){if(Array.isArray(t))return t}function x8e(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=A8e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){mR(a.bind(null,d),c);return}a(c),mR(a.bind(null,d));return}UB(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){tG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tG(t,e,r){return e=y8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y8e(t){var e=b8e(t,"string");return sx(e)==="symbol"?e:String(e)}function b8e(t,e){if(sx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v8e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},w8e=function(e){return e},j8e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Hg=function(e,r){return Object.keys(r).reduce(function(n,a){return gR(gR({},n),{},tG({},a,e(a,r[a])))},{})},xR=function(e,r,n){return e.map(function(a){return"".concat(j8e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function N8e(t,e){return S8e(t)||C8e(t,e)||rG(t,e)||_8e()}function _8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function S8e(t){if(Array.isArray(t))return t}function B8e(t){return P8e(t)||k8e(t)||rG(t)||E8e()}function E8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rG(t,e){if(t){if(typeof t=="string")return RB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RB(t,e)}}function k8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P8e(t){if(Array.isArray(t))return RB(t)}function RB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var T1=1e-4,nG=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},sG=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},yR=function(e,r){return function(n){var a=nG(e,r);return sG(a,n)}},F8e=function(e,r){return function(n){var a=nG(e,r),i=[].concat(B8e(a.map(function(o,l){return o*l}).slice(1)),[0]);return sG(i,n)}},bR=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),u=N8e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=yR(a,o),A=yR(i,l),m=F8e(a,o),x=function(f){return f>1?1:f<0?0:f},g=function(f){for(var y=f>1?1:f,b=y,N=0;N<8;++N){var v=h(b)-y,C=m(b);if(Math.abs(v-y)<T1||C<T1)return A(b);b=x(b-v/C)}return A(b)};return g.isStepper=!1,g},T8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,h,A){var m=-(u-h)*n,x=A*i,g=A+(m-x)*l/1e3,p=A*l/1e3+u;return Math.abs(p-h)<T1&&Math.abs(g)<T1?[h,0]:[p,g]};return c.isStepper=!0,c.dt=l,c},O8e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bR(a);case"spring":return T8e();default:if(a.split("(")[0]==="cubic-bezier")return bR(a)}return typeof a=="function"?a:null};function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function vR(t){return M8e(t)||D8e(t)||aG(t)||I8e()}function I8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M8e(t){if(Array.isArray(t))return $B(t)}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){QB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QB(t,e,r){return e=L8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L8e(t){var e=U8e(t,"string");return ax(e)==="symbol"?e:String(e)}function U8e(t,e){if(ax(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ax(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R8e(t,e){return H8e(t)||$8e(t,e)||aG(t,e)||Q8e()}function Q8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aG(t,e){if(t){if(typeof t=="string")return $B(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $B(t,e)}}function $B(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function H8e(t){if(Array.isArray(t))return t}var O1=function(e,r,n){return e+(r-e)*n},HB=function(e){var r=e.from,n=e.to;return r!==n},q8e=function t(e,r,n){var a=Hg(function(i,o){if(HB(o)){var l=e(o.from,o.to,o.velocity),c=R8e(l,2),d=c[0],u=c[1];return Ts(Ts({},o),{},{from:d,velocity:u})}return o},r);return n<1?Hg(function(i,o){return HB(o)?Ts(Ts({},o),{},{velocity:O1(o.velocity,a[i].velocity,n),from:O1(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const z8e=function(t,e,r,n,a){var i=v8e(t,e),o=i.reduce(function(p,f){return Ts(Ts({},p),{},QB({},f,[t[f],e[f]]))},{}),l=i.reduce(function(p,f){return Ts(Ts({},p),{},QB({},f,{from:t[f],velocity:0,to:e[f]}))},{}),c=-1,d,u,h=function(){return null},A=function(){return Hg(function(f,y){return y.from},l)},m=function(){return!Object.values(l).filter(HB).length},x=function(f){d||(d=f);var y=f-d,b=y/r.dt;l=q8e(r,l,b),a(Ts(Ts(Ts({},t),e),A())),d=f,m()||(c=requestAnimationFrame(h))},g=function(f){u||(u=f);var y=(f-u)/n,b=Hg(function(v,C){return O1.apply(void 0,vR(C).concat([r(y)]))},o);if(a(Ts(Ts(Ts({},t),e),b)),y<1)c=requestAnimationFrame(h);else{var N=Hg(function(v,C){return O1.apply(void 0,vR(C).concat([r(1)]))},o);a(Ts(Ts(Ts({},t),e),N))}};return h=r.isStepper?x:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}var V8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function K8e(t,e){if(t==null)return{};var r=W8e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function aC(t){return J8e(t)||Y8e(t)||X8e(t)||G8e()}function G8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8e(t,e){if(t){if(typeof t=="string")return qB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qB(t,e)}}function Y8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J8e(t){if(Array.isArray(t))return qB(t)}function qB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(r),!0).forEach(function(n){lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lg(t,e,r){return e=iG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iG(n.key),n)}}function t7e(t,e,r){return e&&e7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iG(t){var e=r7e(t,"string");return Gm(e)==="symbol"?e:String(e)}function r7e(t,e){if(Gm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zB(t,e)}function zB(t,e){return zB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zB(t,e)}function s7e(t){var e=a7e();return function(){var n=I1(t),a;if(e){var i=I1(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return VB(this,a)}}function VB(t,e){if(e&&(Gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KB(t)}function KB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(t)}var tc=function(t){n7e(r,t);var e=s7e(r);function r(n,a){var i;Z8e(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,A=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(KB(i)),i.changeStyle=i.changeStyle.bind(KB(i)),!l||m<=0)return i.state={style:{}},typeof A=="function"&&(i.state={style:u}),VB(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof A=="function")return i.state={style:d},VB(i);i.state={style:c?lg({},c,d):d}}else i.state={style:{}};return i}return t7e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,A=this.state.style;if(l){if(!o){var m={style:c?lg({},c,u):u};this.state&&A&&(c&&A[c]!==u||!c&&A!==u)&&this.setState(m);return}if(!(u8e(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||d?h:a.to;if(this.state&&A){var p={style:c?lg({},c,g):g};(c&&A[c]!==g||!c&&A!==g)&&this.setState(p)}this.runAnimation(no(no({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,A=a.onAnimationStart,m=z8e(o,l,O8e(d),c,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([A,u,x,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,A=h===void 0?0:h,m=function(g,p,f){if(f===0)return g;var y=p.duration,b=p.easing,N=b===void 0?"ease":b,v=p.style,C=p.properties,P=p.onAnimationEnd,_=f>0?o[f-1]:p,k=C||Object.keys(v);if(typeof N=="function"||N==="spring")return[].concat(aC(g),[i.runJSAnimation.bind(i,{from:_.style,to:v,duration:y,easing:N}),y]);var M=xR(k,y,N),j=no(no(no({},_.style),v),{},{transition:M});return[].concat(aC(g),[j,y,P]).filter(w8e)};return this.manager.start([c].concat(aC(o.reduce(m,[u,Math.max(A,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=x8e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,A=a.steps,m=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(a);return}if(A.length>1){this.runStepAnimation(a);return}var g=l?lg({},l,c):c,p=xR(Object.keys(g),o,d);x.start([u,i,no(no({},g),{},{transition:p}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=K8e(a,V8e),d=B.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(m){var x=m.props,g=x.style,p=g===void 0?{}:g,f=x.className,y=B.cloneElement(m,no(no({},c),{},{style:no(no({},p),u),className:f}));return y};return d===1?h(B.Children.only(i)):ge.createElement("div",null,B.Children.map(i,function(A){return h(A)}))}}]),r}(B.PureComponent);tc.displayName="Animate";tc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};tc.propTypes={from:vr.oneOfType([vr.object,vr.string]),to:vr.oneOfType([vr.object,vr.string]),attributeName:vr.string,duration:vr.number,begin:vr.number,easing:vr.oneOfType([vr.string,vr.func]),steps:vr.arrayOf(vr.shape({duration:vr.number.isRequired,style:vr.object.isRequired,easing:vr.oneOfType([vr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vr.func]),properties:vr.arrayOf("string"),onAnimationEnd:vr.func})),children:vr.oneOfType([vr.node,vr.func]),isActive:vr.bool,canBegin:vr.bool,onAnimationEnd:vr.func,shouldReAnimate:vr.bool,onAnimationStart:vr.func,onAnimationReStart:vr.func};function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D1.apply(this,arguments)}function i7e(t,e){return d7e(t)||c7e(t,e)||l7e(t,e)||o7e()}function o7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7e(t,e){if(t){if(typeof t=="string")return NR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NR(t,e)}}function NR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function d7e(t){if(Array.isArray(t))return t}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){u7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u7e(t,e,r){return e=h7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h7e(t){var e=A7e(t,"string");return ix(e)=="symbol"?e:e+""}function A7e(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SR=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],A=0,m=4;A<m;A++)h[A]=i[A]>o?o:i[A];u="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),u+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*h[1])),u+="L ".concat(e+n,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-c*h[2],",").concat(r+a)),u+="L ".concat(e+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(e,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*x,`
            L `).concat(e+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-c*x,",").concat(r+a,`
            L `).concat(e+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*x," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},m7e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),A=Math.max(o,o+c);return n>=d&&n<=u&&a>=h&&a<=A}return!1},f7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F6=function(e){var r=CR(CR({},f7e),e),n=B.useRef(),a=B.useState(-1),i=i7e(a,2),o=i[0],l=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,A=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,p=r.animationBegin,f=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var b=er("recharts-rectangle",m);return y?ge.createElement(tc,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:g,animationEasing:x,isActive:y},function(N){var v=N.width,C=N.height,P=N.x,_=N.y;return ge.createElement(tc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,isActive:f,easing:x},ge.createElement("path",D1({},$t(r,!0),{className:b,d:SR(P,_,v,C,A),ref:n})))}):ge.createElement("path",D1({},$t(r,!0),{className:b,d:SR(c,d,u,h,A)}))},p7e=["points","className","baseLinePoints","connectNulls"];function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WA.apply(this,arguments)}function g7e(t,e){if(t==null)return{};var r=x7e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BR(t){return w7e(t)||v7e(t)||b7e(t)||y7e()}function y7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7e(t,e){if(t){if(typeof t=="string")return WB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WB(t,e)}}function v7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w7e(t){if(Array.isArray(t))return WB(t)}function WB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ER=function(e){return e&&e.x===+e.x&&e.y===+e.y},j7e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){ER(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),ER(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qg=function(e,r){var n=j7e(e);r&&(n=[n.reduce(function(i,o){return[].concat(BR(i),BR(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},N7e=function(e,r,n){var a=qg(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(qg(r.reverse(),n).slice(1))},_7e=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=g7e(e,p7e);if(!r||!r.length)return null;var l=er("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=N7e(r,a,i);return ge.createElement("g",{className:l},ge.createElement("path",WA({},$t(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ge.createElement("path",WA({},$t(o,!0),{fill:"none",d:qg(r,i)})):null,c?ge.createElement("path",WA({},$t(o,!0),{fill:"none",d:qg(a,i)})):null)}var u=qg(r,i);return ge.createElement("path",WA({},$t(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function GB(){return GB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GB.apply(this,arguments)}var T6=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=er("recharts-dot",i);return r===+r&&n===+n&&a===+a?B.createElement("circle",GB({},$t(e,!1),n1(e),{className:o,cx:r,cy:n,r:a})):null};function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}var C7e=["x","y","top","left","width","height","className"];function XB(){return XB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XB.apply(this,arguments)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function S7e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){B7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B7e(t,e,r){return e=E7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E7e(t){var e=k7e(t,"string");return ox(e)=="symbol"?e:e+""}function k7e(t,e){if(ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P7e(t,e){if(t==null)return{};var r=F7e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var T7e=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},O7e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,A=e.height,m=A===void 0?0:A,x=e.className,g=P7e(e,C7e),p=S7e({x:n,y:i,top:l,left:d,width:h,height:m},g);return!st(n)||!st(i)||!st(h)||!st(m)||!st(l)||!st(d)?null:ge.createElement("path",XB({},$t(p,!0),{className:er("recharts-cross",x),d:T7e(n,i,h,m,l,d)}))},I7e=Oj,D7e=xW,M7e=ol;function L7e(t,e){return t&&t.length?I7e(t,M7e(e),D7e):void 0}var U7e=L7e;const R7e=Tr(U7e);var Q7e=Oj,$7e=ol,H7e=yW;function q7e(t,e){return t&&t.length?Q7e(t,$7e(e),H7e):void 0}var z7e=q7e;const V7e=Tr(z7e);var K7e=["cx","cy","angle","ticks","axisLine"],W7e=["ticks","tick","angle","tickFormatter","stroke"];function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zg.apply(this,arguments)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){Qj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FR(t,e){if(t==null)return{};var r=G7e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function X7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lG(n.key),n)}}function Y7e(t,e,r){return e&&TR(t.prototype,e),r&&TR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function J7e(t,e,r){return e=M1(e),Z7e(t,oG()?Reflect.construct(e,r||[],M1(t).constructor):e.apply(t,r))}function Z7e(t,e){if(e&&(Xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eQe(t)}function eQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!t})()}function M1(t){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M1(t)}function tQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YB(t,e)}function YB(t,e){return YB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YB(t,e)}function Qj(t,e,r){return e=lG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lG(t){var e=rQe(t,"string");return Xm(e)=="symbol"?e:e+""}function rQe(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $j=function(t){function e(){return X7e(this,e),J7e(this,e,arguments)}return tQe(e,t),Y7e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Zr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=R7e(l,function(u){return u.coordinate||0}),d=V7e(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=FR(n,K7e),u=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),h=Zr(a,i,u[0],o),A=Zr(a,i,u[1],o),m=lu(lu(lu({},$t(d,!1)),{},{fill:"none"},$t(c,!1)),{},{x1:h.x,y1:h.y,x2:A.x,y2:A.y});return ge.createElement("line",zg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=FR(a,W7e),h=this.getTickTextAnchor(),A=$t(u,!1),m=$t(o,!1),x=i.map(function(g,p){var f=n.getTickValueCoord(g),y=lu(lu(lu(lu({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(f.x,", ").concat(f.y,")")},A),{},{stroke:"none",fill:d},m),{},{index:p},f),{},{payload:g});return ge.createElement(Er,zg({className:er("recharts-polar-radius-axis-tick",KW(o)),key:"tick-".concat(g.coordinate)},ch(n.props,g,p)),e.renderTickItem(o,y,c?c(g.value,p):g.value))});return ge.createElement(Er,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:ge.createElement(Er,{className:er("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ns.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return ge.isValidElement(n)?o=ge.cloneElement(n,a):Ht(n)?o=n(a):o=ge.createElement(dh,zg({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(B.PureComponent);Qj($j,"displayName","PolarRadiusAxis");Qj($j,"axisType","radiusAxis");Qj($j,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){Hj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dG(n.key),n)}}function sQe(t,e,r){return e&&IR(t.prototype,e),r&&IR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aQe(t,e,r){return e=L1(e),iQe(t,cG()?Reflect.construct(e,r||[],L1(t).constructor):e.apply(t,r))}function iQe(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oQe(t)}function oQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cG=function(){return!!t})()}function L1(t){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L1(t)}function lQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JB(t,e)}function JB(t,e){return JB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JB(t,e)}function Hj(t,e,r){return e=dG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dG(t){var e=cQe(t,"string");return Ym(e)=="symbol"?e:e+""}function cQe(t,e){if(Ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dQe=Math.PI/180,DR=1e-5,qj=function(t){function e(){return nQe(this,e),aQe(this,e,arguments)}return lQe(e,t),sQe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=Zr(i,o,l,n.coordinate),A=Zr(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:h.x,y1:h.y,x2:A.x,y2:A.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*dQe),o;return i>DR?o=a==="outer"?"start":"end":i<-DR?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=cu(cu({},$t(this.props,!1)),{},{fill:"none"},$t(l,!1));if(c==="circle")return ge.createElement(T6,_u({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(A){return Zr(a,i,o,A.coordinate)});return ge.createElement(_7e,_u({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=$t(this.props,!1),h=$t(o,!1),A=cu(cu({},u),{},{fill:"none"},$t(l,!1)),m=i.map(function(x,g){var p=n.getTickLineCoord(x),f=n.getTickTextAnchor(x),y=cu(cu(cu({textAnchor:f},u),{},{stroke:"none",fill:d},h),{},{index:g,payload:x,x:p.x2,y:p.y2});return ge.createElement(Er,_u({className:er("recharts-polar-angle-axis-tick",KW(o)),key:"tick-".concat(x.coordinate)},ch(n.props,x,g)),l&&ge.createElement("line",_u({className:"recharts-polar-angle-axis-tick-line"},A,p)),o&&e.renderTickItem(o,y,c?c(x.value,g):x.value))});return ge.createElement(Er,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:ge.createElement(Er,{className:er("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return ge.isValidElement(n)?o=ge.cloneElement(n,a):Ht(n)?o=n(a):o=ge.createElement(dh,_u({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(B.PureComponent);Hj(qj,"displayName","PolarAngleAxis");Hj(qj,"axisType","angleAxis");Hj(qj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var uQe=mK,hQe=uQe(Object.getPrototypeOf,Object),AQe=hQe,mQe=oc,fQe=AQe,pQe=lc,gQe="[object Object]",xQe=Function.prototype,yQe=Object.prototype,uG=xQe.toString,bQe=yQe.hasOwnProperty,vQe=uG.call(Object);function wQe(t){if(!pQe(t)||mQe(t)!=gQe)return!1;var e=fQe(t);if(e===null)return!0;var r=bQe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&uG.call(r)==vQe}var jQe=wQe;const NQe=Tr(jQe);var _Qe=oc,CQe=lc,SQe="[object Boolean]";function BQe(t){return t===!0||t===!1||CQe(t)&&_Qe(t)==SQe}var EQe=BQe;const kQe=Tr(EQe);function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U1.apply(this,arguments)}function PQe(t,e){return IQe(t)||OQe(t,e)||TQe(t,e)||FQe()}function FQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQe(t,e){if(t){if(typeof t=="string")return MR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MR(t,e)}}function MR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OQe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function IQe(t){if(Array.isArray(t))return t}function LR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(r),!0).forEach(function(n){DQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DQe(t,e,r){return e=MQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MQe(t){var e=LQe(t,"string");return lx(e)=="symbol"?e:e+""}function LQe(t,e){if(lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RR=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},UQe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RQe=function(e){var r=UR(UR({},UQe),e),n=B.useRef(),a=B.useState(-1),i=PQe(a,2),o=i[0],l=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,A=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,p=r.animationBegin,f=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||A!==+A||u===0&&h===0||A===0)return null;var y=er("recharts-trapezoid",m);return f?ge.createElement(tc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:A,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:A,x:c,y:d},duration:g,animationEasing:x,isActive:f},function(b){var N=b.upperWidth,v=b.lowerWidth,C=b.height,P=b.x,_=b.y;return ge.createElement(tc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,easing:x},ge.createElement("path",U1({},$t(r,!0),{className:y,d:RR(P,_,N,v,C),ref:n})))}):ge.createElement("g",null,ge.createElement("path",U1({},$t(r,!0),{className:y,d:RR(c,d,u,h,A)})))},QQe=["option","shapeType","propTransformer","activeClassName","isActive"];function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}function $Qe(t,e){if(t==null)return{};var r=HQe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function R1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){qQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qQe(t,e,r){return e=zQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zQe(t){var e=VQe(t,"string");return cx(e)=="symbol"?e:e+""}function VQe(t,e){if(cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KQe(t,e){return R1(R1({},e),t)}function WQe(t,e){return t==="symbols"}function $R(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ge.createElement(F6,r);case"trapezoid":return ge.createElement(RQe,r);case"sector":return ge.createElement(XW,r);case"symbols":if(WQe(e))return ge.createElement(Xk,r);break;default:return null}}function GQe(t){return B.isValidElement(t)?t.props:t}function hG(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?KQe:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=$Qe(t,QQe),d;if(B.isValidElement(e))d=B.cloneElement(e,R1(R1({},c),GQe(e)));else if(Ht(e))d=e(c);else if(NQe(e)&&!kQe(e)){var u=a(e,c);d=ge.createElement($R,{shapeType:r,elementProps:u})}else{var h=c;d=ge.createElement($R,{shapeType:r,elementProps:h})}return l?ge.createElement(Er,{className:o},d):d}function zj(t,e){return e!=null&&"trapezoids"in t.props}function Vj(t,e){return e!=null&&"sectors"in t.props}function dx(t,e){return e!=null&&"points"in t.props}function XQe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function YQe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function JQe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function ZQe(t,e){var r;return zj(t,e)?r=XQe:Vj(t,e)?r=YQe:dx(t,e)&&(r=JQe),r}function e$e(t,e){var r;return zj(t,e)?r="trapezoids":Vj(t,e)?r="sectors":dx(t,e)&&(r="points"),r}function t$e(t,e){if(zj(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vj(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return dx(t,e)?e.payload:{}}function r$e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=e$e(r,e),i=t$e(r,e),o=n.filter(function(c,d){var u=Mj(i,c),h=r.props[a].filter(function(x){var g=ZQe(r,e);return g(x,e)}),A=r.props[a].indexOf(h[h.length-1]),m=d===A;return u&&m}),l=n.indexOf(o[o.length-1]);return l}var Kv;function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GA.apply(this,arguments)}function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){Fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mG(n.key),n)}}function s$e(t,e,r){return e&&qR(t.prototype,e),r&&qR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a$e(t,e,r){return e=Q1(e),i$e(t,AG()?Reflect.construct(e,r||[],Q1(t).constructor):e.apply(t,r))}function i$e(t,e){if(e&&(Jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o$e(t)}function o$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!t})()}function Q1(t){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q1(t)}function l$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZB(t,e)}function ZB(t,e){return ZB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZB(t,e)}function Fi(t,e,r){return e=mG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mG(t){var e=c$e(t,"string");return Jm(e)=="symbol"?e:e+""}function c$e(t,e){if(Jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dc=function(t){function e(r){var n;return n$e(this,e),n=a$e(this,e,[r]),Fi(n,"pieRef",null),Fi(n,"sectorRefs",[]),Fi(n,"id",Mx("recharts-pie-")),Fi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ht(a)&&a()}),Fi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ht(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return l$e(e,t),s$e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=$t(this.props,!1),h=$t(o,!1),A=$t(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(g,p){var f=(g.startAngle+g.endAngle)/2,y=Zr(g.cx,g.cy,g.outerRadius+m,f),b=Wr(Wr(Wr(Wr({},u),g),{},{stroke:"none"},h),{},{index:p,textAnchor:e.getTextAnchor(y.x,g.cx)},y),N=Wr(Wr(Wr(Wr({},u),g),{},{fill:"none",stroke:g.fill},A),{},{index:p,points:[Zr(g.cx,g.cy,g.outerRadius,f),y]}),v=c;return nr(c)&&nr(d)?v="value":nr(c)&&(v=d),ge.createElement(Er,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(o,b,na(g,v)))});return ge.createElement(Er,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var h=a.isActiveIndex(u),A=c&&a.hasActiveIndex()?c:null,m=h?o:A,x=Wr(Wr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ge.createElement(Er,GA({ref:function(p){p&&!a.sectorRefs.includes(p)&&a.sectorRefs.push(p)},tabIndex:-1,className:"recharts-pie-sector"},ch(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ge.createElement(hG,GA({option:m,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,A=h.prevSectors,m=h.prevIsAnimationActive;return ge.createElement(tc,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,p=[],f=i&&i[0],y=f.startAngle;return i.forEach(function(b,N){var v=A&&A[N],C=N>0?oi(b,"paddingAngle",0):0;if(v){var P=Lc(v.endAngle-v.startAngle,b.endAngle-b.startAngle),_=Wr(Wr({},b),{},{startAngle:y+C,endAngle:y+P(g)+C});p.push(_),y=_.endAngle}else{var k=b.endAngle,M=b.startAngle,j=Lc(0,k-M),S=j(g),F=Wr(Wr({},b),{},{startAngle:y+C,endAngle:y+S+C});p.push(F),y=F.endAngle}}),ge.createElement(Er,null,n.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Mj(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,A=a.outerRadius,m=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!st(d)||!st(u)||!st(h)||!st(A))return null;var g=er("recharts-pie",l);return ge.createElement(Er,{tabIndex:this.props.rootTabIndex,className:g,ref:function(f){n.pieRef=f}},this.renderSectors(),c&&this.renderLabels(o),Ns.renderCallByParent(this.props,null,!1),(!m||x)&&gd.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(ge.isValidElement(n))return ge.cloneElement(n,a);if(Ht(n))return n(a);var o=er("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ge.createElement(LB,GA({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(ge.isValidElement(n))return ge.cloneElement(n,a);var o=i;if(Ht(n)&&(o=n(a),ge.isValidElement(o)))return o;var l=er("recharts-pie-label-text",typeof n!="boolean"&&!Ht(n)?n.className:"");return ge.createElement(dh,GA({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(B.PureComponent);Kv=dc;Fi(dc,"displayName","Pie");Fi(dc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Pf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fi(dc,"parseDeltaAngle",function(t,e){var r=xa(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Fi(dc,"getRealPieData",function(t){var e=t.data,r=t.children,n=$t(t,!1),a=Hi(r,Ux);return e&&e.length?e.map(function(i,o){return Wr(Wr(Wr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Wr(Wr({},n),i.props)}):[]});Fi(dc,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=VW(a,i),l=n+ya(t.cx,a,a/2),c=r+ya(t.cy,i,i/2),d=ya(t.innerRadius,o,0),u=ya(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Fi(dc,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Wr(Wr({},e.type.defaultProps),e.props):e.props,a=Kv.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,h=n.valueKey,A=n.tooltipType,m=Math.abs(n.minAngle),x=Kv.parseCoordinateOfPie(n,r),g=Kv.parseDeltaAngle(o,l),p=Math.abs(g),f=d;nr(d)&&nr(h)?(yo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),f="value"):nr(d)&&(yo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),f=h);var y=a.filter(function(_){return na(_,f,0)!==0}).length,b=(p>=360?y:y-1)*c,N=p-y*m-b,v=a.reduce(function(_,k){var M=na(k,f,0);return _+(st(M)?M:0)},0),C;if(v>0){var P;C=a.map(function(_,k){var M=na(_,f,0),j=na(_,u,k),S=(st(M)?M:0)/v,F;k?F=P.endAngle+xa(g)*c*(M!==0?1:0):F=o;var O=F+xa(g)*((M!==0?m:0)+S*N),H=(F+O)/2,U=(x.innerRadius+x.outerRadius)/2,z=[{name:j,value:M,payload:_,dataKey:f,type:A}],R=Zr(x.cx,x.cy,U,H);return P=Wr(Wr(Wr({percent:S,cornerRadius:i,name:j,tooltipPayload:z,midAngle:H,middleRadius:U,tooltipPosition:R},_),x),{},{value:na(_,f),startAngle:F,endAngle:O,payload:_,paddingAngle:xa(g)*c}),P})}return Wr(Wr({},x),{},{sectors:C,data:a})});var d$e=Math.ceil,u$e=Math.max;function h$e(t,e,r,n){for(var a=-1,i=u$e(d$e((e-t)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=r;return o}var A$e=h$e,m$e=TK,zR=1/0,f$e=17976931348623157e292;function p$e(t){if(!t)return t===0?t:0;if(t=m$e(t),t===zR||t===-zR){var e=t<0?-1:1;return e*f$e}return t===t?t:0}var fG=p$e,g$e=A$e,x$e=Sj,iC=fG;function y$e(t){return function(e,r,n){return n&&typeof n!="number"&&x$e(e,r,n)&&(r=n=void 0),e=iC(e),r===void 0?(r=e,e=0):r=iC(r),n=n===void 0?e<r?1:-1:iC(n),g$e(e,r,n,t)}}var b$e=y$e,v$e=b$e,w$e=v$e(),j$e=w$e;const $1=Tr(j$e);function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){pG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pG(t,e,r){return e=N$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N$e(t){var e=_$e(t,"string");return ux(e)=="symbol"?e:e+""}function _$e(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C$e=["Webkit","Moz","O","ms"],S$e=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=C$e.reduce(function(i,o){return KR(KR({},i),{},pG({},o+n,r))},{});return a[e]=r,a};function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H1.apply(this,arguments)}function WR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xG(n.key),n)}}function E$e(t,e,r){return e&&GR(t.prototype,e),r&&GR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k$e(t,e,r){return e=q1(e),P$e(t,gG()?Reflect.construct(e,r||[],q1(t).constructor):e.apply(t,r))}function P$e(t,e){if(e&&(Zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F$e(t)}function F$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gG=function(){return!!t})()}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q1(t)}function T$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e3(t,e)}function e3(t,e){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(t,e)}function Ja(t,e,r){return e=xG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xG(t){var e=O$e(t,"string");return Zm(e)=="symbol"?e:e+""}function O$e(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var I$e=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Qg().domain($1(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},XR=function(e){return e.changedTouches&&!!e.changedTouches.length},ef=function(t){function e(r){var n;return B$e(this,e),n=k$e(this,e,[r]),Ja(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ja(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ja(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Ja(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ja(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ja(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ja(n,"handleSlideDragStart",function(a){var i=XR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return T$e(e,t),E$e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),A=Math.max(a,i),m=e.getIndexInRange(o,h),x=e.getIndexInRange(o,A);return{startIndex:m-m%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=na(i[n],l,n);return Ht(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,A=c.startIndex,m=c.endIndex,x=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,d+u-h-l,d+u-h-o):g<0&&(g=Math.max(g,d-o,d-l));var p=this.getIndex({startX:o+g,endX:l+g});(p.startIndex!==A||p.endIndex!==m)&&x&&x(p),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=XR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,A=u.width,m=u.travellerWidth,x=u.onChange,g=u.gap,p=u.data,f={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,h+A-m-d):y<0&&(y=Math.max(y,h-d)),f[o]=d+y;var b=this.getIndex(f),N=b.startIndex,v=b.endIndex,C=function(){var _=p.length-1;return o==="startX"&&(l>c?N%g===0:v%g===0)||l<c&&v===_||o==="endX"&&(l>c?v%g===0:N%g===0)||l>c&&v===_};this.setState(Ja(Ja({},o,d+y),"brushMoveStartX",n.pageX),function(){x&&C()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var A=h+n;if(!(A===-1||A>=l.length)){var m=l[A];a==="startX"&&m>=d||a==="endX"&&m<=c||this.setState(Ja({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return ge.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,h=B.Children.only(d);return h?ge.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,A=c.traveller,m=c.ariaLabel,x=c.data,g=c.startIndex,p=c.endIndex,f=Math.max(n,this.props.x),y=oC(oC({},$t(this.props,!1)),{},{x:f,y:d,width:u,height:h}),b=m||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[p])===null||o===void 0?void 0:o.name);return ge.createElement(Er,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(v){["ArrowLeft","ArrowRight"].includes(v.key)&&(v.preventDefault(),v.stopPropagation(),l.handleTravellerMoveKeyboard(v.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(A,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,h=Math.max(Math.abs(a-n)-d,0);return ge.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,h=u.startX,A=u.endX,m=5,x={pointerEvents:"none",fill:d};return ge.createElement(Er,{className:"recharts-brush-texts"},ge.createElement(dh,H1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,A)-m,y:o+l/2},x),this.getTextOfTick(a)),ge.createElement(dh,H1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,A)+c+m,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,h=n.alwaysShowText,A=this.state,m=A.startX,x=A.endX,g=A.isTextActive,p=A.isSlideMoving,f=A.isTravellerMoving,y=A.isTravellerFocused;if(!a||!a.length||!st(l)||!st(c)||!st(d)||!st(u)||d<=0||u<=0)return null;var b=er("recharts-brush",i),N=ge.Children.count(o)===1,v=S$e("userSelect","none");return ge.createElement(Er,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||p||f||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return ge.createElement(ge.Fragment,null,ge.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ge.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),ge.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ge.isValidElement(n)?i=ge.cloneElement(n,a):Ht(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,h=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return oC({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?I$e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var A=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(B.PureComponent);Ja(ef,"displayName","Brush");Ja(ef,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var D$e=n6;function M$e(t,e){var r;return D$e(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var L$e=M$e,U$e=iK,R$e=ol,Q$e=L$e,$$e=qa,H$e=Sj;function q$e(t,e,r){var n=$$e(t)?U$e:Q$e;return r&&H$e(t,e,r)&&(e=void 0),n(t,R$e(e))}var z$e=q$e;const V$e=Tr(z$e);var tl=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},YR=BK;function K$e(t,e,r){e=="__proto__"&&YR?YR(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var W$e=K$e,G$e=W$e,X$e=CK,Y$e=ol;function J$e(t,e){var r={};return e=Y$e(e),X$e(t,function(n,a,i){G$e(r,a,e(n,a,i))}),r}var Z$e=J$e;const e9e=Tr(Z$e);function t9e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var r9e=t9e,n9e=n6;function s9e(t,e){var r=!0;return n9e(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var a9e=s9e,i9e=r9e,o9e=a9e,l9e=ol,c9e=qa,d9e=Sj;function u9e(t,e,r){var n=c9e(t)?i9e:o9e;return r&&d9e(t,e,r)&&(e=void 0),n(t,l9e(e))}var h9e=u9e;const yG=Tr(h9e);var A9e=["x","y"];function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function t3(){return t3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t3.apply(this,arguments)}function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){m9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m9e(t,e,r){return e=f9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f9e(t){var e=p9e(t,"string");return hx(e)=="symbol"?e:e+""}function p9e(t,e){if(hx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g9e(t,e){if(t==null)return{};var r=x9e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function y9e(t,e){var r=t.x,n=t.y,a=g9e(t,A9e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),h="".concat(e.width||a.width),A=parseInt(h,10);return Hp(Hp(Hp(Hp(Hp({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:A,name:e.name,radius:e.radius})}function ZR(t){return ge.createElement(hG,t3({shapeType:"rectangle",propTransformer:y9e,activeClassName:"recharts-active-bar"},t))}var b9e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=st(n)||zCe(n);return i?e(n,a):(i||hh(),r)}},v9e=["value","background"],bG;function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function w9e(t,e){if(t==null)return{};var r=j9e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z1.apply(this,arguments)}function e8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(r),!0).forEach(function(n){ed(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wG(n.key),n)}}function _9e(t,e,r){return e&&t8(t.prototype,e),r&&t8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function C9e(t,e,r){return e=V1(e),S9e(t,vG()?Reflect.construct(e,r||[],V1(t).constructor):e.apply(t,r))}function S9e(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B9e(t)}function B9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vG=function(){return!!t})()}function V1(t){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V1(t)}function E9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r3(t,e)}function r3(t,e){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r3(t,e)}function ed(t,e,r){return e=wG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wG(t){var e=k9e(t,"string");return tf(e)=="symbol"?e:e+""}function k9e(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rc=function(t){function e(){var r;N9e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=C9e(this,e,[].concat(a)),ed(r,"state",{isAnimationFinished:!1}),ed(r,"id",Mx("recharts-bar-")),ed(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ed(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return E9e(e,t),_9e(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=$t(this.props,!1);return n&&n.map(function(h,A){var m=A===c,x=m?d:o,g=Kn(Kn(Kn({},u),h),{},{isActive:m,option:x,index:A,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ge.createElement(Er,z1({className:"recharts-bar-rectangle"},ch(a.props,h,A),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(A)}),ge.createElement(ZR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,A=this.state.prevData;return ge.createElement(tc,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,g=i.map(function(p,f){var y=A&&A[f];if(y){var b=Lc(y.x,p.x),N=Lc(y.y,p.y),v=Lc(y.width,p.width),C=Lc(y.height,p.height);return Kn(Kn({},p),{},{x:b(x),y:N(x),width:v(x),height:C(x)})}if(o==="horizontal"){var P=Lc(0,p.height),_=P(x);return Kn(Kn({},p),{},{y:p.y+p.height-_,height:_})}var k=Lc(0,p.width),M=k(x);return Kn(Kn({},p),{},{width:M})});return ge.createElement(Er,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Mj(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=$t(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,A=w9e(d,v9e);if(!h)return null;var m=Kn(Kn(Kn(Kn(Kn({},A),{},{fill:"#eee"},h),c),ch(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ge.createElement(ZR,z1({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Hi(u,Rj);if(!h)return null;var A=d==="vertical"?o[0].height/2:o[0].width/2,m=function(p,f){var y=Array.isArray(p.value)?p.value[1]:p.value;return{x:p.x,y:p.y,value:y,errorVal:na(p,f)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ge.createElement(Er,x,h.map(function(g){return ge.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:A,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,h=n.width,A=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(a||!i||!i.length)return null;var p=this.state.isAnimationFinished,f=er("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,N=y||b,v=nr(g)?this.id:g;return ge.createElement(Er,{className:f},y||b?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(v)},ge.createElement("rect",{x:y?d:d-h/2,y:b?u:u-A/2,width:y?h:h*2,height:b?A:A*2}))):null,ge.createElement(Er,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(v,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,v),(!m||p)&&gd.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(B.PureComponent);bG=rc;ed(rc,"displayName","Bar");ed(rc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ed(rc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,A=t.offset,m=cUe(n,r);if(!m)return null;var x=e.layout,g=r.type.defaultProps,p=g!==void 0?Kn(Kn({},g),r.props):r.props,f=p.dataKey,y=p.children,b=p.minPointSize,N=x==="horizontal"?o:i,v=d?N.scale.domain():null,C=pUe({numericAxis:N}),P=Hi(y,Ux),_=h.map(function(k,M){var j,S,F,O,H,U;d?j=dUe(d[u+M],v):(j=na(k,f),Array.isArray(j)||(j=[C,j]));var z=b9e(b,bG.defaultProps.minPointSize)(j[1],M);if(x==="horizontal"){var R,I=[o.scale(j[0]),o.scale(j[1])],K=I[0],te=I[1];S=qU({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:k,index:M}),F=(R=te??K)!==null&&R!==void 0?R:void 0,O=m.size;var Q=K-te;if(H=Number.isNaN(Q)?0:Q,U={x:S,y:o.y,width:O,height:o.height},Math.abs(z)>0&&Math.abs(H)<Math.abs(z)){var D=xa(H||z)*(Math.abs(z)-Math.abs(H));F-=D,H+=D}}else{var X=[i.scale(j[0]),i.scale(j[1])],V=X[0],de=X[1];if(S=V,F=qU({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:k,index:M}),O=de-V,H=m.size,U={x:i.x,y:F,width:i.width,height:H},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var le=xa(O||z)*(Math.abs(z)-Math.abs(O));O+=le}}return Kn(Kn(Kn({},k),{},{x:S,y:F,width:O,height:H,value:d?j:j[1],payload:k,background:U},P&&P[M]&&P[M].props),{},{tooltipPayload:[qW(r,k)],tooltipPosition:{x:S+O/2,y:F+H/2}})});return Kn({data:_,layout:x},A)});function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}function P9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jG(n.key),n)}}function F9e(t,e,r){return e&&r8(t.prototype,e),r&&r8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(r),!0).forEach(function(n){Kj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kj(t,e,r){return e=jG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jG(t){var e=T9e(t,"string");return Ax(e)=="symbol"?e:e+""}function T9e(t,e){if(Ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O9e=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},A=!!ei(d,rc);return u.reduce(function(m,x){var g=r[x],p=g.orientation,f=g.domain,y=g.padding,b=y===void 0?{}:y,N=g.mirror,v=g.reversed,C="".concat(p).concat(N?"Mirror":""),P,_,k,M,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var S=f[1]-f[0],F=1/0,O=g.categoricalDomain.sort(WCe);if(O.forEach(function(X,V){V>0&&(F=Math.min((X||0)-(O[V-1]||0),F))}),Number.isFinite(F)){var H=F/S,U=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=H*U/2),g.padding==="no-gap"){var z=ya(e.barCategoryGap,H*U),R=H*U/2;P=R-z-(R-z)/U*z}}}a==="xAxis"?_=[n.left+(b.left||0)+(P||0),n.left+n.width-(b.right||0)-(P||0)]:a==="yAxis"?_=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(P||0),n.top+n.height-(b.bottom||0)-(P||0)]:_=g.range,v&&(_=[_[1],_[0]]);var I=RW(g,i,A),K=I.scale,te=I.realScaleType;K.domain(f).range(_),QW(K);var Q=$W(K,ho(ho({},g),{},{realScaleType:te}));a==="xAxis"?(j=p==="top"&&!N||p==="bottom"&&N,k=n.left,M=h[C]-j*g.height):a==="yAxis"&&(j=p==="left"&&!N||p==="right"&&N,k=h[C]-j*g.width,M=n.top);var D=ho(ho(ho({},g),Q),{},{realScaleType:te,x:k,y:M,scale:K,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return D.bandSize=k1(D,Q),!g.hide&&a==="xAxis"?h[C]+=(j?-1:1)*D.height:g.hide||(h[C]+=(j?-1:1)*D.width),ho(ho({},m),{},Kj({},x,D))},{})},NG=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},I9e=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return NG({x:r,y:n},{x:a,y:i})},_G=function(){function t(e){P9e(this,t),this.scale=e}return F9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Kj(_G,"EPS",1e-4);var O6=function(e){var r=Object.keys(e).reduce(function(n,a){return ho(ho({},n),{},Kj({},a,_G.create(e[a])))},{});return ho(ho({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return e9e(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return yG(a,function(i,o){return r[o].isInRange(i)})}})};function D9e(t){return(t%180+180)%180}var M9e=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=D9e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},L9e=ol,U9e=Lx,R9e=_j;function Q9e(t){return function(e,r,n){var a=Object(e);if(!U9e(e)){var i=L9e(r);e=R9e(e),r=function(l){return i(a[l],l,a)}}var o=t(e,r,n);return o>-1?a[i?e[o]:o]:void 0}}var $9e=Q9e,H9e=fG;function q9e(t){var e=H9e(t),r=e%1;return e===e?r?e-r:e:0}var z9e=q9e,V9e=bK,K9e=ol,W9e=z9e,G9e=Math.max;function X9e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:W9e(r);return a<0&&(a=G9e(n+a,0)),V9e(t,K9e(e),a)}var Y9e=X9e,J9e=$9e,Z9e=Y9e,eHe=J9e(Z9e),tHe=eHe;const rHe=Tr(tHe);var nHe=Y5e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),I6=B.createContext(void 0),D6=B.createContext(void 0),CG=B.createContext(void 0),SG=B.createContext({}),BG=B.createContext(void 0),EG=B.createContext(0),kG=B.createContext(0),s8=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=nHe(i);return ge.createElement(I6.Provider,{value:n},ge.createElement(D6.Provider,{value:a},ge.createElement(SG.Provider,{value:i},ge.createElement(CG.Provider,{value:u},ge.createElement(BG.Provider,{value:o},ge.createElement(EG.Provider,{value:d},ge.createElement(kG.Provider,{value:c},l)))))))},sHe=function(){return B.useContext(BG)},PG=function(e){var r=B.useContext(I6);r==null&&hh();var n=r[e];return n==null&&hh(),n},aHe=function(){var e=B.useContext(I6);return Hc(e)},iHe=function(){var e=B.useContext(D6),r=rHe(e,function(n){return yG(n.domain,Number.isFinite)});return r||Hc(e)},FG=function(e){var r=B.useContext(D6);r==null&&hh();var n=r[e];return n==null&&hh(),n},oHe=function(){var e=B.useContext(CG);return e},lHe=function(){return B.useContext(SG)},M6=function(){return B.useContext(kG)},L6=function(){return B.useContext(EG)};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function cHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OG(n.key),n)}}function uHe(t,e,r){return e&&dHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hHe(t,e,r){return e=K1(e),AHe(t,TG()?Reflect.construct(e,r||[],K1(t).constructor):e.apply(t,r))}function AHe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mHe(t)}function mHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!t})()}function K1(t){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K1(t)}function fHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n3(t,e)}function n3(t,e){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n3(t,e)}function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){U6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U6(t,e,r){return e=OG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OG(t){var e=pHe(t,"string");return rf(e)=="symbol"?e:e+""}function pHe(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gHe(t,e){return vHe(t)||bHe(t,e)||yHe(t,e)||xHe()}function xHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yHe(t,e){if(t){if(typeof t=="string")return o8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o8(t,e)}}function o8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bHe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function vHe(t){if(Array.isArray(t))return t}function s3(){return s3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s3.apply(this,arguments)}var wHe=function(e,r){var n;return ge.isValidElement(e)?n=ge.cloneElement(e,r):Ht(e)?n=e(r):n=ge.createElement("line",s3({},r,{className:"recharts-reference-line-line"})),n},jHe=function(e,r,n,a,i,o,l,c,d){var u=i.x,h=i.y,A=i.width,m=i.height;if(n){var x=d.y,g=e.y.apply(x,{position:o});if(tl(d,"discard")&&!e.y.isInRange(g))return null;var p=[{x:u+A,y:g},{x:u,y:g}];return c==="left"?p.reverse():p}if(r){var f=d.x,y=e.x.apply(f,{position:o});if(tl(d,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:h+m},{x:y,y:h}];return l==="top"?b.reverse():b}if(a){var N=d.segment,v=N.map(function(C){return e.apply(C,{position:o})});return tl(d,"discard")&&V$e(v,function(C){return!e.isInRange(C)})?null:v}return null};function NHe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=sHe(),u=PG(a),h=FG(i),A=oHe();if(!d||!A)return null;yo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=O6({x:u.scale,y:h.scale}),x=hs(e),g=hs(r),p=n&&n.length===2,f=jHe(m,x,g,p,A,t.position,u.orientation,h.orientation,t);if(!f)return null;var y=gHe(f,2),b=y[0],N=b.x,v=b.y,C=y[1],P=C.x,_=C.y,k=tl(t,"hidden")?"url(#".concat(d,")"):void 0,M=i8(i8({clipPath:k},$t(t,!0)),{},{x1:N,y1:v,x2:P,y2:_});return ge.createElement(Er,{className:er("recharts-reference-line",l)},wHe(o,M),Ns.renderCallByParent(t,I9e({x1:N,y1:v,x2:P,y2:_})))}var R6=function(t){function e(){return cHe(this,e),hHe(this,e,arguments)}return fHe(e,t),uHe(e,[{key:"render",value:function(){return ge.createElement(NHe,this.props)}}])}(ge.Component);U6(R6,"displayName","ReferenceLine");U6(R6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function a3(){return a3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a3.apply(this,arguments)}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function l8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function c8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(r),!0).forEach(function(n){Wj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _He(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DG(n.key),n)}}function SHe(t,e,r){return e&&CHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BHe(t,e,r){return e=W1(e),EHe(t,IG()?Reflect.construct(e,r||[],W1(t).constructor):e.apply(t,r))}function EHe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kHe(t)}function kHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!t})()}function W1(t){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W1(t)}function PHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i3(t,e)}function i3(t,e){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i3(t,e)}function Wj(t,e,r){return e=DG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DG(t){var e=FHe(t,"string");return nf(e)=="symbol"?e:e+""}function FHe(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var THe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=O6({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return tl(e,"discard")&&!o.isInRange(l)?null:l},Gj=function(t){function e(){return _He(this,e),BHe(this,e,arguments)}return PHe(e,t),SHe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=hs(a),u=hs(i);if(yo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=THe(this.props);if(!h)return null;var A=h.x,m=h.y,x=this.props,g=x.shape,p=x.className,f=tl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=c8(c8({clipPath:f},$t(this.props,!0)),{},{cx:A,cy:m});return ge.createElement(Er,{className:er("recharts-reference-dot",p)},e.renderDot(g,y),Ns.renderCallByParent(this.props,{x:A-o,y:m-o,width:2*o,height:2*o}))}}])}(ge.Component);Wj(Gj,"displayName","ReferenceDot");Wj(Gj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wj(Gj,"renderDot",function(t,e){var r;return ge.isValidElement(t)?r=ge.cloneElement(t,e):Ht(t)?r=t(e):r=ge.createElement(T6,a3({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function o3(){return o3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o3.apply(this,arguments)}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function d8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function u8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(r),!0).forEach(function(n){Xj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LG(n.key),n)}}function DHe(t,e,r){return e&&IHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MHe(t,e,r){return e=G1(e),LHe(t,MG()?Reflect.construct(e,r||[],G1(t).constructor):e.apply(t,r))}function LHe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UHe(t)}function UHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!t})()}function G1(t){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G1(t)}function RHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l3(t,e)}function l3(t,e){return l3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l3(t,e)}function Xj(t,e,r){return e=LG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LG(t){var e=QHe(t,"string");return sf(e)=="symbol"?e:e+""}function QHe(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $He=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var A=O6({x:u.scale,y:h.scale}),m={x:e?A.x.apply(o,{position:"start"}):A.x.rangeMin,y:n?A.y.apply(c,{position:"start"}):A.y.rangeMin},x={x:r?A.x.apply(l,{position:"end"}):A.x.rangeMax,y:a?A.y.apply(d,{position:"end"}):A.y.rangeMax};return tl(i,"discard")&&(!A.isInRange(m)||!A.isInRange(x))?null:NG(m,x)},Yj=function(t){function e(){return OHe(this,e),MHe(this,e,arguments)}return RHe(e,t),DHe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;yo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=hs(a),A=hs(i),m=hs(o),x=hs(l),g=this.props.shape;if(!h&&!A&&!m&&!x&&!g)return null;var p=$He(h,A,m,x,this.props);if(!p&&!g)return null;var f=tl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ge.createElement(Er,{className:er("recharts-reference-area",c)},e.renderRect(g,u8(u8({clipPath:f},$t(this.props,!0)),p)),Ns.renderCallByParent(this.props,p))}}])}(ge.Component);Xj(Yj,"displayName","ReferenceArea");Xj(Yj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xj(Yj,"renderRect",function(t,e){var r;return ge.isValidElement(t)?r=ge.cloneElement(t,e):Ht(t)?r=t(e):r=ge.createElement(F6,o3({},e,{className:"recharts-reference-area-rect"})),r});function UG(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function HHe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return M9e(n,r)}function qHe(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function X1(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function zHe(t,e){return UG(t,e+1)}function VHe(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:UG(n,d)};var g=c,p,f=function(){return p===void 0&&(p=r(x,g)),p},y=x.coordinate,b=c===0||X1(t,y,f,u,l);b||(c=0,u=o,d+=1),b&&(u=y+t*(f()/2+a),c+=d)},A;d<=i.length;)if(A=h(),A)return A.v;return[]}function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function h8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(r),!0).forEach(function(n){KHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KHe(t,e,r){return e=WHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WHe(t){var e=GHe(t,"string");return mx(e)=="symbol"?e:e+""}function GHe(t,e){if(mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XHe(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(A){var m=i[A],x,g=function(){return x===void 0&&(x=r(m,A)),x};if(A===o-1){var p=t*(m.coordinate+t*g()/2-c);i[A]=m=Ys(Ys({},m),{},{tickCoord:p>0?m.coordinate-p*t:m.coordinate})}else i[A]=m=Ys(Ys({},m),{},{tickCoord:m.coordinate});var f=X1(t,m.tickCoord,g,l,c);f&&(c=m.tickCoord-t*(g()/2+a),i[A]=Ys(Ys({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function YHe(t,e,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=n[l-1],h=r(u,l-1),A=t*(u.coordinate+t*h/2-d);o[l-1]=u=Ys(Ys({},u),{},{tickCoord:A>0?u.coordinate-A*t:u.coordinate});var m=X1(t,u.tickCoord,function(){return h},c,d);m&&(d=u.tickCoord-t*(h/2+a),o[l-1]=Ys(Ys({},u),{},{isShow:!0}))}for(var x=i?l-1:l,g=function(y){var b=o[y],N,v=function(){return N===void 0&&(N=r(b,y)),N};if(y===0){var C=t*(b.coordinate-t*v()/2-c);o[y]=b=Ys(Ys({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else o[y]=b=Ys(Ys({},b),{},{tickCoord:b.coordinate});var P=X1(t,b.tickCoord,v,c,d);P&&(c=b.tickCoord+t*(v()/2+a),o[y]=Ys(Ys({},b),{},{isShow:!0}))},p=0;p<x;p++)g(p);return o}function Q6(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!a||!a.length||!n)return[];if(st(c)||Pf.isSsr)return zHe(a,typeof c=="number"&&st(c)?c:0);var A=[],m=l==="top"||l==="bottom"?"width":"height",x=u&&m==="width"?Rg(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,N){var v=Ht(d)?d(b.value,N):b.value;return m==="width"?HHe(Rg(v,{fontSize:e,letterSpacing:r}),x,h):Rg(v,{fontSize:e,letterSpacing:r})[m]},p=a.length>=2?xa(a[1].coordinate-a[0].coordinate):1,f=qHe(i,p,m);return c==="equidistantPreserveStart"?VHe(p,f,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?A=YHe(p,f,g,a,o,c==="preserveStartEnd"):A=XHe(p,f,g,a,o),A.filter(function(y){return y.isShow}))}var JHe=["viewBox"],ZHe=["viewBox"],eqe=["ticks"];function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XA.apply(this,arguments)}function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function as(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){$6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lC(t,e){if(t==null)return{};var r=tqe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QG(n.key),n)}}function nqe(t,e,r){return e&&m8(t.prototype,e),r&&m8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sqe(t,e,r){return e=Y1(e),aqe(t,RG()?Reflect.construct(e,r||[],Y1(t).constructor):e.apply(t,r))}function aqe(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iqe(t)}function iqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RG=function(){return!!t})()}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y1(t)}function oqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c3(t,e)}function c3(t,e){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c3(t,e)}function $6(t,e,r){return e=QG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QG(t){var e=lqe(t,"string");return af(e)=="symbol"?e:e+""}function lqe(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var If=function(t){function e(r){var n;return rqe(this,e),n=sqe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return oqe(e,t),nqe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=lC(n,JHe),l=this.props,c=l.viewBox,d=lC(l,ZHe);return!vm(i,c)||!vm(o,d)||!vm(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,A=a.tickMargin,m,x,g,p,f,y,b=h?-1:1,N=n.tickSize||u,v=st(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":m=x=n.coordinate,p=o+ +!h*c,g=p-b*N,y=g-b*A,f=v;break;case"left":g=p=n.coordinate,x=i+ +!h*l,m=x-b*N,f=m-b*A,y=v;break;case"right":g=p=n.coordinate,x=i+ +h*l,m=x+b*N,f=m+b*A,y=v;break;default:m=x=n.coordinate,p=o+ +h*c,g=p+b*N,y=g+b*A,f=v;break}return{line:{x1:m,y1:g,x2:x,y2:p},tick:{x:f,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,h=as(as(as({},$t(this.props,!1)),$t(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var A=+(c==="top"&&!d||c==="bottom"&&d);h=as(as({},h),{},{x1:a,y1:i+A*l,x2:a+o,y2:i+A*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);h=as(as({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return ge.createElement("line",XA({},h,{className:er("recharts-cartesian-axis-line",oi(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,A=l.unit,m=Q6(as(as({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),p=$t(this.props,!1),f=$t(u,!1),y=as(as({},p),{},{fill:"none"},$t(c,!1)),b=m.map(function(N,v){var C=o.getTickLineCoord(N),P=C.line,_=C.tick,k=as(as(as(as({textAnchor:x,verticalAnchor:g},p),{},{stroke:"none",fill:d},f),_),{},{index:v,payload:N,visibleTicksCount:m.length,tickFormatter:h});return ge.createElement(Er,XA({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},ch(o.props,N,v)),c&&ge.createElement("line",XA({},y,P,{className:er("recharts-cartesian-axis-tick-line",oi(c,"className"))})),u&&e.renderTickItem(u,k,"".concat(Ht(h)?h(N.value,v):N.value).concat(A||"")))});return ge.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,A=h.ticks,m=lC(h,eqe),x=A;return Ht(c)&&(x=A&&A.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:ge.createElement(Er,{className:er("recharts-cartesian-axis",d),ref:function(p){n.layerReference=p}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ns.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=er(a.className,"recharts-cartesian-axis-tick-value");return ge.isValidElement(n)?o=ge.cloneElement(n,as(as({},a),{},{className:l})):Ht(n)?o=n(as(as({},a),{},{className:l})):o=ge.createElement(dh,XA({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(B.Component);$6(If,"displayName","CartesianAxis");$6(If,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cqe=["x1","y1","x2","y2","key"],dqe=["offset"];function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function f8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(r),!0).forEach(function(n){uqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uqe(t,e,r){return e=hqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hqe(t){var e=Aqe(t,"string");return Ah(e)=="symbol"?e:e+""}function Aqe(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(this,arguments)}function p8(t,e){if(t==null)return{};var r=mqe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fqe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return ge.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $G(t,e){var r;if(ge.isValidElement(t))r=ge.cloneElement(t,e);else if(Ht(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=p8(e,cqe),d=$t(c,!1);d.offset;var u=p8(d,dqe);r=ge.createElement("line",Uu({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function pqe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=ta(ta({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return $G(a,d)});return ge.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function gqe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=ta(ta({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return $G(a,d)});return ge.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function xqe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(A){return Math.round(A+a-a)}).sort(function(A,m){return A-m});a!==u[0]&&u.unshift(0);var h=u.map(function(A,m){var x=!u[m+1],g=x?a+o-A:u[m+1]-A;if(g<=0)return null;var p=m%e.length;return ge.createElement("rect",{key:"react-".concat(m),y:A,x:n,height:g,width:i,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function yqe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(A){return Math.round(A+i-i)}).sort(function(A,m){return A-m});i!==u[0]&&u.unshift(0);var h=u.map(function(A,m){var x=!u[m+1],g=x?i+l-A:u[m+1]-A;if(g<=0)return null;var p=m%n.length;return ge.createElement("rect",{key:"react-".concat(m),x:A,y:o,width:g,height:c,stroke:"none",fill:n[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var bqe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return UW(Q6(ta(ta(ta({},If.defaultProps),n),{},{ticks:Ml(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},vqe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return UW(Q6(ta(ta(ta({},If.defaultProps),n),{},{ticks:Ml(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},yA={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function H6(t){var e,r,n,a,i,o,l=M6(),c=L6(),d=lHe(),u=ta(ta({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yA.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:yA.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:yA.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:yA.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:yA.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:yA.verticalFill,x:st(t.x)?t.x:d.left,y:st(t.y)?t.y:d.top,width:st(t.width)?t.width:d.width,height:st(t.height)?t.height:d.height}),h=u.x,A=u.y,m=u.width,x=u.height,g=u.syncWithTicks,p=u.horizontalValues,f=u.verticalValues,y=aHe(),b=iHe();if(!st(m)||m<=0||!st(x)||x<=0||!st(h)||h!==+h||!st(A)||A!==+A)return null;var N=u.verticalCoordinatesGenerator||bqe,v=u.horizontalCoordinatesGenerator||vqe,C=u.horizontalPoints,P=u.verticalPoints;if((!C||!C.length)&&Ht(v)){var _=p&&p.length,k=v({yAxis:b?ta(ta({},b),{},{ticks:_?p:b.ticks}):void 0,width:l,height:c,offset:d},_?!0:g);yo(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ah(k),"]")),Array.isArray(k)&&(C=k)}if((!P||!P.length)&&Ht(N)){var M=f&&f.length,j=N({xAxis:y?ta(ta({},y),{},{ticks:M?f:y.ticks}):void 0,width:l,height:c,offset:d},M?!0:g);yo(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ah(j),"]")),Array.isArray(j)&&(P=j)}return ge.createElement("g",{className:"recharts-cartesian-grid"},ge.createElement(fqe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ge.createElement(pqe,Uu({},u,{offset:d,horizontalPoints:C,xAxis:y,yAxis:b})),ge.createElement(gqe,Uu({},u,{offset:d,verticalPoints:P,xAxis:y,yAxis:b})),ge.createElement(xqe,Uu({},u,{horizontalPoints:C})),ge.createElement(yqe,Uu({},u,{verticalPoints:P})))}H6.displayName="CartesianGrid";function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function wqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zG(n.key),n)}}function Nqe(t,e,r){return e&&jqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _qe(t,e,r){return e=J1(e),Cqe(t,HG()?Reflect.construct(e,r||[],J1(t).constructor):e.apply(t,r))}function Cqe(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sqe(t)}function Sqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HG=function(){return!!t})()}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(t)}function Bqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d3(t,e)}function d3(t,e){return d3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d3(t,e)}function qG(t,e,r){return e=zG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zG(t){var e=Eqe(t,"string");return of(e)=="symbol"?e:e+""}function Eqe(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function u3(){return u3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u3.apply(this,arguments)}function kqe(t){var e=t.xAxisId,r=M6(),n=L6(),a=PG(e);return a==null?null:B.createElement(If,u3({},a,{className:er("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ml(o,!0)}}))}var qx=function(t){function e(){return wqe(this,e),_qe(this,e,arguments)}return Bqe(e,t),Nqe(e,[{key:"render",value:function(){return B.createElement(kqe,this.props)}}])}(B.Component);qG(qx,"displayName","XAxis");qG(qx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Pqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WG(n.key),n)}}function Tqe(t,e,r){return e&&Fqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oqe(t,e,r){return e=Z1(e),Iqe(t,VG()?Reflect.construct(e,r||[],Z1(t).constructor):e.apply(t,r))}function Iqe(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dqe(t)}function Dqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!t})()}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z1(t)}function Mqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h3(t,e)}function h3(t,e){return h3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h3(t,e)}function KG(t,e,r){return e=WG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WG(t){var e=Lqe(t,"string");return lf(e)=="symbol"?e:e+""}function Lqe(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function A3(){return A3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A3.apply(this,arguments)}var Uqe=function(e){var r=e.yAxisId,n=M6(),a=L6(),i=FG(r);return i==null?null:B.createElement(If,A3({},i,{className:er("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ml(l,!0)}}))},zx=function(t){function e(){return Pqe(this,e),Oqe(this,e,arguments)}return Mqe(e,t),Tqe(e,[{key:"render",value:function(){return B.createElement(Uqe,this.props)}}])}(B.Component);KG(zx,"displayName","YAxis");KG(zx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function g8(t){return Hqe(t)||$qe(t)||Qqe(t)||Rqe()}function Rqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qqe(t,e){if(t){if(typeof t=="string")return m3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(t,e)}}function $qe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hqe(t){if(Array.isArray(t))return m3(t)}function m3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f3=function(e,r,n,a,i){var o=Hi(e,R6),l=Hi(e,Gj),c=[].concat(g8(o),g8(l)),d=Hi(e,Yj),u="".concat(a,"Id"),h=a[0],A=r;if(c.length&&(A=c.reduce(function(g,p){if(p.props[u]===n&&tl(p.props,"extendDomain")&&st(p.props[h])){var f=p.props[h];return[Math.min(g[0],f),Math.max(g[1],f)]}return g},A)),d.length){var m="".concat(h,"1"),x="".concat(h,"2");A=d.reduce(function(g,p){if(p.props[u]===n&&tl(p.props,"extendDomain")&&st(p.props[m])&&st(p.props[x])){var f=p.props[m],y=p.props[x];return[Math.min(g[0],f,y),Math.max(g[1],f,y)]}return g},A)}return i&&i.length&&(A=i.reduce(function(g,p){return st(p)?[Math.min(g[0],p),Math.max(g[1],p)]:g},A)),A},GG={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,A){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,h||c,A),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var A=0,m=h.length,x=new Array(m);A<m;A++)x[A]=h[A].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,A,m,x){var g=r?r+d:d;if(!this._events[g])return!1;var p=this._events[g],f=arguments.length,y,b;if(p.fn){switch(p.once&&this.removeListener(d,p.fn,void 0,!0),f){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,u),!0;case 3:return p.fn.call(p.context,u,h),!0;case 4:return p.fn.call(p.context,u,h,A),!0;case 5:return p.fn.call(p.context,u,h,A,m),!0;case 6:return p.fn.call(p.context,u,h,A,m,x),!0}for(b=1,y=new Array(f-1);b<f;b++)y[b-1]=arguments[b];p.fn.apply(p.context,y)}else{var N=p.length,v;for(b=0;b<N;b++)switch(p[b].once&&this.removeListener(d,p[b].fn,void 0,!0),f){case 1:p[b].fn.call(p[b].context);break;case 2:p[b].fn.call(p[b].context,u);break;case 3:p[b].fn.call(p[b].context,u,h);break;case 4:p[b].fn.call(p[b].context,u,h,A);break;default:if(!y)for(v=1,y=new Array(f-1);v<f;v++)y[v-1]=arguments[v];p[b].fn.apply(p[b].context,y)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,A){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!A||x.once)&&(!h||x.context===h)&&o(this,m);else{for(var g=0,p=[],f=x.length;g<f;g++)(x[g].fn!==u||A&&!x[g].once||h&&x[g].context!==h)&&p.push(x[g]);p.length?this._events[m]=p.length===1?p[0]:p:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(GG);var qqe=GG.exports;const zqe=Tr(qqe);var cC=new zqe,dC="recharts.syncMouseEvents";function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function Vqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XG(n.key),n)}}function Wqe(t,e,r){return e&&Kqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uC(t,e,r){return e=XG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XG(t){var e=Gqe(t,"string");return fx(e)=="symbol"?e:e+""}function Gqe(t,e){if(fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xqe=function(){function t(){Vqe(this,t),uC(this,"activeIndex",0),uC(this,"coordinateList",[]),uC(this,"layout","horizontal")}return Wqe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,A=r.mouseHandlerCallback,m=A===void 0?null:A;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+d,A=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:A})}}}])}();function Yqe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&st(n)&&st(a))return!0}return!1}function Jqe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function YG(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Zr(e,r,n,a),l=Zr(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Zqe(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,A=Zr(l,c,d,h),m=Zr(l,c,u,h);n=A.x,a=A.y,i=m.x,o=m.y}else return YG(e);return[{x:n,y:a},{x:i,y:o}]}function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){eze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eze(t,e,r){return e=tze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tze(t){var e=rze(t,"string");return px(e)=="symbol"?e:e+""}function rze(t,e){if(px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nze(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,A=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||A!=="ScatterChart"&&a!=="axis")return null;var x,g=LB;if(A==="ScatterChart")x=o,g=O7e;else if(A==="BarChart")x=Jqe(h,o,c,u),g=F6;else if(h==="radial"){var p=YG(o),f=p.cx,y=p.cy,b=p.radius,N=p.startAngle,v=p.endAngle;x={cx:f,cy:y,startAngle:N,endAngle:v,innerRadius:b,outerRadius:b},g=XW}else x={points:Zqe(h,o,c)},g=LB;var C=cv(cv(cv(cv({stroke:"#ccc",pointerEvents:"none"},c),x),$t(m,!1)),{},{payload:l,payloadIndex:d,className:er("recharts-tooltip-cursor",m.className)});return B.isValidElement(m)?B.cloneElement(m,C):B.createElement(g,C)}var sze=["item"],aze=["children","className","width","height","style","compact","title","desc"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YA.apply(this,arguments)}function y8(t,e){return lze(t)||oze(t,e)||ZG(t,e)||ize()}function ize(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function lze(t){if(Array.isArray(t))return t}function b8(t,e){if(t==null)return{};var r=cze(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eX(n.key),n)}}function hze(t,e,r){return e&&uze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aze(t,e,r){return e=e2(e),mze(t,JG()?Reflect.construct(e,r||[],e2(t).constructor):e.apply(t,r))}function mze(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fze(t)}function fze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!t})()}function e2(t){return e2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e2(t)}function pze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p3(t,e)}function p3(t,e){return p3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p3(t,e)}function df(t){return yze(t)||xze(t)||ZG(t)||gze()}function gze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(t,e){if(t){if(typeof t=="string")return g3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g3(t,e)}}function xze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yze(t){if(Array.isArray(t))return g3(t)}function g3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(r),!0).forEach(function(n){Lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lt(t,e,r){return e=eX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eX(t){var e=bze(t,"string");return cf(e)=="symbol"?e:e+""}function bze(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vze={xAxis:["bottom","top"],yAxis:["left","right"]},wze={width:"100%",height:"100%"},tX={x:0,y:0};function dv(t){return t}var jze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Nze=function(e,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return qe(qe(qe({},a),Zr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return qe(qe(qe({},a),Zr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return tX},Jj=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(df(l),df(d)):l},[]);return o.length>0?o:e&&e.length&&st(a)&&st(i)?e.slice(a,i+1):[]};function rX(t){return t==="number"?[0,"auto"]:void 0}var x3=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=Jj(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var A;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;A=VS(m,o.dataKey,a)}else A=h&&h[n]||l[n];return A?[].concat(df(c),[qW(d,A)]):c},[])},w8=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=jze(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=nUe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,A=x3(e,r,u,h),m=Nze(n,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:A,activeCoordinate:m}}return null},_ze=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,A=e.stackOffset,m=LW(u,i);return n.reduce(function(x,g){var p,f=g.type.defaultProps!==void 0?qe(qe({},g.type.defaultProps),g.props):g.props,y=f.type,b=f.dataKey,N=f.allowDataOverflow,v=f.allowDuplicatedCategory,C=f.scale,P=f.ticks,_=f.includeHidden,k=f[o];if(x[k])return x;var M=Jj(e.data,{graphicalItems:a.filter(function(Q){var D,X=o in Q.props?Q.props[o]:(D=Q.type.defaultProps)===null||D===void 0?void 0:D[o];return X===k}),dataStartIndex:c,dataEndIndex:d}),j=M.length,S,F,O;Yqe(f.domain,N,y)&&(S=TB(f.domain,null,N),m&&(y==="number"||C!=="auto")&&(O=$g(M,b,"category")));var H=rX(y);if(!S||S.length===0){var U,z=(U=f.domain)!==null&&U!==void 0?U:H;if(b){if(S=$g(M,b,y),y==="category"&&m){var R=KCe(S);v&&R?(F=S,S=$1(0,j)):v||(S=KU(z,S,g).reduce(function(Q,D){return Q.indexOf(D)>=0?Q:[].concat(df(Q),[D])},[]))}else if(y==="category")v?S=S.filter(function(Q){return Q!==""&&!nr(Q)}):S=KU(z,S,g).reduce(function(Q,D){return Q.indexOf(D)>=0||D===""||nr(D)?Q:[].concat(df(Q),[D])},[]);else if(y==="number"){var I=lUe(M,a.filter(function(Q){var D,X,V=o in Q.props?Q.props[o]:(D=Q.type.defaultProps)===null||D===void 0?void 0:D[o],de="hide"in Q.props?Q.props.hide:(X=Q.type.defaultProps)===null||X===void 0?void 0:X.hide;return V===k&&(_||!de)}),b,i,u);I&&(S=I)}m&&(y==="number"||C!=="auto")&&(O=$g(M,b,"category"))}else m?S=$1(0,j):l&&l[k]&&l[k].hasStack&&y==="number"?S=A==="expand"?[0,1]:HW(l[k].stackGroups,c,d):S=MW(M,a.filter(function(Q){var D=o in Q.props?Q.props[o]:Q.type.defaultProps[o],X="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return D===k&&(_||!X)}),y,u,!0);if(y==="number")S=f3(h,S,k,i,P),z&&(S=TB(z,S,N));else if(y==="category"&&z){var K=z,te=S.every(function(Q){return K.indexOf(Q)>=0});te&&(S=K)}}return qe(qe({},x),{},Lt({},k,qe(qe({},f),{},{axisType:i,domain:S,categoricalDomain:O,duplicateDomain:F,originalDomain:(p=f.domain)!==null&&p!==void 0?p:H,isCategorical:m,layout:u})))},{})},Cze=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,A=Jj(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),m=A.length,x=LW(u,i),g=-1;return n.reduce(function(p,f){var y=f.type.defaultProps!==void 0?qe(qe({},f.type.defaultProps),f.props):f.props,b=y[o],N=rX("number");if(!p[b]){g++;var v;return x?v=$1(0,m):l&&l[b]&&l[b].hasStack?(v=HW(l[b].stackGroups,c,d),v=f3(h,v,b,i)):(v=TB(N,MW(A,n.filter(function(C){var P,_,k=o in C.props?C.props[o]:(P=C.type.defaultProps)===null||P===void 0?void 0:P[o],M="hide"in C.props?C.props.hide:(_=C.type.defaultProps)===null||_===void 0?void 0:_.hide;return k===b&&!M}),"number",u),a.defaultProps.allowDataOverflow),v=f3(h,v,b,i)),qe(qe({},p),{},Lt({},b,qe(qe({axisType:i},a.defaultProps),{},{hide:!0,orientation:oi(vze,"".concat(i,".").concat(g%2),null),domain:v,originalDomain:N,isCategorical:x,layout:u})))}return p},{})},Sze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,h="".concat(a,"Id"),A=Hi(u,i),m={};return A&&A.length?m=_ze(e,{axes:A,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=Cze(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},Bze=function(e){var r=Hc(e),n=Ml(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:s6(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:k1(r,n)}},j8=function(e){var r=e.children,n=e.defaultShowTooltip,a=ei(r,ef),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Eze=function(e){return!e||!e.length?!1:e.some(function(r){var n=Rl(r&&r.type);return n&&n.indexOf("Bar")>=0})},N8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kze=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,h=n.children,A=n.margin||{},m=ei(h,ef),x=ei(h,Yu),g=Object.keys(c).reduce(function(v,C){var P=c[C],_=P.orientation;return!P.mirror&&!P.hide?qe(qe({},v),{},Lt({},_,v[_]+P.width)):v},{left:A.left||0,right:A.right||0}),p=Object.keys(o).reduce(function(v,C){var P=o[C],_=P.orientation;return!P.mirror&&!P.hide?qe(qe({},v),{},Lt({},_,oi(v,"".concat(_))+P.height)):v},{top:A.top||0,bottom:A.bottom||0}),f=qe(qe({},p),g),y=f.bottom;m&&(f.bottom+=m.props.height||ef.defaultProps.height),x&&r&&(f=iUe(f,a,n,r));var b=d-f.left-f.right,N=u-f.top-f.bottom;return qe(qe({brushBottom:y},f),{},{width:Math.max(b,0),height:Math.max(N,0)})},Pze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},nX=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,A=function(f,y){var b=y.graphicalItems,N=y.stackGroups,v=y.offset,C=y.updateId,P=y.dataStartIndex,_=y.dataEndIndex,k=f.barSize,M=f.layout,j=f.barGap,S=f.barCategoryGap,F=f.maxBarSize,O=N8(M),H=O.numericAxisName,U=O.cateAxisName,z=Eze(b),R=[];return b.forEach(function(I,K){var te=Jj(f.data,{graphicalItems:[I],dataStartIndex:P,dataEndIndex:_}),Q=I.type.defaultProps!==void 0?qe(qe({},I.type.defaultProps),I.props):I.props,D=Q.dataKey,X=Q.maxBarSize,V=Q["".concat(H,"Id")],de=Q["".concat(U,"Id")],le={},ie=c.reduce(function(De,je){var Me=y["".concat(je.axisType,"Map")],rt=Q["".concat(je.axisType,"Id")];Me&&Me[rt]||je.axisType==="zAxis"||hh();var Pe=Me[rt];return qe(qe({},De),{},Lt(Lt({},je.axisType,Pe),"".concat(je.axisType,"Ticks"),Ml(Pe)))},le),ce=ie[U],be=ie["".concat(U,"Ticks")],J=N&&N[V]&&N[V].hasStack&&gUe(I,N[V].stackGroups),ue=Rl(I.type).indexOf("Bar")>=0,ke=k1(ce,be),Qe=[],we=z&&sUe({barSize:k,stackGroups:N,totalSize:Pze(ie,U)});if(ue){var q,Ne,Be=nr(X)?F:X,Z=(q=(Ne=k1(ce,be,!0))!==null&&Ne!==void 0?Ne:Be)!==null&&q!==void 0?q:0;Qe=aUe({barGap:j,barCategoryGap:S,bandSize:Z!==ke?Z:ke,sizeList:we[de],maxBarSize:Be}),Z!==ke&&(Qe=Qe.map(function(De){return qe(qe({},De),{},{position:qe(qe({},De.position),{},{offset:De.position.offset-Z/2})})}))}var pe=I&&I.type&&I.type.getComposedData;pe&&R.push({props:qe(qe({},pe(qe(qe({},ie),{},{displayedData:te,props:f,dataKey:D,item:I,bandSize:ke,barPosition:Qe,offset:v,stackedData:J,layout:M,dataStartIndex:P,dataEndIndex:_}))),{},Lt(Lt(Lt({key:I.key||"item-".concat(K)},H,ie[H]),U,ie[U]),"animationId",C)),childIndex:a4e(I,f.children),item:I})}),R},m=function(f,y){var b=f.props,N=f.dataStartIndex,v=f.dataEndIndex,C=f.updateId;if(!QM({props:b}))return null;var P=b.children,_=b.layout,k=b.stackOffset,M=b.data,j=b.reverseStackOrder,S=N8(_),F=S.numericAxisName,O=S.cateAxisName,H=Hi(P,n),U=fUe(M,H,"".concat(F,"Id"),"".concat(O,"Id"),k,j),z=c.reduce(function(Q,D){var X="".concat(D.axisType,"Map");return qe(qe({},Q),{},Lt({},X,Sze(b,qe(qe({},D),{},{graphicalItems:H,stackGroups:D.axisType===F&&U,dataStartIndex:N,dataEndIndex:v}))))},{}),R=kze(qe(qe({},z),{},{props:b,graphicalItems:H}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(Q){z[Q]=u(b,z[Q],R,Q.replace("Map",""),r)});var I=z["".concat(O,"Map")],K=Bze(I),te=A(b,qe(qe({},z),{},{dataStartIndex:N,dataEndIndex:v,updateId:C,graphicalItems:H,stackGroups:U,offset:R}));return qe(qe({formattedGraphicalItems:te,graphicalItems:H,offset:R,stackGroups:U},K),z)},x=function(p){function f(y){var b,N,v;return dze(this,f),v=Aze(this,f,[y]),Lt(v,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Lt(v,"accessibilityManager",new Xqe),Lt(v,"handleLegendBBoxUpdate",function(C){if(C){var P=v.state,_=P.dataStartIndex,k=P.dataEndIndex,M=P.updateId;v.setState(qe({legendBBox:C},m({props:v.props,dataStartIndex:_,dataEndIndex:k,updateId:M},qe(qe({},v.state),{},{legendBBox:C}))))}}),Lt(v,"handleReceiveSyncEvent",function(C,P,_){if(v.props.syncId===C){if(_===v.eventEmitterSymbol&&typeof v.props.syncMethod!="function")return;v.applySyncEvent(P)}}),Lt(v,"handleBrushChange",function(C){var P=C.startIndex,_=C.endIndex;if(P!==v.state.dataStartIndex||_!==v.state.dataEndIndex){var k=v.state.updateId;v.setState(function(){return qe({dataStartIndex:P,dataEndIndex:_},m({props:v.props,dataStartIndex:P,dataEndIndex:_,updateId:k},v.state))}),v.triggerSyncEvent({dataStartIndex:P,dataEndIndex:_})}}),Lt(v,"handleMouseEnter",function(C){var P=v.getMouseInfo(C);if(P){var _=qe(qe({},P),{},{isTooltipActive:!0});v.setState(_),v.triggerSyncEvent(_);var k=v.props.onMouseEnter;Ht(k)&&k(_,C)}}),Lt(v,"triggeredAfterMouseMove",function(C){var P=v.getMouseInfo(C),_=P?qe(qe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};v.setState(_),v.triggerSyncEvent(_);var k=v.props.onMouseMove;Ht(k)&&k(_,C)}),Lt(v,"handleItemMouseEnter",function(C){v.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Lt(v,"handleItemMouseLeave",function(){v.setState(function(){return{isTooltipActive:!1}})}),Lt(v,"handleMouseMove",function(C){C.persist(),v.throttleTriggeredAfterMouseMove(C)}),Lt(v,"handleMouseLeave",function(C){v.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};v.setState(P),v.triggerSyncEvent(P);var _=v.props.onMouseLeave;Ht(_)&&_(P,C)}),Lt(v,"handleOuterEvent",function(C){var P=s4e(C),_=oi(v.props,"".concat(P));if(P&&Ht(_)){var k,M;/.*touch.*/i.test(P)?M=v.getMouseInfo(C.changedTouches[0]):M=v.getMouseInfo(C),_((k=M)!==null&&k!==void 0?k:{},C)}}),Lt(v,"handleClick",function(C){var P=v.getMouseInfo(C);if(P){var _=qe(qe({},P),{},{isTooltipActive:!0});v.setState(_),v.triggerSyncEvent(_);var k=v.props.onClick;Ht(k)&&k(_,C)}}),Lt(v,"handleMouseDown",function(C){var P=v.props.onMouseDown;if(Ht(P)){var _=v.getMouseInfo(C);P(_,C)}}),Lt(v,"handleMouseUp",function(C){var P=v.props.onMouseUp;if(Ht(P)){var _=v.getMouseInfo(C);P(_,C)}}),Lt(v,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&v.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Lt(v,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&v.handleMouseDown(C.changedTouches[0])}),Lt(v,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&v.handleMouseUp(C.changedTouches[0])}),Lt(v,"handleDoubleClick",function(C){var P=v.props.onDoubleClick;if(Ht(P)){var _=v.getMouseInfo(C);P(_,C)}}),Lt(v,"handleContextMenu",function(C){var P=v.props.onContextMenu;if(Ht(P)){var _=v.getMouseInfo(C);P(_,C)}}),Lt(v,"triggerSyncEvent",function(C){v.props.syncId!==void 0&&cC.emit(dC,v.props.syncId,C,v.eventEmitterSymbol)}),Lt(v,"applySyncEvent",function(C){var P=v.props,_=P.layout,k=P.syncMethod,M=v.state.updateId,j=C.dataStartIndex,S=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)v.setState(qe({dataStartIndex:j,dataEndIndex:S},m({props:v.props,dataStartIndex:j,dataEndIndex:S,updateId:M},v.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,O=C.chartY,H=C.activeTooltipIndex,U=v.state,z=U.offset,R=U.tooltipTicks;if(!z)return;if(typeof k=="function")H=k(R,C);else if(k==="value"){H=-1;for(var I=0;I<R.length;I++)if(R[I].value===C.activeLabel){H=I;break}}var K=qe(qe({},z),{},{x:z.left,y:z.top}),te=Math.min(F,K.x+K.width),Q=Math.min(O,K.y+K.height),D=R[H]&&R[H].value,X=x3(v.state,v.props.data,H),V=R[H]?{x:_==="horizontal"?R[H].coordinate:te,y:_==="horizontal"?Q:R[H].coordinate}:tX;v.setState(qe(qe({},C),{},{activeLabel:D,activeCoordinate:V,activePayload:X,activeTooltipIndex:H}))}else v.setState(C)}),Lt(v,"renderCursor",function(C){var P,_=v.state,k=_.isTooltipActive,M=_.activeCoordinate,j=_.activePayload,S=_.offset,F=_.activeTooltipIndex,O=_.tooltipAxisBandSize,H=v.getTooltipEventType(),U=(P=C.props.active)!==null&&P!==void 0?P:k,z=v.props.layout,R=C.key||"_recharts-cursor";return ge.createElement(nze,{key:R,activeCoordinate:M,activePayload:j,activeTooltipIndex:F,chartName:r,element:C,isActive:U,layout:z,offset:S,tooltipAxisBandSize:O,tooltipEventType:H})}),Lt(v,"renderPolarAxis",function(C,P,_){var k=oi(C,"type.axisType"),M=oi(v.state,"".concat(k,"Map")),j=C.type.defaultProps,S=j!==void 0?qe(qe({},j),C.props):C.props,F=M&&M[S["".concat(k,"Id")]];return B.cloneElement(C,qe(qe({},F),{},{className:er(k,F.className),key:C.key||"".concat(P,"-").concat(_),ticks:Ml(F,!0)}))}),Lt(v,"renderPolarGrid",function(C){var P=C.props,_=P.radialLines,k=P.polarAngles,M=P.polarRadius,j=v.state,S=j.radiusAxisMap,F=j.angleAxisMap,O=Hc(S),H=Hc(F),U=H.cx,z=H.cy,R=H.innerRadius,I=H.outerRadius;return B.cloneElement(C,{polarAngles:Array.isArray(k)?k:Ml(H,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(M)?M:Ml(O,!0).map(function(K){return K.coordinate}),cx:U,cy:z,innerRadius:R,outerRadius:I,key:C.key||"polar-grid",radialLines:_})}),Lt(v,"renderLegend",function(){var C=v.state.formattedGraphicalItems,P=v.props,_=P.children,k=P.width,M=P.height,j=v.props.margin||{},S=k-(j.left||0)-(j.right||0),F=IW({children:_,formattedGraphicalItems:C,legendWidth:S,legendContent:d});if(!F)return null;var O=F.item,H=b8(F,sze);return B.cloneElement(O,qe(qe({},H),{},{chartWidth:k,chartHeight:M,margin:j,onBBoxUpdate:v.handleLegendBBoxUpdate}))}),Lt(v,"renderTooltip",function(){var C,P=v.props,_=P.children,k=P.accessibilityLayer,M=ei(_,Si);if(!M)return null;var j=v.state,S=j.isTooltipActive,F=j.activeCoordinate,O=j.activePayload,H=j.activeLabel,U=j.offset,z=(C=M.props.active)!==null&&C!==void 0?C:S;return B.cloneElement(M,{viewBox:qe(qe({},U),{},{x:U.left,y:U.top}),active:z,label:H,payload:z?O:[],coordinate:F,accessibilityLayer:k})}),Lt(v,"renderBrush",function(C){var P=v.props,_=P.margin,k=P.data,M=v.state,j=M.offset,S=M.dataStartIndex,F=M.dataEndIndex,O=M.updateId;return B.cloneElement(C,{key:C.key||"_recharts-brush",onChange:av(v.handleBrushChange,C.props.onChange),data:k,x:st(C.props.x)?C.props.x:j.left,y:st(C.props.y)?C.props.y:j.top+j.height+j.brushBottom-(_.bottom||0),width:st(C.props.width)?C.props.width:j.width,startIndex:S,endIndex:F,updateId:"brush-".concat(O)})}),Lt(v,"renderReferenceElement",function(C,P,_){if(!C)return null;var k=v,M=k.clipPathId,j=v.state,S=j.xAxisMap,F=j.yAxisMap,O=j.offset,H=C.type.defaultProps||{},U=C.props,z=U.xAxisId,R=z===void 0?H.xAxisId:z,I=U.yAxisId,K=I===void 0?H.yAxisId:I;return B.cloneElement(C,{key:C.key||"".concat(P,"-").concat(_),xAxis:S[R],yAxis:F[K],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:M})}),Lt(v,"renderActivePoints",function(C){var P=C.item,_=C.activePoint,k=C.basePoint,M=C.childIndex,j=C.isRange,S=[],F=P.props.key,O=P.item.type.defaultProps!==void 0?qe(qe({},P.item.type.defaultProps),P.item.props):P.item.props,H=O.activeDot,U=O.dataKey,z=qe(qe({index:M,dataKey:U,cx:_.x,cy:_.y,r:4,fill:P6(P.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},$t(H,!1)),n1(H));return S.push(f.renderActiveDot(H,z,"".concat(F,"-activePoint-").concat(M))),k?S.push(f.renderActiveDot(H,qe(qe({},z),{},{cx:k.x,cy:k.y}),"".concat(F,"-basePoint-").concat(M))):j&&S.push(null),S}),Lt(v,"renderGraphicChild",function(C,P,_){var k=v.filterFormatItem(C,P,_);if(!k)return null;var M=v.getTooltipEventType(),j=v.state,S=j.isTooltipActive,F=j.tooltipAxis,O=j.activeTooltipIndex,H=j.activeLabel,U=v.props.children,z=ei(U,Si),R=k.props,I=R.points,K=R.isRange,te=R.baseLine,Q=k.item.type.defaultProps!==void 0?qe(qe({},k.item.type.defaultProps),k.item.props):k.item.props,D=Q.activeDot,X=Q.hide,V=Q.activeBar,de=Q.activeShape,le=!!(!X&&S&&z&&(D||V||de)),ie={};M!=="axis"&&z&&z.props.trigger==="click"?ie={onClick:av(v.handleItemMouseEnter,C.props.onClick)}:M!=="axis"&&(ie={onMouseLeave:av(v.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:av(v.handleItemMouseEnter,C.props.onMouseEnter)});var ce=B.cloneElement(C,qe(qe({},k.props),ie));function be(je){return typeof F.dataKey=="function"?F.dataKey(je.payload):null}if(le)if(O>=0){var J,ue;if(F.dataKey&&!F.allowDuplicatedCategory){var ke=typeof F.dataKey=="function"?be:"payload.".concat(F.dataKey.toString());J=VS(I,ke,H),ue=K&&te&&VS(te,ke,H)}else J=I==null?void 0:I[O],ue=K&&te&&te[O];if(de||V){var Qe=C.props.activeIndex!==void 0?C.props.activeIndex:O;return[B.cloneElement(C,qe(qe(qe({},k.props),ie),{},{activeIndex:Qe})),null,null]}if(!nr(J))return[ce].concat(df(v.renderActivePoints({item:k,activePoint:J,basePoint:ue,childIndex:O,isRange:K})))}else{var we,q=(we=v.getItemByXY(v.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:ce},Ne=q.graphicalItem,Be=Ne.item,Z=Be===void 0?C:Be,pe=Ne.childIndex,De=qe(qe(qe({},k.props),ie),{},{activeIndex:pe});return[B.cloneElement(Z,De),null,null]}return K?[ce,null,null]:[ce,null]}),Lt(v,"renderCustomized",function(C,P,_){return B.cloneElement(C,qe(qe({key:"recharts-customized-".concat(_)},v.props),v.state))}),Lt(v,"renderMap",{CartesianGrid:{handler:dv,once:!0},ReferenceArea:{handler:v.renderReferenceElement},ReferenceLine:{handler:dv},ReferenceDot:{handler:v.renderReferenceElement},XAxis:{handler:dv},YAxis:{handler:dv},Brush:{handler:v.renderBrush,once:!0},Bar:{handler:v.renderGraphicChild},Line:{handler:v.renderGraphicChild},Area:{handler:v.renderGraphicChild},Radar:{handler:v.renderGraphicChild},RadialBar:{handler:v.renderGraphicChild},Scatter:{handler:v.renderGraphicChild},Pie:{handler:v.renderGraphicChild},Funnel:{handler:v.renderGraphicChild},Tooltip:{handler:v.renderCursor,once:!0},PolarGrid:{handler:v.renderPolarGrid,once:!0},PolarAngleAxis:{handler:v.renderPolarAxis},PolarRadiusAxis:{handler:v.renderPolarAxis},Customized:{handler:v.renderCustomized}}),v.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Mx("recharts"),"-clip"),v.throttleTriggeredAfterMouseMove=OK(v.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),v.state={},v}return pze(f,p),hze(f,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,v=b.data,C=b.height,P=b.layout,_=ei(N,Si);if(_){var k=_.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,j=x3(this.state,v,k,M),S=this.state.tooltipTicks[k].coordinate,F=(this.state.offset.top+C)/2,O=P==="horizontal",H=O?{x:S,y:F}:{y:S,x:F},U=this.state.formattedGraphicalItems.find(function(R){var I=R.item;return I.type.name==="Scatter"});U&&(H=qe(qe({},H),U.props.points[k].tooltipPosition),j=U.props.points[k].tooltipPayload);var z={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:M,activePayload:j,activeCoordinate:H};this.setState(z),this.renderCursor(_),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var v,C;this.accessibilityManager.setDetails({offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){WS([ei(b.children,Si)],[ei(this.props.children,Si)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ei(this.props.children,Si);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,v=N.getBoundingClientRect(),C=POe(v),P={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},_=v.width/N.offsetWidth||1,k=this.inRange(P.chartX,P.chartY,_);if(!k)return null;var M=this.state,j=M.xAxisMap,S=M.yAxisMap,F=this.getTooltipEventType(),O=w8(this.state,this.props.data,this.props.layout,k);if(F!=="axis"&&j&&S){var H=Hc(j).scale,U=Hc(S).scale,z=H&&H.invert?H.invert(P.chartX):null,R=U&&U.invert?U.invert(P.chartY):null;return qe(qe({},P),{},{xValue:z,yValue:R},O)}return O?qe(qe({},P),O):null}},{key:"inRange",value:function(b,N){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,P=b/v,_=N/v;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,M=P>=k.left&&P<=k.left+k.width&&_>=k.top&&_<=k.top+k.height;return M?{x:P,y:_}:null}var j=this.state,S=j.angleAxisMap,F=j.radiusAxisMap;if(S&&F){var O=Hc(S);return XU({x:P,y:_},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),v=ei(b,Si),C={};v&&N==="axis"&&(v.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=n1(this.props,this.handleOuterEvent);return qe(qe({},P),C)}},{key:"addListener",value:function(){cC.on(dC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cC.removeListener(dC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,v){for(var C=this.state.formattedGraphicalItems,P=0,_=C.length;P<_;P++){var k=C[P];if(k.item===b||k.props.key===b.key||N===Rl(k.item.type)&&v===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,v=N.left,C=N.top,P=N.height,_=N.width;return ge.createElement("defs",null,ge.createElement("clipPath",{id:b},ge.createElement("rect",{x:v,y:C,height:P,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,v){var C=y8(v,2),P=C[0],_=C[1];return qe(qe({},N),{},Lt({},P,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,v){var C=y8(v,2),P=C[0],_=C[1];return qe(qe({},N),{},Lt({},P,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,v=N.formattedGraphicalItems,C=N.activeItem;if(v&&v.length)for(var P=0,_=v.length;P<_;P++){var k=v[P],M=k.props,j=k.item,S=j.type.defaultProps!==void 0?qe(qe({},j.type.defaultProps),j.props):j.props,F=Rl(j.type);if(F==="Bar"){var O=(M.data||[]).find(function(R){return m7e(b,R)});if(O)return{graphicalItem:k,payload:O}}else if(F==="RadialBar"){var H=(M.data||[]).find(function(R){return XU(b,R)});if(H)return{graphicalItem:k,payload:H}}else if(zj(k,C)||Vj(k,C)||dx(k,C)){var U=r$e({graphicalItem:k,activeTooltipItem:C,itemData:S.data}),z=S.activeIndex===void 0?U:S.activeIndex;return{graphicalItem:qe(qe({},k),{},{childIndex:z}),payload:dx(k,C)?S.data[U]:k.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!QM(this))return null;var N=this.props,v=N.children,C=N.className,P=N.width,_=N.height,k=N.style,M=N.compact,j=N.title,S=N.desc,F=b8(N,aze),O=$t(F,!1);if(M)return ge.createElement(s8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement(XS,YA({},O,{width:P,height:_,title:j,desc:S}),this.renderClipPath(),HM(v,this.renderMap)));if(this.props.accessibilityLayer){var H,U;O.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,O.role=(U=this.props.role)!==null&&U!==void 0?U:"application",O.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},O.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return ge.createElement(s8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement("div",YA({className:er("recharts-wrapper",C),style:qe({position:"relative",cursor:"default",width:P,height:_},k)},z,{ref:function(I){b.container=I}}),ge.createElement(XS,YA({},O,{width:P,height:_,title:j,desc:S,style:wze}),this.renderClipPath(),HM(v,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);Lt(x,"displayName",r),Lt(x,"defaultProps",qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Lt(x,"getDerivedStateFromProps",function(p,f){var y=p.dataKey,b=p.data,N=p.children,v=p.width,C=p.height,P=p.layout,_=p.stackOffset,k=p.margin,M=f.dataStartIndex,j=f.dataEndIndex;if(f.updateId===void 0){var S=j8(p);return qe(qe(qe({},S),{},{updateId:0},m(qe(qe({props:p},S),{},{updateId:0}),f)),{},{prevDataKey:y,prevData:b,prevWidth:v,prevHeight:C,prevLayout:P,prevStackOffset:_,prevMargin:k,prevChildren:N})}if(y!==f.prevDataKey||b!==f.prevData||v!==f.prevWidth||C!==f.prevHeight||P!==f.prevLayout||_!==f.prevStackOffset||!vm(k,f.prevMargin)){var F=j8(p),O={chartX:f.chartX,chartY:f.chartY,isTooltipActive:f.isTooltipActive},H=qe(qe({},w8(f,b,P)),{},{updateId:f.updateId+1}),U=qe(qe(qe({},F),O),H);return qe(qe(qe({},U),m(qe({props:p},U),f)),{},{prevDataKey:y,prevData:b,prevWidth:v,prevHeight:C,prevLayout:P,prevStackOffset:_,prevMargin:k,prevChildren:N})}if(!WS(N,f.prevChildren)){var z,R,I,K,te=ei(N,ef),Q=te&&(z=(R=te.props)===null||R===void 0?void 0:R.startIndex)!==null&&z!==void 0?z:M,D=te&&(I=(K=te.props)===null||K===void 0?void 0:K.endIndex)!==null&&I!==void 0?I:j,X=Q!==M||D!==j,V=!nr(b),de=V&&!X?f.updateId:f.updateId+1;return qe(qe({updateId:de},m(qe(qe({props:p},f),{},{updateId:de,dataStartIndex:Q,dataEndIndex:D}),f)),{},{prevChildren:N,dataStartIndex:Q,dataEndIndex:D})}return null}),Lt(x,"renderActiveDot",function(p,f,y){var b;return B.isValidElement(p)?b=B.cloneElement(p,f):Ht(p)?b=p(f):b=ge.createElement(T6,f),ge.createElement(Er,{className:"recharts-active-dot",key:y},b)});var g=B.forwardRef(function(f,y){return ge.createElement(x,YA({},f,{ref:y}))});return g.displayName=x.displayName,g},sX=nX({chartName:"BarChart",GraphicalChild:rc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qx},{axisType:"yAxis",AxisComp:zx}],formatAxisMap:O9e}),Fze=nX({chartName:"PieChart",GraphicalChild:dc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qj},{axisType:"radiusAxis",AxisComp:$j}],formatAxisMap:SUe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const _8=({data:t,title:e,subtitle:r,onSegmentClick:n})=>{const[a,i]=B.useState(null),o=(u,h)=>{i(h)},l=()=>{i(null)},c=(u,h)=>{n&&n(h)},d=({active:u,payload:h})=>u&&h&&h.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:h[0].name}),s.jsxs("p",{className:"text-sm",style:{color:h[0].payload.color},children:[h[0].value,"%"]})]}):null;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex flex-col items-center mb-4",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600 text-center",children:r})]}),s.jsx("div",{className:"h-48 flex items-center justify-center",children:s.jsx(i6,{width:"100%",height:"100%",children:s.jsxs(Fze,{children:[s.jsx(dc,{data:t,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:2,dataKey:"value",animationDuration:300,animationBegin:0,onMouseEnter:o,onMouseLeave:l,onClick:c,children:t.map((u,h)=>s.jsx(Ux,{fill:u.color,stroke:u.color,style:{filter:a===h?"drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.2))":"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",opacity:a===null||a===h?1:.7,cursor:"pointer",transition:"all 0.3s ease"}},`cell-${h}`))}),s.jsx(Si,{content:s.jsx(d,{})})]})})}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:t.map((u,h)=>s.jsxs(se.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 p-1 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>c(u,h),onMouseEnter:()=>o(u,h),onMouseLeave:l,children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:u.name})}),s.jsxs("p",{className:"text-xs font-bold text-gray-900",children:[u.value,"%"]})]},u.name))})]})},Tze=({data:t,title:e,subtitle:r,prefix:n="",suffix:a="",onBarClick:i})=>{const o=({active:c,payload:d,label:u})=>c&&d&&d.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:u}),s.jsxs("p",{className:"text-sm",style:{color:d[0].payload.color},children:[n,d[0].value,a]})]}):null,l=(c,d)=>{i&&i(d)};return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600",children:r})]})}),s.jsx("div",{className:"h-64",children:s.jsx(i6,{width:"100%",height:"100%",children:s.jsxs(sX,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[s.jsx(H6,{strokeDasharray:"3 3",opacity:.1}),s.jsx(qx,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),s.jsx(zx,{tick:{fontSize:10},width:30}),s.jsx(Si,{content:s.jsx(o,{})}),s.jsx(rc,{dataKey:"value",animationDuration:300,animationBegin:0,label:{position:"top",fill:"#6b7280",fontSize:10,formatter:c=>`${n}${c}${a}`},onClick:l,children:t.map((c,d)=>s.jsx(Ux,{fill:c.color,style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",cursor:"pointer"}},`cell-${d}`))})]})})})]})},Oze=({data:t,title:e,subtitle:r,metricType:n,onMetricChange:a,onBarClick:i})=>{const o=({active:d,payload:u,label:h})=>d&&u&&u.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:h}),u.map((A,m)=>s.jsxs("p",{className:"text-sm",style:{color:A.color},children:[A.name,": ",A.value,"%"]},m))]}):null,l=(d,u)=>{i&&i(u)},c=[{value:"productivity",label:"Produtividade"},{value:"efficiency",label:"Eficincia"},{value:"quality",label:"Qualidade"},{value:"satisfaction",label:"Satisfao"}];return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex flex-col items-center mb-4",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600 text-center",children:r}),s.jsx("select",{value:n,onChange:d=>a(d.target.value),className:"mt-2 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:c.map(d=>s.jsx("option",{value:d.value,children:d.label},d.value))})]}),s.jsx("div",{className:"h-64",children:s.jsx(i6,{width:"100%",height:"100%",children:s.jsxs(sX,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[s.jsx(H6,{strokeDasharray:"3 3",opacity:.1}),s.jsx(qx,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),s.jsx(zx,{domain:[0,100],tick:{fontSize:10},width:30}),s.jsx(Si,{content:s.jsx(o,{})}),s.jsx(Yu,{wrapperStyle:{fontSize:"10px"}}),s.jsx(rc,{name:"Atual",dataKey:"current",fill:"#3b82f6",animationDuration:300,animationBegin:0,radius:[4,4,0,0],onClick:l}),s.jsx(rc,{name:"Anterior",dataKey:"previous",fill:"#93c5fd",animationDuration:300,animationBegin:150,radius:[4,4,0,0],onClick:l})]})})})]})},Ize=({id:t,name:e,color:r,metrics:n,performance:a,isSelected:i,onClick:o})=>s.jsx(se.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${i?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:o,children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:r},children:s.jsx("span",{className:"text-xs font-bold text-white",children:e.charAt(0)})})}),s.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:e}),s.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[a.change>0?s.jsx(im,{className:"h-3 w-3 text-green-500"}):a.change<0?s.jsx(w2,{className:"h-3 w-3 text-red-500"}):null,s.jsxs("span",{className:`text-sm font-medium ${a.change>0?"text-green-600":a.change<0?"text-red-600":"text-gray-600"}`,children:[a.change>0?"+":"",a.change,"%"]})]}),s.jsx("div",{className:"w-full mb-2",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full",style:{width:`${a.current}%`,backgroundColor:r}})})}),s.jsxs("div",{className:"flex justify-between w-full text-xs text-gray-500",children:[s.jsxs("span",{children:["Prod: ",n.productivity,"%"]}),s.jsxs("span",{children:["Qual: ",n.quality,"%"]})]})]})}),Dze=({alerts:t,departments:e,onResolve:r,onEscalate:n,onIgnore:a})=>{const[i,o]=B.useState("severity"),[l,c]=B.useState("all"),[d,u]=B.useState([]),[h,A]=B.useState(null),[m,x]=B.useState(""),[g,p]=B.useState(null),[f,y]=B.useState(""),[b,N]=B.useState("medium"),v=[{id:"1",name:"Joo Silva",department:"operations",role:"Supervisor"},{id:"2",name:"Maria Santos",department:"operations",role:"Tcnico"},{id:"3",name:"Carlos Oliveira",department:"technical",role:"Tcnico Snior"},{id:"4",name:"Ana Pereira",department:"technical",role:"Tcnico"},{id:"5",name:"Pedro Costa",department:"commercial",role:"Gerente"},{id:"6",name:"Lcia Ferreira",department:"financial",role:"Analista"},{id:"7",name:"Roberto Almeida",department:"administrative",role:"Coordenador"}],C=O=>{switch(O){case"low":return"#f59e0b";case"medium":return"#f97316";case"high":return"#ef4444";default:return"#6b7280"}},P=O=>{switch(O){case"low":return s.jsx(Dt,{className:"h-4 w-4"});case"medium":return s.jsx(kr,{className:"h-4 w-4"});case"high":return s.jsx(At,{className:"h-4 w-4"});default:return null}},_=O=>new Date(O).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),k=O=>{u(H=>H.includes(O)?H.filter(U=>U!==O):[...H,O])},M=O=>{A(O)},j=()=>{!h||!g||!f||(console.log("Creating task for employee:",g),console.log("Due date:",f),console.log("Priority:",b),n(h),A(null),p(null),y(""),N("medium"))},S=v.filter(O=>O.name.toLowerCase().includes(m.toLowerCase())||O.department.toLowerCase().includes(m.toLowerCase())||O.role.toLowerCase().includes(m.toLowerCase())),F=[...t].filter(O=>l==="all"||O.departmentId===l).sort((O,H)=>{if(i==="date")return new Date(H.timestamp).getTime()-new Date(O.timestamp).getTime();{const U={high:0,medium:1,low:2};return U[O.severity]-U[H.severity]}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),s.jsxs("select",{value:i,onChange:O=>o(O.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"severity",children:"Severidade"}),s.jsx("option",{value:"date",children:"Data"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Departamento:"}),s.jsxs("select",{value:l,onChange:O=>c(O.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Todos"}),e.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),s.jsx("div",{className:"space-y-3",children:F.length>0?F.map(O=>{const H=e.find(z=>z.id===O.departmentId),U=d.includes(O.id);return s.jsxs(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>k(O.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${C(O.severity)}20`},children:P(O.severity)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-base",children:O.title}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:_(O.timestamp)}),s.jsx(se.div,{animate:{rotate:U?180:0},transition:{duration:.3},children:s.jsx(ai,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${C(O.severity)}20`,color:C(O.severity)},children:O.severity==="low"?"Baixa":O.severity==="medium"?"Mdia":"Alta"}),H&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:H.color}}),s.jsx("span",{className:"text-xs text-gray-500",children:H.name})]}),O.status==="new"&&s.jsx("div",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Novo"})]})]})]})}),s.jsx(lt,{children:U&&s.jsx(se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-4 bg-gray-50",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-4",children:O.description}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[s.jsxs("button",{onClick:()=>r(O.id),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{children:"Resolver"})]}),s.jsxs("button",{onClick:()=>M(O.id),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(j2,{className:"h-4 w-4"}),s.jsx("span",{children:"Escalar"})]}),s.jsxs("button",{onClick:()=>a(O.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(Ut,{className:"h-4 w-4"}),s.jsx("span",{children:"Ignorar"})]})]})]})})})]},O.id)}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Mr,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No h alertas para exibir com os filtros atuais"})]})}),s.jsx(lt,{children:h&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>A(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Escalar Alerta"}),s.jsx("button",{onClick:()=>A(null),children:s.jsx(At,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsvel"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",value:m,onChange:O=>x(O.target.value),placeholder:"Buscar por nome ou setor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:S.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:S.map(O=>{var H;return s.jsx("div",{onClick:()=>p(O.id),className:`p-3 cursor-pointer transition-colors ${g===O.id?"bg-blue-50":"hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[O.avatar?s.jsx("img",{src:O.avatar,alt:O.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx(Nr,{className:"h-4 w-4 text-gray-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:O.name}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx("span",{children:O.role}),s.jsx("span",{children:""}),s.jsx("span",{children:((H=e.find(U=>U.id===O.department))==null?void 0:H.name)||O.department})]})]})]})},O.id)})}):s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhum funcionrio encontrado"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),s.jsxs("div",{className:"relative",children:[s.jsx(lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:f,onChange:O=>y(O.target.value),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>N("low"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${b==="low"?"bg-green-50 border-green-300 text-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(kv,{className:"h-4 w-4"}),s.jsx("span",{children:"Baixa"})]}),s.jsxs("button",{type:"button",onClick:()=>N("medium"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${b==="medium"?"bg-yellow-50 border-yellow-300 text-yellow-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(kv,{className:"h-4 w-4"}),s.jsx("span",{children:"Mdia"})]}),s.jsxs("button",{type:"button",onClick:()=>N("high"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${b==="high"?"bg-red-50 border-red-300 text-red-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(kv,{className:"h-4 w-4"}),s.jsx("span",{children:"Alta"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Dt,{className:"h-4 w-4 text-blue-500"}),s.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Tarefa ser criada na agenda"})]}),s.jsx("p",{className:"text-xs text-blue-600",children:"Uma tarefa ser automaticamente criada na agenda do responsvel selecionado com o prazo e prioridade definidos."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>A(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:j,disabled:!g||!f,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",children:"Escalar Alerta"})]})]})]})})]})},Mze=()=>{var le,ie,ce,be;const t=B.useRef(null),[e,r]=B.useState("all"),[n,a]=B.useState("month"),[i,o]=B.useState("productivity"),[l,c]=B.useState(!1),[d,u]=B.useState(new Date),[h,A]=B.useState(!1),[m,x]=B.useState(!1),[g,p]=B.useState(!1),[f,y]=B.useState("pdf"),[b,N]=B.useState(""),[v,C]=B.useState("weekly"),[P,_]=B.useState([{id:"1",name:"Relatrio Semanal de Desempenho",frequency:"weekly",format:"pdf",recipients:["admin@example.com"],nextDate:"2024-01-25"}]),[k,M]=B.useState(!1),[j,S]=B.useState(0),F=[{id:"operations",name:"Operacional",color:"#3b82f6",metrics:{productivity:87,efficiency:82,quality:90,satisfaction:85},performance:{current:87,previous:82,change:5}},{id:"commercial",name:"Comercial",color:"#10b981",metrics:{productivity:92,efficiency:88,quality:85,satisfaction:91},performance:{current:92,previous:89,change:3}},{id:"financial",name:"Financeiro",color:"#8b5cf6",metrics:{productivity:95,efficiency:93,quality:97,satisfaction:89},performance:{current:95,previous:92,change:3}},{id:"administrative",name:"Administrativo",color:"#f59e0b",metrics:{productivity:89,efficiency:91,quality:93,satisfaction:88},performance:{current:89,previous:90,change:-1}},{id:"technical",name:"Tcnico",color:"#ef4444",metrics:{productivity:83,efficiency:85,quality:88,satisfaction:82},performance:{current:83,previous:80,change:3}}],O=[{id:"alert1",departmentId:"operations",title:"Queda na produtividade",description:"A produtividade do departamento operacional caiu 5% nas ltimas 24 horas.",timestamp:"2024-01-15T10:30:00",severity:"medium",status:"new"},{id:"alert2",departmentId:"technical",title:"Atraso em atendimentos",description:"O tempo mdio de atendimento est acima da meta estabelecida.",timestamp:"2024-01-15T09:15:00",severity:"high",status:"new"},{id:"alert3",departmentId:"commercial",title:"Meta de vendas atingida",description:"O departamento comercial atingiu 100% da meta mensal antes do prazo.",timestamp:"2024-01-14T16:45:00",severity:"low",status:"viewed"}],H=()=>[{name:"Instalaes",value:35,color:"#3b82f6"},{name:"Manutenes",value:40,color:"#10b981"},{name:"Reparos",value:25,color:"#f59e0b"}],U=()=>[{name:"1 Visita",value:65,color:"#10b981"},{name:"2 Visita",value:25,color:"#f59e0b"},{name:"3+ Visitas",value:10,color:"#ef4444"}],z=()=>[{name:"Carlos",value:92,color:"#3b82f6"},{name:"Ana",value:88,color:"#8b5cf6"},{name:"Pedro",value:85,color:"#10b981"},{name:"Maria",value:91,color:"#f59e0b"},{name:"Joo",value:78,color:"#ef4444"}],R=()=>F.map(J=>({name:J.name,current:J.metrics[i],previous:J.metrics[i]-(Math.random()*10-5),color:J.color})),I=()=>{c(!0),setTimeout(()=>{u(new Date),c(!1)},1e3)},K=J=>{console.log("Resolvendo alerta:",J)},te=J=>{console.log("Escalando alerta:",J)},Q=J=>{console.log("Ignorando alerta:",J)},D=async()=>{if(t.current){x(!0),M(!0),S(10);try{const J=setInterval(()=>{S(Ne=>Ne>=90?(clearInterval(J),90):Ne+10)},300),ue=await gk(t.current,{scale:1,useCORS:!0,logging:!1});S(95);const ke=ue.toDataURL("image/png"),Qe=new kt({orientation:"portrait",unit:"mm",format:"a4"});Qe.setFillColor(59,130,246),Qe.rect(0,0,Qe.internal.pageSize.width,20,"F"),Qe.setTextColor(255,255,255),Qe.setFontSize(14),Qe.text("Dashboard Departamental - GiarTech",10,10),Qe.setFontSize(10),Qe.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const we=Qe.internal.pageSize.width,q=ue.height*we/ue.width;Qe.addImage(ke,"PNG",0,25,we,q),Qe.save("dashboard-departamental.pdf"),S(100),setTimeout(()=>{x(!1),M(!1),S(0)},1e3)}catch(J){console.error("Erro ao gerar PDF:",J),x(!1),M(!1),alert("Erro ao gerar PDF. Tente novamente.")}}},X=()=>{M(!0),S(10);const J=setInterval(()=>{S(ue=>ue>=90?(clearInterval(J),90):ue+10)},200);setTimeout(()=>{S(100),alert("Relatrio Excel gerado com sucesso!"),setTimeout(()=>{M(!1),S(0)},1e3)},1500)},V=()=>{M(!0),S(50),setTimeout(()=>{S(100),window.print(),setTimeout(()=>{M(!1),S(0)},1e3)},1e3)},de=()=>{var Qe;if(!b){alert("Por favor, informe pelo menos um destinatrio");return}const J=b.split(",").map(we=>we.trim()),ue=new Date;v==="daily"?ue.setDate(ue.getDate()+1):v==="weekly"?ue.setDate(ue.getDate()+7):ue.setMonth(ue.getMonth()+1);const ke={id:Date.now().toString(),name:`Relatrio ${v==="daily"?"Dirio":v==="weekly"?"Semanal":"Mensal"} - ${e==="all"?"Todos Departamentos":(Qe=F.find(we=>we.id===e))==null?void 0:Qe.name}`,frequency:v,format:f,recipients:J,nextDate:ue.toISOString().split("T")[0]};_([...P,ke]),p(!1),N(""),alert("Relatrio agendado com sucesso!")};return s.jsxs("div",{ref:t,className:"space-y-6",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center md:text-left",children:"Dashboard Departamental"}),s.jsx("p",{className:"text-gray-600 text-center md:text-left",children:"Anlise de desempenho por departamento"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Perodo:"}),s.jsxs("select",{value:n,onChange:J=>a(J.target.value),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"day",children:"Hoje"}),s.jsx("option",{value:"week",children:"Esta Semana"}),s.jsx("option",{value:"month",children:"Este Ms"}),s.jsx("option",{value:"quarter",children:"Este Trimestre"})]})]}),s.jsxs("button",{onClick:I,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(As,{className:`h-4 w-4 ${l?"animate-spin":""}`}),s.jsx("span",{children:"Atualizar"})]}),s.jsxs("button",{onClick:()=>A(!h),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${h?"bg-yellow-500 text-white":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:[s.jsx(kr,{className:"h-4 w-4"}),s.jsx("span",{children:"Alertas"}),s.jsx("div",{className:"w-5 h-5 bg-white text-yellow-700 rounded-full flex items-center justify-center text-xs font-bold",children:O.length})]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 text-center mt-2",children:["ltima atualizao: ",d.toLocaleString("pt-BR")]})]}),s.jsx(lt,{children:h&&s.jsxs(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alertas"}),s.jsx("button",{onClick:()=>A(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:s.jsx(At,{className:"h-5 w-5"})})]}),s.jsx(Dze,{alerts:O,departments:F,onResolve:K,onEscalate:te,onIgnore:Q})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Departamentos"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(se.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${e==="all"?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:()=>r("all"),children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mb-2",children:s.jsx(Mt,{className:"h-4 w-4 text-white"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Todos"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Viso Geral"}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:"90%"}})}),s.jsxs("div",{className:"flex justify-between w-full mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Performance"}),s.jsx("span",{className:"text-xs font-medium text-gray-900",children:"90%"})]})]})}),F.map(J=>s.jsx(Ize,{id:J.id,name:J.name,color:J.color,metrics:J.metrics,performance:J.performance,isSelected:e===J.id,onClick:()=>r(J.id)},J.id))]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Produtividade",value:e==="all"?"89%":`${((le=F.find(J=>J.id===e))==null?void 0:le.metrics.productivity)||0}%`,change:"+3.5%",icon:di,color:"from-blue-500 to-blue-600"},{title:"Eficincia",value:e==="all"?"87%":`${((ie=F.find(J=>J.id===e))==null?void 0:ie.metrics.efficiency)||0}%`,change:"+2.1%",icon:pr,color:"from-green-500 to-green-600"},{title:"Qualidade",value:e==="all"?"91%":`${((ce=F.find(J=>J.id===e))==null?void 0:ce.metrics.quality)||0}%`,change:"+4.2%",icon:Ms,color:"from-purple-500 to-purple-600"},{title:"Satisfao",value:e==="all"?"87%":`${((be=F.find(J=>J.id===e))==null?void 0:be.metrics.satisfaction)||0}%`,change:"+1.8%",icon:es,color:"from-amber-500 to-amber-600"}].map((J,ue)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ue*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${J.color} rounded-lg flex items-center justify-center`,children:s.jsx(J.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(im,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-xs font-medium text-green-600",children:J.change})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:J.value}),s.jsx("p",{className:"text-sm text-gray-600",children:J.title})]},J.title))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(_8,{data:H(),title:"Tipo de Servio",subtitle:"Distribuio por categoria"}),s.jsx(_8,{data:U(),title:"Taxa de Resoluo",subtitle:"Resoluo por nmero de visitas"}),s.jsx(Tze,{data:z(),title:"Desempenho de Tcnicos",subtitle:"Produtividade individual",suffix:"%"}),s.jsx(Oze,{data:R(),title:"Comparao de Departamentos",subtitle:"Atual vs. Perodo Anterior",metricType:i,onMetricChange:J=>o(J)})]}),e==="operations"||e==="all"?s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Mtricas Operacionais"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Tempo Mdio de Atendimento"}),s.jsx(Dt,{className:"h-5 w-5 text-blue-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"1h 45m"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(w2,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"-12%"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 2h 00m"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Atendimentos Realizados"}),s.jsx(es,{className:"h-5 w-5 text-green-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:"248"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(im,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"+8%"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 230"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Satisfao do Cliente"}),s.jsx(Ms,{className:"h-5 w-5 text-purple-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"4.8"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(im,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"+0.2"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 4.5"})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Atendimentos por Tipo"}),s.jsx("div",{className:"space-y-3",children:[{label:"Instalaes",value:87,total:95,color:"#3b82f6"},{label:"Manutenes Preventivas",value:102,total:110,color:"#10b981"},{label:"Reparos/Corretivas",value:59,total:65,color:"#f59e0b"}].map(J=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-700",children:J.label}),s.jsxs("span",{className:"font-medium text-gray-900",children:[J.value,"/",J.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full",style:{width:`${J.value/J.total*100}%`,backgroundColor:J.color}})})]},J.label))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Produtividade por Equipe"}),s.jsx("div",{className:"space-y-3",children:[{label:"Equipe A",value:92,color:"#3b82f6"},{label:"Equipe B",value:87,color:"#10b981"},{label:"Equipe C",value:78,color:"#f59e0b"},{label:"Equipe D",value:85,color:"#8b5cf6"}].map(J=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-700",children:J.label}),s.jsxs("span",{className:"font-medium text-gray-900",children:[J.value,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full",style:{width:`${J.value}%`,backgroundColor:J.color}})})]},J.label))})]})]})]}):null,s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Relatrios"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:D,disabled:m,className:"p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors flex flex-col items-center justify-center space-y-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(at,{className:"h-8 w-8 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Baixar PDF"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Relatrio completo em PDF"})]}),s.jsxs("button",{onClick:X,className:"p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(at,{className:"h-8 w-8 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Exportar Excel"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Dados em formato Excel"})]}),s.jsxs("button",{onClick:V,className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(wd,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Imprimir"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Verso para impresso"})]}),s.jsxs("button",{onClick:()=>p(!0),className:"p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(lr,{className:"h-8 w-8 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Agendar"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Envio automtico por email"})]})]}),P.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Relatrios Agendados"}),s.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequncia"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formato"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prximo Envio"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(J=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:J.name}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:J.frequency==="daily"?"Dirio":J.frequency==="weekly"?"Semanal":"Mensal"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:J.format.toUpperCase()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(J.nextDate).toLocaleDateString("pt-BR")})]},J.id))})]})})]})]}),s.jsx(lt,{children:k&&s.jsxs(se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatrio"}),j===100&&s.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[j<100?s.jsx(xf,{className:"h-5 w-5 text-blue-500 animate-spin"}):s.jsx(es,{className:"h-5 w-5 text-green-500"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${j}%`}})})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[j,"%"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:j<100?"Processando dados e gerando relatrio...":"Relatrio gerado com sucesso!"})]})}),s.jsx(lt,{children:g&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Agendar Relatrio"}),s.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),s.jsxs("select",{value:v,onChange:J=>C(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Dirio"}),s.jsx("option",{value:"weekly",children:"Semanal"}),s.jsx("option",{value:"monthly",children:"Mensal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formato"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:f==="pdf",onChange:()=>y("pdf"),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"PDF"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:f==="excel",onChange:()=>y("excel"),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Excel"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatrios (separados por vrgula)"}),s.jsxs("div",{className:"relative",children:[s.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",value:b,onChange:J=>N(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com, outro@exemplo.com"})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[s.jsx(lr,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Informaes do Relatrio"})]}),s.jsx("p",{className:"text-sm text-blue-600",children:"O relatrio ser enviado automaticamente na frequncia selecionada para os destinatrios informados. O contedo ser baseado nos filtros atuais do dashboard."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:de,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Agendar Relatrio"})]})]})]})})]})},Lze=()=>{const{isPremium:t,isAdmin:e}=cn(),[r,n]=B.useState([]),[a,i]=B.useState(!0),[o,l]=B.useState([]),[c,d]=B.useState(null);B.useEffect(()=>{u().catch(Z=>{console.error("Erro crtico ao carregar:",Z),d(Z.message)})},[]);const u=async()=>{i(!0),d(null);try{const{data:Z,error:pe}=await ae.from("digital_library").select(`
          *,
          category:library_categories(name, icon)
        `).eq("is_public",!0).eq("virus_scan_status","clean").order("created_at",{ascending:!1});if(pe)throw console.error("Erro do Supabase:",pe),pe;if(Z){l(Z);const De=Z.map(je=>{var Me,rt;return{id:je.id,title:je.title,description:je.description||"",category:"manual",subcategory:((Me=je.category)==null?void 0:Me.name)||"Geral",fileUrl:je.file_url,file_url:je.file_url,fileSize:h(je.file_size),file_size:je.file_size,fileType:A(je.file_type),file_type:je.file_type,uploadDate:je.created_at,created_at:je.created_at,tags:je.tags||[],isDownloaded:!1,isFavorite:!1,category_name:(rt=je.category)==null?void 0:rt.name,virus_scan_status:je.virus_scan_status,is_verified:je.is_verified,view_count:je.view_count||0,download_count:je.download_count||0}});n(De)}}catch(Z){console.error("Erro ao carregar documentos:",Z),d((Z==null?void 0:Z.message)||"Erro desconhecido")}finally{i(!1)}},h=Z=>Z?Z<1024?Z+" B":Z<1048576?(Z/1024).toFixed(1)+" KB":(Z/1048576).toFixed(1)+" MB":"0 B",A=Z=>Z.includes("pdf")?"PDF":Z.includes("word")?"DOCX":Z.includes("excel")||Z.includes("spreadsheet")?"XLSX":Z.includes("powerpoint")||Z.includes("presentation")?"PPTX":Z.includes("image")?"IMG":"FILE";B.useEffect(()=>{!a&&r.length===0&&n([{id:"1",title:"Manual de Instalao - Split 12.000 BTUs",description:"Guia completo para instalao de ar condicionado split 12.000 BTUs",category:"manual",subcategory:"Instalao",fileUrl:"/documents/manual_instalacao_split.pdf",file_url:"/documents/manual_instalacao_split.pdf",fileSize:"2.5 MB",file_size:2621440,fileType:"PDF",file_type:"application/pdf",uploadDate:"2024-01-10",created_at:"2024-01-10",lastViewed:"2024-01-15",author:"Equipe Tcnica",tags:["ar condicionado","split","instalao","12000 BTUs"],isDownloaded:!0,isFavorite:!0,thumbnailUrl:"https://images.pexels.com/photos/4489734/pexels-photo-4489734.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",title:"Manual Tcnico - Dual Inverter",description:"Especificaes tcnicas e procedimentos de manuteno para ar condicionado Dual Inverter",category:"manual",subcategory:"Manuteno",fileUrl:"/documents/manual_tecnico_dual_inverter.pdf",file_url:"/documents/manual_tecnico_dual_inverter.pdf",fileSize:"3.1 MB",file_size:3250585,fileType:"PDF",file_type:"application/pdf",uploadDate:"2024-01-08",created_at:"2024-01-08",author:"Departamento Tcnico",tags:["ar condicionado","dual inverter","manuteno"],isDownloaded:!1,isFavorite:!1},{id:"3",title:"Poltica de Segurana da Informao",description:"Documento corporativo com diretrizes de segurana da informao",category:"corporate",subcategory:"Polticas",fileUrl:"/documents/politica_seguranca_informacao.pdf",file_url:"/documents/politica_seguranca_informacao.pdf",fileSize:"1.2 MB",file_size:1258291,fileType:"PDF",file_type:"application/pdf",uploadDate:"2023-12-15",created_at:"2023-12-15",lastViewed:"2024-01-05",author:"Departamento de TI",tags:["segurana","poltica","corporativo"],isDownloaded:!0,isFavorite:!1},{id:"4",title:"Apostila de Treinamento - Refrigerao Bsica",description:"Material didtico para treinamento de novos tcnicos",category:"educational",subcategory:"Treinamento",fileUrl:"/documents/apostila_refrigeracao_basica.pdf",file_url:"/documents/apostila_refrigeracao_basica.pdf",fileSize:"5.8 MB",file_size:6082560,fileType:"PDF",file_type:"application/pdf",uploadDate:"2023-11-20",created_at:"2023-11-20",author:"Departamento de Treinamento",tags:["refrigerao","treinamento","bsico"],isDownloaded:!1,isFavorite:!0}])},[a,r.length]);const[m,x]=B.useState(""),[g,p]=B.useState("all"),[f,y]=B.useState("all"),[b,N]=B.useState([]),[v,C]=B.useState({}),[P,_]=B.useState(!1),[k,M]=B.useState(null),[j,S]=B.useState(!1),[F,O]=B.useState("date"),[H,U]=B.useState("desc"),[z,R]=B.useState(null),[I,K]=B.useState(0),[te,Q]=B.useState(!1),[D,X]=B.useState({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),V=()=>g==="all"?["all",...new Set(r.map(Z=>Z.subcategory))]:["all",...new Set(r.filter(Z=>g==="all"||Z.category===g).map(Z=>Z.subcategory))],de=()=>{const Z=r.flatMap(pe=>pe.tags);return[...new Set(Z)]},ie=[...r.filter(Z=>{const pe=Z.title.toLowerCase().includes(m.toLowerCase())||Z.description.toLowerCase().includes(m.toLowerCase())||Z.tags.some(Pe=>Pe.toLowerCase().includes(m.toLowerCase())),De=g==="all"||Z.category===g,je=f==="all"||Z.subcategory===f,Me=b.length===0||b.every(Pe=>Z.tags.includes(Pe)),rt=(!v.start||new Date(Z.uploadDate)>=new Date(v.start))&&(!v.end||new Date(Z.uploadDate)<=new Date(v.end));return pe&&De&&je&&Me&&rt})].sort((Z,pe)=>{if(F==="date")return H==="asc"?new Date(Z.uploadDate).getTime()-new Date(pe.uploadDate).getTime():new Date(pe.uploadDate).getTime()-new Date(Z.uploadDate).getTime();if(F==="title")return H==="asc"?Z.title.localeCompare(pe.title):pe.title.localeCompare(Z.title);if(F==="size"){const De=parseFloat(Z.fileSize.split(" ")[0]),je=parseFloat(pe.fileSize.split(" ")[0]);return H==="asc"?De-je:je-De}return 0}),ce=Z=>{var De;const pe=(De=Z.target.files)==null?void 0:De[0];pe&&X({...D,file:pe})},be=()=>{if(!D.title||!D.category||!D.file){alert("Por favor, preencha todos os campos obrigatrios");return}Q(!0);const Z=setInterval(()=>{K(pe=>pe>=100?(clearInterval(Z),setTimeout(()=>{J()},500),100):pe+10)},300)},J=()=>{var pe;if(!D.file){alert("Por favor, selecione um arquivo");return}const Z={id:Date.now().toString(),title:D.title,description:D.description,category:D.category,subcategory:D.subcategory||"Geral",fileUrl:URL.createObjectURL(D.file),fileSize:`${((D.file.size||0)/(1024*1024)).toFixed(1)} MB`,fileType:((pe=D.file.type.split("/")[1])==null?void 0:pe.toUpperCase())||"PDF",uploadDate:new Date().toISOString().split("T")[0],tags:D.tags.split(",").map(De=>De.trim()).filter(De=>De),isDownloaded:!1,isFavorite:!1};n([Z,...r]),X({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),Q(!1),K(0),_(!1),alert("Documento enviado com sucesso!")},ue=Z=>{console.log(`Downloading ${Z.title}...`),n(r.map(pe=>pe.id===Z.id?{...pe,isDownloaded:!0,lastViewed:new Date().toISOString().split("T")[0]}:pe)),alert(`Download de "${Z.title}" iniciado!`)},ke=Z=>{n(r.map(pe=>pe.id===Z?{...pe,isFavorite:!pe.isFavorite}:pe))},Qe=Z=>{n(r.filter(pe=>pe.id!==Z)),R(null)},we=Z=>{b.includes(Z)?N(b.filter(pe=>pe!==Z)):N([...b,Z])},q=Z=>{switch(Z){case"manual":return at;case"corporate":return C2;case"educational":return Cae;default:return at}},Ne=Z=>{switch(Z){case"manual":return"from-blue-500 to-cyan-500";case"corporate":return"from-purple-500 to-pink-500";case"educational":return"from-green-500 to-emerald-500";default:return"from-gray-500 to-gray-600"}},Be=Z=>{switch(Z){case"manual":return"Manual Tcnico";case"corporate":return"Documento Corporativo";case"educational":return"Material Didtico";default:return Z}};return a&&r.length===0&&!c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Carregando Biblioteca Digital..."})]})}):s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Biblioteca Digital"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Acesse manuais, documentos corporativos e materiais didticos"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs("button",{onClick:()=>_(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all text-sm",children:[s.jsx(jg,{className:"h-4 w-4"}),s.jsx("span",{children:"Enviar Documento"})]})})]})}),c&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(kr,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Erro ao Carregar Biblioteca"}),s.jsx("p",{className:"text-red-700 text-sm",children:c}),s.jsx("button",{onClick:()=>u(),className:"mt-2 text-sm text-red-600 hover:text-red-800 font-medium",children:"Tentar novamente"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar documentos por ttulo, descrio ou tags...",value:m,onChange:Z=>x(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{value:g,onChange:Z=>{p(Z.target.value),y("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Categorias"}),s.jsx("option",{value:"manual",children:"Manuais Tcnicos"}),s.jsx("option",{value:"corporate",children:"Documentos Corporativos"}),s.jsx("option",{value:"educational",children:"Material Didtico"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),s.jsx("select",{value:f,onChange:Z=>y(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:V().map(Z=>s.jsx("option",{value:Z,children:Z==="all"?"Todas as Subcategorias":Z},Z))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),s.jsxs("div",{className:"flex",children:[s.jsxs("select",{value:F,onChange:Z=>O(Z.target.value),className:"flex-1 px-3 py-2 border-y border-l border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"date",children:"Data"}),s.jsx("option",{value:"title",children:"Ttulo"}),s.jsx("option",{value:"size",children:"Tamanho"})]}),s.jsx("button",{onClick:()=>U(H==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-r-lg bg-gray-50 hover:bg-gray-100",children:H==="asc"?s.jsx(Xo,{className:"h-5 w-5"}):s.jsx(ai,{className:"h-5 w-5"})})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:()=>S(!j),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm",children:[s.jsx(S2,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtros avanados"}),j?s.jsx(Xo,{className:"h-4 w-4"}):s.jsx(ai,{className:"h-4 w-4"})]})}),s.jsx(lt,{children:j&&s.jsxs(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:[s.jsxs("div",{className:"pt-4 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo de Upload"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"De"}),s.jsx("input",{type:"date",value:v.start||"",onChange:Z=>C({...v,start:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"At"}),s.jsx("input",{type:"date",value:v.end||"",onChange:Z=>C({...v,end:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-gray-300 rounded-lg min-h-[42px]",children:[de().map(Z=>s.jsx("button",{onClick:()=>we(Z),className:`px-2 py-1 rounded-full text-xs font-medium ${b.includes(Z)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Z},Z)),de().length===0&&s.jsx("span",{className:"text-sm text-gray-500",children:"Nenhuma tag disponvel"})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4 space-x-2",children:s.jsx("button",{onClick:()=>{x(""),p("all"),y("all"),N([]),C({}),O("date"),U("desc")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpar Filtros"})})]})})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Documentos (",ie.length,")"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[ie.length," de ",r.length," documentos"]})]}),ie.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ie.map(Z=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden",children:[s.jsxs("div",{className:"relative h-32 bg-gray-100 overflow-hidden",children:[Z.thumbnailUrl?s.jsx("img",{src:Z.thumbnailUrl,alt:Z.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:`w-full h-full bg-gradient-to-r ${Ne(Z.category)} flex items-center justify-center`,children:ge.createElement(q(Z.category),{className:"h-16 w-16 text-white/50"})}),s.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-sm text-white rounded text-xs",children:Be(Z.category)}),s.jsx("button",{onClick:()=>ke(Z.id),className:`absolute top-2 right-2 p-1 rounded-full ${Z.isFavorite?"bg-yellow-500 text-white":"bg-white/70 text-gray-600 hover:bg-white"}`,"aria-label":Z.isFavorite?"Remover dos favoritos":"Adicionar aos favoritos",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:Z.isFavorite?"currentColor":"none",stroke:"currentColor",className:"w-4 h-4",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:Z.title}),s.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:Z.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(lr,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:new Date(Z.uploadDate).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(at,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:[Z.fileSize,"  ",Z.fileType]})]}),Z.lastViewed&&s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Visto: ",new Date(Z.lastViewed).toLocaleDateString("pt-BR")]})]}),Z.isDownloaded&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(D4,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:"Baixado"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[Z.tags.slice(0,3).map((pe,De)=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:pe},De)),Z.tags.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",Z.tags.length-3]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>M(Z),className:"flex-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-xs flex items-center justify-center",children:[s.jsx(Ss,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),s.jsxs("button",{onClick:()=>ue(Z),className:"flex-1 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-xs flex items-center justify-center",children:[s.jsx(Qn,{className:"h-3 w-3 mr-1"}),Z.isDownloaded?"Baixado":"Baixar"]}),e&&s.jsx("button",{onClick:()=>R(Z.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-xs flex items-center justify-center",children:s.jsx(Ut,{className:"h-3 w-3"})})]})]})]},Z.id))}):s.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx(at,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum documento encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos documentos com os filtros selecionados."}),s.jsx("button",{onClick:()=>{x(""),p("all"),y("all"),N([]),C({})},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:"Limpar Filtros"})]})]}),s.jsx(lt,{children:P&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!te&&_(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enviar Novo Documento"}),!te&&s.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arquivo PDF"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:D.file?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(at,{className:"h-8 w-8 text-blue-500 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:D.file.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(D.file.size/(1024*1024)).toFixed(2)," MB"]})]})]}),s.jsx("button",{onClick:()=>X({...D,file:null}),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-5 w-5"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(jg,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arraste e solte um arquivo PDF ou"}),s.jsxs("label",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer inline-block",children:["Selecionar Arquivo",s.jsx("input",{type:"file",accept:".pdf",onChange:ce,className:"hidden"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ttulo ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:D.title,onChange:Z=>X({...D,title:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ttulo do documento",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:D.description,onChange:Z=>X({...D,description:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Breve descrio do documento"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Categoria ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:D.category,onChange:Z=>X({...D,category:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"manual",children:"Manual Tcnico"}),s.jsx("option",{value:"corporate",children:"Documento Corporativo"}),s.jsx("option",{value:"educational",children:"Material Didtico"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),s.jsx("input",{type:"text",value:D.subcategory,onChange:Z=>X({...D,subcategory:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalao"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (separadas por vrgula)"}),s.jsx("input",{type:"text",value:D.tags,onChange:Z=>X({...D,tags:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: manual, ar condicionado, instalao"})]}),te&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[s.jsx("span",{children:"Enviando..."}),s.jsxs("span",{children:[I,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${I}%`}})})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>!te&&_(!1),disabled:te,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:be,disabled:te||!D.title||!D.file,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:te?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jg,{className:"h-4 w-4 mr-2 inline"}),"Enviar Documento"]})})]})]})]})}),s.jsx(lt,{children:k&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>M(null),className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${Ne(k.category)} flex items-center justify-center`,children:ge.createElement(q(k.category),{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:k.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Be(k.category),"  ",k.subcategory]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:Z=>{Z.stopPropagation(),ue(k)},className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:s.jsx(Qn,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>M(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:s.jsx(At,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden bg-gray-100 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx(at,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Visualizador de PDF"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Em um ambiente real, o PDF seria exibido aqui usando um visualizador integrado."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs("button",{onClick:Z=>{Z.stopPropagation(),ue(k)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center",children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]}),s.jsxs("button",{onClick:Z=>{Z.stopPropagation(),window.open(k.fileUrl,"_blank")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center",children:[s.jsx(H9,{className:"h-4 w-4 mr-2"}),"Abrir em Nova Aba"]})]})]})})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Detalhes"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(lr,{className:"h-4 w-4 mr-2 text-gray-400"}),"Enviado em ",new Date(k.uploadDate).toLocaleDateString("pt-BR")]}),s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(at,{className:"h-4 w-4 mr-2 text-gray-400"}),k.fileSize,"  ",k.fileType]}),k.author&&s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(Nr,{className:"h-4 w-4 mr-2 text-gray-400"}),"Autor: ",k.author]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Descrio"}),s.jsx("p",{className:"text-sm text-gray-600",children:k.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:k.tags.map((Z,pe)=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:Z},pe))})]})]})})]})]})}),s.jsx(lt,{children:z&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>R(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-sm shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(kr,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este documento? Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>R(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>Qe(z),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})})]})},Uze=()=>{const{user:t}=cn(),[e,r]=B.useState([{id:"1",name:"Equipe Tcnica",lastMessage:"Carlos: Vou atender o chamado agora",lastMessageTime:new Date(Date.now()-5*6e4),unreadCount:3,isGroup:!0,participants:["Carlos","Ana","Pedro","Maria"],status:"online",avatar:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Tcnico",lastMessage:"J finalizei a instalao do cliente",lastMessageTime:new Date(Date.now()-30*6e4),unreadCount:0,isGroup:!1,participants:["Carlos"],status:"online"},{id:"3",name:"Ana Tcnica",lastMessage:"Preciso de ajuda com um cliente",lastMessageTime:new Date(Date.now()-2*36e5),unreadCount:1,isGroup:!1,participants:["Ana"],status:"busy"},{id:"4",name:"Departamento Comercial",lastMessage:"Maria: Novo contrato fechado!",lastMessageTime:new Date(Date.now()-5*36e5),unreadCount:0,isGroup:!0,participants:["Joo","Maria","Roberto"],status:"online"}]),[n,a]=B.useState(null),[i,o]=B.useState([]),[l,c]=B.useState(""),[d,u]=B.useState(!1),[h,A]=B.useState(!0),[m,x]=B.useState(!1),[g,p]=B.useState(!1),[f,y]=B.useState(""),[b,N]=B.useState("none"),[v,C]=B.useState(0),[P,_]=B.useState(null),[k,M]=B.useState("none"),[j,S]=B.useState(""),[F,O]=B.useState(!1),[H,U]=B.useState(!1),[z,R]=B.useState(!0),[I,K]=B.useState(!1),te=B.useRef(null),Q=B.useRef(null),[D,X]=B.useState({notifications:!0,sounds:!0,darkMode:!1,readReceipts:!0,fontSize:"medium"}),[V,de]=B.useState(window.innerWidth<768),[le,ie]=B.useState(!0);B.useEffect(()=>{const Pe=()=>{de(window.innerWidth<768)};return window.addEventListener("resize",Pe),()=>window.removeEventListener("resize",Pe)},[]),B.useEffect(()=>{if(n){r(ze=>ze.map(ct=>ct.id===n.id?{...ct,unreadCount:0}:ct));const Pe=[],fe=10+Math.floor(Math.random()*10),Ve=new Date;for(let ze=0;ze<fe;ze++){const ct=Math.random()>.5,Ct=ct?(t==null?void 0:t.name)||"Voc":n.isGroup?n.participants[Math.floor(Math.random()*n.participants.length)]:n.name;Pe.push({id:`msg-${ze}`,content:ue(ct,n.isGroup),sender:Ct,senderId:ct?"me":Ct,timestamp:new Date(Ve.getTime()-(fe-ze)*5*6e4),status:ct?ze<fe-3?"read":ze<fe-1?"delivered":"sent":"read",isMe:ct})}o(Pe),V&&ie(!1)}},[n,t]),B.useEffect(()=>{var Pe;(Pe=te.current)==null||Pe.scrollIntoView({behavior:"smooth"})},[i]);const ce=e.filter(Pe=>Pe.name.toLowerCase().includes(f.toLowerCase())||Pe.lastMessage.toLowerCase().includes(f.toLowerCase())),be=Pe=>{const Ve=new Date().getTime()-Pe.getTime();return Ve<864e5?Pe.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):Ve<6048e5?["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][Pe.getDay()]:Pe.toLocaleDateString([],{day:"2-digit",month:"2-digit"})},J=Pe=>{const fe=Math.floor(Pe/60),Ve=Pe%60;return`${fe.toString().padStart(2,"0")}:${Ve.toString().padStart(2,"0")}`},ue=(Pe,fe)=>{const Ve=Pe?["Ol, como posso ajudar?","J estou a caminho do cliente","Finalizei o servio agora","Preciso de mais informaes sobre este chamado","Vou precisar de mais peas para o conserto","O cliente no est no local","Servio concludo com sucesso","Estou com dificuldade para acessar o local"]:["Temos um novo chamado urgente","O cliente est aguardando","Pode me ajudar com um problema?","J verificou o estoque de peas?","Precisamos finalizar este servio hoje","O cliente alterou o horrio","Tem disponibilidade amanh?",fe?"Pessoal, reunio s 15h":"Preciso da sua ajuda com um cliente"];return Ve[Math.floor(Math.random()*Ve.length)]},ke=()=>{if(!l.trim()||!n)return;const Pe={id:`msg-${Date.now()}`,content:l,sender:(t==null?void 0:t.name)||"Voc",senderId:"me",timestamp:new Date,status:"sending",isMe:!0};o([...i,Pe]),c(""),setTimeout(()=>{o(fe=>fe.map(Ve=>Ve.id===Pe.id?{...Ve,status:"sent"}:Ve)),setTimeout(()=>{o(fe=>fe.map(Ve=>Ve.id===Pe.id?{...Ve,status:"delivered"}:Ve)),setTimeout(()=>{o(fe=>fe.map(Ve=>Ve.id===Pe.id?{...Ve,status:"read"}:Ve))},2e3)},1e3)},500),setTimeout(()=>{u(!0),setTimeout(()=>{u(!1);const fe={id:`msg-${Date.now()}`,content:ue(!1,n.isGroup),sender:n.isGroup?n.participants[Math.floor(Math.random()*n.participants.length)]:n.name,senderId:"other",timestamp:new Date,status:"read",isMe:!1};o(Ve=>[...Ve,fe]),r(Ve=>Ve.map(ze=>ze.id===n.id?{...ze,lastMessage:n.isGroup?`${fe.sender}: ${fe.content}`:fe.content,lastMessageTime:fe.timestamp}:ze))},2e3+Math.random()*1e3)},1e3+Math.random()*2e3),r(fe=>fe.map(Ve=>Ve.id===n.id?{...Ve,lastMessage:l,lastMessageTime:new Date}:Ve))},Qe=Pe=>{if(!n)return;const fe=Pe==="video"?{video:!0,audio:!0}:{audio:!0};navigator.mediaDevices.getUserMedia(fe).then(Ve=>{console.log("Media access granted for call"),Ve.getTracks().forEach(ct=>ct.stop()),N(Pe),C(0);const ze=setInterval(()=>{C(ct=>ct+1)},1e3);_(ze)}).catch(Ve=>{console.error("Error accessing media devices:",Ve),alert("Para fazer chamadas,  necessrio permitir o acesso  cmera e microfone.")})},we=()=>{P&&clearInterval(P),N("none"),C(0),_(null),O(!1),U(!1),K(!1)},q=Pe=>{const fe=e[Math.floor(Math.random()*e.length)];S(fe.name),M(Pe),setTimeout(()=>{M("none")},15e3)},Ne=()=>{const Pe=k;M("none"),N(Pe),C(0);const fe=setInterval(()=>{C(Ve=>Ve+1)},1e3);_(fe)},Be=()=>{M("none")},Z=()=>{var Pe;c(fe=>fe+" "),(Pe=Q.current)==null||Pe.focus()},pe=()=>{alert("Funcionalidade de anexo seria implementada aqui")},De=Pe=>{switch(Pe){case"sending":return s.jsx(Dt,{className:"h-3 w-3 text-gray-400"});case"sent":return s.jsx(Mr,{className:"h-3 w-3 text-gray-400"});case"delivered":return s.jsxs("div",{className:"relative",children:[s.jsx(Mr,{className:"h-3 w-3 text-blue-500 absolute"}),s.jsx(Mr,{className:"h-3 w-3 text-blue-500 ml-0.5"})]});case"read":return s.jsxs("div",{className:"relative text-blue-500",children:[s.jsx(Mr,{className:"h-3 w-3 absolute"}),s.jsx(Mr,{className:"h-3 w-3 ml-0.5"})]});default:return null}},je=Pe=>{switch(Pe){case"online":return"bg-green-500";case"offline":return"bg-gray-400";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";default:return"bg-gray-400"}},Me=Pe=>{Pe.key==="Enter"&&!Pe.shiftKey&&(Pe.preventDefault(),ke())},rt=()=>{ie(!le)};return s.jsxs("div",{className:"h-[calc(100vh-120px)] bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden flex",children:[s.jsx(lt,{children:(!V||V&&le)&&s.jsxs(se.div,{initial:V?{x:-300}:!1,animate:{x:0},exit:V?{x:-300}:void 0,className:"w-80 border-r border-gray-200 flex flex-col bg-white z-10",style:{position:V?"absolute":"relative",height:"100%",boxShadow:V?"0 0 15px rgba(0,0,0,0.1)":"none"},children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Conversas"}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:()=>p(!g),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(ur,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>x(!m),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(jd,{className:"h-4 w-4"})}),V&&s.jsx("button",{onClick:rt,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full md:hidden",children:s.jsx(Nw,{className:"h-4 w-4"})})]})]}),s.jsx(lt,{children:g&&s.jsx(se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"p-3 border-b border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:f,onChange:Pe=>y(Pe.target.value),className:"w-full pl-8 pr-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:ce.length>0?ce.map(Pe=>s.jsx("div",{onClick:()=>a(Pe),className:`p-2.5 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${(n==null?void 0:n.id)===Pe.id?"bg-blue-50":""}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[Pe.avatar?s.jsx("img",{src:Pe.avatar,alt:Pe.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Pe.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:Pe.isGroup?s.jsx(Mt,{className:"h-5 w-5"}):s.jsx("span",{className:"text-base font-semibold",children:Pe.name.charAt(0)})}),s.jsx("div",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white ${je(Pe.status)}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:Pe.name}),s.jsx("span",{className:"text-xs text-gray-500",children:be(Pe.lastMessageTime)})]}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:Pe.lastMessage})]}),Pe.unreadCount>0&&s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-medium",children:Pe.unreadCount})})]})},Pe.id)):s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(Cw,{className:"h-10 w-10 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-sm",children:"Nenhuma conversa encontrada"})]})}),s.jsx(lt,{children:m&&s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0 bg-white z-10 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center",children:[s.jsx("button",{onClick:()=>x(!1),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2",children:s.jsx(Nw,{className:"h-4 w-4"})}),s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Configuraes"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Notificaes"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Notificaes de mensagens"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:D.notifications,onChange:()=>X({...D,notifications:!D.notifications}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Sons de notificao"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:D.sounds,onChange:()=>X({...D,sounds:!D.sounds}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Privacidade"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Confirmaes de leitura"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:D.readReceipts,onChange:()=>X({...D,readReceipts:!D.readReceipts}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Aparncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Modo escuro"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:D.darkMode,onChange:()=>X({...D,darkMode:!D.darkMode}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Tamanho da fonte"}),s.jsxs("select",{value:D.fontSize,onChange:Pe=>X({...D,fontSize:Pe.target.value}),className:"w-full px-2.5 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"small",children:"Pequeno"}),s.jsx("option",{value:"medium",children:"Mdio"}),s.jsx("option",{value:"large",children:"Grande"})]})]})]})]})]}),s.jsx("div",{className:"p-3 border-t border-gray-200",children:s.jsx("button",{onClick:()=>x(!1),className:"w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Salvar Configuraes"})})]})})]})}),s.jsx("div",{className:"flex-1 flex flex-col",children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[V&&s.jsx("button",{onClick:rt,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2 md:hidden",children:s.jsx(xoe,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[n.avatar?s.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:n.isGroup?s.jsx(Mt,{className:"h-4 w-4"}):s.jsx("span",{className:"text-base font-semibold",children:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:n.name}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${je(n.status)} mr-1`}),s.jsx("span",{children:n.status==="online"?"Online":n.status==="away"?"Ausente":n.status==="busy"?"Ocupado":"Offline"}),n.isGroup&&s.jsxs("span",{className:"ml-1",children:[n.participants.length," participantes"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:()=>Qe("audio"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(oa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Qe("video"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(k_,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx($9,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-50",children:[i.map((Pe,fe)=>{const Ve=fe===0||new Date(Pe.timestamp).toDateString()!==new Date(i[fe-1].timestamp).toDateString();return s.jsxs(ge.Fragment,{children:[Ve&&s.jsx("div",{className:"flex justify-center my-3",children:s.jsx("div",{className:"px-2.5 py-0.5 bg-gray-200 rounded-full text-xs text-gray-600",children:new Date(Pe.timestamp).toLocaleDateString([],{weekday:"long",day:"numeric",month:"long"})})}),s.jsx("div",{className:`flex ${Pe.isMe?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[75%] ${Pe.isMe?"bg-blue-500 text-white":"bg-white text-gray-800"} rounded-lg px-3 py-1.5 shadow-sm`,children:[n.isGroup&&!Pe.isMe&&s.jsx("p",{className:"text-xs font-medium mb-0.5",style:{color:Pe.isMe?"white":"#6366f1"},children:Pe.sender}),s.jsx("p",{className:"text-sm",children:Pe.content}),s.jsxs("div",{className:`flex items-center justify-end space-x-1 mt-0.5 text-xs ${Pe.isMe?"text-blue-100":"text-gray-500"}`,children:[s.jsx("span",{children:Pe.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),Pe.isMe&&De(Pe.status)]})]})})]},Pe.id)}),d&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white text-gray-800 rounded-lg px-3 py-1.5 shadow-sm",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),s.jsx("div",{ref:te})]}),s.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:Z,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(ole,{className:"h-4 w-4"})}),s.jsx("button",{onClick:pe,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(Doe,{className:"h-4 w-4"})}),s.jsx("input",{type:"text",ref:Q,value:l,onChange:Pe=>c(Pe.target.value),onKeyPress:Me,placeholder:"Digite uma mensagem...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),s.jsx("button",{onClick:ke,disabled:!l.trim(),className:`p-1.5 rounded-full ${l.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:s.jsx(ja,{className:"h-4 w-4"})})]})})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 bg-gray-50",children:[s.jsx(Cw,{className:"h-14 w-14 text-gray-300 mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Chat Interno"}),s.jsx("p",{className:"text-gray-600 text-center max-w-md mb-5 text-sm",children:"Selecione uma conversa para comear a enviar mensagens ou iniciar uma chamada com sua equipe."}),V&&!le&&s.jsx("button",{onClick:rt,className:"px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Ver Conversas"})]})}),s.jsx(lt,{children:b!=="none"&&s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center bg-black/80 ${I?"p-0":"p-4"}`,children:s.jsxs("div",{className:`relative bg-gray-900 rounded-xl overflow-hidden ${I?"w-full h-full":"max-w-md w-full"}`,children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 p-3 flex items-center justify-between z-10 bg-gradient-to-b from-black/60 to-transparent",children:s.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[n!=null&&n.avatar?s.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-base font-semibold text-white",children:n==null?void 0:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:n==null?void 0:n.name}),s.jsxs("p",{className:"text-xs opacity-80",children:[b==="audio"?"Chamada de voz":"Chamada de vdeo","  ",J(v)]})]})]})}),s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:b==="video"?H?s.jsx("div",{className:"w-full h-full min-h-[250px] bg-gray-800 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(tO,{className:"h-12 w-12 text-white/50 mx-auto mb-3"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Cmera desligada"})]})}):s.jsxs("div",{className:"w-full h-full min-h-[250px] bg-gray-800 relative",children:[s.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Video call",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute bottom-3 right-3 w-24 h-20 bg-gray-900 rounded-lg overflow-hidden border-2 border-white",children:s.jsx("img",{src:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Self view",className:"w-full h-full object-cover"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-4xl font-semibold text-white",children:n==null?void 0:n.name.charAt(0)})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:n==null?void 0:n.name}),s.jsx("p",{className:"text-white/70 text-sm",children:J(v)})]})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 flex items-center justify-center space-x-3 z-10 bg-gradient-to-t from-black/60 to-transparent",children:[s.jsx("button",{onClick:()=>O(!F),className:`p-3 rounded-full ${F?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:F?s.jsx(woe,{className:"h-5 w-5"}):s.jsx(Noe,{className:"h-5 w-5"})}),b==="video"&&s.jsx("button",{onClick:()=>U(!H),className:`p-3 rounded-full ${H?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:H?s.jsx(tO,{className:"h-5 w-5"}):s.jsx(k_,{className:"h-5 w-5"})}),s.jsx("button",{onClick:we,className:"p-3 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx($oe,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>R(!z),className:`p-3 rounded-full ${z?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-400"}`,children:s.jsx(zle,{className:"h-5 w-5"})})]})]})})}),s.jsx(lt,{children:k!=="none"&&s.jsxs(se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-3 right-3 z-50 bg-white rounded-lg shadow-xl border border-gray-200 p-3 w-72",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-semibold text-blue-600",children:j.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:j}),s.jsx("p",{className:"text-xs text-gray-600",children:k==="audio"?"Chamada de voz":"Chamada de vdeo"})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:Be,className:"flex-1 py-1.5 bg-red-500 text-white rounded-lg mr-2 hover:bg-red-600 transition-colors text-sm",children:"Recusar"}),s.jsx("button",{onClick:Ne,className:"flex-1 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:"Atender"})]})]})}),s.jsxs("div",{className:"fixed bottom-16 right-3 z-40 space-y-1.5",children:[s.jsx("button",{onClick:()=>q("audio"),className:"p-1.5 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors",title:"Simular chamada de voz",children:s.jsx(oa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>q("video"),className:"p-1.5 bg-purple-500 text-white rounded-full shadow-lg hover:bg-purple-600 transition-colors",title:"Simular chamada de vdeo",children:s.jsx(k_,{className:"h-4 w-4"})})]})]})},JA=({children:t,title:e,subtitle:r,actions:n,hover:a=!1,className:i=""})=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:a?{y:-4}:void 0,className:`bg-white rounded-xl shadow-sm border border-gray-100 transition-shadow ${a?"hover:shadow-md":""} ${i}`,children:[(e||r||n)&&s.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-gray-100",children:[s.jsxs("div",{children:[e&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e}),r&&s.jsx("p",{className:"text-sm text-gray-500",children:r})]}),n&&s.jsx("div",{className:"flex items-center gap-2",children:n})]}),s.jsx("div",{className:"p-6",children:t})]});function Rze(){const[t,e]=B.useState([]),[r,n]=B.useState(null),[a,i]=B.useState([]),[o,l]=B.useState(""),[c,d]=B.useState(""),[u,h]=B.useState(!0),A=B.useRef(null);B.useEffect(()=>{m()},[]),B.useEffect(()=>{r&&x(r.id)},[r]),B.useEffect(()=>{f()},[a]);const m=async()=>{h(!0);try{const{data:N,error:v}=await ae.from("whatsapp_conversations").select("*").order("last_message_at",{ascending:!1});if(v)throw v;e(N||[])}catch(N){console.error("Erro ao carregar conversas:",N)}finally{h(!1)}},x=async N=>{try{const{data:v,error:C}=await ae.from("whatsapp_messages").select("*").eq("conversation_id",N).order("created_at",{ascending:!0});if(C)throw C;i(v||[])}catch(v){console.error("Erro ao carregar mensagens:",v)}},g=async()=>{if(!(!o.trim()||!r))try{const{data:N,error:v}=await ae.from("whatsapp_messages").insert({conversation_id:r.id,content:o,type:"text",direction:"outbound",status:"sent"}).select().single();if(v)throw v;i([...a,N]),l("")}catch(N){console.error("Erro ao enviar mensagem:",N)}},p=()=>{if(!r)return;const N=r.phone;window.location.href=`/service-orders/create?phone=${N}`},f=()=>{var N;(N=A.current)==null||N.scrollIntoView({behavior:"smooth"})},y=t.filter(N=>N.contact_name.toLowerCase().includes(c.toLowerCase())||N.phone.includes(c)),b=N=>{switch(N){case"sent":return s.jsx(Mr,{className:"w-3 h-3"});case"delivered":case"read":return s.jsx(Hae,{className:"w-3 h-3"});case"failed":return s.jsx(Dt,{className:"w-3 h-3 text-red-500"});default:return null}};return s.jsxs("div",{className:"h-[calc(100vh-8rem)] flex gap-4",children:[s.jsxs(JA,{className:"w-1/3 flex flex-col p-0 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"WhatsApp CRM"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:N=>d(N.target.value),placeholder:"Buscar conversa...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:u?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Carregando..."}):y.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(dm,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"Nenhuma conversa encontrada"}),s.jsx("p",{className:"text-sm mt-1",children:"Aguardando mensagens..."})]}):y.map(N=>s.jsx("button",{onClick:()=>n(N),className:`w-full p-4 border-b border-gray-200 hover:bg-gray-50 transition-colors text-left ${(r==null?void 0:r.id)===N.id?"bg-blue-50":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:s.jsx(Nr,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:N.contact_name}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(N.last_message_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:N.last_message}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:N.phone}),N.unread_count>0&&s.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-0.5",children:N.unread_count})]})]})]})},N.id))})]}),s.jsx(JA,{className:"flex-1 flex flex-col p-0 overflow-hidden",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Nr,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:r.contact_name}),s.jsx("p",{className:"text-sm text-gray-500",children:r.phone})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:p,className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[s.jsx(at,{className:"w-4 h-4"}),"Criar OS"]}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(oa,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx($9,{className:"w-5 h-5 text-gray-600"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:a.length===0?s.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[s.jsx(dm,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"Nenhuma mensagem ainda"})]}):s.jsxs("div",{className:"space-y-4",children:[a.map(N=>s.jsx("div",{className:`flex ${N.direction==="outbound"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${N.direction==="outbound"?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[s.jsx("p",{className:"text-sm",children:N.content}),s.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[s.jsx("span",{className:"text-xs opacity-70",children:new Date(N.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),N.direction==="outbound"&&s.jsx("span",{className:"opacity-70",children:b(N.status)})]})]})},N.id)),s.jsx("div",{ref:A})]})}),s.jsxs("div",{className:"p-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(yt,{className:"w-5 h-5 text-gray-600"})}),s.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),onKeyPress:N=>N.key==="Enter"&&g(),placeholder:"Digite uma mensagem...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:g,disabled:!o.trim(),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(ja,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Use templates rpidos ou crie uma OS diretamente da conversa"})]})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(dm,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),s.jsx("p",{className:"text-lg font-medium",children:"Selecione uma conversa"}),s.jsx("p",{className:"text-sm mt-1",children:"Escolha um contato para iniciar"})]})})})]})}function Qze(){const[t,e]=B.useState(null),[r,n]=B.useState([]),[a,i]=B.useState(!0),[o,l]=B.useState(new Date);B.useEffect(()=>{c()},[]);const c=async()=>{i(!0);try{const u=new Date,h=new Date(u.getTime()-24*60*60*1e3),A=new Date(u.getTime()-7*24*60*60*1e3),m=new Date(u.getTime()-30*24*60*60*1e3),{data:x}=await ae.from("thomaz_conversations").select("id",{count:"exact"}).gte("created_at",h.toISOString()),{data:g}=await ae.from("thomaz_conversations").select("id",{count:"exact"}).gte("created_at",A.toISOString()),{data:p}=await ae.from("thomaz_conversations").select("id",{count:"exact"}).gte("created_at",m.toISOString()),{data:f}=await ae.from("thomaz_conversations").select("confidence_score").gte("created_at",A.toISOString()),y=f!=null&&f.length?f.reduce((H,U)=>H+(U.confidence_score||0),0)/f.length:0,b=(f==null?void 0:f.filter(H=>(H.confidence_score||0)>.7).length)||0,N=f!=null&&f.length?b/f.length*100:0,{data:v,count:C}=await ae.from("thomaz_knowledge_sources").select("id",{count:"exact"}).eq("is_active",!0),{data:P,count:_}=await ae.from("thomaz_knowledge_chunks").select("id",{count:"exact"}),k=new Date(u.getTime()-60*60*1e3),{data:M,count:j}=await ae.from("thomaz_conversations").select("session_id",{count:"exact"}).gte("updated_at",k.toISOString()),{data:S}=await ae.from("thomaz_conversations").select("response_time").gte("created_at",A.toISOString()).not("response_time","is",null),F=S!=null&&S.length?S.reduce((H,U)=>H+(U.response_time||0),0)/S.length:0,O=x?x.length/24:0;e({conversations_24h:(x==null?void 0:x.length)||0,conversations_7d:(g==null?void 0:g.length)||0,conversations_30d:(p==null?void 0:p.length)||0,avg_confidence:y*100,high_confidence_rate:N,total_documents:C||0,total_chunks:_||0,active_sessions:j||0,avg_response_time:F,queries_per_hour:O}),n([{query:"Como criar uma ordem de servio?",count:45,avg_confidence:92},{query:"Qual o estoque do material X?",count:38,avg_confidence:95},{query:"Relatrio financeiro do ms",count:32,avg_confidence:88},{query:"Funcionrios disponveis hoje",count:28,avg_confidence:91},{query:"Cliente com mais OSs",count:24,avg_confidence:94}]),l(new Date)}catch(u){console.error("Erro ao carregar mtricas:",u)}finally{i(!1)}};return t?t.avg_confidence>=70?{status:"healthy",color:"green",label:"Saudvel"}:t.avg_confidence>=50?{status:"warning",color:"yellow",label:"Ateno"}:{status:"critical",color:"red",label:"Crtico"}:{status:"unknown",color:"gray",label:"Desconhecido"},a?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(As,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando mtricas do Thomaz..."})]})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[s.jsx(lm,{className:"w-8 h-8 text-blue-600"}),"Thomaz Metrics"]}),s.jsx("p",{className:"text-gray-600",children:"Performance e analytics da inteligncia artificial"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(As,{className:"w-4 h-4"}),"Atualizar"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs(JA,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(dm,{className:"w-8 h-8 text-blue-600"}),s.jsx("span",{className:"text-sm text-gray-500",children:"24h"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(t==null?void 0:t.conversations_24h)||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Conversas (24h)"})]}),s.jsxs(JA,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Nd,{className:"w-8 h-8 text-green-600"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Confiana"})]}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[((t==null?void 0:t.avg_confidence)||0).toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Confiana Mdia"})]}),s.jsxs(JA,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Tm,{className:"w-8 h-8 text-purple-600"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Base"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(t==null?void 0:t.total_documents)||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Documentos Ativos"})]}),s.jsxs(JA,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(di,{className:"w-8 h-8 text-orange-600"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Performance"})]}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[((t==null?void 0:t.avg_response_time)||0).toFixed(0),"ms"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tempo Mdio"})]})]})]})}const $ze=({isOpen:t,onClose:e,onSave:r,entryId:n})=>{const[a,i]=B.useState(!1),[o,l]=B.useState([]),[c,d]=B.useState([]),[u,h]=B.useState([]),[A,m]=B.useState([]),[x,g]=B.useState([]),[p,f]=B.useState({descricao:"",valor:0,tipo:"receita",status:"a_receber",data:new Date().toISOString().split("T")[0],data_vencimento:new Date().toISOString().split("T")[0],customer_id:"",supplier_id:"",categoria:"",category_id:"",subcategory_id:"",forma_pagamento:"dinheiro",bank_account_id:"",observacoes:"",recorrente:!1,frequencia_recorrencia:"mensal",data_fim_recorrencia:""});B.useEffect(()=>{y(),b(),v(),C(),n&&P()},[n]),B.useEffect(()=>{p.category_id?N(p.category_id):(h([]),f(k=>({...k,subcategory_id:""})))},[p.category_id]);const y=async()=>{try{const{data:k}=await ae.from("customers").select("id, nome_razao").order("nome_razao");l(k||[])}catch(k){console.error("Error loading customers:",k)}},b=async()=>{try{const{data:k}=await ae.from("financial_categories").select("*").eq("active",!0).is("parent_id",null).order("name");d(k||[])}catch(k){console.error("Error loading categories:",k)}},N=async k=>{try{const{data:M}=await ae.from("financial_categories").select("*").eq("active",!0).eq("parent_id",k).order("name");h(M||[])}catch(M){console.error("Error loading subcategories:",M),h([])}},v=async()=>{try{const{data:k}=await ae.from("suppliers").select("id, name, cnpj, active").eq("active",!0).order("name");m(k||[])}catch(k){console.error("Error loading suppliers:",k)}},C=async()=>{try{const{data:k}=await ae.from("bank_accounts").select("id, account_name, bank_name, balance, active, is_default").eq("active",!0).order("is_default",{ascending:!1,nullsFirst:!1}).order("account_name",{ascending:!0});if(g(k||[]),k&&k.length>0&&!n){const M=k.find(j=>j.is_default);M&&f(j=>({...j,bank_account_id:M.id}))}}catch(k){console.error("Error loading bank accounts:",k)}},P=async()=>{var k,M,j;if(n)try{const{data:S}=await ae.from("finance_entries").select("*").eq("id",n).single();S&&f({descricao:S.descricao||"",valor:S.valor||0,tipo:S.tipo||"receita",status:S.status||"a_receber",data:((k=S.data)==null?void 0:k.split("T")[0])||"",data_vencimento:((M=S.data_vencimento)==null?void 0:M.split("T")[0])||"",customer_id:S.customer_id||"",supplier_id:S.supplier_id||"",categoria:S.categoria||"",category_id:S.category_id||"",subcategory_id:S.subcategory_id||"",forma_pagamento:S.forma_pagamento||"dinheiro",bank_account_id:S.bank_account_id||"",observacoes:S.observacoes||"",recorrente:S.recorrente||!1,frequencia_recorrencia:S.frequencia_recorrencia||"mensal",data_fim_recorrencia:((j=S.data_fim_recorrencia)==null?void 0:j.split("T")[0])||""})}catch(S){console.error("Error loading entry:",S)}},_=async()=>{try{if(!p.descricao||p.valor<=0){alert("Preencha a descrio e o valor!");return}i(!0);const k={descricao:p.descricao,valor:Number(p.valor),tipo:p.tipo,status:p.status,data:p.data,data_vencimento:p.data_vencimento||null,customer_id:p.customer_id||null,supplier_id:p.supplier_id||null,categoria:p.categoria||null,category_id:p.category_id||null,subcategory_id:p.subcategory_id||null,forma_pagamento:p.forma_pagamento,bank_account_id:p.bank_account_id||null,observacoes:p.observacoes||null};p.recorrente?(k.intervalo_recorrencia=p.frequencia_recorrencia,k.data_fim_recorrencia=p.data_fim_recorrencia||null):(k.intervalo_recorrencia=null,k.data_fim_recorrencia=null);let M;if(n?M=await ae.from("finance_entries").update(k).eq("id",n).select():M=await ae.from("finance_entries").insert([k]).select(),M.error)throw console.error("Database error:",M.error),new Error(M.error.message);alert(n?"Lanamento atualizado com sucesso!":"Lanamento criado com sucesso!"),r(),e()}catch(k){console.error("Error saving:",k),alert(`Erro ao salvar lanamento: ${k.message||"Erro desconhecido"}`)}finally{i(!1)}};return B.useEffect(()=>{p.tipo==="receita"?(p.status==="pago"||p.status==="a_pagar")&&f(k=>({...k,status:k.status==="pago"?"recebido":"a_receber"})):(p.status==="recebido"||p.status==="a_receber")&&f(k=>({...k,status:k.status==="recebido"?"pago":"a_pagar"}))},[p.tipo]),t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Lanamento":"Novo Lanamento"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Controle de receitas e despesas"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("label",{className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${p.tipo==="receita"?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"}`,children:[s.jsx("input",{type:"radio",checked:p.tipo==="receita",onChange:()=>f({...p,tipo:"receita"}),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pr,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Receita"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Entrada de dinheiro"})]})]})]})}),s.jsx("label",{className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${p.tipo==="despesa"?"border-red-500 bg-red-50":"border-gray-300 hover:border-red-300"}`,children:[s.jsx("input",{type:"radio",checked:p.tipo==="despesa",onChange:()=>f({...p,tipo:"despesa"}),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fo,{className:"h-6 w-6 text-red-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Despesa"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Sada de dinheiro"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio *"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:p.descricao,onChange:k=>f({...p,descricao:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pagamento de servio - OS #123"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valor *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"number",value:p.valor,onChange:k=>f({...p,valor:parseFloat(k.target.value)||0}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0,00",step:"0.01",min:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),s.jsx("select",{value:p.status,onChange:k=>f({...p,status:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:p.tipo==="receita"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"a_receber",children:"A Receber"}),s.jsx("option",{value:"recebido",children:"Recebido"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"a_pagar",children:"A Pagar"}),s.jsx("option",{value:"pago",children:"Pago"})]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Data ",p.status==="recebido"||p.status==="pago"?"do Pagamento":"de Lanamento"]}),s.jsxs("div",{className:"relative",children:[s.jsx(lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",value:p.data,onChange:k=>f({...p,data:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Vencimento"}),s.jsxs("div",{className:"relative",children:[s.jsx(lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",value:p.data_vencimento,onChange:k=>f({...p,data_vencimento:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),p.tipo==="receita"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente (Opcional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:p.customer_id,onChange:k=>f({...p,customer_id:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(k=>s.jsx("option",{value:k.id,children:k.nome_razao},k.id))]})]})]}),p.tipo==="despesa"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fornecedor (Opcional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:p.supplier_id,onChange:k=>f({...p,supplier_id:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um fornecedor..."}),A.map(k=>s.jsxs("option",{value:k.id,children:[k.name," ",k.cnpj?`- ${k.cnpj}`:""]},k.id))]})]})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),s.jsxs("select",{value:p.category_id,onChange:k=>f({...p,category_id:k.target.value,subcategory_id:""}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma categoria..."}),c.filter(k=>k.type===p.tipo).map(k=>s.jsxs("option",{value:k.id,children:[k.icon," ",k.name]},k.id))]})]}),p.category_id&&u.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subcategoria"}),s.jsxs("select",{value:p.subcategory_id,onChange:k=>f({...p,subcategory_id:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma subcategoria..."}),u.map(k=>s.jsxs("option",{value:k.id,children:[k.icon," ",k.name]},k.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:p.forma_pagamento,onChange:k=>f({...p,forma_pagamento:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),s.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"transferencia",children:"Transferncia"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[s.jsx(Hr,{className:"h-4 w-4"}),"Conta Bancria"]}),s.jsxs("select",{value:p.bank_account_id,onChange:k=>f({...p,bank_account_id:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{value:"",children:"Selecione uma conta..."}),x.map(k=>{var M;return s.jsxs("option",{value:k.id,children:[k.is_default?" ":"",k.bank_name," - ",k.account_name," (Saldo: R$ ",((M=k.balance)==null?void 0:M.toFixed(2))||"0,00",")"]},k.id)})]}),p.status==="pago"||p.status==="recebido"?s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" O saldo ser atualizado automaticamente"}):s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x.find(k=>k.is_default)&&s.jsx("span",{children:" = Conta Padro  "}),"Selecione a conta para controlar o saldo"]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),s.jsx("textarea",{value:p.observacoes,onChange:k=>f({...p,observacoes:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais sobre este lanamento..."})]}),s.jsxs("div",{className:"md:col-span-2 border-t pt-4 mt-4",children:[s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:"recorrente",checked:p.recorrente,onChange:k=>f({...p,recorrente:k.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("label",{htmlFor:"recorrente",className:"block text-sm font-semibold text-blue-900 cursor-pointer",children:["Lanamento Recorrente / Provisionado ",s.jsx("span",{className:"text-blue-600",children:"(Opcional)"})]}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Marque esta opo se este lanamento se repete periodicamente (ex: aluguel, salrios) ou se deseja provisionar para o futuro"})]})]})}),p.recorrente&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6 border-l-2 border-blue-200",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequncia"}),s.jsxs("select",{value:p.frequencia_recorrencia,onChange:k=>f({...p,frequencia_recorrencia:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"semanal",children:"Semanal"}),s.jsx("option",{value:"quinzenal",children:"Quinzenal"}),s.jsx("option",{value:"mensal",children:"Mensal"}),s.jsx("option",{value:"bimestral",children:"Bimestral"}),s.jsx("option",{value:"trimestral",children:"Trimestral"}),s.jsx("option",{value:"semestral",children:"Semestral"}),s.jsx("option",{value:"anual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Fim da Recorrncia"}),s.jsx("input",{type:"date",value:p.data_fim_recorrencia,onChange:k=>f({...p,data_fim_recorrencia:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:p.data}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para recorrncia indefinida"})]})]})]})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:_,disabled:a,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:a?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-5 w-5"}),"Salvar Lanamento"]})})]})]})}):null},aX=()=>{const[t,e]=B.useState([]),[r,n]=B.useState({totalReceitas:0,totalDespesas:0,saldo:0,contasReceber:0,contasPagar:0,receitasMes:0,despesasMes:0,valorEstoque:0}),[a,i]=B.useState(!0),[o,l]=B.useState("all"),[c,d]=B.useState("all"),[u,h]=B.useState(""),[A,m]=B.useState("all"),[x,g]=B.useState(""),[p,f]=B.useState(""),[y,b]=B.useState(""),[N,v]=B.useState(""),[C,P]=B.useState("data"),[_,k]=B.useState("desc"),[M,j]=B.useState(1),[S,F]=B.useState([]),O=15,[H,U]=B.useState(!1),[z,R]=B.useState(void 0);B.useEffect(()=>{K(),I()},[]),B.useEffect(()=>{K()},[C,_]);const I=async()=>{try{const{data:J,error:ue}=await ae.from("financial_categories").select("*").eq("active",!0).order("name");if(ue)throw ue;F(J||[])}catch(J){console.error("Error loading categories:",J)}},K=async(J=!1)=>{try{i(!0);const{data:ue,error:ke}=await ae.from("finance_entries").select("*").order(C,{ascending:_==="asc"});if(ke)throw ke;console.log("Loaded finance entries:",ue==null?void 0:ue.length),e(ue||[]),await Q(ue||[])}catch(ue){console.error("Error loading financial data:",ue)}finally{i(!1)}},te=async(J,ue)=>{if(confirm(`Tem certeza que deseja excluir o lanamento "${ue}"?

Esta ao  irreversvel e ter efeito cascata em registros relacionados.`))try{const{error:ke}=await ae.from("finance_entries").delete().eq("id",J);if(ke)throw ke;alert("Lanamento excludo com sucesso!"),await K()}catch(ke){console.error("Error deleting entry:",ke),alert("Erro ao excluir lanamento. Verifique se no h registros relacionados.")}},Q=async J=>{const ue=J.filter(je=>je.tipo==="receita"&&je.status==="recebido").reduce((je,Me)=>je+Number(Me.valor),0),ke=J.filter(je=>je.tipo==="despesa"&&je.status==="pago").reduce((je,Me)=>je+Number(Me.valor),0),Qe=J.filter(je=>je.tipo==="receita"&&je.status==="a_receber").reduce((je,Me)=>je+Number(Me.valor),0),we=J.filter(je=>je.tipo==="despesa"&&je.status==="a_pagar").reduce((je,Me)=>je+Number(Me.valor),0),q=new Date,Ne=q.getMonth(),Be=q.getFullYear(),Z=J.filter(je=>{const Me=new Date(je.data);return je.tipo==="receita"&&je.status==="recebido"&&Me.getMonth()===Ne&&Me.getFullYear()===Be}).reduce((je,Me)=>je+Number(Me.valor),0),pe=J.filter(je=>{const Me=new Date(je.data);return je.tipo==="despesa"&&je.status==="pago"&&Me.getMonth()===Ne&&Me.getFullYear()===Be}).reduce((je,Me)=>je+Number(Me.valor),0);let De=0;try{const{data:je,error:Me}=await ae.from("inventory_items").select("quantity, unit_price").eq("active",!0);!Me&&je&&(De=je.reduce((rt,Pe)=>rt+Number(Pe.quantity||0)*Number(Pe.unit_price||0),0))}catch(je){console.error("Error calculating inventory value:",je)}n({totalReceitas:ue,totalDespesas:ke,saldo:ue-ke,contasReceber:Qe,contasPagar:we,receitasMes:Z,despesasMes:pe,valorEstoque:De})},D=J=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(J),X=J=>{if(!J)return"-";const ue=new Date(J),ke=String(ue.getDate()).padStart(2,"0"),Qe=String(ue.getMonth()+1).padStart(2,"0"),we=ue.getFullYear();return`${ke}/${Qe}/${we}`},V=J=>{switch(J){case"recebido":case"pago":return s.jsx(es,{className:"h-4 w-4 text-green-600"});case"a_receber":case"a_pagar":return s.jsx(Dt,{className:"h-4 w-4 text-yellow-600"});default:return s.jsx(Rn,{className:"h-4 w-4 text-gray-400"})}},de=J=>({recebido:"Recebido",pago:"Pago",a_receber:"A Receber",a_pagar:"A Pagar"})[J]||J,le=J=>J==="receita"?"Income":"Expense",ie=t.filter(J=>{var pe;const ue=o==="all"||J.tipo===o,ke=c==="all"||J.status===c,Qe=!u||((pe=J.descricao)==null?void 0:pe.toLowerCase().includes(u.toLowerCase())),we=A==="all"||J.categoria===A||J.category===A,q=new Date(J.data),Ne=!x||q.getMonth()+1===parseInt(x),Be=!p||q.getFullYear()===parseInt(p),Z=(!y||J.data>=y)&&(!N||J.data<=N);return ue&&ke&&Qe&&we&&Ne&&Be&&Z}),ce=Math.ceil(ie.length/O),be=ie.slice((M-1)*O,M*O);return a?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando dados financeiros..."})]})}):s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-8 w-8 text-green-600"}),"Gesto Financeira"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Receitas, despesas e DRE"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(vo,{to:"/financial-integration",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(Hr,{className:"h-4 w-4"}),"Ver Dashboard Financeiro"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(pr,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Receitas"})]}),s.jsx("div",{className:"text-3xl font-bold",children:D(r.totalReceitas)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[D(r.receitasMes)," este ms"]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(fo,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Despesas"})]}),s.jsx("div",{className:"text-3xl font-bold",children:D(r.totalDespesas)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[D(r.despesasMes)," este ms"]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Yt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Saldo"})]}),s.jsx("div",{className:"text-3xl font-bold",children:D(r.saldo)}),s.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Resultado lquido"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Dt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Pendncias"})]}),s.jsx("div",{className:"text-3xl font-bold",children:D(r.contasReceber+r.contasPagar)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[" ",D(r.contasReceber)," |  ",D(r.contasPagar)]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Bt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Estoque"})]}),s.jsx("div",{className:"text-3xl font-bold",children:D(r.valorEstoque)}),s.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Valor total em materiais"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(gh,{className:"h-5 w-5"}),"Filtros Avanados"]}),s.jsx("button",{onClick:()=>{l("all"),d("all"),h(""),m("all"),g(""),f(""),b(""),v(""),P("data"),k("desc"),j(1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Limpar Filtros"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:u,onChange:J=>{h(J.target.value),j(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsxs("select",{value:o,onChange:J=>{l(J.target.value),j(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os tipos"}),s.jsx("option",{value:"receita",children:"Receitas"}),s.jsx("option",{value:"despesa",children:"Despesas"})]}),s.jsxs("select",{value:c,onChange:J=>{d(J.target.value),j(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os status"}),s.jsx("option",{value:"recebido",children:"Recebido"}),s.jsx("option",{value:"pago",children:"Pago"}),s.jsx("option",{value:"a_receber",children:"A Receber"}),s.jsx("option",{value:"a_pagar",children:"A Pagar"})]}),s.jsxs("select",{value:A,onChange:J=>{m(J.target.value),j(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todas as categorias"}),S.map(J=>s.jsx("option",{value:J.id,children:J.name},J.id))]}),s.jsxs("select",{value:x,onChange:J=>{g(J.target.value),j(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todos os meses"}),s.jsx("option",{value:"1",children:"Janeiro"}),s.jsx("option",{value:"2",children:"Fevereiro"}),s.jsx("option",{value:"3",children:"Maro"}),s.jsx("option",{value:"4",children:"Abril"}),s.jsx("option",{value:"5",children:"Maio"}),s.jsx("option",{value:"6",children:"Junho"}),s.jsx("option",{value:"7",children:"Julho"}),s.jsx("option",{value:"8",children:"Agosto"}),s.jsx("option",{value:"9",children:"Setembro"}),s.jsx("option",{value:"10",children:"Outubro"}),s.jsx("option",{value:"11",children:"Novembro"}),s.jsx("option",{value:"12",children:"Dezembro"})]}),s.jsxs("select",{value:p,onChange:J=>{f(J.target.value),j(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todos os anos"}),[2024,2025,2026].map(J=>s.jsx("option",{value:J,children:J},J))]}),s.jsx("input",{type:"date",value:y,onChange:J=>{b(J.target.value),j(1)},placeholder:"Data incio",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"date",value:N,onChange:J=>{v(J.target.value),j(1)},placeholder:"Data fim",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ordenar por:"}),s.jsxs("select",{value:C,onChange:J=>P(J.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[s.jsx("option",{value:"data",children:"Data"}),s.jsx("option",{value:"valor",children:"Valor"}),s.jsx("option",{value:"created_at",children:"Data de Criao"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>k("asc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${_==="asc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Crescente"}),s.jsx("button",{onClick:()=>k("desc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${_==="desc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Decrescente"})]})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Mostrando ",be.length," de ",ie.length," lanamentos"]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lanamentos"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Exportar"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>K(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",title:"Atualizar dados",children:[s.jsx(As,{className:"h-4 w-4"}),"Atualizar"]}),s.jsxs("button",{onClick:()=>{R(void 0),U(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Novo Lanamento"]})]})]})]}),s.jsx("div",{className:"space-y-2",children:be.map(J=>s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:`p-3 rounded-lg ${J.tipo==="receita"?"bg-green-100":"bg-red-100"}`,children:s.jsx(at,{className:`h-5 w-5 ${J.tipo==="receita"?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:J.descricao}),s.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${J.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:le(J.tipo)})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[V(J.status),s.jsx("span",{className:"text-sm text-gray-600",children:de(J.status)})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg font-bold ${J.tipo==="receita"?"text-green-600":"text-red-600"}`,children:[J.tipo==="receita"?"+":"-"," ",D(Number(J.valor))]}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 justify-end",children:[s.jsx(lr,{className:"h-3 w-3"}),X(J.data)]})]}),s.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>{R(J.id),U(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Editar lanamento",children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>te(J.id,J.descricao),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir lanamento",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]})]})},J.id))}),ie.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(at,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum lanamento encontrado"})]}),ie.length>O&&s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",M," de ",ce]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>j(Math.max(1,M-1)),disabled:M===1,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:ce},(J,ue)=>ue+1).filter(J=>J===1||J===ce||J>=M-1&&J<=M+1).map((J,ue,ke)=>s.jsxs("div",{className:"flex items-center",children:[ue>0&&ke[ue-1]!==J-1&&s.jsx("span",{className:"px-2 text-gray-400",children:"..."}),s.jsx("button",{onClick:()=>j(J),className:`px-3 py-2 rounded-lg ${M===J?"bg-blue-600 text-white":"border hover:bg-gray-50"}`,children:J})]},J))}),s.jsx("button",{onClick:()=>j(Math.min(ce,M+1)),disabled:M===ce,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prxima"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dt,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"ltima Sincronizao"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Agora"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:"Plano Atual: Premium"})})]}),s.jsx($ze,{isOpen:H,onClose:()=>{U(!1),R(void 0)},onSave:()=>{K(),U(!1),R(void 0)},entryId:z})]})};bh.register(Lm,Um,Xu,po,bm,Iu,nj,sj,rj,tj);const iX=()=>{const[t,e]=B.useState([]),[r,n]=B.useState(null),[a,i]=B.useState(null),[o,l]=B.useState(""),[c,d]=B.useState(""),[u,h]=B.useState([]),[A,m]=B.useState(!1),[x,g]=B.useState({ebitda:0,ebitda_margin:0,gross_margin:0,operating_margin:0,net_margin:0,working_capital:0,current_ratio:0,roi:0,operating_cash_flow:0,net_cash_flow:0}),[p,f]=B.useState(null),[y,b]=B.useState(null),[N,v]=B.useState({total_revenue:0,total_expenses:0,net_result:0,cash_inflow:0,cash_outflow:0,net_cash_flow:0,accounts_receivable:0,accounts_payable:0}),[C,P]=B.useState([]),[_,k]=B.useState(!0),[M,j]=B.useState(!1);B.useEffect(()=>{S(),H()},[]),B.useEffect(()=>{o&&c&&F()},[o,c]),B.useEffect(()=>{A&&a&&O()},[A,a]),B.useEffect(()=>{r&&U()},[r]);const S=async()=>{try{const{data:ie,error:ce}=await ae.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!1});if(ce)throw ce;if(e(ie||[]),ie&&ie.length>0){const be=[...new Set(ie.map(we=>we.fiscal_year))].sort((we,q)=>q-we);h(be);const J=new Date,ue=J.getFullYear(),ke=(J.getMonth()+1).toString().padStart(2,"0");d(ue.toString()),l(ke);const Qe=ie.find(we=>we.fiscal_year===ue&&we.start_date.startsWith(`${ue}-${ke}`));n(Qe||ie[0])}}catch(ie){console.error("Error loading periods:",ie)}finally{k(!1)}},F=()=>{if(!o||!c)return;const ie=t.find(ce=>ce.fiscal_year===parseInt(c)&&ce.start_date.startsWith(`${c}-${o}`));ie&&n(ie)},O=async()=>{var ie,ce,be,J,ue,ke,Qe,we,q,Ne,Be,Z,pe,De,je,Me,rt,Pe,fe,Ve,ze,ct,Ct;if(a)try{const[Ze,hr,It,en,cr]=await Promise.all([ae.rpc("calculate_ebitda",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),ae.rpc("calculate_roi",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),ae.from("v_consolidated_financial_summary").select("*").eq("period_id",a.id).maybeSingle(),ae.from("v_margin_analysis").select("*").eq("period_id",a.id).maybeSingle(),ae.rpc("calculate_working_capital_consolidated",{p_period_id:a.id})]);f({ebitda:((ce=(ie=Ze.data)==null?void 0:ie[0])==null?void 0:ce.ebitda)||0,ebitda_margin:((J=(be=Ze.data)==null?void 0:be[0])==null?void 0:J.ebitda_margin)||0,gross_margin:((ue=en.data)==null?void 0:ue.gross_margin_percent)||0,operating_margin:((ke=en.data)==null?void 0:ke.operating_margin_percent)||0,net_margin:0,working_capital:((we=(Qe=cr.data)==null?void 0:Qe[0])==null?void 0:we.working_capital)||0,current_ratio:((Ne=(q=cr.data)==null?void 0:q[0])==null?void 0:Ne.current_ratio)||0,roi:((Z=(Be=hr.data)==null?void 0:Be[0])==null?void 0:Z.roi_percent)||0,operating_cash_flow:((pe=It.data)==null?void 0:pe.net_cash_flow)||0,net_cash_flow:((De=It.data)==null?void 0:De.net_cash_flow)||0}),b({total_revenue:((je=It.data)==null?void 0:je.total_revenue)||0,total_expenses:((Me=It.data)==null?void 0:Me.total_expenses)||0,net_result:(((rt=It.data)==null?void 0:rt.total_revenue)||0)-(((Pe=It.data)==null?void 0:Pe.total_expenses)||0),cash_inflow:((fe=It.data)==null?void 0:fe.total_revenue)||0,cash_outflow:((Ve=It.data)==null?void 0:Ve.total_expenses)||0,net_cash_flow:((ze=It.data)==null?void 0:ze.net_cash_flow)||0,accounts_receivable:((ct=It.data)==null?void 0:ct.accounts_receivable)||0,accounts_payable:((Ct=It.data)==null?void 0:Ct.accounts_payable)||0})}catch(Ze){console.error("Error calculating comparison indicators:",Ze)}},H=async()=>{try{const{data:ie,error:ce}=await ae.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!0}).limit(12);if(ce)throw ce;const be=await Promise.all((ie||[]).map(async J=>{const{data:ue}=await ae.from("v_consolidated_financial_summary").select("*").eq("period_id",J.id).maybeSingle();return{...J,...ue}}));P(be)}catch(ie){console.error("Error loading monthly data:",ie)}},U=async()=>{var ie,ce,be,J,ue,ke,Qe,we,q,Ne,Be,Z,pe,De,je,Me,rt,Pe,fe,Ve,ze,ct;if(r)try{j(!0);const[Ct,Ze,hr,It,en]=await Promise.all([ae.rpc("calculate_ebitda",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),ae.rpc("calculate_roi",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),ae.from("v_consolidated_financial_summary").select("*").eq("period_id",r.id).maybeSingle(),ae.from("v_margin_analysis").select("*").eq("period_id",r.id).maybeSingle(),ae.rpc("calculate_working_capital_consolidated",{p_period_id:r.id})]);g({ebitda:((ce=(ie=Ct.data)==null?void 0:ie[0])==null?void 0:ce.ebitda)||0,ebitda_margin:((J=(be=Ct.data)==null?void 0:be[0])==null?void 0:J.ebitda_margin)||0,gross_margin:((ue=It.data)==null?void 0:ue.gross_margin_percent)||0,operating_margin:((ke=It.data)==null?void 0:ke.operating_margin_percent)||0,net_margin:0,working_capital:((we=(Qe=en.data)==null?void 0:Qe[0])==null?void 0:we.working_capital)||0,current_ratio:((Ne=(q=en.data)==null?void 0:q[0])==null?void 0:Ne.current_ratio)||0,roi:((Z=(Be=Ze.data)==null?void 0:Be[0])==null?void 0:Z.roi_percent)||0,operating_cash_flow:((pe=hr.data)==null?void 0:pe.net_cash_flow)||0,net_cash_flow:((De=hr.data)==null?void 0:De.net_cash_flow)||0}),v({total_revenue:((je=hr.data)==null?void 0:je.total_revenue)||0,total_expenses:((Me=hr.data)==null?void 0:Me.total_expenses)||0,net_result:((rt=hr.data)==null?void 0:rt.net_result)||0,cash_inflow:((Pe=hr.data)==null?void 0:Pe.cash_inflow)||0,cash_outflow:((fe=hr.data)==null?void 0:fe.cash_outflow)||0,net_cash_flow:((Ve=hr.data)==null?void 0:Ve.net_cash_flow)||0,accounts_receivable:((ze=hr.data)==null?void 0:ze.accounts_receivable)||0,accounts_payable:((ct=hr.data)==null?void 0:ct.accounts_payable)||0})}catch(Ct){console.error("Error calculating indicators:",Ct)}finally{j(!1)}},z=ie=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(ie),R=ie=>`${ie.toFixed(1)}%`,I=ie=>ie>0?s.jsx(im,{className:"h-4 w-4 text-green-600"}):ie<0?s.jsx(w2,{className:"h-4 w-4 text-red-600"}):s.jsx(v0,{className:"h-4 w-4 text-gray-400"}),K=(ie,ce)=>ce==="margin"||ce==="ratio"?ie>=20?"text-green-600":ie>=10?"text-blue-600":ie>=0?"text-yellow-600":"text-red-600":ie>=0?"text-green-600":"text-red-600",te={labels:C.map(ie=>{var ce;return((ce=ie.period_name)==null?void 0:ce.split("/")[0])||""}),datasets:[{label:"Receitas",data:C.map(ie=>ie.total_revenue||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:C.map(ie=>ie.total_expenses||0),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]},Q={labels:C.map(ie=>{var ce;return((ce=ie.period_name)==null?void 0:ce.split("/")[0])||""}),datasets:[{label:"Resultado Lquido",data:C.map(ie=>ie.net_result||0),backgroundColor:C.map(ie=>(ie.net_result||0)>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)"),borderColor:C.map(ie=>(ie.net_result||0)>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)"),borderWidth:2}]},D={labels:C.map(ie=>{var ce;return((ce=ie.period_name)==null?void 0:ce.split("/")[0])||""}),datasets:[{label:"Entradas",data:C.map(ie=>ie.cash_inflow||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:2},{label:"Sadas",data:C.map(ie=>ie.cash_outflow||0),backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgb(168, 85, 247)",borderWidth:2}]},X={labels:["Receitas","Despesas"],datasets:[{data:[N.total_revenue,N.total_expenses],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(239, 68, 68)"],borderWidth:2}]},V={labels:["A Receber","A Pagar"],datasets:[{data:[N.accounts_receivable,N.accounts_payable],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(251, 146, 60)"],borderWidth:2}]},de={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12}}},tooltip:{callbacks:{label:ie=>{let ce=ie.dataset.label||"";return ce&&(ce+=": "),ce+=z(ie.parsed.y||ie.parsed),ce}}}},scales:{y:{beginAtZero:!0,ticks:{callback:ie=>z(ie)}}}},le=({title:ie,value:ce,icon:be,type:J="currency",description:ue})=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:s.jsx(be,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:ie}),ue&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ue})]})]}),I(ce)]}),s.jsxs("div",{className:`text-3xl font-bold ${K(ce,J==="percent"?"margin":J)}`,children:[J==="currency"&&z(ce),J==="percent"&&R(ce),J==="ratio"&&ce.toFixed(2)]})]});return _?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(As,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Carregando anlise financeira..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(dd,{className:"h-10 w-10 text-blue-600"}),"Anlise Financeira Avanada"]}),s.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Dados consolidados: Ordens de Servio, Estoque, Compras, Folha, Equipamentos e Lanamentos"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(vo,{to:"/financial",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(Pu,{className:"h-4 w-4"}),"Dashboard Integrado"]}),s.jsxs("button",{onClick:U,disabled:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(As,{className:`h-4 w-4 ${M?"animate-spin":""}`}),"Recalcular"]}),s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Exportar"]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lr,{className:"h-6 w-6 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Seleo de Perodo"})]}),s.jsx("button",{onClick:()=>m(!A),className:`px-4 py-2 rounded-lg font-medium transition-colors ${A?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:A?"Modo Comparao Ativo":"Ativar Comparao"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Perodo Principal"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ms"}),s.jsxs("select",{value:o,onChange:ie=>l(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"01",children:"Janeiro"}),s.jsx("option",{value:"02",children:"Fevereiro"}),s.jsx("option",{value:"03",children:"Maro"}),s.jsx("option",{value:"04",children:"Abril"}),s.jsx("option",{value:"05",children:"Maio"}),s.jsx("option",{value:"06",children:"Junho"}),s.jsx("option",{value:"07",children:"Julho"}),s.jsx("option",{value:"08",children:"Agosto"}),s.jsx("option",{value:"09",children:"Setembro"}),s.jsx("option",{value:"10",children:"Outubro"}),s.jsx("option",{value:"11",children:"Novembro"}),s.jsx("option",{value:"12",children:"Dezembro"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ano"}),s.jsx("select",{value:c,onChange:ie=>d(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(ie=>s.jsx("option",{value:ie,children:ie},ie))})]})]}),r&&s.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["Analisando: ",s.jsx("span",{className:"font-semibold text-blue-700",children:r.period_name})]})]}),A&&s.jsxs("div",{className:"space-y-4 border-l-2 border-blue-200 pl-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comparar Com"}),s.jsxs("select",{value:(a==null?void 0:a.id)||"",onChange:ie=>{const ce=t.find(be=>be.id===ie.target.value);i(ce||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione um perodo"}),t.filter(ie=>ie.id!==(r==null?void 0:r.id)).map(ie=>s.jsx("option",{value:ie.id,children:ie.period_name},ie.id))]}),a&&s.jsxs("div",{className:"text-sm text-gray-600 bg-green-50 p-3 rounded-lg",children:["Comparando com: ",s.jsx("span",{className:"font-semibold text-green-700",children:a.period_name})]})]})]})]})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(pr,{className:"h-6 w-6 text-green-600"}),"Indicadores de Rentabilidade"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(le,{title:"EBITDA",value:x.ebitda,icon:di,type:"currency",description:"Lucro operacional"}),s.jsx(le,{title:"Margem EBITDA",value:x.ebitda_margin,icon:pr,type:"percent",description:"% sobre receita"}),s.jsx(le,{title:"Margem Bruta",value:x.gross_margin,icon:Ev,type:"percent",description:"Receita - Custos"}),s.jsx(le,{title:"Margem Operacional",value:x.operating_margin,icon:Pu,type:"percent",description:"Eficincia operacional"})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Yt,{className:"h-6 w-6 text-blue-600"}),"Capital de Giro e Performance"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(le,{title:"Capital de Giro",value:x.working_capital,icon:dd,type:"currency",description:"Recursos para operao"}),s.jsx(le,{title:"Liquidez Corrente",value:x.current_ratio,icon:pr,type:"ratio",description:"Capacidade de pagamento"}),s.jsx(le,{title:"ROI",value:x.roi,icon:Nd,type:"percent",description:"Retorno do investimento"}),s.jsx(le,{title:"Fluxo de Caixa",value:x.net_cash_flow,icon:Yt,type:"currency",description:"Variao do caixa"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(R9,{className:"h-5 w-5 text-blue-600"}),"Evoluo de Receitas e Despesas"]}),s.jsx("div",{className:"h-80",children:s.jsx(r1,{data:te,options:de})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Pu,{className:"h-5 w-5 text-green-600"}),"Resultado Lquido Mensal"]}),s.jsx("div",{className:"h-80",children:s.jsx(Ug,{data:Q,options:de})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Pu,{className:"h-5 w-5 text-purple-600"}),"Fluxo de Caixa (Entradas vs Sadas)"]}),s.jsx("div",{className:"h-80",children:s.jsx(Ug,{data:D,options:de})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ev,{className:"h-5 w-5 text-orange-600"}),"Distribuio do Perodo"]}),s.jsx("div",{className:"h-80 flex items-center justify-center",children:s.jsx(Ije,{data:X,options:{...de,scales:void 0}})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ev,{className:"h-6 w-6 text-indigo-600"}),"Contas a Receber vs A Pagar"]}),s.jsx("div",{className:"h-96 flex items-center justify-center",children:s.jsx(Vv,{data:V,options:{...de,scales:void 0}})})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-xl",children:s.jsx(dd,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Sobre os Indicadores Financeiros"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:" EBITDA"}),s.jsx("p",{children:"Mede o desempenho operacional antes de custos financeiros e contbeis"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:" Margens"}),s.jsx("p",{children:"Indicam a eficincia na converso de receita em lucro"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:" Capital de Giro"}),s.jsx("p",{children:"Recursos disponveis para as operaes do dia a dia"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:" ROI"}),s.jsx("p",{children:"Eficincia dos investimentos realizados pela empresa"})]})]})]})]})})]})})},oX=()=>{const[t,e]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(!0),[o,l]=B.useState(!1),[c,d]=B.useState(null),[u,h]=B.useState({account_name:"",bank_name:"",account_number:"",balance:0,active:!0});B.useEffect(()=>{A()},[]);const A=async()=>{try{n(!0);const{data:v,error:C}=await ae.from("bank_accounts").select("*").order("created_at",{ascending:!1});if(C)throw C;e(v||[])}catch(v){console.error("Error loading accounts:",v)}finally{n(!1)}},m=async()=>{try{if(!u.account_name||!u.bank_name||!u.account_number){alert("Preencha todos os campos obrigatrios");return}if(c){const{error:v}=await ae.from("bank_accounts").update(u).eq("id",c.id);if(v)throw v}else{const{error:v}=await ae.from("bank_accounts").insert([u]);if(v)throw v}alert(c?"Conta atualizada!":"Conta criada!"),y(),await A()}catch(v){console.error("Error saving account:",v),alert("Erro ao salvar conta")}},x=async(v,C)=>{if(confirm(`Excluir a conta "${C}"?

Esta ao  irreversvel!`))try{const{error:P}=await ae.from("bank_accounts").delete().eq("id",v);if(P)throw P;alert("Conta excluda!"),await A()}catch(P){console.error("Error deleting account:",P),alert("Erro ao excluir conta")}},g=async(v,C)=>{try{const{error:P}=await ae.from("bank_accounts").update({active:!C}).eq("id",v);if(P)throw P;alert(C?"Conta congelada!":"Conta ativada!"),await A()}catch(P){console.error("Error freezing account:",P),alert("Erro ao alterar status da conta")}},p=async v=>{try{const{error:C}=await ae.from("bank_accounts").update({is_default:!0}).eq("id",v);if(C)throw C;alert("Conta definida como padro!"),await A()}catch(C){console.error("Error setting default account:",C),alert("Erro ao definir conta padro")}},f=v=>{d(v),h({account_name:v.account_name,bank_name:v.bank_name,account_number:v.account_number,balance:v.balance,active:v.active}),l(!0)},y=()=>{l(!1),d(null),h({account_name:"",bank_name:"",account_number:"",balance:0,active:!0})},b=v=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v):"R$ ",N=t.filter(v=>v.active).reduce((v,C)=>v+Number(C.balance),0);return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 pt-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Hr,{className:"h-8 w-8 text-blue-600"}),"Contas Bancrias"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerenciar contas e saldos"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Nova Conta"]})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-8 text-white shadow-lg mx-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Saldo Total"}),s.jsx("h2",{className:"text-4xl font-bold mt-2",children:b(N)})]}),s.jsx("button",{onClick:()=>i(!a),className:"p-3 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:a?s.jsx(Ss,{className:"h-6 w-6"}):s.jsx(_2,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-300 mb-1",children:[s.jsx(pr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Este ms"})]}),s.jsx("p",{className:"text-xl font-semibold",children:"+R$ 12.450,00"})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-300 mb-1",children:[s.jsx(fo,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Sadas"})]}),s.jsx("p",{className:"text-xl font-semibold",children:"-R$ 8.320,00"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-6 pb-6",children:t.map((v,C)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-lg ${v.active?"bg-blue-100":"bg-gray-100"}`,children:s.jsx($o,{className:`h-6 w-6 ${v.active?"text-blue-600":"text-gray-400"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:v.account_name}),v.is_default&&s.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full flex items-center gap-1",children:" Padro"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:v.bank_name}),!v.active&&s.jsxs("span",{className:"text-xs text-red-600 flex items-center gap-1 mt-1",children:[s.jsx(eO,{className:"h-3 w-3"}),"Congelada"]})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conta"}),s.jsx("p",{className:"font-mono text-gray-900",children:v.account_number})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Saldo Atual"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b(Number(v.balance))})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>f(v),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Hr,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>g(v.id,v.active),className:`flex-1 px-3 py-2 rounded-lg transition-colors text-sm font-medium flex items-center justify-center gap-1 ${v.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:v.active?"Congelar conta":"Ativar conta",children:v.active?s.jsxs(s.Fragment,{children:[s.jsx(eO,{className:"h-4 w-4"})," Congelar"]}):s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"h-4 w-4"})," Ativar"]})}),s.jsx("button",{onClick:()=>x(v.id,v.account_name),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",title:"Excluir conta",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),!v.is_default&&s.jsx("button",{onClick:()=>p(v.id),className:"w-full px-3 py-2 bg-gradient-to-r from-yellow-50 to-amber-50 text-yellow-700 rounded-lg hover:from-yellow-100 hover:to-amber-100 transition-all text-sm font-medium flex items-center justify-center gap-1 border border-yellow-200",children:" Definir como Padro"})]})]},v.id))}),t.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100 mx-6",children:[s.jsx(Hr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma conta cadastrada"}),s.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Primeira Conta"})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:c?"Editar Conta":"Nova Conta Bancria"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),s.jsx("input",{type:"text",value:u.account_name,onChange:v=>h({...u,account_name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Conta Corrente Principal"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco *"}),s.jsx("input",{type:"text",value:u.bank_name,onChange:v=>h({...u,bank_name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero da Conta *"}),s.jsx("input",{type:"text",value:u.account_number,onChange:v=>h({...u,account_number:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12345-6"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saldo Inicial (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:u.balance,onChange:v=>h({...u,balance:parseFloat(v.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:c?"Atualizar":"Criar Conta"}),s.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})]})},Hze=async()=>{const{data:t,error:e}=await ae.from("employees").select("*").eq("active",!0).order("name",{ascending:!0});if(e)throw e;return t||[]},qze=async t=>{const{data:e,error:r}=await ae.from("employees").insert([t]).select().single();if(r)throw r;return e},zze=async(t,e)=>{const{data:r,error:n}=await ae.from("employees").update(e).eq("id",t).select().single();if(n)throw n;return r},Vze=async t=>{const{error:e}=await ae.from("employees").update({active:!1}).eq("id",t);if(e)throw e},Kze=async()=>{const{data:t,error:e}=await ae.from("user_invitations").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},Wze=async t=>{const{data:e,error:r}=await ae.from("user_invitations").insert([t]).select().single();if(r)throw r;return e},Gze=async t=>{const{error:e}=await ae.from("user_invitations").update({status:"cancelled"}).eq("id",t);if(e)throw e},Xze=async()=>{const{error:t}=await ae.rpc("expire_old_invitations");if(t)throw t},C8=[{value:"driver_license",label:"CNH - Carteira de Habilitao"},{value:"certificate",label:"Certificado / Diploma"},{value:"training",label:"Comprovante de Treinamento"},{value:"contract",label:"Contrato de Trabalho"},{value:"other",label:"Outro Documento"}],Yze=({documents:t,onDocumentAdd:e,onDocumentRemove:r})=>{const[n,a]=B.useState("driver_license"),[i,o]=B.useState(""),[l,c]=B.useState(!1),d=async h=>{var m;const A=(m=h.target.files)==null?void 0:m[0];if(A){if(A.size>10*1024*1024){alert("Arquivo muito grande! Tamanho mximo: 10MB");return}c(!0);try{const x=new FileReader;x.onloadend=()=>{const g=x.result;e({document_type:n,file_name:A.name,file_url:g,file_size:A.size,notes:i||void 0}),o(""),h.target.value=""},x.readAsDataURL(A)}catch(x){console.error("Error uploading file:",x),alert("Erro ao fazer upload do arquivo")}finally{c(!1)}}},u=h=>{if(!h)return"0 KB";const A=h/1024;return A<1024?`${A.toFixed(1)} KB`:`${(A/1024).toFixed(1)} MB`};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Upload de Documento"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),s.jsx("select",{value:n,onChange:h=>a(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:C8.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes (opcional)"}),s.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Vlida at 2026, Curso concludo em 2023..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo (PDF, JPG, PNG - Mx. 10MB)"}),s.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(jg,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:l?"Enviando...":"Clique para selecionar arquivo"}),s.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:d,disabled:l})]})]})]})]}),t.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Documentos Anexados"}),s.jsx(lt,{children:t.map((h,A)=>{var m;return s.jsxs(se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(C2,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.file_name}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx("span",{children:(m=C8.find(x=>x.value===h.document_type))==null?void 0:m.label}),s.jsx("span",{children:""}),s.jsx("span",{children:u(h.file_size)})]}),h.notes&&s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.notes})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("a",{href:h.file_url,download:h.file_name,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Qn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>h.id&&r(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]},h.id||A)})})]})]})},S8=t=>t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),hC=t=>t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2"),Jze=t=>t.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),wl=t=>t.replace(/\D/g,""),Zze=t=>{const e=t.replace(/\D/g,"");if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let r=0;for(let a=0;a<9;a++)r+=parseInt(e.charAt(a))*(10-a);let n=11-r%11;if(n>=10&&(n=0),n!==parseInt(e.charAt(9)))return!1;r=0;for(let a=0;a<10;a++)r+=parseInt(e.charAt(a))*(11-a);return n=11-r%11,n>=10&&(n=0),n===parseInt(e.charAt(10))},eVe=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),tVe=()=>{const[t,e]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(""),[o,l]=B.useState(!1),[c,d]=B.useState(null),[u,h]=B.useState("personal"),[A,m]=B.useState([]),[x,g]=B.useState(!1),[p,f]=B.useState({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""});B.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const S=await Hze();e(S)}catch(S){console.error("Error loading employees:",S)}finally{n(!1)}},b=S=>{S?(d(S),f(S)):(d(null),f({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""}),m([])),h("personal"),l(!0)},N=()=>{l(!1),d(null),m([])},v=async S=>{const F=wl(S);if(F.length===8){g(!0);try{const H=await(await fetch(`https://viacep.com.br/ws/${F}/json/`)).json();H.erro||f(U=>({...U,address_street:H.logradouro||U.address_street,address_neighborhood:H.bairro||U.address_neighborhood,address_city:H.localidade||U.address_city,address_state:H.uf||U.address_state}))}catch(O){console.error("Error fetching CEP:",O)}finally{g(!1)}}},C=async S=>{if(S.preventDefault(),!p.name){alert("Por favor, preencha o nome do funcionrio");return}if(p.cpf&&!Zze(p.cpf)){alert("CPF invlido");return}if(p.email&&!eVe(p.email)){alert("E-mail invlido");return}try{const F={...p,cpf:p.cpf?wl(p.cpf):void 0,phone:p.phone?wl(p.phone):void 0,address_zip_code:p.address_zip_code?wl(p.address_zip_code):void 0,emergency_contact_phone:p.emergency_contact_phone?wl(p.emergency_contact_phone):void 0,birth_date:p.birth_date||null,admission_date:p.admission_date||null,driver_license_expiry:p.driver_license_expiry||null};c!=null&&c.id?await zze(c.id,F):await qze(F),await y(),N()}catch(F){console.error("Error saving employee:",F),alert("Erro ao salvar funcionrio")}},P=async S=>{if(confirm("Tem certeza que deseja desativar este funcionrio?"))try{await Vze(S),await y()}catch(F){console.error("Error deleting employee:",F),alert("Erro ao desativar funcionrio")}},_=S=>{m(F=>[...F,{...S,id:Date.now().toString(),employee_id:(c==null?void 0:c.id)||"temp"}])},k=S=>{m(F=>F.filter(O=>O.id!==S))},M=t.filter(S=>{var F,O,H,U;return S.name.toLowerCase().includes(a.toLowerCase())||((F=S.email)==null?void 0:F.toLowerCase().includes(a.toLowerCase()))||((O=S.role)==null?void 0:O.toLowerCase().includes(a.toLowerCase()))||((H=S.cpf)==null?void 0:H.includes(a))||((U=S.department)==null?void 0:U.toLowerCase().includes(a.toLowerCase()))}),j=[{id:"personal",label:"Dados Pessoais",icon:Nr},{id:"address",label:"Endereo",icon:ii},{id:"bank",label:"Dados Bancrios",icon:Hr},{id:"license",label:"CNH",icon:U9},{id:"emergency",label:"Emergncia",icon:kr},{id:"documents",label:"Documentos",icon:at}];return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Mt,{className:"h-8 w-8 text-blue-600"}),"Gerenciamento de Funcionrios"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie a equipe da sua empresa"})]}),s.jsxs("button",{onClick:()=>b(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[s.jsx(yt,{className:"h-5 w-5"}),"Novo Funcionrio"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6 p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail, CPF, departamento...",value:a,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando funcionrios..."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(lt,{children:M.map(S=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Mt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),S.role&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[s.jsx(kae,{className:"h-3 w-3"}),s.jsx("span",{children:S.role})]}),S.department&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:S.department})]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${S.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.active?s.jsx(Ole,{className:"h-3 w-3"}):s.jsx(Ule,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[S.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx("span",{className:"truncate",children:S.email})]}),S.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(oa,{className:"h-4 w-4"}),s.jsx("span",{children:hC(S.phone)})]}),S.cpf&&s.jsxs("div",{className:"text-xs text-gray-500",children:["CPF: ",S8(S.cpf)]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>b(S),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Roe,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>S.id&&P(S.id),className:"px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]},S.id))})}),s.jsx(lt,{children:o&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Editar Funcionrio":"Novo Funcionrio"}),s.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:j.map(S=>{const F=S.icon;return s.jsxs("button",{onClick:()=>h(S.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${u===S.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[s.jsx(F,{className:"h-4 w-4"}),S.label]},S.id)})}),s.jsxs("form",{onSubmit:C,className:"flex-1 overflow-y-auto p-6",children:[u==="personal"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Pessoais"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),s.jsx("input",{type:"text",value:p.name,onChange:S=>f(F=>({...F,name:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),s.jsx("input",{type:"text",value:p.cpf?S8(p.cpf):"",onChange:S=>f(F=>({...F,cpf:wl(S.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00",maxLength:14})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RG"}),s.jsx("input",{type:"text",value:p.rg||"",onChange:S=>f(F=>({...F,rg:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),s.jsx("input",{type:"date",value:p.birth_date||"",onChange:S=>f(F=>({...F,birth_date:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Admisso"}),s.jsx("input",{type:"date",value:p.admission_date||"",onChange:S=>f(F=>({...F,admission_date:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:p.email||"",onChange:S=>f(F=>({...F,email:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:p.phone?hC(p.phone):"",onChange:S=>f(F=>({...F,phone:wl(S.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo"}),s.jsx("input",{type:"text",value:p.role||"",onChange:S=>f(F=>({...F,role:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Tcnico, Supervisor..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:p.department||"",onChange:S=>f(F=>({...F,department:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Manuteno, Instalao..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salrio (R$)"}),s.jsx("input",{type:"number",value:p.salary||"",onChange:S=>f(F=>({...F,salary:parseFloat(S.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:p.active?"true":"false",onChange:S=>f(F=>({...F,active:S.target.value==="true"})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"true",children:"Ativo"}),s.jsx("option",{value:"false",children:"Inativo"})]})]})]})]}),u==="address"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Endereo Residencial"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:p.address_zip_code?Jze(p.address_zip_code):"",onChange:S=>{const F=wl(S.target.value);f(O=>({...O,address_zip_code:F})),F.length===8&&v(F)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000",maxLength:9}),x&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"})})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rua"}),s.jsx("input",{type:"text",value:p.address_street||"",onChange:S=>f(F=>({...F,address_street:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero"}),s.jsx("input",{type:"text",value:p.address_number||"",onChange:S=>f(F=>({...F,address_number:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),s.jsx("input",{type:"text",value:p.address_complement||"",onChange:S=>f(F=>({...F,address_complement:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Apto, bloco, casa..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:p.address_neighborhood||"",onChange:S=>f(F=>({...F,address_neighborhood:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsxs("select",{value:p.address_state||"",onChange:S=>f(F=>({...F,address_state:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"AC",children:"AC"}),s.jsx("option",{value:"AL",children:"AL"}),s.jsx("option",{value:"AP",children:"AP"}),s.jsx("option",{value:"AM",children:"AM"}),s.jsx("option",{value:"BA",children:"BA"}),s.jsx("option",{value:"CE",children:"CE"}),s.jsx("option",{value:"DF",children:"DF"}),s.jsx("option",{value:"ES",children:"ES"}),s.jsx("option",{value:"GO",children:"GO"}),s.jsx("option",{value:"MA",children:"MA"}),s.jsx("option",{value:"MT",children:"MT"}),s.jsx("option",{value:"MS",children:"MS"}),s.jsx("option",{value:"MG",children:"MG"}),s.jsx("option",{value:"PA",children:"PA"}),s.jsx("option",{value:"PB",children:"PB"}),s.jsx("option",{value:"PR",children:"PR"}),s.jsx("option",{value:"PE",children:"PE"}),s.jsx("option",{value:"PI",children:"PI"}),s.jsx("option",{value:"RJ",children:"RJ"}),s.jsx("option",{value:"RN",children:"RN"}),s.jsx("option",{value:"RS",children:"RS"}),s.jsx("option",{value:"RO",children:"RO"}),s.jsx("option",{value:"RR",children:"RR"}),s.jsx("option",{value:"SC",children:"SC"}),s.jsx("option",{value:"SP",children:"SP"}),s.jsx("option",{value:"SE",children:"SE"}),s.jsx("option",{value:"TO",children:"TO"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:p.address_city||"",onChange:S=>f(F=>({...F,address_city:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="bank"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Bancrias"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco"}),s.jsx("input",{type:"text",value:p.bank_name||"",onChange:S=>f(F=>({...F,bank_name:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil, Caixa Econmica..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:p.bank_agency||"",onChange:S=>f(F=>({...F,bank_agency:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:p.bank_account||"",onChange:S=>f(F=>({...F,bank_account:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Conta"}),s.jsxs("select",{value:p.bank_account_type||"checking",onChange:S=>f(F=>({...F,bank_account_type:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"checking",children:"Conta Corrente"}),s.jsx("option",{value:"savings",children:"Conta Poupana"}),s.jsx("option",{value:"salary",children:"Conta Salrio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chave PIX"}),s.jsx("input",{type:"text",value:p.pix_key||"",onChange:S=>f(F=>({...F,pix_key:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF, e-mail, telefone ou chave aleatria"})]})]})]}),u==="license"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Carteira de Habilitao (CNH)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero da CNH"}),s.jsx("input",{type:"text",value:p.driver_license_number||"",onChange:S=>f(F=>({...F,driver_license_number:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000000000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{value:p.driver_license_category||"",onChange:S=>f(F=>({...F,driver_license_category:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"A",children:"A - Moto"}),s.jsx("option",{value:"B",children:"B - Carro"}),s.jsx("option",{value:"C",children:"C - Caminho"}),s.jsx("option",{value:"D",children:"D - nibus"}),s.jsx("option",{value:"E",children:"E - Carreta"}),s.jsx("option",{value:"AB",children:"AB - Moto e Carro"}),s.jsx("option",{value:"AC",children:"AC - Moto e Caminho"}),s.jsx("option",{value:"AD",children:"AD - Moto e nibus"}),s.jsx("option",{value:"AE",children:"AE - Moto e Carreta"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Validade"}),s.jsx("input",{type:"date",value:p.driver_license_expiry||"",onChange:S=>f(F=>({...F,driver_license_expiry:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="emergency"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contato de Emergncia"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),s.jsx("input",{type:"text",value:p.emergency_contact_name||"",onChange:S=>f(F=>({...F,emergency_contact_name:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone do Contato"}),s.jsx("input",{type:"text",value:p.emergency_contact_phone?hC(p.emergency_contact_phone):"",onChange:S=>f(F=>({...F,emergency_contact_phone:wl(S.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(kr,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Informao Importante"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Este contato ser acionado em caso de emergncias envolvendo o funcionrio. Certifique-se de que os dados esto corretos e atualizados."})]})]})})]}),u==="documents"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Anexados"}),s.jsx(Yze,{employeeId:c==null?void 0:c.id,documents:A,onDocumentAdd:_,onDocumentRemove:k})]})]}),s.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:N,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:C,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4"}),"Salvar Funcionrio"]})]})]})})})]})})},rVe=()=>{const{user:t}=cn(),[e,r]=B.useState([]),[n,a]=B.useState(!0),[i,o]=B.useState(!1),[l,c]=B.useState({email:"",role:"technician"});B.useEffect(()=>{d(),Xze()},[]);const d=async()=>{try{a(!0);const b=await Kze();r(b)}catch(b){console.error("Error loading invitations:",b)}finally{a(!1)}},u=async b=>{if(b.preventDefault(),!l.email){alert("Por favor, insira um email");return}try{await Wze({email:l.email,role:l.role,invited_by:t==null?void 0:t.id}),await d(),o(!1),c({email:"",role:"technician"})}catch(N){console.error("Error creating invitation:",N),alert("Erro ao criar convite. Verifique se o email j no foi convidado.")}},h=async b=>{if(confirm("Tem certeza que deseja cancelar este convite?"))try{await Gze(b),await d()}catch(N){console.error("Error canceling invitation:",N),alert("Erro ao cancelar convite")}},A=b=>{const N=`${window.location.origin}/register?token=${b}`;navigator.clipboard.writeText(N),alert("Link copiado para a rea de transferncia!")},m=b=>{switch(b){case"pending":return s.jsx(Dt,{className:"h-5 w-5 text-yellow-600"});case"accepted":return s.jsx(es,{className:"h-5 w-5 text-green-600"});case"expired":return s.jsx(ud,{className:"h-5 w-5 text-red-600"});case"cancelled":return s.jsx(Rn,{className:"h-5 w-5 text-gray-600"});default:return s.jsx(Dt,{className:"h-5 w-5 text-gray-600"})}},x=b=>{switch(b){case"pending":return"Pendente";case"accepted":return"Aceito";case"expired":return"Expirado";case"cancelled":return"Cancelado";default:return"Desconhecido"}},g=b=>{switch(b){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=b=>{switch(b){case"admin":return"Administrador";case"technician":return"Tcnico";case"external":return"Externo";default:return"Usurio"}},f=b=>{switch(b){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=b=>b?new Date(b).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(ts,{className:"h-8 w-8 text-blue-600"}),"Convites de Usurios"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Convide novos usurios para acessar o sistema"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[s.jsx(yt,{className:"h-5 w-5"}),"Novo Convite"]})]}),n?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando convites..."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expira em"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.jsx(lt,{children:e.map(b=>s.jsxs(se.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ts,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(b.role)}`,children:p(b.role)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[m(b.status),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(b.status)}`,children:x(b.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(b.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(b.expires_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("div",{className:"flex items-center justify-end gap-2",children:b.status==="pending"&&b.token&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>A(b.token),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Copiar link do convite",children:s.jsx(Wl,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>h(b.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Cancelar convite",children:s.jsx(At,{className:"h-4 w-4"})})]})})})]},b.id))})})]})}),e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ts,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum convite encontrado"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Crie convites para novos usurios"})]})]})]}),s.jsx(lt,{children:i&&s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>o(!1),children:s.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:b=>b.stopPropagation(),className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(ja,{className:"h-6 w-6 text-blue-600"}),"Novo Convite"]}),s.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(At,{className:"h-6 w-6"})})]})}),s.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email do Usurio *"}),s.jsx("input",{type:"email",required:!0,value:l.email,onChange:b=>c({...l,email:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"usuario@exemplo.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funo no Sistema *"}),s.jsxs("select",{value:l.role,onChange:b=>c({...l,role:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"technician",children:"Tcnico"}),s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"external",children:"Externo"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O convite expira em 7 dias"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(ja,{className:"h-4 w-4"}),"Enviar Convite"]})]})]})]})})})]})},nVe=()=>{const[t,e]=B.useState("users"),[r,n]=B.useState(!1),[a,i]=B.useState(!1),[o,l]=B.useState(null),[c,d]=B.useState(null),[u]=B.useState([{id:"view_dashboard",name:"Visualizar Dashboard",description:"Acesso ao painel principal",category:"Dashboard"},{id:"manage_orders",name:"Gerenciar OS",description:"Criar, editar e excluir ordens de servio",category:"Ordens de Servio"},{id:"view_orders",name:"Visualizar OS",description:"Apenas visualizar ordens de servio",category:"Ordens de Servio"},{id:"manage_clients",name:"Gerenciar Clientes",description:"Cadastrar e editar clientes",category:"Clientes"},{id:"view_clients",name:"Visualizar Clientes",description:"Apenas visualizar dados de clientes",category:"Clientes"},{id:"manage_inventory",name:"Gerenciar Estoque",description:"Controle total do estoque",category:"Estoque"},{id:"view_inventory",name:"Visualizar Estoque",description:"Consultar estoque sem alteraes",category:"Estoque"},{id:"manage_financial",name:"Gerenciar Financeiro",description:"Acesso total ao mdulo financeiro",category:"Financeiro"},{id:"view_financial",name:"Visualizar Financeiro",description:"Relatrios financeiros bsicos",category:"Financeiro"},{id:"view_bank_balances",name:"Visualizar Saldos Bancrios",description:"Ver saldos das contas bancrias",category:"Financeiro"},{id:"manage_users",name:"Gerenciar Usurios",description:"Administrar contas de usurio",category:"Administrao"},{id:"system_settings",name:"Configuraes do Sistema",description:"Alterar configuraes globais",category:"Administrao"}]),[h,A]=B.useState([{id:"admin",name:"Administrador",description:"Acesso total ao sistema",level:10,permissions:u.map(S=>S.id),color:"from-red-500 to-pink-500",isSystem:!0},{id:"manager",name:"Gerente",description:"Gesto de operaes e equipe",level:8,permissions:["view_dashboard","manage_orders","manage_clients","manage_inventory","view_financial","view_bank_balances"],color:"from-blue-500 to-cyan-500",isSystem:!0},{id:"technician",name:"Tcnico",description:"Execuo de servios em campo",level:5,permissions:["view_dashboard","view_orders","view_clients","view_inventory"],color:"from-green-500 to-emerald-500",isSystem:!0},{id:"external",name:"Funcionrio Externo",description:"Acesso limitado para terceirizados",level:3,permissions:["view_orders","view_clients"],color:"from-yellow-500 to-orange-500",isSystem:!1}]),[m,x]=B.useState([{id:1,name:"Joo Silva",email:"joao@giartech.com",role:"admin",status:"active",lastLogin:"2024-01-20T10:30:00",isExternal:!1,department:"TI",permissions:[]},{id:2,name:"Maria Santos",email:"maria@giartech.com",role:"manager",status:"active",lastLogin:"2024-01-20T09:15:00",isExternal:!1,department:"Operaes",permissions:[]},{id:3,name:"Carlos Tcnico",email:"carlos@terceirizada.com",role:"external",status:"active",lastLogin:"2024-01-19T16:45:00",isExternal:!0,permissions:["view_orders"]}]),[g,p]=B.useState({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),[f,y]=B.useState({name:"",description:"",level:1,permissions:[]}),b=S=>{switch(S){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},N=S=>{switch(S){case"active":return"Ativo";case"inactive":return"Inativo";case"pending":return"Pendente";default:return"Desconhecido"}},v=S=>h.find(F=>F.id===S)||h[0],C=()=>{if(g.name.trim()&&g.email.trim()&&g.role){const S={id:Date.now(),name:g.name,email:g.email,role:g.role,status:"pending",lastLogin:"",isExternal:g.isExternal,department:g.department||void 0,permissions:g.permissions};x([...m,S]),p({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),n(!1),alert("Usurio criado com sucesso!")}},P=()=>{if(f.name.trim()&&f.description.trim()){const S={id:Date.now().toString(),name:f.name,description:f.description,level:f.level,permissions:f.permissions,color:"from-gray-500 to-gray-600",isSystem:!1};A([...h,S]),y({name:"",description:"",level:1,permissions:[]}),i(!1),alert("Perfil criado com sucesso!")}},_=S=>{x(m.map(F=>F.id===S?{...F,status:F.status==="active"?"inactive":"active"}:F))},k=S=>{const F=h.find(O=>O.id===S);if(F!=null&&F.isSystem){alert("No  possvel excluir perfis do sistema");return}confirm("Tem certeza que deseja excluir este perfil?")&&A(h.filter(O=>O.id!==S))},M=u.reduce((S,F)=>(S[F.category]||(S[F.category]=[]),S[F.category].push(F),S),{}),j={totalUsers:m.length,activeUsers:m.filter(S=>S.status==="active").length,externalUsers:m.filter(S=>S.isExternal).length,totalRoles:h.length};return s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Gesto de Acesso"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Controle de permisses e usurios"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(W9,{className:"h-3 w-3"}),s.jsx("span",{children:"Usurio"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(yt,{className:"h-3 w-3"}),s.jsx("span",{children:"Perfil"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Usurios",value:j.totalUsers,color:"from-blue-500 to-cyan-500",icon:Mt},{label:"Ativos",value:j.activeUsers,color:"from-green-500 to-emerald-500",icon:Mr},{label:"Externos",value:j.externalUsers,color:"from-yellow-500 to-orange-500",icon:qu},{label:"Perfis",value:j.totalRoles,color:"from-purple-500 to-pink-500",icon:jr}].map((S,F)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"bg-white rounded-xl p-3 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${S.color} rounded-lg flex items-center justify-center`,children:s.jsx(S.icon,{className:"h-4 w-4 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:S.value}),s.jsx("p",{className:"text-xs text-gray-600",children:S.label})]},S.label))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"users",label:"Usurios",icon:Mt},{id:"roles",label:"Perfis",icon:jr},{id:"permissions",label:"Permisses",icon:cm}].map(S=>s.jsxs("button",{onClick:()=>e(S.id),className:`flex-1 flex items-center justify-center space-x-1 py-3 px-2 transition-colors ${t===S.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(S.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium text-xs",children:S.label})]},S.id))}),s.jsxs("div",{className:"p-3",children:[t==="users"&&s.jsx("div",{className:"space-y-3",children:m.map((S,F)=>{const O=v(S.role);return s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${S.isExternal?"bg-yellow-100":"bg-blue-100"}`,children:S.isExternal?s.jsx(qu,{className:"h-5 w-5 text-yellow-600"}):s.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:S.name}),s.jsx("p",{className:"text-xs text-gray-600",children:S.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(S.status)}`,children:N(S.status)}),S.isExternal&&s.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Ext"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Perfil:"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:`w-2 h-2 bg-gradient-to-r ${O.color} rounded-full`}),s.jsx("span",{className:"font-medium",children:O.name})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Depto:"}),s.jsx("p",{className:"font-medium",children:S.department||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"ltimo Acesso:"}),s.jsx("p",{className:"font-medium",children:S.lastLogin?new Date(S.lastLogin).toLocaleDateString("pt-BR"):"Nunca"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Nvel:"}),s.jsxs("p",{className:"font-medium",children:["Nvel ",O.level]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>l(S),className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-1 text-xs",children:[s.jsx(ga,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>_(S.id),className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${S.status==="active"?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,children:[S.status==="active"?s.jsx(Pi,{className:"h-3 w-3"}):s.jsx(q9,{className:"h-3 w-3"}),s.jsx("span",{children:S.status==="active"?"Desativar":"Ativar"})]})]})]},S.id)})}),t==="roles"&&s.jsx("div",{className:"space-y-3",children:h.map((S,F)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${S.color} rounded-xl flex items-center justify-center`,children:S.isSystem?s.jsx(Sx,{className:"h-5 w-5 text-white"}):s.jsx(jr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[S.name,S.isSystem&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Sistema"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:S.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Nvel"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:S.level})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:["Permisses (",S.permissions.length,")"]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.permissions.slice(0,3).map(O=>{const H=u.find(U=>U.id===O);return H?s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:H.name},O):null}),S.permissions.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",S.permissions.length-3]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>d(S),disabled:S.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${S.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[s.jsx(ga,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>k(S.id),disabled:S.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${S.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[s.jsx(Ut,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},S.id))}),t==="permissions"&&s.jsx("div",{className:"space-y-4",children:Object.entries(M).map(([S,F],O)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:S}),s.jsx("div",{className:"space-y-2",children:F.map(H=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-xs mb-1",children:H.name}),s.jsx("p",{className:"text-xs text-gray-600",children:H.description}),s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:H.id})]},H.id))})]},S))})]})]}),s.jsx(lt,{children:r&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-sm shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Usurio"}),s.jsx("button",{onClick:()=>n(!1),children:s.jsx(At,{className:"h-5 w-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:g.name,onChange:S=>p({...g,name:S.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do usurio"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:g.email,onChange:S=>p({...g,email:S.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil de Acesso"}),s.jsxs("select",{value:g.role,onChange:S=>p({...g,role:S.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um perfil"}),h.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:g.department,onChange:S=>p({...g,department:S.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Departamento (opcional)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isExternal",checked:g.isExternal,onChange:S=>p({...g,isExternal:S.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"isExternal",className:"text-sm text-gray-700",children:"Funcionrio Externo"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx("button",{onClick:()=>n(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsxs("button",{onClick:C,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:[s.jsx(rr,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})}),s.jsx(lt,{children:a&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Perfil"}),s.jsx("button",{onClick:()=>i(!1),children:s.jsx(At,{className:"h-5 w-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Perfil"}),s.jsx("input",{type:"text",value:f.name,onChange:S=>y({...f,name:S.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do perfil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nvel de Acesso"}),s.jsx("input",{type:"number",min:"1",max:"10",value:f.level,onChange:S=>y({...f,level:parseInt(S.target.value)||1}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:f.description,onChange:S=>y({...f,description:S.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrio do perfil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permisses"}),s.jsx("div",{className:"space-y-3",children:Object.entries(M).map(([S,F])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:S}),s.jsx("div",{className:"space-y-1",children:F.map(O=>s.jsxs("label",{className:"flex items-start space-x-2",children:[s.jsx("input",{type:"checkbox",checked:f.permissions.includes(O.id),onChange:H=>{H.target.checked?y({...f,permissions:[...f.permissions,O.id]}):y({...f,permissions:f.permissions.filter(U=>U!==O.id)})},className:"mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.name}),s.jsx("p",{className:"text-xs text-gray-600",children:O.description})]})]},O.id))})]},S))})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsxs("button",{onClick:P,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:shadow-lg text-sm",children:[s.jsx(rr,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})})]})},lX=()=>{var M;const[t,e]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(!1),[o,l]=B.useState(null),[c,d]=B.useState(null),[u,h]=B.useState("all"),[A,m]=B.useState(""),[x,g]=B.useState(new Set),[p,f]=B.useState({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:null,active:!0});B.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const{data:j,error:S}=await ae.from("financial_categories").select("*").order("name",{ascending:!0});if(S)throw S;const F=new Map;j==null||j.forEach(H=>{F.set(H.id,{...H,subcategories:[]})});const O=[];F.forEach(H=>{if(H.parent_id){const U=F.get(H.parent_id);U&&(U.subcategories=U.subcategories||[],U.subcategories.push(H))}else O.push(H)}),e(O)}catch(j){console.error("Error loading categories:",j)}finally{n(!1)}},b=async()=>{try{if(!p.name){alert("Nome  obrigatrio!");return}const j={name:p.name,type:p.type,color:p.color,icon:p.icon,parent_id:p.parent_id||null,active:p.active};if(o){const{error:S}=await ae.from("financial_categories").update({...j,updated_at:new Date().toISOString()}).eq("id",o.id);if(S)throw S}else{const{error:S}=await ae.from("financial_categories").insert([j]);if(S)throw S}y(),C()}catch(j){console.error("Error saving category:",j),alert("Erro ao salvar categoria!")}},N=async j=>{if(confirm("Tem certeza que deseja excluir esta categoria?"))try{const{error:S}=await ae.from("financial_categories").delete().eq("id",j);if(S)throw S;y()}catch(S){console.error("Error deleting category:",S),alert("Erro ao excluir categoria! Verifique se no existem lanamentos vinculados.")}},v=(j,S)=>{j?(l(j),f({name:j.name,type:j.type,color:j.color,icon:j.icon,parent_id:j.parent_id,active:j.active})):(l(null),f({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:S||null,active:!0})),i(!0)},C=()=>{i(!1),l(null),d(null)},P=j=>{const S=new Set(x);S.has(j)?S.delete(j):S.add(j),g(S)},_=t.filter(j=>{const S=u==="all"||j.type===u,F=j.name.toLowerCase().includes(A.toLowerCase());return S&&F}),k=[{value:"#10b981",label:"Verde"},{value:"#3b82f6",label:"Azul"},{value:"#ef4444",label:"Vermelho"},{value:"#f59e0b",label:"Laranja"},{value:"#8b5cf6",label:"Roxo"},{value:"#ec4899",label:"Rosa"},{value:"#06b6d4",label:"Ciano"},{value:"#6366f1",label:"ndigo"}];return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(_w,{className:"h-8 w-8 text-blue-600"}),"Categorias de Lanamento"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie categorias e subcategorias de receitas e despesas"})]}),s.jsxs("button",{onClick:()=>v(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Nova Categoria"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar categorias...",value:A,onChange:j=>m(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas"}),s.jsxs("button",{onClick:()=>h("receita"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="receita"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(pr,{className:"h-4 w-4"}),"Receitas"]}),s.jsxs("button",{onClick:()=>h("despesa"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="despesa"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(fo,{className:"h-4 w-4"}),"Despesas"]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(j=>s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${j.color}20`},children:j.type==="receita"?s.jsx(pr,{className:"h-6 w-6",style:{color:j.color}}):s.jsx(fo,{className:"h-6 w-6",style:{color:j.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.type==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:j.type==="receita"?"Receita":"Despesa"}),j.subcategories&&j.subcategories.length>0&&s.jsxs("span",{className:"text-xs text-gray-500",children:[j.subcategories.length," subcategorias"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>d(j),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar",children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>v(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>N(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]}),j.subcategories&&j.subcategories.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[s.jsxs("button",{onClick:()=>P(j.id),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(N2,{className:`h-4 w-4 transition-transform ${x.has(j.id)?"rotate-90":""}`}),"Ver subcategorias"]}),x.has(j.id)&&s.jsx("div",{className:"mt-2 space-y-2",children:j.subcategories.map(S=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L4,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:S.name})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>v(S),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:s.jsx(Hr,{className:"h-3 w-3"})}),s.jsx("button",{onClick:()=>N(S.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Excluir",children:s.jsx(Ut,{className:"h-3 w-3"})})]})]},S.id))})]}),s.jsxs("button",{onClick:()=>v(void 0,j.id),className:"mt-3 w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Mie,{className:"h-4 w-4"}),"Adicionar Subcategoria"]})]})},j.id))}),_.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[s.jsx(_w,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma categoria encontrada"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Crie sua primeira categoria de lanamento"}),s.jsxs("button",{onClick:()=>v(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Nova Categoria"]})]}),s.jsx(lt,{children:a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:o?"Editar Categoria":"Nova Categoria"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:p.parent_id?"Criando subcategoria":"Categoria principal de lanamentos"})]}),s.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-200px)]",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome da Categoria ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:p.name,onChange:j=>f({...p,name:j.target.value}),placeholder:"Ex: Servios Prestados",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>f({...p,type:"receita"}),className:`p-4 border-2 rounded-lg transition-all ${p.type==="receita"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(pr,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"font-medium text-gray-900",children:"Receita"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Entrada de dinheiro"})]}),s.jsxs("button",{type:"button",onClick:()=>f({...p,type:"despesa"}),className:`p-4 border-2 rounded-lg transition-all ${p.type==="despesa"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(fo,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),s.jsx("p",{className:"font-medium text-gray-900",children:"Despesa"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Sada de dinheiro"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"grid grid-cols-8 gap-2",children:k.map(j=>s.jsx("button",{type:"button",onClick:()=>f({...p,color:j.value}),className:`w-10 h-10 rounded-lg transition-all ${p.color===j.value?"ring-2 ring-offset-2 ring-blue-500 scale-110":"hover:scale-105"}`,style:{backgroundColor:j.value},title:j.label},j.value))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"active",checked:p.active,onChange:j=>f({...p,active:j.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Categoria ativa"})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[s.jsx("button",{onClick:C,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Salvar Categoria"]})]})]})})}),s.jsx(lt,{children:c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl",children:[s.jsx("div",{className:"p-6 border-b text-white",style:{background:`linear-gradient(135deg, ${c.color} 0%, ${c.color}dd 100%)`},children:s.jsxs("div",{className:"flex items-center gap-4",children:[c.type==="receita"?s.jsx(pr,{className:"h-12 w-12"}):s.jsx(fo,{className:"h-12 w-12"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:c.name}),s.jsx("p",{className:"text-white/80 text-sm",children:c.type==="receita"?"Categoria de Receita":"Categoria de Despesa"})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tipo"}),s.jsx("p",{className:"font-medium capitalize",children:c.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${c.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:c.active?"Ativa":"Inativa"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Cor"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:c.color}}),s.jsx("span",{className:"font-mono text-sm",children:c.color})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Subcategorias"}),s.jsx("p",{className:"font-medium",children:((M=c.subcategories)==null?void 0:M.length)||0})]})]}),c.subcategories&&c.subcategories.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Subcategorias:"}),s.jsx("div",{className:"space-y-2",children:c.subcategories.map(j=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center gap-2",children:[s.jsx(L4,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium",children:j.name})]},j.id))})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[s.jsx("button",{onClick:C,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar"}),s.jsxs("button",{onClick:()=>{v(c),d(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Hr,{className:"h-4 w-4"}),"Editar"]})]})]})})})]})},qp={customers:"Clientes",service_orders:"Ordens de Servio",agenda:"Agenda",finance_entries:"Lanamentos Financeiros",employees:"Funcionrios",materials:"Materiais",service_catalog:"Catlogo de Servios",user_profiles:"Perfis de Usurios"},B8={INSERT:s.jsx(yt,{className:"w-4 h-4"}),UPDATE:s.jsx(Hr,{className:"w-4 h-4"}),DELETE:s.jsx(Ut,{className:"w-4 h-4"})},E8={INSERT:"bg-green-100 text-green-700 border-green-200",UPDATE:"bg-blue-100 text-blue-700 border-blue-200",DELETE:"bg-red-100 text-red-700 border-red-200"},AC={INSERT:"Criao",UPDATE:"Edio",DELETE:"Excluso"};function sVe(){const[t,e]=B.useState([]),[r,n]=B.useState([]),[a,i]=B.useState(!0),[o,l]=B.useState(null),[c,d]=B.useState({table:"",operation:"",user:"",dateFrom:"",dateTo:"",search:""});B.useEffect(()=>{u()},[c]);const u=async()=>{i(!0);try{let A=ae.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);c.table&&(A=A.eq("table_name",c.table)),c.operation&&(A=A.eq("operation",c.operation)),c.user&&(A=A.ilike("user_email",`%${c.user}%`)),c.dateFrom&&(A=A.gte("created_at",c.dateFrom)),c.dateTo&&(A=A.lte("created_at",c.dateTo));const{data:m}=await A,{data:x}=await ae.from("audit_summary_by_table").select("*");e(m||[]),n(x||[])}catch(A){console.error("Error loading audit data:",A)}finally{i(!1)}},h=()=>{const A=["Data/Hora","Tabela","Operao","Usurio","ID do Registro"],m=t.map(y=>[Qr(new Date(y.created_at),"dd/MM/yyyy HH:mm:ss"),qp[y.table_name]||y.table_name,AC[y.operation],y.user_email||"Sistema",y.record_id]),x=[A.join(","),...m.map(y=>y.map(b=>`"${b}"`).join(","))].join(`
`),g=new Blob([x],{type:"text/csv"}),p=window.URL.createObjectURL(g),f=document.createElement("a");f.href=p,f.download=`auditoria_${Qr(new Date,"yyyy-MM-dd_HHmmss")}.csv`,f.click()};return a?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(jr,{className:"w-8 h-8 text-blue-600"}),"Auditoria do Sistema"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Rastreamento completo de todas as operaes no sistema"})]}),s.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Qn,{className:"w-4 h-4"}),"Exportar CSV"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map(A=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:qp[A.table_name]||A.table_name}),s.jsx(Tm,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total:"}),s.jsx("span",{className:"font-semibold",children:A.total_operations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-600",children:"Criaes:"}),s.jsx("span",{className:"font-semibold text-green-600",children:A.inserts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-blue-600",children:"Edies:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:A.updates})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-red-600",children:"Excluses:"}),s.jsx("span",{className:"font-semibold text-red-600",children:A.deletes})]})]})]},A.table_name))}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(gh,{className:"w-5 h-5 text-gray-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tabela"}),s.jsxs("select",{value:c.table,onChange:A=>d({...c,table:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Todas"}),Object.entries(qp).map(([A,m])=>s.jsx("option",{value:A,children:m},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operao"}),s.jsxs("select",{value:c.operation,onChange:A=>d({...c,operation:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Todas"}),s.jsx("option",{value:"INSERT",children:"Criao"}),s.jsx("option",{value:"UPDATE",children:"Edio"}),s.jsx("option",{value:"DELETE",children:"Excluso"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio"}),s.jsx("input",{type:"text",value:c.user,onChange:A=>d({...c,user:A.target.value}),placeholder:"Email do usurio",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:c.dateFrom,onChange:A=>d({...c,dateFrom:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:c.dateTo,onChange:A=>d({...c,dateTo:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(at,{className:"w-5 h-5"}),"ltimas Atividades (",t.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tabela"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),Qr(new Date(A.created_at),"dd/MM/yyyy HH:mm:ss")]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md",children:qp[A.table_name]||A.table_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md border ${E8[A.operation]}`,children:[B8[A.operation],AC[A.operation]]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:A.user_email||"Sistema"})]})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[A.operation==="UPDATE"&&A.changed_fields&&s.jsxs("span",{className:"text-blue-600",children:[A.changed_fields.length," campo(s) alterado(s)"]}),A.operation==="INSERT"&&s.jsx("span",{className:"text-green-600",children:"Novo registro"}),A.operation==="DELETE"&&s.jsx("span",{className:"text-red-600",children:"Registro excludo"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>l(A),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Ver Detalhes"})})]},A.id))})]})})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Detalhes da Auditoria"}),s.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(ud,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Operao"}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-2 rounded-lg border ${E8[o.operation]}`,children:[B8[o.operation],AC[o.operation]]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tabela"}),s.jsx("p",{className:"text-gray-900 font-medium",children:qp[o.table_name]||o.table_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Usurio"}),s.jsx("p",{className:"text-gray-900",children:o.user_email||"Sistema"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data/Hora"}),s.jsx("p",{className:"text-gray-900",children:Qr(new Date(o.created_at),"dd/MM/yyyy HH:mm:ss")})]})]}),o.operation==="UPDATE"&&o.changed_fields&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Campos Alterados"}),s.jsx("div",{className:"space-y-3",children:o.changed_fields.map((A,m)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("p",{className:"font-medium text-gray-900 mb-2",children:A.field}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"ANTES:"}),s.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-red-200",children:JSON.stringify(A.old_value,null,2)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"DEPOIS:"}),s.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-green-200",children:JSON.stringify(A.new_value,null,2)})]})]})]},m))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.old_data&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Anteriores"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.old_data,null,2)})]}),o.new_data&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Novos"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.new_data,null,2)})]})]})]})})]})})]})}const aVe=()=>{const{isAdmin:t}=cn(),[e,r]=B.useState([]),[n,a]=B.useState(!0),[i,o]=B.useState(""),[l,c]=B.useState("all"),[d,u]=B.useState(!1),[h,A]=B.useState(null),[m,x]=B.useState({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0});B.useEffect(()=>{g()},[]);const g=async()=>{try{a(!0);const{data:k,error:M}=await ae.from("crm_leads").select("*").order("created_at",{ascending:!1});if(M)throw M;r(k||[])}catch(k){console.error("Error loading leads:",k)}finally{a(!1)}},p=async()=>{try{if(h){const{error:k}=await ae.from("crm_leads").update(m).eq("id",h.id);if(k)throw k}else{const{error:k}=await ae.from("crm_leads").insert([m]);if(k)throw k}await g(),b()}catch(k){console.error("Error saving lead:",k),alert("Erro ao salvar lead")}},f=async k=>{if(confirm("Tem certeza que deseja excluir este lead?"))try{const{error:M}=await ae.from("crm_leads").delete().eq("id",k);if(M)throw M;await g()}catch(M){console.error("Error deleting lead:",M),alert("Erro ao excluir lead")}},y=k=>{A(k),x({name:k.name,email:k.email,phone:k.phone,company:k.company,source:k.source,status:k.status,score:k.score}),u(!0)},b=()=>{u(!1),A(null),x({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0})},N=async k=>{if(confirm("Converter este lead em cliente?"))try{const{error:M}=await ae.from("customers").insert([{tipo_pessoa:"juridica",nome_razao:k.company||k.name,nome_fantasia:k.company,email:k.email,telefone:k.phone,celular:k.phone}]);if(M)throw M;const{error:j}=await ae.from("crm_leads").update({status:"qualified"}).eq("id",k.id);if(j)throw j;alert("Lead convertido em cliente com sucesso!"),await g()}catch(M){console.error("Error converting lead:",M),alert("Erro ao converter lead")}},v=k=>{switch(k){case"new":return s.jsx(Dt,{className:"w-4 h-4 text-blue-500"});case"contacted":return s.jsx(oa,{className:"w-4 h-4 text-yellow-500"});case"qualified":return s.jsx(es,{className:"w-4 h-4 text-green-500"});case"proposal":return s.jsx(pr,{className:"w-4 h-4 text-purple-500"});default:return s.jsx(ud,{className:"w-4 h-4 text-gray-500"})}},C=k=>({new:"Novo",contacted:"Contatado",qualified:"Qualificado",proposal:"Proposta",lost:"Perdido"})[k]||k,P=e.filter(k=>{const M=k.name.toLowerCase().includes(i.toLowerCase())||k.email.toLowerCase().includes(i.toLowerCase())||k.company.toLowerCase().includes(i.toLowerCase()),j=l==="all"||k.status===l;return M&&j}),_={total:e.length,new:e.filter(k=>k.status==="new").length,contacted:e.filter(k=>k.status==="contacted").length,qualified:e.filter(k=>k.status==="qualified").length};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CRM - Leads"}),s.jsx("p",{className:"text-gray-600",children:"Gesto de leads e funil de vendas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Leads"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.total})]}),s.jsx(Mt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Novos"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.new})]}),s.jsx(Dt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Contatados"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.contacted})]}),s.jsx(oa,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Qualificados"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.qualified})]}),s.jsx(es,{className:"w-10 h-10 text-green-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar leads...",value:i,onChange:k=>o(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:k=>c(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"new",children:"Novos"}),s.jsx("option",{value:"contacted",children:"Contatados"}),s.jsx("option",{value:"qualified",children:"Qualificados"}),s.jsx("option",{value:"proposal",children:"Proposta"}),s.jsx("option",{value:"lost",children:"Perdidos"})]})]}),s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5"}),"Novo Lead"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origem"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:k.company})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ts,{className:"w-3 h-3"}),k.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(oa,{className:"w-3 h-3"}),k.phone]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:k.source})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[v(k.status),s.jsx("span",{className:"text-sm text-gray-900",children:C(k.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${k.score}%`}})}),s.jsx("span",{className:"text-sm text-gray-600",children:k.score})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k.status!=="qualified"&&s.jsx("button",{onClick:()=>N(k),className:"text-green-600 hover:text-green-900",title:"Converter em cliente",children:s.jsx(es,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(k),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Hr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>f(k.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Ut,{className:"w-5 h-5"})})]})})]},k.id))})]}),P.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Mt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum lead encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo lead."})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:h?"Editar Lead":"Novo Lead"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),s.jsx("input",{type:"text",value:m.name,onChange:k=>x({...m,name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),s.jsx("input",{type:"text",value:m.company,onChange:k=>x({...m,company:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:m.email,onChange:k=>x({...m,email:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),s.jsx("input",{type:"tel",value:m.phone,onChange:k=>x({...m,phone:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origem"}),s.jsxs("select",{value:m.source,onChange:k=>x({...m,source:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:"Website"}),s.jsx("option",{value:"Google Ads",children:"Google Ads"}),s.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),s.jsx("option",{value:"Indicao",children:"Indicao"}),s.jsx("option",{value:"Telefone",children:"Telefone"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:m.status,onChange:k=>x({...m,status:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"new",children:"Novo"}),s.jsx("option",{value:"contacted",children:"Contatado"}),s.jsx("option",{value:"qualified",children:"Qualificado"}),s.jsx("option",{value:"proposal",children:"Proposta"}),s.jsx("option",{value:"lost",children:"Perdido"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Score (0-100)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:m.score,onChange:k=>x({...m,score:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},iVe=()=>{const{isAdmin:t}=cn(),[e,r]=B.useState([]),[n,a]=B.useState([]),[i,o]=B.useState(!0),[l,c]=B.useState(""),[d,u]=B.useState("all"),[h,A]=B.useState(!1),[m,x]=B.useState(null),[g,p]=B.useState({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""});B.useEffect(()=>{f()},[]);const f=async()=>{try{o(!0);const[k,M]=await Promise.all([ae.from("contracts").select(`
            *,
            customer:customers(nome_razao)
          `).order("created_at",{ascending:!1}),ae.from("customers").select("id, nome_razao")]);if(k.error)throw k.error;if(M.error)throw M.error;r(k.data||[]),a(M.data||[])}catch(k){console.error("Error loading data:",k)}finally{o(!1)}},y=async()=>{try{if(!g.contract_number||!g.customer_id||!g.start_date){alert("Preencha os campos obrigatrios");return}if(m){const{error:k}=await ae.from("contracts").update(g).eq("id",m.id);if(k)throw k}else{const{error:k}=await ae.from("contracts").insert([g]);if(k)throw k}await f(),v()}catch(k){console.error("Error saving contract:",k),alert("Erro ao salvar contrato")}},b=async k=>{if(confirm("Tem certeza que deseja excluir este contrato?"))try{const{error:M}=await ae.from("contracts").delete().eq("id",k);if(M)throw M;await f()}catch(M){console.error("Error deleting contract:",M),alert("Erro ao excluir contrato")}},N=k=>{x(k),p({contract_number:k.contract_number,customer_id:k.customer_id,start_date:k.start_date,end_date:k.end_date,value:k.value,payment_frequency:k.payment_frequency,status:k.status,notes:k.notes||""}),A(!0)},v=()=>{A(!1),x(null),p({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""})},C=k=>{const M={active:{bg:"bg-green-100",text:"text-green-800",icon:es},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Dt},expired:{bg:"bg-red-100",text:"text-red-800",icon:Rn},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:Rn}},j=M[k]||M.pending,S=j.icon;return s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${j.bg} ${j.text}`,children:[s.jsx(S,{className:"w-3 h-3"}),k==="active"?"Ativo":k==="pending"?"Pendente":k==="expired"?"Expirado":"Cancelado"]})},P=e.filter(k=>{var S,F;const M=k.contract_number.toLowerCase().includes(l.toLowerCase())||((F=(S=k.customer)==null?void 0:S.nome_razao)==null?void 0:F.toLowerCase().includes(l.toLowerCase())),j=d==="all"||k.status===d;return M&&j}),_={total:e.length,active:e.filter(k=>k.status==="active").length,expiringSoon:e.filter(k=>{const M=Math.floor((new Date(k.end_date).getTime()-new Date().getTime())/864e5);return M<=30&&M>0}).length,totalValue:e.filter(k=>k.status==="active").reduce((k,M)=>k+Number(M.value),0)};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gesto de Contratos"}),s.jsx("p",{className:"text-gray-600",children:"Controle de contratos de manuteno e suporte"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Contratos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.total})]}),s.jsx(at,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.active})]}),s.jsx(es,{className:"w-10 h-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Expirando em 30 dias"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.expiringSoon})]}),s.jsx(Rn,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total Mensal"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.totalValue)})]}),s.jsx(Yt,{className:"w-10 h-10 text-blue-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar contratos...",value:l,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:d,onChange:k=>u(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"active",children:"Ativos"}),s.jsx("option",{value:"pending",children:"Pendentes"}),s.jsx("option",{value:"expired",children:"Expirados"}),s.jsx("option",{value:"cancelled",children:"Cancelados"})]})]}),s.jsxs("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5"}),"Novo Contrato"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perodo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(k=>{var M;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.contract_number})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:(M=k.customer)==null?void 0:M.nome_razao})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"Contrato"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:Qr(new Date(k.start_date),"dd/MM/yyyy")}),s.jsxs("div",{className:"text-xs text-gray-500",children:["at ",Qr(new Date(k.end_date),"dd/MM/yyyy")]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k.value)}),s.jsx("div",{className:"text-xs text-gray-500",children:k.payment_frequency==="monthly"?"Mensal":k.payment_frequency==="quarterly"?"Trimestral":k.payment_frequency==="biannual"?"Semestral":"Anual"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C(k.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>N(k),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Hr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>b(k.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Ut,{className:"w-5 h-5"})})]})})]},k.id)})})]}),P.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(at,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum contrato encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo contrato."})]})]})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:m?"Editar Contrato":"Novo Contrato"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero do Contrato *"}),s.jsx("input",{type:"text",value:g.contract_number,onChange:k=>p({...g,contract_number:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),s.jsxs("select",{value:g.customer_id,onChange:k=>p({...g,customer_id:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente"}),n.map(k=>s.jsx("option",{value:k.id,children:k.nome_razao},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia de Pagamento"}),s.jsxs("select",{value:g.payment_frequency,onChange:k=>p({...g,payment_frequency:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Incio *"}),s.jsx("input",{type:"date",value:g.start_date,onChange:k=>p({...g,start_date:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim *"}),s.jsx("input",{type:"date",value:g.end_date,onChange:k=>p({...g,end_date:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:g.value,onChange:k=>p({...g,value:parseFloat(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},oVe=()=>{const[t,e]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(null),[o,l]=B.useState({}),[c,d]=B.useState(!1);B.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const{data:g,error:p}=await ae.from("contract_templates").select("*").eq("active",!0).order("is_default",{ascending:!1}).order("name");if(p)throw console.error("Supabase error:",p),p;console.log("Templates loaded:",g),e(g||[])}catch(g){console.error("Error loading templates:",g),alert("Erro ao carregar templates: "+g.message)}finally{n(!1)}},h=g=>{i(g.id),l(g)},A=()=>{i(null),l({})},m=async()=>{if(a)try{d(!0),o.is_default&&await ae.from("contract_templates").update({is_default:!1}).neq("id",a);const{error:g}=await ae.from("contract_templates").update({name:o.name,contract_text:o.contract_text,contract_clauses:o.contract_clauses,warranty_terms:o.warranty_terms,payment_conditions:o.payment_conditions,bank_details_template:o.bank_details_template,is_default:o.is_default,updated_at:new Date().toISOString()}).eq("id",a);if(g)throw g;alert("Template salvo com sucesso!"),await u(),A()}catch(g){console.error("Error saving template:",g),alert("Erro ao salvar template")}finally{d(!1)}},x=async g=>{try{await ae.from("contract_templates").update({is_default:!1}).neq("id",g),await ae.from("contract_templates").update({is_default:!0}).eq("id",g),alert("Template definido como padro!"),await u()}catch(p){console.error("Error setting default:",p),alert("Erro ao definir padro")}};return r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(at,{className:"h-8 w-8 text-blue-600"}),"Templates de Contrato"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie os modelos de contrato, termos de garantia e condies de pagamento"})]}),t.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 p-12 text-center",children:[s.jsx(at,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nenhum template encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No h templates de contrato cadastrados no momento."}),s.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Nota:"})," Os templates devem ser criados diretamente no banco de dados Supabase na tabela ",s.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"contract_templates"}),"."]})})]}):s.jsx("div",{className:"space-y-6",children:t.map(g=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b-2 border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(at,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:g.name}),g.is_default&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold mt-1",children:[s.jsx(Ms,{className:"h-3 w-3"}),"Template Padro"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!g.is_default&&s.jsxs("button",{onClick:()=>x(g.id),className:"px-3 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-2",title:"Definir como padro",children:[s.jsx(Ms,{className:"h-4 w-4"}),"Definir Padro"]}),a===g.id?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:m,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(rr,{className:"h-4 w-4"}),c?"Salvando...":"Salvar"]}),s.jsxs("button",{onClick:A,disabled:c,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(At,{className:"h-4 w-4"}),"Cancelar"]})]}):s.jsxs("button",{onClick:()=>h(g),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(ga,{className:"h-4 w-4"}),"Editar"]})]})]})}),s.jsx("div",{className:"p-6",children:a===g.id?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),s.jsx("strong",{children:"Dica:"})," Use variveis como [NOME_CLIENTE], [VALOR_TOTAL], [NUMERO_OS] para substituio automtica"]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nome do Template"}),s.jsx("input",{type:"text",value:o.name||"",onChange:p=>l({...o,name:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Contrato Padro"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.is_default||!1,onChange:p=>l({...o,is_default:p.target.checked}),className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Definir como template padro para todas as novas OS"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Texto do Contrato Principal"}),s.jsx("textarea",{value:o.contract_text||"",onChange:p=>l({...o,contract_text:p.target.value}),rows:10,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o texto principal do contrato..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Clusulas Contratuais"}),s.jsx("textarea",{value:o.contract_clauses||"",onChange:p=>l({...o,contract_clauses:p.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as clusulas contratuais..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Termos de Garantia"}),s.jsx("textarea",{value:o.warranty_terms||"",onChange:p=>l({...o,warranty_terms:p.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite os termos de garantia..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Condies de Pagamento"}),s.jsx("textarea",{value:o.payment_conditions||"",onChange:p=>l({...o,payment_conditions:p.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as condies de pagamento..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Dados Bancrios (Template)"}),s.jsx("textarea",{value:o.bank_details_template||"",onChange:p=>l({...o,bank_details_template:p.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o template dos dados bancrios..."})]})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[s.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(at,{className:"h-4 w-4"}),"Contrato Principal"]}),s.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap line-clamp-6",children:g.contract_text})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-200",children:[s.jsxs("h4",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(at,{className:"h-4 w-4"}),"Clusulas"]}),s.jsx("p",{className:"text-sm text-purple-800 whitespace-pre-wrap line-clamp-6",children:g.contract_clauses})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("h4",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),"Garantia"]}),s.jsx("p",{className:"text-sm text-green-800 whitespace-pre-wrap line-clamp-6",children:g.warranty_terms})]}),s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border-2 border-orange-200",children:[s.jsxs("h4",{className:"font-bold text-orange-900 mb-2 flex items-center gap-2",children:[s.jsx(at,{className:"h-4 w-4"}),"Pagamento"]}),s.jsx("p",{className:"text-sm text-orange-800 whitespace-pre-wrap line-clamp-6",children:g.payment_conditions})]})]})})]},g.id))})]})},k8={contract:"Contrato",service_order:"Ordem de Servio",proposal:"Proposta",budget:"Oramento",receipt:"Recibo",invoice:"Nota Fiscal"},P8=[{id:"order_number",label:"Nmero da OS"},{id:"customer",label:"Cliente"},{id:"date",label:"Data"},{id:"services",label:"Servios"},{id:"materials",label:"Materiais"},{id:"team",label:"Equipe"},{id:"costs",label:"Custos"},{id:"total",label:"Total"},{id:"notes",label:"Observaes"},{id:"signature",label:"Assinatura"}],lVe=()=>{var k,M,j,S,F,O,H,U,z;const[t,e]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState("service_order"),[o,l]=B.useState(null),[c,d]=B.useState({}),[u,h]=B.useState(!1),[A,m]=B.useState(!1),[x,g]=B.useState(!1);B.useEffect(()=>{p()},[a]);const p=async()=>{try{n(!0);const{data:R,error:I}=await ae.from("os_templates").select("*").eq("template_type",a).eq("active",!0).order("is_default",{ascending:!1}).order("name");if(I)throw I;e(R||[])}catch(R){console.error("Error loading templates:",R),alert("Erro ao carregar templates")}finally{n(!1)}},f=()=>{l("new"),d({name:"",template_type:a,is_default:!1,logo_url:"",header_text:"ORDEM DE SERVIO",footer_text:"Obrigado pela preferncia!",layout_config:{margins:{top:20,bottom:20,left:20,right:20},fontSize:10,lineHeight:1.2},field_order:["order_number","customer","date","services","materials","team","costs","total","signature"],show_fields:{order_number:!0,customer:!0,date:!0,services:!0,materials:!0,team:!0,costs:!0,total:!0,notes:!0,signature:!0},custom_styles:{primaryColor:"#2563eb",secondaryColor:"#64748b",headerBg:"#f8fafc",borderColor:"#e2e8f0"},active:!0})},y=R=>{l(R.id),d(R)},b=async()=>{try{if(h(!0),!c.name||!c.template_type){alert("Preencha o nome do template");return}if(o==="new"){const{error:R}=await ae.from("os_templates").insert([c]);if(R)throw R}else{const{error:R}=await ae.from("os_templates").update(c).eq("id",o);if(R)throw R}await p(),l(null),d({})}catch(R){console.error("Error saving template:",R),alert("Erro ao salvar template")}finally{h(!1)}},N=async R=>{if(confirm("Deseja excluir este template?"))try{const{error:I}=await ae.from("os_templates").update({active:!1}).eq("id",R);if(I)throw I;await p()}catch(I){console.error("Error deleting template:",I),alert("Erro ao excluir template")}},v=async R=>{try{const{error:I}=await ae.from("os_templates").update({is_default:!0}).eq("id",R);if(I)throw I;await p()}catch(I){console.error("Error setting default:",I),alert("Erro ao definir como padro")}},C=async R=>{var K;const I=(K=R.target.files)==null?void 0:K[0];if(I)try{if(m(!0),!I.type.startsWith("image/")){alert("Por favor, selecione uma imagem");return}if(I.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB");return}const te=new FileReader;te.onload=Q=>{var X;const D=(X=Q.target)==null?void 0:X.result;d(V=>({...V,logo_url:D})),m(!1)},te.onerror=()=>{alert("Erro ao carregar imagem"),m(!1)},te.readAsDataURL(I)}catch(te){console.error("Error uploading logo:",te),alert("Erro ao fazer upload da logo"),m(!1)}},P=(R,I)=>{const K=[...c.field_order||[]],te=I==="up"?R-1:R+1;te<0||te>=K.length||([K[R],K[te]]=[K[te],K[R]],d(Q=>({...Q,field_order:K})))},_=R=>{d(I=>{var K;return{...I,show_fields:{...I.show_fields,[R]:!((K=I.show_fields)!=null&&K[R])}}})};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Templates de Documentos"}),s.jsx("p",{className:"text-gray-600",children:"Gerencie e personalize templates de documentos"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),Object.entries(k8).map(([R,I])=>s.jsx("button",{onClick:()=>i(R),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===R?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:I},R))]})}),!o&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("h2",{className:"font-semibold text-gray-900",children:["Templates de ",k8[a]]}),s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(yt,{className:"w-4 h-4"}),"Novo Template"]})]}),r?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando..."}):t.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(at,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"Nenhum template encontrado"]}):s.jsx("div",{className:"divide-y divide-gray-200",children:t.map(R=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:R.name}),R.is_default&&s.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:[s.jsx(Ms,{className:"w-3 h-3 fill-current"}),"Padro"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Atualizado em ",new Date(R.updated_at).toLocaleDateString("pt-BR")]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!R.is_default&&s.jsx("button",{onClick:()=>v(R.id),className:"p-2 text-gray-600 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"Definir como padro",children:s.jsx(Ms,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(R),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:s.jsx(ga,{className:"w-5 h-5"})}),!R.is_default&&s.jsx("button",{onClick:()=>N(R.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:s.jsx(Ut,{className:"w-5 h-5"})})]})]})},R.id))})]}),s.jsx(lt,{children:o&&s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h2",{className:"font-semibold text-gray-900",children:o==="new"?"Novo Template":"Editar Template"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>g(!x),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Ss,{className:"w-4 h-4"}),x?"Editor":"Visualizar"]}),s.jsxs("button",{onClick:b,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(rr,{className:"w-4 h-4"}),u?"Salvando...":"Salvar"]}),s.jsx("button",{onClick:()=>{l(null),d({})},className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(At,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Template"}),s.jsx("input",{type:"text",value:c.name||"",onChange:R=>d(I=>({...I,name:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Template Profissional OS"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo/Imagem"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer",children:[s.jsx(jg,{className:"w-4 h-4"}),A?"Carregando...":"Fazer Upload",s.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",disabled:A})]}),c.logo_url&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-12 w-auto object-contain border border-gray-200 rounded"}),s.jsx("button",{onClick:()=>d(R=>({...R,logo_url:""})),className:"text-red-600 hover:text-red-700",children:s.jsx(At,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formatos aceitos: JPG, PNG, GIF. Tamanho mximo: 2MB"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Cabealho"}),s.jsx("input",{type:"text",value:c.header_text||"",onChange:R=>d(I=>({...I,header_text:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: ORDEM DE SERVIO"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Rodap"}),s.jsx("input",{type:"text",value:c.footer_text||"",onChange:R=>d(I=>({...I,footer_text:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Obrigado pela preferncia!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem e Visibilidade dos Campos"}),s.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:(c.field_order||[]).map((R,I)=>{var Q;const K=P8.find(D=>D.id===R);if(!K)return null;const te=((Q=c.show_fields)==null?void 0:Q[R])!==!1;return s.jsxs("div",{className:`p-3 flex items-center justify-between ${te?"":"bg-gray-50 opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:I+1}),s.jsx("input",{type:"checkbox",checked:te,onChange:()=>_(R),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-900",children:K.label})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>P(I,"up"),disabled:I===0,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:s.jsx(im,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>P(I,"down"),disabled:I===(c.field_order||[]).length-1,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:s.jsx(w2,{className:"w-4 h-4"})})]})]},R)})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(B2,{className:"w-4 h-4 inline mr-1"}),"Cores Personalizadas"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Primria"}),s.jsx("input",{type:"color",value:((k=c.custom_styles)==null?void 0:k.primaryColor)||"#2563eb",onChange:R=>d(I=>({...I,custom_styles:{...I.custom_styles,primaryColor:R.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Secundria"}),s.jsx("input",{type:"color",value:((M=c.custom_styles)==null?void 0:M.secondaryColor)||"#64748b",onChange:R=>d(I=>({...I,custom_styles:{...I.custom_styles,secondaryColor:R.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor do Cabealho"}),s.jsx("input",{type:"color",value:((j=c.custom_styles)==null?void 0:j.headerBg)||"#f8fafc",onChange:R=>d(I=>({...I,custom_styles:{...I.custom_styles,headerBg:R.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor das Bordas"}),s.jsx("input",{type:"color",value:((S=c.custom_styles)==null?void 0:S.borderColor)||"#e2e8f0",onChange:R=>d(I=>({...I,custom_styles:{...I.custom_styles,borderColor:R.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]})]})]}),x&&s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto bg-white shadow-lg",children:[s.jsxs("div",{className:"p-6 text-center border-b-2",style:{backgroundColor:(F=c.custom_styles)==null?void 0:F.headerBg,borderColor:(O=c.custom_styles)==null?void 0:O.borderColor},children:[c.logo_url&&s.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-16 w-auto mx-auto mb-4 object-contain"}),s.jsx("h1",{className:"text-2xl font-bold",style:{color:(H=c.custom_styles)==null?void 0:H.primaryColor},children:c.header_text||"ORDEM DE SERVIO"})]}),s.jsx("div",{className:"p-6 space-y-4",children:(c.field_order||[]).map(R=>{var te,Q,D;const I=P8.find(X=>X.id===R),K=((te=c.show_fields)==null?void 0:te[R])!==!1;return!I||!K?null:s.jsxs("div",{className:"flex items-center gap-2 py-2 border-b",style:{borderColor:(Q=c.custom_styles)==null?void 0:Q.borderColor},children:[s.jsxs("span",{className:"font-medium",style:{color:(D=c.custom_styles)==null?void 0:D.primaryColor},children:[I.label,":"]}),s.jsx("span",{className:"text-gray-600",children:"[Contedo]"})]},R)})}),s.jsx("div",{className:"p-4 text-center text-sm border-t-2",style:{borderColor:(U=c.custom_styles)==null?void 0:U.borderColor,color:(z=c.custom_styles)==null?void 0:z.secondaryColor},children:c.footer_text||"Obrigado pela preferncia!"})]})})]})]})})]})},cVe=()=>{const{isAdmin:t}=cn(),[e,r]=B.useState([]),[n,a]=B.useState([]),[i,o]=B.useState([]),[l,c]=B.useState(!0),[d,u]=B.useState(""),[h,A]=B.useState("all"),[m,x]=B.useState(!1),[g,p]=B.useState(null),[f,y]=B.useState({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""});B.useEffect(()=>{b()},[]),B.useEffect(()=>{const j=f.amount+f.tax_amount;y(S=>({...S,total_amount:j}))},[f.amount,f.tax_amount]);const b=async()=>{try{c(!0);const[j,S,F]=await Promise.all([ae.from("finance_invoices").select(`
            *,
            customer:customers(nome_razao),
            service_order:service_orders(ordem_servico)
          `).order("created_at",{ascending:!1}),ae.from("customers").select("id, nome_razao"),ae.from("service_orders").select("id, ordem_servico")]);if(j.error)throw j.error;if(S.error)throw S.error;if(F.error)throw F.error;r(j.data||[]),a(S.data||[]),o(F.data||[])}catch(j){console.error("Error loading data:",j)}finally{c(!1)}},N=async()=>{try{if(!f.invoice_number||!f.customer_id){alert("Preencha os campos obrigatrios");return}if(g){const{error:j}=await ae.from("finance_invoices").update(f).eq("id",g.id);if(j)throw j}else{const{error:j}=await ae.from("finance_invoices").insert([f]);if(j)throw j}await b(),P()}catch(j){console.error("Error saving invoice:",j),alert("Erro ao salvar nota fiscal")}},v=async j=>{if(confirm("Tem certeza que deseja excluir esta nota fiscal?"))try{const{error:S}=await ae.from("finance_invoices").delete().eq("id",j);if(S)throw S;await b()}catch(S){console.error("Error deleting invoice:",S),alert("Erro ao excluir nota fiscal")}},C=j=>{p(j),y({invoice_number:j.invoice_number,customer_id:j.customer_id,service_order_id:j.service_order_id||"",issue_date:j.issue_date,due_date:j.due_date,amount:j.amount,tax_amount:j.tax_amount,total_amount:j.total_amount,status:j.status,notes:j.notes||""}),x(!0)},P=()=>{x(!1),p(null),y({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""})},_=j=>{const S={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Dt},issued:{bg:"bg-blue-100",text:"text-blue-800",icon:ja},paid:{bg:"bg-green-100",text:"text-green-800",icon:es},cancelled:{bg:"bg-red-100",text:"text-red-800",icon:ud},overdue:{bg:"bg-red-100",text:"text-red-800",icon:Rn}},F=S[j]||S.pending,O=F.icon;return s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${F.bg} ${F.text}`,children:[s.jsx(O,{className:"w-3 h-3"}),j==="pending"?"Pendente":j==="issued"?"Emitida":j==="paid"?"Paga":j==="cancelled"?"Cancelada":"Vencida"]})},k=e.filter(j=>{var O,H;const S=j.invoice_number.toLowerCase().includes(d.toLowerCase())||((H=(O=j.customer)==null?void 0:O.nome_razao)==null?void 0:H.toLowerCase().includes(d.toLowerCase())),F=h==="all"||j.status===h;return S&&F}),M={total:e.length,pending:e.filter(j=>j.status==="pending").length,issued:e.filter(j=>j.status==="issued").length,paid:e.filter(j=>j.status==="paid").length,totalValue:e.filter(j=>j.status==="paid").reduce((j,S)=>j+Number(S.total_amount),0)};return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notas Fiscais"}),s.jsx("p",{className:"text-gray-600",children:"Gesto e emisso de notas fiscais"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total})]}),s.jsx(at,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pendentes"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:M.pending})]}),s.jsx(Dt,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Emitidas"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:M.issued})]}),s.jsx(ja,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pagas"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:M.paid})]}),s.jsx(es,{className:"w-10 h-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),s.jsx("p",{className:"text-xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M.totalValue)})]})})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar notas fiscais...",value:d,onChange:j=>u(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:h,onChange:j=>A(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"pending",children:"Pendentes"}),s.jsx("option",{value:"issued",children:"Emitidas"}),s.jsx("option",{value:"paid",children:"Pagas"}),s.jsx("option",{value:"cancelled",children:"Canceladas"})]})]}),s.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5"}),"Nova NF"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emisso"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(j=>{var S,F;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.invoice_number})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:(S=j.customer)==null?void 0:S.nome_razao})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:((F=j.service_order)==null?void 0:F.ordem_servico)||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:Qr(new Date(j.issue_date),"dd/MM/yyyy")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:Qr(new Date(j.due_date),"dd/MM/yyyy")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j.total_amount)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_(j.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>C(j),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:s.jsx(Hr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>v(j.id),className:"text-red-600 hover:text-red-900",title:"Excluir",children:s.jsx(Ut,{className:"w-5 h-5"})})]})})]},j.id)})})]}),k.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(at,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma nota fiscal encontrada"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando uma nova nota fiscal."})]})]})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:g?"Editar Nota Fiscal":"Nova Nota Fiscal"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero NF *"}),s.jsx("input",{type:"text",value:f.invoice_number,onChange:j=>y({...f,invoice_number:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:f.status,onChange:j=>y({...f,status:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"issued",children:"Emitida"}),s.jsx("option",{value:"paid",children:"Paga"}),s.jsx("option",{value:"cancelled",children:"Cancelada"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),s.jsxs("select",{value:f.customer_id,onChange:j=>y({...f,customer_id:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente"}),n.map(j=>s.jsx("option",{value:j.id,children:j.nome_razao},j.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordem de Servio (opcional)"}),s.jsxs("select",{value:f.service_order_id,onChange:j=>y({...f,service_order_id:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Sem OS vinculada"}),i.map(j=>s.jsx("option",{value:j.id,children:j.ordem_servico},j.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Emisso"}),s.jsx("input",{type:"date",value:f.issue_date,onChange:j=>y({...f,issue_date:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Vencimento"}),s.jsx("input",{type:"date",value:f.due_date,onChange:j=>y({...f,due_date:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:f.amount,onChange:j=>y({...f,amount:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impostos (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:f.tax_amount,onChange:j=>y({...f,tax_amount:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:f.total_amount,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:f.notes,onChange:j=>y({...f,notes:j.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},dVe=()=>{const{isAdmin:t}=cn(),[e,r]=B.useState(!0),[n,a]=B.useState(!1),[i,o]=B.useState({company_name:"",trade_name:"",cnpj:"",state_registration:"",municipal_registration:"",address:"",city:"",state:"",zip_code:"",phone:"",email:"",website:"",primary_color:"#3B82F6",secondary_color:"#10B981"});B.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const{data:d,error:u}=await ae.from("company_settings").select("*").limit(1).maybeSingle();if(u&&u.code!=="PGRST116")throw u;d&&o(d)}catch(d){console.error("Error loading company settings:",d)}finally{r(!1)}},c=async()=>{try{if(a(!0),i.id){const{error:d}=await ae.from("company_settings").update(i).eq("id",i.id);if(d)throw d}else{const{data:d,error:u}=await ae.from("company_settings").insert([i]).select().single();if(u)throw u;o(d)}alert("Configuraes salvas com sucesso!")}catch(d){console.error("Error saving company settings:",d),alert("Erro ao salvar configuraes")}finally{a(!1)}};return e?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configuraes da Empresa"}),s.jsx("p",{className:"text-gray-600",children:"Configure as informaes da sua empresa"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(qu,{className:"w-6 h-6"}),"Dados da Empresa"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razo Social *"}),s.jsx("input",{type:"text",value:i.company_name,onChange:d=>o({...i,company_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:i.trade_name,onChange:d=>o({...i,trade_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ *"}),s.jsx("input",{type:"text",value:i.cnpj,onChange:d=>o({...i,cnpj:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00.000.000/0000-00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrio Estadual"}),s.jsx("input",{type:"text",value:i.state_registration,onChange:d=>o({...i,state_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrio Municipal"}),s.jsx("input",{type:"text",value:i.municipal_registration,onChange:d=>o({...i,municipal_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Endereo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo Completo"}),s.jsx("input",{type:"text",value:i.address,onChange:d=>o({...i,address:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:i.city,onChange:d=>o({...i,city:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsx("input",{type:"text",value:i.state,onChange:d=>o({...i,state:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",maxLength:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),s.jsx("input",{type:"text",value:i.zip_code,onChange:d=>o({...i,zip_code:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:i.phone,onChange:d=>o({...i,phone:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),s.jsx("input",{type:"url",value:i.website,onChange:d=>o({...i,website:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Personalizao"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Primria"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Secundria"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-end",children:s.jsxs("button",{onClick:c,disabled:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(rr,{className:"w-5 h-5"}),n?"Salvando...":"Salvar Configuraes"]})})]})})]})},uVe=()=>{const{isAdmin:t}=cn(),[e,r]=B.useState([]),[n,a]=B.useState(!0),[i,o]=B.useState(""),[l,c]=B.useState("all"),[d,u]=B.useState(!1),[h,A]=B.useState(null),[m,x]=B.useState({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""});B.useEffect(()=>{g()},[]);const g=async()=>{try{a(!0);const{data:_,error:k}=await ae.from("equipments").select("*").order("name",{ascending:!0});if(k)throw k;r(_||[])}catch(_){console.error("Error loading equipments:",_)}finally{a(!1)}},p=async()=>{try{if(!m.name||!m.brand||!m.model){alert("Preencha os campos obrigatrios");return}if(h){const{error:_}=await ae.from("equipments").update(m).eq("id",h.id);if(_)throw _}else{const{error:_}=await ae.from("equipments").insert([m]);if(_)throw _}await g(),b()}catch(_){console.error("Error saving equipment:",_),alert("Erro ao salvar equipamento")}},f=async _=>{if(confirm("Tem certeza que deseja excluir este equipamento?"))try{const{error:k}=await ae.from("equipments").delete().eq("id",_);if(k)throw k;await g()}catch(k){console.error("Error deleting equipment:",k),alert("Erro ao excluir equipamento")}},y=_=>{A(_),x({name:_.name,type:_.type,brand:_.brand,model:_.model,serial_number:_.serial_number||"",status:_.status||"active",location:_.location||"",notes:_.notes||""}),u(!0)},b=()=>{u(!1),A(null),x({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""})},N=_=>({ar_condicionado:"Ar Condicionado",refrigeracao:"Refrigerao",eletrica:"Eltrica",hidraulica:"Hidrulica",outros:"Outros"})[_]||_,v=e.filter(_=>{const k=_.name.toLowerCase().includes(i.toLowerCase())||_.brand.toLowerCase().includes(i.toLowerCase())||_.model.toLowerCase().includes(i.toLowerCase()),M=l==="all"||_.type===l;return k&&M}),C=["ar_condicionado","refrigeracao","eletrica","hidraulica","outros"],P={total:e.length,byCategory:C.reduce((_,k)=>(_[k]=e.filter(M=>M.type===k).length,_),{})};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catlogo de Equipamentos"}),s.jsx("p",{className:"text-gray-600",children:"Gesto de equipamentos e especificaes tcnicas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.total})]}),s.jsx(Bt,{className:"w-10 h-10 text-blue-500"})]})}),C.slice(0,4).map(_=>s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:N(_)}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P.byCategory[_]||0})]})},_))]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar equipamentos...",value:i,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Categorias"}),C.map(_=>s.jsx("option",{value:_,children:N(_)},_))]})]}),s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5"}),"Novo Equipamento"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marca"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modelo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(_=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:N(_.type)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:_.brand})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:_.model})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:_.notes})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>y(_),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Hr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>f(_.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Ut,{className:"w-5 h-5"})})]})})]},_.id))})]}),v.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum equipamento encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo equipamento."})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:h?"Editar Equipamento":"Novo Equipamento"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),s.jsx("input",{type:"text",value:m.name,onChange:_=>x({...m,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria *"}),s.jsx("select",{value:m.type,onChange:_=>x({...m,type:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:C.map(_=>s.jsx("option",{value:_,children:N(_)},_))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),s.jsx("input",{type:"text",value:m.brand,onChange:_=>x({...m,brand:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),s.jsx("input",{type:"text",value:m.model,onChange:_=>x({...m,model:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero de Srie"}),s.jsx("input",{type:"text",value:m.serial_number,onChange:_=>x({...m,serial_number:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),s.jsx("input",{type:"text",value:m.location,onChange:_=>x({...m,location:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:m.notes,onChange:_=>x({...m,notes:_.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},hVe=()=>{const[t,e]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(""),[o,l]=B.useState(!1),[c,d]=B.useState(null),[u,h]=B.useState("all"),[A,m]=B.useState(!1),[x,g]=B.useState(!1),[p,f]=B.useState(""),[y,b]=B.useState(""),[N,v]=B.useState({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""});B.useEffect(()=>{C()},[]);const C=async()=>{try{n(!0);const{data:U,error:z}=await ae.from("suppliers").select("*").order("name");if(z)throw z;e(U||[])}catch(U){console.error("Error loading suppliers:",U)}finally{n(!1)}},P=async()=>{try{if(!N.name){alert("Nome  obrigatrio!");return}const U={name:N.name,cnpj:N.cnpj||null,email:N.email||null,phone:N.phone||null,address:N.address||null,contact_person:N.contact_person||null,payment_terms:N.payment_terms||null,notes:N.notes||null,active:N.active};if(c){const{error:z}=await ae.from("suppliers").update(U).eq("id",c.id);if(z)throw z}else{const{error:z}=await ae.from("suppliers").insert([U]);if(z)throw z}l(!1),d(null),j(),C()}catch(U){console.error("Error saving supplier:",U),alert("Erro ao salvar fornecedor!")}},_=U=>{d(U),v({name:U.name,cnpj:U.cnpj||"",email:U.email||"",phone:U.phone||"",address:U.address||"",contact_person:U.contact_person||"",payment_terms:U.payment_terms||"",active:U.active,notes:U.notes||""}),l(!0)},k=async U=>{if(confirm("Deseja realmente excluir este fornecedor?"))try{const{error:z}=await ae.from("suppliers").delete().eq("id",U);if(z)throw z;C()}catch(z){console.error("Error deleting supplier:",z),alert("Erro ao excluir fornecedor!")}},M=async(U,z)=>{try{const{error:R}=await ae.from("suppliers").update({active:!z}).eq("id",U);if(R)throw R;C()}catch(R){console.error("Error updating status:",R)}},j=()=>{v({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""}),f(""),b("")},S=async()=>{if(!N.cnpj){f("Digite um CNPJ");return}if(N.cnpj.replace(/\D/g,"").length!==14){f("CNPJ deve ter 14 dgitos");return}m(!0),f("");try{const z=await gV(N.cnpj);z&&v(R=>({...R,name:z.nome_fantasia||z.razao_social||R.name,email:z.email||R.email,phone:z.telefone||R.phone,address:z.logradouro?`${z.logradouro}, ${z.numero||"S/N"}`:R.address}))}catch(z){f(z instanceof Error?z.message:"Erro ao buscar CNPJ")}finally{m(!1)}},F=U=>{const z=xV(U);v({...N,cnpj:z}),f("")},O=t.filter(U=>{var I;const z=U.name.toLowerCase().includes(a.toLowerCase())||((I=U.cnpj)==null?void 0:I.toLowerCase().includes(a.toLowerCase())),R=u==="all"||u==="active"&&U.active||u==="inactive"&&!U.active;return z&&R}),H={total:t.length,active:t.filter(U=>U.active).length,inactive:t.filter(U=>!U.active).length};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx($o,{className:"h-8 w-8 text-blue-600"}),"Gesto de Fornecedores"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie seus fornecedores e parceiros"})]}),s.jsxs("button",{onClick:()=>{d(null),j(),l(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Novo Fornecedor"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx($o,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H.total})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(es,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H.active})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:s.jsx(ud,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Inativos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H.inactive})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar fornecedores...",value:a,onChange:U=>i(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:u,onChange:U=>h(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"active",children:"Ativos"}),s.jsx("option",{value:"inactive",children:"Inativos"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(U=>s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`p-6 rounded-xl border-2 transition-all ${U.active?"bg-white border-gray-200 hover:border-blue-300":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900 truncate",children:U.name}),U.name&&s.jsx("p",{className:"text-sm text-gray-600 truncate",children:U.name})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap ml-2 ${U.active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:U.active?"Ativo":"Inativo"})]}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[U.cnpj&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx($o,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:U.cnpj})]}),U.email&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ts,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:U.email})]}),U.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(oa,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{children:U.phone})]}),U.address&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ii,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:U.address})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>_(U),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Hr,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>M(U.id,U.active),className:`px-3 py-2 rounded-lg transition-colors ${U.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:U.active?"Desativar":"Ativar",children:U.active?s.jsx(ud,{className:"h-4 w-4"}):s.jsx(es,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>k(U.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]},U.id))}),O.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx($o,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum fornecedor encontrado"})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-3xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Editar Fornecedor":"Novo Fornecedor"}),s.jsx("button",{onClick:()=>{l(!1),d(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ud,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia *"}),s.jsx("input",{type:"text",value:N.name,onChange:U=>v({...N,name:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Materiais Premium Ltda"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:N.cnpj,onChange:U=>F(U.target.value),onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),S())},className:`w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${p?"border-red-500":"border-gray-300"}`,placeholder:"00.000.000/0000-00",maxLength:18}),s.jsx("button",{type:"button",onClick:S,disabled:A||!N.cnpj,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar CNPJ",children:A?s.jsx(xf,{className:"w-5 h-5 animate-spin"}):s.jsx(ur,{className:"w-5 h-5"})})]}),p&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:N.email,onChange:U=>v({...N,email:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@fornecedor.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:N.phone,onChange:U=>v({...N,phone:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),s.jsx("input",{type:"text",value:N.contact_person,onChange:U=>v({...N,contact_person:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do responsvel"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo"}),s.jsx("input",{type:"text",value:N.address,onChange:U=>v({...N,address:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condies de Pagamento"}),s.jsx("input",{type:"text",value:N.payment_terms,onChange:U=>v({...N,payment_terms:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 30 dias,  vista, etc"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:N.notes,onChange:U=>v({...N,notes:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais..."})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[s.jsx("input",{type:"checkbox",id:"ativo",checked:N.active,onChange:U=>v({...N,active:U.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"ativo",className:"text-sm font-medium text-gray-700",children:"Fornecedor ativo"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{l(!1),d(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:P,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(es,{className:"h-4 w-4"}),"Salvar"]})]})]})})]})},AVe=({isOpen:t,onClose:e,onSave:r,scheduleId:n})=>{const[a,i]=B.useState(!1),[o,l]=B.useState([]),[c,d]=B.useState({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""});B.useEffect(()=>{t&&(u(),n&&h())},[t,n]);const u=async()=>{try{const{data:f}=await ae.from("inventory_items").select("id, name, supplier_name, unit_cost, min_quantity").eq("active",!0).order("name");l(f||[])}catch(f){console.error("Error loading inventory:",f)}},h=async()=>{if(n)try{const{data:f,error:y}=await ae.from("purchase_schedules").select("*").eq("id",n).single();if(y)throw y;f&&d({schedule_name:f.schedule_name||"",inventory_id:f.inventory_id||"",supplier_name:f.supplier_name||"",frequency:f.frequency||"monthly",quantity:f.quantity||0,unit_price:f.unit_price||0,next_order_date:f.next_order_date||new Date().toISOString().split("T")[0],active:f.active!==!1,notes:f.notes||""})}catch(f){console.error("Error loading schedule:",f),alert("Erro ao carregar programao")}},A=f=>{const y=o.find(b=>b.id===f);y&&d(b=>({...b,inventory_id:f,supplier_name:y.supplier_name||"",unit_price:y.unit_cost||0,quantity:y.min_quantity*2||10,schedule_name:`Compra Recorrente - ${y.name}`}))},m=async f=>{try{const y=o.find(b=>b.id===f.inventory_id);if(!y)return;await ae.from("agenda_events").insert([{title:`Compra Programada: ${y.name}`,description:`Programao automtica de compra
Quantidade: ${f.quantity}
Fornecedor: ${f.supplier_name}
Valor: R$ ${(f.quantity*f.unit_price).toFixed(2)}`,start_date:f.next_order_date,end_date:f.next_order_date,type:"purchase",status:"pending",all_day:!0,color:"#f59e0b",metadata:{schedule_id:n,inventory_id:f.inventory_id,supplier:f.supplier_name,quantity:f.quantity,unit_price:f.unit_price}}])}catch(y){console.error("Error creating agenda event:",y)}},x=async()=>{if(!c.schedule_name||!c.inventory_id||c.quantity<=0){alert("Preencha todos os campos obrigatrios");return}i(!0);try{const f={schedule_name:c.schedule_name,inventory_id:c.inventory_id,supplier_name:c.supplier_name,frequency:c.frequency,quantity:c.quantity,unit_price:c.unit_price,next_order_date:c.next_order_date,active:c.active,notes:c.notes,updated_at:new Date().toISOString()};if(n){const{error:y}=await ae.from("purchase_schedules").update(f).eq("id",n);if(y)throw y}else{const{data:y,error:b}=await ae.from("purchase_schedules").insert([f]).select().single();if(b)throw b;await m(y)}alert("Programao salva com sucesso!"),r(),e(),g()}catch(f){console.error("Error saving schedule:",f),alert("Erro ao salvar programao")}finally{i(!1)}},g=()=>{d({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""})},p=[{value:"daily",label:"Diria"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?s.jsx(lt,{children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(As,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold",children:[n?"Editar":"Nova"," Programao de Compra"]}),s.jsx("p",{className:"text-sm text-blue-100",children:"Compras automticas recorrentes"})]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:s.jsx(At,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Rn,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Programao Automtica"}),s.jsx("p",{children:"Esta compra ser criada automaticamente na agenda na data especificada e se repetir na frequncia escolhida."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Bt,{className:"inline h-4 w-4 mr-1"}),"Item do Estoque *"]}),s.jsxs("select",{value:c.inventory_id,onChange:f=>A(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um item..."}),o.map(f=>s.jsxs("option",{value:f.id,children:[f.name," - ",f.supplier_name||"Sem fornecedor"]},f.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programao *"}),s.jsx("input",{type:"text",value:c.schedule_name,onChange:f=>d(y=>({...y,schedule_name:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Compra Mensal de Cabos",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor *"}),s.jsx("input",{type:"text",value:c.supplier_name,onChange:f=>d(y=>({...y,supplier_name:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(As,{className:"inline h-4 w-4 mr-1"}),"Frequncia *"]}),s.jsx("select",{value:c.frequency,onChange:f=>d(y=>({...y,frequency:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:p.map(f=>s.jsx("option",{value:f.value,children:f.label},f.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade *"}),s.jsx("input",{type:"number",value:c.quantity,onChange:f=>d(y=>({...y,quantity:parseFloat(f.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Yt,{className:"inline h-4 w-4 mr-1"}),"Preo Unitrio (R$)"]}),s.jsx("input",{type:"number",value:c.unit_price,onChange:f=>d(y=>({...y,unit_price:parseFloat(f.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(lr,{className:"inline h-4 w-4 mr-1"}),"Prxima Compra *"]}),s.jsx("input",{type:"date",value:c.next_order_date,onChange:f=>d(y=>({...y,next_order_date:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.active,onChange:f=>d(y=>({...y,active:f.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Programao Ativa"})]})}),c.quantity>0&&c.unit_price>0&&s.jsx("div",{className:"md:col-span-2 bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Valor Total Estimado:"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",(c.quantity*c.unit_price).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),s.jsx("textarea",{value:c.notes,onChange:f=>d(y=>({...y,notes:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais sobre esta programao..."})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:x,disabled:a,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[s.jsx(rr,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programao"]})]})]})})}):null},mVe=({isOpen:t,onClose:e,onSave:r,scheduleId:n})=>{const[a,i]=B.useState(!1),[o,l]=B.useState([]),[c,d]=B.useState({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0});B.useEffect(()=>{t&&(u(),n&&h())},[t,n]);const u=async()=>{try{const{data:p}=await ae.from("customers").select("id, nome_razao, email, telefone").order("nome_razao");l(p||[])}catch(p){console.error("Error loading customers:",p)}},h=async()=>{if(n)try{const{data:p,error:f}=await ae.from("rental_schedules").select("*").eq("id",n).single();if(f)throw f;p&&d({schedule_name:p.schedule_name||"",customer_id:p.customer_id||"",equipment_name:p.equipment_name||"",frequency:p.frequency||"monthly",rental_value:p.rental_value||0,start_date:p.start_date||new Date().toISOString().split("T")[0],end_date:p.end_date||"",next_billing_date:p.next_billing_date||new Date().toISOString().split("T")[0],active:p.active!==!1,notes:p.notes||"",auto_generate_invoice:p.auto_generate_invoice!==!1})}catch(p){console.error("Error loading schedule:",p),alert("Erro ao carregar programao de locao")}},A=async p=>{try{const f=o.find(y=>y.id===p.customer_id);if(!f)return;await ae.from("agenda_events").insert([{title:`Locao: ${p.equipment_name}`,description:`Cliente: ${f.nome_razao}
Equipamento: ${p.equipment_name}
Valor: R$ ${p.rental_value.toFixed(2)}
Faturamento automtico: ${p.auto_generate_invoice?"Sim":"No"}`,start_date:p.next_billing_date,end_date:p.next_billing_date,type:"rental",status:"pending",all_day:!0,color:"#8b5cf6",customer_id:p.customer_id,metadata:{schedule_id:n,customer_id:p.customer_id,equipment_name:p.equipment_name,rental_value:p.rental_value,auto_generate_invoice:p.auto_generate_invoice}}])}catch(f){console.error("Error creating agenda event:",f)}},m=async()=>{if(!c.schedule_name||!c.customer_id||!c.equipment_name||c.rental_value<=0){alert("Preencha todos os campos obrigatrios");return}i(!0);try{const p={schedule_name:c.schedule_name,customer_id:c.customer_id,equipment_name:c.equipment_name,frequency:c.frequency,rental_value:c.rental_value,start_date:c.start_date,end_date:c.end_date||null,next_billing_date:c.next_billing_date,active:c.active,notes:c.notes,auto_generate_invoice:c.auto_generate_invoice,updated_at:new Date().toISOString()};if(n){const{error:f}=await ae.from("rental_schedules").update(p).eq("id",n);if(f)throw f}else{const{data:f,error:y}=await ae.from("rental_schedules").insert([p]).select().single();if(y)throw y;await A(f)}alert("Programao de locao salva com sucesso!"),r(),e(),x()}catch(p){console.error("Error saving rental schedule:",p),alert("Erro ao salvar programao de locao")}finally{i(!1)}},x=()=>{d({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0})},g=[{value:"daily",label:"Diria"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?s.jsx(lt,{children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ek,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold",children:[n?"Editar":"Nova"," Programao de Locao"]}),s.jsx("p",{className:"text-sm text-purple-100",children:"Locaes e faturamentos recorrentes"})]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:s.jsx(At,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Rn,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-purple-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Faturamento Automtico"}),s.jsx("p",{children:"Esta locao ser lanada automaticamente na agenda e pode gerar receitas financeiras na data especificada."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programao *"}),s.jsx("input",{type:"text",value:c.schedule_name,onChange:p=>d(f=>({...f,schedule_name:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Locao Mensal - Escavadeira",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),s.jsxs("select",{value:c.customer_id,onChange:p=>d(f=>({...f,customer_id:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(p=>s.jsx("option",{value:p.id,children:p.nome_razao},p.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Bt,{className:"inline h-4 w-4 mr-1"}),"Equipamento/Servio *"]}),s.jsx("input",{type:"text",value:c.equipment_name,onChange:p=>d(f=>({...f,equipment_name:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Nome do equipamento ou servio locado",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(As,{className:"inline h-4 w-4 mr-1"}),"Frequncia *"]}),s.jsx("select",{value:c.frequency,onChange:p=>d(f=>({...f,frequency:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:g.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Yt,{className:"inline h-4 w-4 mr-1"}),"Valor da Locao (R$) *"]}),s.jsx("input",{type:"number",value:c.rental_value,onChange:p=>d(f=>({...f,rental_value:parseFloat(p.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(lr,{className:"inline h-4 w-4 mr-1"}),"Data de Incio *"]}),s.jsx("input",{type:"date",value:c.start_date,onChange:p=>d(f=>({...f,start_date:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Trmino (Opcional)"}),s.jsx("input",{type:"date",value:c.end_date,onChange:p=>d(f=>({...f,end_date:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prximo Faturamento *"}),s.jsx("input",{type:"date",value:c.next_billing_date,onChange:p=>d(f=>({...f,next_billing_date:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.active,onChange:p=>d(f=>({...f,active:p.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ativa"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.auto_generate_invoice,onChange:p=>d(f=>({...f,auto_generate_invoice:p.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gerar Receita"})]})]}),c.rental_value>0&&s.jsx("div",{className:"md:col-span-2 bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Valor por Perodo:"}),s.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["R$ ",c.rental_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),s.jsx("textarea",{value:c.notes,onChange:p=>d(f=>({...f,notes:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Informaes adicionais sobre esta locao..."})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:m,disabled:a,className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[s.jsx(rr,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programao"]})]})]})})}):null},fVe=()=>{const[t,e]=B.useState([]),[r,n]=B.useState([]),[a,i]=B.useState(!0),[o,l]=B.useState("all"),[c,d]=B.useState(""),[u,h]=B.useState("alerts"),[A,m]=B.useState(!1),[x,g]=B.useState(!1);B.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0),await Promise.all([f(),y()])}catch(j){console.error("Error loading data:",j)}finally{i(!1)}},f=async()=>{const{data:j}=await ae.from("purchase_orders").select("*").order("created_at",{ascending:!1}).limit(100);e(j||[])},y=async()=>{try{const{data:j,error:S}=await ae.rpc("get_items_needing_purchase");if(S)throw S;n(j||[])}catch(j){console.error("Error loading low stock items:",j)}},b=j=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",ordered:"bg-purple-100 text-purple-800",partial:"bg-orange-100 text-orange-800",received:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[j]||"bg-gray-100 text-gray-800",N=j=>({draft:"Rascunho",pending:"Pendente",approved:"Aprovado",ordered:"Pedido Feito",partial:"Parcial",received:"Recebido",cancelled:"Cancelado"})[j]||j,v=j=>({low:"text-gray-500",normal:"text-blue-500",high:"text-orange-500",urgent:"text-red-500"})[j]||"text-gray-500",C=j=>({critical:"bg-red-600 text-white",urgent:"bg-orange-500 text-white",normal:"bg-yellow-500 text-white",low:"bg-blue-500 text-white"})[j]||"bg-gray-500 text-white",P=j=>({critical:"CRTICO",urgent:"URGENTE",normal:"NORMAL",low:"BAIXA"})[j]||j,_=t.filter(j=>{const S=j.order_number.toLowerCase().includes(c.toLowerCase())||j.supplier_name.toLowerCase().includes(c.toLowerCase()),F=o==="all"||j.status===o;return S&&F}),k={totalOrders:t.length,pendingOrders:t.filter(j=>j.status==="pending"||j.status==="approved").length,criticalItems:r.filter(j=>j.urgency==="critical").length,totalAlerts:r.length,pendingValue:t.filter(j=>j.status==="pending"||j.status==="approved").reduce((j,S)=>j+(S.final_amount||0),0)},M=async j=>{try{const{data:S}=await ae.rpc("generate_purchase_order_number"),F=S||`PO${Date.now()}`,O=j.supplier||"A Definir",H=j.unit_price||j.estimated_cost/j.recommended_order_qty,{data:U,error:z}=await ae.from("purchase_orders").insert([{order_number:F,supplier_name:O,status:"draft",priority:j.urgency==="critical"?"urgent":j.urgency==="urgent"?"high":"normal",order_date:new Date().toISOString().split("T")[0],notes:`Pedido automtico - ${j.item_name}
Categoria: ${j.category||"N/A"}
Localizao: ${j.location||"N/A"}
Estoque Atual: ${j.current_stock}
Estoque Mnimo: ${j.min_stock}
Dias at ruptura: ${j.days_until_stockout||"N/A"}`}]).select().single();if(z)throw z;const{error:R}=await ae.from("purchase_order_items").insert([{purchase_order_id:U.id,inventory_id:j.inventory_id,item_name:j.item_name,quantity:j.recommended_order_qty,unit_price:H,urgency_level:j.urgency}]);if(R)throw R;alert(` Pedido ${F} criado com sucesso!

Fornecedor: ${O}
Quantidade: ${j.recommended_order_qty}
Valor: R$ ${j.estimated_cost.toFixed(2)}`),await p()}catch(S){console.error("Error creating purchase order:",S),alert("Erro ao criar pedido de compra")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(HA,{className:"h-8 w-8 text-blue-600"}),"Departamento de Compras"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gesto completa de pedidos e alertas de estoque"})]}),s.jsxs("button",{onClick:()=>alert("Modal de novo pedido em desenvolvimento"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all",children:[s.jsx(yt,{className:"h-5 w-5"}),"Novo Pedido"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(at,{className:"h-8 w-8 text-blue-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k.totalOrders}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Pedidos"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(Dt,{className:"h-8 w-8 text-yellow-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k.pendingOrders}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Pendentes"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(kr,{className:"h-8 w-8 text-red-500 animate-pulse mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-red-600",children:k.criticalItems}),s.jsx("p",{className:"text-sm text-gray-600",children:"Itens Crticos"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(Bt,{className:"h-8 w-8 text-orange-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k.totalAlerts}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Alertas"})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(Yt,{className:"h-8 w-8 text-green-500 mb-2"}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["R$ ",k.pendingValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Pendente"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b",children:[s.jsxs("button",{onClick:()=>h("alerts"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="alerts"?"bg-red-50 text-red-600 border-b-2 border-red-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(kr,{className:"h-5 w-5"}),s.jsxs("span",{className:"font-medium",children:["Alertas de Estoque (",k.totalAlerts,")"]})]}),s.jsxs("button",{onClick:()=>h("orders"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="orders"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(HA,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Pedidos de Compra"})]}),s.jsxs("button",{onClick:()=>h("schedules"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="schedules"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Dt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Programao"})]}),s.jsxs("button",{onClick:()=>h("quotes"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="quotes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(at,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Cotaes"})]})]}),s.jsxs("div",{className:"p-6",children:[u==="alerts"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(kr,{className:"h-6 w-6 text-red-600 animate-pulse"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-red-900",children:[k.criticalItems," ",k.criticalItems===1?"Item Crtico":"Itens Crticos"," Necessitando Ateno Imediata"]}),s.jsx("p",{className:"text-sm text-red-700",children:'Clique em "Criar Pedido" para gerar automaticamente um pedido de compra'})]})]}),r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Urgncia"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fornecedor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estoque"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Qtd. Recomendada"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Preo Unit."}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aes"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(j=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${C(j.urgency)}`,children:P(j.urgency)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:j.item_name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[j.category||"Sem categoria","  ",j.location||"Sem local"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:j.supplier||"A definir"}),j.last_purchase_date&&s.jsxs("div",{className:"text-xs text-gray-500",children:["ltima compra: ",new Date(j.last_purchase_date).toLocaleDateString("pt-BR")]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-red-600",children:j.current_stock})," ",s.jsxs("span",{className:"text-gray-500",children:["/ ",j.min_stock]})]}),j.days_until_stockout!==null&&j.days_until_stockout<30&&s.jsxs("div",{className:"text-xs text-orange-600 font-medium",children:[" ",j.days_until_stockout," dias"]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:j.recommended_order_qty}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["R$ ",(j.unit_price||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-green-600",children:["R$ ",j.estimated_cost.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("button",{onClick:()=>M(j),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2 ml-auto",children:[s.jsx(HA,{className:"h-4 w-4"}),"Criar Pedido"]})})]},j.inventory_id))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ca,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tudo Certo!"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum item necessitando compra no momento"})]})]}),u==="orders"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:j=>d(j.target.value),placeholder:"Buscar por nmero ou fornecedor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"draft",children:"Rascunho"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"approved",children:"Aprovado"}),s.jsx("option",{value:"ordered",children:"Pedido Feito"}),s.jsx("option",{value:"received",children:"Recebido"}),s.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),_.length>0?s.jsx("div",{className:"space-y-3",children:_.map(j=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.order_number}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b(j.status)}`,children:N(j.status)}),s.jsxs("span",{className:`text-sm font-medium ${v(j.priority)}`,children:[j.priority==="urgent"&&" URGENTE",j.priority==="high"&&" ALTA",j.priority==="normal"&&" NORMAL",j.priority==="low"&&" BAIXA"]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:["Fornecedor: ",s.jsx("span",{className:"font-medium text-gray-900",children:j.supplier_name})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{children:["Data: ",new Date(j.order_date).toLocaleDateString("pt-BR")]}),j.expected_delivery_date&&s.jsxs("span",{children:["Entrega Prevista: ",new Date(j.expected_delivery_date).toLocaleDateString("pt-BR")]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",j.final_amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("button",{className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Ver Detalhes"]})]})]})},j.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(HA,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),s.jsx("p",{className:"text-gray-600",children:"Crie seu primeiro pedido de compra"})]})]}),u==="schedules"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-8 border-2 border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:s.jsx(As,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programao de Compra"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Compras recorrentes automticas"})]})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Configure compras automticas de materiais com base em perodos fixos. O sistema gerar pedidos automaticamente e criar eventos na agenda."}),s.jsxs("button",{onClick:()=>m(!0),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[s.jsx(yt,{className:"h-5 w-5"}),"Nova Programao de Compra"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-8 border-2 border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:s.jsx(ek,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programao de Locao"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Locaes e faturamentos recorrentes"})]})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Configure locaes de equipamentos com faturamento automtico. O sistema pode gerar receitas financeiras automaticamente na agenda."}),s.jsxs("button",{onClick:()=>g(!0),className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[s.jsx(yt,{className:"h-5 w-5"}),"Nova Programao de Locao"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Programaes Ativas"}),s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Dt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Nenhuma programao cadastrada ainda"}),s.jsx("p",{className:"text-sm",children:"Crie sua primeira programao usando os botes acima"})]})]})]}),u==="quotes"&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(at,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cotaes de Fornecedores"}),s.jsx("p",{className:"text-gray-600",children:"Compare preos e condies de diferentes fornecedores"}),s.jsx("button",{className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Nova Cotao"})]})]})]}),s.jsx(AVe,{isOpen:A,onClose:()=>m(!1),onSave:()=>{m(!1),p()}}),s.jsx(mVe,{isOpen:x,onClose:()=>g(!1),onSave:()=>{g(!1),p()}})]})},pVe=({onRouteSelect:t})=>{const[e,r]=B.useState([]),[n,a]=B.useState([]),[i,o]=B.useState(!0),[l,c]=B.useState(!1),[d,u]=B.useState(null),[h,A]=B.useState([]),[m,x]=B.useState("today"),[g,p]=B.useState({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""});B.useEffect(()=>{f(),y()},[m]);const f=async()=>{try{o(!0);let M=ae.from("routes").select(`
          *,
          route_stops(count)
        `).order("route_date",{ascending:!1}).order("created_at",{ascending:!1});if(m==="today"){const O=new Date().toISOString().split("T")[0];M=M.eq("route_date",O)}else m!=="all"&&(M=M.eq("status",m));const{data:j,error:S}=await M;if(S)throw S;const F=await Promise.all((j||[]).map(async O=>{var U,z;let H="No atribudo";if(O.assigned_employee_id){const{data:R}=await ae.from("employees").select("name").eq("id",O.assigned_employee_id).single();R&&(H=R.name)}return{...O,employee_name:H,stop_count:((z=(U=O.route_stops)==null?void 0:U[0])==null?void 0:z.count)||0}}));r(F)}catch(M){console.error("Error loading routes:",M)}finally{o(!1)}},y=async()=>{try{const{data:M}=await ae.from("employees").select("id, name").eq("active",!0).order("name");a(M||[])}catch(M){console.error("Error loading employees:",M)}},b=async M=>{try{const{data:j,error:S}=await ae.from("route_stops").select("*").eq("route_id",M).order("stop_order");if(S)throw S;A(j||[])}catch(j){console.error("Error loading stops:",j)}},N=async()=>{if(!g.route_name){alert("Nome da rota  obrigatrio!");return}try{const{error:M}=await ae.from("routes").insert([g]);if(M)throw M;await f(),p({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""}),c(!1)}catch(M){console.error("Error creating route:",M),alert("Erro ao criar rota!")}},v=async(M,j)=>{var S;try{const F={status:j};if(j==="in_progress"&&!((S=e.find(H=>H.id===M))!=null&&S.start_time)&&(F.start_time=new Date().toISOString()),j==="completed"){F.end_time=new Date().toISOString();const H=e.find(U=>U.id===M);if(H!=null&&H.start_time){const U=new Date(H.start_time),z=new Date;F.actual_duration_minutes=Math.round((z.getTime()-U.getTime())/6e4)}}const{error:O}=await ae.from("routes").update(F).eq("id",M);if(O)throw O;await f()}catch(F){console.error("Error updating status:",F),alert("Erro ao atualizar status!")}},C=async M=>{if(confirm("Deseja realmente excluir esta rota?"))try{const{error:j}=await ae.from("routes").delete().eq("id",M);if(j)throw j;await f()}catch(j){console.error("Error deleting route:",j),alert("Erro ao excluir rota!")}},P=M=>{u(M===d?null:M),M!==d&&(b(M),t&&t(M))},_=M=>{switch(M){case"pending":return{label:"Pendente",icon:Dt,color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-800"};case"in_progress":return{label:"Em Andamento",icon:M4,color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-800"};case"completed":return{label:"Concluda",icon:ca,color:"green",bgColor:"bg-green-100",textColor:"text-green-800"};case"cancelled":return{label:"Cancelada",icon:g0,color:"red",bgColor:"bg-red-100",textColor:"text-red-800"};default:return{label:M,icon:Dt,color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-800"}}},k=M=>new Date(M).toLocaleDateString("pt-BR");return i?s.jsx("div",{className:"text-center py-8",children:"Carregando rotas..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gesto de Rotas"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Planeje e acompanhe as rotas da equipe"})]}),s.jsxs("button",{onClick:()=>c(!l),className:"px-6 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 flex items-center gap-2 transition-colors font-semibold",children:[s.jsx(yt,{className:"h-5 w-5"}),"Nova Rota"]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium",children:"Filtrar:"}),s.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="all"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Todas"}),s.jsx("button",{onClick:()=>x("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="today"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Hoje"}),s.jsx("button",{onClick:()=>x("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="pending"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Pendentes"}),s.jsx("button",{onClick:()=>x("in_progress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="in_progress"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Em Andamento"}),s.jsx("button",{onClick:()=>x("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="completed"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Concludas"})]})]}),s.jsx(lt,{children:l&&s.jsxs(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(w0,{className:"h-5 w-5 text-blue-600"}),"Nova Rota"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Rota *"}),s.jsx("input",{type:"text",value:g.route_name,onChange:M=>p({...g,route_name:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rota Centro - Manh"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data"}),s.jsx("input",{type:"date",value:g.route_date,onChange:M=>p({...g,route_date:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funcionrio"}),s.jsxs("select",{value:g.assigned_employee_id,onChange:M=>p({...g,assigned_employee_id:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),n.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veculo/Placa"}),s.jsx("input",{type:"text",value:g.vehicle_id,onChange:M=>p({...g,vehicle_id:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: ABC-1234"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durao Estimada (minutos)"}),s.jsx("input",{type:"number",value:g.estimated_duration_minutes,onChange:M=>p({...g,estimated_duration_minutes:parseInt(M.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),s.jsx("textarea",{value:g.notes,onChange:M=>p({...g,notes:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Observaes sobre a rota..."})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Rota"})]})]})}),e.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(w0,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma rota encontrada"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Clique em "Nova Rota" para comear'})]}):s.jsx("div",{className:"space-y-4",children:e.map(M=>{const j=_(M.status),S=j.icon,F=d===M.id;return s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{onClick:()=>P(M.id),className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:M.route_name}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j.bgColor} ${j.textColor}`,children:[s.jsx(S,{className:"h-3 w-3 inline mr-1"}),j.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(ii,{className:"h-3 w-3"}),"Data:"]}),s.jsx("p",{className:"font-medium",children:k(M.route_date)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Nr,{className:"h-3 w-3"}),"Responsvel:"]}),s.jsx("p",{className:"font-medium",children:M.employee_name})]}),M.vehicle_id&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(U9,{className:"h-3 w-3"}),"Veculo:"]}),s.jsx("p",{className:"font-medium",children:M.vehicle_id})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(ii,{className:"h-3 w-3"}),"Paradas:"]}),s.jsx("p",{className:"font-medium",children:M.stop_count})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(pr,{className:"h-3 w-3"}),"Distncia:"]}),s.jsxs("p",{className:"font-medium",children:[M.total_distance_km," km"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[M.status==="pending"&&s.jsx("button",{onClick:O=>{O.stopPropagation(),v(M.id,"in_progress")},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Iniciar rota",children:s.jsx(M4,{className:"h-5 w-5"})}),M.status==="in_progress"&&s.jsx("button",{onClick:O=>{O.stopPropagation(),v(M.id,"completed")},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Concluir rota",children:s.jsx(ca,{className:"h-5 w-5"})}),s.jsx("button",{onClick:O=>{O.stopPropagation(),C(M.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir rota",children:s.jsx(Ut,{className:"h-5 w-5"})})]})]})}),s.jsx(lt,{children:F&&s.jsxs(se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 bg-gray-50 p-6",children:[s.jsxs("h5",{className:"font-semibold mb-4",children:["Paradas da Rota (",h.length,")"]}),h.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma parada adicionada ainda"}):s.jsx("div",{className:"space-y-3",children:h.map((O,H)=>s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold",children:H+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h6",{className:"font-medium text-gray-900",children:O.customer_name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.address}),O.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:O.notes})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${_(O.status).bgColor} ${_(O.status).textColor}`,children:_(O.status).label})]})},O.id))})]})})]},M.id)})})]})},gVe=()=>{const[t,e]=B.useState(null);return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:s.jsx(w0,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rastreamento e Gesto de Rotas"}),s.jsx("p",{className:"text-gray-600",children:"Planeje, acompanhe e gerencie as rotas da equipe em tempo real"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rotas Hoje"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0"})]}),s.jsx(ii,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Em Andamento"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"})]}),s.jsx(w0,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"KM Hoje"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0"})]}),s.jsx(pr,{className:"h-12 w-12 text-green-500 opacity-20"})]})})]}),s.jsx(pVe,{onRouteSelect:e}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Como funciona o rastreamento em tempo real?"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"1. Planejamento:"})," Crie rotas e adicione as paradas (ordens de servio) em sequncia"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2. Atribuio:"})," Designe um funcionrio e veculo para cada rota"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3. Rastreamento:"})," Quando a rota  iniciada, o sistema registra a localizao em tempo real"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"4. Otimizao:"})," Visualize o progresso, distncia percorrida e tempo estimado"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"5. Histrico:"})," Todo o trajeto fica registrado para anlise posterior"]})]})]}),s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:" Recursos Disponveis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-800",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Gesto de Rotas"}),s.jsx("p",{className:"text-purple-700",children:"Criar, editar e gerenciar rotas dirias"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Paradas Sequenciais"}),s.jsx("p",{className:"text-purple-700",children:"Adicionar ordens de servio em ordem"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Clculo de Distncia"}),s.jsx("p",{className:"text-purple-700",children:"Distncia total calculada automaticamente"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Status em Tempo Real"}),s.jsx("p",{className:"text-purple-700",children:"Acompanhe o progresso de cada rota"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Histrico Completo"}),s.jsx("p",{className:"text-purple-700",children:"Registros de todas as movimentaes"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Otimizao de Rotas"}),s.jsx("p",{className:"text-purple-700",children:"Sugestes de melhor sequncia"})]})]})]})]})})},xVe=(t,e)=>{const r=new kt,n=r.internal.pageSize.width,a=r.internal.pageSize.height;let i=20;const o=(u=20)=>i+u>a-20?(r.addPage(),i=20,!0):!1;r.setFillColor(41,128,185),r.rect(0,0,n,40,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.setFont("helvetica","bold"),r.text(t.title,15,25),i=50,r.setTextColor(0,0,0),r.setFillColor(245,245,245),r.rect(10,i-5,n-20,40,"F"),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Informaes do Documento",15,i+3),r.setFont("helvetica","normal"),r.setFontSize(9);const l=i+10;r.text(`Departamento: ${t.department}`,15,l),r.text(`Verso: ${t.version}`,n/2,l),t.category&&r.text(`Categoria: ${t.category}`,15,l+7),r.text(`Status: ${bVe(t.status)}`,n/2,l+7),r.text(`Criado em: ${new Date(t.createdAt).toLocaleDateString("pt-BR")}`,15,l+14),r.text(`Atualizado em: ${new Date(t.updatedAt).toLocaleDateString("pt-BR")}`,n/2,l+14),i+=48,t.description&&(o(20),r.setFontSize(11),r.setFont("helvetica","bold"),r.text("Descrio",15,i),i+=7,r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(t.description,n-30).forEach(h=>{o(),r.text(h,15,i),i+=5}),i+=5),t.tags&&t.tags.length>0&&(o(15),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Tags: ",15,i),r.setFont("helvetica","normal"),r.text(t.tags.join(", "),35,i),i+=10),o(20),r.setDrawColor(41,128,185),r.setLineWidth(.5),r.line(15,i,n-15,i),i+=10,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Contedo",15,i),i+=8,yVe(t.content).forEach(u=>{o(u.height||15),u.type==="heading1"?(r.setFontSize(16),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=10):u.type==="heading2"?(r.setFontSize(14),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=8):u.type==="heading3"?(r.setFontSize(12),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=7):u.type==="paragraph"?(r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(u.text,n-30).forEach(A=>{o(),r.text(A,15,i),i+=5}),i+=3):u.type==="list"&&(r.setFontSize(10),r.setFont("helvetica","normal"),u.items.forEach(h=>{o(),r.text(" "+h,20,i),i+=5}),i+=3)}),i=a-30,r.setDrawColor(200,200,200),r.setLineWidth(.3),r.line(15,i,n-15,i),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Documento gerado em ${new Date().toLocaleString("pt-BR")}`,n/2,i+7,{align:"center"}),t.approvedBy&&t.approvedAt&&r.text(`Aprovado por: ${t.approvedBy} em ${new Date(t.approvedAt).toLocaleDateString("pt-BR")}`,n/2,i+12,{align:"center"});const d=r.getNumberOfPages();for(let u=1;u<=d;u++)r.setPage(u),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Pgina ${u} de ${d}`,n-15,a-10,{align:"right"});return r};function yVe(t){const e=[],r=t.split(`
`);let n="",a=[];return r.forEach(i=>{const o=i.trim();o.startsWith("# ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading1",text:o.substring(2)})):o.startsWith("## ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading2",text:o.substring(3)})):o.startsWith("### ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading3",text:o.substring(4)})):o.startsWith("- ")||o.startsWith("* ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.push(o.substring(2))):o===""?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[])):(a.length>0&&(e.push({type:"list",items:a}),a=[]),n+=(n?" ":"")+o)}),n&&e.push({type:"paragraph",text:n.trim()}),a.length>0&&e.push({type:"list",items:a}),e}function bVe(t){return{draft:"Rascunho",review:"Em Reviso",approved:"Aprovado",archived:"Arquivado"}[t]||t}const vVe=()=>{const[t,e]=B.useState([]),[r,n]=B.useState([]),[a,i]=B.useState(!0),[o,l]=B.useState(""),[c,d]=B.useState("all"),[u,h]=B.useState("all"),[A,m]=B.useState(!1),[x,g]=B.useState(!1),[p,f]=B.useState(null),[y,b]=B.useState(null),[N,v]=B.useState({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""}),[C,P]=B.useState(""),_=["Operacional","Financeiro","Comercial","RH","TI","Geral"],k=[{value:"draft",label:"Rascunho",color:"gray",icon:Dt},{value:"review",label:"Em Reviso",color:"yellow",icon:Ss},{value:"approved",label:"Aprovado",color:"green",icon:ca},{value:"archived",label:"Arquivado",color:"blue",icon:O4}];B.useEffect(()=>{M(),j()},[]);const M=async()=>{try{i(!0);const{data:D,error:X}=await ae.from("documents").select("*").order("updated_at",{ascending:!1});if(X)throw X;e(D||[])}catch(D){console.error("Erro ao carregar documentos:",D)}finally{i(!1)}},j=async()=>{try{const{data:D,error:X}=await ae.from("document_templates").select("*").eq("is_active",!0).order("name");if(X)throw X;n(D||[])}catch(D){console.error("Erro ao carregar templates:",D)}},S=D=>{v({...N,content:D.content_template,department:D.department,category:D.category||"",template_type:D.name}),g(!1),m(!0)},F=async()=>{try{if(p){const{error:D}=await ae.from("documents").update({title:N.title,description:N.description,content:N.content,department:N.department,category:N.category,status:N.status,tags:N.tags,updated_at:new Date().toISOString()}).eq("id",p.id);if(D)throw D}else{const{error:D}=await ae.from("documents").insert({title:N.title,description:N.description,content:N.content,department:N.department,category:N.category,status:N.status,tags:N.tags,template_type:N.template_type,version:1});if(D)throw D}await M(),z()}catch(D){console.error("Erro ao salvar documento:",D),alert("Erro ao salvar documento")}},O=D=>{f(D),v({title:D.title,description:D.description||"",content:D.content,department:D.department,category:D.category||"",status:D.status,tags:D.tags||[],template_type:D.template_type||""}),m(!0)},H=async D=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{const{error:X}=await ae.from("documents").delete().eq("id",D);if(X)throw X;await M()}catch(X){console.error("Erro ao excluir documento:",X),alert("Erro ao excluir documento")}},U=D=>{xVe({title:D.title,description:D.description,content:D.content,department:D.department,category:D.category,version:D.version,createdAt:D.created_at,updatedAt:D.updated_at,status:D.status,tags:D.tags}).save(`${D.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_v${D.version}.pdf`)},z=()=>{m(!1),f(null),v({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""})},R=()=>{C.trim()&&!N.tags.includes(C.trim())&&(v({...N,tags:[...N.tags,C.trim()]}),P(""))},I=D=>{v({...N,tags:N.tags.filter(X=>X!==D)})},K=t.filter(D=>{var le;const X=D.title.toLowerCase().includes(o.toLowerCase())||((le=D.description)==null?void 0:le.toLowerCase().includes(o.toLowerCase()))||D.tags.some(ie=>ie.toLowerCase().includes(o.toLowerCase())),V=c==="all"||D.department===c,de=u==="all"||D.status===u;return X&&V&&de}),te=D=>{const X=k.find(V=>V.value===D);return X?X.icon:Dt},Q=D=>({draft:"bg-gray-100 text-gray-800",review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",archived:"bg-blue-100 text-blue-800"})[D]||"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Documentao"}),s.jsx("p",{className:"text-indigo-100",children:"Gerencie documentos departamentais e gere PDFs"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>g(!0),className:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-medium hover:bg-indigo-50 transition-colors flex items-center gap-2",children:[s.jsx(D4,{className:"h-5 w-5"}),"Usar Template"]}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-indigo-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-400 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),"Novo Documento"]})]})]})}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:o,onChange:D=>l(D.target.value),placeholder:"Buscar documentos, tags...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("select",{value:c,onChange:D=>d(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"Todos os Departamentos"}),_.map(D=>s.jsx("option",{value:D,children:D},D))]}),s.jsxs("select",{value:u,onChange:D=>h(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),k.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))]})]}),a?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando documentos..."})]}):K.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(at,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhum documento encontrado"}),s.jsx("button",{onClick:()=>m(!0),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Criar primeiro documento"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map(D=>{var V;const X=te(D.status);return s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:D.title}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:D.description})]}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${Q(D.status)}`,children:[s.jsx(X,{className:"h-3 w-3"}),(V=k.find(de=>de.value===D.status))==null?void 0:V.label]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(at,{className:"h-3 w-3"}),D.department]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(D4,{className:"h-3 w-3"}),"v",D.version]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(lr,{className:"h-3 w-3"}),new Date(D.updated_at).toLocaleDateString("pt-BR")]})]}),D.tags&&D.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[D.tags.slice(0,3).map(de=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:de},de)),D.tags.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",D.tags.length-3]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>b(D),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm flex items-center justify-center gap-1",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Ver"]}),s.jsxs("button",{onClick:()=>O(D),className:"flex-1 px-3 py-2 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors text-sm flex items-center justify-center gap-1",children:[s.jsx(ga,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>U(D),className:"px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:s.jsx(Qn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>H(D.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]},D.id)})})]}),s.jsx(lt,{children:x&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Selecionar Template"}),s.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Escolha um template para comear"})]}),s.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(D=>s.jsxs("div",{onClick:()=>S(D),className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-500 hover:shadow-md transition-all cursor-pointer",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:D.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:D.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:D.department}),D.category&&s.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded",children:D.category})]})]},D.id))})})]})})}),s.jsx(lt,{children:A&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:p?"Editar Documento":"Novo Documento"}),s.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:p?"Atualize as informaes do documento":"Preencha as informaes do documento"})]}),s.jsx("button",{onClick:z,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo *"}),s.jsx("input",{type:"text",value:N.title,onChange:D=>v({...N,title:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Ttulo do documento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:N.description,onChange:D=>v({...N,description:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2,placeholder:"Breve descrio do documento"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento *"}),s.jsx("select",{value:N.department,onChange:D=>v({...N,department:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:_.map(D=>s.jsx("option",{value:D,children:D},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:N.category,onChange:D=>v({...N,category:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Relatrio, Procedimento, etc"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx("select",{value:N.status,onChange:D=>v({...N,status:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:k.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:C,onChange:D=>P(D.target.value),onKeyPress:D=>D.key==="Enter"&&(D.preventDefault(),R()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Adicionar tag..."}),s.jsx("button",{onClick:R,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:s.jsx(L4,{className:"h-5 w-5"})})]}),N.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:N.tags.map(D=>s.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm flex items-center gap-2",children:[D,s.jsx("button",{onClick:()=>I(D),className:"hover:text-indigo-900",children:s.jsx(At,{className:"h-3 w-3"})})]},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contedo * (suporta Markdown)"}),s.jsx("textarea",{value:N.content,onChange:D=>v({...N,content:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm",rows:15,placeholder:`# Ttulo do Documento

## Seo 1

Contedo da seo...

- Item 1
- Item 2`}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dicas: Use # para ttulos, ## para subttulos, - para listas"})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:z,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:F,disabled:!N.title||!N.content,className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(rr,{className:"h-5 w-5"}),p?"Atualizar Documento":"Criar Documento"]})]})]})})}),s.jsx(lt,{children:y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:y.title}),s.jsxs("p",{className:"text-indigo-100 text-sm mt-1",children:[y.department,"  Verso ",y.version]})]}),s.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[y.description&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Descrio"}),s.jsx("p",{className:"text-gray-600",children:y.description})]}),s.jsx("div",{className:"prose max-w-none",children:y.content.split(`
`).map((D,X)=>D.startsWith("# ")?s.jsx("h1",{className:"text-3xl font-bold mt-6 mb-4",children:D.substring(2)},X):D.startsWith("## ")?s.jsx("h2",{className:"text-2xl font-bold mt-5 mb-3",children:D.substring(3)},X):D.startsWith("### ")?s.jsx("h3",{className:"text-xl font-bold mt-4 mb-2",children:D.substring(4)},X):D.startsWith("- ")?s.jsx("li",{className:"ml-6",children:D.substring(2)},X):D.trim()===""?s.jsx("br",{},X):s.jsx("p",{className:"mb-2",children:D},X))})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsxs("button",{onClick:()=>U(y),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Qn,{className:"h-5 w-5"}),"Baixar PDF"]}),s.jsxs("button",{onClick:()=>{b(null),O(y)},className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(ga,{className:"h-5 w-5"}),"Editar"]})]})]})})})]})},wVe=()=>{const t=ms(),[e,r]=B.useState([]),[n,a]=B.useState(!0),[i,o]=B.useState(!1),[l,c]=B.useState(null),[d,u]=B.useState(!1),[h,A]=B.useState({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0});B.useEffect(()=>{m()},[]);const m=async()=>{try{a(!0);const{data:C,error:P}=await ae.from("email_accounts").select("*").order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(P)throw P;r(C||[])}catch(C){console.error("Error loading email accounts:",C)}finally{a(!1)}},x=async C=>{var P,_;C.preventDefault();try{if(l){const{error:k}=await ae.from("email_accounts").update(h).eq("id",l);if(k)throw k;alert(" Conta de email atualizada com sucesso!")}else{const{error:k}=await ae.from("email_accounts").insert([h]);if(k)throw k;alert(" Conta de email criada com sucesso!")}y(),m()}catch(k){console.error("Error saving email account:",k),(P=k==null?void 0:k.message)!=null&&P.includes("email_address")&&((_=k==null?void 0:k.message)!=null&&_.includes("already exists"))?alert(` ERRO: O email "${h.email_address}" j est cadastrado!

Para editar esta conta:
1. Feche este formulrio
2. Clique no cone de configurao () da conta existente
3. Faa as alteraes necessrias`):(k==null?void 0:k.code)==="23505"?alert(` ERRO: Esta conta de email j existe no sistema!

Verifique a lista de contas abaixo.`):alert(` Erro ao salvar conta de email:

${(k==null?void 0:k.message)||"Erro desconhecido"}`)}},g=C=>{A({account_name:C.account_name,email_address:C.email_address,smtp_host:C.smtp_host,smtp_port:C.smtp_port,smtp_user:C.smtp_user,smtp_password:C.smtp_password,smtp_secure:C.smtp_secure,imap_host:C.imap_host||"",imap_port:C.imap_port||993,imap_user:C.imap_user||"",imap_password:C.imap_password||"",imap_secure:C.imap_secure,sender_name:C.sender_name,signature:C.signature||"",is_default:C.is_default,is_active:C.is_active}),c(C.id),o(!0)},p=async(C,P)=>{if(confirm(`Deseja realmente excluir a conta ${P}?`))try{const{error:_}=await ae.from("email_accounts").delete().eq("id",C);if(_)throw _;m()}catch(_){console.error("Error deleting account:",_),alert("Erro ao excluir conta")}},f=async C=>{try{await ae.from("email_accounts").update({is_default:!1}).neq("id",C);const{error:P}=await ae.from("email_accounts").update({is_default:!0}).eq("id",C);if(P)throw P;m()}catch(P){console.error("Error setting default:",P)}},y=()=>{A({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0}),c(null),o(!1),u(!1)},b=()=>{A(C=>({...C,smtp_host:"smtp.gmail.com",smtp_port:587,imap_host:"imap.gmail.com",imap_port:993}))},N=()=>{A(C=>({...C,smtp_host:"smtp-mail.outlook.com",smtp_port:587,imap_host:"outlook.office365.com",imap_port:993}))},v=()=>{if(!h.email_address){alert("Por favor, preencha o endereo de email primeiro!");return}const C=h.email_address.split("@")[1],P=h.account_name||`Email Corporativo - ${h.email_address.split("@")[0]}`,_=h.sender_name||h.email_address.split("@")[0].charAt(0).toUpperCase()+h.email_address.split("@")[0].slice(1);A(k=>({...k,account_name:P,sender_name:_,smtp_host:`mail.${C}`,smtp_port:587,smtp_user:k.email_address,imap_host:`mail.${C}`,imap_port:993,imap_user:k.email_address,imap_password:k.smtp_password,smtp_secure:!0,imap_secure:!0,signature:`

---
Atenciosamente,
${_}
${C}`})),alert(` Configuraes Hostgator preenchidas!

Agora voc s precisa:
1. Verificar os dados
2. Preencher a senha
3. Salvar`)};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(As,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(ts,{className:"h-8 w-8 text-blue-600"}),"Configuraes de Email"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure contas de email corporativo para envio e recebimento"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!i&&s.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),"Nova Conta"]}),s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(ac,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})]}),i&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:l?"Editar Conta":"Nova Conta de Email"}),s.jsx("button",{onClick:y,className:"text-gray-500 hover:text-gray-700",children:s.jsx(At,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("span",{className:"font-medium",children:"Configurao Rpida:"})," Selecione seu provedor de email"]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-lg text-sm hover:bg-orange-100 font-medium border border-orange-200",children:" Hostgator"}),s.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg text-sm hover:bg-red-100 font-medium border border-red-200",children:" Gmail"}),s.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 font-medium border border-blue-200",children:" Outlook"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" ",s.jsx("strong",{children:"Hostgator:"})," Preencha primeiro o email, depois clique no boto"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),s.jsx("input",{type:"text",required:!0,value:h.account_name,onChange:C=>A({...h,account_name:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Email Comercial"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo de Email *"}),s.jsx("input",{type:"email",required:!0,value:h.email_address,onChange:C=>A({...h,email_address:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@empresa.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Remetente *"}),s.jsx("input",{type:"text",required:!0,value:h.sender_name,onChange:C=>A({...h,sender_name:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Empresa LTDA"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configuraes de Envio (SMTP)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor SMTP *"}),s.jsx("input",{type:"text",required:!0,value:h.smtp_host,onChange:C=>A({...h,smtp_host:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"smtp.gmail.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta SMTP *"}),s.jsx("input",{type:"number",required:!0,value:h.smtp_port,onChange:C=>A({...h,smtp_port:parseInt(C.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio SMTP *"}),s.jsx("input",{type:"text",required:!0,value:h.smtp_user,onChange:C=>A({...h,smtp_user:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha SMTP *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:d?"text":"password",required:!0,value:h.smtp_password,onChange:C=>A({...h,smtp_password:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-2 top-2",children:d?s.jsx(_2,{className:"h-5 w-5 text-gray-400"}):s.jsx(Ss,{className:"h-5 w-5 text-gray-400"})})]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:h.smtp_secure,onChange:C=>A({...h,smtp_secure:C.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Usar conexo segura (TLS/SSL)"})]})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configuraes de Recebimento (IMAP) - Opcional"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor IMAP"}),s.jsx("input",{type:"text",value:h.imap_host,onChange:C=>A({...h,imap_host:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"imap.gmail.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta IMAP"}),s.jsx("input",{type:"number",value:h.imap_port,onChange:C=>A({...h,imap_port:parseInt(C.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio IMAP"}),s.jsx("input",{type:"text",value:h.imap_user,onChange:C=>A({...h,imap_user:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha IMAP"}),s.jsx("input",{type:d?"text":"password",value:h.imap_password,onChange:C=>A({...h,imap_password:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assinatura de Email"}),s.jsx("textarea",{value:h.signature,onChange:C=>A({...h,signature:C.target.value}),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Atenciosamente,
Sua Empresa
Tel: (11) 1234-5678`})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:h.is_default,onChange:C=>A({...h,is_default:C.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Conta padro"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:h.is_active,onChange:C=>A({...h,is_active:C.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Conta ativa"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l?"Salvar Alteraes":"Criar Conta"}),s.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contas Configuradas"}),e.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ts,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Nenhuma conta de email configurada"}),s.jsx("p",{className:"text-sm mt-1",children:'Clique em "Nova Conta" para adicionar'})]}):s.jsx("div",{className:"space-y-3",children:e.map(C=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:C.account_name}),C.is_default&&s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:"Padro"}),!C.is_active&&s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Inativa"})]}),s.jsx("p",{className:"text-gray-600",children:C.email_address}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SMTP: ",C.smtp_host,":",C.smtp_port,C.imap_host&&` | IMAP: ${C.imap_host}:${C.imap_port}`]})]}),s.jsxs("div",{className:"flex gap-2",children:[!C.is_default&&s.jsx("button",{onClick:()=>f(C.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Definir como padro",children:s.jsx(Mr,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>g(C),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Editar",children:s.jsx(jd,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>p(C.id,C.email_address),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir",children:s.jsx(Ut,{className:"h-5 w-5"})})]})]})},C.id))})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Dicas de Configurao"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:' Para Gmail: Ative "Acesso a apps menos seguros" ou use "Senhas de app"'}),s.jsx("li",{children:" Para Outlook/Hotmail: Use smtp-mail.outlook.com na porta 587"}),s.jsx("li",{children:" Para domnios prprios: Consulte seu provedor de hospedagem"}),s.jsx("li",{children:" Recomendamos sempre usar conexo segura (TLS/SSL)"})]})]})]})})},jVe=()=>{const t=ms(),[e,r]=B.useState([]),[n,a]=B.useState(!0),[i,o]=B.useState("inbox"),[l,c]=B.useState(""),[d,u]=B.useState(null);B.useEffect(()=>{h()},[i]);const h=async()=>{try{a(!0);let y=ae.from("email_messages").select("*").order("created_at",{ascending:!1});i==="inbox"?y=y.eq("direction","received").eq("is_archived",!1):i==="sent"?y=y.eq("direction","sent"):i==="starred"?y=y.eq("is_starred",!0):i==="archived"&&(y=y.eq("is_archived",!0));const{data:b,error:N}=await y;if(N)throw N;r(b||[])}catch(y){console.error("Error loading messages:",y)}finally{a(!1)}},A=async(y,b)=>{try{const{error:N}=await ae.from("email_messages").update({is_read:b,read_at:b?new Date().toISOString():null}).eq("id",y);if(N)throw N;h()}catch(N){console.error("Error updating message:",N)}},m=async(y,b)=>{try{const{error:N}=await ae.from("email_messages").update({is_starred:!b}).eq("id",y);if(N)throw N;h()}catch(N){console.error("Error updating message:",N)}},x=async y=>{try{const{error:b}=await ae.from("email_messages").update({is_archived:!0}).eq("id",y);if(b)throw b;h(),u(null)}catch(b){console.error("Error archiving message:",b)}},g=async y=>{if(confirm("Deseja realmente excluir esta mensagem?"))try{const{error:b}=await ae.from("email_messages").delete().eq("id",y);if(b)throw b;h(),u(null)}catch(b){console.error("Error deleting message:",b)}},p=e.filter(y=>{var b,N,v;return((b=y.subject)==null?void 0:b.toLowerCase().includes(l.toLowerCase()))||((N=y.from_address)==null?void 0:N.toLowerCase().includes(l.toLowerCase()))||((v=y.from_name)==null?void 0:v.toLowerCase().includes(l.toLowerCase()))}),f=y=>{switch(y){case"inbox":return e.filter(b=>b.direction==="received"&&!b.is_archived).length;case"sent":return e.filter(b=>b.direction==="sent").length;case"starred":return e.filter(b=>b.is_starred).length;case"archived":return e.filter(b=>b.is_archived).length;default:return e.length}};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(As,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"flex h-screen",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(vo,{to:"/email/compose",className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 font-medium",children:[s.jsx(yt,{className:"h-5 w-5"}),"Novo Email"]})}),s.jsxs("nav",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>o("inbox"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="inbox"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Jie,{className:"h-5 w-5"}),s.jsx("span",{children:"Caixa de Entrada"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:f("inbox")})]}),s.jsxs("button",{onClick:()=>o("sent"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="sent"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(ja,{className:"h-5 w-5"}),s.jsx("span",{children:"Enviados"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:f("sent")})]}),s.jsxs("button",{onClick:()=>o("starred"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="starred"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Ms,{className:"h-5 w-5"}),s.jsx("span",{children:"Com Estrela"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:f("starred")})]}),s.jsxs("button",{onClick:()=>o("archived"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="archived"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(O4,{className:"h-5 w-5"}),s.jsx("span",{children:"Arquivados"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:f("archived")})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs(vo,{to:"/email/settings",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-2",children:[s.jsx(ts,{className:"h-4 w-4"}),"Configuraes de Email"]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Pesquisar emails...",value:l,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{onClick:h,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Atualizar",children:s.jsx(As,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(ac,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:p.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[s.jsx(ts,{className:"h-16 w-16 mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg",children:"Nenhuma mensagem encontrada"}),s.jsxs("p",{className:"text-sm mt-1",children:[i==="inbox"&&"Sua caixa de entrada est vazia",i==="sent"&&"Voc ainda no enviou nenhum email",i==="starred"&&"Nenhuma mensagem marcada com estrela",i==="archived"&&"Nenhuma mensagem arquivada"]})]}):s.jsx("div",{className:"divide-y",children:p.map(y=>{var b;return s.jsx("div",{onClick:()=>{u(y),!y.is_read&&y.direction==="received"&&A(y.id,!0)},className:`p-4 cursor-pointer hover:bg-gray-100 transition-colors ${!y.is_read&&y.direction==="received"?"bg-blue-50":"bg-white"} ${(d==null?void 0:d.id)===y.id?"border-l-4 border-blue-600":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{onClick:N=>{N.stopPropagation(),m(y.id,y.is_starred)},className:"mt-1",children:s.jsx(Ms,{className:`h-5 w-5 ${y.is_starred?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:`font-medium truncate ${!y.is_read&&y.direction==="received"?"text-gray-900 font-semibold":"text-gray-700"}`,children:[y.direction==="sent"?"Para: ":"",y.from_name||y.from_address]}),s.jsx("p",{className:`text-sm truncate ${!y.is_read&&y.direction==="received"?"text-gray-900 font-medium":"text-gray-600"}`,children:y.subject})]}),s.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:new Date(y.created_at).toLocaleDateString("pt-BR")})]}),s.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[(b=y.body_text)==null?void 0:b.substring(0,100),"..."]})]})]})},y.id)})})})]}),d&&s.jsxs("div",{className:"w-2/5 bg-white border-l border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold truncate",children:d.subject}),s.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>x(d.id),className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2",children:[s.jsx(O4,{className:"h-4 w-4"}),"Arquivar"]}),s.jsxs("button",{onClick:()=>g(d.id),className:"px-3 py-1.5 text-sm bg-red-50 text-red-600 hover:bg-red-100 rounded-lg flex items-center gap-2",children:[s.jsx(Ut,{className:"h-4 w-4"}),"Excluir"]})]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"De:"})," ",s.jsxs("span",{className:"text-gray-600",children:[d.from_name," <",d.from_address,">"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Data:"})," ",s.jsx("span",{className:"text-gray-600",children:new Date(d.created_at).toLocaleString("pt-BR")})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.body_html?s.jsx("div",{dangerouslySetInnerHTML:{__html:d.body_html}}):s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:d.body_text})})]})]})})},NVe=()=>{const t=ms(),[e,r]=B.useState(!1),[n,a]=B.useState([]),[i,o]=B.useState([]),[l,c]=B.useState({account_id:"",to:"",cc:"",bcc:"",subject:"",body_text:"",body_html:""});B.useEffect(()=>{d(),u()},[]);const d=async()=>{try{const{data:m,error:x}=await ae.from("email_accounts").select("id, account_name, email_address, sender_name").eq("is_active",!0).order("is_default",{ascending:!1});if(x)throw x;a(m||[]),m&&m.length>0&&c(g=>({...g,account_id:m[0].id}))}catch(m){console.error("Error loading accounts:",m)}},u=async()=>{try{const{data:m,error:x}=await ae.from("email_templates").select("id, name, subject, body_html, body_text").eq("is_active",!0).order("name");if(x)throw x;o(m||[])}catch(m){console.error("Error loading templates:",m)}},h=m=>{const x=i.find(g=>g.id===m);x&&c(g=>({...g,subject:x.subject,body_text:x.body_text,body_html:x.body_html}))},A=async m=>{if(m.preventDefault(),!l.to||!l.subject||!l.body_text&&!l.body_html){alert("Preencha todos os campos obrigatrios");return}r(!0);try{const{data:x,error:g}=await ae.functions.invoke("send-smtp-email",{body:{account_id:l.account_id,to:l.to.split(",").map(p=>p.trim()).filter(p=>p),cc:l.cc?l.cc.split(",").map(p=>p.trim()).filter(p=>p):void 0,bcc:l.bcc?l.bcc.split(",").map(p=>p.trim()).filter(p=>p):void 0,subject:l.subject,body_text:l.body_text,body_html:l.body_html}});if(g)throw g;if(!(x!=null&&x.success))throw new Error((x==null?void 0:x.error)||"Erro ao enviar email");alert("Email enviado com sucesso!"),t("/email/inbox")}catch(x){console.error("Error sending email:",x),alert(`Erro ao enviar email: ${x.message}`)}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Email"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(ac,{className:"h-5 w-5"}),"Voltar ao Sistema"]}),s.jsx("button",{onClick:()=>t("/email/inbox"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:s.jsx(At,{className:"h-5 w-5"})})]})]})}),s.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"De (Conta de Email) *"}),s.jsxs("select",{required:!0,value:l.account_id,onChange:m=>c({...l,account_id:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),n.map(m=>s.jsxs("option",{value:m.id,children:[m.account_name," (",m.email_address,")"]},m.id))]}),n.length===0&&s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Nenhuma conta configurada. Configure em Configuraes de Email."})]}),i.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usar Template (Opcional)"}),s.jsxs("select",{onChange:m=>m.target.value&&h(m.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",defaultValue:"",children:[s.jsx("option",{value:"",children:"Nenhum template"}),i.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Para * ",s.jsx("span",{className:"text-xs text-gray-500",children:"(separe mltiplos emails com vrgula)"})]}),s.jsx("input",{type:"text",required:!0,value:l.to,onChange:m=>c({...l,to:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"destinatario@email.com, outro@email.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CC ",s.jsx("span",{className:"text-xs text-gray-500",children:"(cpia)"})]}),s.jsx("input",{type:"text",value:l.cc,onChange:m=>c({...l,cc:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia@email.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CCO ",s.jsx("span",{className:"text-xs text-gray-500",children:"(cpia oculta)"})]}),s.jsx("input",{type:"text",value:l.bcc,onChange:m=>c({...l,bcc:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia.oculta@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assunto *"}),s.jsx("input",{type:"text",required:!0,value:l.subject,onChange:m=>c({...l,subject:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Assunto do email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem *"}),s.jsx("textarea",{required:!0,value:l.body_text,onChange:m=>c({...l,body_text:m.target.value}),rows:12,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Digite a mensagem do email..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A assinatura configurada ser adicionada automaticamente"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{type:"submit",disabled:e||n.length===0,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2 font-medium",children:e?s.jsxs(s.Fragment,{children:[s.jsx(xf,{className:"h-5 w-5 animate-spin"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"h-5 w-5"}),"Enviar Email"]})}),s.jsx("button",{type:"button",onClick:()=>t("/email/inbox"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Dicas"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Use templates para agilizar o envio de emails recorrentes"}),s.jsx("li",{children:" Para enviar para mltiplos destinatrios, separe os emails com vrgula"}),s.jsx("li",{children:" A assinatura da conta ser adicionada automaticamente ao final"}),s.jsx("li",{children:" Verifique se a conta SMTP est configurada corretamente"})]})]})]})})},mC={margem:`Calcular margem de contribuio: (Receita - Custos Variveis) / Receita  100
Meta saudvel: > 30%
Se abaixo de 20%, investigar: precificao, fornecedores, perdas operacionais`,markup:`Calcular markup: Preo de Venda / Custo
Meta: 1.5 a 2.5x
Relao com margem: Markup 2.0 = Margem 50%`,ebitda:`EBITDA: Lucro Operacional + Depreciao + Amortizao
Meta: > 15% da receita
Indica eficincia operacional`,dso:`DSO (Days Sales Outstanding): (Contas a Receber / Receita Mensal)  30
Meta: < 45 dias
Se > 60 dias, revisar poltica de crdito urgentemente`,giroEstoque:`Giro de Estoque: Custo de Vendas Anual / Estoque Mdio
Meta: > 6x por ano
Se < 4x, h capital parado`,pontoEquilibrio:`Ponto de Equilbrio: Custos Fixos Mensais / Margem de Contribuio %
Indica receita mnima para no ter prejuzo`},F8={HIGH:.85,MEDIUM:.7};class _Ve{constructor(){et(this,"DEFAULT_MAX_DOCS",5);et(this,"DEFAULT_SIMILARITY_THRESHOLD",.7)}async query(e){const r=Date.now();try{const n=await this.retrieveDocuments(e.query,e.filters,e.maxDocuments||this.DEFAULT_MAX_DOCS,e.similarityThreshold||this.DEFAULT_SIMILARITY_THRESHOLD),a=this.filterByPermissions(n,e.context.userRole),i={...e.context,retrievedDocs:a},o=await this.generateStructuredResponse(e.query,i),l=this.calculateConfidence(a,o);o.confidenceLevel=l,l==="low"&&(o.requiresHumanFallback=!0,o.fallbackReason="Conhecimento insuficiente ou conflitante");const c=await this.saveConversation(e,o,a);await this.logAccess(c,e.context,a);const d=Date.now()-r;return{response:o,retrievedDocs:a,conversationId:c,executionTimeMs:d}}catch(n){throw console.error("RAG Query Error:",n),n}}async retrieveDocuments(e,r,n=5,a=.7){try{const{data:i,error:o}=await ae.from("thomaz_knowledge_sources").select("*").textSearch("content",e,{type:"websearch",config:"portuguese"}).eq("is_active",!0).limit(n);if(o)throw o;return(i||[]).map(l=>({id:l.id,title:l.title,sourceType:l.source_type,content:l.content,similarity:this.calculateTextSimilarity(e,l.content),version:l.version})).filter(l=>l.similarity>=a).sort((l,c)=>c.similarity-l.similarity)}catch(i){return console.error("Retrieve Documents Error:",i),[]}}calculateTextSimilarity(e,r){const n=e.toLowerCase().split(/\s+/),a=r.toLowerCase(),o=n.filter(l=>a.includes(l)).length/n.length;return Math.min(o+.2,1)}filterByPermissions(e,r){return e}async generateStructuredResponse(e,r){const n=this.detectQueryType(e);let a;switch(n){case"financial_calculation":a=await this.handleFinancialQuery(e,r);break;case"operational_guide":a=await this.handleOperationalQuery(e,r);break;case"strategic_advice":a=await this.handleStrategicQuery(e,r);break;default:a=await this.handleGeneralQuery(e,r)}return a}detectQueryType(e){const r=e.toLowerCase();return/margem|markup|ebitda|dso|giro|estoque|ponto.*equil[i]brio|fluxo.*caixa/.test(r)?"financial_calculation":/como.*criar|passo.*passo|tutorial|procedimento|erro|problema/.test(r)?"operational_guide":/estrat[e]gia|crescimento|expans[a]o|investimento|decis[a]o/.test(r)?"strategic_advice":"general"}async handleFinancialQuery(e,r){var d;const n=((d=r.retrievedDocs)==null?void 0:d.map(u=>({docId:u.id,title:u.title,version:u.version,relevance:u.similarity})))||[],a=e.toLowerCase();let i="",o="",l=[],c="";return/margem/.test(a)?(i="Margem de Contribuio",o="Calcular margem de contribuio para avaliar lucratividade",l=["Identifique a Receita Total do perodo","Calcule os Custos Variveis (materiais, mo de obra direta)","Aplique a frmula: (Receita - Custos Variveis) / Receita  100","Compare com a meta: > 30%  saudvel","Se < 20%, investigue: precificao, fornecedores, perdas"],c="Margem  o indicador mais importante para sustentabilidade. Antes de crescer volume, estabilize a margem acima de 25%. Teste ajustes de preo em 10-15% dos servios de maior volume e mea impacto em 30 dias."):/dso/.test(a)&&(i="DSO (Days Sales Outstanding)",o="Medir eficincia de cobrana e recebimento",l=["Some o total de Contas a Receber atual","Calcule a Receita Mdia Mensal (ltimos 3 meses)","Aplique: (Contas a Receber / Receita Mensal)  30","Meta ideal: < 45 dias","Se > 60 dias: revisar poltica de crdito urgentemente"],c="DSO alto mata fluxo de caixa. Implemente: 1) desconto de 3-5% para pagamento antecipado, 2) poltica de bloqueio automtico aps 30 dias, 3) call center dedicado para cobrana. ROI esperado: reduo de 20% no DSO em 60 dias."),{summary:`${i}: ${o}`,steps:l,sources:n,strategicSuggestion:c,confidenceLevel:n.length>0?"high":"medium",requiresHumanFallback:!1,nextAction:"Execute os clculos com os dados reais da empresa e compartilhe os resultados para anlise detalhada."}}async handleOperationalQuery(e,r){var i;const n=((i=r.retrievedDocs)==null?void 0:i.map(o=>({docId:o.id,title:o.title,version:o.version,relevance:o.similarity})))||[];if(n.some(o=>o.relevance>.75)&&r.retrievedDocs&&r.retrievedDocs.length>0){const o=r.retrievedDocs[0];return{summary:`Encontrei procedimento documentado: ${o.title}`,steps:this.extractStepsFromDocument(o.content),sources:n,strategicSuggestion:"Recomendo documentar todos os processos operacionais com mesmo nvel de detalhe. Processos bem documentados reduzem erros em 60% e tempo de treinamento em 50%.",confidenceLevel:"high",requiresHumanFallback:!1,nextAction:"Siga o passo a passo acima. Se encontrar dificuldades, me avise qual etapa."}}return{summary:"Procedimento no encontrado na documentao",sources:n,strategicSuggestion:"Vou criar um rascunho de procedimento baseado em boas prticas. Aps validao, podemos incluir na base de conhecimento.",confidenceLevel:"low",requiresHumanFallback:!0,fallbackReason:"Sem documentao especfica. Requer validao de especialista.",nextAction:"Posso abrir um ticket para o time documentar este procedimento?"}}async handleStrategicQuery(e,r){var a;const n=((a=r.retrievedDocs)==null?void 0:a.map(i=>({docId:i.id,title:i.title,version:i.version,relevance:i.similarity})))||[];return{summary:"Anlise estratgica com perspectiva empreendedora",steps:["Levante dados dos ltimos 60-90 dias (receita, margem, custos fixos)","Identifique os 3 principais gargalos atuais","Calcule ROI esperado de cada melhoria potencial","Priorize aes com payback < 6 meses","Defina mtricas de acompanhamento semanal","Execute teste piloto antes de escalar"],sources:n,strategicSuggestion:`Perspectiva empreendedora: Crescimento sem margem saudvel  insustentvel. Princpios:

1. **Priorize caixa** - Liquidez > Receita
2. **Margem antes de volume** - Estabilize em 25%+ antes de crescer
3. **Teste rpido** - Piloto de 30 dias, depois escala
4. **Decises com dados** - Histrico mnimo de 60 dias
5. **Risco calculado** - Exposio mxima: 20% do caixa

Ao imediata: Analise as 3 maiores oportunidades de melhoria de margem e prepare business case com ROI claro.`,confidenceLevel:"high",requiresHumanFallback:!1,nextAction:"Compartilhe os dados atuais para anlise detalhada e recomendaes personalizadas."}}async handleGeneralQuery(e,r){var i;const n=((i=r.retrievedDocs)==null?void 0:i.map(o=>({docId:o.id,title:o.title,version:o.version,relevance:o.similarity})))||[];return n.length>0?{summary:"Informao encontrada na base de conhecimento",sources:n,confidenceLevel:"medium",requiresHumanFallback:!1,nextAction:"Posso detalhar algum aspecto especfico?"}:{summary:"Informao no encontrada na documentao interna",sources:[],confidenceLevel:"low",requiresHumanFallback:!0,fallbackReason:"Sem documentao disponvel",nextAction:"Posso buscar em fontes externas ou abrir um ticket para o time?"}}extractStepsFromDocument(e){const r=e.split(`
`),n=[];for(const a of r){const i=a.match(/^\s*\d+[\.)]\s*(.+)/);i&&n.push(i[1].trim())}return n.length>0?n:["Consulte o documento completo para detalhes"]}calculateConfidence(e,r){if(e.length===0)return"low";const n=e.reduce((a,i)=>a+i.similarity,0)/e.length;return n>=F8.HIGH&&e.length>=2?"high":n>=F8.MEDIUM?"medium":"low"}async saveConversation(e,r,n){try{const{data:a,error:i}=await ae.from("thomaz_conversations").insert({session_id:e.context.sessionId,user_id:e.context.userId,user_role:e.context.userRole,company_id:e.context.companyId,message_index:0,role:"assistant",content:JSON.stringify(r),retrieved_sources:n.map(o=>o.id),retrieval_score:n.length>0?n.reduce((o,l)=>o+l.similarity,0)/n.length:0,confidence_level:r.confidenceLevel,requires_human:r.requiresHumanFallback}).select().single();if(i)throw i;return a.id}catch(a){return console.error("Save Conversation Error:",a),"unknown"}}async logAccess(e,r,n){try{const a=n.some(i=>i.sourceType==="CONFIDENTIAL"||i.sourceType==="RESTRICTED");await ae.from("thomaz_audit_log_rag").insert({conversation_id:e,user_id:r.userId,action_type:"RAG_QUERY",action_description:"Consulta com RAG",data_accessed:{document_ids:n.map(i=>i.id)},permissions_checked:[r.userRole],permission_granted:!0,sensitive_data_exposed:a})}catch(a){console.error("Log Access Error:",a)}}async createFallbackTicket(e,r,n,a,i){try{await ae.from("thomaz_fallback_tickets").insert({conversation_id:e,session_id:r,user_query:n,ai_response:a,confidence_score:0,reason:i,priority:"medium",status:"open",sla_deadline:new Date(Date.now()+24*60*60*1e3)})}catch(o){console.error("Create Fallback Ticket Error:",o)}}}class CVe{calculateMargin(e){const{receita:r=0,custosVariaveis:n=0}=e;if(r===0)throw new Error("Receita no pode ser zero");const a=(r-n)/r*100;let i="critical",o="";const l=[];return a>=30?(i="excellent",o="Margem excelente! Empresa bem posicionada para crescimento."):a>=25?(i="good",o="Margem saudvel. Continue monitorando.",l.push("Buscar oportunidades de otimizao de custos")):a>=20?(i="warning",o="Margem no limite. Ateno necessria.",l.push("Revisar precificao dos 20% produtos mais vendidos"),l.push("Renegociar com 3 principais fornecedores")):(i="critical",o="Margem crtica! Ao imediata necessria.",l.push("URGENTE: Revisar toda estrutura de custos e preos"),l.push("Congelar novos investimentos at estabilizar margem"),l.push("Analisar produtos/servios no lucrativos")),a<30&&(l.push("Meta: alcanar 30% em 90 dias"),l.push("Reduzir retrabalho (meta: <5%)")),{name:"Margem de Contribuio",value:a,unit:"%",status:i,target:30,interpretation:o,recommendations:l}}calculateMarkup(e){const{precoVenda:r=0,custoUnitario:n=0}=e;if(n===0)throw new Error("Custo unitrio no pode ser zero");const a=r/n,i=(a-1)/a*100;let o="critical",l="";const c=[];return a>=2.5?(o="excellent",l=`Markup excelente (${a.toFixed(2)}x). Margem equivalente: ${i.toFixed(1)}%`):a>=2?(o="good",l=`Markup bom (${a.toFixed(2)}x). Margem equivalente: ${i.toFixed(1)}%`):a>=1.5?(o="warning",l=`Markup baixo (${a.toFixed(2)}x). Margem equivalente: ${i.toFixed(1)}%`,c.push("Testar aumento de 10-15% nos preos"),c.push("Comparar com concorrncia")):(o="critical",l=`Markup crtico (${a.toFixed(2)}x). Margem equivalente: ${i.toFixed(1)}%`,c.push("URGENTE: Ajustar precificao imediatamente"),c.push("Risco de prejuzo operacional alto")),c.push("Meta: Markup entre 2.0x e 2.5x (Margem 50-60%)"),{name:"Markup",value:a,unit:"x",status:o,target:2,interpretation:l,recommendations:c}}calculateEBITDA(e){const{lucroOperacional:r=0,depreciacao:n=0,amortizacao:a=0,receita:i=1}=e,o=r+n+a,l=o/i*100;let c="critical",d="";const u=[];return l>=20?(c="excellent",d="EBITDA excelente! Empresa muito eficiente operacionalmente."):l>=15?(c="good",d="EBITDA saudvel. Eficincia operacional adequada."):l>=10?(c="warning",d="EBITDA baixo. Eficincia operacional precisa melhorar.",u.push("Revisar processos operacionais"),u.push("Identificar desperdcios")):(c="critical",d="EBITDA crtico. Problemas srios de eficincia.",u.push("Auditoria operacional urgente"),u.push("Rever toda estrutura de custos fixos")),u.push("Meta: EBITDA > 15% da receita"),{name:"EBITDA",value:o,unit:"R$",status:c,target:i*.15,interpretation:d,recommendations:u}}calculateDSO(e){const{contasReceber:r=0,receitaMensal:n=1}=e,a=r/n*30;let i="critical",o="";const l=[];return a<=30?(i="excellent",o="Cobrana excelente! Fluxo de caixa saudvel."):a<=45?(i="good",o="Cobrana adequada. Dentro do padro."):a<=60?(i="warning",o="Cobrana lenta. Impacto no fluxo de caixa.",l.push("Oferecer 3-5% desconto para pagamento antecipado"),l.push("Intensificar follow-up de cobranas")):(i="critical",o="Cobrana crtica! Risco de inadimplncia alto.",l.push("URGENTE: Revisar poltica de crdito"),l.push("Implementar bloqueio automtico aps 30 dias"),l.push("Criar equipe dedicada de cobrana"),l.push("Considerar factoring/antecipao")),l.push("Meta: DSO < 45 dias"),l.push(`Reduo de 20% no DSO pode liberar R$ ${(r*.2).toFixed(2)} em caixa`),{name:"DSO (Prazo Mdio de Recebimento)",value:a,unit:"dias",status:i,target:45,interpretation:o,recommendations:l}}calculateInventoryTurnover(e){const{custoVendas:r=0,estoqueInicial:n=0,estoqueFinal:a=0}=e,i=(n+a)/2;if(i===0)throw new Error("Estoque mdio no pode ser zero");const o=r/i;let l="critical",c="";const d=[];o>=8?(l="excellent",c="Giro excelente! Estoque muito eficiente."):o>=6?(l="good",c="Giro saudvel. Gesto adequada de estoque."):o>=4?(l="warning",c="Giro baixo. Capital parado em estoque.",d.push("Reduzir nveis de estoque em 20%"),d.push("Identificar itens de baixo giro")):(l="critical",c="Giro crtico! Muito capital imobilizado.",d.push("URGENTE: Promoo para reduzir estoque"),d.push("Rever poltica de compras"),d.push("Implementar just-in-time onde possvel"));const u=365/o;return d.push(`Meta: Giro > 6x/ano (estoque dura ${u.toFixed(0)} dias)`),{name:"Giro de Estoque",value:o,unit:"x/ano",status:l,target:6,interpretation:c,recommendations:d}}calculateBreakEven(e){const{custosFixos:r=0,receita:n=1,custosVariaveis:a=0}=e,i=(n-a)/n;if(i<=0)throw new Error("Margem de contribuio deve ser positiva");const o=r/i;let l="good",c="";const d=[],u=n/o*100;return u>=150?(l="excellent",c=`Excelente! Receita est ${u.toFixed(0)}% acima do ponto de equilbrio.`):u>=120?(l="good",c=`Bom! Receita est ${u.toFixed(0)}% acima do ponto de equilbrio.`):u>=100?(l="warning",c=`Ateno! Receita est apenas ${u.toFixed(0)}% acima do ponto de equilbrio.`,d.push("Aumentar margem de segurana"),d.push("Reduzir custos fixos se possvel")):(l="critical",c=`CRTICO! Receita est ABAIXO do ponto de equilbrio (${u.toFixed(0)}%).`,d.push("URGENTE: Empresa est operando com prejuzo"),d.push("Ao imediata necessria")),d.push(`Ponto de Equilbrio: R$ ${o.toFixed(2)}/ms`),d.push("Meta: Manter receita 50% acima do ponto de equilbrio"),{name:"Ponto de Equilbrio",value:o,unit:"R$/ms",status:l,target:o,interpretation:c,recommendations:d}}async analyzeComplete(e){const r=[];try{e.receita&&e.custosVariaveis&&r.push(this.calculateMargin(e)),e.precoVenda&&e.custoUnitario&&r.push(this.calculateMarkup(e)),e.lucroOperacional!==void 0&&r.push(this.calculateEBITDA(e)),e.contasReceber&&e.receitaMensal&&r.push(this.calculateDSO(e)),e.custoVendas&&e.estoqueInicial!==void 0&&e.estoqueFinal!==void 0&&r.push(this.calculateInventoryTurnover(e)),e.custosFixos&&e.receita&&e.custosVariaveis&&r.push(this.calculateBreakEven(e))}catch(l){console.error("Indicator calculation error:",l)}const n={excellent:100,good:75,warning:50,critical:25},a=r.reduce((l,c)=>l+n[c.status],0)/r.length;let i="critical";a>=90?i="excellent":a>=70?i="good":a>=50&&(i="warning");const o=r.filter(l=>l.status==="critical"||l.status==="warning").flatMap(l=>l.recommendations).slice(0,5);return{indicators:r,overallScore:a,overallStatus:i,priorityActions:o}}}class SVe{constructor(){et(this,"roleHierarchy",{admin:100,gestor:80,financeiro:60,vendas:40,tecnico:30,user:10});et(this,"sensitivityHierarchy",{public:0,internal:25,confidential:50,restricted:100});et(this,"sensitivityToRoles",{public:["admin","gestor","financeiro","vendas","tecnico","user"],internal:["admin","gestor","financeiro","vendas","tecnico"],confidential:["admin","gestor","financeiro"],restricted:["admin"]})}canAccessDocument(e,r,n){const a=e,i=r;if(!this.roleHierarchy[a])return{allowed:!1,reason:"Role de usurio invlido"};const o=this.sensitivityToRoles[i]||[];if(!o.includes(a))return{allowed:!1,reason:`Acesso negado: documento ${i} requer role mnimo de ${o[o.length-1]}`,requiredLevel:i};if(n&&n.length>0&&!n.includes(a)){const l=this.roleHierarchy[a];if(!n.some(d=>this.roleHierarchy[d]<=l))return{allowed:!1,reason:`Acesso negado: documento requer um dos roles: ${n.join(", ")}`,requiredRole:n[0]}}return{allowed:!0}}filterDocumentsByPermission(e,r){return e.filter(n=>this.canAccessDocument(r,n.sensitivity||"public",n.required_roles).allowed)}requires2FA(e,r){const n=["delete_order","cancel_invoice","modify_payment","change_permissions","export_sensitive_data"],a=["create_order","approve_budget","update_inventory"];return!!(r==="high"||n.includes(e)||r==="medium"&&a.includes(e))}canPerformAction(e,r,n){const a=e,o={financial:{view:["admin","gestor","financeiro"],create:["admin","gestor","financeiro"],update:["admin","gestor","financeiro"],delete:["admin","gestor"]},orders:{view:["admin","gestor","financeiro","vendas","tecnico"],create:["admin","gestor","vendas"],update:["admin","gestor","vendas"],delete:["admin","gestor"]},inventory:{view:["admin","gestor","financeiro","tecnico"],create:["admin","gestor"],update:["admin","gestor","tecnico"],delete:["admin","gestor"]},reports:{view:["admin","gestor","financeiro"],create:["admin","gestor"],export:["admin","gestor","financeiro"]},users:{view:["admin","gestor"],create:["admin"],update:["admin"],delete:["admin"]}}[n];if(!o)return{allowed:!1,reason:`Tipo de recurso invlido: ${n}`};const l=o[r];return l?l.includes(a)?{allowed:!0}:{allowed:!1,reason:`Permisso negada: ${r} em ${n} requer role: ${l.join(" ou ")}`,requiredRole:l[0]}:{allowed:!1,reason:`Ao invlida: ${r}`}}getUserAccessLevel(e){return this.roleHierarchy[e]||0}canAccessRoleData(e,r){const n=this.getUserAccessLevel(e),a=this.getUserAccessLevel(r);return n>=a}maskSensitiveData(e,r,n){if(r==="admin"||r==="gestor")return e;const o={...e};for(const l of n)o[l]&&(typeof o[l]=="string"?o[l]="***":typeof o[l]=="number"&&(o[l]=0));return o}}class T8{constructor(e,r="user",n){et(this,"sessionId");et(this,"userId");et(this,"userRole");et(this,"companyId");et(this,"conversationHistory",[]);et(this,"ragService");et(this,"financialCalc");et(this,"embeddingsService");et(this,"cacheService");et(this,"permissionsService");this.userId=e,this.userRole=r,this.companyId=n,this.sessionId=this.generateSessionId(),this.ragService=new _Ve,this.financialCalc=new CVe,this.embeddingsService=new NH,this.cacheService=new _H,this.permissionsService=new SVe,this.cacheService.startAutoCleanup()}async processMessage(e){const r=Date.now();try{this.addToHistory("user",e);const n=await this.cacheService.getSessionContext(this.sessionId),a=this.detectQueryType(e);let i;switch(a){case"financial_calculation":i=await this.handleFinancialQuery(e);break;case"operational_guide":i=await this.handleOperationalQuery(e);break;case"strategic_advice":i=await this.handleStrategicQuery(e);break;case"data_query":i=await this.handleDataQuery(e);break;default:i=await this.handleGeneralQuery(e)}return this.addToHistory("assistant",i.response,i.structured),await this.cacheService.updateSessionContext(this.sessionId,{lastActivity:new Date,recentTopics:[...(n==null?void 0:n.recentTopics)||[],a].slice(-5)}),i.executionTime=Date.now()-r,i.sessionId=this.sessionId,i}catch(n){return console.error("Process Message Error:",n),{response:"Desculpe, ocorreu um erro ao processar sua mensagem. Pode tentar novamente?",confidenceLevel:"low",requiresFallback:!0,executionTime:Date.now()-r,sessionId:this.sessionId}}}async handleFinancialQuery(e){const r=this.extractNumbers(e),n=e.toLowerCase();let a="",i;try{if(/margem/.test(n))if(r.length>=2){const o={receita:r[0],custosVariaveis:r[1]},l=this.financialCalc.calculateMargin(o);a=this.formatFinancialResult(l),i={summary:`Margem de Contribuio: ${l.value.toFixed(2)}%`,steps:l.recommendations,sources:[],strategicSuggestion:l.interpretation,confidenceLevel:"high",requiresHumanFallback:!1,nextAction:"Analise as recomendaes e implemente as aes prioritrias"}}else a=mC.margem;else if(/dso|prazo.*receb|dias.*venda/.test(n))if(r.length>=2){const o={contasReceber:r[0],receitaMensal:r[1]},l=this.financialCalc.calculateDSO(o);a=this.formatFinancialResult(l),i={summary:`DSO: ${l.value.toFixed(0)} dias`,steps:l.recommendations,sources:[],strategicSuggestion:l.interpretation,confidenceLevel:"high",requiresHumanFallback:!1,nextAction:"Revise a poltica de cobrana se DSO > 45 dias"}}else a=mC.dso;else if(/markup/.test(n))if(r.length>=2){const o={precoVenda:r[0],custoUnitario:r[1]},l=this.financialCalc.calculateMarkup(o);a=this.formatFinancialResult(l)}else a=mC.markup;else/analis.*complet|todos.*indicador|resumo.*financeiro/.test(n)&&(a=`Para anlise financeira completa, preciso dos seguintes dados:

1. **Receita** do perodo
2. **Custos Variveis** (materiais, mo de obra direta)
3. **Custos Fixos** (aluguel, salrios fixos)
4. **Contas a Receber** atuais
5. **Estoque** (inicial e final)

Fornea os nmeros e farei anlise completa com todos indicadores:
- Margem de Contribuio
- Markup
- EBITDA
- DSO
- Giro de Estoque
- Ponto de Equilbrio

Qual dado voc tem disponvel?`,i={summary:"Guia para anlise financeira completa",sources:[],confidenceLevel:"high",requiresHumanFallback:!1});return{response:a,structured:i,confidenceLevel:"high",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}catch(o){return console.error("Financial Query Error:",o),{response:"Erro ao calcular indicador financeiro. Verifique se os valores esto corretos.",confidenceLevel:"low",requiresFallback:!0,executionTime:0,sessionId:this.sessionId}}}async handleOperationalQuery(e){const r={userId:this.userId,userRole:this.userRole,companyId:this.companyId,sessionId:this.sessionId},n={query:e,context:r,filters:{sourceType:["SOP","MANUAL","GUIDE"],sensitivity:"internal"},maxDocuments:3,similarityThreshold:.6};try{const a=await this.ragService.query(n);return{response:this.formatRAGResponse(a.response),structured:a.response,confidenceLevel:a.response.confidenceLevel,sources:a.retrievedDocs,requiresFallback:a.response.requiresHumanFallback,executionTime:a.executionTimeMs,sessionId:this.sessionId}}catch(a){return console.error("Operational Query Error:",a),{response:"No encontrei procedimento documentado. Posso criar um ticket para o time?",confidenceLevel:"low",requiresFallback:!0,executionTime:0,sessionId:this.sessionId}}}async handleStrategicQuery(e){const r={userId:this.userId,userRole:this.userRole,companyId:this.companyId,sessionId:this.sessionId},n={query:e,context:r,filters:{sourceType:["MANUAL","GUIDE"],category:["Estratgia","Financeiro"]}};try{const a=await this.ragService.query(n);let i=a.response.summary||"";return a.response.strategicSuggestion&&(i+=`

**Perspectiva Estratgica:**
${a.response.strategicSuggestion}`),i+=`

**Princpios Empresariais:**
1. **Margem antes de volume** - Estabilize lucratividade antes de crescer
2. **Caixa  rei** - Liquidez > Receita
3. **Teste rpido, escale depois** - Piloto de 30 dias, depois expanso
4. **Decises com dados** - Mnimo 60 dias de histrico
5. **Risco calculado** - Exposio mxima: 20% do caixa

Prximo passo: Analise os dados e defina as 3 prioridades com ROI claro.`,{response:i,structured:a.response,confidenceLevel:"high",sources:a.retrievedDocs,requiresFallback:!1,executionTime:a.executionTimeMs,sessionId:this.sessionId}}catch(a){return console.error("Strategic Query Error:",a),{response:this.getDefaultStrategicAdvice(e),confidenceLevel:"medium",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}}async handleDataQuery(e){const r=this.permissionsService.canPerformAction(this.userRole,"view",this.detectResourceType(e));return r.allowed?{response:"Consulta de dados em tempo real ser implementada na prxima verso.",confidenceLevel:"low",requiresFallback:!0,executionTime:0,sessionId:this.sessionId}:{response:`Acesso negado: ${r.reason}`,confidenceLevel:"high",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}async handleGeneralQuery(e){if(/^(oi|ol|ola|bom dia|boa tarde|boa noite|e a|eai)/i.test(e)){const a=new Date().getHours();return{response:`${a<12?"Bom dia":a<18?"Boa tarde":"Boa noite"}! Como posso ajudar?`,confidenceLevel:"high",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}const r={userId:this.userId,userRole:this.userRole,companyId:this.companyId,sessionId:this.sessionId},n={query:e,context:r};try{const a=await this.ragService.query(n);return{response:this.formatRAGResponse(a.response),structured:a.response,confidenceLevel:a.response.confidenceLevel,sources:a.retrievedDocs,requiresFallback:a.response.requiresHumanFallback,executionTime:a.executionTimeMs,sessionId:this.sessionId}}catch{return{response:"No entendi bem. Pode reformular a pergunta?",confidenceLevel:"low",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}}detectQueryType(e){const r=e.toLowerCase();return/margem|markup|ebitda|dso|giro|estoque|ponto.*equil|fluxo.*caixa|lucro|receita/.test(r)?"financial_calculation":/como.*criar|passo.*passo|tutorial|procedimento|erro|problema|no.*consigo/.test(r)?"operational_guide":/estrat[e]gia|crescimento|expans[a]o|investimento|decis[a]o|planejamento/.test(r)?"strategic_advice":/quantos?|quais?|mostre|liste|busque|dados|relat[o]rio/.test(r)?"data_query":"general"}detectResourceType(e){const r=e.toLowerCase();return/financeiro|pagamento|receita|despesa/.test(r)?"financial":/ordem|os|servio/.test(r)?"orders":/estoque|material|item/.test(r)?"inventory":/relatrio|report/.test(r)?"reports":/usurio|user/.test(r)?"users":"general"}extractNumbers(e){const r=e.match(/\d+[.,]?\d*/g);return r?r.map(n=>parseFloat(n.replace(",","."))):[]}formatFinancialResult(e){let r=`**${e.name}**: ${e.value.toFixed(2)}${e.unit}
`;return r+=`**Status**: ${this.translateStatus(e.status)}
`,r+=`**Meta**: ${e.target}${e.unit}

`,r+=`${e.interpretation}

`,e.recommendations.length>0&&(r+=`**Recomendaes:**
`,e.recommendations.forEach((n,a)=>{r+=`${a+1}. ${n}
`})),r}formatRAGResponse(e){let r=`${e.summary}
`;return e.steps&&e.steps.length>0&&(r+=`
**Passo a Passo:**
`,e.steps.forEach((n,a)=>{r+=`${a+1}. ${n}
`})),e.strategicSuggestion&&(r+=`
**Viso Estratgica:**
${e.strategicSuggestion}
`),e.nextAction&&(r+=`
**Prxima Ao:**
${e.nextAction}
`),e.sources&&e.sources.length>0&&(r+=`
**Fontes:**
`,e.sources.forEach(n=>{r+=`- ${n.title} (v${n.version})
`})),r}getDefaultStrategicAdvice(e){return`Perspectiva empresarial sobre sua questo:

**Princpios de Execuo:**

1. **Dados antes de deciso**: Levante dados dos ltimos 60-90 dias
2. **ROI claro**: Toda ao deve ter retorno mensurvel
3. **Teste piloto**: 30 dias de teste antes de escalar
4. **Margem primeiro**: Estabilize lucratividade antes de crescer volume
5. **Caixa  rei**: Priorize liquidez sobre receita

**Prximos Passos:**

1. Identifique as 3 principais mtricas afetadas
2. Calcule impacto esperado de cada ao
3. Priorize por payback (meta: < 6 meses)
4. Implemente e mea semanalmente
5. Escale o que funciona, corte o que no d resultado

Compartilhe os dados especficos para anlise detalhada.`}translateStatus(e){return{excellent:" Excelente",good:" Bom",warning:" Ateno",critical:" Crtico"}[e]||e}addToHistory(e,r,n){this.conversationHistory.push({role:e,content:r,timestamp:new Date,metadata:n}),this.conversationHistory.length>20&&(this.conversationHistory=this.conversationHistory.slice(-20))}generateSessionId(){return`thomaz_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getHistory(){return this.conversationHistory}clearHistory(){this.conversationHistory=[]}async indexNewDocuments(){await this.embeddingsService.indexAllDocuments()}}function BVe(){const[t,e]=B.useState(!1),[r,n]=B.useState([]),[a,i]=B.useState(""),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(null),A=B.useRef(null),m=B.useRef(null);B.useEffect(()=>{t&&!u&&x()},[t]),B.useEffect(()=>{g()},[r]),B.useEffect(()=>{t&&m.current&&m.current.focus()},[t]);const x=async()=>{const v=new T8(void 0,"user",void 0);h(v);const C=new Date().getHours(),P=C<12?"Bom dia":C<18?"Boa tarde":"Boa noite";n([{id:`msg_${Date.now()}`,role:"assistant",content:`${P}! Sou o Thomaz, seu consultor empresarial.

Posso ajudar com anlises financeiras, procedimentos operacionais, consultoria estratgica e muito mais.

Sobre o que precisa conversar?`,timestamp:new Date}])},g=()=>{var v;(v=A.current)==null||v.scrollIntoView({behavior:"smooth"})},p=async v=>{d(!0);const C=v.split(" ").length,P=Math.min(C*50,2e3);await new Promise(_=>setTimeout(_,P)),d(!1)},f=async()=>{n([]),i(""),l(!0);try{const v=new T8;h(v);const C=new Date().getHours(),P=C<12?"Bom dia":C<18?"Boa tarde":"Boa noite",_={id:`msg_${Date.now()}_welcome`,role:"assistant",content:`${P}! Nova conversa iniciada. Como posso ajudar?`,timestamp:new Date};n([_])}catch(v){console.error("Erro ao reiniciar chat:",v)}finally{l(!1)}},y=async v=>{const C=a.trim();if(!C||!u)return;i("");const P={id:`msg_${Date.now()}_user`,role:"user",content:C,timestamp:new Date};n(_=>[..._,P]),l(!0);try{await p(C);const _=await u.processMessage(C),k={id:`msg_${Date.now()}_assistant`,role:"assistant",content:_.response,timestamp:new Date};n(M=>[...M,k])}catch(_){console.error("Erro ao processar mensagem:",_);const k={id:`msg_${Date.now()}_error`,role:"assistant",content:`Desculpe, tive um problema ao processar sua solicitao. 

Pode tentar novamente?`,timestamp:new Date};n(M=>[...M,k])}finally{l(!1)}},b=v=>{navigator.clipboard.writeText(v)},N=v=>v.split(`
`).map((C,P)=>{if(C.startsWith("**")&&C.endsWith("**")){const _=C.slice(2,-2);return s.jsx("div",{className:"font-bold text-lg mb-2",children:_},P)}return C.startsWith("")||C.startsWith("-")?s.jsxs("div",{className:"ml-4 my-1",children:[" ",C.slice(1).trim()]},P):C.trim()?s.jsx("div",{className:"my-1",children:C},P):s.jsx("div",{className:"h-2"},P)});return t?s.jsx(lt,{children:s.jsxs(se.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-6 right-6 w-[450px] h-[700px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:s.jsx(nb,{className:"w-7 h-7 text-blue-600"})}),s.jsx(se.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-white text-lg flex items-center gap-2",children:["Thomaz",s.jsx(ah,{className:"w-4 h-4 text-yellow-300"})]}),s.jsx("p",{className:"text-xs text-blue-100",children:"Consultor Snior - Especialista em Gesto"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r.length>1&&s.jsx(se.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",title:"Reiniciar conversa",children:s.jsx(z9,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>e(!1),className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:s.jsx(At,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[r.map(v=>s.jsxs(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${v.role==="user"?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${v.role==="user"?"bg-blue-600":"bg-gradient-to-br from-purple-600 to-blue-600"}`,children:v.role==="user"?s.jsx(Nr,{className:"w-5 h-5 text-white"}):s.jsx(nb,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:`flex-1 ${v.role==="user"?"items-end":"items-start"} flex flex-col`,children:[s.jsx("div",{className:`max-w-[85%] rounded-2xl p-4 shadow-sm ${v.role==="user"?"bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-br-none":"bg-gradient-to-br from-white to-gray-50 border border-gray-200 text-gray-900 rounded-bl-none"}`,children:s.jsx("div",{className:"text-sm whitespace-pre-wrap",children:N(v.content)})}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 px-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:Qr(v.timestamp,"HH:mm",{locale:Jo})}),v.role==="assistant"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>b(v.content),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:s.jsx(Wl,{className:"w-3 h-3"})}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"til",children:s.jsx(Cle,{className:"w-3 h-3"})}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"No til",children:s.jsx(Nle,{className:"w-3 h-3"})})]})]})]})]},v.id)),c&&s.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center",children:s.jsx(nb,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-2xl rounded-bl-none p-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(se.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:0},className:"w-2 h-2 bg-gray-400 rounded-full"}),s.jsx(se.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.2},className:"w-2 h-2 bg-gray-400 rounded-full"}),s.jsx(se.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.4},className:"w-2 h-2 bg-gray-400 rounded-full"})]})})]}),s.jsx("div",{ref:A})]}),s.jsxs("div",{className:"p-4 bg-white border-t",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:m,type:"text",value:a,onChange:v=>i(v.target.value),onKeyPress:v=>v.key==="Enter"&&!o&&y(),placeholder:"Fale comigo naturalmente...",disabled:o,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-base"}),s.jsx("button",{onClick:()=>y(),disabled:o||!a.trim(),className:"px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center",children:o?s.jsx(xf,{className:"w-5 h-5 animate-spin"}):s.jsx(ja,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Conversa criptografada e segura  Dados em tempo real"})]})]})}):s.jsxs(se.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-2xl flex items-center justify-center z-50 hover:shadow-blue-500/50 transition-all",children:[s.jsx(nb,{className:"w-8 h-8"}),s.jsx(se.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{repeat:1/0,duration:2},className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full"})]})}function EVe(){const[t,e]=B.useState(!1),[r,n]=B.useState(!1),[a,i]=B.useState([]),[o,l]=B.useState(""),[c,d]=B.useState(!1),[u]=B.useState(crypto.randomUUID()),h=B.useRef(null);B.useEffect(()=>{A()},[a]),B.useEffect(()=>{t&&a.length===0&&i([{id:"welcome",role:"assistant",content:` Ol! Sou o **Assistente Giartech**, sua inteligncia corporativa.

Posso ajud-lo com:

 **Financeiro** - Receitas, despesas, DRE e anlises
 **Ordens de Servio** - Status, anlises e insights
 **Estoque** - Inventrio e alertas
 **Clientes** - CRM e base de dados
 **Equipe** - Colaboradores e performance
 **Indicadores** - KPIs e dashboards
 **Agenda** - Compromissos e eventos

Como posso ajud-lo hoje?`,timestamp:new Date().toISOString()}])},[t]);const A=()=>{var f;(f=h.current)==null||f.scrollIntoView({behavior:"smooth"})},m=async()=>{if(!o.trim()||c)return;const f=o.trim();l("");const y={id:`user-${Date.now()}`,role:"user",content:f,timestamp:new Date().toISOString()};i(b=>[...b,y]),d(!0);try{const v=await(await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/giartech-assistant",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({message:f,conversationId:u,userId:"current-user"})})).json();if(v.success&&v.response){const C={id:`assistant-${Date.now()}`,role:"assistant",content:v.response,timestamp:v.timestamp,intent:v.intent};i(P=>[...P,C])}else throw new Error(v.error||"Erro ao processar mensagem")}catch(b){console.error("Error:",b);const N={id:`error-${Date.now()}`,role:"assistant",content:" Desculpe, ocorreu um erro ao processar sua mensagem. Por favor, tente novamente.",timestamp:new Date().toISOString()};i(v=>[...v,N])}finally{d(!1)}},x=[{icon:Yt,text:"Como est o financeiro?",color:"text-green-600"},{icon:pr,text:"Quantas OSs temos hoje?",color:"text-blue-600"},{icon:lr,text:"O que tenho na agenda hoje?",color:"text-indigo-600"},{icon:Bt,text:"Qual o status do estoque?",color:"text-orange-600"}],g=f=>{l(f)},p=f=>{switch(f){case"financial":return"";case"serviceOrders":return"";case"inventory":return"";case"clients":return"";case"employees":return"";case"analytics":return"";case"calendar":return"";default:return""}};return t?s.jsxs(se.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`fixed z-50 bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col ${r?"bottom-6 right-6 w-80 h-16":"bottom-6 right-6 w-[450px] h-[650px]"}`,style:{maxHeight:"calc(100vh - 100px)"},children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-4 py-3 rounded-t-2xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ah,{className:"h-6 w-6"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-sm",children:"Assistente Giartech"}),s.jsx("p",{className:"text-xs text-blue-100",children:"Inteligncia Corporativa"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>n(!r),className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:r?s.jsx(poe,{className:"h-4 w-4"}):s.jsx(Coe,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(At,{className:"h-4 w-4"})})]})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[a.map(f=>s.jsx(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${f.role==="user"?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[f.role==="assistant"&&f.intent&&s.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[p(f.intent)," ",f.intent]}),s.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:f.content.split(`
`).map((y,b)=>{let N=y;return N=N.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),N=N.replace(/\*(.*?)\*/g,"<em>$1</em>"),s.jsxs("span",{children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:N}}),b<f.content.split(`
`).length-1&&s.jsx("br",{})]},b)})}),s.jsx("div",{className:`text-xs mt-2 ${f.role==="user"?"text-blue-100":"text-gray-400"}`,children:new Date(f.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},f.id)),c&&s.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),s.jsx("div",{ref:h})]}),a.length===1&&s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-white",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Perguntas rpidas:"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.map((f,y)=>s.jsxs("button",{onClick:()=>g(f.text),className:"flex items-center gap-2 px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg text-xs text-left transition-colors border border-gray-200",children:[s.jsx(f.icon,{className:`h-4 w-4 ${f.color} flex-shrink-0`}),s.jsx("span",{className:"text-gray-700 line-clamp-2",children:f.text})]},y))})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white rounded-b-2xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),onKeyPress:f=>f.key==="Enter"&&!f.shiftKey&&m(),placeholder:"Digite sua pergunta...",disabled:c,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-400 text-sm"}),s.jsx("button",{onClick:m,disabled:!o.trim()||c,className:"bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 disabled:from-gray-300 disabled:to-gray-400 text-white p-3 rounded-xl transition-all duration-200 disabled:cursor-not-allowed",children:s.jsx(ja,{className:"h-5 w-5"})})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Powered by Giartech Intelligence"})]})]})]}):s.jsxs(se.button,{initial:{scale:0},animate:{scale:1},onClick:()=>e(!0),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-br from-blue-600 to-indigo-700 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ah,{className:"h-7 w-7 animate-pulse"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-ping"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full"})]}),s.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Assistente Giartech"})]})}class kVe{async getDashboardMetrics(){try{const[e,r,n,a]=await Promise.all([this.getServiceOrdersMetrics(),this.getCustomersMetrics(),this.getInventoryMetrics(),this.getFinancialMetrics()]),i=`**Dashboard Giartech - Viso Geral**

 **Ordens de Servio:**
 Total: ${e.total}
 Abertas: ${e.open}
 Em andamento: ${e.inProgress}
 Concludas: ${e.completed}
 Taxa de concluso: ${e.completionRate}%

 **Clientes:**
 Total de clientes: ${r.total}
 Ativos no ms: ${r.activeThisMonth}
 Novos este ms: ${r.newThisMonth}

 **Estoque:**
 Total de itens: ${n.totalItems}
 Valor total: R$ ${n.totalValue.toLocaleString("pt-BR")}
 Itens em baixa: ${n.lowStock}

 **Financeiro:**
 Receita do ms: R$ ${a.monthRevenue.toLocaleString("pt-BR")}
 Contas a receber: R$ ${a.accountsReceivable.toLocaleString("pt-BR")}
 Margem mdia: ${a.averageMargin}%`;return{success:!0,data:[{orders:e,customers:r,inventory:n,finance:a}],summary:i,totalRecords:1,visualizationType:"metric",insights:[e.completionRate>80?"Excelente taxa de concluso de ordens!":"Ateno: Taxa de concluso pode melhorar",n.lowStock>0?`${n.lowStock} itens precisam de reposio`:"Estoque em bons nveis",a.averageMargin>40?"Margem de lucro saudvel":"Oportunidade de melhorar a margem"]}}catch(e){return console.error("Dashboard metrics error:",e),{success:!1,data:[],summary:"Erro ao buscar mtricas do dashboard",totalRecords:0}}}async getServiceOrdersMetrics(){const{data:e}=await ae.from("service_orders").select("id, status, final_total, created_at"),r=(e==null?void 0:e.length)||0,n=(e==null?void 0:e.filter(l=>l.status==="aberta").length)||0,a=(e==null?void 0:e.filter(l=>l.status==="em_andamento").length)||0,i=(e==null?void 0:e.filter(l=>l.status==="concluida").length)||0,o=r>0?parseFloat((i/r*100).toFixed(1)):0;return{total:r,open:n,inProgress:a,completed:i,completionRate:o}}async searchServiceOrders(e){try{let r=ae.from("service_orders").select(`
          *,
          customer:customers(nome_razao, cnpj_cpf, email, telefone),
          items:service_order_items(*)
        `);e.status&&(r=r.eq("status",e.status)),e.customerId&&(r=r.eq("customer_id",e.customerId)),e.dateFrom&&(r=r.gte("created_at",e.dateFrom)),e.dateTo&&(r=r.lte("created_at",e.dateTo)),r=r.limit(e.limit||10).order("created_at",{ascending:!1});const{data:n,error:a}=await r;if(a)throw a;const i=this.formatServiceOrdersSummary(n||[]);return{success:!0,data:n||[],summary:i,totalRecords:(n==null?void 0:n.length)||0,visualizationType:"table"}}catch(r){return console.error("Service orders search error:",r),{success:!1,data:[],summary:"Erro ao buscar ordens de servio",totalRecords:0}}}formatServiceOrdersSummary(e){if(e.length===0)return"Nenhuma ordem de servio encontrada com os filtros especificados.";const r=e.reduce((i,o)=>i+(o.final_total||0),0),n=e.reduce((i,o)=>(i[o.status]=(i[o.status]||0)+1,i),{});let a=`**${e.length} Ordens de Servio Encontradas**

 Valor Total: R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}

 Por Status:
`;return Object.entries(n).forEach(([i,o])=>{a+=`${i==="concluida"?"":i==="em_andamento"?"":""} ${i}: ${o}
`}),a+=`
**ltimas Ordens:**
`,e.slice(0,5).forEach(i=>{var o;a+=`
 **OS-${i.order_number}** - ${((o=i.customer)==null?void 0:o.nome_razao)||"Cliente no identificado"}
`,a+=`  Status: ${i.status} | Valor: R$ ${(i.final_total||0).toLocaleString("pt-BR")}
`}),a}async getCustomersMetrics(){const{data:e}=await ae.from("customers").select("id, created_at"),r=(e==null?void 0:e.length)||0,n=new Date;n.setDate(1),n.setHours(0,0,0,0);const a=(e==null?void 0:e.filter(o=>new Date(o.created_at)>=n).length)||0;return{total:r,activeThisMonth:a,newThisMonth:a}}async searchCustomers(e){try{let r=ae.from("customers").select("*");e.search&&(r=r.or(`nome_razao.ilike.%${e.search}%,cnpj_cpf.ilike.%${e.search}%,email.ilike.%${e.search}%`)),r=r.limit(e.limit||10).order("nome_razao");const{data:n,error:a}=await r;if(a)throw a;const i=this.formatCustomersSummary(n||[]);return{success:!0,data:n||[],summary:i,totalRecords:(n==null?void 0:n.length)||0,visualizationType:"table"}}catch(r){return console.error("Customers search error:",r),{success:!1,data:[],summary:"Erro ao buscar clientes",totalRecords:0}}}formatCustomersSummary(e){if(e.length===0)return"Nenhum cliente encontrado.";let r=`**${e.length} Clientes Encontrados**

`;return e.slice(0,10).forEach(n=>{r+=` **${n.nome_razao}**
`,n.cnpj_cpf&&(r+=`   CNPJ/CPF: ${n.cnpj_cpf}
`),n.email&&(r+=`    ${n.email}
`),n.telefone&&(r+=`    ${n.telefone}
`),n.cidade&&(r+=`    ${n.cidade}/${n.estado}
`),r+=`
`}),r}async getInventoryMetrics(){const{data:e}=await ae.from("inventory_items").select("id, quantidade, preco_unitario, estoque_minimo"),r=(e==null?void 0:e.length)||0,n=(e==null?void 0:e.reduce((i,o)=>i+o.quantidade*o.preco_unitario,0))||0,a=(e==null?void 0:e.filter(i=>i.quantidade<=(i.estoque_minimo||0)).length)||0;return{totalItems:r,totalValue:n,lowStock:a}}async searchInventory(e){try{let r=ae.from("inventory_items").select("*");e.search&&(r=r.or(`nome.ilike.%${e.search}%,codigo_sku.ilike.%${e.search}%`)),r=r.limit(e.limit||10).order("nome");const{data:n,error:a}=await r;if(a)throw a;let i=n||[];e.lowStock&&(i=i.filter(l=>l.quantidade<=(l.estoque_minimo||0)));const o=this.formatInventorySummary(i);return{success:!0,data:i,summary:o,totalRecords:i.length,visualizationType:"table",insights:e.lowStock&&i.length>0?[` ${i.length} itens precisam de reposio urgente!`]:void 0}}catch(r){return console.error("Inventory search error:",r),{success:!1,data:[],summary:"Erro ao buscar estoque",totalRecords:0}}}formatInventorySummary(e){if(e.length===0)return"Nenhum item encontrado no estoque.";const r=e.reduce((a,i)=>a+i.quantidade*i.preco_unitario,0);let n=`**${e.length} Itens no Estoque**

`;return n+=` Valor Total: R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}

`,e.slice(0,10).forEach(a=>{const i=a.quantidade<=(a.estoque_minimo||0);n+=`${i?"":""} **${a.nome}**
`,a.codigo_sku&&(n+=`   SKU: ${a.codigo_sku}
`),n+=`   Quantidade: ${a.quantidade} ${a.unidade||"un"}
`,n+=`   Valor unitrio: R$ ${a.preco_unitario.toLocaleString("pt-BR")}
`,i&&(n+=`    Estoque abaixo do mnimo (${a.estoque_minimo})
`),n+=`
`}),n}async getFinancialMetrics(){const e=new Date;e.setDate(1),e.setHours(0,0,0,0);const{data:r}=await ae.from("finance_entries").select("tipo, valor, status").gte("data_vencimento",e.toISOString()),n=(r==null?void 0:r.filter(l=>l.tipo==="receita"&&l.status==="pago").reduce((l,c)=>l+c.valor,0))||0,a=(r==null?void 0:r.filter(l=>l.tipo==="despesa"&&l.status==="pago").reduce((l,c)=>l+c.valor,0))||0,i=(r==null?void 0:r.filter(l=>l.tipo==="receita"&&l.status==="pendente").reduce((l,c)=>l+c.valor,0))||0,o=n>0?((n-a)/n*100).toFixed(1):0;return{monthRevenue:n,monthExpenses:a,accountsReceivable:i,averageMargin:parseFloat(o)}}async searchFinancialEntries(e){try{let r=ae.from("finance_entries").select(`
          *,
          category:financial_categories(nome, tipo)
        `);e.type&&(r=r.eq("tipo",e.type)),e.status&&(r=r.eq("status",e.status)),e.dateFrom&&(r=r.gte("data_vencimento",e.dateFrom)),e.dateTo&&(r=r.lte("data_vencimento",e.dateTo)),r=r.limit(e.limit||10).order("data_vencimento",{ascending:!1});const{data:n,error:a}=await r;if(a)throw a;const i=this.formatFinancialSummary(n||[]);return{success:!0,data:n||[],summary:i,totalRecords:(n==null?void 0:n.length)||0,visualizationType:"table"}}catch(r){return console.error("Financial entries search error:",r),{success:!1,data:[],summary:"Erro ao buscar lanamentos financeiros",totalRecords:0}}}formatFinancialSummary(e){if(e.length===0)return"Nenhum lanamento financeiro encontrado.";const r=e.filter(o=>o.tipo==="receita").reduce((o,l)=>o+l.valor,0),n=e.filter(o=>o.tipo==="despesa").reduce((o,l)=>o+l.valor,0),a=r-n;let i=`**${e.length} Lanamentos Financeiros**

`;return i+=` Receitas: R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,i+=` Despesas: R$ ${n.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,i+=`${a>=0?"":""} Saldo: R$ ${a.toLocaleString("pt-BR",{minimumFractionDigits:2})}

`,i+=`**ltimos Lanamentos:**
`,e.slice(0,5).forEach(o=>{const l=o.tipo==="receita"?"":"",c=o.status==="pago"?"":"";i+=`
${l} **${o.descricao}**
`,i+=`   Valor: R$ ${o.valor.toLocaleString("pt-BR")}
`,i+=`   ${c} Status: ${o.status}
`,o.category&&(i+=`   Categoria: ${o.category.nome}
`)}),i}async searchEmployees(e){try{let r=ae.from("employees").select("*");e.search&&(r=r.or(`nome.ilike.%${e.search}%,cargo.ilike.%${e.search}%`)),e.department&&(r=r.eq("departamento",e.department)),r=r.limit(e.limit||10).order("nome");const{data:n,error:a}=await r;if(a)throw a;const i=this.formatEmployeesSummary(n||[]);return{success:!0,data:n||[],summary:i,totalRecords:(n==null?void 0:n.length)||0,visualizationType:"table"}}catch(r){return console.error("Employees search error:",r),{success:!1,data:[],summary:"Erro ao buscar funcionrios",totalRecords:0}}}formatEmployeesSummary(e){if(e.length===0)return"Nenhum funcionrio encontrado.";let r=`**${e.length} Funcionrios Encontrados**

`;return e.slice(0,10).forEach(n=>{r+=` **${n.nome}**
`,n.cargo&&(r+=`   Cargo: ${n.cargo}
`),n.departamento&&(r+=`   Departamento: ${n.departamento}
`),n.email&&(r+=`    ${n.email}
`),n.telefone&&(r+=`    ${n.telefone}
`),r+=`
`}),r}async intelligentQuery(e){const r=e.toLowerCase();if(/dashboard|vis[a]o.*geral|resumo.*empresa|m[e]tricas/i.test(r))return this.getDashboardMetrics();if(/ordem.*servi[c]o|os\s|projeto/i.test(r)){const n={};return/aberta|pendente/i.test(r)&&(n.status="aberta"),/andamento|execu[c][a]o/i.test(r)&&(n.status="em_andamento"),/conclu[i]da|finalizada/i.test(r)&&(n.status="concluida"),this.searchServiceOrders(n)}if(/cliente|customer/i.test(r)){const n=r.match(/cliente\s+(.+)/i);return this.searchCustomers({search:n?n[1]:void 0})}if(/estoque|invent[a]rio|material|produto/i.test(r)){const n={};return/baixo|repor|reposi[c][a]o|m[i]nimo/i.test(r)&&(n.lowStock=!0),this.searchInventory(n)}if(/financ|receita|despesa|pagamento|lan[c]amento/i.test(r)){const n={};return/receita/i.test(r)&&(n.type="receita"),/despesa/i.test(r)&&(n.type="despesa"),/pendente|aberto|pagar/i.test(r)&&(n.status="pendente"),/pago|quitado/i.test(r)&&(n.status="pago"),this.searchFinancialEntries(n)}return/funcion[a]rio|colaborador|equipe|time/i.test(r)?this.searchEmployees({}):this.getDashboardMetrics()}}class PVe{constructor(){et(this,"dataService");this.dataService=new kVe}async reason(e){const{userMessage:r,conversationHistory:n,userRole:a,companyContext:i}=e,o=await this.interpretIntent(r,n),l=await this.reasonAboutContext(o,e),c=await this.queryRealData(o,l,r),d=await this.retrieveRelevantKnowledge(o,l),u=await this.formulateResponse(o,l,d,e,c);return{interpretation:o,reasoning:l,response:u,realData:c}}async interpretIntent(e,r){const n=e.toLowerCase(),a=this.extractEntities(e),i=this.detectSentiment(n),o=this.assessComplexity(e,r),l=this.detectIntents(n);return{mainIntent:l.main,subIntents:l.sub,entities:a,sentiment:i,complexity:o}}async reasonAboutContext(e,r){const n=[],a=[],i=[],o=[];if(n.push(`Usurio quer: ${e.mainIntent}`),e.subIntents.length>0&&n.push(`Tambm envolve: ${e.subIntents.join(", ")}`),r.conversationHistory.length>0){const h=r.conversationHistory.slice(-3).map(A=>this.extractMainTopic(A.content));h.length>0&&(a.push(`Tpicos recentes: ${h.join("  ")}`),n.push("Continuando conversa anterior"))}const{mainIntent:l,subIntents:c}=e;l.includes("financeiro")&&(c.some(u=>u.includes("cliente"))&&i.push("Financeiro + Cliente = Anlise de recebveis ou faturamento"),c.some(u=>u.includes("projeto")||u.includes("ordem"))&&i.push("Financeiro + Projeto = Rentabilidade e custos")),l.includes("documento")&&c.some(u=>u.includes("gerar")||u.includes("criar"))&&(i.push("Documento + Gerar = Sistema de gerao de PDFs"),n.push("Posso usar generateDocumentPDFUnified")),(l.includes("oramento")||l.includes("proposta"))&&(i.push("Relacionado a Ordem de Servio"),n.push("Dados esto em service_orders e service_order_items"));const{entities:d}=e;return(l.includes("calcular")||l.includes("analisar"))&&(!d.numbers||d.numbers.length===0)&&o.push("Valores numricos necessrios"),l.includes("cliente")&&(!d.names||d.names.length===0)&&o.push("Nome ou identificao do cliente"),{thoughtProcess:n,relevantContext:a,connectionsFound:i,missingInformation:o}}async queryRealData(e,r,n){const{mainIntent:a,subIntents:i}=e;if(/quantos|quanto|qual|mostre|liste|busque|consulte|dados|informa[c][o]es/i.test(n)||a.includes("consulta")||a.includes("anlise de dados")||a.includes("dashboard"))try{const l=await this.dataService.intelligentQuery(n);return l.success&&l.data.length>0?l:void 0}catch(l){console.error("Real data query error:",l);return}}async retrieveRelevantKnowledge(e,r){const{mainIntent:n,subIntents:a}=e,i=[n,...a];try{const o=this.extractSearchKeywords(i),{data:l,error:c}=await ae.from("knowledge_base").select("*").or(o.map(d=>`keywords.cs.{${d}}`).join(",")).limit(5);return c?(console.error("Knowledge retrieval error:",c),[]):l||[]}catch(o){return console.error("Knowledge search error:",o),[]}}async formulateResponse(e,r,n,a,i){const{mainIntent:o}=e,{missingInformation:l,connectionsFound:c}=r;if(l.length>0)return{answer:this.generateClarificationRequest(e,l),confidence:.7,shouldAskForClarification:!0,suggestedFollowUps:[]};if(i&&i.success)return{answer:i.summary,confidence:.95,shouldAskForClarification:!1,suggestedFollowUps:i.insights||["Quer mais detalhes sobre algum item?","Posso fazer outra anlise?","Precisa exportar esses dados?"],actionableSteps:i.insights};let d="",u=.8;const h=[],A=[];return o.includes("ajuda")||o.includes("como")?(d=this.generateHelpResponse(e,n),h.push("Quer ver um exemplo prtico?","Precisa de mais detalhes sobre algum passo?")):o.includes("calcular")||o.includes("analisar")?(d=this.generateAnalyticalResponse(e,r,n),u=.9,A.push("Revisar os clculos apresentados","Comparar com perodos anteriores","Implementar recomendaes prioritrias")):o.includes("documento")||o.includes("pdf")?(d=this.generateDocumentResponse(e,n),u=.95,h.push("Quer que eu gere um exemplo?","Precisa personalizar o template?")):o.includes("problema")||o.includes("erro")?(d=this.generateTroubleshootingResponse(e,n),u=.75,A.push("Verificar logs de erro","Testar em ambiente controlado","Aplicar soluo sugerida")):(d=this.generateGenericIntelligentResponse(e,r,n,a),u=.7),c.length>0&&!d.includes("Conexes")&&(d+=`

**Conexes relevantes:**
${c.map(m=>` ${m}`).join(`
`)}`),n.length>0&&!d.includes("baseado em")&&(d+=`

*Resposta baseada em ${n.length} fonte(s) de conhecimento interno.*`),{answer:d,confidence:u,shouldAskForClarification:!1,suggestedFollowUps:h,actionableSteps:A.length>0?A:void 0}}detectIntents(e){const r={"ajuda/tutorial":/(como|ajuda|tutorial|ensina|explica|guia)/,"clculo financeiro":/(calcul|margem|lucro|dso|markup|roi|rentabilidade)/,"anlise de dados":/(analis|relat[o]rio|estat[i]stic|dashboard|indicador)/,"gerao de documento":/(gera|cria|pdf|documento|oramento|proposta|contrato)/,"consulta de cliente":/(cliente|customer|consumidor)/,"consulta de projeto":/(projeto|obra|ordem.*servi[c]o|os\s)/,"consulta de estoque":/(estoque|material|invent[a]rio|produto)/,"consulta de funcionrio":/(funcion[a]rio|colaborador|equipe|time)/,"problema/erro":/(problema|erro|bug|n[a]o.*funciona|quebr)/,configurao:/(config|ajust|personaliz)/,"estratgia de negcio":/(estrat[e]gi|oportunidade|crescimento|expans[a]o)/},n=[];for(const[o,l]of Object.entries(r))l.test(e)&&n.push(o);const a=n[0]||"conversa geral",i=n.slice(1);return{main:a,sub:i}}extractEntities(e){const r={},n=e.match(/\d+([.,]\d+)?/g);n&&(r.numbers=n.map(l=>parseFloat(l.replace(",","."))));const a=e.match(/\d{1,2}\/\d{1,2}\/\d{2,4}/g);a&&(r.dates=a);const i=e.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g);i&&(r.emails=i);const o=e.match(/\b[A-Z][a-z]+(?:\s[A-Z][a-z]+)*\b/g);return o&&o.length>0&&(r.names=o.filter(l=>l.length>2)),r}detectSentiment(e){return/(urgente|imediato|r[a]pido|agora|j[a])/i.test(e)?"urgent":/(problema|erro|ruim|pssimo|horrvel|no funciona|quebrado)/i.test(e)?"negative":/(timo|excelente|perfeito|obrigado|valeu|top)/i.test(e)?"positive":"neutral"}assessComplexity(e,r){const n=e.split(/\s+/).length,a=(e.match(/\?/g)||[]).length>1,i=/\d/.test(e),o=r.length>0;return n<10&&!a?"simple":n>50||a||i&&o?"complex":"moderate"}extractMainTopic(e){const r={Finanas:/(financ|lucr|custo|receita|faturamento)/i,Clientes:/(cliente|customer)/i,Projetos:/(projeto|obra|ordem)/i,Documentos:/(documento|pdf|oramento|proposta)/i,Estoque:/(estoque|material|produto)/i};for(const[n,a]of Object.entries(r))if(a.test(e))return n;return"Geral"}extractSearchKeywords(e){const r=[],n={"clculo financeiro":["financeiro","clculo","margem","lucro"],"gerao de documento":["pdf","documento","gerador","template"],"consulta de cliente":["cliente","customer"],"consulta de projeto":["projeto","ordem","servio"],"ajuda/tutorial":["tutorial","guia","como usar"],"problema/erro":["problema","erro","soluo"]};for(const a of e){const i=n[a];i&&r.push(...i)}return[...new Set(r)]}generateClarificationRequest(e,r){const{mainIntent:n}=e;return`Entendi que voc quer ${n}, mas preciso de mais informaes:

${r.map((a,i)=>`${i+1}. ${a}`).join(`
`)}

Pode fornecer esses dados para eu te ajudar melhor?`}generateHelpResponse(e,r){if(r.length>0){const n=r[0];return`**${n.title}**

${n.summary}

${n.content.substring(0,500)}...

Quer que eu detalhe algum ponto especfico?`}return`Posso ajudar com isso! Sobre ${e.mainIntent}, tenho conhecimento extenso.

O que especificamente voc gostaria de saber?`}generateAnalyticalResponse(e,r,n){return`Vou analisar isso para voc.

**Meu raciocnio:**
${r.thoughtProcess.map((a,i)=>`${i+1}. ${a}`).join(`
`)}

**Contexto relevante:**
${r.relevantContext.map(a=>` ${a}`).join(`
`)||"Nenhum contexto anterior"}

Baseado nessa anlise, recomendo que voc considere os seguintes pontos...`}generateDocumentResponse(e,r){var a;const n=r.find(i=>{var o,l;return((o=i.keywords)==null?void 0:o.includes("pdf"))||((l=i.keywords)==null?void 0:l.includes("documento"))});return n?`**Sistema de Documentos Giartech**

${n.summary}

**Como usar:**
\`\`\`typescript
${((a=n.content.match(/```[\s\S]*?```/))==null?void 0:a[0])||"Ver documentao completa"}
\`\`\`

Precisa de ajuda com algum passo especfico?`:`Para gerar documentos, nosso sistema usa o **Gerador PDF Unificado**.

Posso te ensinar como usar. Qual tipo de documento voc precisa gerar?
 Oramento
 Proposta
 Ordem de Servio
 Contrato`}generateTroubleshootingResponse(e,r){return`Vamos resolver esse problema juntos.

**Anlise inicial:**
${e.mainIntent}

**Sentimento detectado:** ${e.sentiment==="urgent"?" Urgente":" Requer ateno"}

**Passos para diagnstico:**
1. Identificar a origem do problema
2. Verificar logs e mensagens de erro
3. Testar possveis solues
4. Aplicar correo

Pode me dar mais detalhes sobre o erro que est acontecendo?`}generateGenericIntelligentResponse(e,r,n,a){const{mainIntent:i,complexity:o}=e,{thoughtProcess:l}=r;let c=`Entendi sua solicitao sobre ${i}.`;return o==="complex"&&(c+=`

 uma questo complexa que envolve:
${l.map(d=>` ${d}`).join(`
`)}`),n.length>0&&(c+=`

Encontrei ${n.length} referncia(s) relevante(s) na minha base de conhecimento.`),c+=`

Como posso ajudar especificamente? Pode detalhar um pouco mais sua necessidade?`,c}}function FVe({userId:t,userRole:e="user",companyId:r,userName:n}){const[a,i]=B.useState([]),[o,l]=B.useState(""),[c,d]=B.useState(!1),[u,h]=B.useState(""),[A]=B.useState(()=>new PVe),[m,x]=B.useState(null),[g,p]=B.useState(null),f=B.useRef(null),y=B.useRef(null),b=B.useRef(null);B.useEffect(()=>{N()},[]),B.useEffect(()=>{v()},[a,u]),B.useEffect(()=>{C()},[o]);const N=async()=>{const S=new Date().getHours(),H=`${S<12?"Bom dia":S<18?"Boa tarde":"Boa noite"}, ${n||"colega"}! 

Sou o **Thomaz**, a inteligncia artificial da Giartech. Trabalho aqui como consultor empresarial e estou pronto para conversar sobre qualquer aspecto da nossa operao.

**Posso ajudar com:**
 Anlise financeira e estratgica
 Processos operacionais e melhores prticas
 Gerao de documentos e relatrios
 Consultas sobre clientes, ordens de servio e projetos
 Insights sobre o negcio e oportunidades

**Como funciono:**
Tenho acesso profundo a toda nossa base de conhecimento, **dados em tempo real** do sistema e experincia em gesto empresarial. Penso, analiso e respondo como um consultor especializado.

**Experimente perguntar:**
 "Mostre o dashboard geral da empresa"
 "Quantas ordens de servio temos abertas?"
 "Qual o status financeiro este ms?"
 "Quais itens esto em baixa no estoque?"

O que precisa hoje? Pode conversar naturalmente comigo, como faria com qualquer colega de trabalho.`;i([{id:`msg_${Date.now()}`,role:"assistant",content:H,timestamp:new Date,confidence:"high"}])},v=()=>{var S;(S=f.current)==null||S.scrollIntoView({behavior:"smooth"})},C=()=>{const S=y.current;S&&(S.style.height="auto",S.style.height=Math.min(S.scrollHeight,150)+"px")},P=async()=>{if(!o.trim()||c)return;const S={id:`msg_${Date.now()}`,role:"user",content:o.trim(),timestamp:new Date};i(F=>[...F,S]),l(""),d(!0),h("");try{const F=["Analisando sua solicitao...","Buscando informaes relevantes...","Consultando base de conhecimento...","Processando dados em tempo real...","Formulando resposta..."];for(const U of F)h(U),await new Promise(z=>setTimeout(z,300));const O=await A.reason({userMessage:S.content,conversationHistory:a.map(U=>({role:U.role,content:U.content})),userRole:e,companyContext:{userId:t,companyId:r}});h("");const H={id:`msg_${Date.now()+1}`,role:"assistant",content:O.response.answer,timestamp:new Date,confidence:O.response.confidence>.8?"high":O.response.confidence>.6?"medium":"low",sources:[],thinking:O.reasoning.thoughtProcess.join("  "),realData:O.realData};await _(H)}catch(F){console.error("Erro ao processar mensagem:",F);const O={id:`msg_${Date.now()+1}`,role:"assistant",content:"Desculpe, encontrei um problema ao processar sua solicitao. Poderia reformular ou tentar novamente?",timestamp:new Date,confidence:"low"};i(H=>[...H,O])}finally{d(!1),h("")}},_=async S=>{const F=S.content.split(" ");let O="";const H={...S,content:"",isStreaming:!0};i(U=>[...U,H]);for(let U=0;U<F.length;U++){O+=(U>0?" ":"")+F[U],i(R=>{const I=[...R],K=I.length-1;return I[K]={...I[K],content:O},I});const z=F[U].length>8?40:20;await new Promise(R=>setTimeout(R,z))}i(U=>{const z=[...U],R=z.length-1;return z[R]={...z[R],isStreaming:!1},z})},k=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),P())},M=S=>{switch(S){case"high":return"text-green-600";case"medium":return"text-yellow-600";case"low":return"text-red-600";default:return"text-gray-600"}},j=S=>{switch(S){case"high":return"Alta confiana";case"medium":return"Confiana mdia";case"low":return"Baixa confiana";default:return""}};return s.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl flex items-center justify-center",children:s.jsx(lm,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Thomaz AI"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Consultor Empresarial  Giartech"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ah,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Inteligncia Avanada"})]})]})}),s.jsx("div",{ref:b,className:"flex-1 overflow-y-auto px-4 py-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(lt,{children:a.map((S,F)=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`flex gap-4 ${S.role==="user"?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:"flex-shrink-0",children:S.role==="assistant"?s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center",children:s.jsx(lm,{className:"w-5 h-5 text-white"})}):s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:s.jsx(Mt,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:`flex-1 ${S.role==="user"?"max-w-2xl ml-auto":"max-w-3xl"}`,children:[s.jsxs("div",{className:`rounded-2xl px-4 py-3 ${S.role==="user"?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[s.jsx("div",{className:"prose prose-sm max-w-none",children:S.content.split(`
`).map((O,H)=>O.startsWith("**")&&O.endsWith("**")?s.jsx("p",{className:"font-semibold mb-2",children:O.slice(2,-2)},H):O.startsWith("")?s.jsx("li",{className:"ml-4",children:O.slice(1).trim()},H):O?s.jsx("p",{className:"mb-2",children:O},H):s.jsx("br",{},H))}),S.isStreaming&&s.jsx(se.span,{animate:{opacity:[1,.5,1]},transition:{repeat:1/0,duration:1},className:"inline-block w-2 h-4 bg-blue-600 ml-1"})]}),S.role==="assistant"&&!S.isStreaming&&s.jsxs("div",{className:"flex items-center gap-3 mt-2 px-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:Qr(S.timestamp,"HH:mm",{locale:Jo})}),S.confidence&&s.jsxs("div",{className:`flex items-center gap-1 text-xs ${M(S.confidence)}`,children:[s.jsx(Mr,{className:"w-3 h-3"}),s.jsx("span",{children:j(S.confidence)})]}),S.sources&&S.sources.length>0&&s.jsxs("button",{onClick:()=>x(m===S.id?null:S.id),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800",children:[s.jsx(at,{className:"w-3 h-3"}),s.jsxs("span",{children:[S.sources.length," fontes"]}),s.jsx(ai,{className:`w-3 h-3 transition-transform ${m===S.id?"rotate-180":""}`})]})]}),s.jsx(lt,{children:m===S.id&&S.sources&&s.jsxs(se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-2 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Fontes consultadas:"}),s.jsx("div",{className:"space-y-2",children:S.sources.map((O,H)=>{var U;return s.jsx("div",{className:"text-xs text-gray-600 pl-3 border-l-2 border-blue-300",children:O.title||((U=O.content)==null?void 0:U.substring(0,100))+"..."},H)})})]})})]})]},S.id))}),u&&s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center",children:s.jsx(b0,{className:"w-5 h-5 text-white animate-spin"})}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(di,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm italic",children:u})]})})})]}),s.jsx("div",{ref:f})]})}),s.jsx("div",{className:"bg-white border-t border-gray-200 px-4 py-4 shadow-lg",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{ref:y,value:o,onChange:S=>l(S.target.value),onKeyDown:k,disabled:c,placeholder:"Converse naturalmente com o Thomaz... (Enter para enviar, Shift+Enter para nova linha)",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none bg-white text-gray-900 placeholder-gray-500 disabled:bg-gray-50 disabled:text-gray-500",rows:1,style:{minHeight:"48px",maxHeight:"150px"}}),s.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[o.length,"/2000"]})]}),s.jsx(se.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,disabled:!o.trim()||c,className:`p-3 rounded-xl transition-all ${o.trim()&&!c?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-500/50":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:c?s.jsx(b0,{className:"w-5 h-5 animate-spin"}):s.jsx(ja,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3 px-2",children:[s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ah,{className:"w-3 h-3"}),"Inteligncia contextual ativa"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(lm,{className:"w-3 h-3"}),"Raciocnio avanado"]})]}),s.jsx("span",{className:"text-xs text-gray-400",children:"Thomaz AI v2.0  Giartech"})]})]})})]})}function TVe(){const{user:t}=cn();return s.jsx(FVe,{userId:t==null?void 0:t.id,userRole:(t==null?void 0:t.role)||"user",companyId:void 0,userName:t==null?void 0:t.name})}function cX(){const[t,e]=B.useState(""),[r,n]=B.useState(Qr(new Date().setDate(1),"yyyy-MM-dd")),[a,i]=B.useState(Qr(new Date,"yyyy-MM-dd")),[o,l]=B.useState(null),[c,d]=B.useState(!1),[u,h]=B.useState(!1),A=[{id:"financial",name:"Relatrio Financeiro",description:"DRE, Fluxo de Caixa, Contas a Pagar/Receber",icon:s.jsx(Yt,{className:"h-6 w-6"}),category:"financial"},{id:"service_orders",name:"Relatrio de OSs",description:"Anlise completa de ordens de servio",icon:s.jsx(at,{className:"h-6 w-6"}),category:"operational"},{id:"sales",name:"Relatrio de Vendas",description:"Vendas por cliente, produto e perodo",icon:s.jsx(pr,{className:"h-6 w-6"}),category:"commercial"},{id:"inventory",name:"Relatrio de Estoque",description:"Movimentaes, inventrio e curva ABC",icon:s.jsx(Bt,{className:"h-6 w-6"}),category:"inventory"},{id:"customers",name:"Relatrio de Clientes",description:"Anlise de base de clientes e performance",icon:s.jsx(Mt,{className:"h-6 w-6"}),category:"commercial"},{id:"performance",name:"Relatrio de Performance",description:"KPIs, mtricas e anlise de desempenho",icon:s.jsx(Cs,{className:"h-6 w-6"}),category:"operational"}];B.useEffect(()=>{t&&m()},[t,r,a]);const m=async()=>{d(!0);try{const{data:p}=await ae.from("finance_entries").select("*").gte("due_date",r).lte("due_date",a),f=(p==null?void 0:p.filter(v=>v.type==="income"&&v.status==="paid").reduce((v,C)=>v+(C.amount||0),0))||0,y=(p==null?void 0:p.filter(v=>v.type==="expense"&&v.status==="paid").reduce((v,C)=>v+(C.amount||0),0))||0,{count:b}=await ae.from("service_orders").select("*",{count:"exact",head:!0}).gte("created_at",r).lte("created_at",a),{count:N}=await ae.from("customers").select("*",{count:"exact",head:!0});l({revenue:f,expenses:y,profit:f-y,serviceOrders:b||0,customers:N||0,avgTicket:b?f/b:0})}catch(p){console.error("Error loading report data:",p)}finally{d(!1)}},x=async()=>{var p;h(!0);try{const f=new kt;f.setFontSize(20),f.setTextColor(37,99,235),f.text("Giartech - Relatrio Gerencial",20,20),f.setFontSize(12),f.setTextColor(100);const y=((p=A.find(v=>v.id===t))==null?void 0:p.name)||"Relatrio";if(f.text(y,20,30),f.text(`Perodo: ${Qr(new Date(r),"dd/MM/yyyy",{locale:Jo})} - ${Qr(new Date(a),"dd/MM/yyyy",{locale:Jo})}`,20,37),f.text(`Gerado em: ${Qr(new Date,"dd/MM/yyyy 's' HH:mm",{locale:Jo})}`,20,44),f.setDrawColor(229,231,235),f.line(20,50,190,50),o){f.setFontSize(16),f.setTextColor(0),f.text("Resumo Executivo",20,60);const v=[["Mtrica","Valor"],["Receitas",`R$ ${o.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Despesas",`R$ ${o.expenses.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Lucro",`R$ ${o.profit.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Ordens de Servio",o.serviceOrders.toString()],["Ticket Mdio",`R$ ${o.avgTicket.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Total de Clientes",o.customers.toString()]];f.autoTable({startY:65,head:[v[0]],body:v.slice(1),theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontSize:11,fontStyle:"bold"},bodyStyles:{fontSize:10},alternateRowStyles:{fillColor:[248,250,252]}})}if(t==="financial"){const v=f.lastAutoTable.finalY+15;f.setFontSize(16),f.setTextColor(0),f.text("Detalhamento Financeiro",20,v);const{data:C}=await ae.from("finance_entries").select("*").gte("due_date",r).lte("due_date",a).order("due_date",{ascending:!1}).limit(20);if(C&&C.length>0){const P=C.map(_=>[Qr(new Date(_.due_date),"dd/MM/yyyy"),_.description,_.type==="income"?"Receita":"Despesa",`R$ ${(_.amount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,_.status==="paid"?"Pago":_.status==="pending"?"Pendente":"Cancelado"]);f.autoTable({startY:v+5,head:[["Data","Descrio","Tipo","Valor","Status"]],body:P,theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontSize:10,fontStyle:"bold"},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:25},1:{cellWidth:60},2:{cellWidth:25},3:{cellWidth:30},4:{cellWidth:25}}})}}if(t==="service_orders"){const v=f.lastAutoTable.finalY+15;f.setFontSize(16),f.setTextColor(0),f.text("Ordens de Servio",20,v);const{data:C}=await ae.from("service_orders").select("*").gte("created_at",r).lte("created_at",a).order("created_at",{ascending:!1}).limit(20);if(C&&C.length>0){const P=C.map(_=>[_.order_number,Qr(new Date(_.created_at),"dd/MM/yyyy"),_.status==="pending"?"Pendente":_.status==="in_progress"?"Em Andamento":_.status==="completed"?"Concluda":"Cancelada",`R$ ${(_.total_value||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`]);f.autoTable({startY:v+5,head:[["OS","Data","Status","Valor"]],body:P,theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontSize:10,fontStyle:"bold"},bodyStyles:{fontSize:9}})}}const b=f.internal.getNumberOfPages();for(let v=1;v<=b;v++)f.setPage(v),f.setFontSize(9),f.setTextColor(150),f.text(`Pgina ${v} de ${b}`,f.internal.pageSize.width/2,f.internal.pageSize.height-10,{align:"center"});const N=`relatorio_${t}_${Qr(new Date,"yyyyMMdd_HHmmss")}.pdf`;f.save(N)}catch(f){console.error("Error generating PDF:",f),alert("Erro ao gerar relatrio PDF")}finally{h(!1)}},g=async()=>{try{let p="data:text/csv;charset=utf-8,";if(t==="financial"){const{data:b}=await ae.from("finance_entries").select("*").gte("due_date",r).lte("due_date",a);p+=`Data,Descrio,Tipo,Valor,Status
`,b==null||b.forEach(N=>{p+=`${N.due_date},"${N.description}",${N.type},${N.amount},${N.status}
`})}const f=encodeURI(p),y=document.createElement("a");y.setAttribute("href",f),y.setAttribute("download",`relatorio_${t}_${Qr(new Date,"yyyyMMdd")}.csv`),document.body.appendChild(y),y.click(),document.body.removeChild(y)}catch(p){console.error("Error exporting CSV:",p)}};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatrios Avanados"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gere relatrios detalhados e anlises do seu negcio"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:A.map(p=>s.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(p.id),className:`p-4 rounded-lg border-2 transition-all text-left ${t===p.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[s.jsx("div",{className:`inline-flex p-2 rounded-lg mb-3 ${t===p.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:p.icon}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:p.name}),s.jsx("p",{className:"text-sm text-gray-600",children:p.description})]},p.id))}),t&&s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(S2,{className:"h-5 w-5 text-gray-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Inicial"}),s.jsx("input",{type:"date",value:r,onChange:p=>n(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Final"}),s.jsx("input",{type:"date",value:a,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("button",{onClick:x,disabled:u||c,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx(b0,{className:"h-4 w-4 animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qn,{className:"h-4 w-4"}),"Gerar PDF"]})}),s.jsx("button",{onClick:g,disabled:c,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Exportar CSV",children:s.jsx(at,{className:"h-4 w-4"})})]})]})]}),t&&o&&s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Preview do Relatrio"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-green-700",children:"Receitas"}),s.jsx(j2,{className:"h-4 w-4 text-green-600"})]}),s.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["R$ ",o.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-red-700",children:"Despesas"}),s.jsx(XE,{className:"h-4 w-4 text-red-600"})]}),s.jsxs("p",{className:"text-2xl font-bold text-red-900",children:["R$ ",o.expenses.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:`rounded-lg p-4 ${o.profit>=0?"bg-gradient-to-br from-blue-50 to-blue-100":"bg-gradient-to-br from-orange-50 to-orange-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:`text-sm font-medium ${o.profit>=0?"text-blue-700":"text-orange-700"}`,children:"Lucro"}),s.jsx(pr,{className:`h-4 w-4 ${o.profit>=0?"text-blue-600":"text-orange-600"}`})]}),s.jsxs("p",{className:`text-2xl font-bold ${o.profit>=0?"text-blue-900":"text-orange-900"}`,children:["R$ ",o.profit.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ordens de Servio"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:o.serviceOrders})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ticket Mdio"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["R$ ",o.avgTicket.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total de Clientes"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:o.customers})]})]})]}),!t&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione um Tipo de Relatrio"}),s.jsx("p",{className:"text-gray-600",children:"Escolha um dos tipos de relatrio acima para comear"})]})]})}function O8(){const[t,e]=B.useState([]),[r,n]=B.useState([]),[a,i]=B.useState(!0),[o,l]=B.useState(null),[c,d]=B.useState(!1),u=pq();B.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:f,error:y}=await ae.from("automation_rules").select("*").order("priority",{ascending:!1});if(y)throw y;e(f||[])}catch(f){console.error("Error loading rules:",f),u.error("Erro ao carregar regras")}finally{i(!1)}},A=async f=>{try{const{data:y,error:b}=await ae.from("automation_logs").select("*").eq("rule_id",f).order("executed_at",{ascending:!1}).limit(50);if(b)throw b;n(y||[]),d(!0)}catch(y){console.error("Error loading logs:",y),u.error("Erro ao carregar histrico")}},m=async(f,y)=>{try{const{error:b}=await ae.from("automation_rules").update({is_active:!y}).eq("id",f);if(b)throw b;u.success(y?"Automao pausada":"Automao ativada"),h()}catch(b){console.error("Error toggling rule:",b),u.error("Erro ao alterar status")}},x=async f=>{if(confirm("Deseja realmente excluir esta automao?"))try{const{error:y}=await ae.from("automation_rules").delete().eq("id",f);if(y)throw y;u.success("Automao excluda"),h()}catch(y){console.error("Error deleting rule:",y),u.error("Erro ao excluir automao")}},g=f=>({service_order_created:"OS Criada",service_order_completed:"OS Concluda",payment_received:"Pagamento Recebido",payment_overdue:"Pagamento Atrasado",stock_low:"Estoque Baixo",customer_created:"Cliente Cadastrado",custom_date:"Data Especfica"})[f]||f,p=f=>{switch(f){case"success":return"text-green-600 bg-green-50";case"failed":return"text-red-600 bg-red-50";case"running":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Automaes e Workflows"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure regras automticas para seu negcio"})]}),s.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:()=>u.info("Criao de automao em desenvolvimento"),children:[s.jsx(yt,{className:"h-4 w-4"}),"Nova Automao"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:t.map(f=>s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:`p-2 rounded-lg ${f.is_active?"bg-green-100":"bg-gray-100"}`,children:s.jsx(di,{className:`h-5 w-5 ${f.is_active?"text-green-600":"text-gray-400"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-600",children:f.description})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>m(f.id,f.is_active),className:`p-2 rounded-lg transition-colors ${f.is_active?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:f.is_active?"Pausar":"Ativar",children:f.is_active?s.jsx(Loe,{className:"h-4 w-4"}):s.jsx(M4,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(f.id),className:"p-2 rounded-lg text-blue-600 hover:bg-blue-50 transition-colors",title:"Ver Histrico",children:s.jsx(y0,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>x(f.id),className:"p-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",title:"Excluir",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Gatilho"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:g(f.trigger_type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Prioridade"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:f.priority})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Execues"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:f.execution_count})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"ltima Execuo"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:f.last_executed_at?Qr(new Date(f.last_executed_at),"dd/MM/yyyy HH:mm",{locale:Jo}):"Nunca"})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-2 block",children:"Aes Configuradas"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.actions.map((y,b)=>s.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium",children:y.type==="notification"?" Notificao":y.type==="email"?" Email":y.type==="webhook"?" Webhook":y.type},b))})]})]},f.id))}),t.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[s.jsx(di,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma Automao Configurada"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Crie sua primeira automao para comear a otimizar seus processos"}),s.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",onClick:()=>u.info("Criao de automao em desenvolvimento"),children:[s.jsx(yt,{className:"h-4 w-4"}),"Criar Primeira Automao"]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Histrico de Execues"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(g0,{className:"h-6 w-6"})})]})}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(80vh-120px)]",children:r.length===0?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Nenhuma execuo registrada"}):s.jsx("div",{className:"divide-y divide-gray-100",children:r.map(f=>s.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f.status==="success"&&s.jsx(ca,{className:"h-5 w-5 text-green-600"}),f.status==="failed"&&s.jsx(g0,{className:"h-5 w-5 text-red-600"}),f.status==="running"&&s.jsx(Dt,{className:"h-5 w-5 text-blue-600 animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.trigger_event})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(f.status)}`,children:f.status==="success"?"Sucesso":f.status==="failed"?"Falhou":f.status==="running"?"Executando":"Pendente"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsx("span",{children:Qr(new Date(f.executed_at),"dd/MM/yyyy 's' HH:mm",{locale:Jo})}),s.jsxs("span",{children:[f.actions_executed," aes executadas"]}),f.actions_failed>0&&s.jsxs("span",{className:"text-red-600",children:[f.actions_failed," falharam"]})]}),f.error_message&&s.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700",children:f.error_message})]},f.id))})})]})})]})}function dX(){const[t,e]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(""),[o,l]=B.useState("all");B.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:g,error:p}=await ae.from("v_customer_credit_scoring").select("*").order("credit_score",{ascending:!1});if(p)throw p;e(g||[])}catch(g){console.error("Erro ao carregar credit scoring:",g)}finally{n(!1)}},d=async()=>{try{n(!0);const{error:g}=await ae.rpc("recalculate_all_credit_scores");if(g)throw g;await c(),alert("Scores recalculados com sucesso!")}catch(g){console.error("Erro ao recalcular scores:",g),alert("Erro ao recalcular scores. Tente novamente.")}},u=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),h=g=>({Excelente:"bg-green-100 text-green-800 border-green-300",Bom:"bg-blue-100 text-blue-800 border-blue-300",Mdio:"bg-yellow-100 text-yellow-800 border-yellow-300","Alto Risco":"bg-orange-100 text-orange-800 border-orange-300",Bloqueado:"bg-red-100 text-red-800 border-red-300"})[g]||"bg-gray-100 text-gray-800 border-gray-300",A=g=>g==="Excelente"||g==="Bom"?s.jsx(ca,{className:"h-5 w-5"}):g==="Bloqueado"||g==="Alto Risco"?s.jsx(kr,{className:"h-5 w-5"}):s.jsx(jr,{className:"h-5 w-5"}),m=t.filter(g=>{const p=g.customer_name.toLowerCase().includes(a.toLowerCase()),f=o==="all"||g.risk_category===o;return p&&f}),x={total:t.length,excelente:t.filter(g=>g.risk_category==="Excelente").length,bom:t.filter(g=>g.risk_category==="Bom").length,medio:t.filter(g=>g.risk_category==="Mdio").length,alto:t.filter(g=>g.risk_category==="Alto Risco").length,bloqueado:t.filter(g=>g.risk_category==="Bloqueado").length};return r?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(As,{className:"h-12 w-12 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Credit Scoring"}),s.jsx("p",{className:"text-gray-600",children:"Anlise de risco e crdito de clientes"})]}),s.jsxs("button",{onClick:d,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-lg",children:[s.jsx(As,{className:"h-5 w-5"}),"Recalcular Todos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx(jr,{className:"h-5 w-5 text-gray-400"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:x.total})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-6 shadow-md text-white cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l(o==="Excelente"?"all":"Excelente"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Excelente"}),s.jsx(ca,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-3xl font-bold",children:x.excelente})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl p-6 shadow-md text-white cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l(o==="Bom"?"all":"Bom"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Bom"}),s.jsx(pr,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-3xl font-bold",children:x.bom})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl p-6 shadow-md text-white cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l(o==="Mdio"?"all":"Mdio"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Mdio"}),s.jsx(kr,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-3xl font-bold",children:x.medio})]}),s.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-red-500 to-pink-600 rounded-xl p-6 shadow-md text-white cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l(o==="Alto Risco"||o==="Bloqueado"?"all":"Alto Risco"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Risco Alto"}),s.jsx(kr,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-3xl font-bold",children:x.alto+x.bloqueado})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:a,onChange:g=>i(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Cliente"}),s.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Tipo"}),s.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-700",children:"Score"}),s.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-700",children:"Categoria"}),s.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Limite Sugerido"}),s.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Total Compras"})]})}),s.jsx("tbody",{children:m.map(g=>s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsx("div",{className:"font-medium text-gray-900",children:g.customer_name})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:g.customer_type})}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:g.credit_score})}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-semibold border ${h(g.risk_category)}`,children:[A(g.risk_category),g.risk_category]})}),s.jsx("td",{className:"py-4 px-4 text-right font-semibold text-gray-900",children:u(g.suggested_credit_limit)}),s.jsx("td",{className:"py-4 px-4 text-right text-gray-600",children:u(g.total_purchases)})]},g.customer_id))})]}),m.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum cliente encontrado"})]})]})]})]})})}function q6({tabs:t,defaultTab:e,className:r=""}){var o;const[n,a]=B.useState(e||((o=t[0])==null?void 0:o.id)),i=t.find(l=>l.id===n);return s.jsxs("div",{className:`flex flex-col h-full ${r}`,children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[s.jsx("div",{className:"flex items-center space-x-1 px-6 py-4 overflow-x-auto scrollbar-thin",children:t.map(l=>{const c=l.icon,d=n===l.id;return s.jsxs("button",{onClick:()=>a(l.id),className:`
                  relative flex items-center space-x-2 px-4 py-2.5 rounded-lg
                  transition-all duration-200 whitespace-nowrap
                  ${d?"bg-blue-50 text-blue-700 font-medium shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                `,children:[s.jsx(c,{className:`w-5 h-5 ${d?"text-blue-600":"text-gray-500"}`}),s.jsx("span",{children:l.label}),l.badge!==void 0&&l.badge>0&&s.jsx("span",{className:`
                    ml-1 px-2 py-0.5 text-xs font-semibold rounded-full
                    ${d?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}
                  `,children:l.badge}),d&&s.jsx(se.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600",transition:{type:"spring",stiffness:500,damping:30}})]},l.id)})}),(i==null?void 0:i.description)&&s.jsx("div",{className:"px-6 pb-3",children:s.jsx("p",{className:"text-sm text-gray-600",children:i.description})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx(lt,{mode:"wait",children:s.jsx(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"h-full",children:i&&s.jsx(i.component,{})},n)})})]})}function OVe(){const t=[{id:"dashboard",label:"Dashboard",icon:Cs,component:pV,description:"Viso geral integrada do financeiro com KPIs principais"},{id:"movimentacoes",label:"Movimentaes",icon:Yt,component:aX,description:"Gesto de receitas, despesas e fluxo de caixa"},{id:"analise",label:"Anlise",icon:dd,component:iX,description:"Anlises avanadas: EBITDA, ROI, Margens e Indicadores"},{id:"contas",label:"Contas Bancrias",icon:Hr,component:oX,description:"Gerenciamento de contas bancrias e saldos"},{id:"categorias",label:"Categorias",icon:Oie,component:lX,description:"Organizao de categorias e subcategorias financeiras"}];return s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Centro Financeiro"}),s.jsx("p",{className:"text-blue-100",children:"Gesto completa do financeiro: dashboard, movimentaes, anlises e configuraes"})]}),s.jsx(q6,{tabs:t,defaultTab:"dashboard"})]})}function IVe(){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-8 text-center",children:[s.jsx(Nd,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Metas Financeiras"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Sistema de acompanhamento de metas e targets estratgicos"}),s.jsx("div",{className:"inline-block bg-white rounded-lg px-6 py-3 shadow-md",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Em desenvolvimento - Disponvel em breve"})})]})})}function DVe(){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-2xl p-8 text-center",children:[s.jsx(kr,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Alertas Crticos"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Sistema de monitoramento de alertas e problemas que precisam ateno"}),s.jsx("div",{className:"inline-block bg-white rounded-lg px-6 py-3 shadow-md",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Em desenvolvimento - Disponvel em breve"})})]})})}function MVe(){const t=[{id:"credit-scoring",label:"Credit Scoring",icon:jr,component:dX,description:"Anlise de risco e crdito de clientes com score automatizado"},{id:"metas",label:"Metas & Targets",icon:Nd,component:IVe,description:"Acompanhamento de objetivos e metas financeiras estratgicas"},{id:"alertas",label:"Alertas Crticos",icon:kr,component:DVe,description:"Problemas e situaes que requerem ateno imediata"}];return s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-6 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Consolidado Executivo"}),s.jsx("p",{className:"text-blue-100",children:"Anlises estratgicas complementares: Credit Scoring, Metas e Alertas"})]}),s.jsx(q6,{tabs:t,defaultTab:"credit-scoring"})]})}function LVe(){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 text-center",children:[s.jsx(K9,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Relatrios Customizados"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Crie relatrios personalizados com os dados que voc precisa"}),s.jsx("div",{className:"inline-block bg-white rounded-lg px-6 py-3 shadow-md",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Em desenvolvimento - Disponvel em breve"})})]})})}function UVe(){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-8 text-center",children:[s.jsx(y0,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Histrico de Relatrios"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Acesse relatrios gerados anteriormente e baixe novamente"}),s.jsx("div",{className:"inline-block bg-white rounded-lg px-6 py-3 shadow-md",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Em desenvolvimento - Disponvel em breve"})})]})})}function RVe(){const t=[{id:"dashboards",label:"Dashboards",icon:Ev,component:fV,description:"Relatrios visuais interativos com grficos e anlises"},{id:"pdfs",label:"PDFs Profissionais",icon:at,component:cX,description:"Relatrios em PDF para impresso e apresentaes"},{id:"customizados",label:"Customizados",icon:K9,component:LVe,description:"Crie relatrios personalizados com seus prprios filtros"},{id:"historico",label:"Histrico",icon:y0,component:UVe,description:"Histrico de relatrios gerados anteriormente"}];return s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-700 text-white px-6 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Relatrios"}),s.jsx("p",{className:"text-emerald-100",children:"Todos os relatrios e anlises em um nico lugar"})]}),s.jsx(q6,{tabs:t,defaultTab:"dashboards"})]})}const Et=({children:t})=>s.jsx(s.Fragment,{children:t});function QVe(){const[t,e]=B.useState(!0),[r,n]=B.useState(!1),[a,i]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(""),[A,m]=B.useState(""),[x]=B.useState("admin"),[g,p]=B.useState(!1),[f,y]=B.useState(!1),b=Id(),[N,v]=B.useState(!1),{isSearchOpen:C,closeSearch:P}=ohe(),_=che();B.useEffect(()=>{uhe()},[]),B.useEffect(()=>{(async()=>{try{console.log(" Inicializando ThomazAI...");const F=await ahe();F.success?(console.log(" ThomazAI inicializado com sucesso!"),console.log(` ${F.metrics.totalDocuments} documentos | ${F.metrics.totalChunks} chunks`),y(!0)):(console.warn(" ThomazAI iniciado com avisos:",F.errors),y(!0))}catch(F){console.error(" Erro ao inicializar ThomazAI:",F),y(!0)}})();const S=setTimeout(()=>{e(!1),!localStorage.getItem("os_system_tutorial_completed")&&n(!0)},1500);return()=>clearTimeout(S)},[]),B.useEffect(()=>{const j=async()=>{try{const O=await(await fetch("/version.json?t="+Date.now())).json(),H=localStorage.getItem("app_version");H&&H!==O.version?(console.log("Nova verso disponvel:",O.version),confirm(`Nova verso ${O.version} disponvel!

${O.description}

Deseja atualizar agora?`)&&(localStorage.setItem("app_version",O.version),window.location.reload())):H||localStorage.setItem("app_version",O.version)}catch(F){console.error("Erro ao verificar atualizaes:",F)}};j();const S=setInterval(j,5*60*1e3);return()=>clearInterval(S)},[]);const k=j=>{h(j),i(!0),p(!0),setTimeout(()=>{p(!1)},1e4)},M=j=>{m(j),l(!0)};return t?s.jsx(Xle,{}):s.jsxs(mhe,{children:[s.jsxs(lt,{mode:"wait",children:[s.jsxs(xee,{location:b,children:[s.jsx(vt,{path:"/login",element:s.jsx(uNe,{})}),s.jsx(vt,{path:"/pricing",element:s.jsx(ANe,{})}),s.jsx(vt,{path:"/",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(CM,{})})})}),s.jsx(vt,{path:"/home",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(SM,{})})})}),s.jsx(vt,{path:"/ordens-servico-kanban",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(nNe,{})})})}),s.jsx(vt,{path:"/departmental-dashboard",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Mze,{})})})}),s.jsx(vt,{path:"/service-orders",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(ghe,{})})})}),s.jsx(vt,{path:"/service-orders/create",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(YO,{})})})}),s.jsx(vt,{path:"/service-orders/:id/view",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(upe,{})})})}),s.jsx(vt,{path:"/service-orders/:id",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(YO,{})})})}),s.jsx(vt,{path:"/inventory",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Mbe,{})})})}),s.jsx(vt,{path:"/inventory/:id",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Lbe,{})})})}),s.jsx(vt,{path:"/inventory/create",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Ube,{})})})}),s.jsx(vt,{path:"/reports",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(fV,{})})})}),s.jsx(vt,{path:"/settings",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Dje,{})})})}),s.jsx(vt,{path:"/users",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Mje,{})})})}),s.jsx(vt,{path:"/service-catalog",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Uje,{})})})}),s.jsx(vt,{path:"/financial",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(pV,{})})})}),s.jsx(vt,{path:"/client-management",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(qje,{})})})}),s.jsx(vt,{path:"/visual-customization",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(zje,{onPremiumFeature:k})})})}),s.jsx(vt,{path:"/monitoring",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Kje,{onPremiumFeature:k,onEnterpriseFeature:M})})})}),s.jsx(vt,{path:"/calendar",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(eNe,{onPremiumFeature:k})})})}),s.jsx(vt,{path:"/projects",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(tNe,{onPremiumFeature:k,onEnterpriseFeature:M})})})}),s.jsx(vt,{path:"/profile",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(rNe,{})})})}),s.jsx(vt,{path:"/access-codes",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(hNe,{})})})}),s.jsx(vt,{path:"/digital-library",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Lze,{})})})}),s.jsx(vt,{path:"/chat",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Uze,{})})})}),s.jsx(vt,{path:"/whatsapp-crm",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Rze,{})})})}),s.jsx(vt,{path:"/thomaz-metrics",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(Qze,{})})})}),s.jsx(vt,{path:"/thomaz",element:s.jsx(Et,{children:s.jsx(TVe,{})})}),s.jsx(vt,{path:"/financial-management",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(aX,{})})})}),s.jsx(vt,{path:"/financial-analysis",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(iX,{})})})}),s.jsx(vt,{path:"/cfo-dashboard",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(CM,{})})})}),s.jsx(vt,{path:"/reports-advanced",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(cX,{})})})}),s.jsx(vt,{path:"/automacoes",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(O8,{})})})}),s.jsx(vt,{path:"/automations",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(O8,{})})})}),s.jsx(vt,{path:"/financeiro",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(OVe,{})})})}),s.jsx(vt,{path:"/executivo",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(MVe,{})})})}),s.jsx(vt,{path:"/relatorios",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(RVe,{})})})}),s.jsx(vt,{path:"/credit-scoring",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(dX,{})})})}),s.jsx(vt,{path:"/financial-categories",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(lX,{})})})}),s.jsx(vt,{path:"/email/settings",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(wVe,{})})})}),s.jsx(vt,{path:"/email/compose",element:s.jsx(Et,{children:s.jsx(NVe,{})})}),s.jsx(vt,{path:"/email/inbox",element:s.jsx(Et,{children:s.jsx(jVe,{})})}),s.jsx(vt,{path:"/audit-logs",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(sVe,{})})})}),s.jsx(vt,{path:"/bank-accounts",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(oX,{})})})}),s.jsx(vt,{path:"/access-management",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(nVe,{})})})}),s.jsx(vt,{path:"/funcionarios",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(tVe,{})})})}),s.jsx(vt,{path:"/convites-usuarios",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(rVe,{})})})}),s.jsx(vt,{path:"/crm-leads",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(aVe,{})})})}),s.jsx(vt,{path:"/contracts",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(iVe,{})})})}),s.jsx(vt,{path:"/contract-templates",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(oVe,{})})})}),s.jsx(vt,{path:"/document-templates",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(lVe,{})})})}),s.jsx(vt,{path:"/invoices",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(cVe,{})})})}),s.jsx(vt,{path:"/company-settings",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(dVe,{})})})}),s.jsx(vt,{path:"/equipments",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(uVe,{})})})}),s.jsx(vt,{path:"/suppliers",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(hVe,{})})})}),s.jsx(vt,{path:"/purchasing",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(fVe,{})})})}),s.jsx(vt,{path:"/rotas",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(gVe,{})})})}),s.jsx(vt,{path:"/documentos",element:s.jsx(Et,{children:s.jsx(Ft,{children:s.jsx(vVe,{})})})}),s.jsx(vt,{path:"/homepage",element:s.jsx(sNe,{})}),s.jsx(vt,{path:"/home",element:s.jsx(SM,{})}),s.jsx(vt,{path:"/sobre",element:s.jsx(aNe,{})}),s.jsx(vt,{path:"/servicos",element:s.jsx(iNe,{})}),s.jsx(vt,{path:"/contato",element:s.jsx(oNe,{})})]},b.pathname),s.jsx(Rje,{isOpen:r,onComplete:()=>{n(!1),localStorage.setItem("os_system_tutorial_completed","true")}}),s.jsx(lNe,{isOpen:a,feature:u,onClose:()=>i(!1)}),s.jsx(dNe,{isOpen:o,feature:A,onClose:()=>l(!1)}),s.jsx(mNe,{isOpen:c,onClose:()=>d(!1),requiredRole:x}),g&&s.jsx(cNe,{feature:u})]}),s.jsx(BVe,{}),s.jsx(EVe,{}),s.jsx(ihe,{isOpen:C,onClose:P}),s.jsx(lhe,{isOpen:_.isOpen,onClose:_.close}),Ahe()&&s.jsx(dhe,{})]})}class $Ve extends B.Component{constructor(){super(...arguments);et(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({error:r,errorInfo:n})}render(){var r;return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ops! Algo deu errado"}),s.jsx("p",{className:"text-gray-600",children:"Ocorreu um erro inesperado ao carregar o sistema."})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[s.jsx("h2",{className:"text-sm font-semibold text-red-800 mb-2",children:"Detalhes do erro:"}),s.jsx("pre",{className:"text-xs text-red-700 overflow-auto max-h-40",children:(r=this.state.error)==null?void 0:r.toString()})]}),this.state.errorInfo&&s.jsxs("details",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[s.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (clique para expandir)"}),s.jsx("pre",{className:"text-xs text-gray-700 overflow-auto max-h-60 mt-2",children:this.state.errorInfo.componentStack})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Recarregar Pgina"}),s.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null})},className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Tentar Novamente"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Dica:"})," Abra o console do navegador (F12) para ver mais detalhes do erro."]})})]})}):this.props.children}}pC.createRoot(document.getElementById("root")).render(s.jsx(ge.StrictMode,{children:s.jsx($Ve,{children:s.jsx(Cee,{children:s.jsx(QVe,{})})})}));export{Pr as _,sa as c,Tr as g};
