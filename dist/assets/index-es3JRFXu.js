var ZG=Object.defineProperty;var eX=(t,e,r)=>e in t?ZG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ot=(t,e,r)=>eX(t,typeof e!="symbol"?e+"":e,r);function tX(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Is=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rX(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var rR={exports:{}},P1={},nR={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=Symbol.for("react.element"),nX=Symbol.for("react.portal"),sX=Symbol.for("react.fragment"),aX=Symbol.for("react.strict_mode"),iX=Symbol.for("react.profiler"),oX=Symbol.for("react.provider"),lX=Symbol.for("react.context"),cX=Symbol.for("react.forward_ref"),dX=Symbol.for("react.suspense"),uX=Symbol.for("react.memo"),AX=Symbol.for("react.lazy"),U6=Symbol.iterator;function hX(t){return t===null||typeof t!="object"?null:(t=U6&&t[U6]||t["@@iterator"],typeof t=="function"?t:null)}var sR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aR=Object.assign,iR={};function Jf(t,e,r){this.props=t,this.context=e,this.refs=iR,this.updater=r||sR}Jf.prototype.isReactComponent={};Jf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oR(){}oR.prototype=Jf.prototype;function HS(t,e,r){this.props=t,this.context=e,this.refs=iR,this.updater=r||sR}var qS=HS.prototype=new oR;qS.constructor=HS;aR(qS,Jf.prototype);qS.isPureReactComponent=!0;var R6=Array.isArray,lR=Object.prototype.hasOwnProperty,zS={current:null},cR={key:!0,ref:!0,__self:!0,__source:!0};function dR(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)lR.call(e,n)&&!cR.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ix,type:t,key:i,ref:o,props:a,_owner:zS.current}}function fX(t,e){return{$$typeof:ix,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function VS(t){return typeof t=="object"&&t!==null&&t.$$typeof===ix}function mX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Q6=/\/+/g;function pN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mX(""+t.key):e.toString(36)}function Xv(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ix:case nX:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+pN(o,0):n,R6(a)?(r="",t!=null&&(r=t.replace(Q6,"$&/")+"/"),Xv(a,e,r,"",function(d){return d})):a!=null&&(VS(a)&&(a=fX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Q6,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",R6(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+pN(i,l);o+=Xv(i,e,r,c,a)}else if(c=hX(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+pN(i,l++),o+=Xv(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ny(t,e,r){if(t==null)return t;var n=[],a=0;return Xv(t,n,"","",function(i){return e.call(r,i,a++)}),n}function pX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ta={current:null},Yv={transition:null},gX={ReactCurrentDispatcher:ta,ReactCurrentBatchConfig:Yv,ReactCurrentOwner:zS};function uR(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:Ny,forEach:function(t,e,r){Ny(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ny(t,function(){e++}),e},toArray:function(t){return Ny(t,function(e){return e})||[]},only:function(t){if(!VS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=Jf;Ht.Fragment=sX;Ht.Profiler=iX;Ht.PureComponent=HS;Ht.StrictMode=aX;Ht.Suspense=dX;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gX;Ht.act=uR;Ht.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=aR({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zS.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)lR.call(e,c)&&!cR.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:ix,type:t.type,key:a,ref:i,props:n,_owner:o}};Ht.createContext=function(t){return t={$$typeof:lX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oX,_context:t},t.Consumer=t};Ht.createElement=dR;Ht.createFactory=function(t){var e=dR.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:cX,render:t}};Ht.isValidElement=VS;Ht.lazy=function(t){return{$$typeof:AX,_payload:{_status:-1,_result:t},_init:pX}};Ht.memo=function(t,e){return{$$typeof:uX,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=Yv.transition;Yv.transition={};try{t()}finally{Yv.transition=e}};Ht.unstable_act=uR;Ht.useCallback=function(t,e){return ta.current.useCallback(t,e)};Ht.useContext=function(t){return ta.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return ta.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return ta.current.useEffect(t,e)};Ht.useId=function(){return ta.current.useId()};Ht.useImperativeHandle=function(t,e,r){return ta.current.useImperativeHandle(t,e,r)};Ht.useInsertionEffect=function(t,e){return ta.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return ta.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return ta.current.useMemo(t,e)};Ht.useReducer=function(t,e,r){return ta.current.useReducer(t,e,r)};Ht.useRef=function(t){return ta.current.useRef(t)};Ht.useState=function(t){return ta.current.useState(t)};Ht.useSyncExternalStore=function(t,e,r){return ta.current.useSyncExternalStore(t,e,r)};Ht.useTransition=function(){return ta.current.useTransition()};Ht.version="18.3.1";nR.exports=Ht;var P=nR.exports;const we=pr(P),xX=tX({__proto__:null,default:we},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yX=P,vX=Symbol.for("react.element"),bX=Symbol.for("react.fragment"),wX=Object.prototype.hasOwnProperty,jX=yX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NX={key:!0,ref:!0,__self:!0,__source:!0};function AR(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)wX.call(e,n)&&!NX.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:vX,type:t,key:i,ref:o,props:a,_owner:jX.current}}P1.Fragment=bX;P1.jsx=AR;P1.jsxs=AR;rR.exports=P1;var s=rR.exports,H5={},hR={exports:{}},Ha={},fR={exports:{}},mR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,q){var J=Q.length;Q.push(q);e:for(;0<J;){var ee=J-1>>>1,$=Q[ee];if(0<a($,q))Q[ee]=q,Q[J]=$,J=ee;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var q=Q[0],J=Q.pop();if(J!==q){Q[0]=J;e:for(var ee=0,$=Q.length,R=$>>>1;ee<R;){var K=2*(ee+1)-1,V=Q[K],ae=K+1,Ae=Q[ae];if(0>a(V,J))ae<$&&0>a(Ae,V)?(Q[ee]=Ae,Q[ae]=J,ee=ae):(Q[ee]=V,Q[K]=J,ee=K);else if(ae<$&&0>a(Ae,J))Q[ee]=Ae,Q[ae]=J,ee=ae;else break e}}return q}function a(Q,q){var J=Q.sortIndex-q.sortIndex;return J!==0?J:Q.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,A=null,h=3,f=!1,g=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Q){for(var q=r(d);q!==null;){if(q.callback===null)n(d);else if(q.startTime<=Q)n(d),q.sortIndex=q.expirationTime,e(c,q);else break;q=r(d)}}function N(Q){if(x=!1,b(Q),!g)if(r(c)!==null)g=!0,U(j);else{var q=r(d);q!==null&&M(N,q.startTime-Q)}}function j(Q,q){g=!1,x&&(x=!1,p(_),_=-1),f=!0;var J=h;try{for(b(q),A=r(c);A!==null&&(!(A.expirationTime>q)||Q&&!w());){var ee=A.callback;if(typeof ee=="function"){A.callback=null,h=A.priorityLevel;var $=ee(A.expirationTime<=q);q=t.unstable_now(),typeof $=="function"?A.callback=$:A===r(c)&&n(c),b(q)}else n(c);A=r(c)}if(A!==null)var R=!0;else{var K=r(d);K!==null&&M(N,K.startTime-q),R=!1}return R}finally{A=null,h=J,f=!1}}var C=!1,k=null,_=-1,B=5,T=-1;function w(){return!(t.unstable_now()-T<B)}function E(){if(k!==null){var Q=t.unstable_now();T=Q;var q=!0;try{q=k(!0,Q)}finally{q?D():(C=!1,k=null)}}else C=!1}var D;if(typeof y=="function")D=function(){y(E)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,L=O.port2;O.port1.onmessage=E,D=function(){L.postMessage(null)}}else D=function(){m(E,0)};function U(Q){k=Q,C||(C=!0,D())}function M(Q,q){_=m(function(){Q(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,U(j))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var J=h;h=q;try{return Q()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,q){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var J=h;h=Q;try{return q()}finally{h=J}},t.unstable_scheduleCallback=function(Q,q,J){var ee=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,Q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=J+$,Q={id:u++,callback:q,priorityLevel:Q,startTime:J,expirationTime:$,sortIndex:-1},J>ee?(Q.sortIndex=J,e(d,Q),r(c)===null&&Q===r(d)&&(x?(p(_),_=-1):x=!0,M(N,J-ee))):(Q.sortIndex=$,e(c,Q),g||f||(g=!0,U(j))),Q},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(Q){var q=h;return function(){var J=h;h=q;try{return Q.apply(this,arguments)}finally{h=J}}}})(mR);fR.exports=mR;var _X=fR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CX=P,$a=_X;function Je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pR=new Set,Og={};function tA(t,e){hf(t,e),hf(t+"Capture",e)}function hf(t,e){for(Og[t]=e,t=0;t<e.length;t++)pR.add(e[t])}var Pl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q5=Object.prototype.hasOwnProperty,BX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$6={},H6={};function SX(t){return q5.call(H6,t)?!0:q5.call($6,t)?!1:BX.test(t)?H6[t]=!0:($6[t]=!0,!1)}function EX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kX(t,e,r,n){if(e===null||typeof e>"u"||EX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ra(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gs[t]=new ra(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gs[e]=new ra(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gs[t]=new ra(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gs[t]=new ra(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gs[t]=new ra(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gs[t]=new ra(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gs[t]=new ra(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gs[t]=new ra(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gs[t]=new ra(t,5,!1,t.toLowerCase(),null,!1,!1)});var KS=/[\-:]([a-z])/g;function WS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(KS,WS);gs[e]=new ra(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(KS,WS);gs[e]=new ra(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(KS,WS);gs[e]=new ra(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gs[t]=new ra(t,1,!1,t.toLowerCase(),null,!1,!1)});gs.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gs[t]=new ra(t,1,!1,t.toLowerCase(),null,!0,!0)});function GS(t,e,r,n){var a=gs.hasOwnProperty(e)?gs[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kX(e,r,a,n)&&(r=null),n||a===null?SX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vl=CX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_y=Symbol.for("react.element"),ph=Symbol.for("react.portal"),gh=Symbol.for("react.fragment"),XS=Symbol.for("react.strict_mode"),z5=Symbol.for("react.profiler"),gR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),YS=Symbol.for("react.forward_ref"),V5=Symbol.for("react.suspense"),K5=Symbol.for("react.suspense_list"),JS=Symbol.for("react.memo"),Nc=Symbol.for("react.lazy"),yR=Symbol.for("react.offscreen"),q6=Symbol.iterator;function Jm(t){return t===null||typeof t!="object"?null:(t=q6&&t[q6]||t["@@iterator"],typeof t=="function"?t:null)}var Jr=Object.assign,gN;function Op(t){if(gN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gN=e&&e[1]||""}return`
`+gN+t}var xN=!1;function yN(t,e){if(!t||xN)return"";xN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{xN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Op(t):""}function PX(t){switch(t.tag){case 5:return Op(t.type);case 16:return Op("Lazy");case 13:return Op("Suspense");case 19:return Op("SuspenseList");case 0:case 2:case 15:return t=yN(t.type,!1),t;case 11:return t=yN(t.type.render,!1),t;case 1:return t=yN(t.type,!0),t;default:return""}}function W5(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gh:return"Fragment";case ph:return"Portal";case z5:return"Profiler";case XS:return"StrictMode";case V5:return"Suspense";case K5:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xR:return(t.displayName||"Context")+".Consumer";case gR:return(t._context.displayName||"Context")+".Provider";case YS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JS:return e=t.displayName||null,e!==null?e:W5(t.type)||"Memo";case Nc:e=t._payload,t=t._init;try{return W5(t(e))}catch{}}return null}function FX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W5(e);case 8:return e===XS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function id(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TX(t){var e=vR(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cy(t){t._valueTracker||(t._valueTracker=TX(t))}function bR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=vR(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Eb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function G5(t,e){var r=e.checked;return Jr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function z6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=id(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wR(t,e){e=e.checked,e!=null&&GS(t,"checked",e,!1)}function X5(t,e){wR(t,e);var r=id(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y5(t,e.type,r):e.hasOwnProperty("defaultValue")&&Y5(t,e.type,id(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function V6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Y5(t,e,r){(e!=="number"||Eb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ip=Array.isArray;function $h(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+id(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function J5(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Je(91));return Jr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function K6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Je(92));if(Ip(r)){if(1<r.length)throw Error(Je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:id(r)}}function jR(t,e){var r=id(e.value),n=id(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function W6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z5(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var By,_R=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(By=By||document.createElement("div"),By.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=By.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ig(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OX=["Webkit","ms","Moz","O"];Object.keys(Yp).forEach(function(t){OX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yp[e]=Yp[t]})});function CR(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Yp.hasOwnProperty(t)&&Yp[t]?(""+e).trim():e+"px"}function BR(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=CR(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var IX=Jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eC(t,e){if(e){if(IX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Je(62))}}function tC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rC=null;function ZS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nC=null,Hh=null,qh=null;function G6(t){if(t=cx(t)){if(typeof nC!="function")throw Error(Je(280));var e=t.stateNode;e&&(e=D1(e),nC(t.stateNode,t.type,e))}}function SR(t){Hh?qh?qh.push(t):qh=[t]:Hh=t}function ER(){if(Hh){var t=Hh,e=qh;if(qh=Hh=null,G6(t),e)for(t=0;t<e.length;t++)G6(e[t])}}function kR(t,e){return t(e)}function PR(){}var vN=!1;function FR(t,e,r){if(vN)return t(e,r);vN=!0;try{return kR(t,e,r)}finally{vN=!1,(Hh!==null||qh!==null)&&(PR(),ER())}}function Dg(t,e){var r=t.stateNode;if(r===null)return null;var n=D1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Je(231,e,typeof r));return r}var sC=!1;if(Pl)try{var Zm={};Object.defineProperty(Zm,"passive",{get:function(){sC=!0}}),window.addEventListener("test",Zm,Zm),window.removeEventListener("test",Zm,Zm)}catch{sC=!1}function DX(t,e,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var Jp=!1,kb=null,Pb=!1,aC=null,LX={onError:function(t){Jp=!0,kb=t}};function MX(t,e,r,n,a,i,o,l,c){Jp=!1,kb=null,DX.apply(LX,arguments)}function UX(t,e,r,n,a,i,o,l,c){if(MX.apply(this,arguments),Jp){if(Jp){var d=kb;Jp=!1,kb=null}else throw Error(Je(198));Pb||(Pb=!0,aC=d)}}function rA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function TR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X6(t){if(rA(t)!==t)throw Error(Je(188))}function RX(t){var e=t.alternate;if(!e){if(e=rA(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return X6(a),t;if(i===n)return X6(a),e;i=i.sibling}throw Error(Je(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Je(189))}}if(r.alternate!==n)throw Error(Je(190))}if(r.tag!==3)throw Error(Je(188));return r.stateNode.current===r?t:e}function OR(t){return t=RX(t),t!==null?IR(t):null}function IR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IR(t);if(e!==null)return e;t=t.sibling}return null}var DR=$a.unstable_scheduleCallback,Y6=$a.unstable_cancelCallback,QX=$a.unstable_shouldYield,$X=$a.unstable_requestPaint,fn=$a.unstable_now,HX=$a.unstable_getCurrentPriorityLevel,e3=$a.unstable_ImmediatePriority,LR=$a.unstable_UserBlockingPriority,Fb=$a.unstable_NormalPriority,qX=$a.unstable_LowPriority,MR=$a.unstable_IdlePriority,F1=null,Fo=null;function zX(t){if(Fo&&typeof Fo.onCommitFiberRoot=="function")try{Fo.onCommitFiberRoot(F1,t,void 0,(t.current.flags&128)===128)}catch{}}var eo=Math.clz32?Math.clz32:WX,VX=Math.log,KX=Math.LN2;function WX(t){return t>>>=0,t===0?32:31-(VX(t)/KX|0)|0}var Sy=64,Ey=4194304;function Dp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Dp(l):(i&=o,i!==0&&(n=Dp(i)))}else o=r&~a,o!==0?n=Dp(o):i!==0&&(n=Dp(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-eo(e),a=1<<r,n|=t[r],e&=~a;return n}function GX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-eo(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=GX(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function iC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UR(){var t=Sy;return Sy<<=1,!(Sy&4194240)&&(Sy=64),t}function bN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ox(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-eo(e),t[e]=r}function YX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-eo(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function t3(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-eo(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var mr=0;function RR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QR,r3,$R,HR,qR,oC=!1,ky=[],zc=null,Vc=null,Kc=null,Lg=new Map,Mg=new Map,Ec=[],JX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J6(t,e){switch(t){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":Kc=null;break;case"pointerover":case"pointerout":Lg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mg.delete(e.pointerId)}}function ep(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=cx(e),e!==null&&r3(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function ZX(t,e,r,n,a){switch(e){case"focusin":return zc=ep(zc,t,e,r,n,a),!0;case"dragenter":return Vc=ep(Vc,t,e,r,n,a),!0;case"mouseover":return Kc=ep(Kc,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Lg.set(i,ep(Lg.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Mg.set(i,ep(Mg.get(i)||null,t,e,r,n,a)),!0}return!1}function zR(t){var e=cu(t.target);if(e!==null){var r=rA(e);if(r!==null){if(e=r.tag,e===13){if(e=TR(r),e!==null){t.blockedOn=e,qR(t.priority,function(){$R(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=lC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);rC=n,r.target.dispatchEvent(n),rC=null}else return e=cx(r),e!==null&&r3(e),t.blockedOn=r,!1;e.shift()}return!0}function Z6(t,e,r){Jv(t)&&r.delete(e)}function eY(){oC=!1,zc!==null&&Jv(zc)&&(zc=null),Vc!==null&&Jv(Vc)&&(Vc=null),Kc!==null&&Jv(Kc)&&(Kc=null),Lg.forEach(Z6),Mg.forEach(Z6)}function tp(t,e){t.blockedOn===e&&(t.blockedOn=null,oC||(oC=!0,$a.unstable_scheduleCallback($a.unstable_NormalPriority,eY)))}function Ug(t){function e(a){return tp(a,t)}if(0<ky.length){tp(ky[0],t);for(var r=1;r<ky.length;r++){var n=ky[r];n.blockedOn===t&&(n.blockedOn=null)}}for(zc!==null&&tp(zc,t),Vc!==null&&tp(Vc,t),Kc!==null&&tp(Kc,t),Lg.forEach(e),Mg.forEach(e),r=0;r<Ec.length;r++)n=Ec[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ec.length&&(r=Ec[0],r.blockedOn===null);)zR(r),r.blockedOn===null&&Ec.shift()}var zh=Vl.ReactCurrentBatchConfig,Ob=!0;function tY(t,e,r,n){var a=mr,i=zh.transition;zh.transition=null;try{mr=1,n3(t,e,r,n)}finally{mr=a,zh.transition=i}}function rY(t,e,r,n){var a=mr,i=zh.transition;zh.transition=null;try{mr=4,n3(t,e,r,n)}finally{mr=a,zh.transition=i}}function n3(t,e,r,n){if(Ob){var a=lC(t,e,r,n);if(a===null)PN(t,e,n,Ib,r),J6(t,n);else if(ZX(a,t,e,r,n))n.stopPropagation();else if(J6(t,n),e&4&&-1<JX.indexOf(t)){for(;a!==null;){var i=cx(a);if(i!==null&&QR(i),i=lC(t,e,r,n),i===null&&PN(t,e,n,Ib,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else PN(t,e,n,null,r)}}var Ib=null;function lC(t,e,r,n){if(Ib=null,t=ZS(n),t=cu(t),t!==null)if(e=rA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=TR(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ib=t,null}function VR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HX()){case e3:return 1;case LR:return 4;case Fb:case qX:return 16;case MR:return 536870912;default:return 16}default:return 16}}var Tc=null,s3=null,Zv=null;function KR(){if(Zv)return Zv;var t,e=s3,r=e.length,n,a="value"in Tc?Tc.value:Tc.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return Zv=a.slice(t,1<n?1-n:void 0)}function eb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Py(){return!0}function eP(){return!1}function qa(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Py:eP,this.isPropagationStopped=eP,this}return Jr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Py)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Py)},persist:function(){},isPersistent:Py}),e}var Zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a3=qa(Zf),lx=Jr({},Zf,{view:0,detail:0}),nY=qa(lx),wN,jN,rp,T1=Jr({},lx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i3,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rp&&(rp&&t.type==="mousemove"?(wN=t.screenX-rp.screenX,jN=t.screenY-rp.screenY):jN=wN=0,rp=t),wN)},movementY:function(t){return"movementY"in t?t.movementY:jN}}),tP=qa(T1),sY=Jr({},T1,{dataTransfer:0}),aY=qa(sY),iY=Jr({},lx,{relatedTarget:0}),NN=qa(iY),oY=Jr({},Zf,{animationName:0,elapsedTime:0,pseudoElement:0}),lY=qa(oY),cY=Jr({},Zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dY=qa(cY),uY=Jr({},Zf,{data:0}),rP=qa(uY),AY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fY[t])?!!e[t]:!1}function i3(){return mY}var pY=Jr({},lx,{key:function(t){if(t.key){var e=AY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i3,charCode:function(t){return t.type==="keypress"?eb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gY=qa(pY),xY=Jr({},T1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nP=qa(xY),yY=Jr({},lx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i3}),vY=qa(yY),bY=Jr({},Zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),wY=qa(bY),jY=Jr({},T1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NY=qa(jY),_Y=[9,13,27,32],o3=Pl&&"CompositionEvent"in window,Zp=null;Pl&&"documentMode"in document&&(Zp=document.documentMode);var CY=Pl&&"TextEvent"in window&&!Zp,WR=Pl&&(!o3||Zp&&8<Zp&&11>=Zp),sP=" ",aP=!1;function GR(t,e){switch(t){case"keyup":return _Y.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xh=!1;function BY(t,e){switch(t){case"compositionend":return XR(e);case"keypress":return e.which!==32?null:(aP=!0,sP);case"textInput":return t=e.data,t===sP&&aP?null:t;default:return null}}function SY(t,e){if(xh)return t==="compositionend"||!o3&&GR(t,e)?(t=KR(),Zv=s3=Tc=null,xh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WR&&e.locale!=="ko"?null:e.data;default:return null}}var EY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EY[t.type]:e==="textarea"}function YR(t,e,r,n){SR(n),e=Db(e,"onChange"),0<e.length&&(r=new a3("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var eg=null,Rg=null;function kY(t){lQ(t,0)}function O1(t){var e=bh(t);if(bR(e))return t}function PY(t,e){if(t==="change")return e}var JR=!1;if(Pl){var _N;if(Pl){var CN="oninput"in document;if(!CN){var oP=document.createElement("div");oP.setAttribute("oninput","return;"),CN=typeof oP.oninput=="function"}_N=CN}else _N=!1;JR=_N&&(!document.documentMode||9<document.documentMode)}function lP(){eg&&(eg.detachEvent("onpropertychange",ZR),Rg=eg=null)}function ZR(t){if(t.propertyName==="value"&&O1(Rg)){var e=[];YR(e,Rg,t,ZS(t)),FR(kY,e)}}function FY(t,e,r){t==="focusin"?(lP(),eg=e,Rg=r,eg.attachEvent("onpropertychange",ZR)):t==="focusout"&&lP()}function TY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return O1(Rg)}function OY(t,e){if(t==="click")return O1(e)}function IY(t,e){if(t==="input"||t==="change")return O1(e)}function DY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var no=typeof Object.is=="function"?Object.is:DY;function Qg(t,e){if(no(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!q5.call(e,a)||!no(t[a],e[a]))return!1}return!0}function cP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dP(t,e){var r=cP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cP(r)}}function eQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tQ(){for(var t=window,e=Eb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Eb(t.document)}return e}function l3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LY(t){var e=tQ(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&eQ(r.ownerDocument.documentElement,r)){if(n!==null&&l3(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=dP(r,i);var o=dP(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MY=Pl&&"documentMode"in document&&11>=document.documentMode,yh=null,cC=null,tg=null,dC=!1;function uP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dC||yh==null||yh!==Eb(n)||(n=yh,"selectionStart"in n&&l3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tg&&Qg(tg,n)||(tg=n,n=Db(cC,"onSelect"),0<n.length&&(e=new a3("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=yh)))}function Fy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var vh={animationend:Fy("Animation","AnimationEnd"),animationiteration:Fy("Animation","AnimationIteration"),animationstart:Fy("Animation","AnimationStart"),transitionend:Fy("Transition","TransitionEnd")},BN={},rQ={};Pl&&(rQ=document.createElement("div").style,"AnimationEvent"in window||(delete vh.animationend.animation,delete vh.animationiteration.animation,delete vh.animationstart.animation),"TransitionEvent"in window||delete vh.transitionend.transition);function I1(t){if(BN[t])return BN[t];if(!vh[t])return t;var e=vh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in rQ)return BN[t]=e[r];return t}var nQ=I1("animationend"),sQ=I1("animationiteration"),aQ=I1("animationstart"),iQ=I1("transitionend"),oQ=new Map,AP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pd(t,e){oQ.set(t,e),tA(e,[t])}for(var SN=0;SN<AP.length;SN++){var EN=AP[SN],UY=EN.toLowerCase(),RY=EN[0].toUpperCase()+EN.slice(1);pd(UY,"on"+RY)}pd(nQ,"onAnimationEnd");pd(sQ,"onAnimationIteration");pd(aQ,"onAnimationStart");pd("dblclick","onDoubleClick");pd("focusin","onFocus");pd("focusout","onBlur");pd(iQ,"onTransitionEnd");hf("onMouseEnter",["mouseout","mouseover"]);hf("onMouseLeave",["mouseout","mouseover"]);hf("onPointerEnter",["pointerout","pointerover"]);hf("onPointerLeave",["pointerout","pointerover"]);tA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tA("onBeforeInput",["compositionend","keypress","textInput","paste"]);tA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lp));function hP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,UX(n,e,void 0,t),t.currentTarget=null}function lQ(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;hP(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;hP(a,l,d),i=c}}}if(Pb)throw t=aC,Pb=!1,aC=null,t}function Or(t,e){var r=e[mC];r===void 0&&(r=e[mC]=new Set);var n=t+"__bubble";r.has(n)||(cQ(e,t,2,!1),r.add(n))}function kN(t,e,r){var n=0;e&&(n|=4),cQ(r,t,n,e)}var Ty="_reactListening"+Math.random().toString(36).slice(2);function $g(t){if(!t[Ty]){t[Ty]=!0,pR.forEach(function(r){r!=="selectionchange"&&(QY.has(r)||kN(r,!1,t),kN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ty]||(e[Ty]=!0,kN("selectionchange",!1,e))}}function cQ(t,e,r,n){switch(VR(e)){case 1:var a=tY;break;case 4:a=rY;break;default:a=n3}r=a.bind(null,e,r,t),a=void 0,!sC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function PN(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=cu(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}FR(function(){var d=i,u=ZS(r),A=[];e:{var h=oQ.get(t);if(h!==void 0){var f=a3,g=t;switch(t){case"keypress":if(eb(r)===0)break e;case"keydown":case"keyup":f=gY;break;case"focusin":g="focus",f=NN;break;case"focusout":g="blur",f=NN;break;case"beforeblur":case"afterblur":f=NN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=tP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=aY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=vY;break;case nQ:case sQ:case aQ:f=lY;break;case iQ:f=wY;break;case"scroll":f=nY;break;case"wheel":f=NY;break;case"copy":case"cut":case"paste":f=dY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nP}var x=(e&4)!==0,m=!x&&t==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var y=d,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,p!==null&&(N=Dg(y,p),N!=null&&x.push(Hg(y,N,b)))),m)break;y=y.return}0<x.length&&(h=new f(h,g,null,r,u),A.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==rC&&(g=r.relatedTarget||r.fromElement)&&(cu(g)||g[Fl]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=d,g=g?cu(g):null,g!==null&&(m=rA(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(x=tP,N="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=nP,N="onPointerLeave",p="onPointerEnter",y="pointer"),m=f==null?h:bh(f),b=g==null?h:bh(g),h=new x(N,y+"leave",f,r,u),h.target=m,h.relatedTarget=b,N=null,cu(u)===d&&(x=new x(p,y+"enter",g,r,u),x.target=b,x.relatedTarget=m,N=x),m=N,f&&g)t:{for(x=f,p=g,y=0,b=x;b;b=HA(b))y++;for(b=0,N=p;N;N=HA(N))b++;for(;0<y-b;)x=HA(x),y--;for(;0<b-y;)p=HA(p),b--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=HA(x),p=HA(p)}x=null}else x=null;f!==null&&fP(A,h,f,x,!1),g!==null&&m!==null&&fP(A,m,g,x,!0)}}e:{if(h=d?bh(d):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var j=PY;else if(iP(h))if(JR)j=IY;else{j=TY;var C=FY}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=OY);if(j&&(j=j(t,d))){YR(A,j,r,u);break e}C&&C(t,h,d),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Y5(h,"number",h.value)}switch(C=d?bh(d):window,t){case"focusin":(iP(C)||C.contentEditable==="true")&&(yh=C,cC=d,tg=null);break;case"focusout":tg=cC=yh=null;break;case"mousedown":dC=!0;break;case"contextmenu":case"mouseup":case"dragend":dC=!1,uP(A,r,u);break;case"selectionchange":if(MY)break;case"keydown":case"keyup":uP(A,r,u)}var k;if(o3)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else xh?GR(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(WR&&r.locale!=="ko"&&(xh||_!=="onCompositionStart"?_==="onCompositionEnd"&&xh&&(k=KR()):(Tc=u,s3="value"in Tc?Tc.value:Tc.textContent,xh=!0)),C=Db(d,_),0<C.length&&(_=new rP(_,t,null,r,u),A.push({event:_,listeners:C}),k?_.data=k:(k=XR(r),k!==null&&(_.data=k)))),(k=CY?BY(t,r):SY(t,r))&&(d=Db(d,"onBeforeInput"),0<d.length&&(u=new rP("onBeforeInput","beforeinput",null,r,u),A.push({event:u,listeners:d}),u.data=k))}lQ(A,e)})}function Hg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Db(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Dg(t,r),i!=null&&n.unshift(Hg(t,i,a)),i=Dg(t,e),i!=null&&n.push(Hg(t,i,a))),t=t.return}return n}function HA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fP(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Dg(r,i),c!=null&&o.unshift(Hg(r,c,l))):a||(c=Dg(r,i),c!=null&&o.push(Hg(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var $Y=/\r\n?/g,HY=/\u0000|\uFFFD/g;function mP(t){return(typeof t=="string"?t:""+t).replace($Y,`
`).replace(HY,"")}function Oy(t,e,r){if(e=mP(e),mP(t)!==e&&r)throw Error(Je(425))}function Lb(){}var uC=null,AC=null;function hC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fC=typeof setTimeout=="function"?setTimeout:void 0,qY=typeof clearTimeout=="function"?clearTimeout:void 0,pP=typeof Promise=="function"?Promise:void 0,zY=typeof queueMicrotask=="function"?queueMicrotask:typeof pP<"u"?function(t){return pP.resolve(null).then(t).catch(VY)}:fC;function VY(t){setTimeout(function(){throw t})}function FN(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Ug(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ug(e)}function Wc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var em=Math.random().toString(36).slice(2),Eo="__reactFiber$"+em,qg="__reactProps$"+em,Fl="__reactContainer$"+em,mC="__reactEvents$"+em,KY="__reactListeners$"+em,WY="__reactHandles$"+em;function cu(t){var e=t[Eo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fl]||r[Eo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=gP(t);t!==null;){if(r=t[Eo])return r;t=gP(t)}return e}t=r,r=t.parentNode}return null}function cx(t){return t=t[Eo]||t[Fl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Je(33))}function D1(t){return t[qg]||null}var pC=[],wh=-1;function gd(t){return{current:t}}function Ur(t){0>wh||(t.current=pC[wh],pC[wh]=null,wh--)}function Pr(t,e){wh++,pC[wh]=t.current,t.current=e}var od={},Us=gd(od),va=gd(!1),Mu=od;function ff(t,e){var r=t.type.contextTypes;if(!r)return od;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function ba(t){return t=t.childContextTypes,t!=null}function Mb(){Ur(va),Ur(Us)}function xP(t,e,r){if(Us.current!==od)throw Error(Je(168));Pr(Us,e),Pr(va,r)}function dQ(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(Je(108,FX(t)||"Unknown",a));return Jr({},r,n)}function Ub(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||od,Mu=Us.current,Pr(Us,t),Pr(va,va.current),!0}function yP(t,e,r){var n=t.stateNode;if(!n)throw Error(Je(169));r?(t=dQ(t,e,Mu),n.__reactInternalMemoizedMergedChildContext=t,Ur(va),Ur(Us),Pr(Us,t)):Ur(va),Pr(va,r)}var ml=null,L1=!1,TN=!1;function uQ(t){ml===null?ml=[t]:ml.push(t)}function GY(t){L1=!0,uQ(t)}function xd(){if(!TN&&ml!==null){TN=!0;var t=0,e=mr;try{var r=ml;for(mr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ml=null,L1=!1}catch(a){throw ml!==null&&(ml=ml.slice(t+1)),DR(e3,xd),a}finally{mr=e,TN=!1}}return null}var jh=[],Nh=0,Rb=null,Qb=0,oi=[],li=0,Uu=null,gl=1,xl="";function Kd(t,e){jh[Nh++]=Qb,jh[Nh++]=Rb,Rb=t,Qb=e}function AQ(t,e,r){oi[li++]=gl,oi[li++]=xl,oi[li++]=Uu,Uu=t;var n=gl;t=xl;var a=32-eo(n)-1;n&=~(1<<a),r+=1;var i=32-eo(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,gl=1<<32-eo(e)+a|r<<a|n,xl=i+t}else gl=1<<i|r<<a|n,xl=t}function c3(t){t.return!==null&&(Kd(t,1),AQ(t,1,0))}function d3(t){for(;t===Rb;)Rb=jh[--Nh],jh[Nh]=null,Qb=jh[--Nh],jh[Nh]=null;for(;t===Uu;)Uu=oi[--li],oi[li]=null,xl=oi[--li],oi[li]=null,gl=oi[--li],oi[li]=null}var Ua=null,La=null,$r=!1,Xi=null;function hQ(t,e){var r=ui(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function vP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ua=t,La=Wc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ua=t,La=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Uu!==null?{id:gl,overflow:xl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ui(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ua=t,La=null,!0):!1;default:return!1}}function gC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xC(t){if($r){var e=La;if(e){var r=e;if(!vP(t,e)){if(gC(t))throw Error(Je(418));e=Wc(r.nextSibling);var n=Ua;e&&vP(t,e)?hQ(n,r):(t.flags=t.flags&-4097|2,$r=!1,Ua=t)}}else{if(gC(t))throw Error(Je(418));t.flags=t.flags&-4097|2,$r=!1,Ua=t}}}function bP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ua=t}function Iy(t){if(t!==Ua)return!1;if(!$r)return bP(t),$r=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hC(t.type,t.memoizedProps)),e&&(e=La)){if(gC(t))throw fQ(),Error(Je(418));for(;e;)hQ(t,e),e=Wc(e.nextSibling)}if(bP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){La=Wc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}La=null}}else La=Ua?Wc(t.stateNode.nextSibling):null;return!0}function fQ(){for(var t=La;t;)t=Wc(t.nextSibling)}function mf(){La=Ua=null,$r=!1}function u3(t){Xi===null?Xi=[t]:Xi.push(t)}var XY=Vl.ReactCurrentBatchConfig;function np(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Je(309));var n=r.stateNode}if(!n)throw Error(Je(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Je(284));if(!r._owner)throw Error(Je(290,t))}return t}function Dy(t,e){throw t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wP(t){var e=t._init;return e(t._payload)}function mQ(t){function e(p,y){if(t){var b=p.deletions;b===null?(p.deletions=[y],p.flags|=16):b.push(y)}}function r(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function a(p,y){return p=Jc(p,y),p.index=0,p.sibling=null,p}function i(p,y,b){return p.index=b,t?(b=p.alternate,b!==null?(b=b.index,b<y?(p.flags|=2,y):b):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,y,b,N){return y===null||y.tag!==6?(y=RN(b,p.mode,N),y.return=p,y):(y=a(y,b),y.return=p,y)}function c(p,y,b,N){var j=b.type;return j===gh?u(p,y,b.props.children,N,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nc&&wP(j)===y.type)?(N=a(y,b.props),N.ref=np(p,y,b),N.return=p,N):(N=ob(b.type,b.key,b.props,null,p.mode,N),N.ref=np(p,y,b),N.return=p,N)}function d(p,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=QN(b,p.mode,N),y.return=p,y):(y=a(y,b.children||[]),y.return=p,y)}function u(p,y,b,N,j){return y===null||y.tag!==7?(y=Nu(b,p.mode,N,j),y.return=p,y):(y=a(y,b),y.return=p,y)}function A(p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=RN(""+y,p.mode,b),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _y:return b=ob(y.type,y.key,y.props,null,p.mode,b),b.ref=np(p,null,y),b.return=p,b;case ph:return y=QN(y,p.mode,b),y.return=p,y;case Nc:var N=y._init;return A(p,N(y._payload),b)}if(Ip(y)||Jm(y))return y=Nu(y,p.mode,b,null),y.return=p,y;Dy(p,y)}return null}function h(p,y,b,N){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(p,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _y:return b.key===j?c(p,y,b,N):null;case ph:return b.key===j?d(p,y,b,N):null;case Nc:return j=b._init,h(p,y,j(b._payload),N)}if(Ip(b)||Jm(b))return j!==null?null:u(p,y,b,N,null);Dy(p,b)}return null}function f(p,y,b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return p=p.get(b)||null,l(y,p,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _y:return p=p.get(N.key===null?b:N.key)||null,c(y,p,N,j);case ph:return p=p.get(N.key===null?b:N.key)||null,d(y,p,N,j);case Nc:var C=N._init;return f(p,y,b,C(N._payload),j)}if(Ip(N)||Jm(N))return p=p.get(b)||null,u(y,p,N,j,null);Dy(y,N)}return null}function g(p,y,b,N){for(var j=null,C=null,k=y,_=y=0,B=null;k!==null&&_<b.length;_++){k.index>_?(B=k,k=null):B=k.sibling;var T=h(p,k,b[_],N);if(T===null){k===null&&(k=B);break}t&&k&&T.alternate===null&&e(p,k),y=i(T,y,_),C===null?j=T:C.sibling=T,C=T,k=B}if(_===b.length)return r(p,k),$r&&Kd(p,_),j;if(k===null){for(;_<b.length;_++)k=A(p,b[_],N),k!==null&&(y=i(k,y,_),C===null?j=k:C.sibling=k,C=k);return $r&&Kd(p,_),j}for(k=n(p,k);_<b.length;_++)B=f(k,p,_,b[_],N),B!==null&&(t&&B.alternate!==null&&k.delete(B.key===null?_:B.key),y=i(B,y,_),C===null?j=B:C.sibling=B,C=B);return t&&k.forEach(function(w){return e(p,w)}),$r&&Kd(p,_),j}function x(p,y,b,N){var j=Jm(b);if(typeof j!="function")throw Error(Je(150));if(b=j.call(b),b==null)throw Error(Je(151));for(var C=j=null,k=y,_=y=0,B=null,T=b.next();k!==null&&!T.done;_++,T=b.next()){k.index>_?(B=k,k=null):B=k.sibling;var w=h(p,k,T.value,N);if(w===null){k===null&&(k=B);break}t&&k&&w.alternate===null&&e(p,k),y=i(w,y,_),C===null?j=w:C.sibling=w,C=w,k=B}if(T.done)return r(p,k),$r&&Kd(p,_),j;if(k===null){for(;!T.done;_++,T=b.next())T=A(p,T.value,N),T!==null&&(y=i(T,y,_),C===null?j=T:C.sibling=T,C=T);return $r&&Kd(p,_),j}for(k=n(p,k);!T.done;_++,T=b.next())T=f(k,p,_,T.value,N),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?_:T.key),y=i(T,y,_),C===null?j=T:C.sibling=T,C=T);return t&&k.forEach(function(E){return e(p,E)}),$r&&Kd(p,_),j}function m(p,y,b,N){if(typeof b=="object"&&b!==null&&b.type===gh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case _y:e:{for(var j=b.key,C=y;C!==null;){if(C.key===j){if(j=b.type,j===gh){if(C.tag===7){r(p,C.sibling),y=a(C,b.props.children),y.return=p,p=y;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nc&&wP(j)===C.type){r(p,C.sibling),y=a(C,b.props),y.ref=np(p,C,b),y.return=p,p=y;break e}r(p,C);break}else e(p,C);C=C.sibling}b.type===gh?(y=Nu(b.props.children,p.mode,N,b.key),y.return=p,p=y):(N=ob(b.type,b.key,b.props,null,p.mode,N),N.ref=np(p,y,b),N.return=p,p=N)}return o(p);case ph:e:{for(C=b.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(p,y.sibling),y=a(y,b.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else e(p,y);y=y.sibling}y=QN(b,p.mode,N),y.return=p,p=y}return o(p);case Nc:return C=b._init,m(p,y,C(b._payload),N)}if(Ip(b))return g(p,y,b,N);if(Jm(b))return x(p,y,b,N);Dy(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(p,y.sibling),y=a(y,b),y.return=p,p=y):(r(p,y),y=RN(b,p.mode,N),y.return=p,p=y),o(p)):r(p,y)}return m}var pf=mQ(!0),pQ=mQ(!1),$b=gd(null),Hb=null,_h=null,A3=null;function h3(){A3=_h=Hb=null}function f3(t){var e=$b.current;Ur($b),t._currentValue=e}function yC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Vh(t,e){Hb=t,A3=_h=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pa=!0),t.firstContext=null)}function bi(t){var e=t._currentValue;if(A3!==t)if(t={context:t,memoizedValue:e,next:null},_h===null){if(Hb===null)throw Error(Je(308));_h=t,Hb.dependencies={lanes:0,firstContext:t}}else _h=_h.next=t;return e}var du=null;function m3(t){du===null?du=[t]:du.push(t)}function gQ(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,m3(e)):(r.next=a.next,a.next=r),e.interleaved=r,Tl(t,n)}function Tl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _c=!1;function p3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Zt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Tl(t,r)}return a=n.interleaved,a===null?(e.next=e,m3(n)):(e.next=a.next,a.next=e),n.interleaved=e,Tl(t,r)}function tb(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,t3(t,r)}}function jP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qb(t,e,r,n){var a=t.updateQueue;_c=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var A=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,f=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(h=e,f=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){A=g.call(f,A,h);break e}A=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(f,A,h):g,h==null)break e;A=Jr({},A,h);break e;case 2:_c=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=A):u=u.next=f,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=A),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);Qu|=o,t.lanes=o,t.memoizedState=A}}function NP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Je(191,a));a.call(n)}}}var dx={},To=gd(dx),zg=gd(dx),Vg=gd(dx);function uu(t){if(t===dx)throw Error(Je(174));return t}function g3(t,e){switch(Pr(Vg,e),Pr(zg,t),Pr(To,dx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z5(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Z5(e,t)}Ur(To),Pr(To,e)}function gf(){Ur(To),Ur(zg),Ur(Vg)}function yQ(t){uu(Vg.current);var e=uu(To.current),r=Z5(e,t.type);e!==r&&(Pr(zg,t),Pr(To,r))}function x3(t){zg.current===t&&(Ur(To),Ur(zg))}var Kr=gd(0);function zb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ON=[];function y3(){for(var t=0;t<ON.length;t++)ON[t]._workInProgressVersionPrimary=null;ON.length=0}var rb=Vl.ReactCurrentDispatcher,IN=Vl.ReactCurrentBatchConfig,Ru=0,Yr=null,Qn=null,es=null,Vb=!1,rg=!1,Kg=0,YY=0;function bs(){throw Error(Je(321))}function v3(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!no(t[r],e[r]))return!1;return!0}function b3(t,e,r,n,a,i){if(Ru=i,Yr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rb.current=t===null||t.memoizedState===null?tJ:rJ,t=r(n,a),rg){i=0;do{if(rg=!1,Kg=0,25<=i)throw Error(Je(301));i+=1,es=Qn=null,e.updateQueue=null,rb.current=nJ,t=r(n,a)}while(rg)}if(rb.current=Kb,e=Qn!==null&&Qn.next!==null,Ru=0,es=Qn=Yr=null,Vb=!1,e)throw Error(Je(300));return t}function w3(){var t=Kg!==0;return Kg=0,t}function Co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Yr.memoizedState=es=t:es=es.next=t,es}function wi(){if(Qn===null){var t=Yr.alternate;t=t!==null?t.memoizedState:null}else t=Qn.next;var e=es===null?Yr.memoizedState:es.next;if(e!==null)es=e,Qn=t;else{if(t===null)throw Error(Je(310));Qn=t,t={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},es===null?Yr.memoizedState=es=t:es=es.next=t}return es}function Wg(t,e){return typeof e=="function"?e(t):e}function DN(t){var e=wi(),r=e.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=t;var n=Qn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ru&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var A={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=A,o=n):c=c.next=A,Yr.lanes|=u,Qu|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,no(n,e.memoizedState)||(pa=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Yr.lanes|=i,Qu|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function LN(t){var e=wi(),r=e.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);no(i,e.memoizedState)||(pa=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function vQ(){}function bQ(t,e){var r=Yr,n=wi(),a=e(),i=!no(n.memoizedState,a);if(i&&(n.memoizedState=a,pa=!0),n=n.queue,j3(NQ.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||es!==null&&es.memoizedState.tag&1){if(r.flags|=2048,Gg(9,jQ.bind(null,r,n,a,e),void 0,null),ss===null)throw Error(Je(349));Ru&30||wQ(r,e,a)}return a}function wQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Yr.updateQueue,e===null?(e={lastEffect:null,stores:null},Yr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function jQ(t,e,r,n){e.value=r,e.getSnapshot=n,_Q(e)&&CQ(t)}function NQ(t,e,r){return r(function(){_Q(e)&&CQ(t)})}function _Q(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!no(t,r)}catch{return!0}}function CQ(t){var e=Tl(t,1);e!==null&&to(e,t,1,-1)}function _P(t){var e=Co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:t},e.queue=t,t=t.dispatch=eJ.bind(null,Yr,t),[e.memoizedState,t]}function Gg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Yr.updateQueue,e===null?(e={lastEffect:null,stores:null},Yr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function BQ(){return wi().memoizedState}function nb(t,e,r,n){var a=Co();Yr.flags|=t,a.memoizedState=Gg(1|e,r,void 0,n===void 0?null:n)}function M1(t,e,r,n){var a=wi();n=n===void 0?null:n;var i=void 0;if(Qn!==null){var o=Qn.memoizedState;if(i=o.destroy,n!==null&&v3(n,o.deps)){a.memoizedState=Gg(e,r,i,n);return}}Yr.flags|=t,a.memoizedState=Gg(1|e,r,i,n)}function CP(t,e){return nb(8390656,8,t,e)}function j3(t,e){return M1(2048,8,t,e)}function SQ(t,e){return M1(4,2,t,e)}function EQ(t,e){return M1(4,4,t,e)}function kQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PQ(t,e,r){return r=r!=null?r.concat([t]):null,M1(4,4,kQ.bind(null,e,t),r)}function N3(){}function FQ(t,e){var r=wi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&v3(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function TQ(t,e){var r=wi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&v3(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function OQ(t,e,r){return Ru&21?(no(r,e)||(r=UR(),Yr.lanes|=r,Qu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pa=!0),t.memoizedState=r)}function JY(t,e){var r=mr;mr=r!==0&&4>r?r:4,t(!0);var n=IN.transition;IN.transition={};try{t(!1),e()}finally{mr=r,IN.transition=n}}function IQ(){return wi().memoizedState}function ZY(t,e,r){var n=Yc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DQ(t))LQ(e,r);else if(r=gQ(t,e,r,n),r!==null){var a=Ys();to(r,t,n,a),MQ(r,e,n)}}function eJ(t,e,r){var n=Yc(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DQ(t))LQ(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,no(l,o)){var c=e.interleaved;c===null?(a.next=a,m3(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=gQ(t,e,a,n),r!==null&&(a=Ys(),to(r,t,n,a),MQ(r,e,n))}}function DQ(t){var e=t.alternate;return t===Yr||e!==null&&e===Yr}function LQ(t,e){rg=Vb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MQ(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,t3(t,r)}}var Kb={readContext:bi,useCallback:bs,useContext:bs,useEffect:bs,useImperativeHandle:bs,useInsertionEffect:bs,useLayoutEffect:bs,useMemo:bs,useReducer:bs,useRef:bs,useState:bs,useDebugValue:bs,useDeferredValue:bs,useTransition:bs,useMutableSource:bs,useSyncExternalStore:bs,useId:bs,unstable_isNewReconciler:!1},tJ={readContext:bi,useCallback:function(t,e){return Co().memoizedState=[t,e===void 0?null:e],t},useContext:bi,useEffect:CP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,nb(4194308,4,kQ.bind(null,e,t),r)},useLayoutEffect:function(t,e){return nb(4194308,4,t,e)},useInsertionEffect:function(t,e){return nb(4,2,t,e)},useMemo:function(t,e){var r=Co();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Co();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ZY.bind(null,Yr,t),[n.memoizedState,t]},useRef:function(t){var e=Co();return t={current:t},e.memoizedState=t},useState:_P,useDebugValue:N3,useDeferredValue:function(t){return Co().memoizedState=t},useTransition:function(){var t=_P(!1),e=t[0];return t=JY.bind(null,t[1]),Co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Yr,a=Co();if($r){if(r===void 0)throw Error(Je(407));r=r()}else{if(r=e(),ss===null)throw Error(Je(349));Ru&30||wQ(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,CP(NQ.bind(null,n,i,t),[t]),n.flags|=2048,Gg(9,jQ.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Co(),e=ss.identifierPrefix;if($r){var r=xl,n=gl;r=(n&~(1<<32-eo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Kg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=YY++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rJ={readContext:bi,useCallback:FQ,useContext:bi,useEffect:j3,useImperativeHandle:PQ,useInsertionEffect:SQ,useLayoutEffect:EQ,useMemo:TQ,useReducer:DN,useRef:BQ,useState:function(){return DN(Wg)},useDebugValue:N3,useDeferredValue:function(t){var e=wi();return OQ(e,Qn.memoizedState,t)},useTransition:function(){var t=DN(Wg)[0],e=wi().memoizedState;return[t,e]},useMutableSource:vQ,useSyncExternalStore:bQ,useId:IQ,unstable_isNewReconciler:!1},nJ={readContext:bi,useCallback:FQ,useContext:bi,useEffect:j3,useImperativeHandle:PQ,useInsertionEffect:SQ,useLayoutEffect:EQ,useMemo:TQ,useReducer:LN,useRef:BQ,useState:function(){return LN(Wg)},useDebugValue:N3,useDeferredValue:function(t){var e=wi();return Qn===null?e.memoizedState=t:OQ(e,Qn.memoizedState,t)},useTransition:function(){var t=LN(Wg)[0],e=wi().memoizedState;return[t,e]},useMutableSource:vQ,useSyncExternalStore:bQ,useId:IQ,unstable_isNewReconciler:!1};function zi(t,e){if(t&&t.defaultProps){e=Jr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Jr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var U1={isMounted:function(t){return(t=t._reactInternals)?rA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ys(),a=Yc(t),i=Bl(n,a);i.payload=e,r!=null&&(i.callback=r),e=Gc(t,i,a),e!==null&&(to(e,t,a,n),tb(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ys(),a=Yc(t),i=Bl(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Gc(t,i,a),e!==null&&(to(e,t,a,n),tb(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ys(),n=Yc(t),a=Bl(r,n);a.tag=2,e!=null&&(a.callback=e),e=Gc(t,a,n),e!==null&&(to(e,t,n,r),tb(e,t,n))}};function BP(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qg(r,n)||!Qg(a,i):!0}function UQ(t,e,r){var n=!1,a=od,i=e.contextType;return typeof i=="object"&&i!==null?i=bi(i):(a=ba(e)?Mu:Us.current,n=e.contextTypes,i=(n=n!=null)?ff(t,a):od),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=U1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function SP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&U1.enqueueReplaceState(e,e.state,null)}function bC(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},p3(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=bi(i):(i=ba(e)?Mu:Us.current,a.context=ff(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vC(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&U1.enqueueReplaceState(a,a.state,null),qb(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function xf(t,e){try{var r="",n=e;do r+=PX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function MN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var sJ=typeof WeakMap=="function"?WeakMap:Map;function RQ(t,e,r){r=Bl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gb||(Gb=!0,FC=n),wC(t,e)},r}function QQ(t,e,r){r=Bl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){wC(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){wC(t,e),typeof n!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function EP(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new sJ;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=xJ.bind(null,t,e,r),e.then(t,t))}function kP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PP(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Bl(-1,1),e.tag=2,Gc(r,e,1))),r.lanes|=1),t)}var aJ=Vl.ReactCurrentOwner,pa=!1;function zs(t,e,r,n){e.child=t===null?pQ(e,null,r,n):pf(e,t.child,r,n)}function FP(t,e,r,n,a){r=r.render;var i=e.ref;return Vh(e,a),n=b3(t,e,r,n,i,a),r=w3(),t!==null&&!pa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ol(t,e,a)):($r&&r&&c3(e),e.flags|=1,zs(t,e,n,a),e.child)}function TP(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!F3(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,$Q(t,e,i,n,a)):(t=ob(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Qg,r(o,n)&&t.ref===e.ref)return Ol(t,e,a)}return e.flags|=1,t=Jc(i,n),t.ref=e.ref,t.return=e,e.child=t}function $Q(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Qg(i,n)&&t.ref===e.ref)if(pa=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(pa=!0);else return e.lanes=t.lanes,Ol(t,e,a)}return jC(t,e,r,n,a)}function HQ(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(Bh,Ta),Ta|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pr(Bh,Ta),Ta|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Pr(Bh,Ta),Ta|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Pr(Bh,Ta),Ta|=n;return zs(t,e,a,r),e.child}function qQ(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jC(t,e,r,n,a){var i=ba(r)?Mu:Us.current;return i=ff(e,i),Vh(e,a),r=b3(t,e,r,n,i,a),n=w3(),t!==null&&!pa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ol(t,e,a)):($r&&n&&c3(e),e.flags|=1,zs(t,e,r,a),e.child)}function OP(t,e,r,n,a){if(ba(r)){var i=!0;Ub(e)}else i=!1;if(Vh(e,a),e.stateNode===null)sb(t,e),UQ(e,r,n),bC(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=bi(d):(d=ba(r)?Mu:Us.current,d=ff(e,d));var u=r.getDerivedStateFromProps,A=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&SP(e,o,n,d),_c=!1;var h=e.memoizedState;o.state=h,qb(e,n,o,a),c=e.memoizedState,l!==n||h!==c||va.current||_c?(typeof u=="function"&&(vC(e,r,u,n),c=e.memoizedState),(l=_c||BP(e,r,l,n,h,c,d))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,xQ(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:zi(e.type,l),o.props=d,A=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bi(c):(c=ba(r)?Mu:Us.current,c=ff(e,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==A||h!==c)&&SP(e,o,n,c),_c=!1,h=e.memoizedState,o.state=h,qb(e,n,o,a);var g=e.memoizedState;l!==A||h!==g||va.current||_c?(typeof f=="function"&&(vC(e,r,f,n),g=e.memoizedState),(d=_c||BP(e,r,d,n,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return NC(t,e,r,n,i,a)}function NC(t,e,r,n,a,i){qQ(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&yP(e,r,!1),Ol(t,e,i);n=e.stateNode,aJ.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=pf(e,t.child,null,i),e.child=pf(e,null,l,i)):zs(t,e,l,i),e.memoizedState=n.state,a&&yP(e,r,!0),e.child}function zQ(t){var e=t.stateNode;e.pendingContext?xP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xP(t,e.context,!1),g3(t,e.containerInfo)}function IP(t,e,r,n,a){return mf(),u3(a),e.flags|=256,zs(t,e,r,n),e.child}var _C={dehydrated:null,treeContext:null,retryLane:0};function CC(t){return{baseLanes:t,cachePool:null,transitions:null}}function VQ(t,e,r){var n=e.pendingProps,a=Kr.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Pr(Kr,a&1),t===null)return xC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$1(o,n,0,null),t=Nu(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=CC(r),e.memoizedState=_C,t):_3(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return iJ(t,e,o,n,l,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Jc(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Jc(l,i):(i=Nu(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?CC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=_C,n}return i=t.child,t=i.sibling,n=Jc(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function _3(t,e){return e=$1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ly(t,e,r,n){return n!==null&&u3(n),pf(e,t.child,null,r),t=_3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iJ(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=MN(Error(Je(422))),Ly(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=$1({mode:"visible",children:n.children},a,0,null),i=Nu(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&pf(e,t.child,null,o),e.child.memoizedState=CC(o),e.memoizedState=_C,i);if(!(e.mode&1))return Ly(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Je(419)),n=MN(i,n,void 0),Ly(t,e,o,n)}if(l=(o&t.childLanes)!==0,pa||l){if(n=ss,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Tl(t,a),to(n,t,a,-1))}return P3(),n=MN(Error(Je(421))),Ly(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=yJ.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,La=Wc(a.nextSibling),Ua=e,$r=!0,Xi=null,t!==null&&(oi[li++]=gl,oi[li++]=xl,oi[li++]=Uu,gl=t.id,xl=t.overflow,Uu=e),e=_3(e,n.children),e.flags|=4096,e)}function DP(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yC(t.return,e,r)}function UN(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function KQ(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(zs(t,e,n.children,r),n=Kr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DP(t,r,e);else if(t.tag===19)DP(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Pr(Kr,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&zb(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),UN(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&zb(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}UN(e,!0,r,null,i);break;case"together":UN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ol(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,r=Jc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Jc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function oJ(t,e,r){switch(e.tag){case 3:zQ(e),mf();break;case 5:yQ(e);break;case 1:ba(e.type)&&Ub(e);break;case 4:g3(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Pr($b,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Pr(Kr,Kr.current&1),e.flags|=128,null):r&e.child.childLanes?VQ(t,e,r):(Pr(Kr,Kr.current&1),t=Ol(t,e,r),t!==null?t.sibling:null);Pr(Kr,Kr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return KQ(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pr(Kr,Kr.current),n)break;return null;case 22:case 23:return e.lanes=0,HQ(t,e,r)}return Ol(t,e,r)}var WQ,BC,GQ,XQ;WQ=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};BC=function(){};GQ=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,uu(To.current);var i=null;switch(r){case"input":a=G5(t,a),n=G5(t,n),i=[];break;case"select":a=Jr({},a,{value:void 0}),n=Jr({},n,{value:void 0}),i=[];break;case"textarea":a=J5(t,a),n=J5(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Lb)}eC(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Og.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Og.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Or("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};XQ=function(t,e,r,n){r!==n&&(e.flags|=4)};function sp(t,e){if(!$r)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ws(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function lJ(t,e,r){var n=e.pendingProps;switch(d3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ws(e),null;case 1:return ba(e.type)&&Mb(),ws(e),null;case 3:return n=e.stateNode,gf(),Ur(va),Ur(Us),y3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Iy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xi!==null&&(IC(Xi),Xi=null))),BC(t,e),ws(e),null;case 5:x3(e);var a=uu(Vg.current);if(r=e.type,t!==null&&e.stateNode!=null)GQ(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Je(166));return ws(e),null}if(t=uu(To.current),Iy(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Eo]=e,n[qg]=i,t=(e.mode&1)!==0,r){case"dialog":Or("cancel",n),Or("close",n);break;case"iframe":case"object":case"embed":Or("load",n);break;case"video":case"audio":for(a=0;a<Lp.length;a++)Or(Lp[a],n);break;case"source":Or("error",n);break;case"img":case"image":case"link":Or("error",n),Or("load",n);break;case"details":Or("toggle",n);break;case"input":z6(n,i),Or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Or("invalid",n);break;case"textarea":K6(n,i),Or("invalid",n)}eC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Oy(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Oy(n.textContent,l,t),a=["children",""+l]):Og.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Or("scroll",n)}switch(r){case"input":Cy(n),V6(n,i,!0);break;case"textarea":Cy(n),W6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Lb)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NR(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Eo]=e,t[qg]=n,WQ(t,e,!1,!1),e.stateNode=t;e:{switch(o=tC(r,n),r){case"dialog":Or("cancel",t),Or("close",t),a=n;break;case"iframe":case"object":case"embed":Or("load",t),a=n;break;case"video":case"audio":for(a=0;a<Lp.length;a++)Or(Lp[a],t);a=n;break;case"source":Or("error",t),a=n;break;case"img":case"image":case"link":Or("error",t),Or("load",t),a=n;break;case"details":Or("toggle",t),a=n;break;case"input":z6(t,n),a=G5(t,n),Or("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Jr({},n,{value:void 0}),Or("invalid",t);break;case"textarea":K6(t,n),a=J5(t,n),Or("invalid",t);break;default:a=n}eC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?BR(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_R(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ig(t,c):typeof c=="number"&&Ig(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Og.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Or("scroll",t):c!=null&&GS(t,i,c,o))}switch(r){case"input":Cy(t),V6(t,n,!1);break;case"textarea":Cy(t),W6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+id(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?$h(t,!!n.multiple,i,!1):n.defaultValue!=null&&$h(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Lb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ws(e),null;case 6:if(t&&e.stateNode!=null)XQ(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Je(166));if(r=uu(Vg.current),uu(To.current),Iy(e)){if(n=e.stateNode,r=e.memoizedProps,n[Eo]=e,(i=n.nodeValue!==r)&&(t=Ua,t!==null))switch(t.tag){case 3:Oy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oy(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Eo]=e,e.stateNode=n}return ws(e),null;case 13:if(Ur(Kr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($r&&La!==null&&e.mode&1&&!(e.flags&128))fQ(),mf(),e.flags|=98560,i=!1;else if(i=Iy(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Je(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Je(317));i[Eo]=e}else mf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ws(e),i=!1}else Xi!==null&&(IC(Xi),Xi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Kr.current&1?Hn===0&&(Hn=3):P3())),e.updateQueue!==null&&(e.flags|=4),ws(e),null);case 4:return gf(),BC(t,e),t===null&&$g(e.stateNode.containerInfo),ws(e),null;case 10:return f3(e.type._context),ws(e),null;case 17:return ba(e.type)&&Mb(),ws(e),null;case 19:if(Ur(Kr),i=e.memoizedState,i===null)return ws(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)sp(i,!1);else{if(Hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zb(t),o!==null){for(e.flags|=128,sp(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Pr(Kr,Kr.current&1|2),e.child}t=t.sibling}i.tail!==null&&fn()>yf&&(e.flags|=128,n=!0,sp(i,!1),e.lanes=4194304)}else{if(!n)if(t=zb(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),sp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$r)return ws(e),null}else 2*fn()-i.renderingStartTime>yf&&r!==1073741824&&(e.flags|=128,n=!0,sp(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=fn(),e.sibling=null,r=Kr.current,Pr(Kr,n?r&1|2:r&1),e):(ws(e),null);case 22:case 23:return k3(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ta&1073741824&&(ws(e),e.subtreeFlags&6&&(e.flags|=8192)):ws(e),null;case 24:return null;case 25:return null}throw Error(Je(156,e.tag))}function cJ(t,e){switch(d3(e),e.tag){case 1:return ba(e.type)&&Mb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gf(),Ur(va),Ur(Us),y3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x3(e),null;case 13:if(Ur(Kr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));mf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ur(Kr),null;case 4:return gf(),null;case 10:return f3(e.type._context),null;case 22:case 23:return k3(),null;case 24:return null;default:return null}}var My=!1,Ps=!1,dJ=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Ch(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){an(t,e,n)}else r.current=null}function SC(t,e,r){try{r()}catch(n){an(t,e,n)}}var LP=!1;function uJ(t,e){if(uC=Ob,t=tQ(),l3(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,A=t,h=null;t:for(;;){for(var f;A!==r||a!==0&&A.nodeType!==3||(l=o+a),A!==i||n!==0&&A.nodeType!==3||(c=o+n),A.nodeType===3&&(o+=A.nodeValue.length),(f=A.firstChild)!==null;)h=A,A=f;for(;;){if(A===t)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===n&&(c=o),(f=A.nextSibling)!==null)break;A=h,h=A.parentNode}A=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(AC={focusedElem:t,selectionRange:r},Ob=!1,lt=e;lt!==null;)if(e=lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,lt=t;else for(;lt!==null;){e=lt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,m=g.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:zi(e.type,x),m);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(N){an(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}return g=LP,LP=!1,g}function ng(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&SC(e,r,i)}a=a.next}while(a!==n)}}function R1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function EC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function YQ(t){var e=t.alternate;e!==null&&(t.alternate=null,YQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Eo],delete e[qg],delete e[mC],delete e[KY],delete e[WY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JQ(t){return t.tag===5||t.tag===3||t.tag===4}function MP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Lb));else if(n!==4&&(t=t.child,t!==null))for(kC(t,e,r),t=t.sibling;t!==null;)kC(t,e,r),t=t.sibling}function PC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(PC(t,e,r),t=t.sibling;t!==null;)PC(t,e,r),t=t.sibling}var us=null,Ki=!1;function fc(t,e,r){for(r=r.child;r!==null;)ZQ(t,e,r),r=r.sibling}function ZQ(t,e,r){if(Fo&&typeof Fo.onCommitFiberUnmount=="function")try{Fo.onCommitFiberUnmount(F1,r)}catch{}switch(r.tag){case 5:Ps||Ch(r,e);case 6:var n=us,a=Ki;us=null,fc(t,e,r),us=n,Ki=a,us!==null&&(Ki?(t=us,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):us.removeChild(r.stateNode));break;case 18:us!==null&&(Ki?(t=us,r=r.stateNode,t.nodeType===8?FN(t.parentNode,r):t.nodeType===1&&FN(t,r),Ug(t)):FN(us,r.stateNode));break;case 4:n=us,a=Ki,us=r.stateNode.containerInfo,Ki=!0,fc(t,e,r),us=n,Ki=a;break;case 0:case 11:case 14:case 15:if(!Ps&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&SC(r,e,o),a=a.next}while(a!==n)}fc(t,e,r);break;case 1:if(!Ps&&(Ch(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){an(r,e,l)}fc(t,e,r);break;case 21:fc(t,e,r);break;case 22:r.mode&1?(Ps=(n=Ps)||r.memoizedState!==null,fc(t,e,r),Ps=n):fc(t,e,r);break;default:fc(t,e,r)}}function UP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new dJ),e.forEach(function(n){var a=vJ.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Mi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:us=l.stateNode,Ki=!1;break e;case 3:us=l.stateNode.containerInfo,Ki=!0;break e;case 4:us=l.stateNode.containerInfo,Ki=!0;break e}l=l.return}if(us===null)throw Error(Je(160));ZQ(i,o,a),us=null,Ki=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){an(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e7(e,t),e=e.sibling}function e7(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mi(e,t),bo(t),n&4){try{ng(3,t,t.return),R1(3,t)}catch(x){an(t,t.return,x)}try{ng(5,t,t.return)}catch(x){an(t,t.return,x)}}break;case 1:Mi(e,t),bo(t),n&512&&r!==null&&Ch(r,r.return);break;case 5:if(Mi(e,t),bo(t),n&512&&r!==null&&Ch(r,r.return),t.flags&32){var a=t.stateNode;try{Ig(a,"")}catch(x){an(t,t.return,x)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&wR(a,i),tC(l,o);var d=tC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],A=c[o+1];u==="style"?BR(a,A):u==="dangerouslySetInnerHTML"?_R(a,A):u==="children"?Ig(a,A):GS(a,u,A,d)}switch(l){case"input":X5(a,i);break;case"textarea":jR(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?$h(a,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?$h(a,!!i.multiple,i.defaultValue,!0):$h(a,!!i.multiple,i.multiple?[]:"",!1))}a[qg]=i}catch(x){an(t,t.return,x)}}break;case 6:if(Mi(e,t),bo(t),n&4){if(t.stateNode===null)throw Error(Je(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(x){an(t,t.return,x)}}break;case 3:if(Mi(e,t),bo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ug(e.containerInfo)}catch(x){an(t,t.return,x)}break;case 4:Mi(e,t),bo(t);break;case 13:Mi(e,t),bo(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(S3=fn())),n&4&&UP(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ps=(d=Ps)||u,Mi(e,t),Ps=d):Mi(e,t),bo(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(lt=t,u=t.child;u!==null;){for(A=lt=u;lt!==null;){switch(h=lt,f=h.child,h.tag){case 0:case 11:case 14:case 15:ng(4,h,h.return);break;case 1:Ch(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){an(n,r,x)}}break;case 5:Ch(h,h.return);break;case 22:if(h.memoizedState!==null){QP(A);continue}}f!==null?(f.return=h,lt=f):QP(A)}u=u.sibling}e:for(u=null,A=t;;){if(A.tag===5){if(u===null){u=A;try{a=A.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=A.stateNode,c=A.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=CR("display",o))}catch(x){an(t,t.return,x)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(x){an(t,t.return,x)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Mi(e,t),bo(t),n&4&&UP(t);break;case 21:break;default:Mi(e,t),bo(t)}}function bo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(JQ(r)){var n=r;break e}r=r.return}throw Error(Je(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ig(a,""),n.flags&=-33);var i=MP(t);PC(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=MP(t);kC(t,l,o);break;default:throw Error(Je(161))}}catch(c){an(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AJ(t,e,r){lt=t,t7(t)}function t7(t,e,r){for(var n=(t.mode&1)!==0;lt!==null;){var a=lt,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||My;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ps;l=My;var d=Ps;if(My=o,(Ps=c)&&!d)for(lt=a;lt!==null;)o=lt,c=o.child,o.tag===22&&o.memoizedState!==null?$P(a):c!==null?(c.return=o,lt=c):$P(a);for(;i!==null;)lt=i,t7(i),i=i.sibling;lt=a,My=l,Ps=d}RP(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,lt=i):RP(t)}}function RP(t){for(;lt!==null;){var e=lt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ps||R1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ps)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:zi(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&NP(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}NP(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&Ug(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}Ps||e.flags&512&&EC(e)}catch(h){an(e,e.return,h)}}if(e===t){lt=null;break}if(r=e.sibling,r!==null){r.return=e.return,lt=r;break}lt=e.return}}function QP(t){for(;lt!==null;){var e=lt;if(e===t){lt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,lt=r;break}lt=e.return}}function $P(t){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{R1(4,e)}catch(c){an(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){an(e,a,c)}}var i=e.return;try{EC(e)}catch(c){an(e,i,c)}break;case 5:var o=e.return;try{EC(e)}catch(c){an(e,o,c)}}}catch(c){an(e,e.return,c)}if(e===t){lt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,lt=l;break}lt=e.return}}var hJ=Math.ceil,Wb=Vl.ReactCurrentDispatcher,C3=Vl.ReactCurrentOwner,gi=Vl.ReactCurrentBatchConfig,Zt=0,ss=null,Pn=null,ms=0,Ta=0,Bh=gd(0),Hn=0,Xg=null,Qu=0,Q1=0,B3=0,sg=null,ha=null,S3=0,yf=1/0,Al=null,Gb=!1,FC=null,Xc=null,Uy=!1,Oc=null,Xb=0,ag=0,TC=null,ab=-1,ib=0;function Ys(){return Zt&6?fn():ab!==-1?ab:ab=fn()}function Yc(t){return t.mode&1?Zt&2&&ms!==0?ms&-ms:XY.transition!==null?(ib===0&&(ib=UR()),ib):(t=mr,t!==0||(t=window.event,t=t===void 0?16:VR(t.type)),t):1}function to(t,e,r,n){if(50<ag)throw ag=0,TC=null,Error(Je(185));ox(t,r,n),(!(Zt&2)||t!==ss)&&(t===ss&&(!(Zt&2)&&(Q1|=r),Hn===4&&kc(t,ms)),wa(t,n),r===1&&Zt===0&&!(e.mode&1)&&(yf=fn()+500,L1&&xd()))}function wa(t,e){var r=t.callbackNode;XX(t,e);var n=Tb(t,t===ss?ms:0);if(n===0)r!==null&&Y6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Y6(r),e===1)t.tag===0?GY(HP.bind(null,t)):uQ(HP.bind(null,t)),zY(function(){!(Zt&6)&&xd()}),r=null;else{switch(RR(n)){case 1:r=e3;break;case 4:r=LR;break;case 16:r=Fb;break;case 536870912:r=MR;break;default:r=Fb}r=c7(r,r7.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function r7(t,e){if(ab=-1,ib=0,Zt&6)throw Error(Je(327));var r=t.callbackNode;if(Kh()&&t.callbackNode!==r)return null;var n=Tb(t,t===ss?ms:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Yb(t,n);else{e=n;var a=Zt;Zt|=2;var i=s7();(ss!==t||ms!==e)&&(Al=null,yf=fn()+500,ju(t,e));do try{pJ();break}catch(l){n7(t,l)}while(!0);h3(),Wb.current=i,Zt=a,Pn!==null?e=0:(ss=null,ms=0,e=Hn)}if(e!==0){if(e===2&&(a=iC(t),a!==0&&(n=a,e=OC(t,a))),e===1)throw r=Xg,ju(t,0),kc(t,n),wa(t,fn()),r;if(e===6)kc(t,n);else{if(a=t.current.alternate,!(n&30)&&!fJ(a)&&(e=Yb(t,n),e===2&&(i=iC(t),i!==0&&(n=i,e=OC(t,i))),e===1))throw r=Xg,ju(t,0),kc(t,n),wa(t,fn()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(Je(345));case 2:Wd(t,ha,Al);break;case 3:if(kc(t,n),(n&130023424)===n&&(e=S3+500-fn(),10<e)){if(Tb(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Ys(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=fC(Wd.bind(null,t,ha,Al),e);break}Wd(t,ha,Al);break;case 4:if(kc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-eo(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=fn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hJ(n/1960))-n,10<n){t.timeoutHandle=fC(Wd.bind(null,t,ha,Al),n);break}Wd(t,ha,Al);break;case 5:Wd(t,ha,Al);break;default:throw Error(Je(329))}}}return wa(t,fn()),t.callbackNode===r?r7.bind(null,t):null}function OC(t,e){var r=sg;return t.current.memoizedState.isDehydrated&&(ju(t,e).flags|=256),t=Yb(t,e),t!==2&&(e=ha,ha=r,e!==null&&IC(e)),t}function IC(t){ha===null?ha=t:ha.push.apply(ha,t)}function fJ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!no(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kc(t,e){for(e&=~B3,e&=~Q1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-eo(e),n=1<<r;t[r]=-1,e&=~n}}function HP(t){if(Zt&6)throw Error(Je(327));Kh();var e=Tb(t,0);if(!(e&1))return wa(t,fn()),null;var r=Yb(t,e);if(t.tag!==0&&r===2){var n=iC(t);n!==0&&(e=n,r=OC(t,n))}if(r===1)throw r=Xg,ju(t,0),kc(t,e),wa(t,fn()),r;if(r===6)throw Error(Je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wd(t,ha,Al),wa(t,fn()),null}function E3(t,e){var r=Zt;Zt|=1;try{return t(e)}finally{Zt=r,Zt===0&&(yf=fn()+500,L1&&xd())}}function $u(t){Oc!==null&&Oc.tag===0&&!(Zt&6)&&Kh();var e=Zt;Zt|=1;var r=gi.transition,n=mr;try{if(gi.transition=null,mr=1,t)return t()}finally{mr=n,gi.transition=r,Zt=e,!(Zt&6)&&xd()}}function k3(){Ta=Bh.current,Ur(Bh)}function ju(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,qY(r)),Pn!==null)for(r=Pn.return;r!==null;){var n=r;switch(d3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mb();break;case 3:gf(),Ur(va),Ur(Us),y3();break;case 5:x3(n);break;case 4:gf();break;case 13:Ur(Kr);break;case 19:Ur(Kr);break;case 10:f3(n.type._context);break;case 22:case 23:k3()}r=r.return}if(ss=t,Pn=t=Jc(t.current,null),ms=Ta=e,Hn=0,Xg=null,B3=Q1=Qu=0,ha=sg=null,du!==null){for(e=0;e<du.length;e++)if(r=du[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}du=null}return t}function n7(t,e){do{var r=Pn;try{if(h3(),rb.current=Kb,Vb){for(var n=Yr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Vb=!1}if(Ru=0,es=Qn=Yr=null,rg=!1,Kg=0,C3.current=null,r===null||r.return===null){Hn=1,Xg=e,Pn=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=ms,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=kP(o);if(f!==null){f.flags&=-257,PP(f,o,l,i,e),f.mode&1&&EP(i,d,e),e=f,c=d;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){EP(i,d,e),P3();break e}c=Error(Je(426))}}else if($r&&l.mode&1){var m=kP(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),PP(m,o,l,i,e),u3(xf(c,l));break e}}i=c=xf(c,l),Hn!==4&&(Hn=2),sg===null?sg=[i]:sg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=RQ(i,c,e);jP(i,p);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xc===null||!Xc.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=QQ(i,l,e);jP(i,N);break e}}i=i.return}while(i!==null)}i7(r)}catch(j){e=j,Pn===r&&r!==null&&(Pn=r=r.return);continue}break}while(!0)}function s7(){var t=Wb.current;return Wb.current=Kb,t===null?Kb:t}function P3(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),ss===null||!(Qu&268435455)&&!(Q1&268435455)||kc(ss,ms)}function Yb(t,e){var r=Zt;Zt|=2;var n=s7();(ss!==t||ms!==e)&&(Al=null,ju(t,e));do try{mJ();break}catch(a){n7(t,a)}while(!0);if(h3(),Zt=r,Wb.current=n,Pn!==null)throw Error(Je(261));return ss=null,ms=0,Hn}function mJ(){for(;Pn!==null;)a7(Pn)}function pJ(){for(;Pn!==null&&!QX();)a7(Pn)}function a7(t){var e=l7(t.alternate,t,Ta);t.memoizedProps=t.pendingProps,e===null?i7(t):Pn=e,C3.current=null}function i7(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=cJ(r,e),r!==null){r.flags&=32767,Pn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hn=6,Pn=null;return}}else if(r=lJ(r,e,Ta),r!==null){Pn=r;return}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=t}while(e!==null);Hn===0&&(Hn=5)}function Wd(t,e,r){var n=mr,a=gi.transition;try{gi.transition=null,mr=1,gJ(t,e,r,n)}finally{gi.transition=a,mr=n}return null}function gJ(t,e,r,n){do Kh();while(Oc!==null);if(Zt&6)throw Error(Je(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Je(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(YX(t,i),t===ss&&(Pn=ss=null,ms=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uy||(Uy=!0,c7(Fb,function(){return Kh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gi.transition,gi.transition=null;var o=mr;mr=1;var l=Zt;Zt|=4,C3.current=null,uJ(t,r),e7(r,t),LY(AC),Ob=!!uC,AC=uC=null,t.current=r,AJ(r),$X(),Zt=l,mr=o,gi.transition=i}else t.current=r;if(Uy&&(Uy=!1,Oc=t,Xb=a),i=t.pendingLanes,i===0&&(Xc=null),zX(r.stateNode),wa(t,fn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Gb)throw Gb=!1,t=FC,FC=null,t;return Xb&1&&t.tag!==0&&Kh(),i=t.pendingLanes,i&1?t===TC?ag++:(ag=0,TC=t):ag=0,xd(),null}function Kh(){if(Oc!==null){var t=RR(Xb),e=gi.transition,r=mr;try{if(gi.transition=null,mr=16>t?16:t,Oc===null)var n=!1;else{if(t=Oc,Oc=null,Xb=0,Zt&6)throw Error(Je(331));var a=Zt;for(Zt|=4,lt=t.current;lt!==null;){var i=lt,o=i.child;if(lt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(lt=d;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:ng(8,u,i)}var A=u.child;if(A!==null)A.return=u,lt=A;else for(;lt!==null;){u=lt;var h=u.sibling,f=u.return;if(YQ(u),u===d){lt=null;break}if(h!==null){h.return=f,lt=h;break}lt=f}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var m=x.sibling;x.sibling=null,x=m}while(x!==null)}}lt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,lt=o;else e:for(;lt!==null;){if(i=lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ng(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,lt=p;break e}lt=i.return}}var y=t.current;for(lt=y;lt!==null;){o=lt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,lt=b;else e:for(o=y;lt!==null;){if(l=lt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:R1(9,l)}}catch(j){an(l,l.return,j)}if(l===o){lt=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,lt=N;break e}lt=l.return}}if(Zt=a,xd(),Fo&&typeof Fo.onPostCommitFiberRoot=="function")try{Fo.onPostCommitFiberRoot(F1,t)}catch{}n=!0}return n}finally{mr=r,gi.transition=e}}return!1}function qP(t,e,r){e=xf(r,e),e=RQ(t,e,1),t=Gc(t,e,1),e=Ys(),t!==null&&(ox(t,1,e),wa(t,e))}function an(t,e,r){if(t.tag===3)qP(t,t,r);else for(;e!==null;){if(e.tag===3){qP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xc===null||!Xc.has(n))){t=xf(r,t),t=QQ(e,t,1),e=Gc(e,t,1),t=Ys(),e!==null&&(ox(e,1,t),wa(e,t));break}}e=e.return}}function xJ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ys(),t.pingedLanes|=t.suspendedLanes&r,ss===t&&(ms&r)===r&&(Hn===4||Hn===3&&(ms&130023424)===ms&&500>fn()-S3?ju(t,0):B3|=r),wa(t,e)}function o7(t,e){e===0&&(t.mode&1?(e=Ey,Ey<<=1,!(Ey&130023424)&&(Ey=4194304)):e=1);var r=Ys();t=Tl(t,e),t!==null&&(ox(t,e,r),wa(t,r))}function yJ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),o7(t,r)}function vJ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Je(314))}n!==null&&n.delete(e),o7(t,r)}var l7;l7=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||va.current)pa=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return pa=!1,oJ(t,e,r);pa=!!(t.flags&131072)}else pa=!1,$r&&e.flags&1048576&&AQ(e,Qb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;sb(t,e),t=e.pendingProps;var a=ff(e,Us.current);Vh(e,r),a=b3(null,e,n,t,a,r);var i=w3();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ba(n)?(i=!0,Ub(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,p3(e),a.updater=U1,e.stateNode=a,a._reactInternals=e,bC(e,n,t,r),e=NC(null,e,n,!0,i,r)):(e.tag=0,$r&&i&&c3(e),zs(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(sb(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=wJ(n),t=zi(n,t),a){case 0:e=jC(null,e,n,t,r);break e;case 1:e=OP(null,e,n,t,r);break e;case 11:e=FP(null,e,n,t,r);break e;case 14:e=TP(null,e,n,zi(n.type,t),r);break e}throw Error(Je(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zi(n,a),jC(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zi(n,a),OP(t,e,n,a,r);case 3:e:{if(zQ(e),t===null)throw Error(Je(387));n=e.pendingProps,i=e.memoizedState,a=i.element,xQ(t,e),qb(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=xf(Error(Je(423)),e),e=IP(t,e,n,r,a);break e}else if(n!==a){a=xf(Error(Je(424)),e),e=IP(t,e,n,r,a);break e}else for(La=Wc(e.stateNode.containerInfo.firstChild),Ua=e,$r=!0,Xi=null,r=pQ(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mf(),n===a){e=Ol(t,e,r);break e}zs(t,e,n,r)}e=e.child}return e;case 5:return yQ(e),t===null&&xC(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,hC(n,a)?o=null:i!==null&&hC(n,i)&&(e.flags|=32),qQ(t,e),zs(t,e,o,r),e.child;case 6:return t===null&&xC(e),null;case 13:return VQ(t,e,r);case 4:return g3(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=pf(e,null,n,r):zs(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zi(n,a),FP(t,e,n,a,r);case 7:return zs(t,e,e.pendingProps,r),e.child;case 8:return zs(t,e,e.pendingProps.children,r),e.child;case 12:return zs(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Pr($b,n._currentValue),n._currentValue=o,i!==null)if(no(i.value,o)){if(i.children===a.children&&!va.current){e=Ol(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Bl(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),yC(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Je(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),yC(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zs(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Vh(e,r),a=bi(a),n=n(a),e.flags|=1,zs(t,e,n,r),e.child;case 14:return n=e.type,a=zi(n,e.pendingProps),a=zi(n.type,a),TP(t,e,n,a,r);case 15:return $Q(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zi(n,a),sb(t,e),e.tag=1,ba(n)?(t=!0,Ub(e)):t=!1,Vh(e,r),UQ(e,n,a),bC(e,n,a,r),NC(null,e,n,!0,t,r);case 19:return KQ(t,e,r);case 22:return HQ(t,e,r)}throw Error(Je(156,e.tag))};function c7(t,e){return DR(t,e)}function bJ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,e,r,n){return new bJ(t,e,r,n)}function F3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wJ(t){if(typeof t=="function")return F3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===YS)return 11;if(t===JS)return 14}return 2}function Jc(t,e){var r=t.alternate;return r===null?(r=ui(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ob(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")F3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gh:return Nu(r.children,a,i,e);case XS:o=8,a|=8;break;case z5:return t=ui(12,r,e,a|2),t.elementType=z5,t.lanes=i,t;case V5:return t=ui(13,r,e,a),t.elementType=V5,t.lanes=i,t;case K5:return t=ui(19,r,e,a),t.elementType=K5,t.lanes=i,t;case yR:return $1(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gR:o=10;break e;case xR:o=9;break e;case YS:o=11;break e;case JS:o=14;break e;case Nc:o=16,n=null;break e}throw Error(Je(130,t==null?t:typeof t,""))}return e=ui(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Nu(t,e,r,n){return t=ui(7,t,n,e),t.lanes=r,t}function $1(t,e,r,n){return t=ui(22,t,n,e),t.elementType=yR,t.lanes=r,t.stateNode={isHidden:!1},t}function RN(t,e,r){return t=ui(6,t,null,e),t.lanes=r,t}function QN(t,e,r){return e=ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jJ(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bN(0),this.expirationTimes=bN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bN(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function T3(t,e,r,n,a,i,o,l,c){return t=new jJ(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ui(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p3(i),t}function NJ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ph,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function d7(t){if(!t)return od;t=t._reactInternals;e:{if(rA(t)!==t||t.tag!==1)throw Error(Je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ba(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Je(171))}if(t.tag===1){var r=t.type;if(ba(r))return dQ(t,r,e)}return e}function u7(t,e,r,n,a,i,o,l,c){return t=T3(r,n,!0,t,a,i,o,l,c),t.context=d7(null),r=t.current,n=Ys(),a=Yc(r),i=Bl(n,a),i.callback=e??null,Gc(r,i,a),t.current.lanes=a,ox(t,a,n),wa(t,n),t}function H1(t,e,r,n){var a=e.current,i=Ys(),o=Yc(a);return r=d7(r),e.context===null?e.context=r:e.pendingContext=r,e=Bl(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gc(a,e,o),t!==null&&(to(t,a,o,i),tb(t,a,o)),o}function Jb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O3(t,e){zP(t,e),(t=t.alternate)&&zP(t,e)}function _J(){return null}var A7=typeof reportError=="function"?reportError:function(t){console.error(t)};function I3(t){this._internalRoot=t}q1.prototype.render=I3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));H1(t,e,null,null)};q1.prototype.unmount=I3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$u(function(){H1(null,t,null,null)}),e[Fl]=null}};function q1(t){this._internalRoot=t}q1.prototype.unstable_scheduleHydration=function(t){if(t){var e=HR();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ec.length&&e!==0&&e<Ec[r].priority;r++);Ec.splice(r,0,t),r===0&&zR(t)}};function D3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function z1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VP(){}function CJ(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Jb(o);i.call(d)}}var o=u7(e,n,t,0,null,!1,!1,"",VP);return t._reactRootContainer=o,t[Fl]=o.current,$g(t.nodeType===8?t.parentNode:t),$u(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Jb(c);l.call(d)}}var c=T3(t,0,!1,null,null,!1,!1,"",VP);return t._reactRootContainer=c,t[Fl]=c.current,$g(t.nodeType===8?t.parentNode:t),$u(function(){H1(e,c,r,n)}),c}function V1(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Jb(o);l.call(c)}}H1(e,o,t,a)}else o=CJ(r,e,t,a,n);return Jb(o)}QR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dp(e.pendingLanes);r!==0&&(t3(e,r|1),wa(e,fn()),!(Zt&6)&&(yf=fn()+500,xd()))}break;case 13:$u(function(){var n=Tl(t,1);if(n!==null){var a=Ys();to(n,t,1,a)}}),O3(t,1)}};r3=function(t){if(t.tag===13){var e=Tl(t,134217728);if(e!==null){var r=Ys();to(e,t,134217728,r)}O3(t,134217728)}};$R=function(t){if(t.tag===13){var e=Yc(t),r=Tl(t,e);if(r!==null){var n=Ys();to(r,t,e,n)}O3(t,e)}};HR=function(){return mr};qR=function(t,e){var r=mr;try{return mr=t,e()}finally{mr=r}};nC=function(t,e,r){switch(e){case"input":if(X5(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=D1(n);if(!a)throw Error(Je(90));bR(n),X5(n,a)}}}break;case"textarea":jR(t,r);break;case"select":e=r.value,e!=null&&$h(t,!!r.multiple,e,!1)}};kR=E3;PR=$u;var BJ={usingClientEntryPoint:!1,Events:[cx,bh,D1,SR,ER,E3]},ap={findFiberByHostInstance:cu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SJ={bundleType:ap.bundleType,version:ap.version,rendererPackageName:ap.rendererPackageName,rendererConfig:ap.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OR(t),t===null?null:t.stateNode},findFiberByHostInstance:ap.findFiberByHostInstance||_J,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ry=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ry.isDisabled&&Ry.supportsFiber)try{F1=Ry.inject(SJ),Fo=Ry}catch{}}Ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BJ;Ha.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D3(e))throw Error(Je(200));return NJ(t,e,null,r)};Ha.createRoot=function(t,e){if(!D3(t))throw Error(Je(299));var r=!1,n="",a=A7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=T3(t,1,!1,null,null,r,!1,n,a),t[Fl]=e.current,$g(t.nodeType===8?t.parentNode:t),new I3(e)};Ha.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=OR(e),t=t===null?null:t.stateNode,t};Ha.flushSync=function(t){return $u(t)};Ha.hydrate=function(t,e,r){if(!z1(e))throw Error(Je(200));return V1(null,t,e,!0,r)};Ha.hydrateRoot=function(t,e,r){if(!D3(t))throw Error(Je(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=A7;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=u7(e,null,t,1,r??null,a,!1,i,o),t[Fl]=e.current,$g(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new q1(e)};Ha.render=function(t,e,r){if(!z1(e))throw Error(Je(200));return V1(null,t,e,!1,r)};Ha.unmountComponentAtNode=function(t){if(!z1(t))throw Error(Je(40));return t._reactRootContainer?($u(function(){V1(null,null,t,!1,function(){t._reactRootContainer=null,t[Fl]=null})}),!0):!1};Ha.unstable_batchedUpdates=E3;Ha.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!z1(r))throw Error(Je(200));if(t==null||t._reactInternals===void 0)throw Error(Je(38));return V1(t,e,r,!1,n)};Ha.version="18.3.1-next-f1338f8080-20240426";function h7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h7)}catch(t){console.error(t)}}h7(),hR.exports=Ha;var EJ=hR.exports,KP=EJ;H5.createRoot=KP.createRoot,H5.hydrateRoot=KP.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yg.apply(this,arguments)}var Ic;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ic||(Ic={}));const WP="popstate";function kJ(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return DC("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Zb(a)}return FJ(e,r,null,t)}function Tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function f7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PJ(){return Math.random().toString(36).substr(2,8)}function GP(t,e){return{usr:t.state,key:t.key,idx:e}}function DC(t,e,r,n){return r===void 0&&(r=null),Yg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tm(e):e,{state:r,key:e&&e.key||n||PJ()})}function Zb(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function tm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function FJ(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ic.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Yg({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function A(){l=Ic.Pop;let m=u(),p=m==null?null:m-d;d=m,c&&c({action:l,location:x.location,delta:p})}function h(m,p){l=Ic.Push;let y=DC(x.location,m,p);d=u()+1;let b=GP(y,d),N=x.createHref(y);try{o.pushState(b,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:l,location:x.location,delta:1})}function f(m,p){l=Ic.Replace;let y=DC(x.location,m,p);d=u();let b=GP(y,d),N=x.createHref(y);o.replaceState(b,"",N),i&&c&&c({action:l,location:x.location,delta:0})}function g(m){let p=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof m=="string"?m:Zb(m);return y=y.replace(/ $/,"%20"),Tn(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let x={get action(){return l},get location(){return t(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(WP,A),c=m,()=>{a.removeEventListener(WP,A),c=null}},createHref(m){return e(a,m)},createURL:g,encodeLocation(m){let p=g(m);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(m){return o.go(m)}};return x}var XP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XP||(XP={}));function TJ(t,e,r){return r===void 0&&(r="/"),OJ(t,e,r)}function OJ(t,e,r,n){let a=typeof e=="string"?tm(e):e,i=L3(a.pathname||"/",r);if(i==null)return null;let o=m7(t);IJ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=KJ(i);l=qJ(o[c],d)}return l}function m7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Tn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Zc([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Tn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),m7(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:$J(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of p7(i.path))a(i,o,c)}),e}function p7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=p7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function IJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:HJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const DJ=/^:[\w-]+$/,LJ=3,MJ=2,UJ=1,RJ=10,QJ=-2,YP=t=>t==="*";function $J(t,e){let r=t.split("/"),n=r.length;return r.some(YP)&&(n+=QJ),e&&(n+=MJ),r.filter(a=>!YP(a)).reduce((a,i)=>a+(DJ.test(i)?LJ:i===""?UJ:RJ),n)}function HJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function qJ(t,e,r){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",A=zJ({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!A)return null;Object.assign(a,A.params),o.push({params:a,pathname:Zc([i,A.pathname]),pathnameBase:YJ(Zc([i,A.pathnameBase])),route:h}),A.pathnameBase!=="/"&&(i=Zc([i,A.pathnameBase]))}return o}function zJ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=VJ(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,A)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let x=l[A]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[A];return f&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function VJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),f7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function KJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return f7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function L3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function WJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?tm(t):t;return{pathname:r?r.startsWith("/")?r:GJ(r,e):e,search:JJ(n),hash:ZJ(a)}}function GJ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $N(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function g7(t,e){let r=XJ(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function x7(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=tm(t):(a=Yg({},t),Tn(!a.pathname||!a.pathname.includes("?"),$N("?","pathname","search",a)),Tn(!a.pathname||!a.pathname.includes("#"),$N("#","pathname","hash",a)),Tn(!a.search||!a.search.includes("#"),$N("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let A=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),A-=1;a.pathname=h.join("/")}l=A>=0?e[A]:"/"}let c=WJ(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Zc=t=>t.join("/").replace(/\/\/+/g,"/"),YJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y7=["post","put","patch","delete"];new Set(y7);const tZ=["get",...y7];new Set(tZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jg.apply(this,arguments)}const M3=P.createContext(null),rZ=P.createContext(null),nA=P.createContext(null),K1=P.createContext(null),Kl=P.createContext({outlet:null,matches:[],isDataRoute:!1}),v7=P.createContext(null);function nZ(t,e){let{relative:r}=e===void 0?{}:e;ux()||Tn(!1);let{basename:n,navigator:a}=P.useContext(nA),{hash:i,pathname:o,search:l}=w7(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Zc([n,o])),a.createHref({pathname:c,search:l,hash:i})}function ux(){return P.useContext(K1)!=null}function sA(){return ux()||Tn(!1),P.useContext(K1).location}function b7(t){P.useContext(nA).static||P.useLayoutEffect(t)}function na(){let{isDataRoute:t}=P.useContext(Kl);return t?xZ():sZ()}function sZ(){ux()||Tn(!1);let t=P.useContext(M3),{basename:e,future:r,navigator:n}=P.useContext(nA),{matches:a}=P.useContext(Kl),{pathname:i}=sA(),o=JSON.stringify(g7(a,r.v7_relativeSplatPath)),l=P.useRef(!1);return b7(()=>{l.current=!0}),P.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let A=x7(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Zc([e,A.pathname])),(u.replace?n.replace:n.push)(A,u.state,u)},[e,n,o,i,t])}const aZ=P.createContext(null);function iZ(t){let e=P.useContext(Kl).outlet;return e&&P.createElement(aZ.Provider,{value:t},e)}function U3(){let{matches:t}=P.useContext(Kl),e=t[t.length-1];return e?e.params:{}}function w7(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=P.useContext(nA),{matches:a}=P.useContext(Kl),{pathname:i}=sA(),o=JSON.stringify(g7(a,n.v7_relativeSplatPath));return P.useMemo(()=>x7(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function oZ(t,e){return lZ(t,e)}function lZ(t,e,r,n){ux()||Tn(!1);let{navigator:a}=P.useContext(nA),{matches:i}=P.useContext(Kl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=sA(),u;if(e){var A;let m=typeof e=="string"?tm(e):e;c==="/"||(A=m.pathname)!=null&&A.startsWith(c)||Tn(!1),u=m}else u=d;let h=u.pathname||"/",f=h;if(c!=="/"){let m=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=TJ(t,{pathname:f}),x=hZ(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Zc([c,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Zc([c,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r,n);return e&&x?P.createElement(K1.Provider,{value:{location:Jg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ic.Pop}},x):x}function cZ(){let t=gZ(),e=eZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:a},r):null,null)}const dZ=P.createElement(cZ,null);class uZ extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(Kl.Provider,{value:this.props.routeContext},P.createElement(v7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AZ(t){let{routeContext:e,match:r,children:n}=t,a=P.useContext(M3);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(Kl.Provider,{value:e},n)}function hZ(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(A=>A.route.id&&(l==null?void 0:l[A.route.id])!==void 0);u>=0||Tn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let A=o[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(d=u),A.route.id){let{loaderData:h,errors:f}=r,g=A.route.loader&&h[A.route.id]===void 0&&(!f||f[A.route.id]===void 0);if(A.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,A,h)=>{let f,g=!1,x=null,m=null;r&&(f=l&&A.route.id?l[A.route.id]:void 0,x=A.route.errorElement||dZ,c&&(d<0&&h===0?(yZ("route-fallback"),g=!0,m=null):d===h&&(g=!0,m=A.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,h+1)),y=()=>{let b;return f?b=x:g?b=m:A.route.Component?b=P.createElement(A.route.Component,null):A.route.element?b=A.route.element:b=u,P.createElement(AZ,{match:A,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:b})};return r&&(A.route.ErrorBoundary||A.route.errorElement||h===0)?P.createElement(uZ,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var j7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(j7||{}),N7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(N7||{});function fZ(t){let e=P.useContext(M3);return e||Tn(!1),e}function mZ(t){let e=P.useContext(rZ);return e||Tn(!1),e}function pZ(t){let e=P.useContext(Kl);return e||Tn(!1),e}function _7(t){let e=pZ(),r=e.matches[e.matches.length-1];return r.route.id||Tn(!1),r.route.id}function gZ(){var t;let e=P.useContext(v7),r=mZ(),n=_7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function xZ(){let{router:t}=fZ(j7.UseNavigateStable),e=_7(N7.UseNavigateStable),r=P.useRef(!1);return b7(()=>{r.current=!0}),P.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Jg({fromRouteId:e},i)))},[t,e])}const JP={};function yZ(t,e,r){JP[t]||(JP[t]=!0)}function vZ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bZ(t){return iZ(t.context)}function At(t){Tn(!1)}function wZ(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Ic.Pop,navigator:i,static:o=!1,future:l}=t;ux()&&Tn(!1);let c=e.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:i,static:o,future:Jg({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=tm(n));let{pathname:u="/",search:A="",hash:h="",state:f=null,key:g="default"}=n,x=P.useMemo(()=>{let m=L3(u,c);return m==null?null:{location:{pathname:m,search:A,hash:h,state:f,key:g},navigationType:a}},[c,u,A,h,f,g,a]);return x==null?null:P.createElement(nA.Provider,{value:d},P.createElement(K1.Provider,{children:r,value:x}))}function jZ(t){let{children:e,location:r}=t;return oZ(LC(e),r)}new Promise(()=>{});function LC(t,e){e===void 0&&(e=[]);let r=[];return P.Children.forEach(t,(n,a)=>{if(!P.isValidElement(n))return;let i=[...e,a];if(n.type===P.Fragment){r.push.apply(r,LC(n.props.children,i));return}n.type!==At&&Tn(!1),!n.props.index||!n.props.children||Tn(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=LC(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MC.apply(this,arguments)}function NZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function _Z(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CZ(t,e){return t.button===0&&(!e||e==="_self")&&!_Z(t)}function UC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function BZ(t,e){let r=UC(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const SZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EZ="6";try{window.__reactRouterVersion=EZ}catch{}const kZ="startTransition",ZP=xX[kZ];function PZ(t){let{basename:e,children:r,future:n,window:a}=t,i=P.useRef();i.current==null&&(i.current=kJ({window:a,v5Compat:!0}));let o=i.current,[l,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=P.useCallback(A=>{d&&ZP?ZP(()=>c(A)):c(A)},[c,d]);return P.useLayoutEffect(()=>o.listen(u),[o,u]),P.useEffect(()=>vZ(n),[n]),P.createElement(wZ,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const FZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,so=P.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:A}=e,h=NZ(e,SZ),{basename:f}=P.useContext(nA),g,x=!1;if(typeof d=="string"&&TZ.test(d)&&(g=d,FZ))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),j=L3(N.pathname,f);N.origin===b.origin&&j!=null?d=j+N.search+N.hash:x=!0}catch{}let m=nZ(d,{relative:a}),p=OZ(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:A});function y(b){n&&n(b),b.defaultPrevented||p(b)}return P.createElement("a",MC({},h,{href:g||m,onClick:x||i?n:y,ref:r,target:c}))});var eF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eF||(eF={}));var tF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tF||(tF={}));function OZ(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=na(),d=sA(),u=w7(t,{relative:o});return P.useCallback(A=>{if(CZ(A,r)){A.preventDefault();let h=n!==void 0?n:Zb(d)===Zb(u);c(t,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,t,i,o,l])}function C7(t){let e=P.useRef(UC(t)),r=P.useRef(!1),n=sA(),a=P.useMemo(()=>BZ(n.search,r.current?null:e.current),[n.search]),i=na(),o=P.useCallback((l,c)=>{const d=UC(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const R3=P.createContext({});function Q3(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const $3=typeof window<"u",B7=$3?P.useLayoutEffect:P.useEffect,W1=P.createContext(null);function H3(t,e){t.indexOf(e)===-1&&t.push(e)}function q3(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Il=(t,e,r)=>r>e?e:r<t?t:r;let z3=()=>{};const Dl={},S7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function E7(t){return typeof t=="object"&&t!==null}const k7=t=>/^0[^.\s]+$/u.test(t);function V3(t){let e;return()=>(e===void 0&&(e=t()),e)}const xi=t=>t,IZ=(t,e)=>r=>e(t(r)),Ax=(...t)=>t.reduce(IZ),Zg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class K3{constructor(){this.subscriptions=[]}add(e){return H3(this.subscriptions,e),()=>q3(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oo=t=>t*1e3,Ai=t=>t/1e3;function P7(t,e){return e?t*(1e3/e):0}const F7=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,DZ=1e-7,LZ=12;function MZ(t,e,r,n,a){let i,o,l=0;do o=e+(r-e)/2,i=F7(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>DZ&&++l<LZ);return o}function hx(t,e,r,n){if(t===e&&r===n)return xi;const a=i=>MZ(i,0,1,t,r);return i=>i===0||i===1?i:F7(a(i),e,n)}const T7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,O7=t=>e=>1-t(1-e),I7=hx(.33,1.53,.69,.99),W3=O7(I7),D7=T7(W3),L7=t=>(t*=2)<1?.5*W3(t):.5*(2-Math.pow(2,-10*(t-1))),G3=t=>1-Math.sin(Math.acos(t)),M7=O7(G3),U7=T7(G3),UZ=hx(.42,0,1,1),RZ=hx(0,0,.58,1),R7=hx(.42,0,.58,1),QZ=t=>Array.isArray(t)&&typeof t[0]!="number",Q7=t=>Array.isArray(t)&&typeof t[0]=="number",$Z={linear:xi,easeIn:UZ,easeInOut:R7,easeOut:RZ,circIn:G3,circInOut:U7,circOut:M7,backIn:W3,backInOut:D7,backOut:I7,anticipate:L7},HZ=t=>typeof t=="string",rF=t=>{if(Q7(t)){z3(t.length===4);const[e,r,n,a]=t;return hx(e,r,n,a)}else if(HZ(t))return $Z[t];return t},Qy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qZ(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,A=!1,h=!1)=>{const g=h&&a?r:n;return A&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const zZ=40;function $7(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Qy.reduce((b,N)=>(b[N]=qZ(i),b),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:A,preRender:h,render:f,postRender:g}=o,x=()=>{const b=Dl.useManualTiming?a.timestamp:performance.now();r=!1,Dl.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,zZ),1)),a.timestamp=b,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),A.process(a),h.process(a),f.process(a),g.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(x))},m=()=>{r=!0,n=!0,a.isProcessing||t(x)};return{schedule:Qy.reduce((b,N)=>{const j=o[N];return b[N]=(C,k=!1,_=!1)=>(r||m(),j.schedule(C,k,_)),b},{}),cancel:b=>{for(let N=0;N<Qy.length;N++)o[Qy[N]].cancel(b)},state:a,steps:o}}const{schedule:Hr,cancel:ld,state:As,steps:HN}=$7(typeof requestAnimationFrame<"u"?requestAnimationFrame:xi,!0);let lb;function VZ(){lb=void 0}const ga={now:()=>(lb===void 0&&ga.set(As.isProcessing||Dl.useManualTiming?As.timestamp:performance.now()),lb),set:t=>{lb=t,queueMicrotask(VZ)}},H7=t=>e=>typeof e=="string"&&e.startsWith(t),X3=H7("--"),KZ=H7("var(--"),Y3=t=>KZ(t)?WZ.test(t.split("/*")[0].trim()):!1,WZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},e0={...rm,transform:t=>Il(0,1,t)},$y={...rm,default:1},ig=t=>Math.round(t*1e5)/1e5,J3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GZ(t){return t==null}const XZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z3=(t,e)=>r=>!!(typeof r=="string"&&XZ.test(r)&&r.startsWith(t)||e&&!GZ(r)&&Object.prototype.hasOwnProperty.call(r,e)),q7=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(J3);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},YZ=t=>Il(0,255,t),qN={...rm,transform:t=>Math.round(YZ(t))},Au={test:Z3("rgb","red"),parse:q7("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+qN.transform(t)+", "+qN.transform(e)+", "+qN.transform(r)+", "+ig(e0.transform(n))+")"};function JZ(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const RC={test:Z3("#"),parse:JZ,transform:Au.transform},fx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vc=fx("deg"),Io=fx("%"),Nt=fx("px"),ZZ=fx("vh"),eee=fx("vw"),nF={...Io,parse:t=>Io.parse(t)/100,transform:t=>Io.transform(t*100)},Sh={test:Z3("hsl","hue"),parse:q7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Io.transform(ig(e))+", "+Io.transform(ig(r))+", "+ig(e0.transform(n))+")"},En={test:t=>Au.test(t)||RC.test(t)||Sh.test(t),parse:t=>Au.test(t)?Au.parse(t):Sh.test(t)?Sh.parse(t):RC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Au.transform(t):Sh.transform(t),getAnimatableNone:t=>{const e=En.parse(t);return e.alpha=0,En.transform(e)}},tee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ree(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(J3))==null?void 0:e.length)||0)+(((r=t.match(tee))==null?void 0:r.length)||0)>0}const z7="number",V7="color",nee="var",see="var(",sF="${}",aee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function t0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(aee,c=>(En.test(c)?(n.color.push(i),a.push(V7),r.push(En.parse(c))):c.startsWith(see)?(n.var.push(i),a.push(nee),r.push(c)):(n.number.push(i),a.push(z7),r.push(parseFloat(c))),++i,sF)).split(sF);return{values:r,split:l,indexes:n,types:a}}function K7(t){return t0(t).values}function W7(t){const{split:e,types:r}=t0(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===z7?i+=ig(a[o]):l===V7?i+=En.transform(a[o]):i+=a[o]}return i}}const iee=t=>typeof t=="number"?0:En.test(t)?En.getAnimatableNone(t):t;function oee(t){const e=K7(t);return W7(t)(e.map(iee))}const cd={test:ree,parse:K7,createTransformer:W7,getAnimatableNone:oee};function zN(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function lee({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=zN(c,l,t+1/3),i=zN(c,l,t),o=zN(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function ew(t,e){return r=>r>0?e:t}const Wr=(t,e,r)=>t+(e-t)*r,VN=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},cee=[RC,Au,Sh],dee=t=>cee.find(e=>e.test(t));function aF(t){const e=dee(t);if(!e)return!1;let r=e.parse(t);return e===Sh&&(r=lee(r)),r}const iF=(t,e)=>{const r=aF(t),n=aF(e);if(!r||!n)return ew(t,e);const a={...r};return i=>(a.red=VN(r.red,n.red,i),a.green=VN(r.green,n.green,i),a.blue=VN(r.blue,n.blue,i),a.alpha=Wr(r.alpha,n.alpha,i),Au.transform(a))},QC=new Set(["none","hidden"]);function uee(t,e){return QC.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Aee(t,e){return r=>Wr(t,e,r)}function eE(t){return typeof t=="number"?Aee:typeof t=="string"?Y3(t)?ew:En.test(t)?iF:mee:Array.isArray(t)?G7:typeof t=="object"?En.test(t)?iF:hee:ew}function G7(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>eE(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function hee(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=eE(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function fee(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],l=t.values[o]??0;r[a]=l,n[i]++}return r}const mee=(t,e)=>{const r=cd.createTransformer(e),n=t0(t),a=t0(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?QC.has(t)&&!a.values.length||QC.has(e)&&!n.values.length?uee(t,e):Ax(G7(fee(n,a),a.values),r):ew(t,e)};function X7(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Wr(t,e,r):eE(t)(t,e)}const pee=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Hr.update(e,r),stop:()=>ld(e),now:()=>As.isProcessing?As.timestamp:ga.now()}},Y7=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},tw=2e4;function tE(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<tw;)e+=r,n=t.next(e);return e>=tw?1/0:e}function gee(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(tE(n),tw);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:Ai(a)}}const xee=5;function J7(t,e,r){const n=Math.max(e-xee,0);return P7(r-t(n),e-n)}const sn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KN=.001;function yee({duration:t=sn.duration,bounce:e=sn.bounce,velocity:r=sn.velocity,mass:n=sn.mass}){let a,i,o=1-e;o=Il(sn.minDamping,sn.maxDamping,o),t=Il(sn.minDuration,sn.maxDuration,Ai(t)),o<1?(a=d=>{const u=d*o,A=u*t,h=u-r,f=$C(d,o),g=Math.exp(-A);return KN-h/f*g},i=d=>{const A=d*o*t,h=A*r+r,f=Math.pow(o,2)*Math.pow(d,2)*t,g=Math.exp(-A),x=$C(Math.pow(d,2),o);return(-a(d)+KN>0?-1:1)*((h-f)*g)/x}):(a=d=>{const u=Math.exp(-d*t),A=(d-r)*t+1;return-KN+u*A},i=d=>{const u=Math.exp(-d*t),A=(r-d)*(t*t);return u*A});const l=5/t,c=bee(a,i,l);if(t=Oo(t),isNaN(c))return{stiffness:sn.stiffness,damping:sn.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const vee=12;function bee(t,e,r){let n=r;for(let a=1;a<vee;a++)n=n-t(n)/e(n);return n}function $C(t,e){return t*Math.sqrt(1-e*e)}const wee=["duration","bounce"],jee=["stiffness","damping","mass"];function oF(t,e){return e.some(r=>t[r]!==void 0)}function Nee(t){let e={velocity:sn.velocity,stiffness:sn.stiffness,damping:sn.damping,mass:sn.mass,isResolvedFromDuration:!1,...t};if(!oF(t,jee)&&oF(t,wee))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Il(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:sn.mass,stiffness:a,damping:i}}else{const r=yee(t);e={...e,...r,mass:sn.mass},e.isResolvedFromDuration=!0}return e}function rw(t=sn.visualDuration,e=sn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:A,velocity:h,isResolvedFromDuration:f}=Nee({...r,velocity:-Ai(r.velocity||0)}),g=h||0,x=d/(2*Math.sqrt(c*u)),m=o-i,p=Ai(Math.sqrt(c/u)),y=Math.abs(m)<5;n||(n=y?sn.restSpeed.granular:sn.restSpeed.default),a||(a=y?sn.restDelta.granular:sn.restDelta.default);let b;if(x<1){const j=$C(p,x);b=C=>{const k=Math.exp(-x*p*C);return o-k*((g+x*p*m)/j*Math.sin(j*C)+m*Math.cos(j*C))}}else if(x===1)b=j=>o-Math.exp(-p*j)*(m+(g+p*m)*j);else{const j=p*Math.sqrt(x*x-1);b=C=>{const k=Math.exp(-x*p*C),_=Math.min(j*C,300);return o-k*((g+x*p*m)*Math.sinh(_)+j*m*Math.cosh(_))/j}}const N={calculatedDuration:f&&A||null,next:j=>{const C=b(j);if(f)l.done=j>=A;else{let k=j===0?g:0;x<1&&(k=j===0?Oo(g):J7(b,j,C));const _=Math.abs(k)<=n,B=Math.abs(o-C)<=a;l.done=_&&B}return l.value=l.done?o:C,l},toString:()=>{const j=Math.min(tE(N),tw),C=Y7(k=>N.next(j*k).value,j,30);return j+"ms "+C},toTransition:()=>{}};return N}rw.applyToOptions=t=>{const e=gee(t,100,rw);return t.ease=e.ease,t.duration=Oo(e.duration),t.type="keyframes",t};function HC({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const A=t[0],h={done:!1,value:A},f=_=>l!==void 0&&_<l||c!==void 0&&_>c,g=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let x=r*e;const m=A+x,p=o===void 0?m:o(m);p!==m&&(x=p-A);const y=_=>-x*Math.exp(-_/n),b=_=>p+y(_),N=_=>{const B=y(_),T=b(_);h.done=Math.abs(B)<=d,h.value=h.done?p:T};let j,C;const k=_=>{f(h.value)&&(j=_,C=rw({keyframes:[h.value,g(h.value)],velocity:J7(b,_,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:_=>{let B=!1;return!C&&j===void 0&&(B=!0,N(_),k(_)),j!==void 0&&_>=j?C.next(_-j):(!B&&N(_),h)}}}function _ee(t,e,r){const n=[],a=r||Dl.mix||X7,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||xi:e;l=Ax(c,l)}n.push(l)}return n}function Cee(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(z3(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=_ee(e,n,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let A=0;if(c>1)for(;A<t.length-2&&!(u<t[A+1]);A++);const h=Zg(t[A],t[A+1],u);return l[A](h)};return r?u=>d(Il(t[0],t[i-1],u)):d}function Bee(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=Zg(0,e,n);t.push(Wr(r,1,a))}}function See(t){const e=[0];return Bee(e,t.length-1),e}function Eee(t,e){return t.map(r=>r*e)}function kee(t,e){return t.map(()=>e||R7).splice(0,t.length-1)}function og({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=QZ(n)?n.map(rF):rF(n),i={done:!1,value:e[0]},o=Eee(r&&r.length===e.length?r:See(e),t),l=Cee(o,e,{ease:Array.isArray(a)?a:kee(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Pee=t=>t!==null;function rE(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(Pee),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Fee={decay:HC,inertia:HC,tween:og,keyframes:og,spring:rw};function Z7(t){typeof t.type=="string"&&(t.type=Fee[t.type])}class nE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Tee=t=>t/100;class sE extends nE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==ga.now()&&this.tick(ga.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Z7(e);const{type:r=og,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||og;c!==og&&typeof l[0]!="number"&&(this.mixKeyframes=Ax(Tee,X7(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=tE(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:A,repeatType:h,repeatDelay:f,type:g,onUpdate:x,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const p=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?p<0:p>a;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,N=n;if(A){const _=Math.min(this.currentTime,a)/l;let B=Math.floor(_),T=_%1;!T&&_>=1&&(T=1),T===1&&B--,B=Math.min(B,A+1),!!(B%2)&&(h==="reverse"?(T=1-T,f&&(T-=f/l)):h==="mirror"&&(N=o)),b=Il(0,1,T)*l}const j=y?{done:!1,value:u[0]}:N.next(b);i&&(j.value=i(j.value));let{done:C}=j;!y&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&g!==HC&&(j.value=rE(u,this.options,m,this.speed)),x&&x(j.value),k&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(this.currentTime)}set time(e){var r;e=Oo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ga.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ai(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=pee,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ga.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Oee(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const hu=t=>t*180/Math.PI,qC=t=>{const e=hu(Math.atan2(t[1],t[0]));return zC(e)},Iee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qC,rotateZ:qC,skewX:t=>hu(Math.atan(t[1])),skewY:t=>hu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zC=t=>(t=t%360,t<0&&(t+=360),t),lF=qC,cF=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dF=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Dee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cF,scaleY:dF,scale:t=>(cF(t)+dF(t))/2,rotateX:t=>zC(hu(Math.atan2(t[6],t[5]))),rotateY:t=>zC(hu(Math.atan2(-t[2],t[0]))),rotateZ:lF,rotate:lF,skewX:t=>hu(Math.atan(t[4])),skewY:t=>hu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function VC(t){return t.includes("scale")?1:0}function KC(t,e){if(!t||t==="none")return VC(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Dee,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Iee,a=l}if(!a)return VC(e);const i=n[e],o=a[1].split(",").map(Mee);return typeof i=="function"?i(o):o[i]}const Lee=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return KC(r,e)};function Mee(t){return parseFloat(t.trim())}const nm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sm=new Set(nm),uF=t=>t===rm||t===Nt,Uee=new Set(["x","y","z"]),Ree=nm.filter(t=>!Uee.has(t));function Qee(t){const e=[];return Ree.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const _u={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>KC(e,"x"),y:(t,{transform:e})=>KC(e,"y")};_u.translateX=_u.x;_u.translateY=_u.y;const Cu=new Set;let WC=!1,GC=!1,XC=!1;function e$(){if(GC){const t=Array.from(Cu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Qee(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}GC=!1,WC=!1,Cu.forEach(t=>t.complete(XC)),Cu.clear()}function t$(){Cu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(GC=!0)})}function $ee(){XC=!0,t$(),e$(),XC=!1}class aE{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Cu.add(this),WC||(WC=!0,Hr.read(t$),Hr.resolveKeyframes(e$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Oee(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cu.delete(this)}cancel(){this.state==="scheduled"&&(Cu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Hee=t=>t.startsWith("--");function qee(t,e,r){Hee(e)?t.style.setProperty(e,r):t.style[e]=r}const zee=V3(()=>window.ScrollTimeline!==void 0),Vee={};function Kee(t,e){const r=V3(t);return()=>Vee[e]??r()}const r$=Kee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,AF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mp([0,.65,.55,1]),circOut:Mp([.55,0,1,.45]),backIn:Mp([.31,.01,.66,-.59]),backOut:Mp([.33,1.53,.69,.99])};function n$(t,e){if(t)return typeof t=="function"?r$()?Y7(t,e):"ease-out":Q7(t)?Mp(t):Array.isArray(t)?t.map(r=>n$(r,e)||AF.easeOut):AF[t]}function Wee(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:r};c&&(u.offset=c);const A=n$(l,a);Array.isArray(A)&&(u.easing=A);const h={delay:n,duration:a,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),t.animate(u,h)}function s$(t){return typeof t=="function"&&"applyToOptions"in t}function Gee({type:t,...e}){return s$(t)&&r$()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Xee extends nE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,z3(typeof e.type!="string");const d=Gee(e);this.animation=Wee(r,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=rE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):qee(r,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Oo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&zee()?(this.animation.timeline=e,xi):r(this)}}const a$={anticipate:L7,backInOut:D7,circInOut:U7};function Yee(t){return t in a$}function Jee(t){typeof t.ease=="string"&&Yee(t.ease)&&(t.ease=a$[t.ease])}const hF=10;class Zee extends Xee{constructor(e){Jee(e),Z7(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new sE({...o,autoplay:!1}),c=Oo(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-hF).value,l.sample(c).value,hF),l.stop()}}const fF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cd.test(t)||t==="0")&&!t.startsWith("url("));function ete(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function tte(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=fF(a,e),l=fF(i,e);return!o||!l?!1:ete(t)||(r==="spring"||s$(r))&&n}function YC(t){t.duration=0,t.type="keyframes"}const rte=new Set(["opacity","clipPath","filter","transform"]),nte=V3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ste(t){var u;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return nte()&&r&&rte.has(r)&&(r!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const ate=40;class ite extends nE{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...A}){var g;super(),this.stop=()=>{var x,m;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(m=this.keyframeResolver)==null||m.cancel()},this.createdAt=ga.now();const h={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...A},f=(u==null?void 0:u.KeyframeResolver)||aE;this.keyframeResolver=new f(l,(x,m,p)=>this.onKeyframesResolved(x,m,h,!p),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=ga.now(),tte(e,i,o,l)||((Dl.instantAnimations||!c)&&(u==null||u(rE(e,n,r))),e[0]=e[e.length-1],YC(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ate?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},f=!d&&ste(h)?new Zee({...h,element:h.motionValue.owner.current}):new sE(h);f.finished.then(()=>this.notifyFinished()).catch(xi),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),$ee()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ote=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lte(t){const e=ote.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function i$(t,e,r=1){const[n,a]=lte(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return S7(o)?parseFloat(o):o}return Y3(a)?i$(a,e,r+1):a}function iE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const o$=new Set(["width","height","top","left","right","bottom",...nm]),cte={test:t=>t==="auto",parse:t=>t},l$=t=>e=>e.test(t),c$=[rm,Nt,Io,vc,eee,ZZ,cte],mF=t=>c$.find(l$(t));function dte(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||k7(t):!0}const ute=new Set(["brightness","contrast","saturate","opacity"]);function Ate(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(J3)||[];if(!n)return t;const a=r.replace(n,"");let i=ute.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const hte=/\b([a-z-]*)\(.*?\)/gu,JC={...cd,getAnimatableNone:t=>{const e=t.match(hte);return e?e.map(Ate).join(" "):t}},pF={...rm,transform:Math.round},fte={rotate:vc,rotateX:vc,rotateY:vc,rotateZ:vc,scale:$y,scaleX:$y,scaleY:$y,scaleZ:$y,skew:vc,skewX:vc,skewY:vc,distance:Nt,translateX:Nt,translateY:Nt,translateZ:Nt,x:Nt,y:Nt,z:Nt,perspective:Nt,transformPerspective:Nt,opacity:e0,originX:nF,originY:nF,originZ:Nt},oE={borderWidth:Nt,borderTopWidth:Nt,borderRightWidth:Nt,borderBottomWidth:Nt,borderLeftWidth:Nt,borderRadius:Nt,radius:Nt,borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomRightRadius:Nt,borderBottomLeftRadius:Nt,width:Nt,maxWidth:Nt,height:Nt,maxHeight:Nt,top:Nt,right:Nt,bottom:Nt,left:Nt,padding:Nt,paddingTop:Nt,paddingRight:Nt,paddingBottom:Nt,paddingLeft:Nt,margin:Nt,marginTop:Nt,marginRight:Nt,marginBottom:Nt,marginLeft:Nt,backgroundPositionX:Nt,backgroundPositionY:Nt,...fte,zIndex:pF,fillOpacity:e0,strokeOpacity:e0,numOctaves:pF},mte={...oE,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:JC,WebkitFilter:JC},d$=t=>mte[t];function u$(t,e){let r=d$(t);return r!==JC&&(r=cd),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const pte=new Set(["auto","none","0"]);function gte(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!pte.has(i)&&t0(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=u$(r,a)}class xte extends aE{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Y3(d))){const u=i$(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!o$.has(n)||e.length!==2)return;const[a,i]=e,o=mF(a),l=mF(i);if(o!==l)if(uF(o)&&uF(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else _u[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||dte(e[a]))&&n.push(a);n.length&&gte(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_u[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=_u[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function yte(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const A$=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function h$(t){return E7(t)&&"offsetHeight"in t}const gF=30,vte=t=>!isNaN(parseFloat(t));class bte{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=ga.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ga.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new K3);const n=this.events[e].add(r);return e==="change"?()=>{n(),Hr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ga.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,gF);return P7(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vf(t,e){return new bte(t,e)}const{schedule:lE}=$7(queueMicrotask,!1),qi={x:!1,y:!1};function f$(){return qi.x||qi.y}function wte(t){return t==="x"||t==="y"?qi[t]?null:(qi[t]=!0,()=>{qi[t]=!1}):qi.x||qi.y?null:(qi.x=qi.y=!0,()=>{qi.x=qi.y=!1})}function m$(t,e){const r=yte(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function xF(t){return!(t.pointerType==="touch"||f$())}function jte(t,e,r={}){const[n,a,i]=m$(t,r),o=l=>{if(!xF(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=A=>{xF(A)&&(d(A),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const p$=(t,e)=>e?t===e?!0:p$(t,e.parentElement):!1,cE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Nte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _te(t){return Nte.has(t.tagName)||t.tabIndex!==-1}const cb=new WeakSet;function yF(t){return e=>{e.key==="Enter"&&t(e)}}function WN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Cte=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=yF(()=>{if(cb.has(r))return;WN(r,"down");const a=yF(()=>{WN(r,"up")}),i=()=>WN(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function vF(t){return cE(t)&&!f$()}function Bte(t,e,r={}){const[n,a,i]=m$(t,r),o=l=>{const c=l.currentTarget;if(!vF(l))return;cb.add(c);const d=e(c,l),u=(f,g)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",h),cb.has(c)&&cb.delete(c),vF(f)&&typeof d=="function"&&d(f,{success:g})},A=f=>{u(f,c===window||c===document||r.useGlobalTarget||p$(c,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",A,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),h$(l)&&(l.addEventListener("focus",d=>Cte(d,a)),!_te(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function g$(t){return E7(t)&&"ownerSVGElement"in t}function Ste(t){return g$(t)&&t.tagName==="svg"}const Ds=t=>!!(t&&t.getVelocity),Ete=[...c$,En,cd],kte=t=>Ete.find(l$(t)),dE=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function bF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pte(...t){return e=>{let r=!1;const n=t.map(a=>{const i=bF(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():bF(t[a],null)}}}}function Fte(...t){return P.useCallback(Pte(...t),t)}class Tte extends P.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=h$(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ote({children:t,isPresent:e,anchorX:r,root:n}){const a=P.useId(),i=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=P.useContext(dE),c=Fte(i,t==null?void 0:t.ref);return P.useInsertionEffect(()=>{const{width:d,height:u,top:A,left:h,right:f}=o.current;if(e||!i.current||!d||!u)return;const g=r==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=a;const x=document.createElement("style");l&&(x.nonce=l);const m=n??document.head;return m.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${A}px !important;
          }
        `),()=>{m.contains(x)&&m.removeChild(x)}},[e]),s.jsx(Tte,{isPresent:e,childRef:i,sizeRef:o,children:P.cloneElement(t,{ref:c})})}const Ite=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=Q3(Dte),u=P.useId();let A=!0,h=P.useMemo(()=>(A=!1,{id:u,initial:e,isPresent:r,custom:a,onExitComplete:f=>{d.set(f,!0);for(const g of d.values())if(!g)return;n&&n()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[r,d,n]);return i&&A&&(h={...h}),P.useMemo(()=>{d.forEach((f,g)=>d.set(g,!1))},[r]),P.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Ote,{isPresent:r,anchorX:l,root:c,children:t})),s.jsx(W1.Provider,{value:h,children:t})};function Dte(){return new Map}function x$(t=!0){const e=P.useContext(W1);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=P.useId();P.useEffect(()=>{if(t)return a(i)},[t]);const o=P.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const Hy=t=>t.key||"";function wF(t){const e=[];return P.Children.forEach(t,r=>{P.isValidElement(r)&&e.push(r)}),e}const it=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=x$(o),A=P.useMemo(()=>wF(t),[t]),h=o&&!d?[]:A.map(Hy),f=P.useRef(!0),g=P.useRef(A),x=Q3(()=>new Map),[m,p]=P.useState(A),[y,b]=P.useState(A);B7(()=>{f.current=!1,g.current=A;for(let C=0;C<y.length;C++){const k=Hy(y[C]);h.includes(k)?x.delete(k):x.get(k)!==!0&&x.set(k,!1)}},[y,h.length,h.join("-")]);const N=[];if(A!==m){let C=[...A];for(let k=0;k<y.length;k++){const _=y[k],B=Hy(_);h.includes(B)||(C.splice(k,0,_),N.push(_))}return i==="wait"&&N.length&&(C=N),b(wF(C)),p(A),null}const{forceRender:j}=P.useContext(R3);return s.jsx(s.Fragment,{children:y.map(C=>{const k=Hy(C),_=o&&!d?!1:A===y||h.includes(k),B=()=>{if(x.has(k))x.set(k,!0);else return;let T=!0;x.forEach(w=>{w||(T=!1)}),T&&(j==null||j(),b(g.current),o&&(u==null||u()),n&&n())};return s.jsx(Ite,{isPresent:_,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:_?void 0:B,anchorX:l,children:C},k)})})},y$=P.createContext({strict:!1}),jF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bf={};for(const t in jF)bf[t]={isEnabled:e=>jF[t].some(r=>!!e[r])};function Lte(t){for(const e in t)bf[e]={...bf[e],...t[e]}}const Mte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Mte.has(t)}let v$=t=>!nw(t);function Ute(t){typeof t=="function"&&(v$=e=>e.startsWith("on")?!nw(e):t(e))}try{Ute(require("@emotion/is-prop-valid").default)}catch{}function Rte(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(v$(a)||r===!0&&nw(a)||!e&&!nw(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const G1=P.createContext({});function X1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function r0(t){return typeof t=="string"||Array.isArray(t)}const uE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AE=["initial",...uE];function Y1(t){return X1(t.animate)||AE.some(e=>r0(t[e]))}function b$(t){return!!(Y1(t)||t.variants)}function Qte(t,e){if(Y1(t)){const{initial:r,animate:n}=t;return{initial:r===!1||r0(r)?r:void 0,animate:r0(n)?n:void 0}}return t.inherit!==!1?e:{}}function $te(t){const{initial:e,animate:r}=Qte(t,P.useContext(G1));return P.useMemo(()=>({initial:e,animate:r}),[NF(e),NF(r)])}function NF(t){return Array.isArray(t)?t.join(" "):t}const n0={};function Hte(t){for(const e in t)n0[e]=t[e],X3(e)&&(n0[e].isCSSVariable=!0)}function w$(t,{layout:e,layoutId:r}){return sm.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!n0[t]||t==="opacity")}const qte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zte=nm.length;function Vte(t,e,r){let n="",a=!0;for(let i=0;i<zte;i++){const o=nm[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=A$(l,oE[o]);if(!c){a=!1;const u=qte[o]||o;n+=`${u}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function hE(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(sm.has(c)){o=!0;continue}else if(X3(c)){a[c]=d;continue}else{const u=A$(d,oE[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(e.transform||(o||r?n.transform=Vte(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const fE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function j$(t,e,r){for(const n in e)!Ds(e[n])&&!w$(n,r)&&(t[n]=e[n])}function Kte({transformTemplate:t},e){return P.useMemo(()=>{const r=fE();return hE(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Wte(t,e){const r=t.style||{},n={};return j$(n,r,t),Object.assign(n,Kte(t,e)),n}function Gte(t,e){const r={},n=Wte(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Xte={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yte={offset:"strokeDashoffset",array:"strokeDasharray"};function Jte(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?Xte:Yte;t[i.offset]=Nt.transform(-n);const o=Nt.transform(e),l=Nt.transform(r);t[i.array]=`${o} ${l}`}function N$(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(hE(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:A,style:h}=t;A.transform&&(h.transform=A.transform,delete A.transform),(h.transform||A.transformOrigin)&&(h.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete A.transformBox),e!==void 0&&(A.x=e),r!==void 0&&(A.y=r),n!==void 0&&(A.scale=n),a!==void 0&&Jte(A,a,i,o,!1)}const _$=()=>({...fE(),attrs:{}}),C$=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Zte(t,e,r,n){const a=P.useMemo(()=>{const i=_$();return N$(i,e,C$(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};j$(i,t.style,t),a.style={...i,...a.style}}return a}const ere=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mE(t){return typeof t!="string"||t.includes("-")?!1:!!(ere.indexOf(t)>-1||/[A-Z]/u.test(t))}function tre(t,e,r,{latestValues:n},a,i=!1){const l=(mE(t)?Zte:Gte)(e,n,a,t),c=Rte(e,typeof t=="string",i),d=t!==P.Fragment?{...c,...l,ref:r}:{},{children:u}=e,A=P.useMemo(()=>Ds(u)?u.get():u,[u]);return P.createElement(t,{...d,children:A})}function _F(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function pE(t,e,r,n){if(typeof e=="function"){const[a,i]=_F(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=_F(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function db(t){return Ds(t)?t.get():t}function rre({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:nre(r,n,a,t),renderState:e()}}function nre(t,e,r,n){const a={},i=n(t,{});for(const h in i)a[h]=db(i[h]);let{initial:o,animate:l}=t;const c=Y1(t),d=b$(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const A=u?l:o;if(A&&typeof A!="boolean"&&!X1(A)){const h=Array.isArray(A)?A:[A];for(let f=0;f<h.length;f++){const g=pE(t,h[f]);if(g){const{transitionEnd:x,transition:m,...p}=g;for(const y in p){let b=p[y];if(Array.isArray(b)){const N=u?b.length-1:0;b=b[N]}b!==null&&(a[y]=b)}for(const y in x)a[y]=x[y]}}}return a}const B$=t=>(e,r)=>{const n=P.useContext(G1),a=P.useContext(W1),i=()=>rre(t,e,n,a);return r?i():Q3(i)};function gE(t,e,r){var i;const{style:n}=t,a={};for(const o in n)(Ds(n[o])||e.style&&Ds(e.style[o])||w$(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const sre=B$({scrapeMotionValuesFromProps:gE,createRenderState:fE});function S$(t,e,r){const n=gE(t,e,r);for(const a in t)if(Ds(t[a])||Ds(e[a])){const i=nm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const are=B$({scrapeMotionValuesFromProps:S$,createRenderState:_$}),ire=Symbol.for("motionComponentSymbol");function Eh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ore(t,e,r){return P.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Eh(r)&&(r.current=n))},[e])}const xE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lre="framerAppearId",E$="data-"+xE(lre),k$=P.createContext({});function cre(t,e,r,n,a){var x,m;const{visualElement:i}=P.useContext(G1),o=P.useContext(y$),l=P.useContext(W1),c=P.useContext(dE).reducedMotion,d=P.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,A=P.useContext(k$);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&dre(d.current,r,a,A);const h=P.useRef(!1);P.useInsertionEffect(()=>{u&&h.current&&u.update(r,l)});const f=r[E$],g=P.useRef(!!f&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,f))&&((m=window.MotionHasOptimisedAnimation)==null?void 0:m.call(window,f)));return B7(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),P.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,f)}),g.current=!1),u.enteringChildren=void 0)}),u}function dre(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:P$(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Eh(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function P$(t){if(t)return t.options.allowProjection!==!1?t.projection:P$(t.parent)}function GN(t,{forwardMotionProps:e=!1}={},r,n){r&&Lte(r);const a=mE(t)?are:sre;function i(l,c){let d;const u={...P.useContext(dE),...l,layoutId:ure(l)},{isStatic:A}=u,h=$te(l),f=a(l,A);if(!A&&$3){Are();const g=hre(u);d=g.MeasureLayout,h.visualElement=cre(t,f,u,n,g.ProjectionNode)}return s.jsxs(G1.Provider,{value:h,children:[d&&h.visualElement?s.jsx(d,{visualElement:h.visualElement,...u}):null,tre(t,l,ore(f,h.visualElement,c),f,A,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=P.forwardRef(i);return o[ire]=t,o}function ure({layoutId:t}){const e=P.useContext(R3).id;return e&&t!==void 0?e+"-"+t:t}function Are(t,e){P.useContext(y$).strict}function hre(t){const{drag:e,layout:r}=bf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function fre(t,e){if(typeof Proxy>"u")return GN;const r=new Map,n=(i,o)=>GN(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,GN(o,void 0,t,e)),r.get(o))})}function F$({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function mre({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pre(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function XN(t){return t===void 0||t===1}function ZC({scale:t,scaleX:e,scaleY:r}){return!XN(t)||!XN(e)||!XN(r)}function Gd(t){return ZC(t)||T$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function T$(t){return CF(t.x)||CF(t.y)}function CF(t){return t&&t!=="0%"}function sw(t,e,r){const n=t-r,a=e*n;return r+a}function BF(t,e,r,n,a){return a!==void 0&&(t=sw(t,a,n)),sw(t,r,n)+e}function e4(t,e=0,r=1,n,a){t.min=BF(t.min,e,r,n,a),t.max=BF(t.max,e,r,n,a)}function O$(t,{x:e,y:r}){e4(t.x,e.translate,e.scale,e.originPoint),e4(t.y,r.translate,r.scale,r.originPoint)}const SF=.999999999999,EF=1.0000000000001;function gre(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ph(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,O$(t,o)),n&&Gd(i.latestValues)&&Ph(t,i.latestValues))}e.x<EF&&e.x>SF&&(e.x=1),e.y<EF&&e.y>SF&&(e.y=1)}function kh(t,e){t.min=t.min+e,t.max=t.max+e}function kF(t,e,r,n,a=.5){const i=Wr(t.min,t.max,a);e4(t,e,r,i,n)}function Ph(t,e){kF(t.x,e.x,e.scaleX,e.scale,e.originX),kF(t.y,e.y,e.scaleY,e.scale,e.originY)}function I$(t,e){return F$(pre(t.getBoundingClientRect(),e))}function xre(t,e,r){const n=I$(t,r),{scroll:a}=e;return a&&(kh(n.x,a.offset.x),kh(n.y,a.offset.y)),n}const PF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fh=()=>({x:PF(),y:PF()}),FF=()=>({min:0,max:0}),An=()=>({x:FF(),y:FF()}),t4={current:null},D$={current:!1};function yre(){if(D$.current=!0,!!$3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>t4.current=t.matches;t.addEventListener("change",e),e()}else t4.current=!1}const vre=new WeakMap;function bre(t,e,r){for(const n in e){const a=e[n],i=r[n];if(Ds(a))t.addValue(n,a);else if(Ds(i))t.addValue(n,vf(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,vf(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const TF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wre{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ga.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Hr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Y1(r),this.isVariantNode=b$(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...A}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in A){const f=A[h];c[h]!==void 0&&Ds(f)&&f.set(c[h])}}mount(e){var r;this.current=e,vre.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),D$.current||yre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:t4.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ld(this.notifyUpdate),ld(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=sm.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Hr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bf){const r=bf[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):An()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<TF.length;n++){const a=TF[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=bre(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=vf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(S7(n)||k7(n))?n=parseFloat(n):!kte(n)&&cd.test(r)&&(n=u$(e,r)),this.setBaseTarget(e,Ds(n)?n.get():n)),Ds(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=pE(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ds(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new K3),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){lE.render(this.render)}}class L$ extends wre{constructor(){super(...arguments),this.KeyframeResolver=xte}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ds(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function M$(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function jre(t){return window.getComputedStyle(t)}class Nre extends L${constructor(){super(...arguments),this.type="html",this.renderInstance=M$}readValueFromInstance(e,r){var n;if(sm.has(r))return(n=this.projection)!=null&&n.isProjecting?VC(r):Lee(e,r);{const a=jre(e),i=(X3(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return I$(e,r)}build(e,r,n){hE(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return gE(e,r,n)}}const U$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _re(t,e,r,n){M$(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(U$.has(a)?a:xE(a),e.attrs[a])}class Cre extends L${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=An}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(sm.has(r)){const n=d$(r);return n&&n.default||0}return r=U$.has(r)?r:xE(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return S$(e,r,n)}build(e,r,n){N$(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){_re(e,r,n,a)}mount(e){this.isSVGTag=C$(e.tagName),super.mount(e)}}const Bre=(t,e)=>mE(t)?new Cre(e):new Nre(e,{allowProjection:t!==P.Fragment});function Wh(t,e,r){const n=t.getProps();return pE(n,e,r!==void 0?r:n.custom,t)}const r4=t=>Array.isArray(t);function Sre(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,vf(r))}function Ere(t){return r4(t)?t[t.length-1]||0:t}function kre(t,e){const r=Wh(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Ere(i[o]);Sre(t,o,l)}}function Pre(t){return!!(Ds(t)&&t.add)}function n4(t,e){const r=t.getValue("willChange");if(Pre(r))return r.add(e);if(!r&&Dl.WillChange){const n=new Dl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function R$(t){return t.props[E$]}const Fre=t=>t!==null;function Tre(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(Fre),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Ore={type:"spring",stiffness:500,damping:25,restSpeed:10},Ire=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Dre={type:"keyframes",duration:.8},Lre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mre=(t,{keyframes:e})=>e.length>2?Dre:sm.has(t)?t.startsWith("scale")?Ire(e[1]):Ore:Lre;function Ure({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const yE=(t,e,r,n={},a,i)=>o=>{const l=iE(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Oo(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:h=>{e.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};Ure(l)||Object.assign(u,Mre(t,u)),u.duration&&(u.duration=Oo(u.duration)),u.repeatDelay&&(u.repeatDelay=Oo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let A=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(YC(u),u.delay===0&&(A=!0)),(Dl.instantAnimations||Dl.skipAnimations)&&(A=!0,YC(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,A&&!i&&e.get()!==void 0){const h=Tre(u.keyframes,l);if(h!==void 0){Hr.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new sE(u):new ite(u)};function Rre({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Q$(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in l){const A=t.getValue(u,t.latestValues[u]??null),h=l[u];if(h===void 0||d&&Rre(d,u))continue;const f={delay:r,...iE(i||{},u)},g=A.get();if(g!==void 0&&!A.isAnimating&&!Array.isArray(h)&&h===g&&!f.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const p=R$(t);if(p){const y=window.MotionHandoffAnimation(p,u,Hr);y!==null&&(f.startTime=y,x=!0)}}n4(t,u),A.start(yE(u,A,h,t.shouldReduceMotion&&o$.has(u)?{type:!1}:f,t,x));const m=A.animation;m&&c.push(m)}return o&&Promise.all(c).then(()=>{Hr.update(()=>{o&&kre(t,o)})}),c}function $$(t,e,r,n=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function s4(t,e,r={}){var c;const n=Wh(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Q$(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:A,staggerDirection:h}=a;return Qre(t,e,d,u,A,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function Qre(t,e,r=0,n=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(s4(c,e,{...o,delay:r+(typeof n=="function"?0:n)+$$(t.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function $re(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>s4(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=s4(t,e,r);else{const a=typeof e=="function"?Wh(t,e,r.custom):e;n=Promise.all(Q$(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function H$(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Hre=AE.length;function q$(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?q$(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Hre;r++){const n=AE[r],a=t.props[n];(r0(a)||a===!1)&&(e[n]=a)}return e}const qre=[...uE].reverse(),zre=uE.length;function Vre(t){return e=>Promise.all(e.map(({animation:r,options:n})=>$re(t,r,n)))}function Kre(t){let e=Vre(t),r=OF(),n=!0;const a=c=>(d,u)=>{var h;const A=Wh(t,u,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(A){const{transition:f,transitionEnd:g,...x}=A;d={...d,...x,...g}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=q$(t.parent)||{},A=[],h=new Set;let f={},g=1/0;for(let m=0;m<zre;m++){const p=qre[m],y=r[p],b=d[p]!==void 0?d[p]:u[p],N=r0(b),j=p===c?y.isActive:null;j===!1&&(g=m);let C=b===u[p]&&b!==d[p]&&N;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...f},!y.isActive&&j===null||!b&&!y.prevProp||X1(b)||typeof b=="boolean")continue;const k=Wre(y.prevProp,b);let _=k||p===c&&y.isActive&&!C&&N||m>g&&N,B=!1;const T=Array.isArray(b)?b:[b];let w=T.reduce(a(p),{});j===!1&&(w={});const{prevResolvedValues:E={}}=y,D={...E,...w},O=M=>{_=!0,h.has(M)&&(B=!0,h.delete(M)),y.needsAnimating[M]=!0;const Q=t.getValue(M);Q&&(Q.liveStyle=!1)};for(const M in D){const Q=w[M],q=E[M];if(f.hasOwnProperty(M))continue;let J=!1;r4(Q)&&r4(q)?J=!H$(Q,q):J=Q!==q,J?Q!=null?O(M):h.add(M):Q!==void 0&&h.has(M)?O(M):y.protectedKeys[M]=!0}y.prevProp=b,y.prevResolvedValues=w,y.isActive&&(f={...f,...w}),n&&t.blockInitialAnimation&&(_=!1);const L=C&&k;_&&(!L||B)&&A.push(...T.map(M=>{const Q={type:p};if(typeof M=="string"&&n&&!L&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,J=Wh(q,M);if(q.enteringChildren&&J){const{delayChildren:ee}=J.transition||{};Q.delay=$$(q.enteringChildren,t,ee)}}return{animation:M,options:Q}}))}if(h.size){const m={};if(typeof d.initial!="boolean"){const p=Wh(t,Array.isArray(d.initial)?d.initial[0]:d.initial);p&&p.transition&&(m.transition=p.transition)}h.forEach(p=>{const y=t.getBaseTarget(p),b=t.getValue(p);b&&(b.liveStyle=!0),m[p]=y??null}),A.push({animation:m})}let x=!!A.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(A):Promise.resolve()}function l(c,d){var A;if(r[c].isActive===d)return Promise.resolve();(A=t.variantChildren)==null||A.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=OF()}}}function Wre(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!H$(e,t):!1}function Ld(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OF(){return{animate:Ld(!0),whileInView:Ld(),whileHover:Ld(),whileTap:Ld(),whileDrag:Ld(),whileFocus:Ld(),exit:Ld()}}class yd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Gre extends yd{constructor(e){super(e),e.animationState||(e.animationState=Kre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();X1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Xre=0;class Yre extends yd{constructor(){super(...arguments),this.id=Xre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Jre={animation:{Feature:Gre},exit:{Feature:Yre}};function s0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function mx(t){return{point:{x:t.pageX,y:t.pageY}}}const Zre=t=>e=>cE(e)&&t(e,mx(e));function lg(t,e,r,n){return s0(t,e,Zre(r),n)}const z$=1e-4,ene=1-z$,tne=1+z$,V$=.01,rne=0-V$,nne=0+V$;function Vs(t){return t.max-t.min}function sne(t,e,r){return Math.abs(t-e)<=r}function IF(t,e,r,n=.5){t.origin=n,t.originPoint=Wr(e.min,e.max,t.origin),t.scale=Vs(r)/Vs(e),t.translate=Wr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=ene&&t.scale<=tne||isNaN(t.scale))&&(t.scale=1),(t.translate>=rne&&t.translate<=nne||isNaN(t.translate))&&(t.translate=0)}function cg(t,e,r,n){IF(t.x,e.x,r.x,n?n.originX:void 0),IF(t.y,e.y,r.y,n?n.originY:void 0)}function DF(t,e,r){t.min=r.min+e.min,t.max=t.min+Vs(e)}function ane(t,e,r){DF(t.x,e.x,r.x),DF(t.y,e.y,r.y)}function LF(t,e,r){t.min=e.min-r.min,t.max=t.min+Vs(e)}function dg(t,e,r){LF(t.x,e.x,r.x),LF(t.y,e.y,r.y)}function si(t){return[t("x"),t("y")]}const K$=({current:t})=>t?t.ownerDocument.defaultView:null,MF=(t,e)=>Math.abs(t-e);function ine(t,e){const r=MF(t.x,e.x),n=MF(t.y,e.y);return Math.sqrt(r**2+n**2)}class W${constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=JN(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=ine(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:x}=h,{timestamp:m}=As;this.history.push({...x,timestamp:m});const{onStart:p,onMove:y}=this.handlers;f||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=YN(f,this.transformPagePoint),Hr.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=JN(h.type==="pointercancel"?this.lastMoveEventInfo:YN(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,p),x&&x(h,p)},!cE(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=mx(e),c=YN(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=As;this.history=[{...d,timestamp:u}];const{onSessionStart:A}=r;A&&A(e,JN(c,this.history)),this.removeListeners=Ax(lg(this.contextWindow,"pointermove",this.handlePointerMove),lg(this.contextWindow,"pointerup",this.handlePointerUp),lg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ld(this.updatePoint)}}function YN(t,e){return e?{point:e(t.point)}:t}function UF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function JN({point:t},e){return{point:t,delta:UF(t,G$(e)),offset:UF(t,one(e)),velocity:lne(e,.1)}}function one(t){return t[0]}function G$(t){return t[t.length-1]}function lne(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=G$(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Oo(e)));)r--;if(!n)return{x:0,y:0};const i=Ai(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cne(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Wr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Wr(r,t,n.max):Math.min(t,r)),t}function RF(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function dne(t,{top:e,left:r,bottom:n,right:a}){return{x:RF(t.x,r,a),y:RF(t.y,e,n)}}function QF(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function une(t,e){return{x:QF(t.x,e.x),y:QF(t.y,e.y)}}function Ane(t,e){let r=.5;const n=Vs(t),a=Vs(e);return a>n?r=Zg(e.min,e.max-n,t.min):n>a&&(r=Zg(t.min,t.max-a,e.min)),Il(0,1,r)}function hne(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const a4=.35;function fne(t=a4){return t===!1?t=0:t===!0&&(t=a4),{x:$F(t,"left","right"),y:$F(t,"top","bottom")}}function $F(t,e,r){return{min:HF(t,e),max:HF(t,r)}}function HF(t,e){return typeof t=="number"?t:t[e]||0}const mne=new WeakMap;class pne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=An(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=A=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(mx(A).point)},o=(A,h)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wte(f),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(p=>{let y=this.getAxisMotionValue(p).get()||0;if(Io.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const N=b.layout.layoutBox[p];N&&(y=Vs(N)*(parseFloat(y)/100))}}this.originPoint[p]=y}),x&&Hr.postRender(()=>x(A,h)),n4(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},l=(A,h)=>{this.latestPointerEvent=A,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:p}=h;if(g&&this.currentDirection===null){this.currentDirection=gne(p),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),m&&m(A,h)},c=(A,h)=>{this.latestPointerEvent=A,this.latestPanInfo=h,this.stop(A,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>si(A=>{var h;return this.getAnimationState(A)==="paused"&&((h=this.getAxisMotionValue(A).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new W$(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:K$(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Hr.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!qy(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=cne(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&Eh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=dne(n.layoutBox,e):this.constraints=!1,this.elastic=fne(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hne(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Eh(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=xre(n,a.root,this.visualElement.getTransformPagePoint());let o=une(a.layout.layoutBox,i);if(r){const l=r(mre(o));this.hasMutatedConstraints=!!l,l&&(o=F$(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=si(u=>{if(!qy(u,r,this.currentDirection))return;let A=c&&c[u]||{};o&&(A={min:0,max:0});const h=a?200:1e6,f=a?40:1e7,g={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...A};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n4(this.visualElement,e),n.start(yE(e,n,0,r,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){si(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){si(r=>{const{drag:n}=this.getProps();if(!qy(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Wr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Eh(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Ane({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),si(o=>{if(!qy(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Wr(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;mne.set(this.visualElement,this);const e=this.visualElement.current,r=lg(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Eh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Hr.read(n);const o=s0(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(si(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=c[u].translate,A.set(A.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=a4,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function qy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function gne(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class xne extends yd{constructor(e){super(e),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new pne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const qF=t=>(e,r)=>{t&&Hr.postRender(()=>t(e,r))};class yne extends yd{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(e){this.session=new W$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:K$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:qF(e),onStart:qF(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Hr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=lg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ub={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zF(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ip={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Nt.test(t))t=parseFloat(t);else return t;const r=zF(t,e.target.x),n=zF(t,e.target.y);return`${r}% ${n}%`}},vne={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=cd.parse(t);if(a.length>5)return n;const i=cd.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Wr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let ZN=!1;class bne extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;Hte(wne),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),ZN&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ub.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,ZN=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Hr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;ZN=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function X$(t){const[e,r]=x$(),n=P.useContext(R3);return s.jsx(bne,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(k$),isPresent:e,safeToRemove:r})}const wne={borderRadius:{...ip,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ip,borderTopRightRadius:ip,borderBottomLeftRadius:ip,borderBottomRightRadius:ip,boxShadow:vne};function jne(t,e,r){const n=Ds(t)?t:vf(t);return n.start(yE("",n,e,r)),n.animation}const Nne=(t,e)=>t.depth-e.depth;class _ne{constructor(){this.children=[],this.isDirty=!1}add(e){H3(this.children,e),this.isDirty=!0}remove(e){q3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nne),this.isDirty=!1,this.children.forEach(e)}}function Cne(t,e){const r=ga.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(ld(n),t(i-e))};return Hr.setup(n,!0),()=>ld(n)}const Y$=["TopLeft","TopRight","BottomLeft","BottomRight"],Bne=Y$.length,VF=t=>typeof t=="string"?parseFloat(t):t,KF=t=>typeof t=="number"||Nt.test(t);function Sne(t,e,r,n,a,i){a?(t.opacity=Wr(0,r.opacity??1,Ene(n)),t.opacityExit=Wr(e.opacity??1,0,kne(n))):i&&(t.opacity=Wr(e.opacity??1,r.opacity??1,n));for(let o=0;o<Bne;o++){const l=`border${Y$[o]}Radius`;let c=WF(e,l),d=WF(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||KF(c)===KF(d)?(t[l]=Math.max(Wr(VF(c),VF(d),n),0),(Io.test(d)||Io.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Wr(e.rotate||0,r.rotate||0,n))}function WF(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ene=J$(0,.5,M7),kne=J$(.5,.95,xi);function J$(t,e,r){return n=>n<t?0:n>e?1:r(Zg(t,e,n))}function GF(t,e){t.min=e.min,t.max=e.max}function Za(t,e){GF(t.x,e.x),GF(t.y,e.y)}function XF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function YF(t,e,r,n,a){return t-=e,t=sw(t,1/r,n),a!==void 0&&(t=sw(t,1/a,n)),t}function Pne(t,e=0,r=1,n=.5,a,i=t,o=t){if(Io.test(e)&&(e=parseFloat(e),e=Wr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Wr(i.min,i.max,n);t===i&&(l-=e),t.min=YF(t.min,e,r,l,a),t.max=YF(t.max,e,r,l,a)}function JF(t,e,[r,n,a],i,o){Pne(t,e[r],e[n],e[a],e.scale,i,o)}const Fne=["x","scaleX","originX"],Tne=["y","scaleY","originY"];function ZF(t,e,r,n){JF(t.x,e,Fne,r?r.x:void 0,n?n.x:void 0),JF(t.y,e,Tne,r?r.y:void 0,n?n.y:void 0)}function eT(t){return t.translate===0&&t.scale===1}function Z$(t){return eT(t.x)&&eT(t.y)}function tT(t,e){return t.min===e.min&&t.max===e.max}function One(t,e){return tT(t.x,e.x)&&tT(t.y,e.y)}function rT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function e9(t,e){return rT(t.x,e.x)&&rT(t.y,e.y)}function nT(t){return Vs(t.x)/Vs(t.y)}function sT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ine{constructor(){this.members=[]}add(e){H3(this.members,e),e.scheduleRender()}remove(e){if(q3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dne(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:A,rotateY:h,skewX:f,skewY:g}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),A&&(n+=`rotateX(${A}deg) `),h&&(n+=`rotateY(${h}deg) `),f&&(n+=`skewX(${f}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const e_=["","X","Y","Z"],Lne=1e3;let Mne=0;function t_(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function t9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=R$(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Hr,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&t9(n)}function r9({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Mne++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qne),this.nodes.forEach(zne),this.nodes.forEach(Vne),this.nodes.forEach($ne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _ne)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new K3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=g$(o)&&!Ste(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,A=0;const h=()=>this.root.updateBlockedByResize=!1;Hr.read(()=>{A=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==A&&(A=f,this.root.updateBlockedByResize=!0,u&&u(),u=Cne(h,250),ub.hasAnimatedSinceResize&&(ub.hasAnimatedSinceResize=!1,this.nodes.forEach(oT)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:A,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Yne,{onLayoutAnimationStart:x,onLayoutAnimationComplete:m}=d.getProps(),p=!this.targetLayout||!e9(this.targetLayout,f),y=!A&&h;if(this.options.layoutRoot||this.resumeFrom||y||A&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...iE(g,"layout"),onPlay:x,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,y)}else A||oT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ld(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&t9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qne),this.nodes.forEach(Une),this.nodes.forEach(Rne)):this.nodes.forEach(iT),this.clearAllSnapshots();const l=ga.now();As.delta=Il(0,1e3/60,l-As.timestamp),As.timestamp=l,As.isProcessing=!0,HN.update.process(As),HN.preRender.process(As),HN.render.process(As),As.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Hne),this.sharedNodes.forEach(Wne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vs(this.snapshot.measuredBox.x)&&!Vs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=An(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Z$(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Gd(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Jne(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return An();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Zne))){const{scroll:u}=this.root;u&&(kh(l.x,u.offset.x),kh(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=An();if(Za(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:A,options:h}=u;u!==this.root&&A&&h.layoutScroll&&(A.wasRoot&&Za(l,o),kh(l.x,A.offset.x),kh(l.y,A.offset.y))}return l}applyTransform(o,l=!1){const c=An();Za(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ph(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Gd(u.latestValues)&&Ph(c,u.latestValues)}return Gd(this.latestValues)&&Ph(c,this.latestValues),c}removeTransform(o){const l=An();Za(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Gd(d.latestValues))continue;ZC(d.latestValues)&&d.updateSnapshot();const u=An(),A=d.measurePageBox();Za(u,A),ZF(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Gd(this.latestValues)&&ZF(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==As.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:A}=this.options;if(!(!this.layout||!(u||A))){if(this.resolvedRelativeTargetAt=As.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=An(),this.relativeTargetOrigin=An(),dg(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=An(),this.targetWithTransforms=An()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ane(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Za(this.target,this.layout.layoutBox),O$(this.target,this.targetDelta)):Za(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=An(),this.relativeTargetOrigin=An(),dg(this.relativeTargetOrigin,this.target,f.target),Za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ZC(this.parent.latestValues)||T$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===As.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Za(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,h=this.treeScale.y;gre(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=An());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XF(this.prevProjectionDelta.x,this.projectionDelta.x),XF(this.prevProjectionDelta.y,this.projectionDelta.y)),cg(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==h||!sT(this.projectionDelta.x,this.prevProjectionDelta.x)||!sT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fh(),this.projectionDelta=Fh(),this.projectionDeltaWithTransform=Fh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},A=Fh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=An(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=f!==g,m=this.getStack(),p=!m||m.members.length<=1,y=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(Xne));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const j=N/1e3;lT(A.x,o.x,j),lT(A.y,o.y,j),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gne(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&One(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=An()),Za(b,this.relativeTarget)),x&&(this.animationValues=u,Sne(u,d,this.latestValues,j,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ld(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hr.update(()=>{ub.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vf(0)),this.currentAnimation=jne(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&n9(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||An();const A=Vs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+A;const h=Vs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Za(l,c),Ph(l,u),cg(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ine),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&t_("z",o,d,this.animationValues);for(let u=0;u<e_.length;u++)t_(`rotate${e_[u]}`,o,d,this.animationValues),t_(`skew${e_[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=db(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=db(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Gd(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let A=Dne(this.projectionDeltaWithTransform,this.treeScale,u);c&&(A=c(u,A)),o.transform=A;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in n0){if(u[g]===void 0)continue;const{correct:x,applyTo:m,isCSSVariable:p}=n0[g],y=A==="none"?u[g]:x(u[g],d);if(m){const b=m.length;for(let N=0;N<b;N++)o[m[N]]=y}else p?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=d===this?db(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(aT),this.root.sharedNodes.clear()}}}function Une(t){t.updateLayout()}function Rne(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?si(A=>{const h=o?e.measuredBox[A]:e.layoutBox[A],f=Vs(h);h.min=n[A].min,h.max=h.min+f}):n9(i,e.layoutBox,n)&&si(A=>{const h=o?e.measuredBox[A]:e.layoutBox[A],f=Vs(n[A]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[A].max=t.relativeTarget[A].min+f)});const l=Fh();cg(l,n,e.layoutBox);const c=Fh();o?cg(c,t.applyTransform(a,!0),e.measuredBox):cg(c,n,e.layoutBox);const d=!Z$(l);let u=!1;if(!t.resumeFrom){const A=t.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:h,layout:f}=A;if(h&&f){const g=An();dg(g,e.layoutBox,h.layoutBox);const x=An();dg(x,n,f.layoutBox),e9(g,x)||(u=!0),A.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=A)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Qne(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $ne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Hne(t){t.clearSnapshot()}function aT(t){t.clearMeasurements()}function iT(t){t.isLayoutDirty=!1}function qne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zne(t){t.resolveTargetDelta()}function Vne(t){t.calcProjection()}function Kne(t){t.resetSkewAndRotation()}function Wne(t){t.removeLeadSnapshot()}function lT(t,e,r){t.translate=Wr(e.translate,0,r),t.scale=Wr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function cT(t,e,r,n){t.min=Wr(e.min,r.min,n),t.max=Wr(e.max,r.max,n)}function Gne(t,e,r,n){cT(t.x,e.x,r.x,n),cT(t.y,e.y,r.y,n)}function Xne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yne={duration:.45,ease:[.4,0,.1,1]},dT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uT=dT("applewebkit/")&&!dT("chrome/")?Math.round:xi;function AT(t){t.min=uT(t.min),t.max=uT(t.max)}function Jne(t){AT(t.x),AT(t.y)}function n9(t,e,r){return t==="position"||t==="preserve-aspect"&&!sne(nT(e),nT(r),.2)}function Zne(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ese=r9({attachResizeListener:(t,e)=>s0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),r_={current:void 0},s9=r9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!r_.current){const t=new ese({});t.mount(window),t.setOptions({layoutScroll:!0}),r_.current=t}return r_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tse={pan:{Feature:yne},drag:{Feature:xne,ProjectionNode:s9,MeasureLayout:X$}};function hT(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Hr.postRender(()=>i(e,mx(e)))}class rse extends yd{mount(){const{current:e}=this.node;e&&(this.unmount=jte(e,(r,n)=>(hT(this.node,n,"Start"),a=>hT(this.node,a,"End"))))}unmount(){}}class nse extends yd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ax(s0(this.node.current,"focus",()=>this.onFocus()),s0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fT(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Hr.postRender(()=>i(e,mx(e)))}class sse extends yd{mount(){const{current:e}=this.node;e&&(this.unmount=Bte(e,(r,n)=>(fT(this.node,n,"Start"),(a,{success:i})=>fT(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const i4=new WeakMap,n_=new WeakMap,ase=t=>{const e=i4.get(t.target);e&&e(t)},ise=t=>{t.forEach(ase)};function ose({root:t,...e}){const r=t||document;n_.has(r)||n_.set(r,{});const n=n_.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(ise,{root:t,...e})),n[a]}function lse(t,e,r){const n=ose(e);return i4.set(t,r),n.observe(t),()=>{i4.delete(t),n.unobserve(t)}}const cse={some:0,all:1};class dse extends yd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:cse[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),h=d?u:A;h&&h(c)};return lse(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(use(e,r))&&this.startObserver()}unmount(){}}function use({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Ase={inView:{Feature:dse},tap:{Feature:sse},focus:{Feature:nse},hover:{Feature:rse}},hse={layout:{ProjectionNode:s9,MeasureLayout:X$}},fse={...Jre,...Ase,...tse,...hse},oe=fre(fse,Bre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pse=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),mT=t=>{const e=pse(t);return e.charAt(0).toUpperCase()+e.slice(1)},a9=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),gse=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>P.createElement("svg",{ref:c,...xse,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:a9("lucide",a),...!i&&!gse(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>P.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(t,e)=>{const r=P.forwardRef(({className:n,...a},i)=>P.createElement(yse,{ref:i,iconNode:e,className:a9(`lucide-${mse(mT(t))}`,`lucide-${t}`,n),...a}));return r.displayName=mT(t),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gh=Ue("activity",vse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],o4=Ue("archive",bse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],vE=Ue("arrow-down-right",wse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],J1=Ue("arrow-down",jse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wl=Ue("arrow-left",Nse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ji=Ue("arrow-right",_se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Z1=Ue("arrow-up-right",Cse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Xh=Ue("arrow-up",Bse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ese=Ue("award",Sse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pse=Ue("ban",kse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],i9=Ue("bell",Fse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Ose=Ue("book",Tse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Dse=Ue("briefcase",Ise);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],yl=Ue("building-2",Lse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Bu=Ue("building",Mse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],l4=Ue("calculator",Use);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jt=Ue("calendar",Rse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],o9=Ue("car",Qse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],fu=Ue("chart-bar",$se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Js=Ue("chart-column",Hse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]],pT=Ue("chart-gantt",qse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],l9=Ue("chart-line",zse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ab=Ue("chart-pie",Vse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fr=Ue("check",Kse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hu=Ue("chevron-down",Wse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aw=Ue("chevron-left",Gse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e2=Ue("chevron-right",Xse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],a0=Ue("chevron-up",Yse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kn=Ue("circle-alert",Jse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Do=Ue("circle-check-big",Zse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],On=Ue("circle-check",eae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c9=Ue("circle-play",tae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],d9=Ue("circle-question-mark",rae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sae=Ue("circle-x",nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ed=Ue("circle",aae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Zs=Ue("clipboard-list",iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mt=Ue("clock",oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],u9=Ue("cloud",lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],dae=Ue("code",cae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qu=Ue("copy",uae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Rr=Ue("credit-card",Aae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],px=Ue("crown",hae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],i0=Ue("database",fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xt=Ue("dollar-sign",mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ps=Ue("download",pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],xae=Ue("ellipsis-vertical",gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vae=Ue("external-link",yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bE=Ue("eye-off",bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xs=Ue("eye",wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],gT=Ue("facebook",jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],c4=Ue("file-check",Nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],A9=Ue("file-down",_ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mt=Ue("file-text",Cae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],wE=Ue("file",Bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],hb=Ue("flag",Sae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],kae=Ue("folder-kanban",Eae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],zy=Ue("folder-open",Pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Tae=Ue("folder-plus",Fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],xT=Ue("folder",Oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jE=Ue("funnel",Iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],yT=Ue("git-branch",Dae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],o0=Ue("globe",Lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Uae=Ue("grip-vertical",Mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Qae=Ue("heart",Rae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Hae=Ue("inbox",$ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ug=Ue("info",qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],vT=Ue("instagram",zae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Yh=Ue("key",Vae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Wae=Ue("layout-grid",Kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Xae=Ue("library",Gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],aA=Ue("list-filter",Yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],s_=Ue("list",Jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gx=Ue("loader",Zae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],h9=Ue("lock-open",eie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yi=Ue("lock",tie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bT=Ue("log-out",rie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yn=Ue("mail",nie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ra=Ue("map-pin",sie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iie=Ue("menu",aie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Su=Ue("message-circle",oie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],d4=Ue("message-square",lie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],die=Ue("mic-off",cie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Aie=Ue("mic",uie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["path",{d:"M5 12h14",key:"1ays0h"}]],l0=Ue("minus",hie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],mie=Ue("monitor",fie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gie=Ue("moon",pie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],c0=Ue("navigation",xie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jt=Ue("package",yie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],t2=Ue("palette",vie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],wie=Ue("paperclip",bie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Nie=Ue("pen",jie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Cie=Ue("phone-off",_ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],qn=Ue("phone",Bie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],wT=Ue("play",Sie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xt=Ue("plus",Eie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zu=Ue("printer",kie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ea=Ue("refresh-cw",Pie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tie=Ue("rotate-ccw",Fie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qt=Ue("save",Oie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zr=Ue("search",Iie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yi=Ue("send",Die);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Mie=Ue("server",Lie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vu=Ue("settings",Uie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],f9=Ue("share-2",Rie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Gr=Ue("shield",Qie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Th=Ue("shopping-cart",$ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],NE=Ue("smartphone",Hie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],zie=Ue("smile",qie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],jT=Ue("snowflake",Vie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],NT=Ue("sparkles",Kie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_T=Ue("square-check-big",Wie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xa=Ue("square-pen",Gie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ks=Ue("star",Xie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jie=Ue("sun",Yie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],eoe=Ue("table",Zie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],roe=Ue("tablet",toe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],u4=Ue("tag",noe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],r2=Ue("target",soe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ct=Ue("trash-2",aoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vl=Ue("trending-down",ioe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jr=Ue("trending-up",ooe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ns=Ue("triangle-alert",loe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],_E=Ue("truck",coe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ag=Ue("upload",doe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Aoe=Ue("user-check",uoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],foe=Ue("user-cog",hoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],m9=Ue("user-plus",moe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],goe=Ue("user-x",poe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vn=Ue("user",xoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kt=Ue("users",yoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],a_=Ue("video",voe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],CT=Ue("video-off",boe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],joe=Ue("volume-2",woe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],_oe=Ue("wallet",Noe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Boe=Ue("wrench",Coe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dt=Ue("x",Soe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ll=Ue("zap",Eoe),koe=()=>s.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 flex items-center justify-center z-50",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full blur-xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"text-center z-10",children:[s.jsx(oe.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut",type:"spring",stiffness:100},className:"flex items-center justify-center mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(oe.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:s.jsx(Zs,{className:"h-10 w-10 text-white"})}),s.jsx(oe.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.5},className:"absolute -bottom-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center",children:s.jsx(jt,{className:"h-4 w-4 text-white"})})]})}),s.jsx(oe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"text-4xl font-bold text-white mb-4",children:"Sistema OS"}),s.jsx(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"text-lg text-white/80 mb-8",children:"Gesto integrada de ordens de servio"}),s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},className:"w-64 h-1 bg-white/20 rounded-full overflow-hidden mx-auto",children:s.jsx(oe.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:1.4,duration:1,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-pink-400 to-purple-400 rounded-full"})}),s.jsx(oe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6,duration:.4},className:"text-sm text-white/60 mt-4",children:"Carregando o sistema..."})]})]}),Poe="modulepreload",Foe=function(t){return"/"+t},BT={},dd=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Foe(c),c in BT)return;BT[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const A=document.createElement("link");if(A.rel=d?"stylesheet":Poe,d||(A.as="script"),A.crossOrigin="",A.href=c,l&&A.setAttribute("nonce",l),document.head.appendChild(A),d)return new Promise((h,f)=>{A.addEventListener("load",h),A.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Toe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>dd(async()=>{const{default:n}=await Promise.resolve().then(()=>am);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class CE extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ST extends CE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ET extends CE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kT extends CE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var A4;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(A4||(A4={}));var Ooe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Ioe{constructor(e,{headers:r={},customFetch:n,region:a=A4.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Toe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ooe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let d={},{region:u}=n;u||(u=this.region);const A=new URL(`${this.url}/${r}`);u&&u!=="any"&&(d["x-region"]=u,A.searchParams.set("forceFunctionRegion",u));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(d["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(d["Content-Type"]="application/json",h=JSON.stringify(l)));const f=yield this.fetch(A.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:h,signal:c}).catch(p=>{throw p.name==="AbortError"?p:new ST(p)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new ET(f);if(!f.ok)throw new kT(f);let x=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),m;return x==="application/json"?m=yield f.json():x==="application/octet-stream"?m=yield f.blob():x==="text/event-stream"?m=f:x==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ST(i)}:{data:null,error:i,response:i instanceof kT||i instanceof ET?i.context:void 0}}})}}var fa={},BE={},n2={},xx={},s2={},a2={},Doe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wf=Doe();const Loe=wf.fetch,p9=wf.fetch.bind(wf),g9=wf.Headers,Moe=wf.Request,Uoe=wf.Response,am=Object.freeze(Object.defineProperty({__proto__:null,Headers:g9,Request:Moe,Response:Uoe,default:p9,fetch:Loe},Symbol.toStringTag,{value:"Module"})),Roe=rX(am);var i2={};Object.defineProperty(i2,"__esModule",{value:!0});let Qoe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};i2.default=Qoe;var x9=Is&&Is.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(a2,"__esModule",{value:!0});const $oe=x9(Roe),Hoe=x9(i2);let qoe=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$oe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,A=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?A=y:A=JSON.parse(y))}const m=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(u={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,h=null,f=406,g="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(A=[],u=null,f=200,g="OK")}catch{i.status===404&&m===""?(f=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new Hoe.default(u)}return{error:u,data:A,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};a2.default=qoe;var zoe=Is&&Is.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s2,"__esModule",{value:!0});const Voe=zoe(a2);let Koe=class extends Voe.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};s2.default=Koe;var Woe=Is&&Is.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xx,"__esModule",{value:!0});const Goe=Woe(s2);let Xoe=class extends Goe.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};xx.default=Xoe;var Yoe=Is&&Is.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n2,"__esModule",{value:!0});const op=Yoe(xx);let Joe=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,r){const{head:n=!1,count:a}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new op.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new op.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new op.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new op.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new op.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};n2.default=Joe;var y9=Is&&Is.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(BE,"__esModule",{value:!0});const Zoe=y9(n2),ele=y9(xx);let tle=class v9{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new Zoe.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new v9(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([A,h])=>h!==void 0).map(([A,h])=>[A,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([A,h])=>{c.searchParams.append(A,h)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new ele.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};BE.default=tle;var im=Is&&Is.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fa,"__esModule",{value:!0});fa.PostgrestError=fa.PostgrestBuilder=fa.PostgrestTransformBuilder=fa.PostgrestFilterBuilder=fa.PostgrestQueryBuilder=fa.PostgrestClient=void 0;const b9=im(BE);fa.PostgrestClient=b9.default;const w9=im(n2);fa.PostgrestQueryBuilder=w9.default;const j9=im(xx);fa.PostgrestFilterBuilder=j9.default;const N9=im(s2);fa.PostgrestTransformBuilder=N9.default;const _9=im(a2);fa.PostgrestBuilder=_9.default;const C9=im(i2);fa.PostgrestError=C9.default;var rle=fa.default={PostgrestClient:b9.default,PostgrestQueryBuilder:w9.default,PostgrestFilterBuilder:j9.default,PostgrestTransformBuilder:N9.default,PostgrestBuilder:_9.default,PostgrestError:C9.default};const{PostgrestClient:nle,PostgrestQueryBuilder:XHe,PostgrestFilterBuilder:YHe,PostgrestTransformBuilder:JHe,PostgrestBuilder:ZHe,PostgrestError:eqe}=rle;class sle{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ale="2.75.0",ile=`realtime-js/${ale}`,ole="1.0.0",h4=1e4,lle=1e3,cle=100;var hg;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hg||(hg={}));var Rn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Rn||(Rn={}));var Wi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wi||(Wi={}));var f4;(function(t){t.websocket="websocket"})(f4||(f4={}));var su;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(su||(su={}));class dle{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class B9{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Br;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Br||(Br={}));const PT=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=ule(o,t,e,a),i),{}):{}},ule=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?S9(i,o):m4(o)},S9=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mle(e,r)}switch(t){case Br.bool:return Ale(e);case Br.float4:case Br.float8:case Br.int2:case Br.int4:case Br.int8:case Br.numeric:case Br.oid:return hle(e);case Br.json:case Br.jsonb:return fle(e);case Br.timestamp:return ple(e);case Br.abstime:case Br.date:case Br.daterange:case Br.int4range:case Br.int8range:case Br.money:case Br.reltime:case Br.text:case Br.time:case Br.timestamptz:case Br.timetz:case Br.tsrange:case Br.tstzrange:return m4(e);default:return m4(e)}},m4=t=>t,Ale=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hle=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fle=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mle=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>S9(e,l))}return t},ple=t=>typeof t=="string"?t.replace(" ","T"):t,E9=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class i_{constructor(e,r,n={},a=h4){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var FT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(FT||(FT={}));class fg{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fg.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=fg.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=fg.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const A=i[d];if(A){const h=u.map(m=>m.presence_ref),f=A.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),x=A.filter(m=>h.indexOf(m.presence_ref)<0);g.length>0&&(l[d]=g),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const A=e[l].map(f=>f.presence_ref),h=u.filter(f=>A.indexOf(f.presence_ref)<0);e[l].unshift(...h)}n(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(A=>A.presence_ref);d=d.filter(A=>u.indexOf(A.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var TT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(TT||(TT={}));var mg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(mg||(mg={}));var hl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hl||(hl={}));class SE{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new i_(this,Wi.join,this.params,this.timeout),this.rejoinTimer=new B9(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wi.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new fg(this),this.broadcastEndpointURL=E9(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Rn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[mg.PRESENCE]&&this.bindings[mg.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,A={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(hl.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(hl.CLOSED)),this.updateJoinPayload(Object.assign({config:h},A)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e==null||e(hl.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,m=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,p=[];for(let y=0;y<m;y++){const b=x[y],{filter:{event:N,schema:j,table:C,filter:k}}=b,_=f&&f[y];if(_&&_.event===N&&_.schema===j&&_.table===C&&_.filter===k)p.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=Rn.errored,e==null||e(hl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(hl.SUBSCRIBED);return}}).receive("error",f=>{this.state=Rn.errored,e==null||e(hl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Rn.joined&&e===mg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new i_(this,Wi.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new i_(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cle){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Wi;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var g,x,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(x=f.filter)===null||x===void 0?void 0:x.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,x,m,p,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,j=(g=f.filter)===null||g===void 0?void 0:g.event;return N&&((x=r.ids)===null||x===void 0?void 0:x.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const N=(y=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:m,commit_timestamp:p,type:y,errors:b}=g;h=Object.assign(Object.assign({},{schema:x,table:m,commit_timestamp:p,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}f.callback(h,n)})}_isClosed(){return this.state===Rn.closed}_isJoined(){return this.state===Rn.joined}_isJoining(){return this.state===Rn.joining}_isLeaving(){return this.state===Rn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&SE.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wi.close,{},e)}_onError(e){this._on(Wi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=PT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=PT(e.columns,e.old_record)),r}}const o_=()=>{},Vy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gle=[1e3,2e3,5e3,1e4],xle=1e4,yle=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vle{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=h4,this.transport=null,this.heartbeatIntervalMs=Vy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=o_,this.ref=0,this.reconnectTimer=null,this.logger=o_,this.conn=null,this.sendBuffer=[],this.serializer=new dle,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>dd(async()=>{const{default:l}=await Promise.resolve().then(()=>am);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${f4.websocket}`,this.httpEndpoint=E9(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sle.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ole}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hg.connecting:return su.Connecting;case hg.open:return su.Open;case hg.closing:return su.Closing;default:return su.Closed}}isConnected(){return this.connectionState()===su.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new SE(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lle,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([yle],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:ile};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Wi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new B9(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:h4,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Vy.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:o_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:A=>gle[A-1]||xle,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(A,h)=>h(JSON.stringify(A)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class EE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ble extends EE{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class p4 extends EE{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var wle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const k9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>dd(async()=>{const{default:n}=await Promise.resolve().then(()=>am);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jle=()=>wle(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dd(()=>Promise.resolve().then(()=>am),void 0)).Response:Response}),g4=t=>{if(Array.isArray(t))return t.map(r=>g4(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=g4(n)}),e},Nle=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var iA=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const l_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_le=(t,e,r)=>iA(void 0,void 0,void 0,function*(){const n=yield jle();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new ble(l_(a),i,o))}).catch(a=>{e(new p4(l_(a),a))}):e(new p4(l_(t),t))}),Cle=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(Nle(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function yx(t,e,r,n,a,i){return iA(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Cle(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>_le(c,l,n))})})}function iw(t,e,r,n){return iA(this,void 0,void 0,function*(){return yx(t,"GET",e,r,n)})}function Bo(t,e,r,n,a){return iA(this,void 0,void 0,function*(){return yx(t,"POST",e,n,a,r)})}function x4(t,e,r,n,a){return iA(this,void 0,void 0,function*(){return yx(t,"PUT",e,n,a,r)})}function Ble(t,e,r,n){return iA(this,void 0,void 0,function*(){return yx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function P9(t,e,r,n,a){return iA(this,void 0,void 0,function*(){return yx(t,"DELETE",e,n,a,r)})}var Sle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Ele{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Sle(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sn(e))return{data:null,error:e};throw e}})}}var kle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Ple{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new Ele(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return kle(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sn(e))return{data:null,error:e};throw e}})}}var da=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const Fle={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tle{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=k9(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return da(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},OT),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),A=yield(e=="PUT"?x4:Bo)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:A.Id,fullPath:A.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Sn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return da(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return da(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:OT.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const A=yield x4(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:A.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Sn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return da(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Bo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new EE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}update(e,r,n){return da(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return da(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Sn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return da(this,void 0,void 0,function*(){try{return{data:{path:(yield Bo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Sn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return da(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Bo(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Sn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return da(this,void 0,void 0,function*(){try{const a=yield Bo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Sn(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>iw(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Ple(c,this.shouldThrowOnError)}info(e){return da(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield iw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:g4(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}exists(e){return da(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ble(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n)&&n instanceof p4){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return da(this,void 0,void 0,function*(){try{return{data:yield P9(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}})}list(e,r,n){return da(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Fle),r),{prefix:e||""});return{data:yield Bo(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Sn(a))return{data:null,error:a};throw a}})}listV2(e,r){return da(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Bo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ole="2.75.0",Ile={"X-Client-Info":`storage-js/${Ole}`};var qA=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Dle{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ile),r),this.fetch=k9(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qA(this,void 0,void 0,function*(){try{return{data:yield iw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sn(e))return{data:null,error:e};throw e}})}getBucket(e){return qA(this,void 0,void 0,function*(){try{return{data:yield iw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}})}createBucket(e){return qA(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Bo(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Sn(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return qA(this,void 0,void 0,function*(){try{return{data:yield x4(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return qA(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qA(this,void 0,void 0,function*(){try{return{data:yield P9(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}})}}class Lle extends Dle{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new Tle(this.url,this.headers,e,this.fetch)}}const Mle="2.75.0";let Up="";typeof Deno<"u"?Up="deno":typeof document<"u"?Up="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Up="react-native":Up="node";const Ule={"X-Client-Info":`supabase-js-${Up}/${Mle}`},Rle={headers:Ule},Qle={schema:"public"},$le={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hle={};var qle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const zle=t=>{let e;return t?e=t:typeof fetch>"u"?e=p9:e=fetch,(...r)=>e(...r)},Vle=()=>typeof Headers>"u"?g9:Headers,Kle=(t,e,r)=>{const n=zle(r),a=Vle();return(i,o)=>qle(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var Wle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function Gle(t){return t.endsWith("/")?t:t+"/"}function Xle(t,e){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:A}=e,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},A),l),{headers:Object.assign(Object.assign({},(r=A==null?void 0:A.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Wle(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Yle(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gle(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const F9="2.75.0",dh=30*1e3,y4=3,c_=y4*dh,Jle="http://localhost:9999",Zle="supabase.auth.token",ece={"X-Client-Info":`gotrue-js/${F9}`},v4="X-Supabase-Api-Version",T9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rce=10*60*1e3;class d0 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function gt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nce extends d0{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sce(t){return gt(t)&&t.name==="AuthApiError"}class au extends d0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class vd extends d0{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class bc extends vd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ace(t){return gt(t)&&t.name==="AuthSessionMissingError"}class zA extends vd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ky extends vd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wy extends vd{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ice(t){return gt(t)&&t.name==="AuthImplicitGrantRedirectError"}class IT extends vd{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b4 extends vd{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function d_(t){return gt(t)&&t.name==="AuthRetryableFetchError"}class DT extends vd{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class w4 extends vd{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ow="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LT=` 	
\r=`.split(""),oce=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<LT.length;e+=1)t[LT[e].charCodeAt(0)]=-2;for(let e=0;e<ow.length;e+=1)t[ow[e].charCodeAt(0)]=e;return t})();function MT(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ow[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ow[n]),e.queuedBits-=6}}function O9(t,e,r){const n=oce[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function UT(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{dce(o,n,r)};for(let o=0;o<t.length;o+=1)O9(t.charCodeAt(o),a,i);return e.join("")}function lce(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cce(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}lce(n,e)}}function dce(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Jh(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)O9(t.charCodeAt(a),r,n);return new Uint8Array(e)}function uce(t){const e=[];return cce(t,r=>e.push(r)),new Uint8Array(e)}function mu(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>MT(a,r,n)),MT(null,r,n),e.join("")}function Ace(t){return Math.round(Date.now()/1e3)+t}function hce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pa=()=>typeof window<"u"&&typeof document<"u",Md={tested:!1,writable:!1},I9=()=>{if(!Pa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Md.tested)return Md.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Md.tested=!0,Md.writable=!0}catch{Md.tested=!0,Md.writable=!1}return Md.writable};function fce(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const D9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>dd(async()=>{const{default:n}=await Promise.resolve().then(()=>am);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mce=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ud=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mc=async(t,e)=>{await t.removeItem(e)};class o2{constructor(){this.promise=new o2.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}o2.promiseConstructor=Promise;function u_(t){const e=t.split(".");if(e.length!==3)throw new w4("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!tce.test(e[n]))throw new w4("JWT not in base64url format");return{header:JSON.parse(UT(e[0])),payload:JSON.parse(UT(e[1])),signature:Jh(e[2]),raw:{header:e[0],payload:e[1]}}}async function pce(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gce(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function xce(t){return("0"+t.toString(16)).substr(-2)}function yce(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,xce).join("")}async function vce(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function bce(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await vce(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function VA(t,e,r=!1){const n=yce();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await uh(t,`${e}-code-verifier`,a);const i=await bce(n);return[i,n===i?"plain":"s256"]}const wce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jce(t){const e=t.headers.get(v4);if(!e||!e.match(wce))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Nce(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _ce(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function KA(t){if(!Cce.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function A_(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RT(t){return JSON.parse(JSON.stringify(t))}var Bce=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Xd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sce=[502,503,504];async function QT(t){var e;if(!mce(t))throw new b4(Xd(t),0);if(Sce.includes(t.status))throw new b4(Xd(t),t.status);let r;try{r=await t.json()}catch(i){throw new au(Xd(i),i)}let n;const a=jce(t);if(a&&a.getTime()>=T9["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new DT(Xd(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new bc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new DT(Xd(r),t.status,r.weak_password.reasons);throw new nce(Xd(r),t.status||500,n)}const Ece=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function It(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[v4]||(i[v4]=T9["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await kce(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function kce(t,e,r,n,a,i){const o=Ece(e,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new b4(Xd(c),0)}if(l.ok||await QT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await QT(c)}}function $i(t){var e;let r=null;Tce(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Ace(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function $T(t){const e=$i(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Pce(t){return{data:t,error:null}}function Fce(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=Bce(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function HT(t){return t}function Tce(t){return t.access_token&&t.refresh_token&&t.expires_in}const h_=["global","local","others"];var Oce=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Ice{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=D9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=h_[0]){if(h_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${h_.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Oce(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Fce,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(gt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:HT});if(u.error)throw u.error;const A=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);d[`${m}Page`]=x}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},A),d),error:null}}catch(d){if(gt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){KA(e);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){KA(e);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){KA(e);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){KA(e.userId);try{const{data:r,error:n}=await It(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){KA(e.userId),KA(e.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await It(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:HT});if(u.error)throw u.error;const A=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);d[`${m}Page`]=x}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},A),d),error:null}}catch(d){if(gt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await It(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await It(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}}function qT(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const WA={debug:!!(globalThis&&I9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L9 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dce extends L9{}async function Lce(t,e,r){WA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),WA.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){WA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{WA.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw WA.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Dce(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(WA.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Mce(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function M9(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Uce(t){return parseInt(t,16)}function Rce(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Qce(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:A,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=M9(t.address),g=u?`${u}://${n}`:n,x=t.statement?`${t.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${x}`;let p=`URI: ${A}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(p+=`
Expiration Time: ${a.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),d){let y=`
Resources:`;for(const b of d){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}p+=y}return`${m}
${p}`}class Bn extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class lw extends Bn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function $ce({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Bn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(R9(o)){if(i.rp.id!==o)return new Bn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Hce({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Bn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(R9(n)){if(r.rpId!==n)return new Bn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var U9=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class qce{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zce=new qce;function Vce(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=U9(t,["challenge","user","excludeCredentials"]),i=Jh(e).buffer,o=Object.assign(Object.assign({},r),{id:Jh(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Jh(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Kce(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=U9(t,["challenge","allowCredentials"]),a=Jh(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Jh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Wce(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:mu(new Uint8Array(t.response.attestationObject)),clientDataJSON:mu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Gce(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mu(new Uint8Array(a.authenticatorData)),clientDataJSON:mu(new Uint8Array(a.clientDataJSON)),signature:mu(new Uint8Array(a.signature)),userHandle:a.userHandle?mu(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function R9(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zT(){var t,e;return!!(Pa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Xce(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lw("Browser returned unexpected credential type",e)}:{data:null,error:new lw("Empty credential response",e)}}catch(e){return{data:null,error:$ce({error:e,options:t})}}}async function Yce(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lw("Browser returned unexpected credential type",e)}:{data:null,error:new lw("Empty credential response",e)}}catch(e){return{data:null,error:Hce({error:e,options:t})}}}const Jce={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Zce={userVerification:"preferred",hints:["security-key"]};function cw(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=cw(l,o):n[i]=cw(o)}else n[i]=o}return n}function ede(t,e){return cw(Jce,t,e||{})}function tde(t,e){return cw(Zce,t,e||{})}class rde{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=a??zce.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=ede(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:A}=await Xce({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:A}}case"request":{const d=tde(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:A}=await Yce(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:A}}}}catch(o){return gt(o)?{data:null,error:o}:{data:null,error:new au("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new d0("rpId is required for WebAuthn authentication")};try{if(!zT())return{data:null,error:new au("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return gt(o)?{data:null,error:o}:{data:null,error:new au("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new d0("rpId is required for WebAuthn registration")};try{if(!zT())return{data:null,error:new au("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var A;return(A=u.data)===null||A===void 0?void 0:A.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return gt(o)?{data:null,error:o}:{data:null,error:new au("Unexpected error in register",o)}}}}Mce();const nde={url:Jle,storageKey:Zle,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ece,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function VT(t,e,r){return await r()}const GA={};class u0{get jwks(){var e,r;return(r=(e=GA[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){GA[this.storageKey]=Object.assign(Object.assign({},GA[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=GA[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){GA[this.storageKey]=Object.assign(Object.assign({},GA[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=u0.nextInstanceID,u0.nextInstanceID+=1,this.instanceID>0&&Pa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},nde),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ice({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=D9(a.fetch),this.lock=a.lock||VT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Pa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Lce:this.lock=VT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rde(this)},this.persistSession?(a.storage?this.storage=a.storage:I9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=qT(this.memoryStorage)),Pa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${F9}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=fce(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pa()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ice(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return gt(r)?{error:r}:{error:new au("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:$i}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(gt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:u,password:A,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await VA(this.storage,this.storageKey)),i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:A,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:$i})}else if("phone"in e){const{phone:u,password:A,options:h}=e;i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:A,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$i})}else throw new Ky("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(gt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$T})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$T})}else throw new Ky("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zA}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,o,l,c,d,u,A,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:x,wallet:m,statement:p,options:y}=e;let b;if(Pa())if(typeof m=="object")b=m;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")b=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=m}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=M9(j[0]);let k=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const B=await b.request({method:"eth_chainId"});k=Uce(B)}const _={domain:N.host,address:C,statement:p,uri:N.href,version:"1",chainId:k,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Qce(_),g=await b.request({method:"personal_sign",params:[Rce(f),C]})}try{const{data:x,error:m}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$i});if(m)throw m;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new zA}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:m})}catch(x){if(gt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var r,n,a,i,o,l,c,d,u,A,h,f;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:m,wallet:p,statement:y,options:b}=e;let N;if(Pa())if(typeof p=="object")N=p;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))N=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=p}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const C=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((A=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||A===void 0)&&A.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await N.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:m,error:p}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:mu(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:$i});if(p)throw p;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new zA}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:p})}catch(m){if(gt(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const r=await Ud(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$i});if(await mc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zA}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(gt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,l=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$i}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zA}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await VA(this.storage,this.storageKey));const{error:A}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:A}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ky("You must provide either an email or phone number.")}catch(l){if(gt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$i});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(gt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await VA(this.storage,this.storageKey)),await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Pce})}catch(i){if(gt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new bc;const{error:a}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(gt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await It(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:l}=await It(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ky("You must provide either an email or phone number and a type")}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ud(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<c_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ud(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=A_()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pc}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bc}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Pc})})}catch(r){if(gt(r))return ace(r)&&(await this._removeSession(),await mc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new bc;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await VA(this.storage,this.storageKey));const{data:d,error:u}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Pc});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bc;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=u_(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(gt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new bc;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Pa())throw new Wy("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wy(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new IT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wy("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new IT("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Wy("No session defined in URL");const u=Math.round(Date.now()/1e3),A=parseInt(l);let h=u+A;c&&(h=parseInt(c));const f=h-u;f*1e3<=dh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${A}s`);const g=h-A;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:x,error:m}=await this._getUser(i);if(m)throw m;const p={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:A,expires_at:h,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(gt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ud(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(sce(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await mc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=hce(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await VA(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(gt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:A,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=A.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Pa()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(gt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,A=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$i}),{data:h,error:f}=A;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new zA}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(a){if(gt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gce(async a=>(a>0&&await pce(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$i})),(a,i)=>{const o=200*Math.pow(2,a);return i&&d_(i)&&Date.now()+o-n<dh})}catch(n){if(this._debug(r,"error",n),gt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Pa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ud(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ud(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await uh(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:A_()}else if(a&&!a.user&&!a.user){const o=await Ud(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await mc(this.storage,this.storageKey+"-user"),await uh(this.storage,this.storageKey,a)):a.user=A_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<c_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${c_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),d_(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new bc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new o2;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new bc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),gt(i)){const o={data:null,error:i};return d_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=RT(a);await uh(this.storage,this.storageKey,i)}else{const a=RT(r);await uh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await mc(this.storage,this.storageKey),await mc(this.storage,this.storageKey+"-code-verifier"),await mc(this.storage,this.storageKey+"-user"),this.userStorage&&await mc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dh);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/dh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${dh}ms, refresh threshold is ${y4} ticks`),a<=y4&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof L9)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await VA(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await It(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await It(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Wce(e.webauthn.credential_response):Gce(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Vce(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Kce(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=u_(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(A=>A.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+rce>a)return n;const{data:i,error:o}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=u_(n);r!=null&&r.allowExpired||Nce(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const u=_ce(a.alg),A=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,A,o,uce(`${l}.${c}`)))throw new w4("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}}u0.nextInstanceID=0;const sde=u0;class ade extends sde{constructor(e){super(e)}}var ide=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class ode{constructor(e,r,n){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Yle(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Qle,realtime:Hle,auth:Object.assign(Object.assign({},$le),{storageKey:c}),global:Rle},u=Xle(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(A,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Kle(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new nle(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Lle(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ioe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return ide(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,A){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ade({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vle(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lde=(t,e,r)=>new ode(t,e,r);function cde(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cde()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function dde(t){var r;const e=t.tipo_pessoa==="pj";return{id:t.id,name:t.nome_razao||"",email:t.email,phone:t.telefone,address:"",client_type:((r=t.tipo_pessoa)==null?void 0:r.toUpperCase())||"PF",document:e?t.cnpj:t.cpf,company_name:e?t.nome_razao:void 0,notes:t.observacoes,created_at:t.created_at,updated_at:t.updated_at||t.created_at}}function Q9(t,e,r){let n="pending";if(t.status){const o=t.status.toLowerCase();o==="pending"||o.includes("aberta")||o.includes("pendente")?n="pending":o==="in_progress"||o.includes("execuo")||o.includes("agendada")||o.includes("andamento")?n="in_progress":o==="completed"||o.includes("conclu")?n="completed":o==="cancelled"||o.includes("cancel")?n="cancelled":["pending","in_progress","completed","cancelled"].includes(o)&&(n=o)}const a=(r==null?void 0:r.find(o=>o.principal===!0))||(r==null?void 0:r[0]);let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{...t,id:t.id,order_number:t.order_number||t.id,client_id:t.customer_id,client_name:(e==null?void 0:e.nome_razao)||"",client_phone:(e==null?void 0:e.telefone)||"",client_email:e==null?void 0:e.email,client_address:i,client_city:(a==null?void 0:a.cidade)||"",client_state:(a==null?void 0:a.estado)||"",client_cep:(a==null?void 0:a.cep)||"",client_document:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.cnpj:e==null?void 0:e.cpf,client_company_name:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.nome_razao:void 0,description:t.description||"",status:n,created_at:t.opened_at,due_date:t.scheduled_at,scheduled_at:t.scheduled_at,estimated_value:t.total_value,actual_value:t.total_value,notes:t.notes||"",updated_at:t.opened_at}}function $9(t,e,r){let n="pending";if(t.status){const o=t.status.toLowerCase();o==="aberta"||o==="pendente"?n="pending":o==="em andamento"||o==="execuo"?n="in_progress":o==="concluida"||o==="finalizada"?n="completed":o==="cancelada"&&(n="cancelled")}const a=(r==null?void 0:r.find(o=>o.principal===!0))||(r==null?void 0:r[0]);let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{id:t.id,order_number:t.codigo||t.id,client_id:t.customer_id,client_name:(e==null?void 0:e.nome_razao)||"",client_phone:(e==null?void 0:e.telefone)||"",client_email:e==null?void 0:e.email,client_address:i,client_city:(a==null?void 0:a.cidade)||"",client_state:(a==null?void 0:a.estado)||"",client_cep:(a==null?void 0:a.cep)||"",client_document:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.cnpj:e==null?void 0:e.cpf,client_company_name:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.nome_razao:void 0,description:t.descricao||"",status:n,created_at:t.created_at,due_date:t.data,estimated_value:t.total,actual_value:t.total,notes:"",updated_at:t.created_at}}function kE(t){return{id:t.id,name:t.name,category:t.category,quantity:t.quantity||0,min_stock:t.min_quantity||0,price:t.unit_price||t.unit_cost||0,supplier:t.supplier_name||"",sku:t.code,location:t.location,description:t.description,created_at:t.created_at||new Date().toISOString(),updated_at:t.updated_at||new Date().toISOString()}}function H9(t){const e=()=>{const r=Date.now().toString(36),n=Math.random().toString(36).substring(2,7);return`INV-${r}-${n}`.toUpperCase()};return{name:t.name||"",description:t.description||void 0,code:t.sku&&t.sku.trim()!==""?t.sku:e(),category:t.category||void 0,quantity:t.quantity,min_quantity:t.min_stock,unit_price:t.price,unit_cost:t.cost||t.price,location:t.location||void 0,supplier_name:t.supplier||void 0,active:!0}}class ude{constructor(){ot(this,"cache",new Map);ot(this,"defaultTTL",5*60*1e3)}set(e,r,n=this.defaultTTL){this.cache.set(e,{data:r,timestamp:Date.now(),expiresIn:n})}get(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(e),null):r.data:null}invalidate(e){this.cache.delete(e)}invalidatePattern(e){const r=new RegExp(e);Array.from(this.cache.keys()).forEach(n=>{r.test(n)&&this.cache.delete(n)})}clear(){this.cache.clear()}getOrFetch(e,r,n){const a=this.get(e);return a!==null?Promise.resolve(a):r().then(i=>(this.set(e,i,n),i))}}const ao=new ude;class KT extends Error{constructor(e,r,n=500){super(e),this.code=r,this.statusCode=n,this.name="AppError"}}const Ml=t=>{if("code"in t&&"message"in t){const e=t,n={23505:"Este registro j existe no sistema",23503:"No  possvel excluir este registro pois existem dados vinculados",23502:"Campos obrigatrios no foram preenchidos","42P01":"Tabela no encontrada no banco de dados",PGRST116:"Nenhum registro encontrado",42501:"Voc no tem permisso para realizar esta ao"}[e.code]||e.message;return new KT(n,e.code,400)}return new KT(t.message||"Erro desconhecido",void 0,500)},Ade="https://hevvpugkhcmujiyncysq.supabase.co",hde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",pe=lde(Ade,hde,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});let fde=[{id:"1",name:"Instalao de Ar Condicionado Split",category:"Instalao",description:"Instalao completa de ar condicionado split incluindo suporte, tubulao e testes",estimated_time:"3 horas",base_price:350,materials:[{name:"Suporte para Ar Condicionado",quantity:1},{name:"Tubulao de Cobre 3m",quantity:1},{name:"Cabo PP 3x2.5mm 5m",quantity:1}],instructions:["Verificar local de instalao","Instalar suporte da unidade externa","Fixar unidade interna","Conectar tubulao","Fazer conexo eltrica","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Manuteno Preventiva",category:"Manuteno",description:"Limpeza de filtros, verificao de gs e limpeza geral do equipamento",estimated_time:"1.5 horas",base_price:180,materials:[{name:"Produto de Limpeza",quantity:1},{name:"Filtro de Ar",quantity:1}],instructions:["Desligar equipamento","Remover e limpar filtros","Verificar nvel de gs","Limpar serpentinas","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Reparo de Vazamento",category:"Reparo",description:"Identificao e reparo de vazamentos no sistema de refrigerao",estimated_time:"2 horas",base_price:250,materials:[{name:"Gs Refrigerante R410A",quantity:1},{name:"Vedante",quantity:1}],instructions:["Localizar vazamento","Reparar ponto de vazamento","Testar vedao","Recarregar gs","Testar presso"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}],mde=[{id:"1",name:"Joo Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - So Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - So Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",company_name:"Empresa ABC Ltda",trade_name:"ABC Corp",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"},{id:"3",name:"Maria Santos",email:"maria@email.com",phone:"(11) 97777-9012",address:"Rua das Palmeiras, 456 - So Paulo, SP",client_type:"PF",document:"987.654.321-00",created_at:"2023-12-13T08:00:00",updated_at:"2023-12-13T08:00:00"}],pde=[{id:"OS-2023-001",order_number:"OS-2023-001",client_name:"Joo Silva",client_phone:"(11) 99999-1234",client_address:"Rua das Flores, 123",service_type:"Instalao de Ar Condicionado",description:"Instalao de ar condicionado split 12.000 BTUs no quarto principal",priority:"high",status:"in_progress",assigned_to:"Carlos Tcnico",created_at:"2023-12-15T08:00:00",due_date:"2023-12-18",estimated_value:850,notes:"Cliente solicitou instalao urgente. Verificar voltagem antes da instalao.",updated_at:"2023-12-15T08:00:00"}],gde=[{id:"1",name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,min_stock:2,price:1800,supplier:"Fornecedor A",sku:"AC-12000-220",location:"Prateleira A3",description:"Ar condicionado split 12.000 BTUs, 220V",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Suporte para Ar Condicionado",category:"Acessrios",quantity:15,min_stock:5,price:50,supplier:"Fornecedor B",sku:"SUP-AC-001",location:"Prateleira B1",description:"Suporte universal para unidade externa",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Tubulao de Cobre 3m",category:"Materiais",quantity:8,min_stock:3,price:80,supplier:"Fornecedor C",sku:"TUB-CU-3M",location:"Prateleira C2",description:'Tubulao de cobre 1/4" x 3/8" - 3 metros',created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}];const xde=async t=>{try{const{data:e,error:r}=await pe.from("service_orders").insert([{order_number:t.order_number,client_id:t.client_id,client_name:t.client_name,client_phone:t.client_phone,client_address:t.client_address,service_type:t.service_type,description:t.description,priority:t.priority,status:t.status,assigned_to:t.assigned_to,due_date:t.due_date,estimated_value:t.estimated_value,notes:t.notes}]).select().single();if(r)throw Ml(r);return ao.invalidatePattern("service_orders"),e}catch(e){throw Ml(e)}},yde=async()=>ao.getOrFetch("service_orders_v2",async()=>{try{const[t,e,r]=await Promise.all([pe.from("orders").select("*").order("created_at",{ascending:!1}),pe.from("service_orders").select("*").order("created_at",{ascending:!1}),pe.from("customers").select("*")]),n=r.data||[],a=new Map(n.map(o=>[o.id,o])),i=[];return t.data&&t.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push($9(o,l))}),e.data&&e.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(Q9(o,l))}),i.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()),i}catch(t){return console.error("Error fetching service orders:",t),pde}},30*1e3),fb=async t=>{try{const[e,r,n,a,i,o,l,c]=await Promise.all([pe.from("orders").select("*").eq("id",t).maybeSingle(),pe.from("service_orders").select("*").eq("id",t).maybeSingle(),pe.from("customers").select("*"),pe.from("customer_addresses").select("*"),pe.from("service_order_items").select("*, service_catalog:service_catalog_id(id, name, description, base_price)").eq("service_order_id",t),pe.from("service_order_materials").select("*, material:material_id(name, unit)").eq("service_order_id",t),pe.from("service_order_labor").select("*, employee:staff_id(id, name)").eq("service_order_id",t),pe.from("service_order_team").select("*, employee:employee_id(id, name)").eq("service_order_id",t)]),d=n.data||[],u=new Map(d.map(g=>[g.id,g])),A=a.data||[],h=new Map;A.forEach(g=>{h.has(g.customer_id)||h.set(g.customer_id,[]),h.get(g.customer_id).push(g)});let f=null;if(e.data){const g=e.data,x=g.customer_id?u.get(g.customer_id):void 0,m=g.customer_id?h.get(g.customer_id):void 0;f=$9(g,x,m)}if(r.data){const g=r.data,x=g.customer_id?u.get(g.customer_id):void 0,m=g.customer_id?h.get(g.customer_id):void 0;f=Q9(g,x,m)}if(f){const g=new Map,x=new Map;(o.data||[]).forEach(m=>{var y,b;const p=m.service_order_item_id;p&&(g.has(p)||g.set(p,[]),g.get(p).push({nome:m.material_name||m.nome_material||((y=m.material)==null?void 0:y.name)||"Material",quantidade:m.quantity||m.quantidade||0,unidade_medida:m.material_unit||((b=m.material)==null?void 0:b.unit)||"un",preco_unitario:m.unit_sale_price||m.preco_venda||m.unit_price||0,valor_total:m.total_sale_price||m.valor_total||m.total_price||0}))}),(l.data||[]).forEach(m=>{var y;const p=m.service_order_item_id;p&&(x.has(p)||x.set(p,[]),x.get(p).push({nome:m.nome_funcionario||((y=m.employee)==null?void 0:y.name)||"Funcionrio",tempo_minutos:m.tempo_minutos||(m.hours?m.hours*60:0)||0,custo_hora:m.custo_hora||m.hourly_rate||0,custo_total:m.custo_total||m.total_cost||0}))}),f.items=(i.data||[]).map(m=>{var p,y,b,N,j,C;return{id:m.id,service_order_id:m.service_order_id,service_catalog_id:m.service_catalog_id,service_name:((p=m.service_catalog)==null?void 0:p.name)||"",descricao:m.notes||m.descricao||((y=m.service_catalog)==null?void 0:y.description)||((b=m.service_catalog)==null?void 0:b.name)||"",description:m.notes||((N=m.service_catalog)==null?void 0:N.description)||((j=m.service_catalog)==null?void 0:j.name)||"",name:((C=m.service_catalog)==null?void 0:C.name)||"",quantidade:m.quantity||m.quantidade||1,quantity:m.quantity||1,preco_unitario:m.unit_price||m.preco_unitario||0,unit_price:m.unit_price||0,preco_total:m.total_price||m.preco_total||0,total_price:m.total_price||0,tempo_estimado_minutos:m.estimated_duration||m.tempo_estimado_minutos||0,estimated_duration:m.estimated_duration||0,notes:m.notes||"",difficulty_level:m.difficulty_level||1,difficulty_multiplier:m.difficulty_multiplier||1,base_unit_price:m.base_unit_price||m.unit_price||0,materiais:g.get(m.id)||[],funcionarios:x.get(m.id)||[],created_at:m.created_at,updated_at:m.updated_at}}),f.materials=(o.data||[]).map(m=>({id:m.id,service_order_id:m.service_order_id,material_id:m.material_id,material_name:m.material_name,nome:m.material_name,quantity:m.quantity||0,quantidade:m.quantity||0,unit_price:m.unit_price||0,preco_compra_unitario:m.unit_price||0,total_price:m.total_price||0,custo_total:m.total_price||0,notes:m.notes||"",created_at:m.created_at,updated_at:m.updated_at})),f.team=(c.data||[]).map(m=>{var p,y,b,N;return{id:m.id,service_order_id:m.service_order_id,employee_id:m.employee_id,nome:((p=m.employee)==null?void 0:p.name)||"Funcionrio",name:((y=m.employee)==null?void 0:y.name)||"Funcionrio",role:m.role||((b=m.employee)==null?void 0:b.especialidade)||((N=m.employee)==null?void 0:N.role)||"",assigned_at:m.assigned_at,created_at:m.created_at}})}return f}catch(e){return console.error("Error fetching service order by ID:",e),null}},WT=async(t,e)=>{try{const{data:r,error:n}=await pe.from("service_orders").update(e).eq("id",t).select().single();if(n)throw Ml(n);return ao.invalidatePattern("service_orders"),r}catch(r){throw Ml(r)}},q9=async t=>{try{const{error:e}=await pe.from("service_orders").delete().eq("id",t);if(e)throw Ml(e);ao.invalidatePattern("service_orders")}catch(e){throw Ml(e)}},vde=async t=>{try{const e=H9(t),{data:r,error:n}=await pe.from("inventory_items").insert([e]).select().single();if(n)throw Ml(n);return ao.invalidatePattern("inventory"),kE(r)}catch(e){throw Ml(e)}},bde=async()=>ao.getOrFetch("inventory_items",async()=>{try{const{data:t,error:e}=await pe.from("inventory_items").select("*").order("name");if(e)throw Ml(e);return t.map(kE)}catch(t){return console.error("Error fetching inventory items:",t),gde}},5*60*1e3),wde=async(t,e)=>{const r=H9(e),{data:n,error:a}=await pe.from("inventory_items").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating inventory item:",a),a;return ao.invalidatePattern("inventory"),kE(n)},jde=async t=>{const{error:e}=await pe.from("inventory_items").delete().eq("id",t);if(e)throw console.error("Error deleting inventory item:",e),e},Nde=async()=>{const{data:t,error:e}=await pe.from("customers").select("*").order("nome_razao");return e?(console.error("Error fetching clients:",e),mde):t.map(dde)},_de=async t=>{try{const{error:e}=await pe.from("customers").delete().eq("id",t);if(e)throw e.code==="23503"?new Error("No  possvel excluir este cliente pois existem registros vinculados (ordens de servio, contratos, etc). Exclua os registros vinculados primeiro."):e;ao.invalidatePattern("clients"),ao.invalidatePattern("customers")}catch(e){throw console.error("Error deleting client:",e),e}},Cde=async t=>{let e=null;if(t.contract_type){const{data:i}=await pe.from("contract_types").select("id").eq("active",!0).limit(1).maybeSingle();i&&(e=i.id)}const r={customer_id:t.client_id||t.customer_id,contract_number:t.contract_number,start_date:t.start_date,end_date:t.end_date,value:t.value,status:t.status,payment_frequency:t.frequency,notes:t.notes||t.terms_and_conditions,contract_type_id:e},{data:n,error:a}=await pe.from("contracts").insert([r]).select().single();if(a)throw console.error("Error creating contract:",a),a;return n},Bde=async t=>{const{data:e,error:r}=await pe.from("contracts").select("*, customers(*)").eq("customer_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching client contracts:",r),[]):e},Sde=async(t,e)=>{const r={...e,customer_id:e.client_id||e.customer_id};delete r.client_id;const{data:n,error:a}=await pe.from("contracts").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating contract:",a),a;return n},Ede=async t=>{const{error:e}=await pe.from("contracts").delete().eq("id",t);if(e)throw console.error("Error deleting contract:",e),e},kde=async t=>{const e={name:t.name,description:t.description,category:t.category,base_price:t.base_price,active:t.is_active!==void 0?t.is_active:t.active!==void 0?t.active:!0};if(t.estimated_time){const a=parseFloat(t.estimated_time);isNaN(a)||(e.estimated_duration=a)}else t.estimated_duration&&(e.estimated_duration=t.estimated_duration);const{data:r,error:n}=await pe.from("service_catalog").insert([e]).select().single();if(n)throw console.error("Error creating service catalog item:",n),n;return r},Pde=async()=>{const{data:t,error:e}=await pe.from("service_catalog").select("*").eq("active",!0).order("name");return e?(console.error("Error fetching service catalog:",e),fde):t},Fde=async(t,e)=>{const r={};if(e.name!==void 0&&(r.name=e.name),e.description!==void 0&&(r.description=e.description),e.category!==void 0&&(r.category=e.category),e.base_price!==void 0&&(r.base_price=e.base_price),e.is_active!==void 0?r.active=e.is_active:e.active!==void 0&&(r.active=e.active),e.estimated_time){const i=parseFloat(e.estimated_time);isNaN(i)||(r.estimated_duration=i)}else e.estimated_duration!==void 0&&(r.estimated_duration=e.estimated_duration);const{data:n,error:a}=await pe.from("service_catalog").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating service catalog item:",a),a;return n},Tde=async t=>{const{error:e}=await pe.from("service_catalog").delete().eq("id",t);if(e)throw console.error("Error deleting service catalog item:",e),e},Ode=async()=>{const{data:t,error:e}=await pe.from("agenda_events").select("*").order("start_date",{ascending:!0});return e?(console.error("Error fetching agenda events:",e),[]):t},Ide=async t=>{const{data:e,error:r}=await pe.from("agenda_events").insert([t]).select().single();if(r)throw console.error("Error creating agenda event:",r),r;return e},f_=async(t,e)=>{const{data:r,error:n}=await pe.from("agenda_events").update(e).eq("id",t).select().single();if(n)throw console.error("Error updating agenda event:",n),n;return r},Dde=async t=>{const{error:e}=await pe.from("agenda_events").delete().eq("id",t);if(e)throw console.error("Error deleting agenda event:",e),e},z9=P.createContext(void 0),Zr=()=>{const t=P.useContext(z9);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},Lde=({children:t})=>{const[e,r]=P.useState(null),[n,a]=P.useState(null),[i,o]=P.useState(!0);P.useEffect(()=>{const m={id:"mock-admin-id",email:"admin@sistema.com",name:"Administrador",role:"admin",avatar:void 0,status:"active",department_id:void 0,phone:void 0},p={id:"mock-admin-id",email:"admin@sistema.com",aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),app_metadata:{},user_metadata:{}};a(m),r({...m,authUser:p}),o(!1)},[]);const l=(n==null?void 0:n.role)==="admin",c=(n==null?void 0:n.role)==="manager",d=(n==null?void 0:n.role)==="technician",u=(n==null?void 0:n.role)==="external",A=l||c,h=l,f=async(m,p)=>{console.log("Login simulado:",m)},g=async()=>{console.log("Logout simulado")},x=m=>{console.log("Premium feature requested:",m)};return s.jsx(z9.Provider,{value:{user:e,profile:n,isLoading:i,isAdmin:l,isManager:c,isTechnician:d,isExternal:u,isPremium:A,isEnterprise:h,login:f,logout:g,onPremiumFeature:x},children:t})},lp=[{id:"inicio",path:"/",icon:fu,label:"Incio",description:"Pgina inicial do sistema"},{id:"agenda",path:"/calendar",icon:Jt,label:"Agenda",description:"Compromissos e eventos"},{id:"clients",path:"/client-management",icon:kt,label:"Clientes",description:"Gesto de clientes PF/PJ"},{id:"fornecedores",path:"/suppliers",icon:yl,label:"Fornecedores",description:"Gesto de fornecedores"},{id:"compras",path:"/purchasing",icon:Th,label:"Compras",description:"Pedidos e alertas de estoque"},{id:"service-orders",path:"/service-orders",icon:Zs,label:"Ordens de Servio",description:"Gesto de OS"},{id:"rotas",path:"/rotas",icon:c0,label:"Rotas",description:"Rastreamento e gesto de rotas"},{id:"financial",path:"/financial",icon:Xt,label:"Integrao Financeira",description:"Dashboard financeiro integrado"},{id:"gestao-financeira",path:"/financial-management",icon:jr,label:"Gesto Financeira",description:"Receitas, despesas e DRE"},{id:"analise-financeira",path:"/financial-analysis",icon:Gh,label:"Anlise Financeira",description:"EBITDA, ROI, Margens e Grficos"},{id:"categorias-financeiras",path:"/financial-categories",icon:kae,label:"Categorias Financeiras",description:"Categorias e subcategorias"},{id:"contas-bancarias",path:"/bank-accounts",icon:Rr,label:"Contas Bancrias",description:"Gerenciar contas e saldos"},{id:"catalogo",path:"/service-catalog",icon:Boe,label:"Catlogo de Servios",description:"Servios disponveis"},{id:"inventory",path:"/inventory",icon:jt,label:"Estoque",description:"Controle de materiais"},{id:"reports",path:"/reports",icon:Ab,label:"Relatrios",description:"Anlises e dashboards"},{id:"whatsapp-crm",path:"/whatsapp-crm",icon:Su,label:"WhatsApp CRM",description:"Gesto de conversas"},{id:"email",path:"/email/inbox",icon:yn,label:"Email Corporativo",description:"Enviar e receber emails"},{id:"library",path:"/library",icon:Xae,label:"Biblioteca Digital",description:"Documentos e arquivos"},{id:"funcionarios",path:"/funcionarios",icon:foe,label:"Funcionrios",description:"Gesto de funcionrios"},{id:"users",path:"/users",icon:kt,label:"Usurios",description:"Gerenciar usurios"},{id:"access",path:"/access-management",icon:Yh,label:"Gesto de Acessos",description:"Controle de permisses"},{id:"audit",path:"/audit-logs",icon:Gr,label:"Auditoria",description:"Rastreamento de operaes"},{id:"document-templates",path:"/document-templates",icon:mt,label:"Templates de Documentos",description:"Gerenciar templates de OS, contratos e propostas"},{id:"customization",path:"/visual-customization",icon:t2,label:"Personalizao",description:"Customizar interface"},{id:"settings",path:"/settings",icon:Vu,label:"Configuraes",description:"Configuraes gerais"}],Mde=({onCollapse:t})=>{var _;const e=sA(),{user:r,logout:n}=Zr(),[a,i]=P.useState(!1),[o,l]=P.useState(lp),[c,d]=P.useState(null),[u,A]=P.useState(!1),[h,f]=P.useState(0);P.useEffect(()=>{m().catch(T=>{console.error("Failed to load menu order:",T)}),x();const B=setInterval(x,6e4);return()=>clearInterval(B)},[]);const g=()=>(r==null?void 0:r.email)||"default_user",x=async()=>{try{const{data:B,error:T}=await pe.rpc("get_critical_stock_count");!T&&B!==null&&f(B)}catch(B){console.error("Error loading stock alerts:",B)}},m=async()=>{try{const B=g(),{data:T,error:w}=await pe.from("user_menu_order").select("menu_items").eq("user_id",B).maybeSingle();if(w){console.warn("Error loading menu order, using defaults:",w);return}if(T&&T.menu_items&&Array.isArray(T.menu_items)){const E=T.menu_items,D=E.map(L=>lp.find(U=>U.id===L)).filter(L=>L!==void 0),O=lp.filter(L=>!E.includes(L.id));l([...D,...O])}}catch(B){console.error("Error loading menu order, using defaults:",B)}},p=async B=>{try{const T=g(),w=B.map(D=>D.id),{error:E}=await pe.from("user_menu_order").upsert({user_id:T,menu_items:w,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(E)throw E}catch(T){console.error("Error saving menu order:",T)}},y=(B,T)=>{u&&(d(T),B.dataTransfer.effectAllowed="move")},b=B=>{u&&(B.preventDefault(),B.dataTransfer.dropEffect="move")},N=(B,T)=>{if(!u||!c)return;B.preventDefault();const w=o.findIndex(L=>L.id===c),E=o.findIndex(L=>L.id===T);if(w===-1||E===-1)return;const D=[...o],[O]=D.splice(w,1);D.splice(E,0,O),l(D),p(D),d(null)},j=()=>{l(lp),p(lp)},C=()=>{const B=!a;i(B),t==null||t(B)},k=B=>e.pathname===B;return s.jsxs(oe.aside,{initial:{x:0},animate:{width:a?"80px":"280px"},transition:{duration:.3},className:"fixed left-0 top-0 bg-gradient-to-b from-gray-900 to-gray-800 text-white h-screen flex flex-col shadow-2xl z-40",children:[s.jsx("div",{className:"p-4 border-b border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[!a&&s.jsxs(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2",children:[s.jsx(fu,{className:"h-8 w-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"GiarTech"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Sistema Integrado"})]})]}),s.jsx("button",{onClick:C,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:a?s.jsx(e2,{className:"h-5 w-5"}):s.jsx(aw,{className:"h-5 w-5"})})]})}),!a&&s.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>A(!u),className:`text-xs px-3 py-1 rounded transition-colors ${u?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:u?"Salvar Ordem":"Editar Menu"}),u&&s.jsxs("button",{onClick:j,className:"text-xs px-3 py-1 rounded bg-gray-700 text-gray-300 hover:bg-gray-600 flex items-center gap-1",title:"Restaurar ordem padro",children:[s.jsx(Tie,{className:"h-3 w-3"}),"Restaurar"]})]}),u&&s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Arraste os itens para reordenar"})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:o.map(B=>{const T=B.icon,w=k(B.path);return s.jsxs(so,{to:B.path,draggable:u,onDragStart:E=>y(E,B.id),onDragOver:b,onDrop:E=>N(E,B.id),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group relative ${w?"bg-blue-600 text-white shadow-lg":"hover:bg-gray-700 text-gray-300"} ${u?"cursor-move":"cursor-pointer"} ${c===B.id?"opacity-50":""}`,title:a?B.label:"",children:[u&&!a&&s.jsx(Uae,{className:"h-4 w-4 text-gray-400"}),s.jsx(T,{className:`h-5 w-5 ${w?"text-white":"text-gray-400 group-hover:text-white"}`}),!a&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium truncate",children:B.label}),B.id==="compras"&&h>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse",children:h})]}),s.jsx("p",{className:"text-xs opacity-75 truncate",children:B.description})]}),B.id==="compras"&&h>0&&a&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse min-w-[20px] text-center",children:h}),w&&!a&&s.jsx(oe.div,{layoutId:"activeIndicator",className:"absolute right-0 top-0 bottom-0 w-1 bg-white rounded-l"})]},B.id)})}),s.jsx("div",{className:"p-4 border-t border-gray-700",children:a?s.jsx("button",{onClick:n,className:"w-full p-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",title:"Sair",children:s.jsx(bT,{className:"h-5 w-5 mx-auto"})}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-800 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold",children:((_=r==null?void 0:r.name)==null?void 0:_[0])||"U"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:(r==null?void 0:r.name)||"Usurio"}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:(r==null?void 0:r.email)||"user@example.com"})]})]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(bT,{className:"h-5 w-5"}),s.jsx("span",{children:"Sair"})]})]})})]})},St=({children:t})=>{const[e,r]=P.useState(!1),[n,a]=P.useState("calc(100% - 280px)"),[i,o]=P.useState("280px"),l=c=>{r(c)};return P.useEffect(()=>{e?(a("calc(100% - 80px)"),o("80px")):(a("calc(100% - 280px)"),o("280px"))},[e]),P.useEffect(()=>{const c=d=>{d.altKey&&d.key==="h"&&console.log("Quick access activated with Alt+H")};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Mde,{onCollapse:l}),s.jsx("main",{className:"min-h-screen transition-all duration-300",style:{marginLeft:i},children:t||s.jsx(bZ,{})})]})},m_="serviceOrderDraft",Ude=({isOpen:t,onClose:e,onSave:r,orderId:n})=>{const[a,i]=P.useState("dados"),[o,l]=P.useState(!1),[c,d]=P.useState(""),[u,A]=P.useState(""),[h,f]=P.useState(""),[g,x]=P.useState(null),[m,p]=P.useState({customer_id:"",description:"",scheduled_at:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,payment_method:"dinheiro",payment_installments:1,warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",estimated_hours:0,actual_hours:0,title:"",brand:"",model:"",equipment:"",prazo_execucao_dias:15,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",additional_info:""}),[y,b]=P.useState([]),[N,j]=P.useState(null),[C,k]=P.useState([]),[_,B]=P.useState([]),[T,w]=P.useState([]),[E,D]=P.useState([]),[O,L]=P.useState([]),[U,M]=P.useState([]),[Q,q]=P.useState([]),[J,ee]=P.useState([]);P.useEffect(()=>{t?($(),n?R(n):V()):i("dados")},[t,n]),P.useEffect(()=>{t&&!n&&K()},[m,U,Q,J]),P.useEffect(()=>{if(m.customer_id&&y.length>0){const ce=y.find(He=>He.id===m.customer_id);j(ce||null)}},[m.customer_id,y]);const $=async()=>{try{const[ce,He,ge,ue,se,fe]=await Promise.all([pe.from("customers").select("*, customer_addresses(*)").order("nome_razao"),pe.from("materials").select("*").eq("active",!0).order("name"),pe.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),pe.from("bank_accounts").select("*").eq("active",!0).order("account_name"),pe.from("contract_templates").select("*").order("name"),pe.from("service_catalog").select("*, service_catalog_materials(*)").eq("active",!0).order("name")]);b(ce.data||[]),k(He.data||[]),B(ge.data||[]),w(ue.data||[]),D(se.data||[]),L(fe.data||[])}catch(ce){console.error("Error loading data:",ce)}},R=async ce=>{try{l(!0);const[He,ge,ue,se]=await Promise.all([pe.from("service_orders").select("*").eq("id",ce).single(),pe.from("service_order_items").select("*, service_catalog:service_catalog_id(*)").eq("service_order_id",ce),pe.from("service_order_materials").select("*").eq("service_order_id",ce),pe.from("service_order_team").select("*, employee:employee_id(*)").eq("service_order_id",ce)]),fe=He.data;if(fe){if(p({customer_id:fe.customer_id||"",description:fe.description||"",scheduled_at:fe.scheduled_at||"",desconto_percentual:fe.desconto_percentual||0,desconto_valor:fe.desconto_valor||0,show_material_costs:fe.show_material_costs||!1,payment_method:fe.payment_method||"dinheiro",payment_installments:fe.payment_installments||1,warranty_period:fe.warranty_period||90,warranty_type:fe.warranty_type||"days",warranty_terms:fe.warranty_terms||"",bank_account_id:fe.bank_account_id||"",contract_template_id:fe.contract_template_id||"",contract_notes:fe.contract_notes||"",notes:fe.notes||"",estimated_hours:fe.estimated_hours||0,actual_hours:fe.actual_hours||0,title:fe.title||"",brand:fe.brand||"",model:fe.model||"",equipment:fe.equipment||"",prazo_execucao_dias:fe.prazo_execucao_dias||15,relatorio_tecnico:fe.relatorio_tecnico||"",orientacoes_servico:fe.orientacoes_servico||"",escopo_detalhado:fe.escopo_detalhado||"",additional_info:fe.additional_info||""}),ge.data&&ge.data.length>0){const be=ge.data.map(xe=>{var We,qt;const Se=((We=xe.service_catalog)==null?void 0:We.name)||"",Ye=((qt=xe.service_catalog)==null?void 0:qt.description)||"",ve=xe.notes||"",Bt=Se||Ye||ve||"Servio";return{id:xe.id,catalog_service_id:xe.service_catalog_id||"",descricao:Bt,quantidade:xe.quantity||1,preco_unitario:xe.unit_price||0,preco_total:xe.total_price||0,tempo_estimado_minutos:xe.estimated_duration||0,materiais:[],funcionarios:[],custo_materiais:xe.material_cost||0,custo_mao_obra:xe.labor_cost||0,custo_total:(xe.material_cost||0)+(xe.labor_cost||0),lucro:(xe.total_price||0)-((xe.material_cost||0)+(xe.labor_cost||0)),margem_lucro:xe.total_price?(xe.total_price-(xe.material_cost||0)-(xe.labor_cost||0))/xe.total_price*100:0}});M(be)}if(ue.data&&ue.data.length>0){const be=ue.data.map(xe=>({id:xe.id,material_id:xe.material_id,nome:xe.material_name||"",quantidade:xe.quantity||0,unidade_medida:xe.unit||"un",preco_compra_unitario:xe.unit_cost||0,preco_venda_unitario:xe.unit_price||0,custo_total:(xe.unit_cost||0)*(xe.quantity||0),valor_total:(xe.unit_price||0)*(xe.quantity||0),lucro:((xe.unit_price||0)-(xe.unit_cost||0))*(xe.quantity||0)}));q(be)}if(se.data&&se.data.length>0){const be=se.data.map(xe=>{var Se;return{id:xe.id,staff_id:xe.employee_id,nome:((Se=xe.employee)==null?void 0:Se.name)||"",tempo_minutos:xe.hours_worked?xe.hours_worked*60:0,custo_hora:xe.hourly_rate||0,custo_total:(xe.hourly_rate||0)*(xe.hours_worked||0)}});ee(be)}}}catch(He){console.error("Error loading order:",He),alert("Erro ao carregar dados da ordem de servio")}finally{l(!1)}},K=()=>{try{const ce={formData:m,serviceItems:U,globalMaterials:Q,globalLabor:J,timestamp:new Date().toISOString()};localStorage.setItem(m_,JSON.stringify(ce))}catch(ce){console.error("Error saving draft:",ce)}},V=()=>{try{const ce=localStorage.getItem(m_);if(ce){const He=JSON.parse(ce);p(He.formData||m),M(He.serviceItems||[]),q(He.globalMaterials||[]),ee(He.globalLabor||[])}}catch(ce){console.error("Error loading draft:",ce)}},ae=()=>{try{localStorage.removeItem(m_)}catch(ce){console.error("Error clearing draft:",ce)}},Ae=()=>{M([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0},...U])},ne=ce=>{M(U.filter(He=>He.id!==ce))},ie=(ce,He)=>{M(U.map(ge=>{var ue,se;if(ge.id===ce){const fe={...ge,...He};return fe.preco_total=fe.quantidade*fe.preco_unitario,fe.custo_materiais=((ue=fe.materiais)==null?void 0:ue.reduce((be,xe)=>be+xe.custo_total,0))||0,fe.custo_mao_obra=((se=fe.funcionarios)==null?void 0:se.reduce((be,xe)=>be+xe.custo_total,0))||0,fe.custo_total=fe.custo_materiais+fe.custo_mao_obra,fe.lucro=fe.preco_total-fe.custo_total,fe.margem_lucro=fe.custo_total>0?fe.lucro/fe.custo_total*100:0,fe}return ge}))},le=()=>{q([{id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0},...Q])},X=ce=>{q(Q.filter(He=>He.id!==ce))},he=(ce,He)=>{q(Q.map(ge=>{if(ge.id===ce){const ue={...ge,...He};return ue.custo_total=ue.quantidade*ue.preco_compra_unitario,ue.valor_total=ue.quantidade*ue.preco_venda_unitario,ue.lucro=ue.valor_total-ue.custo_total,ue}return ge}))},Me=(ce,He)=>{const ge=C.find(ue=>ue.id===He);ge&&(he(ce,{material_id:He,nome:ge.name,unidade_medida:ge.unit||"UN",preco_compra_unitario:Number(ge.unit_cost)||0,preco_venda_unitario:Number(ge.sale_price)||0}),d(""))},Qe=()=>{ee([{id:crypto.randomUUID(),staff_id:"",nome:"",tempo_minutos:60,custo_hora:0,custo_total:0},...J])},ye=ce=>{ee(J.filter(He=>He.id!==ce))},z=(ce,He)=>{ee(J.map(ge=>{if(ge.id===ce){const ue={...ge,...He},se=ue.tempo_minutos/60;return ue.custo_total=se*ue.custo_hora,ue}return ge}))},ke=(ce,He)=>{const ge=_.find(ue=>ue.id===He);ge&&(z(ce,{staff_id:He,nome:ge.name,custo_hora:Number(ge.custo_hora)||0}),A(""))},Ie=(ce,He)=>{const ge=O.find(ue=>ue.id===He);ge&&(ie(ce,{catalog_service_id:He,descricao:ge.name,preco_unitario:Number(ge.base_price)||0,tempo_estimado_minutos:Number(ge.estimated_time_minutes)||0}),f(""),x(null))},Pe=()=>{const ce=U.reduce((ve,Bt)=>ve+Bt.preco_total,0),He=m.desconto_valor||ce*(m.desconto_percentual/100),ge=U.reduce((ve,Bt)=>ve+Bt.custo_materiais,0),ue=U.reduce((ve,Bt)=>ve+Bt.custo_mao_obra,0),se=Q.reduce((ve,Bt)=>ve+Bt.custo_total,0),fe=J.reduce((ve,Bt)=>ve+Bt.custo_total,0),be=ge+ue+se+fe,xe=ce-He,Se=xe-be,Ye=be>0?Se/be*100:0;return{subtotal:ce,desconto:He,total:xe,custo_total:be,lucro_total:Se,margem_lucro:Ye,custo_total_materiais:ge+se,custo_total_mao_obra:ue+fe,global_materiais:se,global_mao_obra:fe}},Le=async()=>{try{if(!m.customer_id||U.length===0){alert("Selecione um cliente e adicione pelo menos um servio!");return}l(!0);const ce=Pe(),He=m.scheduled_at?new Date(new Date(m.scheduled_at).getTime()+m.warranty_period*(m.warranty_type==="days"?864e5:m.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,ge={customer_id:m.customer_id,description:m.description,scheduled_at:m.scheduled_at||null,status:"aberta",total_value:ce.total,desconto_percentual:m.desconto_percentual,desconto_valor:m.desconto_valor,custo_total_materiais:ce.custo_total_materiais,custo_total_mao_obra:ce.custo_total_mao_obra,custo_total:ce.custo_total,lucro_total:ce.lucro_total,margem_lucro:ce.margem_lucro,show_material_costs:m.show_material_costs,payment_method:m.payment_method,payment_installments:m.payment_installments,bank_account_id:m.bank_account_id||null,warranty_period:m.warranty_period,warranty_type:m.warranty_type,warranty_terms:m.warranty_terms,warranty_end_date:He,contract_template_id:m.contract_template_id||null,contract_notes:m.contract_notes,subtotal:ce.subtotal,discount_amount:ce.desconto,final_total:ce.total,notes:m.notes,client_name:(N==null?void 0:N.nome_razao)||"",client_company_name:(N==null?void 0:N.nome_fantasia)||"",client_cnpj:(N==null?void 0:N.cnpj)||"",client_cpf:(N==null?void 0:N.cpf)||"",client_phone:(N==null?void 0:N.telefone_1)||"",client_email:(N==null?void 0:N.email)||"",client_address:N!=null&&N.endereco_logradouro?`${N.endereco_logradouro}${N.endereco_numero?", "+N.endereco_numero:""}${N.endereco_complemento?" - "+N.endereco_complemento:""}${N.endereco_bairro?", "+N.endereco_bairro:""}`:"",client_city:(N==null?void 0:N.endereco_cidade)||"",client_state:(N==null?void 0:N.endereco_estado)||"",client_cep:(N==null?void 0:N.endereco_cep)||"",payment_methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",payment_pix:(N==null?void 0:N.cnpj)||(N==null?void 0:N.cpf)||"",title:m.title||"",brand:m.brand||"",model:m.model||"",equipment:m.equipment||"",prazo_execucao_dias:m.prazo_execucao_dias||null,relatorio_tecnico:m.relatorio_tecnico||"",orientacoes_servico:m.orientacoes_servico||"",escopo_detalhado:m.escopo_detalhado||"",additional_info:m.additional_info||"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"};let ue=n;if(n){const{error:se}=await pe.from("service_orders").update(ge).eq("id",n);if(se)throw se}else{const{data:se,error:fe}=await pe.from("service_orders").insert([ge]).select().single();if(fe)throw fe;ue=se.id}ae(),r(),e()}catch(ce){console.error("Error saving order:",ce),alert("Erro ao salvar ordem de servio!")}finally{l(!1)}},De=ce=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ce),Ee=Pe();return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(mt,{className:"h-7 w-7"}),n?"Editar Ordem de Servio":"Nova Ordem de Servio"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Preencha os dados em cada aba - salvamento automtico"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Bsicos",icon:ug},{id:"servicos",label:"Servios",icon:jt},{id:"materiais",label:"Materiais",icon:jt},{id:"mao-obra",label:"Mo de Obra",icon:kt},{id:"pagamento",label:"Pagamento",icon:Xt},{id:"garantia",label:"Garantia & Contrato",icon:Gr},{id:"resumo",label:"Resumo Financeiro",icon:l4}].map(ce=>{const He=ce.icon;return s.jsxs("button",{onClick:()=>i(ce.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===ce.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(He,{className:"h-4 w-4"}),ce.label]},ce.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(it,{mode:"wait",children:[a==="dados"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),s.jsxs("select",{value:m.customer_id,onChange:ce=>p({...m,customer_id:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),y.map(ce=>s.jsx("option",{value:ce.id,children:ce.nome_razao},ce.id))]}),N&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"CPF/CNPJ:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:N.cpf_cnpj})]}),N.telefone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Telefone:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:N.telefone})]}),N.email&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Email:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:N.email})]}),N.customer_addresses&&N.customer_addresses.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Endereo:"}),s.jsxs("span",{className:"text-blue-800 ml-2",children:[N.customer_addresses[0].logradouro,", ",N.customer_addresses[0].numero,N.customer_addresses[0].complemento&&`, ${N.customer_addresses[0].complemento}`," - ",N.customer_addresses[0].bairro,", ",N.customer_addresses[0].cidade," - ",N.customer_addresses[0].estado,", CEP: ",N.customer_addresses[0].cep]})]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),s.jsx("input",{type:"datetime-local",value:m.scheduled_at,onChange:ce=>p({...m,scheduled_at:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio Geral"}),s.jsx("textarea",{value:m.description,onChange:ce=>p({...m,description:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrio opcional da OS..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes Internas"}),s.jsx("textarea",{value:m.notes,onChange:ce=>p({...m,notes:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Notas internas (no aparecem para o cliente)..."})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-3 text-blue-700",children:" Informaes do Oramento"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ttulo do Projeto"}),s.jsx("input",{type:"text",value:m.title,onChange:ce=>p({...m,title:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: climatizao apartamento da familia"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),s.jsx("input",{type:"text",value:m.brand,onChange:ce=>p({...m,brand:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Midea"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),s.jsx("input",{type:"text",value:m.model,onChange:ce=>p({...m,model:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: VRF"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Aparelho/Equipamento"}),s.jsx("input",{type:"text",value:m.equipment,onChange:ce=>p({...m,equipment:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: cassete 1 via e hiwall"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execuo (dias)"}),s.jsx("input",{type:"number",value:m.prazo_execucao_dias,onChange:ce=>p({...m,prazo_execucao_dias:parseInt(ce.target.value)||0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"15"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado"}),s.jsx("textarea",{value:m.escopo_detalhado,onChange:ce=>p({...m,escopo_detalhado:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrio detalhada do escopo do projeto..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatrio Tcnico"}),s.jsx("textarea",{value:m.relatorio_tecnico,onChange:ce=>p({...m,relatorio_tecnico:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatrio tcnico do servio..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientaes de Servio"}),s.jsx("textarea",{value:m.orientacoes_servico,onChange:ce=>p({...m,orientacoes_servico:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Orientaes especficas para execuo..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Informaes Adicionais"}),s.jsx("textarea",{value:m.additional_info,onChange:ce=>p({...m,additional_info:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:" Tempo de Execuo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-900",children:"Tempo Previsto (horas)"}),s.jsx("input",{type:"number",value:m.estimated_hours,onChange:ce=>p({...m,estimated_hours:Number(ce.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 4"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Tempo estimado total para execuo da OS"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-green-900",children:"Tempo Real (horas)"}),s.jsx("input",{type:"number",value:m.actual_hours,onChange:ce=>p({...m,actual_hours:Number(ce.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: 3.5"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Tempo real gasto aps concluso"})]})]}),m.estimated_hours>0&&m.actual_hours>0&&s.jsx("div",{className:`mt-3 p-3 rounded-lg ${m.actual_hours<=m.estimated_hours?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:s.jsx("p",{className:`text-sm font-medium ${m.actual_hours<=m.estimated_hours?"text-green-800":"text-red-800"}`,children:m.actual_hours<=m.estimated_hours?" Dentro do prazo estimado!":` ${(m.actual_hours-m.estimated_hours).toFixed(1)}h acima do estimado`})})]})]},"dados"),a==="servicos"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Servios da OS"}),s.jsxs("button",{onClick:Ae,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Adicionar Servio"]})]}),U.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(jt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum servio adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Servio" para comear'})]}),U.map((ce,He)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Servio #",He+1]}),s.jsx("button",{onClick:()=>ne(ce.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-3 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar no Catlogo de Servios"}),s.jsx("input",{type:"text",value:g===ce.id?h:"",onFocus:()=>x(ce.id),onChange:ge=>{x(ce.id),f(ge.target.value)},className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no catlogo..."}),g===ce.id&&h&&O.filter(ge=>ge.name.toLowerCase().includes(h.toLowerCase())||ge.category&&ge.category.toLowerCase().includes(h.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:O.filter(ge=>ge.name.toLowerCase().includes(h.toLowerCase())||ge.category&&ge.category.toLowerCase().includes(h.toLowerCase())).map(ge=>s.jsxs("button",{type:"button",onClick:()=>Ie(ce.id,ge.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:ge.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsx("span",{children:ge.category||"Sem categoria"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[De(Number(ge.base_price)||0)," - ",ge.estimated_time_minutes||0,"min"]})]})]},ge.id))})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio do Servio *"}),s.jsx("input",{type:"text",value:ce.descricao,onChange:ge=>ie(ce.id,{descricao:ge.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalao de Ar Condicionado"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:ce.quantidade,min:"1",onChange:ge=>ie(ce.id,{quantidade:Number(ge.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unitrio"}),s.jsx("input",{type:"number",value:ce.preco_unitario,min:"0",step:"0.01",onChange:ge=>ie(ce.id,{preco_unitario:Number(ge.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (min)"}),s.jsx("input",{type:"number",value:ce.tempo_estimado_minutos,min:"0",onChange:ge=>ie(ce.id,{tempo_estimado_minutos:Number(ge.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-blue-900",children:"Preo Total:"}),s.jsx("span",{className:"text-lg font-bold text-blue-900",children:De(ce.preco_total)})]})})]},`${ce.id}-${He}`))]},"servicos"),a==="materiais"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Materiais da OS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Materiais que sero consumidos nesta ordem de servio"})]}),s.jsxs("button",{onClick:le,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Adicionar Material"]})]}),Q.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(jt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Material" para comear'})]}),Q.map((ce,He)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",He+1]}),s.jsx("button",{onClick:()=>X(ce.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Material"}),s.jsx("input",{type:"text",value:c,onChange:ge=>d(ge.target.value),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no estoque..."}),c&&C.filter(ge=>ge.name.toLowerCase().includes(c.toLowerCase())||ge.sku&&ge.sku.toLowerCase().includes(c.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:C.filter(ge=>ge.name.toLowerCase().includes(c.toLowerCase())||ge.sku&&ge.sku.toLowerCase().includes(c.toLowerCase())).map(ge=>s.jsxs("button",{type:"button",onClick:()=>Me(ce.id,ge.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:ge.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("span",{children:[ge.sku||"Sem SKU"," - ",ge.unit]}),s.jsxs("span",{className:"font-semibold text-blue-600",children:["Estoque: ",ge.quantity]})]})]},ge.id))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),s.jsx("input",{type:"text",value:ce.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um material"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade *"}),s.jsx("input",{type:"number",value:ce.quantidade,min:"0",step:"0.01",onChange:ge=>he(ce.id,{quantidade:Number(ge.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),s.jsx("input",{type:"text",value:ce.unidade_medida,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unit. (Compra)"}),s.jsx("input",{type:"number",value:ce.preco_compra_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unit. (Venda)"}),s.jsx("input",{type:"number",value:ce.preco_venda_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("span",{className:"text-xs text-red-700",children:"Custo Total:"}),s.jsx("p",{className:"text-lg font-bold text-red-700",children:De(ce.custo_total)})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[s.jsx("span",{className:"text-xs text-green-700",children:"Valor Total:"}),s.jsx("p",{className:"text-lg font-bold text-green-700",children:De(ce.valor_total)})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[s.jsx("span",{className:"text-xs text-blue-700",children:"Lucro:"}),s.jsx("p",{className:"text-lg font-bold text-blue-700",children:De(ce.lucro)})]})]})]},`material-${ce.id}-${He}`))]},"materiais"),a==="mao-obra"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Mo de Obra da OS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Funcionrios que trabalharo nesta ordem de servio"})]}),s.jsxs("button",{onClick:Qe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Adicionar Funcionrio"]})]}),J.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(kt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum funcionrio adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Funcionrio" para comear'})]}),J.map((ce,He)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Funcionrio #",He+1]}),s.jsx("button",{onClick:()=>ye(ce.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Funcionrio"}),s.jsx("input",{type:"text",value:u,onChange:ge=>A(ge.target.value),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar..."}),u&&_.filter(ge=>ge.name.toLowerCase().includes(u.toLowerCase())||ge.role&&ge.role.toLowerCase().includes(u.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:_.filter(ge=>ge.name.toLowerCase().includes(u.toLowerCase())||ge.role&&ge.role.toLowerCase().includes(u.toLowerCase())).map(ge=>s.jsxs("button",{type:"button",onClick:()=>ke(ce.id,ge.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:ge.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsx("span",{children:ge.role||"Sem funo"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:["R$ ",Number(ge.custo_hora||0).toFixed(2),"/h"]})]})]},ge.id))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Funcionrio *"}),s.jsx("input",{type:"text",value:ce.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um funcionrio"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (minutos) *"}),s.jsx("input",{type:"number",value:ce.tempo_minutos,min:"0",step:"10",onChange:ge=>z(ce.id,{tempo_minutos:Number(ge.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo/Hora"}),s.jsx("input",{type:"number",value:ce.custo_hora,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Horas Trabalhadas"}),s.jsx("input",{type:"text",value:`${(ce.tempo_minutos/60).toFixed(2)}h`,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-blue-50 text-blue-900 font-semibold"})]})]}),s.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-blue-900",children:"Custo Total:"}),s.jsx("span",{className:"text-lg font-bold text-blue-900",children:De(ce.custo_total)})]})})]},`labor-${ce.id}-${He}`))]},"mao-obra"),a==="pagamento"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:m.payment_method,onChange:ce=>p({...m,payment_method:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"debito",children:"Carto de Dbito"}),s.jsx("option",{value:"credito",children:"Carto de Crdito"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"cheque",children:"Cheque"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),s.jsxs("select",{value:m.payment_installments,onChange:ce=>p({...m,payment_installments:Number(ce.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"1",children:" vista"}),[2,3,4,5,6,7,8,9,10,12].map(ce=>s.jsxs("option",{value:ce,children:[ce,"x"]},ce))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:m.bank_account_id,onChange:ce=>p({...m,bank_account_id:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Padro"}),T.map(ce=>s.jsxs("option",{value:ce.id,children:[ce.account_name," - ",ce.bank_name]},ce.id))]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5"}),"Desconto (Opcional)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto Percentual (%)"}),s.jsx("input",{type:"number",value:m.desconto_percentual,min:"0",max:"100",step:"0.01",onChange:ce=>p({...m,desconto_percentual:Number(ce.target.value),desconto_valor:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 5"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em 0 se no houver desconto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto em Reais (R$)"}),s.jsx("input",{type:"number",value:m.desconto_valor,min:"0",step:"0.01",onChange:ce=>p({...m,desconto_valor:Number(ce.target.value),desconto_percentual:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 50.00"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ou defina um valor fixo"})]})]})]})]},"pagamento"),a==="garantia"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Perodo de Garantia"}),s.jsx("input",{type:"number",value:m.warranty_period,min:"0",onChange:ce=>p({...m,warranty_period:Number(ce.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Perodo"}),s.jsxs("select",{value:m.warranty_type,onChange:ce=>p({...m,warranty_type:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"days",children:"Dias"}),s.jsx("option",{value:"months",children:"Meses"}),s.jsx("option",{value:"years",children:"Anos"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),s.jsx("textarea",{value:m.warranty_terms,onChange:ce=>p({...m,warranty_terms:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condies da garantia..."})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),s.jsxs("select",{value:m.contract_template_id,onChange:ce=>p({...m,contract_template_id:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Nenhum"}),E.map(ce=>s.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes do Contrato"}),s.jsx("textarea",{value:m.contract_notes,onChange:ce=>p({...m,contract_notes:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observaes adicionais..."})]})]})]})]},"garantia"),a==="resumo"&&s.jsx(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo da Ordem de Servio"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Informaes que sero apresentadas ao cliente"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Servios Contratados"}),s.jsx("div",{className:"space-y-2",children:U.map((ce,He)=>s.jsxs("div",{className:"flex justify-between text-sm py-2 border-b last:border-0",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[He+1,". ",ce.descricao]}),s.jsxs("span",{className:"text-gray-600 ml-2",children:["(Qtd: ",ce.quantidade,")"]})]}),s.jsx("span",{className:"font-bold text-blue-700",children:De(ce.preco_total)})]},ce.id))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informaes de Pagamento"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Forma de Pagamento:"}),s.jsx("span",{className:"font-semibold capitalize",children:m.payment_method.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Parcelas:"}),s.jsx("span",{className:"font-semibold",children:m.payment_installments===1?" vista":`${m.payment_installments}x`})]}),m.payment_installments>1&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Valor por Parcela:"}),s.jsx("span",{className:"font-semibold",children:De(Ee.total/m.payment_installments)})]})]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[s.jsx("h4",{className:"font-semibold text-amber-900 mb-3",children:"Garantia"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Perodo de Garantia:"}),s.jsxs("span",{className:"font-semibold",children:[m.warranty_period," ",m.warranty_type==="days"?"dias":m.warranty_type==="months"?"meses":"anos"]})]}),m.warranty_terms&&s.jsxs("div",{className:"mt-2 p-3 bg-white rounded border",children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Termos de Garantia:"}),s.jsx("p",{className:"text-sm text-gray-700",children:m.warranty_terms})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg p-6 border-2 border-gray-300 shadow-sm",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-gray-700",children:"Subtotal dos Servios:"}),s.jsx("span",{className:"font-bold",children:De(Ee.subtotal)})]}),Ee.desconto>0&&s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-gray-700",children:"Desconto Aplicado:"}),s.jsxs("span",{className:"font-bold text-red-600",children:["- ",De(Ee.desconto)]})]}),s.jsxs("div",{className:"border-t-2 pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-xl text-gray-900",children:"VALOR TOTAL DA PROPOSTA:"}),s.jsx("span",{className:"font-bold text-3xl text-green-600",children:De(Ee.total)})]})]})}),m.contract_notes&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Observaes do Contrato"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:m.contract_notes})]})]})]})},"resumo")]})}),s.jsxs("div",{className:"border-t p-6 bg-gray-50 rounded-b-xl flex justify-between",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100",children:"Cancelar"}),s.jsxs("button",{onClick:Le,disabled:o,className:"px-8 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),o?"Salvando...":n?"Atualizar OS":"Salvar OS"]})]})]})}):null},Rde=()=>{const{isAdmin:t}=Zr(),e=na(),[r,n]=C7(),[a,i]=P.useState(""),[o,l]=P.useState("all"),[c,d]=P.useState("all"),[u,A]=P.useState([]),[h,f]=P.useState(!0),[g,x]=P.useState(null),[m,p]=P.useState(!1),[y,b]=P.useState(null),[N,j]=P.useState(!1),[C,k]=P.useState(!1),[_,B]=P.useState(void 0);P.useEffect(()=>{T()},[]),P.useEffect(()=>{const ee=r.get("edit");ee&&(B(ee),k(!0),n({}))},[r]);const T=async()=>{try{f(!0);const ee=await yde();A(ee||[]),x(null)}catch(ee){console.error("Error loading service orders:",ee),x("Erro ao carregar ordens de servio"),A([])}finally{f(!1)}},w=async ee=>{try{if(confirm(`Deseja duplicar a OS ${ee.order_number}?`)){const $={...ee,id:void 0,order_number:`${ee.order_number}-COPIA`,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await xde($),await T(),alert("OS duplicada com sucesso!")}}catch($){console.error("Error duplicating order:",$),alert("Erro ao duplicar OS")}},E=async(ee,$)=>{try{A(R=>R.map(K=>K.id===ee?{...K,status:$,updated_at:new Date().toISOString()}:K)),await WT(ee,{status:$,updated_at:new Date().toISOString()}),ao.invalidate("service_orders_v2")}catch(R){console.error("Error updating status:",R),alert(`Erro ao atualizar status: ${R}`),await T()}},D=async ee=>{try{const $=ee.status==="pending"?"in_progress":ee.status==="in_progress"?"completed":ee.status;confirm(`Deseja ${$==="in_progress"?"iniciar":"concluir"} a OS ${ee.order_number}?`)&&(A(R=>R.map(K=>K.id===ee.id?{...K,status:$,updated_at:new Date().toISOString()}:K)),await WT(ee.id,{status:$,updated_at:new Date().toISOString()}),ao.invalidate("service_orders_v2"),alert(`OS ${$==="in_progress"?"iniciada":"concluda"} com sucesso!`))}catch($){console.error("Error executing order:",$),alert("Erro ao executar ao"),await T()}},O=ee=>{b(ee),p(!0)},L=async()=>{if(y)try{j(!0),await q9(y.id),await T(),p(!1),b(null),alert("Ordem de servio excluda com sucesso!")}catch(ee){console.error("Error deleting order:",ee),alert("Erro ao excluir ordem de servio. Verifique se no h dependncias.")}finally{j(!1)}},U=()=>{p(!1),b(null)},M=u.filter(ee=>{const $=ee.order_number.toLowerCase().includes(a.toLowerCase())||ee.client_name.toLowerCase().includes(a.toLowerCase())||ee.service_type.toLowerCase().includes(a.toLowerCase()),R=o==="all"||ee.status===o,K=c==="all"||ee.priority===c;return $&&R&&K}),Q=ee=>{switch(ee){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"on_hold":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},q=ee=>{switch(ee){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},J=ee=>{switch(ee){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return"Desconhecida"}};return s.jsxs("div",{className:"space-y-6",children:[g&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kn,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:g})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ordens de Servio"}),s.jsxs("button",{onClick:()=>{B(void 0),k(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Nova OS"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nmero, cliente ou servio...",value:a,onChange:ee=>i(ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aA,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:o,onChange:ee=>l(ee.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"in_progress",children:"Em Andamento"}),s.jsx("option",{value:"completed",children:"Concluda"}),s.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),s.jsxs("select",{value:c,onChange:ee=>d(ee.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Prioridades"}),s.jsx("option",{value:"high",children:"Alta"}),s.jsx("option",{value:"medium",children:"Mdia"}),s.jsx("option",{value:"low",children:"Baixa"})]})]})]})}),h?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando ordens..."})]}):s.jsx("div",{className:"space-y-4",children:M.length>0?M.map((ee,$)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zs,{className:"h-5 w-5 text-white mx-auto mb-0.5"}),s.jsx("span",{className:"text-xs font-bold text-white/90",children:ee.order_number})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:["OS-",ee.order_number]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ee.service_type||"Sem descrio"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q(ee.priority)}`,children:J(ee.priority)}),s.jsxs("select",{value:ee.status,onChange:R=>E(ee.id,R.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 cursor-pointer ${Q(ee.status)}`,children:[s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"in_progress",children:"Em Andamento"}),s.jsx("option",{value:"on_hold",children:"Pausado"}),s.jsx("option",{value:"completed",children:"Concludo"}),s.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vn,{className:"h-4 w-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-900",children:ee.client_name})]}),s.jsx("p",{className:"text-xs text-gray-600 ml-6",children:ee.client_phone})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),s.jsx("p",{className:"text-sm text-gray-900",children:ee.assigned_to})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Prazo"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-900",children:ee.due_date?new Date(ee.due_date).toLocaleDateString("pt-BR"):ee.service_date?new Date(ee.service_date).toLocaleDateString("pt-BR"):"No definido"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:ee.description}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:R=>{R.stopPropagation(),e(`/service-orders/${ee.id}/view`)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar OS",children:s.jsx(xs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:R=>{R.stopPropagation(),B(ee.id),k(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar OS",children:s.jsx(Rr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:R=>{R.stopPropagation(),D(ee)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:ee.status==="pending"?"Iniciar OS":ee.status==="in_progress"?"Concluir OS":"OS Concluda",disabled:ee.status==="completed",children:s.jsx(c9,{className:"h-4 w-4"})}),s.jsx("button",{onClick:R=>{R.stopPropagation(),w(ee)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Duplicar OS",children:s.jsx(qu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:R=>{R.stopPropagation(),O(ee)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir OS",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]})]},ee.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(Zs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma ordem encontrada"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos ordens de servio com os filtros selecionados."}),s.jsx("button",{onClick:()=>{i(""),l("all"),d("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Ct,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Servio"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Esta ao no pode ser desfeita"})]})]})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Voc est prestes a excluir a seguinte OS:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Nmero:"})," ",y==null?void 0:y.order_number]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Cliente:"})," ",y==null?void 0:y.client_name]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Servio:"})," ",y==null?void 0:y.service_type]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Valor:"})," R$ ",((y==null?void 0:y.total_cost)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:" Ateno!"}),s.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados sero permanentemente removidos do sistema. Esta ao  irreversvel."})]})]})}),s.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:U,disabled:N,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:L,disabled:N,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-5 w-5"}),"Confirmar Excluso"]})})]})]})]})}),s.jsx(Ude,{isOpen:C,onClose:()=>{k(!1),B(void 0)},onSave:()=>{T(),k(!1),B(void 0)},orderId:_})]})};function fr(t){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(t)}var Ts=Uint8Array,Ma=Uint16Array,PE=Int32Array,l2=new Ts([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c2=new Ts([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j4=new Ts([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V9=function(t,e){for(var r=new Ma(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new PE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},K9=V9(l2,2),W9=K9.b,N4=K9.r;W9[28]=258,N4[258]=28;var G9=V9(c2,0),Qde=G9.b,GT=G9.r,_4=new Ma(32768);for(var Mr=0;Mr<32768;++Mr){var pc=(Mr&43690)>>1|(Mr&21845)<<1;pc=(pc&52428)>>2|(pc&13107)<<2,pc=(pc&61680)>>4|(pc&3855)<<4,_4[Mr]=((pc&65280)>>8|(pc&255)<<8)>>1}var Lo=function(t,e,r){for(var n=t.length,a=0,i=new Ma(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new Ma(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Ma(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],A=o[t[a]-1]++<<u,h=A|(1<<u)-1;A<=h;++A)l[_4[A]>>c]=d}else for(l=new Ma(n),a=0;a<n;++a)t[a]&&(l[a]=_4[o[t[a]-1]++]>>15-t[a]);return l},ud=new Ts(288);for(var Mr=0;Mr<144;++Mr)ud[Mr]=8;for(var Mr=144;Mr<256;++Mr)ud[Mr]=9;for(var Mr=256;Mr<280;++Mr)ud[Mr]=7;for(var Mr=280;Mr<288;++Mr)ud[Mr]=8;var A0=new Ts(32);for(var Mr=0;Mr<32;++Mr)A0[Mr]=5;var $de=Lo(ud,9,0),Hde=Lo(ud,9,1),qde=Lo(A0,5,0),zde=Lo(A0,5,1),p_=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Ui=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},g_=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},FE=function(t){return(t+7)/8|0},X9=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ts(t.subarray(e,r))},Vde=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Vi=function(t,e,r){var n=new Error(e||Vde[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Vi),!r)throw n;return n},Kde=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new Ts(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new Ts(a*3));var d=function(X){var he=r.length;if(X>he){var Me=new Ts(Math.max(he*2,X));Me.set(r),r=Me}},u=e.f||0,A=e.p||0,h=e.b||0,f=e.l,g=e.d,x=e.m,m=e.n,p=a*8;do{if(!f){u=Ui(t,A,1);var y=Ui(t,A+1,3);if(A+=3,y)if(y==1)f=Hde,g=zde,x=9,m=5;else if(y==2){var C=Ui(t,A,31)+257,k=Ui(t,A+10,15)+4,_=C+Ui(t,A+5,31)+1;A+=14;for(var B=new Ts(_),T=new Ts(19),w=0;w<k;++w)T[j4[w]]=Ui(t,A+w*3,7);A+=k*3;for(var E=p_(T),D=(1<<E)-1,O=Lo(T,E,1),w=0;w<_;){var L=O[Ui(t,A,D)];A+=L&15;var b=L>>4;if(b<16)B[w++]=b;else{var U=0,M=0;for(b==16?(M=3+Ui(t,A,3),A+=2,U=B[w-1]):b==17?(M=3+Ui(t,A,7),A+=3):b==18&&(M=11+Ui(t,A,127),A+=7);M--;)B[w++]=U}}var Q=B.subarray(0,C),q=B.subarray(C);x=p_(Q),m=p_(q),f=Lo(Q,x,1),g=Lo(q,m,1)}else Vi(1);else{var b=FE(A)+4,N=t[b-4]|t[b-3]<<8,j=b+N;if(j>a){c&&Vi(0);break}l&&d(h+N),r.set(t.subarray(b,j),h),e.b=h+=N,e.p=A=j*8,e.f=u;continue}if(A>p){c&&Vi(0);break}}l&&d(h+131072);for(var J=(1<<x)-1,ee=(1<<m)-1,$=A;;$=A){var U=f[g_(t,A)&J],R=U>>4;if(A+=U&15,A>p){c&&Vi(0);break}if(U||Vi(2),R<256)r[h++]=R;else if(R==256){$=A,f=null;break}else{var K=R-254;if(R>264){var w=R-257,V=l2[w];K=Ui(t,A,(1<<V)-1)+W9[w],A+=V}var ae=g[g_(t,A)&ee],Ae=ae>>4;ae||Vi(3),A+=ae&15;var q=Qde[Ae];if(Ae>3){var V=c2[Ae];q+=g_(t,A)&(1<<V)-1,A+=V}if(A>p){c&&Vi(0);break}l&&d(h+131072);var ne=h+K;if(h<q){var ie=i-q,le=Math.min(q,ne);for(ie+h<0&&Vi(3);h<le;++h)r[h]=n[ie+h]}for(;h<ne;++h)r[h]=r[h-q]}}e.l=f,e.p=$,e.b=h,e.f=u,f&&(u=1,e.m=x,e.d=g,e.n=m)}while(!u);return h!=r.length&&o?X9(r,0,h):r.subarray(0,h)},sl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},cp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},x_=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:J9,l:0};if(a==1){var o=new Ts(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(j,C){return j.f-C.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,A=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[A].f?d++:A++],c=r[d!=u&&r[d].f<r[A].f?d++:A++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var f=new Ma(h+1),g=C4(r[u-1],f,0);if(g>e){var n=0,x=0,m=g-e,p=1<<m;for(i.sort(function(C,k){return f[k.s]-f[C.s]||C.f-k.f});n<a;++n){var y=i[n].s;if(f[y]>e)x+=p-(1<<g-f[y]),f[y]=e;else break}for(x>>=m;x>0;){var b=i[n].s;f[b]<e?x-=1<<e-f[b]++-1:++n}for(;n>=0&&x;--n){var N=i[n].s;f[N]==e&&(--f[N],++x)}g=e}return{t:new Ts(f),l:g}},C4=function(t,e,r){return t.s==-1?Math.max(C4(t.l,e,r+1),C4(t.r,e,r+1)):e[t.s]=r},XT=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ma(++e),n=0,a=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},dp=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Y9=function(t,e,r){var n=r.length,a=FE(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},YT=function(t,e,r,n,a,i,o,l,c,d,u){sl(e,u++,r),++a[256];for(var A=x_(a,15),h=A.t,f=A.l,g=x_(i,15),x=g.t,m=g.l,p=XT(h),y=p.c,b=p.n,N=XT(x),j=N.c,C=N.n,k=new Ma(19),_=0;_<y.length;++_)++k[y[_]&31];for(var _=0;_<j.length;++_)++k[j[_]&31];for(var B=x_(k,7),T=B.t,w=B.l,E=19;E>4&&!T[j4[E-1]];--E);var D=d+5<<3,O=dp(a,ud)+dp(i,A0)+o,L=dp(a,h)+dp(i,x)+o+14+3*E+dp(k,T)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&D<=O&&D<=L)return Y9(e,u,t.subarray(c,c+d));var U,M,Q,q;if(sl(e,u,1+(L<O)),u+=2,L<O){U=Lo(h,f,0),M=h,Q=Lo(x,m,0),q=x;var J=Lo(T,w,0);sl(e,u,b-257),sl(e,u+5,C-1),sl(e,u+10,E-4),u+=14;for(var _=0;_<E;++_)sl(e,u+3*_,T[j4[_]]);u+=3*E;for(var ee=[y,j],$=0;$<2;++$)for(var R=ee[$],_=0;_<R.length;++_){var K=R[_]&31;sl(e,u,J[K]),u+=T[K],K>15&&(sl(e,u,R[_]>>5&127),u+=R[_]>>12)}}else U=$de,M=ud,Q=qde,q=A0;for(var _=0;_<l;++_){var V=n[_];if(V>255){var K=V>>18&31;cp(e,u,U[K+257]),u+=M[K+257],K>7&&(sl(e,u,V>>23&31),u+=l2[K]);var ae=V&31;cp(e,u,Q[ae]),u+=q[ae],ae>3&&(cp(e,u,V>>5&8191),u+=c2[ae])}else cp(e,u,U[V]),u+=M[V]}return cp(e,u,U[256]),u+M[256]},Wde=new PE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),J9=new Ts(0),Gde=function(t,e,r,n,a,i){var o=i.z||t.length,l=new Ts(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var A=Wde[e-1],h=A>>13,f=A&8191,g=(1<<r)-1,x=i.p||new Ma(32768),m=i.h||new Ma(g+1),p=Math.ceil(r/3),y=2*p,b=function(Qe){return(t[Qe]^t[Qe+1]<<p^t[Qe+2]<<y)&g},N=new PE(25e3),j=new Ma(288),C=new Ma(32),k=0,_=0,B=i.i||0,T=0,w=i.w||0,E=0;B+2<o;++B){var D=b(B),O=B&32767,L=m[D];if(x[O]=L,m[D]=O,w<=B){var U=o-B;if((k>7e3||T>24576)&&(U>423||!d)){u=YT(t,c,0,N,j,C,_,T,E,B-E,u),T=k=_=0,E=B;for(var M=0;M<286;++M)j[M]=0;for(var M=0;M<30;++M)C[M]=0}var Q=2,q=0,J=f,ee=O-L&32767;if(U>2&&D==b(B-ee))for(var $=Math.min(h,U)-1,R=Math.min(32767,B),K=Math.min(258,U);ee<=R&&--J&&O!=L;){if(t[B+Q]==t[B+Q-ee]){for(var V=0;V<K&&t[B+V]==t[B+V-ee];++V);if(V>Q){if(Q=V,q=ee,V>$)break;for(var ae=Math.min(ee,V-2),Ae=0,M=0;M<ae;++M){var ne=B-ee+M&32767,ie=x[ne],le=ne-ie&32767;le>Ae&&(Ae=le,L=ne)}}}O=L,L=x[O],ee+=O-L&32767}if(q){N[T++]=268435456|N4[Q]<<18|GT[q];var X=N4[Q]&31,he=GT[q]&31;_+=l2[X]+c2[he],++j[257+X],++C[he],w=B+Q,++k}else N[T++]=t[B],++j[t[B]]}}for(B=Math.max(B,w);B<o;++B)N[T++]=t[B],++j[t[B]];u=YT(t,c,d,N,j,C,_,T,E,B-E,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=m,i.p=x,i.i=B,i.w=w)}else{for(var B=i.w||0;B<o+d;B+=65535){var Me=B+65535;Me>=o&&(c[u/8|0]=d,Me=o),u=Y9(c,u+1,t.subarray(B,Me))}i.i=o}return X9(l,0,n+FE(u)+a)},Z9=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Xde=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Ts(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return Gde(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},eH=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Yde=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=Z9();a.p(e.dictionary),eH(t,2,a.d())}},Jde=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Vi(6,"invalid zlib data"),(t[1]>>5&1)==1&&Vi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function B4(t,e){e||(e={});var r=Z9();r.p(t);var n=Xde(t,e,e.dictionary?6:2,4);return Yde(n,e),eH(n,n.length-4,r.d()),n}function Zde(t,e){return Kde(t.subarray(Jde(t),-4),{i:2},e,e)}var eue=typeof TextDecoder<"u"&&new TextDecoder,tue=0;try{eue.decode(J9,{stream:!0}),tue=1}catch{}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function y_(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var wr={log:y_,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):y_.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):y_(t))}};function v_(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Yd(n.response,e,r)},n.onerror=function(){wr.error("could not download file")},n.send()}function JT(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Gy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var pg,S4,Yd=wt.saveAs||((typeof window>"u"?"undefined":fr(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=wt.URL||wt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?JT(a.href)?v_(t,e,r):Gy(a,a.target="_blank"):Gy(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Gy(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(JT(t))v_(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Gy(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:fr(i)!=="object"&&(wr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return v_(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":fr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(t)}else{var c=wt.URL||wt.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function b_(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=js(r,n,a,i,e[0],7,-680876936),i=js(i,r,n,a,e[1],12,-389564586),a=js(a,i,r,n,e[2],17,606105819),n=js(n,a,i,r,e[3],22,-1044525330),r=js(r,n,a,i,e[4],7,-176418897),i=js(i,r,n,a,e[5],12,1200080426),a=js(a,i,r,n,e[6],17,-1473231341),n=js(n,a,i,r,e[7],22,-45705983),r=js(r,n,a,i,e[8],7,1770035416),i=js(i,r,n,a,e[9],12,-1958414417),a=js(a,i,r,n,e[10],17,-42063),n=js(n,a,i,r,e[11],22,-1990404162),r=js(r,n,a,i,e[12],7,1804603682),i=js(i,r,n,a,e[13],12,-40341101),a=js(a,i,r,n,e[14],17,-1502002290),r=Ns(r,n=js(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Ns(i,r,n,a,e[6],9,-1069501632),a=Ns(a,i,r,n,e[11],14,643717713),n=Ns(n,a,i,r,e[0],20,-373897302),r=Ns(r,n,a,i,e[5],5,-701558691),i=Ns(i,r,n,a,e[10],9,38016083),a=Ns(a,i,r,n,e[15],14,-660478335),n=Ns(n,a,i,r,e[4],20,-405537848),r=Ns(r,n,a,i,e[9],5,568446438),i=Ns(i,r,n,a,e[14],9,-1019803690),a=Ns(a,i,r,n,e[3],14,-187363961),n=Ns(n,a,i,r,e[8],20,1163531501),r=Ns(r,n,a,i,e[13],5,-1444681467),i=Ns(i,r,n,a,e[2],9,-51403784),a=Ns(a,i,r,n,e[7],14,1735328473),r=_s(r,n=Ns(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=_s(i,r,n,a,e[8],11,-2022574463),a=_s(a,i,r,n,e[11],16,1839030562),n=_s(n,a,i,r,e[14],23,-35309556),r=_s(r,n,a,i,e[1],4,-1530992060),i=_s(i,r,n,a,e[4],11,1272893353),a=_s(a,i,r,n,e[7],16,-155497632),n=_s(n,a,i,r,e[10],23,-1094730640),r=_s(r,n,a,i,e[13],4,681279174),i=_s(i,r,n,a,e[0],11,-358537222),a=_s(a,i,r,n,e[3],16,-722521979),n=_s(n,a,i,r,e[6],23,76029189),r=_s(r,n,a,i,e[9],4,-640364487),i=_s(i,r,n,a,e[12],11,-421815835),a=_s(a,i,r,n,e[15],16,530742520),r=Cs(r,n=_s(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Cs(i,r,n,a,e[7],10,1126891415),a=Cs(a,i,r,n,e[14],15,-1416354905),n=Cs(n,a,i,r,e[5],21,-57434055),r=Cs(r,n,a,i,e[12],6,1700485571),i=Cs(i,r,n,a,e[3],10,-1894986606),a=Cs(a,i,r,n,e[10],15,-1051523),n=Cs(n,a,i,r,e[1],21,-2054922799),r=Cs(r,n,a,i,e[8],6,1873313359),i=Cs(i,r,n,a,e[15],10,-30611744),a=Cs(a,i,r,n,e[6],15,-1560198380),n=Cs(n,a,i,r,e[13],21,1309151649),r=Cs(r,n,a,i,e[4],6,-145523070),i=Cs(i,r,n,a,e[11],10,-1120210379),a=Cs(a,i,r,n,e[2],15,718787259),n=Cs(n,a,i,r,e[9],21,-343485551),t[0]=Dc(r,t[0]),t[1]=Dc(n,t[1]),t[2]=Dc(a,t[2]),t[3]=Dc(i,t[3])}function d2(t,e,r,n,a,i){return e=Dc(Dc(e,t),Dc(n,i)),Dc(e<<a|e>>>32-a,r)}function js(t,e,r,n,a,i,o){return d2(e&r|~e&n,t,e,a,i,o)}function Ns(t,e,r,n,a,i,o){return d2(e&n|r&~n,t,e,a,i,o)}function _s(t,e,r,n,a,i,o){return d2(e^r^n,t,e,a,i,o)}function Cs(t,e,r,n,a,i,o){return d2(r^(e|~n),t,e,a,i,o)}function rH(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)b_(n,rue(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(b_(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,b_(n,a),n}function rue(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}pg=wt.atob.bind(wt),S4=wt.btoa.bind(wt);var ZT="0123456789abcdef".split("");function nue(t){for(var e="",r=0;r<4;r++)e+=ZT[t>>8*r+4&15]+ZT[t>>8*r&15];return e}function sue(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function E4(t){return rH(t).map(sue).join("")}var aue=function(t){for(var e=0;e<t.length;e++)t[e]=nue(t[e]);return t.join("")}(rH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Dc(t,e){if(aue){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k4(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,n=l}else l=n;var A=e.length,h=0,f=0,g="";for(c=0;c<A;c++)f=(f+(u=l[h=(h+1)%256]))%256,l[h]=l[f],l[f]=u,o=l[(l[h]+l[f])%256],g+=String.fromCharCode(e.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var eO={print:4,modify:8,copy:16,"annot-forms":32};function Ah(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(eO.perm!==void 0)throw new Error("Invalid permission: "+l);a+=eO[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=E4(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=k4(this.encryptionKey,this.padding)}function hh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function tO(t){if(fr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){wt.console&&wr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function dw(t){if(!(this instanceof dw))return new dw(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function nH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function iu(t,e,r,n,a){if(!(this instanceof iu))return new iu(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,nH.call(this,n,a)}function Oh(t,e,r,n,a){if(!(this instanceof Oh))return new Oh(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,nH.call(this,n,a)}function ft(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;fr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var A=t.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=tO;var g="1.3",x=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(F){g=F};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var p=f.__private__.getPageFormat=function(F){return m[F]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function N(){this.saveGraphicsState(),z(new yt(Se,0,0,-Se,0,rc()*Se).toString()+" cm"),this.setFontSize(this.getFontSize()/Se),d="n",b=y.ADVANCED}function j(){this.restoreGraphicsState(),d="S",b=y.COMPAT}var C=f.__private__.combineFontStyleAndFontWeight=function(F,G){if(F=="bold"&&G=="normal"||F=="bold"&&G==400||F=="normal"&&G=="italic"||F=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(F=G==400||G==="normal"?F==="italic"?"italic":"normal":G!=700&&G!=="bold"||F!=="normal"?(G==700?"bold":G)+""+F:"bold"),F};f.advancedAPI=function(F){var G=b===y.COMPAT;return G&&N.call(this),typeof F!="function"||(F(this),G&&j.call(this)),this},f.compatAPI=function(F){var G=b===y.ADVANCED;return G&&j.call(this),typeof F!="function"||(F(this),G&&N.call(this)),this},f.isAdvancedAPI=function(){return b===y.ADVANCED};var k,_=function(F){if(b!==y.ADVANCED)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=f.roundToPrecision=f.__private__.roundToPrecision=function(F,G){var me=e||G;if(isNaN(F)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(me).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof c=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,c)}:c==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,16)};var T=f.f2=f.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return B(F,2)},w=f.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return B(F,3)},E=f.scale=f.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?F*Se:b===y.ADVANCED?F:void 0},D=function(F){return b===y.COMPAT?rc()-F:b===y.ADVANCED?F:void 0},O=function(F){return E(D(F))};f.__private__.setPrecision=f.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(e=parseInt(F,10))};var L,U="00000000000000000000000000000000",M=f.__private__.getFileId=function(){return U},Q=f.__private__.setFileId=function(F){return U=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ys=new Ah(u.userPermissions,u.userPassword,u.ownerPassword,U)),U};f.setFileId=function(F){return Q(F),this},f.getFileId=function(){return M()};var q=f.__private__.convertDateToPDFDate=function(F){var G=F.getTimezoneOffset(),me=G<0?"+":"-",je=Math.floor(Math.abs(G/60)),Fe=Math.abs(G%60),$e=[me,K(je),"'",K(Fe),"'"].join("");return["D:",F.getFullYear(),K(F.getMonth()+1),K(F.getDate()),K(F.getHours()),K(F.getMinutes()),K(F.getSeconds()),$e].join("")},J=f.__private__.convertPDFDateToDate=function(F){var G=parseInt(F.substr(2,4),10),me=parseInt(F.substr(6,2),10)-1,je=parseInt(F.substr(8,2),10),Fe=parseInt(F.substr(10,2),10),$e=parseInt(F.substr(12,2),10),Xe=parseInt(F.substr(14,2),10);return new Date(G,me,je,Fe,$e,Xe,0)},ee=f.__private__.setCreationDate=function(F){var G;if(F===void 0&&(F=new Date),F instanceof Date)G=q(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=F}return L=G},$=f.__private__.getCreationDate=function(F){var G=L;return F==="jsDate"&&(G=J(L)),G};f.setCreationDate=function(F){return ee(F),this},f.getCreationDate=function(F){return $(F)};var R,K=f.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},V=f.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},ae=0,Ae=[],ne=[],ie=0,le=[],X=[],he=!1,Me=ne,Qe=function(){ae=0,ie=0,ne=[],Ae=[],le=[],Wo=bn(),ki=bn()};f.__private__.setCustomOutputDestination=function(F){he=!0,Me=F};var ye=function(F){he||(Me=F)};f.__private__.resetCustomOutputDestination=function(){he=!1,Me=ne};var z=f.__private__.out=function(F){return F=F.toString(),ie+=F.length+1,Me.push(F),Me},ke=f.__private__.write=function(F){return z(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},Ie=f.__private__.getArrayBuffer=function(F){for(var G=F.length,me=new ArrayBuffer(G),je=new Uint8Array(me);G--;)je[G]=F.charCodeAt(G);return me},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Pe};var Le=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(F){return Le=b===y.ADVANCED?F/Se:F,this};var De,Ee=f.__private__.getFontSize=f.getFontSize=function(){return b===y.COMPAT?Le:Le*Se},ce=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(F){return ce=F,this},f.__private__.getR2L=f.getR2L=function(){return ce};var He,ge=f.__private__.setZoomMode=function(F){var G=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))De=F;else if(isNaN(F)){if(G.indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');De=F}else De=parseInt(F,10)};f.__private__.getZoomMode=function(){return De};var ue,se=f.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');He=F};f.__private__.getPageMode=function(){return He};var fe=f.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');ue=F};f.__private__.getLayoutMode=function(){return ue},f.__private__.setDisplayMode=f.setDisplayMode=function(F,G,me){return ge(F),fe(G),se(me),this};var be={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(F){if(Object.keys(be).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return be[F]},f.__private__.getDocumentProperties=function(){return be},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(F){for(var G in be)be.hasOwnProperty(G)&&F[G]&&(be[G]=F[G]);return this},f.__private__.setDocumentProperty=function(F,G){if(Object.keys(be).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return be[F]=G};var xe,Se,Ye,ve,Bt,We={},qt={},is=[],er={},zt={},tr={},Si={},Ko=null,en=0,Ft=[],sr=new tO(f),_d=t.hotfixes||[],os={},Ao={},ho=[],yt=function F(G,me,je,Fe,$e,Xe){if(!(this instanceof F))return new F(G,me,je,Fe,$e,Xe);isNaN(G)&&(G=1),isNaN(me)&&(me=0),isNaN(je)&&(je=0),isNaN(Fe)&&(Fe=1),isNaN($e)&&($e=0),isNaN(Xe)&&(Xe=0),this._matrix=[G,me,je,Fe,$e,Xe]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(F)},yt.prototype.multiply=function(F){var G=F.sx*this.sx+F.shy*this.shx,me=F.sx*this.shy+F.shy*this.sy,je=F.shx*this.sx+F.sy*this.shx,Fe=F.shx*this.shy+F.sy*this.sy,$e=F.tx*this.sx+F.ty*this.shx+this.tx,Xe=F.tx*this.shy+F.ty*this.sy+this.ty;return new yt(G,me,je,Fe,$e,Xe)},yt.prototype.decompose=function(){var F=this.sx,G=this.shy,me=this.shx,je=this.sy,Fe=this.tx,$e=this.ty,Xe=Math.sqrt(F*F+G*G),nt=(F/=Xe)*me+(G/=Xe)*je;me-=F*nt,je-=G*nt;var ht=Math.sqrt(me*me+je*je);return nt/=ht,F*(je/=ht)<G*(me/=ht)&&(F=-F,G=-G,nt=-nt,Xe=-Xe),{scale:new yt(Xe,0,0,ht,0,0),translate:new yt(1,0,0,1,Fe,$e),rotate:new yt(F,G,-G,F,0,0),skew:new yt(1,0,nt,1,0,0)}},yt.prototype.toString=function(F){return this.join(" ")},yt.prototype.inversed=function(){var F=this.sx,G=this.shy,me=this.shx,je=this.sy,Fe=this.tx,$e=this.ty,Xe=1/(F*je-G*me),nt=je*Xe,ht=-G*Xe,Dt=-me*Xe,Tt=F*Xe;return new yt(nt,ht,Dt,Tt,-nt*Fe-Dt*$e,-ht*Fe-Tt*$e)},yt.prototype.applyToPoint=function(F){var G=F.x*this.sx+F.y*this.shx+this.tx,me=F.x*this.shy+F.y*this.sy+this.ty;return new BA(G,me)},yt.prototype.applyToRectangle=function(F){var G=this.applyToPoint(F),me=this.applyToPoint(new BA(F.x+F.w,F.y+F.h));return new Fm(G.x,G.y,me.x-G.x,me.y-G.y)},yt.prototype.clone=function(){var F=this.sx,G=this.shy,me=this.shx,je=this.sy,Fe=this.tx,$e=this.ty;return new yt(F,G,me,je,Fe,$e)},f.Matrix=yt;var Ei=f.matrixMult=function(F,G){return G.multiply(F)},fo=new yt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=fo;var sa=function(F,G){if(!zt[F]){var me=(G instanceof iu?"Sh":"P")+(Object.keys(er).length+1).toString(10);G.id=me,zt[F]=me,er[me]=G,sr.publish("addPattern",G)}};f.ShadingPattern=iu,f.TilingPattern=Oh,f.addShadingPattern=function(F,G){return _("addShadingPattern()"),sa(F,G),this},f.beginTilingPattern=function(F){_("beginTilingPattern()"),Jx(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},f.endTilingPattern=function(F,G){_("endTilingPattern()"),G.stream=X[R].join(`
`),sa(F,G),sr.publish("endTilingPattern",G),ho.pop().restore()};var Dn=f.__private__.newObject=function(){var F=bn();return _a(F,!0),F},bn=f.__private__.newObjectDeferred=function(){return ae++,Ae[ae]=function(){return ie},ae},_a=function(F,G){return G=typeof G=="boolean"&&G,Ae[F]=ie,G&&z(F+" 0 obj"),F},fA=f.__private__.newAdditionalObject=function(){var F={objId:bn(),content:""};return le.push(F),F},Wo=bn(),ki=bn(),Pi=f.__private__.decodeColorString=function(F){var G=F.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length===5&&(G[4]==="k"||G[4]==="K")&&(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var me=parseFloat(G[0]);G=[me,me,me,"r"]}for(var je="#",Fe=0;Fe<3;Fe++)je+=("0"+Math.floor(255*parseFloat(G[Fe])).toString(16)).slice(-2);return je},Fi=f.__private__.encodeColorString=function(F){var G;typeof F=="string"&&(F={ch1:F});var me=F.ch1,je=F.ch2,Fe=F.ch3,$e=F.ch4,Xe=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var nt=new tH(me);if(nt.ok)me=nt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var ht=parseInt(me.substr(1),16);me=ht>>16&255,je=ht>>8&255,Fe=255&ht}if(je===void 0||$e===void 0&&me===je&&je===Fe)if(typeof me=="string")G=me+" "+Xe[0];else switch(F.precision){case 2:G=T(me/255)+" "+Xe[0];break;case 3:default:G=w(me/255)+" "+Xe[0]}else if($e===void 0||fr($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return G=["1.","1.","1.",Xe[1]].join(" ");if(typeof me=="string")G=[me,je,Fe,Xe[1]].join(" ");else switch(F.precision){case 2:G=[T(me/255),T(je/255),T(Fe/255),Xe[1]].join(" ");break;default:case 3:G=[w(me/255),w(je/255),w(Fe/255),Xe[1]].join(" ")}}else if(typeof me=="string")G=[me,je,Fe,$e,Xe[2]].join(" ");else switch(F.precision){case 2:G=[T(me),T(je),T(Fe),T($e),Xe[2]].join(" ");break;case 3:default:G=[w(me),w(je),w(Fe),w($e),Xe[2]].join(" ")}return G},mo=f.__private__.getFilters=function(){return o},za=f.__private__.putStream=function(F){var G=(F=F||{}).data||"",me=F.filters||mo(),je=F.alreadyAppliedFilters||[],Fe=F.addLength1||!1,$e=G.length,Xe=F.objectId,nt=function(vs){return vs};if(u!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(nt=ys.encryptor(Xe,0));var ht={};me===!0&&(me=["FlateEncode"]);var Dt=F.additionalKeyValues||[],Tt=(ht=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(G,me):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(ht.data.length!==0&&(Dt.push({key:"Length",value:ht.data.length}),Fe===!0&&Dt.push({key:"Length1",value:$e})),Tt.length!=0)if(Tt.split("/").length-1==1)Dt.push({key:"Filter",value:Tt});else{Dt.push({key:"Filter",value:"["+Tt+"]"});for(var Gt=0;Gt<Dt.length;Gt+=1)if(Dt[Gt].key==="DecodeParms"){for(var Vr=[],tn=0;tn<ht.reverseChain.split("/").length-1;tn+=1)Vr.push("null");Vr.push(Dt[Gt].value),Dt[Gt].value="["+Vr.join(" ")+"]"}}z("<<");for(var wn=0;wn<Dt.length;wn++)z("/"+Dt[wn].key+" "+Dt[wn].value);z(">>"),ht.data.length!==0&&(z("stream"),z(nt(ht.data)),z("endstream"))},po=f.__private__.putPage=function(F){var G=F.number,me=F.data,je=F.objId,Fe=F.contentsObjId;_a(je,!0),z("<</Type /Page"),z("/Parent "+F.rootDictionaryObjId+" 0 R"),z("/Resources "+F.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(k(F.mediaBox.bottomLeftX))+" "+parseFloat(k(F.mediaBox.bottomLeftY))+" "+k(F.mediaBox.topRightX)+" "+k(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&z("/CropBox ["+k(F.cropBox.bottomLeftX)+" "+k(F.cropBox.bottomLeftY)+" "+k(F.cropBox.topRightX)+" "+k(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&z("/BleedBox ["+k(F.bleedBox.bottomLeftX)+" "+k(F.bleedBox.bottomLeftY)+" "+k(F.bleedBox.topRightX)+" "+k(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&z("/TrimBox ["+k(F.trimBox.bottomLeftX)+" "+k(F.trimBox.bottomLeftY)+" "+k(F.trimBox.topRightX)+" "+k(F.trimBox.topRightY)+"]"),F.artBox!==null&&z("/ArtBox ["+k(F.artBox.bottomLeftX)+" "+k(F.artBox.bottomLeftY)+" "+k(F.artBox.topRightX)+" "+k(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&z("/UserUnit "+F.userUnit),sr.publish("putPage",{objId:je,pageContext:Ft[G],pageNumber:G,page:me}),z("/Contents "+Fe+" 0 R"),z(">>"),z("endobj");var $e=me.join(`
`);return b===y.ADVANCED&&($e+=`
Q`),_a(Fe,!0),za({data:$e,filters:mo(),objectId:Fe}),z("endobj"),je},Cd=f.__private__.putPages=function(){var F,G,me=[];for(F=1;F<=en;F++)Ft[F].objId=bn(),Ft[F].contentsObjId=bn();for(F=1;F<=en;F++)me.push(po({number:F,data:X[F],objId:Ft[F].objId,contentsObjId:Ft[F].contentsObjId,mediaBox:Ft[F].mediaBox,cropBox:Ft[F].cropBox,bleedBox:Ft[F].bleedBox,trimBox:Ft[F].trimBox,artBox:Ft[F].artBox,userUnit:Ft[F].userUnit,rootDictionaryObjId:Wo,resourceDictionaryObjId:ki}));_a(Wo,!0),z("<</Type /Pages");var je="/Kids [";for(G=0;G<en;G++)je+=me[G]+" 0 R ";z(je+"]"),z("/Count "+en),z(">>"),z("endobj"),sr.publish("postPutPages")},mA=function(F){sr.publish("putFont",{font:F,out:z,newObject:Dn,putStream:za}),F.isAlreadyPutted!==!0&&(F.objectNumber=Dn(),z("<<"),z("/Type /Font"),z("/BaseFont /"+hh(F.postScriptName)),z("/Subtype /Type1"),typeof F.encoding=="string"&&z("/Encoding /"+F.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},pA=function(){for(var F in We)We.hasOwnProperty(F)&&(A===!1||A===!0&&h.hasOwnProperty(F))&&mA(We[F])},gA=function(F){F.objectNumber=Dn();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[k(F.x),k(F.y),k(F.x+F.width),k(F.y+F.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var me=F.pages[1].join(`
`);za({data:me,additionalKeyValues:G,objectId:F.objectNumber}),z("endobj")},xA=function(){for(var F in os)os.hasOwnProperty(F)&&gA(os[F])},Ox=function(F,G){var me,je=[],Fe=1/(G-1);for(me=0;me<1;me+=Fe)je.push(me);if(je.push(1),F[0].offset!=0){var $e={offset:0,color:F[0].color};F.unshift($e)}if(F[F.length-1].offset!=1){var Xe={offset:1,color:F[F.length-1].color};F.push(Xe)}for(var nt="",ht=0,Dt=0;Dt<je.length;Dt++){for(me=je[Dt];me>F[ht+1].offset;)ht++;var Tt=F[ht].offset,Gt=(me-Tt)/(F[ht+1].offset-Tt),Vr=F[ht].color,tn=F[ht+1].color;nt+=V(Math.round((1-Gt)*Vr[0]+Gt*tn[0]).toString(16))+V(Math.round((1-Gt)*Vr[1]+Gt*tn[1]).toString(16))+V(Math.round((1-Gt)*Vr[2]+Gt*tn[2]).toString(16))}return nt.trim()},Sj=function(F,G){G||(G=21);var me=Dn(),je=Ox(F.colors,G),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+G+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),za({data:je,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),z("endobj"),F.objectNumber=Dn(),z("<< /ShadingType "+F.type),z("/ColorSpace /DeviceRGB");var $e="/Coords ["+k(parseFloat(F.coords[0]))+" "+k(parseFloat(F.coords[1]))+" ";F.type===2?$e+=k(parseFloat(F.coords[2]))+" "+k(parseFloat(F.coords[3])):$e+=k(parseFloat(F.coords[2]))+" "+k(parseFloat(F.coords[3]))+" "+k(parseFloat(F.coords[4]))+" "+k(parseFloat(F.coords[5])),z($e+="]"),F.matrix&&z("/Matrix ["+F.matrix.toString()+"]"),z("/Function "+me+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},Ej=function(F,G){var me=bn(),je=Dn();G.push({resourcesOid:me,objectOid:je}),F.objectNumber=je;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+F.boundingBox.map(k).join(" ")+"]"}),Fe.push({key:"XStep",value:k(F.xStep)}),Fe.push({key:"YStep",value:k(F.yStep)}),Fe.push({key:"Resources",value:me+" 0 R"}),F.matrix&&Fe.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),za({data:F.stream,additionalKeyValues:Fe,objectId:F.objectNumber}),z("endobj")},yA=function(F){var G;for(G in er)er.hasOwnProperty(G)&&(er[G]instanceof iu?Sj(er[G]):er[G]instanceof Oh&&Ej(er[G],F))},Ix=function(F){for(var G in F.objectNumber=Dn(),z("<<"),F)switch(G){case"opacity":z("/ca "+T(F[G]));break;case"stroke-opacity":z("/CA "+T(F[G]))}z(">>"),z("endobj")},kj=function(){var F;for(F in tr)tr.hasOwnProperty(F)&&Ix(tr[F])},wm=function(){for(var F in z("/XObject <<"),os)os.hasOwnProperty(F)&&os[F].objectNumber>=0&&z("/"+F+" "+os[F].objectNumber+" 0 R");sr.publish("putXobjectDict"),z(">>")},Pj=function(){ys.oid=Dn(),z("<<"),z("/Filter /Standard"),z("/V "+ys.v),z("/R "+ys.r),z("/U <"+ys.toHexString(ys.U)+">"),z("/O <"+ys.toHexString(ys.O)+">"),z("/P "+ys.P),z(">>"),z("endobj")},Dx=function(){for(var F in z("/Font <<"),We)We.hasOwnProperty(F)&&(A===!1||A===!0&&h.hasOwnProperty(F))&&z("/"+F+" "+We[F].objectNumber+" 0 R");z(">>")},Fj=function(){if(Object.keys(er).length>0){for(var F in z("/Shading <<"),er)er.hasOwnProperty(F)&&er[F]instanceof iu&&er[F].objectNumber>=0&&z("/"+F+" "+er[F].objectNumber+" 0 R");sr.publish("putShadingPatternDict"),z(">>")}},vA=function(F){if(Object.keys(er).length>0){for(var G in z("/Pattern <<"),er)er.hasOwnProperty(G)&&er[G]instanceof f.TilingPattern&&er[G].objectNumber>=0&&er[G].objectNumber<F&&z("/"+G+" "+er[G].objectNumber+" 0 R");sr.publish("putTilingPatternDict"),z(">>")}},Tj=function(){if(Object.keys(tr).length>0){var F;for(F in z("/ExtGState <<"),tr)tr.hasOwnProperty(F)&&tr[F].objectNumber>=0&&z("/"+F+" "+tr[F].objectNumber+" 0 R");sr.publish("putGStateDict"),z(">>")}},ln=function(F){_a(F.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Dx(),Fj(),vA(F.objectOid),Tj(),wm(),z(">>"),z("endobj")},Lx=function(){var F=[];pA(),kj(),xA(),yA(F),sr.publish("putResources"),F.forEach(ln),ln({resourcesOid:ki,objectOid:Number.MAX_SAFE_INTEGER}),sr.publish("postPutResources")},Mx=function(){sr.publish("putAdditionalObjects");for(var F=0;F<le.length;F++){var G=le[F];_a(G.objId,!0),z(G.content),z("endobj")}sr.publish("postPutAdditionalObjects")},Ux=function(F){qt[F.fontName]=qt[F.fontName]||{},qt[F.fontName][F.fontStyle]=F.id},jm=function(F,G,me,je,Fe){var $e={id:"F"+(Object.keys(We).length+1).toString(10),postScriptName:F,fontName:G,fontStyle:me,encoding:je,isStandardFont:Fe||!1,metadata:{}};return sr.publish("addFont",{font:$e,instance:this}),We[$e.id]=$e,Ux($e),$e.id},Oj=function(F){for(var G=0,me=Pe.length;G<me;G++){var je=jm.call(this,F[G][0],F[G][1],F[G][2],Pe[G][3],!0);A===!1&&(h[je]=!0);var Fe=F[G][0].split("-");Ux({id:je,fontName:Fe[0],fontStyle:Fe[1]||""})}sr.publish("addFonts",{fonts:We,dictionary:qt})},Ti=function(F){return F.foo=function(){try{return F.apply(this,arguments)}catch(je){var G=je.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var me="Error in function "+G.split(`
`)[0].split("<")[0]+": "+je.message;if(!wt.console)throw new Error(me);wt.console.error(me,je),wt.alert&&alert(me)}},F.foo.bar=F,F.foo},bA=function(F,G){var me,je,Fe,$e,Xe,nt,ht,Dt,Tt;if(Fe=(G=G||{}).sourceEncoding||"Unicode",Xe=G.outputEncoding,(G.autoencode||Xe)&&We[xe].metadata&&We[xe].metadata[Fe]&&We[xe].metadata[Fe].encoding&&($e=We[xe].metadata[Fe].encoding,!Xe&&We[xe].encoding&&(Xe=We[xe].encoding),!Xe&&$e.codePages&&(Xe=$e.codePages[0]),typeof Xe=="string"&&(Xe=$e[Xe]),Xe)){for(ht=!1,nt=[],me=0,je=F.length;me<je;me++)(Dt=Xe[F.charCodeAt(me)])?nt.push(String.fromCharCode(Dt)):nt.push(F[me]),nt[me].charCodeAt(0)>>8&&(ht=!0);F=nt.join("")}for(me=F.length;ht===void 0&&me!==0;)F.charCodeAt(me-1)>>8&&(ht=!0),me--;if(!ht)return F;for(nt=G.noBOM?[]:[254,255],me=0,je=F.length;me<je;me++){if((Tt=(Dt=F.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+F+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nt.push(Tt),nt.push(Dt-(Tt<<8))}return String.fromCharCode.apply(void 0,nt)},aa=f.__private__.pdfEscape=f.pdfEscape=function(F,G){return bA(F,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nm=f.__private__.beginPage=function(F){X[++en]=[],Ft[en]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},Qx(en),ye(X[R])},Rx=function(F,G){var me,je,Fe;switch(r=G||r,typeof F=="string"&&(me=p(F.toLowerCase()),Array.isArray(me)&&(je=me[0],Fe=me[1])),Array.isArray(F)&&(je=F[0]*Se,Fe=F[1]*Se),isNaN(je)&&(je=a[0],Fe=a[1]),(je>14400||Fe>14400)&&(wr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Fe=Math.min(14400,Fe)),a=[je,Fe],r.substr(0,1)){case"l":Fe>je&&(a=[Fe,je]);break;case"p":je>Fe&&(a=[Fe,je])}Nm(a),Kx(Sm),z(Oi),km!==0&&z(km+" J"),Pm!==0&&z(Pm+" j"),sr.publish("addPage",{pageNumber:en})},Ij=function(F){F>0&&F<=en&&(X.splice(F,1),Ft.splice(F,1),en--,R>en&&(R=en),this.setPage(R))},Qx=function(F){F>0&&F<=en&&(R=F)},Dj=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return X.length-1},$x=function(F,G,me){var je,Fe=void 0;return me=me||{},F=F!==void 0?F:We[xe].fontName,G=G!==void 0?G:We[xe].fontStyle,je=F.toLowerCase(),qt[je]!==void 0&&qt[je][G]!==void 0?Fe=qt[je][G]:qt[F]!==void 0&&qt[F][G]!==void 0?Fe=qt[F][G]:me.disableWarning===!1&&wr.warn("Unable to look up font label for font '"+F+"', '"+G+"'. Refer to getFontList() for available fonts."),Fe||me.noFallback||(Fe=qt.times[G])==null&&(Fe=qt.times.normal),Fe},Lj=f.__private__.putInfo=function(){var F=Dn(),G=function(je){return je};for(var me in u!==null&&(G=ys.encryptor(F,0)),z("<<"),z("/Producer ("+aa(G("jsPDF "+ft.version))+")"),be)be.hasOwnProperty(me)&&be[me]&&z("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+aa(G(be[me]))+")");z("/CreationDate ("+aa(G(L))+")"),z(">>"),z("endobj")},_m=f.__private__.putCatalog=function(F){var G=(F=F||{}).rootDictionaryObjId||Wo;switch(Dn(),z("<<"),z("/Type /Catalog"),z("/Pages "+G+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+De;me.substr(me.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&z("/OpenAction [3 0 R /XYZ null null "+T(De)+"]")}switch(ue||(ue="continuous"),ue){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}He&&z("/PageMode /"+He),sr.publish("putCatalog"),z(">>"),z("endobj")},Mj=f.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(ae+1)),z("/Root "+ae+" 0 R"),z("/Info "+(ae-1)+" 0 R"),u!==null&&z("/Encrypt "+ys.oid+" 0 R"),z("/ID [ <"+U+"> <"+U+"> ]"),z(">>")},Uj=f.__private__.putHeader=function(){z("%PDF-"+g),z("%")},Rj=f.__private__.putXRef=function(){var F="0000000000";z("xref"),z("0 "+(ae+1)),z("0000000000 65535 f ");for(var G=1;G<=ae;G++)typeof Ae[G]=="function"?z((F+Ae[G]()).slice(-10)+" 00000 n "):Ae[G]!==void 0?z((F+Ae[G]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},Go=f.__private__.buildDocument=function(){Qe(),ye(ne),sr.publish("buildDocument"),Uj(),Cd(),Mx(),Lx(),u!==null&&Pj(),Lj(),_m();var F=ie;return Rj(),Mj(),z("startxref"),z(""+F),z("%%EOF"),ye(X[R]),ne.join(`
`)},wA=f.__private__.getBlob=function(F){return new Blob([Ie(F)],{type:"application/pdf"})},jA=f.output=f.__private__.output=Ti(function(F,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",F){case void 0:return Go();case"save":f.save(G.filename);break;case"arraybuffer":return Ie(Go());case"blob":return wA(Go());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(wA(Go()))||void 0;wr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",je=Go();try{me=S4(je)}catch{me=S4(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+G.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Fe=G.pdfObjectUrl,$e="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",nt=wt.open();return nt!==null&&nt.document.write(Xe),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',Dt=wt.open();if(Dt!==null){Dt.document.write(ht);var Tt=this;Dt.document.documentElement.querySelector("#pdfViewer").onload=function(){Dt.document.title=G.filename,Dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return Dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',Vr=wt.open();if(Vr!==null&&(Vr.document.write(Gt),Vr.document.title=G.filename),Vr||typeof safari>"u")return Vr;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",G);default:return null}}),Hx=function(F){return Array.isArray(_d)===!0&&_d.indexOf(F)>-1};switch(n){case"pt":Se=1;break;case"mm":Se=72/25.4;break;case"cm":Se=72/2.54;break;case"in":Se=72;break;case"px":Se=Hx("px_scaling")==1?.75:96/72;break;case"pc":case"em":Se=12;break;case"ex":Se=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Se=n}var ys=null;ee(),Q();var Qj=function(F){return u!==null?ys.encryptor(F,0):function(G){return G}},qx=f.__private__.getPageInfo=f.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[F].objId,pageNumber:F,pageContext:Ft[F]}},Pt=f.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in Ft)if(Ft[G].objId===F)break;return qx(G)},$j=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ft[R].objId,pageNumber:R,pageContext:Ft[R]}};f.addPage=function(){return Rx.apply(this,arguments),this},f.setPage=function(){return Qx.apply(this,arguments),ye.call(this,X[R]),this},f.insertPage=function(F){return this.addPage(),this.movePage(R,F),this},f.movePage=function(F,G){var me,je;if(F>G){me=X[F],je=Ft[F];for(var Fe=F;Fe>G;Fe--)X[Fe]=X[Fe-1],Ft[Fe]=Ft[Fe-1];X[G]=me,Ft[G]=je,this.setPage(G)}else if(F<G){me=X[F],je=Ft[F];for(var $e=F;$e<G;$e++)X[$e]=X[$e+1],Ft[$e]=Ft[$e+1];X[G]=me,Ft[G]=je,this.setPage(G)}return this},f.deletePage=function(){return Ij.apply(this,arguments),this},f.__private__.text=f.text=function(F,G,me,je,Fe){var $e,Xe,nt,ht,Dt,Tt,Gt,Vr,tn,wn=(je=je||{}).scope||this;if(typeof F=="number"&&typeof G=="number"&&(typeof me=="string"||Array.isArray(me))){var vs=me;me=G,G=F,F=vs}if(arguments[3]instanceof yt?(_("The transform parameter of text() with a Matrix value"),tn=Fe):(nt=arguments[4],ht=arguments[5],fr(Gt=arguments[3])==="object"&&Gt!==null||(typeof nt=="string"&&(ht=nt,nt=null),typeof Gt=="string"&&(ht=Gt,Gt=null),typeof Gt=="number"&&(nt=Gt,Gt=null),je={flags:Gt,angle:nt,align:ht})),isNaN(G)||isNaN(me)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return wn;var Gn="",Ii=!1,Ca=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:Sd,yo=wn.internal.scaleFactor;function Zx(_r){return _r=_r.split("	").join(Array(je.TabLen||9).join(" ")),aa(_r,Gt)}function Dm(_r){for(var Cr,dn=_r.concat(),Ln=[],el=dn.length;el--;)typeof(Cr=dn.shift())=="string"?Ln.push(Cr):Array.isArray(_r)&&(Cr.length===1||Cr[1]===void 0&&Cr[2]===void 0)?Ln.push(Cr[0]):Ln.push([Cr[0],Cr[1],Cr[2]]);return Ln}function Lm(_r,Cr){var dn;if(typeof _r=="string")dn=Cr(_r)[0];else if(Array.isArray(_r)){for(var Ln,el,zm=_r.concat(),MA=[],sy=zm.length;sy--;)typeof(Ln=zm.shift())=="string"?MA.push(Cr(Ln)[0]):Array.isArray(Ln)&&typeof Ln[0]=="string"&&(el=Cr(Ln[0],Ln[1],Ln[2]),MA.push([el[0],el[1],el[2]]));dn=MA}return dn}var EA=!1,Mm=!0;if(typeof F=="string")EA=!0;else if(Array.isArray(F)){var Um=F.concat();Xe=[];for(var kA,ls=Um.length;ls--;)(typeof(kA=Um.shift())!="string"||Array.isArray(kA)&&typeof kA[0]!="string")&&(Mm=!1);EA=Mm}if(EA===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var PA=Le/wn.internal.scaleFactor,FA=PA*(Ca-1);switch(je.baseline){case"bottom":me-=FA;break;case"top":me+=PA-FA;break;case"hanging":me+=PA-2*FA;break;case"middle":me+=PA/2-FA}if((Tt=je.maxWidth||0)>0&&(typeof F=="string"?F=wn.splitTextToSize(F,Tt):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(_r,Cr){return _r.concat(wn.splitTextToSize(Cr,Tt))},[]))),$e={text:F,x:G,y:me,options:je,mutex:{pdfEscape:aa,activeFontKey:xe,fonts:We,activeFontSize:Le}},sr.publish("preProcessText",$e),F=$e.text,nt=(je=$e.options).angle,!(tn instanceof yt)&&nt&&typeof nt=="number"){nt*=Math.PI/180,je.rotationDirection===0&&(nt=-nt),b===y.ADVANCED&&(nt=-nt);var TA=Math.cos(nt),Rm=Math.sin(nt);tn=new yt(TA,Rm,-Rm,TA,0,0)}else nt&&nt instanceof yt&&(tn=nt);b!==y.ADVANCED||tn||(tn=fo),(Dt=je.charSpace||CA)!==void 0&&(Gn+=k(E(Dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vr=je.horizontalScale)!==void 0&&(Gn+=k(100*Vr)+` Tz
`),je.lang;var ia=-1,Jj=je.renderingMode!==void 0?je.renderingMode:je.stroke,Qm=wn.internal.getCurrentPageInfo().pageContext;switch(Jj){case 0:case!1:case"fill":ia=0;break;case 1:case!0:case"stroke":ia=1;break;case 2:case"fillThenStroke":ia=2;break;case 3:case"invisible":ia=3;break;case 4:case"fillAndAddForClipping":ia=4;break;case 5:case"strokeAndAddPathForClipping":ia=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ia=6;break;case 7:case"addToPathForClipping":ia=7}var ey=Qm.usedRenderingMode!==void 0?Qm.usedRenderingMode:-1;ia!==-1?Gn+=ia+` Tr
`:ey!==-1&&(Gn+=`0 Tr
`),ia!==-1&&(Qm.usedRenderingMode=ia),ht=je.align||"left";var Va,OA=Le*Ca,ty=wn.internal.pageSize.getWidth(),ry=We[xe];Dt=je.charSpace||CA,Tt=je.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},je.flags);var nc=[],Pd=function(_r){return wn.getStringUnitWidth(_r,{font:ry,charSpace:Dt,fontSize:Le,doKerning:!1})*Le/yo};if(Object.prototype.toString.call(F)==="[object Array]"){var oa;Xe=Dm(F),ht!=="left"&&(Va=Xe.map(Pd));var Qs,sc=0;if(ht==="right"){G-=Va[0],F=[],ls=Xe.length;for(var Yo=0;Yo<ls;Yo++)Yo===0?(Qs=xo(G),oa=Xo(me)):(Qs=E(sc-Va[Yo]),oa=-OA),F.push([Xe[Yo],Qs,oa]),sc=Va[Yo]}else if(ht==="center"){G-=Va[0]/2,F=[],ls=Xe.length;for(var Jo=0;Jo<ls;Jo++)Jo===0?(Qs=xo(G),oa=Xo(me)):(Qs=E((sc-Va[Jo])/2),oa=-OA),F.push([Xe[Jo],Qs,oa]),sc=Va[Jo]}else if(ht==="left"){F=[],ls=Xe.length;for(var IA=0;IA<ls;IA++)F.push(Xe[IA])}else if(ht==="justify"&&ry.encoding==="Identity-H"){F=[],ls=Xe.length,Tt=Tt!==0?Tt:ty;for(var Zo=0,cn=0;cn<ls;cn++)if(oa=cn===0?Xo(me):-OA,Qs=cn===0?xo(G):Zo,cn<ls-1){var $m=E((Tt-Va[cn])/(Xe[cn].split(" ").length-1)),$s=Xe[cn].split(" ");F.push([$s[0]+" ",Qs,oa]),Zo=0;for(var Ka=1;Ka<$s.length;Ka++){var DA=(Pd($s[Ka-1]+" "+$s[Ka])-Pd($s[Ka]))*yo+$m;Ka==$s.length-1?F.push([$s[Ka],DA,0]):F.push([$s[Ka]+" ",DA,0]),Zo-=DA}}else F.push([Xe[cn],Qs,oa]);F.push(["",Zo,0])}else{if(ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],ls=Xe.length,Tt=Tt!==0?Tt:ty,cn=0;cn<ls;cn++)oa=cn===0?Xo(me):-OA,Qs=cn===0?xo(G):0,cn<ls-1?nc.push(k(E((Tt-Va[cn])/(Xe[cn].split(" ").length-1)))):nc.push(0),F.push([Xe[cn],Qs,oa])}}var ny=typeof je.R2L=="boolean"?je.R2L:ce;ny===!0&&(F=Lm(F,function(_r,Cr,dn){return[_r.split("").reverse().join(""),Cr,dn]})),$e={text:F,x:G,y:me,options:je,mutex:{pdfEscape:aa,activeFontKey:xe,fonts:We,activeFontSize:Le}},sr.publish("postProcessText",$e),F=$e.text,Ii=$e.mutex.isHex||!1;var Hm=We[xe].encoding;Hm!=="WinAnsiEncoding"&&Hm!=="StandardEncoding"||(F=Lm(F,function(_r,Cr,dn){return[Zx(_r),Cr,dn]})),Xe=Dm(F),F=[];for(var Fd,Td,ac,Od=0,LA=1,Id=Array.isArray(Xe[0])?LA:Od,ic="",qm=function(_r,Cr,dn){var Ln="";return dn instanceof yt?(dn=typeof je.angle=="number"?Ei(dn,new yt(1,0,0,1,_r,Cr)):Ei(new yt(1,0,0,1,_r,Cr),dn),b===y.ADVANCED&&(dn=Ei(new yt(1,0,0,-1,0,0),dn)),Ln=dn.join(" ")+` Tm
`):Ln=k(_r)+" "+k(Cr)+` Td
`,Ln},Wa=0;Wa<Xe.length;Wa++){switch(ic="",Id){case LA:ac=(Ii?"<":"(")+Xe[Wa][0]+(Ii?">":")"),Fd=parseFloat(Xe[Wa][1]),Td=parseFloat(Xe[Wa][2]);break;case Od:ac=(Ii?"<":"(")+Xe[Wa]+(Ii?">":")"),Fd=xo(G),Td=Xo(me)}nc!==void 0&&nc[Wa]!==void 0&&(ic=nc[Wa]+` Tw
`),Wa===0?F.push(ic+qm(Fd,Td,tn)+ac):Id===Od?F.push(ic+ac):Id===LA&&F.push(ic+qm(Fd,Td,tn)+ac)}F=Id===Od?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Ga=`BT
/`;return Ga+=xe+" "+Le+` Tf
`,Ga+=k(Le*Ca)+` TL
`,Ga+=Ed+`
`,Ga+=Gn,Ga+=F,z(Ga+="ET"),h[xe]=!0,wn};var Hj=f.__private__.clip=f.clip=function(F){return z(F==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Hj("evenodd")},f.__private__.discardPath=f.discardPath=function(){return z("n"),this};var go=f.__private__.isValidStyle=function(F){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(G=!0),G};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(F){return go(F)&&(d=F),this};var zx=f.__private__.getStyle=f.getStyle=function(F){var G=d;switch(F){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=F}return G},Vx=f.close=function(){return z("h"),this};f.stroke=function(){return z("S"),this},f.fill=function(F){return NA("f",F),this},f.fillEvenOdd=function(F){return NA("f*",F),this},f.fillStroke=function(F){return NA("B",F),this},f.fillStrokeEvenOdd=function(F){return NA("B*",F),this};var NA=function(F,G){fr(G)==="object"?zj(G,F):z(F)},Cm=function(F){F===null||b===y.ADVANCED&&F===void 0||(F=zx(F),z(F))};function qj(F,G,me,je,Fe){var $e=new Oh(G||this.boundingBox,me||this.xStep,je||this.yStep,this.gState,Fe||this.matrix);$e.stream=this.stream;var Xe=F+"$$"+this.cloneIndex+++"$$";return sa(Xe,$e),$e}var zj=function(F,G){var me=zt[F.key],je=er[me];if(je instanceof iu)z("q"),z(Vj(G)),je.gState&&f.setGState(je.gState),z(F.matrix.toString()+" cm"),z("/"+me+" sh"),z("Q");else if(je instanceof Oh){var Fe=new yt(1,0,0,-1,0,rc());F.matrix&&(Fe=Fe.multiply(F.matrix||fo),me=qj.call(je,F.key,F.boundingBox,F.xStep,F.yStep,Fe).id),z("q"),z("/Pattern cs"),z("/"+me+" scn"),je.gState&&f.setGState(je.gState),z(G),z("Q")}},Vj=function(F){switch(F){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Bm=f.moveTo=function(F,G){return z(k(E(F))+" "+k(O(G))+" m"),this},Bd=f.lineTo=function(F,G){return z(k(E(F))+" "+k(O(G))+" l"),this},ec=f.curveTo=function(F,G,me,je,Fe,$e){return z([k(E(F)),k(O(G)),k(E(me)),k(O(je)),k(E(Fe)),k(O($e)),"c"].join(" ")),this};f.__private__.line=f.line=function(F,G,me,je,Fe){if(isNaN(F)||isNaN(G)||isNaN(me)||isNaN(je)||!go(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[me-F,je-G]],F,G,[1,1],Fe||"S"):this.lines([[me-F,je-G]],F,G,[1,1]).stroke()},f.__private__.lines=f.lines=function(F,G,me,je,Fe,$e){var Xe,nt,ht,Dt,Tt,Gt,Vr,tn,wn,vs,Gn,Ii;if(typeof F=="number"&&(Ii=me,me=G,G=F,F=Ii),je=je||[1,1],$e=$e||!1,isNaN(G)||isNaN(me)||!Array.isArray(F)||!Array.isArray(je)||!go(Fe)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bm(G,me),Xe=je[0],nt=je[1],Dt=F.length,vs=G,Gn=me,ht=0;ht<Dt;ht++)(Tt=F[ht]).length===2?(vs=Tt[0]*Xe+vs,Gn=Tt[1]*nt+Gn,Bd(vs,Gn)):(Gt=Tt[0]*Xe+vs,Vr=Tt[1]*nt+Gn,tn=Tt[2]*Xe+vs,wn=Tt[3]*nt+Gn,vs=Tt[4]*Xe+vs,Gn=Tt[5]*nt+Gn,ec(Gt,Vr,tn,wn,vs,Gn));return $e&&Vx(),Cm(Fe),this},f.path=function(F){for(var G=0;G<F.length;G++){var me=F[G],je=me.c;switch(me.op){case"m":Bm(je[0],je[1]);break;case"l":Bd(je[0],je[1]);break;case"c":ec.apply(this,je);break;case"h":Vx()}}return this},f.__private__.rect=f.rect=function(F,G,me,je,Fe){if(isNaN(F)||isNaN(G)||isNaN(me)||isNaN(je)||!go(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(je=-je),z([k(E(F)),k(O(G)),k(E(me)),k(E(je)),"re"].join(" ")),Cm(Fe),this},f.__private__.triangle=f.triangle=function(F,G,me,je,Fe,$e,Xe){if(isNaN(F)||isNaN(G)||isNaN(me)||isNaN(je)||isNaN(Fe)||isNaN($e)||!go(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-F,je-G],[Fe-me,$e-je],[F-Fe,G-$e]],F,G,[1,1],Xe,!0),this},f.__private__.roundedRect=f.roundedRect=function(F,G,me,je,Fe,$e,Xe){if(isNaN(F)||isNaN(G)||isNaN(me)||isNaN(je)||isNaN(Fe)||isNaN($e)||!go(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*me),$e=Math.min($e,.5*je),this.lines([[me-2*Fe,0],[Fe*nt,0,Fe,$e-$e*nt,Fe,$e],[0,je-2*$e],[0,$e*nt,-Fe*nt,$e,-Fe,$e],[2*Fe-me,0],[-Fe*nt,0,-Fe,-$e*nt,-Fe,-$e],[0,2*$e-je],[0,-$e*nt,Fe*nt,-$e,Fe,-$e]],F+Fe,G,[1,1],Xe,!0),this},f.__private__.ellipse=f.ellipse=function(F,G,me,je,Fe){if(isNaN(F)||isNaN(G)||isNaN(me)||isNaN(je)||!go(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*me,Xe=4/3*(Math.SQRT2-1)*je;return Bm(F+me,G),ec(F+me,G-Xe,F+$e,G-je,F,G-je),ec(F-$e,G-je,F-me,G-Xe,F-me,G),ec(F-me,G+Xe,F-$e,G+je,F,G+je),ec(F+$e,G+je,F+me,G+Xe,F+me,G),Cm(Fe),this},f.__private__.circle=f.circle=function(F,G,me,je){if(isNaN(F)||isNaN(G)||isNaN(me)||!go(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,G,me,me,je)},f.setFont=function(F,G,me){return me&&(G=C(G,me)),xe=$x(F,G,{disableWarning:!1}),this};var Kj=f.__private__.getFont=f.getFont=function(){return We[$x.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var F,G,me={};for(F in qt)if(qt.hasOwnProperty(F))for(G in me[F]=[],qt[F])qt[F].hasOwnProperty(G)&&me[F].push(G);return me},f.addFont=function(F,G,me,je,Fe){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(me=C(me,je)),Fe=Fe||"Identity-H",jm.call(this,F,G,me,Fe)};var Sd,Sm=t.lineWidth||.200025,_A=f.__private__.getLineWidth=f.getLineWidth=function(){return Sm},Kx=f.__private__.setLineWidth=f.setLineWidth=function(F){return Sm=F,z(k(E(F))+" w"),this};f.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(F,G){if(F=F||[],G=G||0,isNaN(G)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(me){return k(E(me))}).join(" "),G=k(E(G)),z("["+F+"] "+G+" d"),this};var Wx=f.__private__.getLineHeight=f.getLineHeight=function(){return Le*Sd};f.__private__.getLineHeight=f.getLineHeight=function(){return Le*Sd};var Gx=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(Sd=F),this},Xx=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Sd};Gx(t.lineHeight);var xo=f.__private__.getHorizontalCoordinate=function(F){return E(F)},Xo=f.__private__.getVerticalCoordinate=function(F){return b===y.ADVANCED?F:Ft[R].mediaBox.topRightY-Ft[R].mediaBox.bottomLeftY-E(F)},Wj=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(F){return k(xo(F))},tc=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(F){return k(Xo(F))},Oi=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Pi(Oi)},f.__private__.setStrokeColor=f.setDrawColor=function(F,G,me,je){return Oi=Fi({ch1:F,ch2:G,ch3:me,ch4:je,pdfColorType:"draw",precision:2}),z(Oi),this};var Em=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Pi(Em)},f.__private__.setFillColor=f.setFillColor=function(F,G,me,je){return Em=Fi({ch1:F,ch2:G,ch3:me,ch4:je,pdfColorType:"fill",precision:2}),z(Em),this};var Ed=t.textColor||"0 g",Gj=f.__private__.getTextColor=f.getTextColor=function(){return Pi(Ed)};f.__private__.setTextColor=f.setTextColor=function(F,G,me,je){return Ed=Fi({ch1:F,ch2:G,ch3:me,ch4:je,pdfColorType:"text",precision:3}),this};var CA=t.charSpace,Xj=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(CA||0)};f.__private__.setCharSpace=f.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return CA=F,this};var km=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(F){var G=f.CapJoinStyles[F];if(G===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return km=G,z(G+" J"),this};var Pm=0;f.__private__.setLineJoin=f.setLineJoin=function(F){var G=f.CapJoinStyles[F];if(G===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pm=G,z(G+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(k(E(F))+" M"),this},f.GState=dw,f.setGState=function(F){(F=typeof F=="string"?tr[Si[F]]:Yx(null,F)).equals(Ko)||(z("/"+F.id+" gs"),Ko=F)};var Yx=function(F,G){if(!F||!Si[F]){var me=!1;for(var je in tr)if(tr.hasOwnProperty(je)&&tr[je].equals(G)){me=!0;break}if(me)G=tr[je];else{var Fe="GS"+(Object.keys(tr).length+1).toString(10);tr[Fe]=G,G.id=Fe}return F&&(Si[F]=G.id),sr.publish("addGState",G),G}};f.addGState=function(F,G){return Yx(F,G),this},f.saveGraphicsState=function(){return z("q"),is.push({key:xe,size:Le,color:Ed}),this},f.restoreGraphicsState=function(){z("Q");var F=is.pop();return xe=F.key,Le=F.size,Ed=F.color,Ko=null,this},f.setCurrentTransformationMatrix=function(F){return z(F.toString()+" cm"),this},f.comment=function(F){return z("#"+F),this};var BA=function(F,G){var me=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function($e){isNaN($e)||(me=parseFloat($e))}});var je=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function($e){isNaN($e)||(je=parseFloat($e))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function($e){Fe=$e.toString()}}),this},Fm=function(F,G,me,je){BA.call(this,F,G),this.type="rect";var Fe=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(Xe){isNaN(Xe)||(Fe=parseFloat(Xe))}});var $e=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Xe){isNaN(Xe)||($e=parseFloat(Xe))}}),this},Tm=function(){this.page=en,this.currentPage=R,this.pages=X.slice(0),this.pagesContext=Ft.slice(0),this.x=Ye,this.y=ve,this.matrix=Bt,this.width=kd(R),this.height=rc(R),this.outputDestination=Me,this.id="",this.objectNumber=-1};Tm.prototype.restore=function(){en=this.page,R=this.currentPage,Ft=this.pagesContext,X=this.pages,Ye=this.x,ve=this.y,Bt=this.matrix,Om(R,this.width),Im(R,this.height),Me=this.outputDestination};var Jx=function(F,G,me,je,Fe){ho.push(new Tm),en=R=0,X=[],Ye=F,ve=G,Bt=Fe,Nm([me,je])},Yj=function(F){if(Ao[F])ho.pop().restore();else{var G=new Tm,me="Xo"+(Object.keys(os).length+1).toString(10);G.id=me,Ao[F]=me,os[me]=G,sr.publish("addFormObject",G),ho.pop().restore()}};for(var SA in f.beginFormObject=function(F,G,me,je,Fe){return Jx(F,G,me,je,Fe),this},f.endFormObject=function(F){return Yj(F),this},f.doFormObject=function(F,G){var me=os[Ao[F]];return z("q"),z(G.toString()+" cm"),z("/"+me.id+" Do"),z("Q"),this},f.getFormObject=function(F){var G=os[Ao[F]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},f.save=function(F,G){return F=F||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(Yd(wA(Go()),F),typeof Yd.unload=="function"&&wt.setTimeout&&setTimeout(Yd.unload,911),this):new Promise(function(me,je){try{var Fe=Yd(wA(Go()),F);typeof Yd.unload=="function"&&wt.setTimeout&&setTimeout(Yd.unload,911),me(Fe)}catch($e){je($e.message)}})},ft.API)ft.API.hasOwnProperty(SA)&&(SA==="events"&&ft.API.events.length?function(F,G){var me,je,Fe;for(Fe=G.length-1;Fe!==-1;Fe--)me=G[Fe][0],je=G[Fe][1],F.subscribe.apply(F,[me].concat(typeof je=="function"?[je]:je))}(sr,ft.API.events):f[SA]=ft.API[SA]);var kd=f.getPageWidth=function(F){return(Ft[F=F||R].mediaBox.topRightX-Ft[F].mediaBox.bottomLeftX)/Se},Om=f.setPageWidth=function(F,G){Ft[F].mediaBox.topRightX=G*Se+Ft[F].mediaBox.bottomLeftX},rc=f.getPageHeight=function(F){return(Ft[F=F||R].mediaBox.topRightY-Ft[F].mediaBox.bottomLeftY)/Se},Im=f.setPageHeight=function(F,G){Ft[F].mediaBox.topRightY=G*Se+Ft[F].mediaBox.bottomLeftY};return f.internal={pdfEscape:aa,getStyle:zx,getFont:Kj,getFontSize:Ee,getCharSpace:Xj,getTextColor:Gj,getLineHeight:Wx,getLineHeightFactor:Xx,getLineWidth:_A,write:ke,getHorizontalCoordinate:xo,getVerticalCoordinate:Xo,getCoordinateString:Wj,getVerticalCoordinateString:tc,collections:{},newObject:Dn,newAdditionalObject:fA,newObjectDeferred:bn,newObjectDeferredBegin:_a,getFilters:mo,putStream:za,events:sr,scaleFactor:Se,pageSize:{getWidth:function(){return kd(R)},setWidth:function(F){Om(R,F)},getHeight:function(){return rc(R)},setHeight:function(F){Im(R,F)}},encryptionOptions:u,encryption:ys,getEncryptor:Qj,output:jA,getNumberOfPages:Dj,pages:X,out:z,f2:T,f3:w,getPageInfo:qx,getPageInfoByObjId:Pt,getCurrentPageInfo:$j,getPDFVersion:x,Point:BA,Rectangle:Fm,Matrix:yt,hasHotfix:Hx},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return kd(R)},set:function(F){Om(R,F)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return rc(R)},set:function(F){Im(R,F)},enumerable:!0,configurable:!0}),Oj.call(f,Pe),xe="F1",Rx(a,r),sr.publish("initialized"),f}Ah.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Ah.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ah.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Ah.prototype.processOwnerPassword=function(t,e){return k4(E4(e).substr(0,5),t)},Ah.prototype.encryptor=function(t,e){var r=E4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return k4(r,n)}},dw.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||fr(t)!==fr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ft.API={events:[]},ft.version="2.5.2";var nn=ft.API,TE=1,oA=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},XA=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},gc=function(t){return t.toFixed(5)};nn.__acroform__={};var ja=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rO=function(t){return t*TE},No=function(t){var e=new aH,r=ut.internal.getHeight(t)||0,n=ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(n)),Number(Ot(r))],e},iue=nn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},oue=nn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},lue=nn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},mn=nn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lue(t,e-1)},pn=nn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return iue(t,e-1)},gn=nn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oue(t,e-1)},cue=nn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Ot(c.lowerLeft_X)),Number(Ot(c.lowerLeft_Y)),Number(Ot(c.upperRight_X)),Number(Ot(c.upperRight_Y))]},due=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=P4(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Ot(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=No(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},P4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(w){return w.split(`
`)}):a.map(function(w){return[w]});var i=r,o=ut.internal.getHeight(t)||0;o=o<0?-o:o;var l=ut.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(w,E,D){if(w+1<a.length){var O=E+" "+a[w+1][0];return Xy(O,t,D).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,A=Xy("3",t,i).height,h=t.multiline?o-i:(o-A)/2,f=h+=2,g=0,x=0,m=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xy(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var p="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var N=!1;if(a[b].length!==1&&m!==a[b].length-1){if((A+2)*(y+2)+2>o)continue e;p+=a[b][m],N=!0,x=b,b--}else{p=(p+=a[b][m]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var j=parseInt(b),C=c(j,p,i),k=b>=a.length-1;if(C&&!k){p+=" ",m=0;continue}if(C||k){if(k)x=j;else if(t.multiline&&(A+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(A+2)*(y+2)+2>o)continue e;x=j}}for(var _="",B=g;B<=x;B++){var T=a[B];if(t.multiline){if(B===x){_+=T[m]+" ",m=(m+1)%T.length;continue}if(B===g){_+=T[T.length-1]+" ";continue}}_+=T[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=Xy(_,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}e+=Ot(d)+" "+Ot(f)+` Td
`,e+="("+oA(_)+`) Tj
`,e+=-Ot(d)+` 0 Td
`,f=-(i+2),u=0,g=N?x:x+1,y++,p=""}break}return n.text=e,n.fontSize=i,n},Xy=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},uue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Aue=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},hue=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),fr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},fue=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(io.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(uue)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new iH,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Aue(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=cue(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ut.createDefaultAppearanceStream(l),fr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=due(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var A="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var f=l.appearanceStreamContent[h];if(A+="/"+h+" ",A+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(a,l)),A+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(a,l)),A+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&hue(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},sH=nn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),fr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+oA(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w_=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+oA(n(t))+")"},ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ko.prototype.toString=function(){return this.objId+" 0 R"},ko.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ko.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:sH(a,this.objId,this.scope)}):a instanceof ko?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var aH=function(){ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ja(aH,ko);var iH=function(){ko.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+oA(r(t))+")"}},set:function(r){t=r}})};ja(iH,ko);var io=function t(){ko.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');e=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mn(e,3)},set:function(p){p?this.F=pn(e,3):this.F=gn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');r=p}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(p){n=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(p){n[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(p){n[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(p){n[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(p){n[3]=p}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof uw)return;i="FieldObject"+t.FieldNum++}var p=function(y){return y};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+oA(p(i))+")"},set:function(p){i=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(p){i=p}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(p){c=p}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/TE:d},set:function(p){d=p}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(p){u=p}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof uw||this instanceof Eu))return w_(A,this.objId,this.scope)},set:function(p){p=p.toString(),A=p}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ts?h:w_(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=this instanceof ts?p:p.substr(0,1)==="("?XA(p.substr(1,p.length-2)):XA(p)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ts?XA(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof ts?"/"+p:p}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ts?f:w_(f,this.objId,this.scope)},set:function(p){p=p.toString(),f=this instanceof ts?p:p.substr(0,1)==="("?XA(p.substr(1,p.length-2)):XA(p)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ts?XA(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof ts?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(p){p=!!p,x=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(p){g=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,1)},set:function(p){p?this.Ff=pn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,2)},set:function(p){p?this.Ff=pn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,3)},set:function(p){p?this.Ff=pn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');m=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(m){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};ja(io,ko);var Zh=function(){io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sH(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,18)},set:function(r){r?this.Ff=pn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=pn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,20)},set:function(r){r?(this.Ff=pn(this.Ff,20),e.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,22)},set:function(r){r?this.Ff=pn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(r){r?this.Ff=pn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,27)},set:function(r){r?this.Ff=pn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};ja(Zh,io);var ef=function(){Zh.call(this),this.fontName="helvetica",this.combo=!1};ja(ef,Zh);var tf=function(){ef.call(this),this.combo=!0};ja(tf,ef);var mb=function(){tf.call(this),this.edit=!0};ja(mb,tf);var ts=function(){io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,15)},set:function(r){r?this.Ff=pn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,16)},set:function(r){r?this.Ff=pn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,17)},set:function(r){r?this.Ff=pn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(r){r?this.Ff=pn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+oA(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){fr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ja(ts,io);var pb=function(){ts.call(this),this.pushButton=!0};ja(pb,ts);var rf=function(){ts.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ja(rf,ts);var uw=function(){var t,e;io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+oA(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){fr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ja(uw,io),rf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},rf.prototype.createOption=function(t){var e=new uw;return e.Parent=this,e.optionName=t,this.Kids.push(e),mue.call(this.scope,e),e};var gb=function(){ts.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};ja(gb,ts);var Eu=function(){io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,13)},set:function(e){e?this.Ff=pn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,21)},set:function(e){e?this.Ff=pn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(e){e?this.Ff=pn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,24)},set:function(e){e?this.Ff=pn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,25)},set:function(e){e?this.Ff=pn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(e){e?this.Ff=pn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ja(Eu,io);var xb=function(){Eu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,14)},set:function(t){t?this.Ff=pn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};ja(xb,Eu);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=P4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ot(ut.internal.getWidth(t))+" "+Ot(ut.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ot(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=No(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=ut.internal.getHeight(t),o=ut.internal.getWidth(t),l=P4(t,t.caption);return a.push("1 g"),a.push("0 0 "+Ot(o)+" "+Ot(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ot(o-1)+" "+Ot(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ot(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(ut.internal.getWidth(t))+" "+Ot(ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Circle.YesNormal,e.D[t]=ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=No(t);e.scope=t.scope;var r=[],n=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=ut.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+gc(ut.internal.getWidth(t)/2)+" "+gc(ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[],n=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ut.internal.Bezier_C).toFixed(5)),o=Number((n*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gc(ut.internal.getWidth(t)/2)+" "+gc(ut.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+gc(ut.internal.getWidth(t)/2)+" "+gc(ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[],n=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gc(ut.internal.getWidth(t)/2)+" "+gc(ut.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Cross.YesNormal,e.D[t]=ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=No(t);e.scope=t.scope;var r=[],n=ut.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ot(ut.internal.getWidth(t)-2)+" "+Ot(ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),r.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),r.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),r.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=No(t);e.scope=t.scope;var r=ut.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(ut.internal.getWidth(t))+" "+Ot(ut.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ot(ut.internal.getWidth(t)-2)+" "+Ot(ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),n.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),n.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),n.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(ut.internal.getWidth(t))+" "+Ot(ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ut.internal.getWidth(t),r=ut.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ut.internal.getWidth=function(t){var e=0;return fr(t)==="object"&&(e=rO(t.Rect[2])),e},ut.internal.getHeight=function(t){var e=0;return fr(t)==="object"&&(e=rO(t.Rect[3])),e};var mue=nn.addField=function(t){if(fue(this,t),!(t instanceof io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};nn.AcroFormChoiceField=Zh,nn.AcroFormListBox=ef,nn.AcroFormComboBox=tf,nn.AcroFormEditBox=mb,nn.AcroFormButton=ts,nn.AcroFormPushButton=pb,nn.AcroFormRadioButton=rf,nn.AcroFormCheckBox=gb,nn.AcroFormTextField=Eu,nn.AcroFormPasswordField=xb,nn.AcroFormAppearance=ut,nn.AcroForm={ChoiceField:Zh,ListBox:ef,ComboBox:tf,EditBox:mb,Button:ts,PushButton:pb,RadioButton:rf,CheckBox:gb,TextField:Eu,PasswordField:xb,Appearance:ut},ft.AcroForm={ChoiceField:Zh,ListBox:ef,ComboBox:tf,EditBox:mb,Button:ts,PushButton:pb,RadioButton:rf,CheckBox:gb,TextField:Eu,PasswordField:xb,Appearance:ut};ft.AcroForm;function oH(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(w,E){var D,O,L,U,M,Q=e;if((E=E||e)==="RGBA"||w.data!==void 0&&w.data instanceof Uint8ClampedArray&&"height"in w&&"width"in w)return"RGBA";if(C(w))for(M in r)for(L=r[M],D=0;D<L.length;D+=1){for(U=!0,O=0;O<L[D].length;O+=1)if(L[D][O]!==void 0&&L[D][O]!==w[O]){U=!1;break}if(U===!0){Q=M;break}}else for(M in r)for(L=r[M],D=0;D<L.length;D+=1){for(U=!0,O=0;O<L[D].length;O+=1)if(L[D][O]!==void 0&&L[D][O]!==w.charCodeAt(O)){U=!1;break}if(U===!0){Q=M;break}}return Q===e&&E!==e&&(Q=E),Q},a=function w(E){for(var D=this.internal.write,O=this.internal.putStream,L=(0,this.internal.getFilters)();L.indexOf("FlateEncode")!==-1;)L.splice(L.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:E.width}),U.push({key:"Height",value:E.height}),E.colorSpace===m.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===m.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var M="",Q=0,q=E.transparency.length;Q<q;Q++)M+=E.transparency[Q]+" "+E.transparency[Q]+" ";U.push({key:"Mask",value:"["+M+"]"})}E.sMask!==void 0&&U.push({key:"SMask",value:E.objectId+1+" 0 R"});var J=E.filter!==void 0?["/"+E.filter]:void 0;if(O({data:E.data,additionalKeyValues:U,alreadyAppliedFilters:J,objectId:E.objectId}),D("endobj"),"sMask"in E&&E.sMask!==void 0){var ee="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,$={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:ee,data:E.sMask};"filter"in E&&($.filter=E.filter),w.call(this,$)}if(E.colorSpace===m.INDEXED){var R=this.internal.newObject();O({data:_(new Uint8Array(E.palette)),objectId:R}),D("endobj")}},i=function(){var w=this.internal.collections.addImage_images;for(var E in w)a.call(this,w[E])},o=function(){var w,E=this.internal.collections.addImage_images,D=this.internal.write;for(var O in E)D("/I"+(w=E[O]).index,w.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var w=this.internal.collections.addImage_images;return l.call(this),w},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(w){return typeof t["process"+w.toUpperCase()]=="function"},A=function(w){return fr(w)==="object"&&w.nodeType===1},h=function(w,E){if(w.nodeName==="IMG"&&w.hasAttribute("src")){var D=""+w.getAttribute("src");if(D.indexOf("data:image/")===0)return pg(unescape(D).split("base64,").pop());var O=t.loadFile(D,!0);if(O!==void 0)return O}if(w.nodeName==="CANVAS"){if(w.width===0||w.height===0)throw new Error("Given canvas must have data. Canvas width: "+w.width+", height: "+w.height);var L;switch(E){case"PNG":L="image/png";break;case"WEBP":L="image/webp";break;case"JPEG":case"JPG":default:L="image/jpeg"}return pg(w.toDataURL(L,1).split("base64,").pop())}},f=function(w){var E=this.internal.collections.addImage_images;if(E){for(var D in E)if(w===E[D].alias)return E[D]}},g=function(w,E,D){return w||E||(w=-96,E=-96),w<0&&(w=-1*D.width*72/w/this.internal.scaleFactor),E<0&&(E=-1*D.height*72/E/this.internal.scaleFactor),w===0&&(w=E*D.width/D.height),E===0&&(E=w*D.height/D.width),[w,E]},x=function(w,E,D,O,L,U){var M=g.call(this,D,O,L),Q=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,J=c.call(this);if(D=M[0],O=M[1],J[L.index]=L,U){U*=Math.PI/180;var ee=Math.cos(U),$=Math.sin(U),R=function(V){return V.toFixed(4)},K=[R(ee),R($),R(-1*$),R(ee),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,Q(w),q(E+O),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([Q(D),"0","0",Q(O),"0","0","cm"].join(" "))):this.internal.write([Q(D),"0","0",Q(O),Q(w),q(E+O),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+L.index+" Do"),this.internal.write("Q")},m=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var p=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(w){var E,D,O=0;if(typeof w=="string")for(D=w.length,E=0;E<D;E++)O=(O<<5)-O+w.charCodeAt(E),O|=0;else if(C(w))for(D=w.byteLength/2,E=0;E<D;E++)O=(O<<5)-O+w[E],O|=0;return O},b=t.__addimage__.validateStringAsBase64=function(w){(w=w||"").toString().trim();var E=!0;return w.length===0&&(E=!1),w.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(w.substr(0,w.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(w.substr(-2))===!1&&(E=!1),E},N=t.__addimage__.extractImageFromDataUrl=function(w){var E=(w=w||"").split("base64,"),D=null;if(E.length===2){var O=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(O)&&(D={mimeType:O[1],charset:O[2],data:E[1]})}return D},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(w){return j()&&w instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(w){return j()&&typeof Uint32Array<"u"&&(w instanceof Int8Array||w instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array)},k=t.__addimage__.binaryStringToUint8Array=function(w){for(var E=w.length,D=new Uint8Array(E),O=0;O<E;O++)D[O]=w.charCodeAt(O);return D},_=t.__addimage__.arrayBufferToBinaryString=function(w){for(var E="",D=C(w)?w:new Uint8Array(w),O=0;O<D.length;O+=8192)E+=String.fromCharCode.apply(null,D.subarray(O,O+8192));return E};t.addImage=function(){var w,E,D,O,L,U,M,Q,q;if(typeof arguments[1]=="number"?(E=e,D=arguments[1],O=arguments[2],L=arguments[3],U=arguments[4],M=arguments[5],Q=arguments[6],q=arguments[7]):(E=arguments[1],D=arguments[2],O=arguments[3],L=arguments[4],U=arguments[5],M=arguments[6],Q=arguments[7],q=arguments[8]),fr(w=arguments[0])==="object"&&!A(w)&&"imageData"in w){var J=w;w=J.imageData,E=J.format||E||e,D=J.x||D||0,O=J.y||O||0,L=J.w||J.width||L,U=J.h||J.height||U,M=J.alias||M,Q=J.compression||Q,q=J.rotation||J.angle||q}var ee=this.internal.getFilters();if(Q===void 0&&ee.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(D)||isNaN(O))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=B.call(this,w,E,M,Q);return x.call(this,D,O,L,U,$,q),this};var B=function(w,E,D,O){var L,U,M;if(typeof w=="string"&&n(w)===e){w=unescape(w);var Q=T(w,!1);(Q!==""||(Q=t.loadFile(w,!0))!==void 0)&&(w=Q)}if(A(w)&&(w=h(w,E)),E=n(w,E),!u(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((M=D)==null||M.length===0)&&(D=function(q){return typeof q=="string"||C(q)?y(q):C(q.data)?y(q.data):null}(w)),(L=f.call(this,D))||(j()&&(w instanceof Uint8Array||E==="RGBA"||(U=w,w=k(w))),L=this["process"+E.toUpperCase()](w,d.call(this),D,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in t.image_compression?q:p.NONE}(O),U)),!L)throw new Error("An unknown error occurred whilst processing the image.");return L},T=t.__addimage__.convertBase64ToBinaryString=function(w,E){var D;E=typeof E!="boolean"||E;var O,L="";if(typeof w=="string"){O=(D=N(w))!==null?D.data:w;try{L=pg(O)}catch(U){if(E)throw b(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};t.getImageProperties=function(w){var E,D,O="";if(A(w)&&(w=h(w)),typeof w=="string"&&n(w)===e&&((O=T(w,!1))===""&&(O=t.loadFile(w)||""),w=O),D=n(w),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!j()||w instanceof Uint8Array||(w=k(w)),!(E=this["process"+D.toUpperCase()](w)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=D,E}})(ft.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ft.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,A=0;A<d.length&&!u;A++)switch((n=d[A]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<d.length;h++){n=d[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(x.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(p(n.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(p(y))+") >>",x.content=i;var b=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(x.objId,"0 R",m.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length==4},A=t.__arabicParser__.resolveLigatures=function(x){var m=0,p=r,y="",b=0;for(m=0;m<x.length;m+=1)p[x.charCodeAt(m)]!==void 0?(b++,typeof(p=p[x.charCodeAt(m)])=="number"&&(y+=String.fromCharCode(p),p=r,b=0),m===x.length-1&&(p=r,y+=x.charAt(m-(b-1)),m-=b-1,b=0)):(p=r,y+=x.charAt(m-b),m-=b,b=0);return y};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(x,m,p){return o(x)?i(x)===!1?-1:!d(x)||!o(m)&&!o(p)||!o(p)&&l(m)||l(x)&&!o(m)||l(x)&&c(m)||l(x)&&l(m)?0:u(x)&&o(m)&&!l(m)&&o(p)&&d(p)?3:l(x)||!o(p)?1:2:-1},f=function(x){var m=0,p=0,y=0,b="",N="",j="",C=(x=x||"").split("\\s+"),k=[];for(m=0;m<C.length;m+=1){for(k.push(""),p=0;p<C[m].length;p+=1)b=C[m][p],N=C[m][p-1],j=C[m][p+1],o(b)?(y=h(b,N,j),k[m]+=y!==-1?String.fromCharCode(e[b.charCodeAt(0)][y]):b):k[m]+=b;k[m]=A(k[m])}return k.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var x,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(m)){var y=0;for(p=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?p.push([f(m[y][0]),m[y][1],m[y][2]]):p.push([f(m[y])]);x=p}else x=f(m);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",g])}(ft.API),ft.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(x){g=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),h=d.scaleFactor||this.internal.scaleFactor,f=0,g=0,x=0,m=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var p=d.maxWidth;p>0?typeof c=="string"?c=this.splitTextToSize(c,p):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,N){return b.concat(m.splitTextToSize(N,p))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)f<(x=this.getStringUnitWidth(c[y],{font:A})*u)&&(f=x);return f!==0&&(g=c.length),{w:f/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,f&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,A,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,x,m,p=[],y=[],b=[],N={},j={},C=[],k=[],_=(h=h||{}).autoSize||!1,B=h.printHeaders!==!1,T=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,w=h.margins||Object.assign({width:this.getPageWidth()},e),E=typeof h.padding=="number"?h.padding:3,D=h.headerBackgroundColor||"#c8c8c8",O=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=w,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=O,this.setFontSize(T),A==null)y=p=Object.keys(u[0]),b=p.map(function(){return"left"});else if(Array.isArray(A)&&fr(A[0])==="object")for(p=A.map(function(J){return J.name}),y=A.map(function(J){return J.prompt||J.name||""}),b=A.map(function(J){return J.align||"left"}),f=0;f<A.length;f+=1)j[A[f].name]=A[f].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(y=p=A,b=p.map(function(){return"left"}));if(_||Array.isArray(A)&&typeof A[0]=="string")for(f=0;f<p.length;f+=1){for(N[m=p[f]]=u.map(function(J){return J[m]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=N[m],this.setFont(void 0,"normal"),x=0;x<g.length;x+=1)C.push(this.getTextDimensions(g[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[m]=Math.max.apply(null,C)+E+E,C=[]}if(B){var L={};for(f=0;f<p.length;f+=1)L[p[f]]={},L[p[f]].text=y[f],L[p[f]].align=b[f];var U=l.call(this,L,j);k=p.map(function(J){return new i(c,d,j[J],U,L[J].text,void 0,L[J].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var M=A.reduce(function(J,ee){return J[ee.name]=ee.align,J},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var Q=l.call(this,u[f],j);for(x=0;x<p.length;x+=1){var q=u[f][p[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:x,data:q},this),o.call(this,new i(c,d,j[p[x]],Q,q,f+2,M[p[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(f){var g=c[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*A/h+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(ft.API);var lH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F4=oH(cH),dH=[100,200,300,400,500,600,700,800,900],pue=oH(dH);function T4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return lH[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof F4[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function nO(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var gue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aO(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function xue(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},gue,r.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(a[(i=T4(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+aO(i)+"' and default family '"+n+"'.");if(o=function(c,d){if(d[c])return d[c];var u=F4[c],A=u<=F4.normal?-1:1,h=nO(d,cH,u,A);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,d){if(d[c])return d[c];for(var u=lH[c],A=0;A<u.length;++A)if(d[u[A]])return d[u[A]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=pue[c],A=nO(d,dH,u,c<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+c);return A}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+aO(i)+"'.");return o}function iO(t){return t.trimLeft()}function yue(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function vue(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Yy,oO,lO,j_=["times"];(function(t){var e,r,n,a,i,o,l,c,d,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var A=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=$;Object.defineProperty(this,"pdf",{get:function(){return R}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ye){K=!!ye}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(ye){V=!!ye}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(ye){isNaN(ye)||(ae=ye)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(ye){isNaN(ye)||(Ae=ye)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ye){var z;typeof ye=="number"?z=[ye,ye,ye,ye]:((z=new Array(4))[0]=ye[0],z[1]=ye.length>=2?ye[1]:z[0],z[2]=ye.length>=3?ye[2]:z[0],z[3]=ye.length>=4?ye[3]:z[1]),d.margin=z}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(ye){ne=ye}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ye){ie=ye}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(ye){le=ye}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ye){ye instanceof u&&(d=ye)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ye){d.path=ye}});var X=[];Object.defineProperty(this,"ctxStack",{get:function(){return X},set:function(ye){X=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var z;z=h(ye),this.ctx.fillStyle=z.style,this.ctx.isFillTransparent=z.a===0,this.ctx.fillOpacity=z.a,this.pdf.setFillColor(z.r,z.g,z.b,{a:z.a}),this.pdf.setTextColor(z.r,z.g,z.b,{a:z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var z=h(ye);this.ctx.strokeStyle=z.style,this.ctx.isStrokeTransparent=z.a===0,this.ctx.strokeOpacity=z.a,z.a===0?this.pdf.setDrawColor(255,255,255):(z.a,this.pdf.setDrawColor(z.r,z.g,z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var he=null;function Me(ye,z){if(he===null){var ke=function(Ie){var Pe=[];return Object.keys(Ie).forEach(function(Le){Ie[Le].forEach(function(De){var Ee=null;switch(De){case"bold":Ee={family:Le,weight:"bold"};break;case"italic":Ee={family:Le,style:"italic"};break;case"bolditalic":Ee={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:Le}}Ee!==null&&(Ee.ref={name:Le,style:De},Pe.push(Ee))})}),Pe}(ye.getFontList());he=function(Ie){for(var Pe={},Le=0;Le<Ie.length;++Le){var De=T4(Ie[Le]),Ee=De.family,ce=De.stretch,He=De.style,ge=De.weight;Pe[Ee]=Pe[Ee]||{},Pe[Ee][ce]=Pe[Ee][ce]||{},Pe[Ee][ce][He]=Pe[Ee][ce][He]||{},Pe[Ee][ce][He][ge]=De}return Pe}(ke.concat(z))}return he}var Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(ye){he=null,Qe=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var z;if(this.ctx.font=ye,(z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var ke=z[1],Ie=(z[2],z[3]),Pe=z[4],Le=(z[5],z[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(De==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Ee=function(be){var xe,Se,Ye=[],ve=be.trim();if(ve==="")return j_;if(ve in sO)return[sO[ve]];for(;ve!=="";){switch(Se=null,xe=(ve=iO(ve)).charAt(0)){case'"':case"'":Se=yue(ve.substring(1),xe);break;default:Se=vue(ve)}if(Se===null||(Ye.push(Se[0]),(ve=iO(Se[1]))!==""&&ve.charAt(0)!==","))return j_;ve=ve.replace(/^,/,"")}return Ye}(Le);if(this.fontFaces){var ce=xue(Me(this.pdf,this.fontFaces),Ee.map(function(be){return{family:be,stretch:"normal",weight:Ie,style:ke}}));this.pdf.setFont(ce.ref.name,ce.ref.style)}else{var He="";(Ie==="bold"||parseInt(Ie,10)>=700||ke==="bold")&&(He="bold"),ke==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var ge="",ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},se=0;se<Ee.length;se++){if(this.pdf.internal.getFont(Ee[se],He,{noFallback:!0,disableWarning:!0})!==void 0){ge=Ee[se];break}if(He==="bolditalic"&&this.pdf.internal.getFont(Ee[se],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ge=Ee[se],He="bold";else if(this.pdf.internal.getFont(Ee[se],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ge=Ee[se],He="normal";break}}if(ge===""){for(var fe=0;fe<Ee.length;fe++)if(ue[Ee[fe]]){ge=ue[Ee[fe]];break}}ge=ge===""?"Times":ge,this.pdf.setFont(ge,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};A.prototype.setLineDash=function($){this.lineDash=$},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){N.call(this,"fill",!1)},A.prototype.stroke=function(){N.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function($,R){if(isNaN($)||isNaN(R))throw wr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o($,R));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o($,R)},A.prototype.closePath=function(){var $=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&fr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){$=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},A.prototype.lineTo=function($,R){if(isNaN($)||isNaN(R))throw wr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o($,R));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},A.prototype.quadraticCurveTo=function($,R,K,V){if(isNaN(K)||isNaN(V)||isNaN($)||isNaN(R))throw wr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(K,V)),Ae=this.ctx.transform.applyToPoint(new o($,R));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},A.prototype.bezierCurveTo=function($,R,K,V,ae,Ae){if(isNaN(ae)||isNaN(Ae)||isNaN($)||isNaN(R)||isNaN(K)||isNaN(V))throw wr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new o(ae,Ae)),ie=this.ctx.transform.applyToPoint(new o($,R)),le=this.ctx.transform.applyToPoint(new o(K,V));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:le.x,y2:le.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},A.prototype.arc=function($,R,K,V,ae,Ae){if(isNaN($)||isNaN(R)||isNaN(K)||isNaN(V)||isNaN(ae))throw wr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new o($,R));$=ne.x,R=ne.y;var ie=this.ctx.transform.applyToPoint(new o(0,K)),le=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ie.x-le.x,2)+Math.pow(ie.y-le.y,2))}Math.abs(ae-V)>=2*Math.PI&&(V=0,ae=2*Math.PI),this.path.push({type:"arc",x:$,y:R,radius:K,startAngle:V,endAngle:ae,counterclockwise:Ae})},A.prototype.arcTo=function($,R,K,V,ae){throw new Error("arcTo not implemented.")},A.prototype.rect=function($,R,K,V){if(isNaN($)||isNaN(R)||isNaN(K)||isNaN(V))throw wr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,R),this.lineTo($+K,R),this.lineTo($+K,R+V),this.lineTo($,R+V),this.lineTo($,R),this.lineTo($+K,R),this.lineTo($,R)},A.prototype.fillRect=function($,R,K,V){if(isNaN($)||isNaN(R)||isNaN(K)||isNaN(V))throw wr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,R,K,V),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},A.prototype.strokeRect=function($,R,K,V){if(isNaN($)||isNaN(R)||isNaN(K)||isNaN(V))throw wr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,R,K,V),this.stroke())},A.prototype.clearRect=function($,R,K,V){if(isNaN($)||isNaN(R)||isNaN(K)||isNaN(V))throw wr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,R,K,V))},A.prototype.save=function($){$=typeof $!="boolean"||$;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},A.prototype.restore=function($){$=typeof $!="boolean"||$;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(R),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function($){var R,K,V,ae;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))R=0,K=0,V=0,ae=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(Ae!==null)R=parseInt(Ae[1]),K=parseInt(Ae[2]),V=parseInt(Ae[3]),ae=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)R=parseInt(Ae[1]),K=parseInt(Ae[2]),V=parseInt(Ae[3]),ae=parseFloat(Ae[4]);else{if(ae=1,typeof $=="string"&&$.charAt(0)!=="#"){var ne=new tH($);$=ne.ok?ne.toHex():"#000000"}$.length===4?(R=$.substring(1,2),R+=R,K=$.substring(2,3),K+=K,V=$.substring(3,4),V+=V):(R=$.substring(1,3),K=$.substring(3,5),V=$.substring(5,7)),R=parseInt(R,16),K=parseInt(K,16),V=parseInt(V,16)}}return{r:R,g:K,b:V,a:ae,style:$}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function($,R,K,V){if(isNaN(R)||isNaN(K)||typeof $!="string")throw wr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!f.call(this)){var ae=Q(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;E.call(this,{text:$,x:R,y:K,scale:Ae,angle:ae,align:this.textAlign,maxWidth:V})}},A.prototype.strokeText=function($,R,K,V){if(isNaN(R)||isNaN(K)||typeof $!="string")throw wr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){V=isNaN(V)?void 0:V;var ae=Q(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;E.call(this,{text:$,x:R,y:K,scale:Ae,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:V})}},A.prototype.measureText=function($){if(typeof $!="string")throw wr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,K=this.pdf.internal.scaleFactor,V=R.internal.getFontSize(),ae=R.getStringUnitWidth($)*V/R.internal.scaleFactor,Ae=function(ne){var ie=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new Ae({width:ae*=Math.round(96*K/72*1e4)/1e4})},A.prototype.scale=function($,R){if(isNaN($)||isNaN(R))throw wr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c($,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},A.prototype.rotate=function($){if(isNaN($))throw wr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},A.prototype.translate=function($,R){if(isNaN($)||isNaN(R))throw wr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,$,R);this.ctx.transform=this.ctx.transform.multiply(K)},A.prototype.transform=function($,R,K,V,ae,Ae){if(isNaN($)||isNaN(R)||isNaN(K)||isNaN(V)||isNaN(ae)||isNaN(Ae))throw wr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new c($,R,K,V,ae,Ae);this.ctx.transform=this.ctx.transform.multiply(ne)},A.prototype.setTransform=function($,R,K,V,ae,Ae){$=isNaN($)?1:$,R=isNaN(R)?0:R,K=isNaN(K)?0:K,V=isNaN(V)?1:V,ae=isNaN(ae)?0:ae,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c($,R,K,V,ae,Ae)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function($,R,K,V,ae,Ae,ne,ie,le){var X=this.pdf.getImageProperties($),he=1,Me=1,Qe=1,ye=1;V!==void 0&&ie!==void 0&&(Qe=ie/V,ye=le/ae,he=X.width/V*ie/V,Me=X.height/ae*le/ae),Ae===void 0&&(Ae=R,ne=K,R=0,K=0),V!==void 0&&ie===void 0&&(ie=V,le=ae),V===void 0&&ie===void 0&&(ie=X.width,le=X.height);for(var z,ke=this.ctx.transform.decompose(),Ie=Q(ke.rotate.shx),Pe=new c,Le=(Pe=(Pe=(Pe=Pe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new l(Ae-R*Qe,ne-K*ye,V*he,ae*Me)),De=m.call(this,Le),Ee=[],ce=0;ce<De.length;ce+=1)Ee.indexOf(De[ce])===-1&&Ee.push(De[ce]);if(b(Ee),this.autoPaging)for(var He=Ee[0],ge=Ee[Ee.length-1],ue=He;ue<ge+1;ue++){this.pdf.setPage(ue);var se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],fe=ue===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=ue===1?0:be+(ue-2)*xe;if(this.ctx.clip_path.length!==0){var Ye=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(z,this.posX+this.margin[3],-Se+fe+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Ye}var ve=JSON.parse(JSON.stringify(Le));ve=y([ve],this.posX+this.margin[3],-Se+fe+this.ctx.prevPageLastElemOffset)[0];var Bt=(ue>He||ue<ge)&&x.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],se,xe,null).clip().discardPath()),this.pdf.addImage($,"JPEG",ve.x,ve.y,ve.w,ve.h,null,null,Ie),Bt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Ie)};var m=function($,R,K){var V=[];R=R||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":V.push(Math.floor(($.y+ae)/K)+1);break;case"arc":V.push(Math.floor(($.y+ae-$.radius)/K)+1),V.push(Math.floor(($.y+ae+$.radius)/K)+1);break;case"qct":var Ae=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);V.push(Math.floor((Ae.y+ae)/K)+1),V.push(Math.floor((Ae.y+Ae.h+ae)/K)+1);break;case"bct":var ne=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);V.push(Math.floor((ne.y+ae)/K)+1),V.push(Math.floor((ne.y+ne.h+ae)/K)+1);break;case"rect":V.push(Math.floor(($.y+ae)/K)+1),V.push(Math.floor(($.y+$.h+ae)/K)+1)}for(var ie=0;ie<V.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<V[ie];)p.call(this);return V},p=function(){var $=this.fillStyle,R=this.strokeStyle,K=this.font,V=this.lineCap,ae=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=R,this.font=K,this.lineCap=V,this.lineWidth=ae,this.lineJoin=Ae},y=function($,R,K){for(var V=0;V<$.length;V++)switch($[V].type){case"bct":$[V].x2+=R,$[V].y2+=K;case"qct":$[V].x1+=R,$[V].y1+=K;case"mt":case"lt":case"arc":default:$[V].x+=R,$[V].y+=K}return $},b=function($){return $.sort(function(R,K){return R-K})},N=function($,R){for(var K,V,ae=this.fillStyle,Ae=this.strokeStyle,ne=this.lineCap,ie=this.lineWidth,le=Math.abs(ie*this.ctx.transform.scaleX),X=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Qe=[],ye=0;ye<Me.length;ye++)if(Me[ye].x!==void 0)for(var z=m.call(this,Me[ye]),ke=0;ke<z.length;ke+=1)Qe.indexOf(z[ke])===-1&&Qe.push(z[ke]);for(var Ie=0;Ie<Qe.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<Qe[Ie];)p.call(this);if(b(Qe),this.autoPaging)for(var Pe=Qe[0],Le=Qe[Qe.length-1],De=Pe;De<Le+1;De++){this.pdf.setPage(De),this.fillStyle=ae,this.strokeStyle=Ae,this.lineCap=ne,this.lineWidth=le,this.lineJoin=X;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ce=De===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ue=De===1?0:He+(De-2)*ge;if(this.ctx.clip_path.length!==0){var se=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-ue+ce+this.ctx.prevPageLastElemOffset),j.call(this,$,!0),this.path=se}if(V=JSON.parse(JSON.stringify(he)),this.path=y(V,this.posX+this.margin[3],-ue+ce+this.ctx.prevPageLastElemOffset),R===!1||De===0){var fe=(De>Pe||De<Le)&&x.call(this);fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,ge,null).clip().discardPath()),j.call(this,$,R),fe&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=le,j.call(this,$,R),this.lineWidth=ie;this.path=he},j=function($,R){if(($!=="stroke"||R||!g.call(this))&&($==="stroke"||R||!f.call(this))){for(var K,V,ae=[],Ae=this.path,ne=0;ne<Ae.length;ne++){var ie=Ae[ne];switch(ie.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ie,deltas:[],abs:[]});break;case"lt":var le=ae.length;if(Ae[ne-1]&&!isNaN(Ae[ne-1].x)&&(K=[ie.x-Ae[ne-1].x,ie.y-Ae[ne-1].y],le>0)){for(;le>=0;le--)if(ae[le-1].close!==!0&&ae[le-1].begin!==!0){ae[le-1].deltas.push(K),ae[le-1].abs.push(ie);break}}break;case"bct":K=[ie.x1-Ae[ne-1].x,ie.y1-Ae[ne-1].y,ie.x2-Ae[ne-1].x,ie.y2-Ae[ne-1].y,ie.x-Ae[ne-1].x,ie.y-Ae[ne-1].y],ae[ae.length-1].deltas.push(K);break;case"qct":var X=Ae[ne-1].x+2/3*(ie.x1-Ae[ne-1].x),he=Ae[ne-1].y+2/3*(ie.y1-Ae[ne-1].y),Me=ie.x+2/3*(ie.x1-ie.x),Qe=ie.y+2/3*(ie.y1-ie.y),ye=ie.x,z=ie.y;K=[X-Ae[ne-1].x,he-Ae[ne-1].y,Me-Ae[ne-1].x,Qe-Ae[ne-1].y,ye-Ae[ne-1].x,z-Ae[ne-1].y],ae[ae.length-1].deltas.push(K);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ie)}}V=R?null:$==="stroke"?"stroke":"fill";for(var ke=!1,Ie=0;Ie<ae.length;Ie++)if(ae[Ie].arc)for(var Pe=ae[Ie].abs,Le=0;Le<Pe.length;Le++){var De=Pe[Le];De.type==="arc"?_.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,R,!ke):D.call(this,De.x,De.y),ke=!0}else if(ae[Ie].close===!0)this.pdf.internal.out("h"),ke=!1;else if(ae[Ie].begin!==!0){var Ee=ae[Ie].start.x,ce=ae[Ie].start.y;O.call(this,ae[Ie].deltas,Ee,ce),ke=!0}V&&B.call(this,V),R&&T.call(this)}},C=function($){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-K;case"top":return $+R-K;case"hanging":return $+R-2*K;case"middle":return $+R/2-K;case"ideographic":return $;case"alphabetic":default:return $}},k=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(R,K){this.colorStops.push([R,K])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function($,R,K,V,ae,Ae,ne,ie,le){for(var X=U.call(this,K,V,ae,Ae),he=0;he<X.length;he++){var Me=X[he];he===0&&(le?w.call(this,Me.x1+$,Me.y1+R):D.call(this,Me.x1+$,Me.y1+R)),L.call(this,$,R,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}ie?T.call(this):B.call(this,ne)},B=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},w=function($,R){this.pdf.internal.out(r($)+" "+n(R)+" m")},E=function($){var R;switch($.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var K=this.pdf.getTextDimensions($.text),V=C.call(this,$.y),ae=k.call(this,V)-K.h,Ae=this.ctx.transform.applyToPoint(new o($.x,V)),ne=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale);for(var le,X,he,Me=this.ctx.transform.applyToRectangle(new l($.x,V,K.w,K.h)),Qe=ie.applyToRectangle(new l($.x,ae,K.w,K.h)),ye=m.call(this,Qe),z=[],ke=0;ke<ye.length;ke+=1)z.indexOf(ye[ke])===-1&&z.push(ye[ke]);if(b(z),this.autoPaging)for(var Ie=z[0],Pe=z[z.length-1],Le=Ie;Le<Pe+1;Le++){this.pdf.setPage(Le);var De=Le===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ce=this.pdf.internal.pageSize.height-this.margin[2],He=ce-this.margin[0],ge=this.pdf.internal.pageSize.width-this.margin[1],ue=ge-this.margin[3],se=Le===1?0:Ee+(Le-2)*He;if(this.ctx.clip_path.length!==0){var fe=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(le,this.posX+this.margin[3],-1*se+De),j.call(this,"fill",!0),this.path=fe}var be=y([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-se+De+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*$.scale),he=this.lineWidth,this.lineWidth=he*$.scale);var xe=this.autoPaging!=="text";if(xe||be.y+be.h<=ce){if(xe||be.y>=De&&be.x<=ge){var Se=xe?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||ge-be.x)[0],Ye=y([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-se+De+this.ctx.prevPageLastElemOffset)[0],ve=xe&&(Le>Ie||Le<Pe)&&x.call(this);ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ue,He,null).clip().discardPath()),this.pdf.text(Se,Ye.x,Ye.y,{angle:$.angle,align:R,renderingMode:$.renderingMode}),ve&&this.pdf.restoreGraphicsState()}}else be.y<ce&&(this.ctx.prevPageLastElemOffset+=ce-be.y);$.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=he)}else $.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*$.scale),he=this.lineWidth,this.lineWidth=he*$.scale),this.pdf.text($.text,Ae.x+this.posX,Ae.y+this.posY,{angle:$.angle,align:R,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=he)},D=function($,R,K,V){K=K||0,V=V||0,this.pdf.internal.out(r($+K)+" "+n(R+V)+" l")},O=function($,R,K){return this.pdf.lines($,R,K,null,null)},L=function($,R,K,V,ae,Ae,ne,ie){this.pdf.internal.out([e(a(K+$)),e(i(V+R)),e(a(ae+$)),e(i(Ae+R)),e(a(ne+$)),e(i(ie+R)),"c"].join(" "))},U=function($,R,K,V){for(var ae=2*Math.PI,Ae=Math.PI/2;R>K;)R-=ae;var ne=Math.abs(K-R);ne<ae&&V&&(ne=ae-ne);for(var ie=[],le=V?-1:1,X=R;ne>1e-5;){var he=X+le*Math.min(ne,Ae);ie.push(M.call(this,$,X,he)),ne-=Math.abs(he-X),X=he}return ie},M=function($,R,K){var V=(K-R)/2,ae=$*Math.cos(V),Ae=$*Math.sin(V),ne=ae,ie=-Ae,le=ne*ne+ie*ie,X=le+ne*ae+ie*Ae,he=4/3*(Math.sqrt(2*le*X)-X)/(ne*Ae-ie*ae),Me=ne-he*ie,Qe=ie+he*ne,ye=Me,z=-Qe,ke=V+R,Ie=Math.cos(ke),Pe=Math.sin(ke);return{x1:$*Math.cos(R),y1:$*Math.sin(R),x2:Me*Ie-Qe*Pe,y2:Me*Pe+Qe*Ie,x3:ye*Ie-z*Pe,y3:ye*Pe+z*Ie,x4:$*Math.cos(K),y4:$*Math.sin(K)}},Q=function($){return 180*$/Math.PI},q=function($,R,K,V,ae,Ae){var ne=$+.5*(K-$),ie=R+.5*(V-R),le=ae+.5*(K-ae),X=Ae+.5*(V-Ae),he=Math.min($,ae,ne,le),Me=Math.max($,ae,ne,le),Qe=Math.min(R,Ae,ie,X),ye=Math.max(R,Ae,ie,X);return new l(he,Qe,Me-he,ye-Qe)},J=function($,R,K,V,ae,Ae,ne,ie){var le,X,he,Me,Qe,ye,z,ke,Ie,Pe,Le,De,Ee,ce,He=K-$,ge=V-R,ue=ae-K,se=Ae-V,fe=ne-ae,be=ie-Ae;for(X=0;X<41;X++)Ie=(z=(he=$+(le=X/40)*He)+le*((Qe=K+le*ue)-he))+le*(Qe+le*(ae+le*fe-Qe)-z),Pe=(ke=(Me=R+le*ge)+le*((ye=V+le*se)-Me))+le*(ye+le*(Ae+le*be-ye)-ke),X==0?(Le=Ie,De=Pe,Ee=Ie,ce=Pe):(Le=Math.min(Le,Ie),De=Math.min(De,Pe),Ee=Math.max(Ee,Ie),ce=Math.max(ce,Pe));return new l(Math.round(Le),Math.round(De),Math.round(Ee-Le),Math.round(ce-De))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,R,K=($=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:R}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(ft.API),function(t){var e=function(i){var o,l,c,d,u,A,h,f,g,x;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(A=(u=((u=((u=((u=(u-(x=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,l.push(A+33,h+33,f+33,g+33,x+33)):l.push(122);return function(m,p){for(var y=p;y>0;y--)m.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,d,u,A=String,h="length",f=255,g="charCodeAt",x="slice",m="replace";for(i[x](-2),i=i[x](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),c=[],d=0,u=(i+=o="uuuuu"[x](i[h]%5||5))[h];u>d;d+=5)l=52200625*(i[g](d)-33)+614125*(i[g](d+1)-33)+7225*(i[g](d+2)-33)+85*(i[g](d+3)-33)+(i[g](d+4)-33),c.push(f&l>>24,f&l>>16,f&l>>8,f&l);return function(p,y){for(var b=y;b>0;b--)p.pop()}(c,o[h]),A.fromCharCode.apply(A,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=B4(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(ft.API),function(t){t.loadFile=function(e,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var A=new XMLHttpRequest,h=0,f=function(g){var x=g.length,m=[],p=String.fromCharCode;for(h=0;h<x;h+=1)m.push(p(255&g.charCodeAt(h)));return m.join("")};if(A.open("GET",c,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?u(f(this.responseText)):u(void 0)}),A.send(null),d&&A.status===200)return f(A.responseText)}(a,i,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(ft.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):dd(()=>Promise.resolve().then(()=>t0e),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):dd(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=fr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var A=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),h=d.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||A.appendChild(c(h,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(A.width=d.width,A.height=d.height,A.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(A.value=d.value),A.addEventListener("load",function(){A.scrollTop=d.scrollTop,A.scrollLeft=d.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var f=d[h],g=f.src.find(function(x){return x.format==="truetype"});g&&c.addFont(g.url,f.ref.name,f.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,c.context2d.save(!0),l(this.prop.container,A)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(A){return c.updateProgress(null,d),A}).then(d,u).then(function(A){return c.updateProgress(1),A})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ft.getPageSize=function(o,l,c){if(fr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,A=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var f,g=0,x=0;if(h.hasOwnProperty(A))g=h[A][1]/u,x=h[A][0]/u;else try{g=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>g&&(f=x,x=g,g=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>x&&(f=x,x=g,g=f)}return{width:x,height:g,unit:l,k:u,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(T4):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(ft.API),ft.API.addJS=function(t){return lO=t,this.internal.events.subscribe("postPutResources",function(){Yy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),oO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lO+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yy!==void 0&&oO!==void 0&&this.internal.out("/Names <</JavaScript "+Yy+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var A=r.internal.newObject();u.push(A);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(A){for(var h,f=256*A.charCodeAt(4)+A.charCodeAt(5),g=A.length,x={width:0,height:0,numcomponents:1},m=4;m<g;m+=2){if(m+=f,e.indexOf(A.charCodeAt(m+1))!==-1){h=256*A.charCodeAt(m+5)+A.charCodeAt(m+6),x={width:256*A.charCodeAt(m+7)+A.charCodeAt(m+8),height:h,numcomponents:A.charCodeAt(m+9)};break}f=256*A.charCodeAt(m+2)+A.charCodeAt(m+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(ft.API);var YA,Jy,cO,dO,uO,bue=function(){var t,e,r;function n(i){var o,l,c,d,u,A,h,f,g,x,m,p,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(o=this.readUInt32(),g=(function(){var N,j;for(j=[],N=0;N<4;++N)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,A.delay=1e3*u/d,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),i=(A!=null?A.data:void 0)||this.imgData,p=0;0<=o?p<o:p>o;0<=o?++p:--p)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(y=0;0<=x?y<x:y>x;0<=x?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(m=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,m.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,m.slice(h+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(A,h,f,g){var x,m,p,y,b,N,j,C,k,_,B,T,w,E,D,O,L,U,M,Q,q,J=Math.ceil((d.width-A)/f),ee=Math.ceil((d.height-h)/g),$=d.width==J&&d.height==ee;for(E=o*J,T=$?l:new Uint8Array(E*ee),N=i.length,w=0,m=0;w<ee&&c<N;){switch(i[c++]){case 0:for(y=L=0;L<E;y=L+=1)T[m++]=i[c++];break;case 1:for(y=U=0;U<E;y=U+=1)x=i[c++],b=y<o?0:T[m-o],T[m++]=(x+b)%256;break;case 2:for(y=M=0;M<E;y=M+=1)x=i[c++],p=(y-y%o)/o,D=w&&T[(w-1)*E+p*o+y%o],T[m++]=(D+x)%256;break;case 3:for(y=Q=0;Q<E;y=Q+=1)x=i[c++],p=(y-y%o)/o,b=y<o?0:T[m-o],D=w&&T[(w-1)*E+p*o+y%o],T[m++]=(x+Math.floor((b+D)/2))%256;break;case 4:for(y=q=0;q<E;y=q+=1)x=i[c++],p=(y-y%o)/o,b=y<o?0:T[m-o],w===0?D=O=0:(D=T[(w-1)*E+p*o+y%o],O=p&&T[(w-1)*E+(p-1)*o+y%o]),j=b+D-O,C=Math.abs(j-b),_=Math.abs(j-D),B=Math.abs(j-O),k=C<=_&&C<=B?b:_<=B?D:O,T[m++]=(x+k)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!$){var R=((h+w*g)*d.width+A)*o,K=w*E;for(y=0;y<J;y+=1){for(var V=0;V<o;V+=1)l[R++]=T[K++];R+=(f-1)*o}}w++}}return i=Zde(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,d,u,A,h,f;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,i=0,o=A=0,h=l.length;A<h;o=A+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(f=u[i++])!=null?f:255;return d},n.prototype.copyToImageData=function(i,o){var l,c,d,u,A,h,f,g,x,m,p;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(p=this._decodedPalette)!=null?p:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(d=i.data||i).length,A=x||o,u=h=0,c===1)for(;u<g;)f=x?4*o[u/4]:h,m=A[f++],d[u++]=m,d[u++]=m,d[u++]=m,d[u++]=l?A[f++]:255,h=f;else for(;u<g;)f=x?4*o[u/4]:h,d[u++]=A[f++],d[u++]=A[f++],d[u++]=A[f++],d[u++]=l?A[f++]:255,h=f},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(wt)==="[object Window]"){try{e=wt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,d,u,A,h,f;if(this.animation){for(f=[],l=u=0,A=(h=this.animation.frames).length;u<A;l=++u)o=h[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,f.push(o.image=t(c));return f}},n.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,d,u,A,h=this;return l=0,A=this.animation,d=A.numFrames,c=A.frames,u=A.numPlays,(o=function(){var f,g;if(f=l++%d,g=c[f],h.renderFrame(i,f),d>1&&l/d<u)return h.animation._timeout=setTimeout(o,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function wue(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],A=0,h=null,f=0,g=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];A=t[e++]|t[e++]<<8,h=t[e++],!(1&x)&&(h=null),f=x>>2&7,e++;break;case 254:for(;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++],j=N>>6&1,C=1<<(7&N)+1,k=l,_=c,B=!1;N>>7&&(B=!0,k=e,_=C,e+=3*C);var T=e;for(e++;;){var w;if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}u.push({x:m,y:p,width:y,height:b,has_local_palette:B,palette_offset:k,palette_size:_,data_offset:T,data_length:e-T,transparent_index:h,interlaced:!!j,delay:A,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(E){if(E<0||E>=u.length)throw new Error("Frame index out of range.");return u[E]},this.decodeAndBlitFrameBGRA=function(E,D){var O=this.frameInfo(E),L=O.width*O.height,U=new Uint8Array(L);AO(t,O.data_offset,U,L);var M=O.palette_offset,Q=O.transparent_index;Q===null&&(Q=256);var q=O.width,J=r-q,ee=q,$=4*(O.y*r+O.x),R=4*((O.y+O.height)*r+O.x),K=$,V=4*J;O.interlaced===!0&&(V+=4*r*7);for(var ae=8,Ae=0,ne=U.length;Ae<ne;++Ae){var ie=U[Ae];if(ee===0&&(ee=q,(K+=V)>=R&&(V=4*J+4*r*(ae-1),K=$+(q+J)*(ae<<1),ae>>=1)),ie===Q)K+=4;else{var le=t[M+3*ie],X=t[M+3*ie+1],he=t[M+3*ie+2];D[K++]=he,D[K++]=X,D[K++]=le,D[K++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(E,D){var O=this.frameInfo(E),L=O.width*O.height,U=new Uint8Array(L);AO(t,O.data_offset,U,L);var M=O.palette_offset,Q=O.transparent_index;Q===null&&(Q=256);var q=O.width,J=r-q,ee=q,$=4*(O.y*r+O.x),R=4*((O.y+O.height)*r+O.x),K=$,V=4*J;O.interlaced===!0&&(V+=4*r*7);for(var ae=8,Ae=0,ne=U.length;Ae<ne;++Ae){var ie=U[Ae];if(ee===0&&(ee=q,(K+=V)>=R&&(V=4*J+4*r*(ae-1),K=$+(q+J)*(ae<<1),ae>>=1)),ie===Q)K+=4;else{var le=t[M+3*ie],X=t[M+3*ie+1],he=t[M+3*ie+2];D[K++]=le,D[K++]=X,D[K++]=he,D[K++]=255}--ee}}}function AO(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,A=0,h=0,f=t[e++],g=new Int32Array(4096),x=null;;){for(;u<16&&f!==0;)A|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<c)break;var m=A&d;if(A>>=c,u-=c,m!==i){if(m===o)break;for(var p=m<l?m:x,y=0,b=p;b>i;)b=g[b]>>8,++y;var N=b;if(h+y+(p!==m?1:0)>n)return void wr.log("Warning, gif stream longer than expected.");r[h++]=N;var j=h+=y;for(p!==m&&(r[h++]=N),b=p;y--;)b=g[b],r[--j]=255&b,b>>=8;x!==null&&l<4096&&(g[l++]=x<<8|N,l>=d+1&&c<12&&(++c,d=d<<1|1)),x=m}else l=o+1,d=(1<<(c=a+1))-1,x=null}return h!==n&&wr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N_(t){var e,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),A=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),x=[],m=0,p=7,y=new Array(64),b=new Array(64),N=new Array(64),j=new Array(256),C=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],w=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U($,R){for(var K=0,V=0,ae=new Array,Ae=1;Ae<=16;Ae++){for(var ne=1;ne<=$[Ae];ne++)ae[R[V]]=[],ae[R[V]][0]=K,ae[R[V]][1]=Ae,V++,K++;K*=2}return ae}function M($){for(var R=$[0],K=$[1]-1;K>=0;)R&1<<K&&(m|=1<<p),K--,--p<0&&(m==255?(Q(255),Q(0)):Q(m),p=7,m=0)}function Q($){x.push($)}function q($){Q($>>8&255),Q(255&$)}function J($,R,K,V,ae){for(var Ae,ne=ae[0],ie=ae[240],le=function(Pe,Le){var De,Ee,ce,He,ge,ue,se,fe,be,xe,Se=0;for(be=0;be<8;++be){De=Pe[Se],Ee=Pe[Se+1],ce=Pe[Se+2],He=Pe[Se+3],ge=Pe[Se+4],ue=Pe[Se+5],se=Pe[Se+6];var Ye=De+(fe=Pe[Se+7]),ve=De-fe,Bt=Ee+se,We=Ee-se,qt=ce+ue,is=ce-ue,er=He+ge,zt=He-ge,tr=Ye+er,Si=Ye-er,Ko=Bt+qt,en=Bt-qt;Pe[Se]=tr+Ko,Pe[Se+4]=tr-Ko;var Ft=.707106781*(en+Si);Pe[Se+2]=Si+Ft,Pe[Se+6]=Si-Ft;var sr=.382683433*((tr=zt+is)-(en=We+ve)),_d=.5411961*tr+sr,os=1.306562965*en+sr,Ao=.707106781*(Ko=is+We),ho=ve+Ao,yt=ve-Ao;Pe[Se+5]=yt+_d,Pe[Se+3]=yt-_d,Pe[Se+1]=ho+os,Pe[Se+7]=ho-os,Se+=8}for(Se=0,be=0;be<8;++be){De=Pe[Se],Ee=Pe[Se+8],ce=Pe[Se+16],He=Pe[Se+24],ge=Pe[Se+32],ue=Pe[Se+40],se=Pe[Se+48];var Ei=De+(fe=Pe[Se+56]),fo=De-fe,sa=Ee+se,Dn=Ee-se,bn=ce+ue,_a=ce-ue,fA=He+ge,Wo=He-ge,ki=Ei+fA,Pi=Ei-fA,Fi=sa+bn,mo=sa-bn;Pe[Se]=ki+Fi,Pe[Se+32]=ki-Fi;var za=.707106781*(mo+Pi);Pe[Se+16]=Pi+za,Pe[Se+48]=Pi-za;var po=.382683433*((ki=Wo+_a)-(mo=Dn+fo)),Cd=.5411961*ki+po,mA=1.306562965*mo+po,pA=.707106781*(Fi=_a+Dn),gA=fo+pA,xA=fo-pA;Pe[Se+40]=xA+Cd,Pe[Se+24]=xA-Cd,Pe[Se+8]=gA+mA,Pe[Se+56]=gA-mA,Se++}for(be=0;be<64;++be)xe=Pe[be]*Le[be],f[be]=xe>0?xe+.5|0:xe-.5|0;return f}($,R),X=0;X<64;++X)g[k[X]]=le[X];var he=g[0]-K;K=g[0],he==0?M(V[0]):(M(V[h[Ae=32767+he]]),M(A[Ae]));for(var Me=63;Me>0&&g[Me]==0;)Me--;if(Me==0)return M(ne),K;for(var Qe,ye=1;ye<=Me;){for(var z=ye;g[ye]==0&&ye<=Me;)++ye;var ke=ye-z;if(ke>=16){Qe=ke>>4;for(var Ie=1;Ie<=Qe;++Ie)M(ie);ke&=15}Ae=32767+g[ye],M(ae[(ke<<4)+h[Ae]]),M(A[Ae]),ye++}return Me!=63&&M(ne),K}function ee($){$=Math.min(Math.max($,1),100),i!=$&&(function(R){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var ae=o((K[V]*R+50)/100);ae=Math.min(Math.max(ae,1),255),l[k[V]]=ae}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var ie=o((Ae[ne]*R+50)/100);ie=Math.min(Math.max(ie,1),255),c[k[ne]]=ie}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],X=0,he=0;he<8;he++)for(var Me=0;Me<8;Me++)d[X]=1/(l[k[X]]*le[he]*le[Me]*8),u[X]=1/(c[k[X]]*le[he]*le[Me]*8),X++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,R){R&&ee(R),x=new Array,m=0,p=7,q(65496),q(65504),q(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),q(1),q(1),Q(0),Q(0),function(){q(65499),q(132),Q(0);for(var Ee=0;Ee<64;Ee++)Q(l[Ee]);Q(1);for(var ce=0;ce<64;ce++)Q(c[ce])}(),function(Ee,ce){q(65472),q(17),Q(8),q(ce),q(Ee),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}($.width,$.height),function(){q(65476),q(418),Q(0);for(var Ee=0;Ee<16;Ee++)Q(_[Ee+1]);for(var ce=0;ce<=11;ce++)Q(B[ce]);Q(16);for(var He=0;He<16;He++)Q(T[He+1]);for(var ge=0;ge<=161;ge++)Q(w[ge]);Q(1);for(var ue=0;ue<16;ue++)Q(E[ue+1]);for(var se=0;se<=11;se++)Q(D[se]);Q(17);for(var fe=0;fe<16;fe++)Q(O[fe+1]);for(var be=0;be<=161;be++)Q(L[be])}(),q(65498),q(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var K=0,V=0,ae=0;m=0,p=7,this.encode.displayName="_encode_";for(var Ae,ne,ie,le,X,he,Me,Qe,ye,z=$.data,ke=$.width,Ie=$.height,Pe=4*ke,Le=0;Le<Ie;){for(Ae=0;Ae<Pe;){for(X=Pe*Le+Ae,Me=-1,Qe=0,ye=0;ye<64;ye++)he=X+(Qe=ye>>3)*Pe+(Me=4*(7&ye)),Le+Qe>=Ie&&(he-=Pe*(Le+1+Qe-Ie)),Ae+Me>=Pe&&(he-=Ae+Me-Pe+4),ne=z[he++],ie=z[he++],le=z[he++],y[ye]=(C[ne]+C[ie+256>>0]+C[le+512>>0]>>16)-128,b[ye]=(C[ne+768>>0]+C[ie+1024>>0]+C[le+1280>>0]>>16)-128,N[ye]=(C[ne+1280>>0]+C[ie+1536>>0]+C[le+1792>>0]>>16)-128;K=J(y,d,K,e,n),V=J(b,u,V,r,a),ae=J(N,u,ae,r,a),Ae+=32}Le+=8}if(p>=0){var De=[];De[1]=p+1,De[0]=(1<<p+1)-1,M(De)}return q(65497),new Uint8Array(x)},t=t||50,function(){for(var $=String.fromCharCode,R=0;R<256;R++)j[R]=$(R)}(),e=U(_,B),r=U(E,D),n=U(T,w),a=U(O,L),function(){for(var $=1,R=2,K=1;K<=15;K++){for(var V=$;V<R;V++)h[32767+V]=K,A[32767+V]=[],A[32767+V][1]=K,A[32767+V][0]=V;for(var ae=-(R-1);ae<=-$;ae++)h[32767+ae]=K,A[32767+ae]=[],A[32767+ae][1]=K,A[32767+ae][0]=R-1+ae;$<<=1,R<<=1}}(),function(){for(var $=0;$<256;$++)C[$]=19595*$,C[$+256>>0]=38470*$,C[$+512>>0]=7471*$+32768,C[$+768>>0]=-11059*$,C[$+1024>>0]=-21709*$,C[$+1280>>0]=32768*$+8421375,C[$+1536>>0]=-27439*$,C[$+1792>>0]=-5329*$}(),ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ri(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hO(t){function e(_){if(!_)throw Error("assert :P")}function r(_,B,T){for(var w=0;4>w;w++)if(_[B+w]!=T.charCodeAt(w))return!0;return!1}function n(_,B,T,w,E){for(var D=0;D<E;D++)_[B+D]=T[w+D]}function a(_,B,T,w){for(var E=0;E<w;E++)_[B+E]=T}function i(_){return new Int32Array(_)}function o(_,B){for(var T=[],w=0;w<_;w++)T.push(new B);return T}function l(_,B){var T=[];return function w(E,D,O){for(var L=O[D],U=0;U<L&&(E.push(O.length>D+1?[]:new B),!(O.length<D+1));U++)w(E[U],D+1,O)}(T,0,_),T}var c=function(){var _=this;function B(v,S){for(var I=1<<S-1>>>0;v&I;)I>>>=1;return I?(v&I-1)+I:v}function T(v,S,I,H,W){e(!(H%I));do v[S+(H-=I)]=W;while(0<H)}function w(v,S,I,H,W){if(e(2328>=W),512>=W)var Y=i(512);else if((Y=i(W))==null)return 0;return function(Z,te,re,de,Ne,Te){var Oe,Be,Ke=te,Re=1<<re,_e=i(16),Ce=i(16);for(e(Ne!=0),e(de!=null),e(Z!=null),e(0<re),Be=0;Be<Ne;++Be){if(15<de[Be])return 0;++_e[de[Be]]}if(_e[0]==Ne)return 0;for(Ce[1]=0,Oe=1;15>Oe;++Oe){if(_e[Oe]>1<<Oe)return 0;Ce[Oe+1]=Ce[Oe]+_e[Oe]}for(Be=0;Be<Ne;++Be)Oe=de[Be],0<de[Be]&&(Te[Ce[Oe]++]=Be);if(Ce[15]==1)return(de=new E).g=0,de.value=Te[0],T(Z,Ke,1,Re,de),Re;var ze,Ge=-1,Ve=Re-1,st=0,et=1,pt=1,tt=1<<re;for(Be=0,Oe=1,Ne=2;Oe<=re;++Oe,Ne<<=1){if(et+=pt<<=1,0>(pt-=_e[Oe]))return 0;for(;0<_e[Oe];--_e[Oe])(de=new E).g=Oe,de.value=Te[Be++],T(Z,Ke+st,Ne,tt,de),st=B(st,Oe)}for(Oe=re+1,Ne=2;15>=Oe;++Oe,Ne<<=1){if(et+=pt<<=1,0>(pt-=_e[Oe]))return 0;for(;0<_e[Oe];--_e[Oe]){if(de=new E,(st&Ve)!=Ge){for(Ke+=tt,ze=1<<(Ge=Oe)-re;15>Ge&&!(0>=(ze-=_e[Ge]));)++Ge,ze<<=1;Re+=tt=1<<(ze=Ge-re),Z[te+(Ge=st&Ve)].g=ze+re,Z[te+Ge].value=Ke-te-Ge}de.g=Oe-re,de.value=Te[Be++],T(Z,Ke+(st>>re),Ne,tt,de),st=B(st,Oe)}}return et!=2*Ce[15]-1?0:Re}(v,S,I,H,W,Y)}function E(){this.value=this.g=0}function D(){this.value=this.g=0}function O(){this.G=o(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ls,D)}function L(v,S,I,H){e(v!=null),e(S!=null),e(2147483648>H),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=S,v.pa=I,v.Jd=S,v.Yc=I+H,v.Zc=4<=H?I+H-4+1:I,Ae(v)}function U(v,S){for(var I=0;0<S--;)I|=ie(v,128)<<S;return I}function M(v,S){var I=U(v,S);return ne(v)?-I:I}function Q(v,S,I,H){var W,Y=0;for(e(v!=null),e(S!=null),e(4294967288>H),v.Sb=H,v.Ra=0,v.u=0,v.h=0,4<H&&(H=4),W=0;W<H;++W)Y+=S[I+W]<<8*W;v.Ra=Y,v.bb=H,v.oa=S,v.pa=I}function q(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<TA-8>>>0,++v.bb,v.u-=8;K(v)&&(v.h=1,v.u=0)}function J(v,S){if(e(0<=S),!v.h&&S<=FA){var I=R(v)&PA[S];return v.u+=S,q(v),I}return v.h=1,v.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(v){return v.Ra>>>(v.u&TA-1)>>>0}function K(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>TA}function V(v,S){v.u=S,v.h=K(v)}function ae(v){v.u>=Rm&&(e(v.u>=Rm),q(v))}function Ae(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function ne(v){return U(v,1)}function ie(v,S){var I=v.Ca;0>v.b&&Ae(v);var H=v.b,W=I*S>>>8,Y=(v.I>>>H>W)+0;for(Y?(I-=W,v.I-=W+1<<H>>>0):I=W+1,H=I,W=0;256<=H;)W+=8,H>>=8;return H=7^W+ia[H],v.b-=H,v.Ca=(I<<H)-1,Y}function le(v,S,I){v[S+0]=I>>24&255,v[S+1]=I>>16&255,v[S+2]=I>>8&255,v[S+3]=I>>0&255}function X(v,S){return v[S+0]<<0|v[S+1]<<8}function he(v,S){return X(v,S)|v[S+2]<<16}function Me(v,S){return X(v,S)|X(v,S+2)<<16}function Qe(v,S){var I=1<<S;return e(v!=null),e(0<S),v.X=i(I),v.X==null?0:(v.Mb=32-S,v.Xa=S,1)}function ye(v,S){e(v!=null),e(S!=null),e(v.Xa==S.Xa),n(S.X,0,v.X,0,1<<S.Xa)}function z(){this.X=[],this.Xa=this.Mb=0}function ke(v,S,I,H){e(I!=null),e(H!=null);var W=I[0],Y=H[0];return W==0&&(W=(v*Y+S/2)/S),Y==0&&(Y=(S*W+v/2)/v),0>=W||0>=Y?0:(I[0]=W,H[0]=Y,1)}function Ie(v,S){return v+(1<<S)-1>>>S}function Pe(v,S){return((4278255360&v)+(4278255360&S)>>>0&4278255360)+((16711935&v)+(16711935&S)>>>0&16711935)>>>0}function Le(v,S){_[S]=function(I,H,W,Y,Z,te,re){var de;for(de=0;de<Z;++de){var Ne=_[v](te[re+de-1],W,Y+de);te[re+de]=Pe(I[H+de],Ne)}}}function De(){this.ud=this.hd=this.jd=0}function Ee(v,S){return((4278124286&(v^S))>>>1)+(v&S)>>>0}function ce(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function He(v,S){return ce(v+(v-S+.5>>1))}function ge(v,S,I){return Math.abs(S-I)-Math.abs(v-I)}function ue(v,S,I,H,W,Y,Z){for(H=Y[Z-1],I=0;I<W;++I)Y[Z+I]=H=Pe(v[S+I],H)}function se(v,S,I,H,W){var Y;for(Y=0;Y<I;++Y){var Z=v[S+Y],te=Z>>8&255,re=16711935&(re=(re=16711935&Z)+((te<<16)+te));H[W+Y]=(4278255360&Z)+re>>>0}}function fe(v,S){S.jd=v>>0&255,S.hd=v>>8&255,S.ud=v>>16&255}function be(v,S,I,H,W,Y){var Z;for(Z=0;Z<H;++Z){var te=S[I+Z],re=te>>>8,de=te,Ne=255&(Ne=(Ne=te>>>16)+((v.jd<<24>>24)*(re<<24>>24)>>>5));de=255&(de=(de=de+((v.hd<<24>>24)*(re<<24>>24)>>>5))+((v.ud<<24>>24)*(Ne<<24>>24)>>>5)),W[Y+Z]=(4278255360&te)+(Ne<<16)+de}}function xe(v,S,I,H,W){_[S]=function(Y,Z,te,re,de,Ne,Te,Oe,Be){for(re=Te;re<Oe;++re)for(Te=0;Te<Be;++Te)de[Ne++]=W(te[H(Y[Z++])])},_[v]=function(Y,Z,te,re,de,Ne,Te){var Oe=8>>Y.b,Be=Y.Ea,Ke=Y.K[0],Re=Y.w;if(8>Oe)for(Y=(1<<Y.b)-1,Re=(1<<Oe)-1;Z<te;++Z){var _e,Ce=0;for(_e=0;_e<Be;++_e)_e&Y||(Ce=H(re[de++])),Ne[Te++]=W(Ke[Ce&Re]),Ce>>=Oe}else _["VP8LMapColor"+I](re,de,Ke,Re,Ne,Te,Z,te,Be)}}function Se(v,S,I,H,W){for(I=S+I;S<I;){var Y=v[S++];H[W++]=Y>>16&255,H[W++]=Y>>8&255,H[W++]=Y>>0&255}}function Ye(v,S,I,H,W){for(I=S+I;S<I;){var Y=v[S++];H[W++]=Y>>16&255,H[W++]=Y>>8&255,H[W++]=Y>>0&255,H[W++]=Y>>24&255}}function ve(v,S,I,H,W){for(I=S+I;S<I;){var Y=(Z=v[S++])>>16&240|Z>>12&15,Z=Z>>0&240|Z>>28&15;H[W++]=Y,H[W++]=Z}}function Bt(v,S,I,H,W){for(I=S+I;S<I;){var Y=(Z=v[S++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;H[W++]=Y,H[W++]=Z}}function We(v,S,I,H,W){for(I=S+I;S<I;){var Y=v[S++];H[W++]=Y>>0&255,H[W++]=Y>>8&255,H[W++]=Y>>16&255}}function qt(v,S,I,H,W,Y){if(Y==0)for(I=S+I;S<I;)le(H,((Y=v[S++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),W+=32;else n(H,W,v,S,I)}function is(v,S){_[S][0]=_[v+"0"],_[S][1]=_[v+"1"],_[S][2]=_[v+"2"],_[S][3]=_[v+"3"],_[S][4]=_[v+"4"],_[S][5]=_[v+"5"],_[S][6]=_[v+"6"],_[S][7]=_[v+"7"],_[S][8]=_[v+"8"],_[S][9]=_[v+"9"],_[S][10]=_[v+"10"],_[S][11]=_[v+"11"],_[S][12]=_[v+"12"],_[S][13]=_[v+"13"],_[S][14]=_[v+"0"],_[S][15]=_[v+"0"]}function er(v){return v==tN||v==rN||v==dy||v==nN}function zt(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Si(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new tr,this.sd=null}function Ko(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function sr(v,S){var I=v.T,H=S.ba.f.RGBA,W=H.eb,Y=H.fb+v.ka*H.A,Z=Ya[S.ba.S],te=v.y,re=v.O,de=v.f,Ne=v.N,Te=v.ea,Oe=v.W,Be=S.cc,Ke=S.dc,Re=S.Mc,_e=S.Nc,Ce=v.ka,ze=v.ka+v.T,Ge=v.U,Ve=Ge+1>>1;for(Ce==0?Z(te,re,null,null,de,Ne,Te,Oe,de,Ne,Te,Oe,W,Y,null,null,Ge):(Z(S.ec,S.fc,te,re,Be,Ke,Re,_e,de,Ne,Te,Oe,W,Y-H.A,W,Y,Ge),++I);Ce+2<ze;Ce+=2)Be=de,Ke=Ne,Re=Te,_e=Oe,Ne+=v.Rc,Oe+=v.Rc,Y+=2*H.A,Z(te,(re+=2*v.fa)-v.fa,te,re,Be,Ke,Re,_e,de,Ne,Te,Oe,W,Y-H.A,W,Y,Ge);return re+=v.fa,v.j+ze<v.o?(n(S.ec,S.fc,te,re,Ge),n(S.cc,S.dc,de,Ne,Ve),n(S.Mc,S.Nc,Te,Oe,Ve),I--):1&ze||Z(te,re,null,null,de,Ne,Te,Oe,de,Ne,Te,Oe,W,Y+H.A,null,null,Ge),I}function _d(v,S,I){var H=v.F,W=[v.J];if(H!=null){var Y=v.U,Z=S.ba.S,te=Z==cy||Z==dy;S=S.ba.f.RGBA;var re=[0],de=v.ka;re[0]=v.T,v.Kb&&(de==0?--re[0]:(--de,W[0]-=v.width),v.j+v.ka+v.T==v.o&&(re[0]=v.o-v.j-de));var Ne=S.eb;de=S.fb+de*S.A,v=Cr(H,W[0],v.width,Y,re,Ne,de+(te?0:3),S.A),e(I==re),v&&er(Z)&&Ga(Ne,de,te,Y,re,S.A)}return 0}function os(v){var S=v.ma,I=S.ba.S,H=11>I,W=I==oy||I==ly||I==cy||I==eN||I==12||er(I);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Mm(S.Oa,v,W?11:12))return 0;if(W&&er(I)&&Xe(),v.da)alert("todo:use_scaling");else{if(H){if(S.Ib=Ft,v.Kb){if(I=v.U+1>>1,S.memory=i(v.U+2*I),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+v.U,S.Mc=S.cc,S.Nc=S.dc+I,S.Ib=sr,Xe()}}else alert("todo:EmitYUV");W&&(S.Jb=_d,H&&Fe())}if(H&&!b6){for(v=0;256>v;++v)OG[v]=89858*(v-128)+Ay>>uy,LG[v]=-22014*(v-128)+Ay,DG[v]=-45773*(v-128),IG[v]=113618*(v-128)+Ay>>uy;for(v=Km;v<iN;++v)S=76283*(v-16)+Ay>>uy,MG[v-Km]=Ca(S,255),UG[v-Km]=Ca(S+8>>4,15);b6=1}return 1}function Ao(v){var S=v.ma,I=v.U,H=v.T;return e(!(1&v.ka)),0>=I||0>=H?0:(I=S.Ib(v,S),S.Jb!=null&&S.Jb(v,S,I),S.Dc+=I,1)}function ho(v){v.ma.memory=null}function yt(v,S,I,H){return J(v,8)!=47?0:(S[0]=J(v,14)+1,I[0]=J(v,14)+1,H[0]=J(v,1),J(v,3)!=0?0:!v.h)}function Ei(v,S){if(4>v)return v+1;var I=v-2>>1;return(2+(1&v)<<I)+J(S,I)+1}function fo(v,S){return 120<S?S-120:1<=(I=((I=vG[S-1])>>4)*v+(8-(15&I)))?I:1;var I}function sa(v,S,I){var H=R(I),W=v[S+=255&H].g-8;return 0<W&&(V(I,I.u+8),H=R(I),S+=v[S].value,S+=H&(1<<W)-1),V(I,I.u+v[S].g),v[S].value}function Dn(v,S,I){return I.g+=v.g,I.value+=v.value<<S>>>0,e(8>=I.g),v.g}function bn(v,S,I){var H=v.xc;return e((S=H==0?0:v.vc[v.md*(I>>H)+(S>>H)])<v.Wb),v.Ya[S]}function _a(v,S,I,H){var W=v.ab,Y=v.c*S,Z=v.C;S=Z+S;var te=I,re=H;for(H=v.Ta,I=v.Ua;0<W--;){var de=v.gc[W],Ne=Z,Te=S,Oe=te,Be=re,Ke=(re=H,te=I,de.Ea);switch(e(Ne<Te),e(Te<=de.nc),de.hc){case 2:ey(Oe,Be,(Te-Ne)*Ke,re,te);break;case 0:var Re=Ne,_e=Te,Ce=re,ze=te,Ge=(tt=de).Ea;Re==0&&(Jj(Oe,Be,null,null,1,Ce,ze),ue(Oe,Be+1,0,0,Ge-1,Ce,ze+1),Be+=Ge,ze+=Ge,++Re);for(var Ve=1<<tt.b,st=Ve-1,et=Ie(Ge,tt.b),pt=tt.K,tt=tt.w+(Re>>tt.b)*et;Re<_e;){var nr=pt,lr=tt,Yt=1;for(Qm(Oe,Be,Ce,ze-Ge,1,Ce,ze);Yt<Ge;){var Vt=(Yt&~st)+Ve;Vt>Ge&&(Vt=Ge),(0,nc[nr[lr++]>>8&15])(Oe,Be+ +Yt,Ce,ze+Yt-Ge,Vt-Yt,Ce,ze+Yt),Yt=Vt}Be+=Ge,ze+=Ge,++Re&st||(tt+=et)}Te!=de.nc&&n(re,te-Ke,re,te+(Te-Ne-1)*Ke,Ke);break;case 1:for(Ke=Oe,_e=Be,Ge=(Oe=de.Ea)-(ze=Oe&~(Ce=(Be=1<<de.b)-1)),Re=Ie(Oe,de.b),Ve=de.K,de=de.w+(Ne>>de.b)*Re;Ne<Te;){for(st=Ve,et=de,pt=new De,tt=_e+ze,nr=_e+Oe;_e<tt;)fe(st[et++],pt),Pd(pt,Ke,_e,Be,re,te),_e+=Be,te+=Be;_e<nr&&(fe(st[et++],pt),Pd(pt,Ke,_e,Ge,re,te),_e+=Ge,te+=Ge),++Ne&Ce||(de+=Re)}break;case 3:if(Oe==re&&Be==te&&0<de.b){for(_e=re,Oe=Ke=te+(Te-Ne)*Ke-(ze=(Te-Ne)*Ie(de.Ea,de.b)),Be=re,Ce=te,Re=[],ze=(Ge=ze)-1;0<=ze;--ze)Re[ze]=Be[Ce+ze];for(ze=Ge-1;0<=ze;--ze)_e[Oe+ze]=Re[ze];Va(de,Ne,Te,re,Ke,re,te)}else Va(de,Ne,Te,Oe,Be,re,te)}te=H,re=I}re!=I&&n(H,I,te,re,Y)}function fA(v,S){var I=v.V,H=v.Ba+v.c*v.C,W=S-v.C;if(e(S<=v.l.o),e(16>=W),0<W){var Y=v.l,Z=v.Ta,te=v.Ua,re=Y.width;if(_a(v,W,I,H),W=te=[te],e((I=v.C)<(H=S)),e(Y.v<Y.va),H>Y.o&&(H=Y.o),I<Y.j){var de=Y.j-I;I=Y.j,W[0]+=de*re}if(I>=H?I=0:(W[0]+=4*Y.v,Y.ka=I-Y.j,Y.U=Y.va-Y.v,Y.T=H-I,I=1),I){if(te=te[0],11>(I=v.ca).S){var Ne=I.f.RGBA,Te=(H=I.S,W=Y.U,Y=Y.T,de=Ne.eb,Ne.A),Oe=Y;for(Ne=Ne.fb+v.Ma*Ne.A;0<Oe--;){var Be=Z,Ke=te,Re=W,_e=de,Ce=Ne;switch(H){case iy:oa(Be,Ke,Re,_e,Ce);break;case oy:Qs(Be,Ke,Re,_e,Ce);break;case tN:Qs(Be,Ke,Re,_e,Ce),Ga(_e,Ce,0,Re,1,0);break;case A6:Jo(Be,Ke,Re,_e,Ce);break;case ly:qt(Be,Ke,Re,_e,Ce,1);break;case rN:qt(Be,Ke,Re,_e,Ce,1),Ga(_e,Ce,0,Re,1,0);break;case cy:qt(Be,Ke,Re,_e,Ce,0);break;case dy:qt(Be,Ke,Re,_e,Ce,0),Ga(_e,Ce,1,Re,1,0);break;case eN:sc(Be,Ke,Re,_e,Ce);break;case nN:sc(Be,Ke,Re,_e,Ce),_r(_e,Ce,Re,1,0);break;case h6:Yo(Be,Ke,Re,_e,Ce);break;default:e(0)}te+=re,Ne+=Te}v.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=I.height)}}v.C=S,e(v.C<=v.i)}function Wo(v){var S;if(0<v.ua)return 0;for(S=0;S<v.Wb;++S){var I=v.Ya[S].G,H=v.Ya[S].H;if(0<I[1][H[1]+0].g||0<I[2][H[2]+0].g||0<I[3][H[3]+0].g)return 0}return 1}function ki(v,S,I,H,W,Y){if(v.Z!=0){var Z=v.qd,te=v.rd;for(e(lc[v.Z]!=null);S<I;++S)lc[v.Z](Z,te,H,W,H,W,Y),Z=H,te=W,W+=Y;v.qd=Z,v.rd=te}}function Pi(v,S){var I=v.l.ma,H=I.Z==0||I.Z==1?v.l.j:v.C;if(H=v.C<H?H:v.C,e(S<=v.l.o),S>H){var W=v.l.width,Y=I.ca,Z=I.tb+W*H,te=v.V,re=v.Ba+v.c*H,de=v.gc;e(v.ab==1),e(de[0].hc==3),ty(de[0],H,S,te,re,Y,Z),ki(I,H,S,Y,Z,W)}v.C=v.Ma=S}function Fi(v,S,I,H,W,Y,Z){var te=v.$/H,re=v.$%H,de=v.m,Ne=v.s,Te=I+v.$,Oe=Te;W=I+H*W;var Be=I+H*Y,Ke=280+Ne.ua,Re=v.Pb?te:16777216,_e=0<Ne.ua?Ne.Wa:null,Ce=Ne.wc,ze=Te<Be?bn(Ne,re,te):null;e(v.C<Y),e(Be<=W);var Ge=!1;e:for(;;){for(;Ge||Te<Be;){var Ve=0;if(te>=Re){var st=Te-I;e((Re=v).Pb),Re.wd=Re.m,Re.xd=st,0<Re.s.ua&&ye(Re.s.Wa,Re.s.vb),Re=te+wG}if(re&Ce||(ze=bn(Ne,re,te)),e(ze!=null),ze.Qb&&(S[Te]=ze.qb,Ge=!0),!Ge)if(ae(de),ze.jc){Ve=de,st=S;var et=Te,pt=ze.pd[R(Ve)&ls-1];e(ze.jc),256>pt.g?(V(Ve,Ve.u+pt.g),st[et]=pt.value,Ve=0):(V(Ve,Ve.u+pt.g-256),e(256<=pt.value),Ve=pt.value),Ve==0&&(Ge=!0)}else Ve=sa(ze.G[0],ze.H[0],de);if(de.h)break;if(Ge||256>Ve){if(!Ge)if(ze.nd)S[Te]=(ze.qb|Ve<<8)>>>0;else{if(ae(de),Ge=sa(ze.G[1],ze.H[1],de),ae(de),st=sa(ze.G[2],ze.H[2],de),et=sa(ze.G[3],ze.H[3],de),de.h)break;S[Te]=(et<<24|Ge<<16|Ve<<8|st)>>>0}if(Ge=!1,++Te,++re>=H&&(re=0,++te,Z!=null&&te<=Y&&!(te%16)&&Z(v,te),_e!=null))for(;Oe<Te;)Ve=S[Oe++],_e.X[(506832829*Ve&4294967295)>>>_e.Mb]=Ve}else if(280>Ve){if(Ve=Ei(Ve-256,de),st=sa(ze.G[4],ze.H[4],de),ae(de),st=fo(H,st=Ei(st,de)),de.h)break;if(Te-I<st||W-Te<Ve)break e;for(et=0;et<Ve;++et)S[Te+et]=S[Te+et-st];for(Te+=Ve,re+=Ve;re>=H;)re-=H,++te,Z!=null&&te<=Y&&!(te%16)&&Z(v,te);if(e(Te<=W),re&Ce&&(ze=bn(Ne,re,te)),_e!=null)for(;Oe<Te;)Ve=S[Oe++],_e.X[(506832829*Ve&4294967295)>>>_e.Mb]=Ve}else{if(!(Ve<Ke))break e;for(Ge=Ve-280,e(_e!=null);Oe<Te;)Ve=S[Oe++],_e.X[(506832829*Ve&4294967295)>>>_e.Mb]=Ve;Ve=Te,e(!(Ge>>>(st=_e).Xa)),S[Ve]=st.X[Ge],Ge=!0}Ge||e(de.h==K(de))}if(v.Pb&&de.h&&Te<W)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&ye(v.s.vb,v.s.Wa);else{if(de.h)break e;Z!=null&&Z(v,te>Y?Y:te),v.a=0,v.$=Te-I}return 1}return v.a=3,0}function mo(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var S=v.Wa;S!=null&&(S.X=null),v.vb=null,e(v!=null)}function za(){var v=new Yj;return v==null?null:(v.a=0,v.xb=p6,is("Predictor","VP8LPredictors"),is("Predictor","VP8LPredictors_C"),is("PredictorAdd","VP8LPredictorsAdd"),is("PredictorAdd","VP8LPredictorsAdd_C"),ey=se,Pd=be,oa=Se,Qs=Ye,sc=ve,Yo=Bt,Jo=We,_.VP8LMapColor32b=OA,_.VP8LMapColor8b=ry,v)}function po(v,S,I,H,W){var Y=1,Z=[v],te=[S],re=H.m,de=H.s,Ne=null,Te=0;e:for(;;){if(I)for(;Y&&J(re,1);){var Oe=Z,Be=te,Ke=H,Re=1,_e=Ke.m,Ce=Ke.gc[Ke.ab],ze=J(_e,2);if(Ke.Oc&1<<ze)Y=0;else{switch(Ke.Oc|=1<<ze,Ce.hc=ze,Ce.Ea=Oe[0],Ce.nc=Be[0],Ce.K=[null],++Ke.ab,e(4>=Ke.ab),ze){case 0:case 1:Ce.b=J(_e,3)+2,Re=po(Ie(Ce.Ea,Ce.b),Ie(Ce.nc,Ce.b),0,Ke,Ce.K),Ce.K=Ce.K[0];break;case 3:var Ge,Ve=J(_e,8)+1,st=16<Ve?0:4<Ve?1:2<Ve?2:3;if(Oe[0]=Ie(Ce.Ea,st),Ce.b=st,Ge=Re=po(Ve,1,0,Ke,Ce.K)){var et,pt=Ve,tt=Ce,nr=1<<(8>>tt.b),lr=i(nr);if(lr==null)Ge=0;else{var Yt=tt.K[0],Vt=tt.w;for(lr[0]=tt.K[0][0],et=1;et<1*pt;++et)lr[et]=Pe(Yt[Vt+et],lr[et-1]);for(;et<4*nr;++et)lr[et]=0;tt.K[0]=null,tt.K[0]=lr,Ge=1}}Re=Ge;break;case 2:break;default:e(0)}Y=Re}}if(Z=Z[0],te=te[0],Y&&J(re,1)&&!(Y=1<=(Te=J(re,4))&&11>=Te)){H.a=3;break e}var br;if(br=Y)t:{var xr,Lt,jn,la=H,Nn=Z,ca=te,cr=Te,Sa=I,Ea=la.m,Xn=la.s,cs=[null],Hs=1,Ja=0,vo=bG[cr];r:for(;;){if(Sa&&J(Ea,1)){var Yn=J(Ea,3)+2,rl=Ie(Nn,Yn),Dd=Ie(ca,Yn),UA=rl*Dd;if(!po(rl,Dd,0,la,cs))break r;for(cs=cs[0],Xn.xc=Yn,xr=0;xr<UA;++xr){var cc=cs[xr]>>8&65535;cs[xr]=cc,cc>=Hs&&(Hs=cc+1)}}if(Ea.h)break r;for(Lt=0;5>Lt;++Lt){var rn=f6[Lt];!Lt&&0<cr&&(rn+=1<<cr),Ja<rn&&(Ja=rn)}var oN=o(Hs*vo,E),N6=Hs,_6=o(N6,O);if(_6==null)var fy=null;else e(65536>=N6),fy=_6;var Wm=i(Ja);if(fy==null||Wm==null||oN==null){la.a=1;break r}var my=oN;for(xr=jn=0;xr<Hs;++xr){var Li=fy[xr],RA=Li.G,QA=Li.H,C6=0,py=1,B6=0;for(Lt=0;5>Lt;++Lt){rn=f6[Lt],RA[Lt]=my,QA[Lt]=jn,!Lt&&0<cr&&(rn+=1<<cr);s:{var gy,lN=rn,xy=la,Gm=Wm,$G=my,HG=jn,cN=0,dc=xy.m,qG=J(dc,1);if(a(Gm,0,0,lN),qG){var zG=J(dc,1)+1,VG=J(dc,1),S6=J(dc,VG==0?1:8);Gm[S6]=1,zG==2&&(Gm[S6=J(dc,8)]=1);var yy=1}else{var E6=i(19),k6=J(dc,4)+4;if(19<k6){xy.a=3;var vy=0;break s}for(gy=0;gy<k6;++gy)E6[yG[gy]]=J(dc,3);var dN=void 0,Xm=void 0,P6=xy,KG=E6,by=lN,F6=Gm,uN=0,uc=P6.m,T6=8,O6=o(128,E);n:for(;w(O6,0,7,KG,19);){if(J(uc,1)){var WG=2+2*J(uc,3);if((dN=2+J(uc,WG))>by)break n}else dN=by;for(Xm=0;Xm<by&&dN--;){ae(uc);var I6=O6[0+(127&R(uc))];V(uc,uc.u+I6.g);var $A=I6.value;if(16>$A)F6[Xm++]=$A,$A!=0&&(T6=$A);else{var GG=$A==16,D6=$A-16,XG=gG[D6],L6=J(uc,pG[D6])+XG;if(Xm+L6>by)break n;for(var YG=GG?T6:0;0<L6--;)F6[Xm++]=YG}}uN=1;break n}uN||(P6.a=3),yy=uN}(yy=yy&&!dc.h)&&(cN=w($G,HG,8,Gm,lN)),yy&&cN!=0?vy=cN:(xy.a=3,vy=0)}if(vy==0)break r;if(py&&xG[Lt]==1&&(py=my[jn].g==0),C6+=my[jn].g,jn+=vy,3>=Lt){var Ym,AN=Wm[0];for(Ym=1;Ym<rn;++Ym)Wm[Ym]>AN&&(AN=Wm[Ym]);B6+=AN}}if(Li.nd=py,Li.Qb=0,py&&(Li.qb=(RA[3][QA[3]+0].value<<24|RA[1][QA[1]+0].value<<16|RA[2][QA[2]+0].value)>>>0,C6==0&&256>RA[0][QA[0]+0].value&&(Li.Qb=1,Li.qb+=RA[0][QA[0]+0].value<<8)),Li.jc=!Li.Qb&&6>B6,Li.jc){var wy,nl=Li;for(wy=0;wy<ls;++wy){var Ac=wy,hc=nl.pd[Ac],jy=nl.G[0][nl.H[0]+Ac];256<=jy.value?(hc.g=jy.g+256,hc.value=jy.value):(hc.g=0,hc.value=0,Ac>>=Dn(jy,8,hc),Ac>>=Dn(nl.G[1][nl.H[1]+Ac],16,hc),Ac>>=Dn(nl.G[2][nl.H[2]+Ac],0,hc),Dn(nl.G[3][nl.H[3]+Ac],24,hc))}}}Xn.vc=cs,Xn.Wb=Hs,Xn.Ya=fy,Xn.yc=oN,br=1;break t}br=0}if(!(Y=br)){H.a=3;break e}if(0<Te){if(de.ua=1<<Te,!Qe(de.Wa,Te)){H.a=1,Y=0;break e}}else de.ua=0;var hN=H,M6=Z,JG=te,fN=hN.s,mN=fN.xc;if(hN.c=M6,hN.i=JG,fN.md=Ie(M6,mN),fN.wc=mN==0?-1:(1<<mN)-1,I){H.xb=EG;break e}if((Ne=i(Z*te))==null){H.a=1,Y=0;break e}Y=(Y=Fi(H,Ne,0,Z,te,te,null))&&!re.h;break e}return Y?(W!=null?W[0]=Ne:(e(Ne==null),e(I)),H.$=0,I||mo(de)):mo(de),Y}function Cd(v,S){var I=v.c*v.i,H=I+S+16*S;return e(v.c<=S),v.V=i(H),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+I+S,1)}function mA(v,S){var I=v.C,H=S-I,W=v.V,Y=v.Ba+v.c*I;for(e(S<=v.l.o);0<H;){var Z=16<H?16:H,te=v.l.ma,re=v.l.width,de=re*Z,Ne=te.ca,Te=te.tb+re*I,Oe=v.Ta,Be=v.Ua;_a(v,Z,W,Y),dn(Oe,Be,Ne,Te,de),ki(te,I,I+Z,Ne,Te,re),H-=Z,W+=Z*v.c,I+=Z}e(I==S),v.C=v.Ma=S}function pA(){this.ub=this.yd=this.td=this.Rb=0}function gA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xA(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ox(){this.Yb=function(){var v=[];return function S(I,H,W){for(var Y=W[H],Z=0;Z<Y&&(I.push(W.length>H+1?[]:0),!(W.length<H+1));Z++)S(I[Z],H+1,W)}(v,0,[3,11]),v}()}function Sj(){this.jb=i(3),this.Wc=l([4,8],Ox),this.Xc=l([4,17],Ox)}function Ej(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function yA(){this.ld=this.La=this.dd=this.tc=0}function Ix(){this.Na=this.la=0}function kj(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wm(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pj(){this.uc=this.M=this.Nb=0,this.wa=Array(new yA),this.Y=0,this.ya=Array(new wm),this.aa=0,this.l=new vA}function Dx(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Fj(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new pA,this.Kc=new gA,this.ed=new Ej,this.Qa=new xA,this.Ic=this.$c=this.Aa=0,this.D=new Pj,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ee),this.ia=0,this.pb=o(4,kj),this.Pa=new Sj,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dx),this.Hd=0,this.rb=Array(new Ix),this.sb=0,this.wa=Array(new yA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wm),this.L=this.aa=0,this.gd=l([4,2],yA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function vA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Tj(){var v=new Fj;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Vm||(Vm=Ux)),v}function ln(v,S,I){return v.a==0&&(v.a=S,v.sc=I,v.cb=0),0}function Lx(v,S,I){return 3<=I&&v[S+0]==157&&v[S+1]==1&&v[S+2]==42}function Mx(v,S){if(v==null)return 0;if(v.a=0,v.sc="OK",S==null)return ln(v,2,"null VP8Io passed to VP8GetHeaders()");var I=S.data,H=S.w,W=S.ha;if(4>W)return ln(v,7,"Truncated header.");var Y=I[H+0]|I[H+1]<<8|I[H+2]<<16,Z=v.Od;if(Z.Rb=!(1&Y),Z.td=Y>>1&7,Z.yd=Y>>4&1,Z.ub=Y>>5,3<Z.td)return ln(v,3,"Incorrect keyframe parameters.");if(!Z.yd)return ln(v,4,"Frame not displayable.");H+=3,W-=3;var te=v.Kc;if(Z.Rb){if(7>W)return ln(v,7,"cannot parse picture header");if(!Lx(I,H,W))return ln(v,3,"Bad code word");te.c=16383&(I[H+4]<<8|I[H+3]),te.Td=I[H+4]>>6,te.i=16383&(I[H+6]<<8|I[H+5]),te.Ud=I[H+6]>>6,H+=7,W-=7,v.za=te.c+15>>4,v.Ub=te.i+15>>4,S.width=te.c,S.height=te.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,a((Y=v.Pa).jb,0,255,Y.jb.length),e((Y=v.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,a(Y.Zb,0,0,Y.Zb.length),a(Y.Lb,0,0,Y.Lb)}if(Z.ub>W)return ln(v,7,"bad partition length");L(Y=v.m,I,H,Z.ub),H+=Z.ub,W-=Z.ub,Z.Rb&&(te.Ld=ne(Y),te.Kd=ne(Y)),te=v.Qa;var re,de=v.Pa;if(e(Y!=null),e(te!=null),te.Cb=ne(Y),te.Cb){if(te.Bb=ne(Y),ne(Y)){for(te.Fb=ne(Y),re=0;4>re;++re)te.Zb[re]=ne(Y)?M(Y,7):0;for(re=0;4>re;++re)te.Lb[re]=ne(Y)?M(Y,6):0}if(te.Bb)for(re=0;3>re;++re)de.jb[re]=ne(Y)?U(Y,8):255}else te.Bb=0;if(Y.Ka)return ln(v,3,"cannot parse segment header");if((te=v.ed).zd=ne(Y),te.Tb=U(Y,6),te.wb=U(Y,3),te.Pc=ne(Y),te.Pc&&ne(Y)){for(de=0;4>de;++de)ne(Y)&&(te.vd[de]=M(Y,6));for(de=0;4>de;++de)ne(Y)&&(te.od[de]=M(Y,6))}if(v.L=te.Tb==0?0:te.zd?1:2,Y.Ka)return ln(v,3,"cannot parse filter header");var Ne=W;if(W=re=H,H=re+Ne,te=Ne,v.Xb=(1<<U(v.m,2))-1,Ne<3*(de=v.Xb))I=7;else{for(re+=3*de,te-=3*de,Ne=0;Ne<de;++Ne){var Te=I[W+0]|I[W+1]<<8|I[W+2]<<16;Te>te&&(Te=te),L(v.Jc[+Ne],I,re,Te),re+=Te,te-=Te,W+=3}L(v.Jc[+de],I,re,te),I=re<H?0:5}if(I!=0)return ln(v,I,"cannot parse partitions");for(I=U(re=v.m,7),W=ne(re)?M(re,4):0,H=ne(re)?M(re,4):0,te=ne(re)?M(re,4):0,de=ne(re)?M(re,4):0,re=ne(re)?M(re,4):0,Ne=v.Qa,Te=0;4>Te;++Te){if(Ne.Cb){var Oe=Ne.Zb[Te];Ne.Fb||(Oe+=I)}else{if(0<Te){v.pb[Te]=v.pb[0];continue}Oe=I}var Be=v.pb[Te];Be.Sc[0]=sN[Ca(Oe+W,127)],Be.Sc[1]=aN[Ca(Oe+0,127)],Be.Eb[0]=2*sN[Ca(Oe+H,127)],Be.Eb[1]=101581*aN[Ca(Oe+te,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=sN[Ca(Oe+de,117)],Be.Qc[1]=aN[Ca(Oe+re,127)],Be.lc=Oe+re}if(!Z.Rb)return ln(v,4,"Not a key frame.");for(ne(Y),Z=v.Pa,I=0;4>I;++I){for(W=0;8>W;++W)for(H=0;3>H;++H)for(te=0;11>te;++te)de=ie(Y,BG[I][W][H][te])?U(Y,8):_G[I][W][H][te],Z.Wc[I][W].Yb[H][te]=de;for(W=0;17>W;++W)Z.Xc[I][W]=Z.Wc[I][SG[W]]}return v.kc=ne(Y),v.kc&&(v.Bd=U(Y,8)),v.cb=1}function Ux(v,S,I,H,W,Y,Z){var te=S[W].Yb[I];for(I=0;16>W;++W){if(!ie(v,te[I+0]))return W;for(;!ie(v,te[I+1]);)if(te=S[++W].Yb[0],I=0,W==16)return 16;var re=S[W+1].Yb;if(ie(v,te[I+2])){var de=v,Ne=0;if(ie(de,(Oe=te)[(Te=I)+3]))if(ie(de,Oe[Te+6])){for(te=0,Te=2*(Ne=ie(de,Oe[Te+8]))+(Oe=ie(de,Oe[Te+9+Ne])),Ne=0,Oe=jG[Te];Oe[te];++te)Ne+=Ne+ie(de,Oe[te]);Ne+=3+(8<<Te)}else ie(de,Oe[Te+7])?(Ne=7+2*ie(de,165),Ne+=ie(de,145)):Ne=5+ie(de,159);else Ne=ie(de,Oe[Te+4])?3+ie(de,Oe[Te+5]):2;te=re[2]}else Ne=1,te=re[1];re=Z+NG[W],0>(de=v).b&&Ae(de);var Te,Oe=de.b,Be=(Te=de.Ca>>1)-(de.I>>Oe)>>31;--de.b,de.Ca+=Be,de.Ca|=1,de.I-=(Te+1&Be)<<Oe,Y[re]=((Ne^Be)-Be)*H[(0<W)+0]}return 16}function jm(v){var S=v.rb[v.sb-1];S.la=0,S.Na=0,a(v.zc,0,0,v.zc.length),v.ja=0}function Oj(v,S){if(v==null)return 0;if(S==null)return ln(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Mx(v,S))return 0;if(e(v.cb),S.ac==null||S.ac(S)){S.ob&&(v.L=0);var I=hy[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=S.v-I>>4,v.zb=S.j-I>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=S.o+15+I>>4,v.Hb=S.va+15+I>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var H=v.ed;for(I=0;4>I;++I){var W;if(v.Qa.Cb){var Y=v.Qa.Lb[I];v.Qa.Fb||(Y+=H.Tb)}else Y=H.Tb;for(W=0;1>=W;++W){var Z=v.gd[I][W],te=Y;if(H.Pc&&(te+=H.vd[0],W&&(te+=H.od[0])),0<(te=0>te?0:63<te?63:te)){var re=te;0<H.wb&&(re=4<H.wb?re>>2:re>>1)>9-H.wb&&(re=9-H.wb),1>re&&(re=1),Z.dd=re,Z.tc=2*te+re,Z.ld=40<=te?2:15<=te?1:0}else Z.tc=0;Z.La=W}}}I=0}else ln(v,6,"Frame setup failed"),I=v.a;if(I=I==0){if(I){v.$c=0,0<v.Aa||(v.Ic=QG);e:{I=v.Ic,H=4*(re=v.za);var de=32*re,Ne=re+1,Te=0<v.L?re*(0<v.Aa?2:1):0,Oe=(v.Aa==2?2:1)*re;if((Z=H+832+(W=3*(16*I+hy[v.L])/2*de)+(Y=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=Z)I=0;else{if(Z>v.Vb){if(v.Vb=0,v.Ec=i(Z),v.Fc=0,v.Ec==null){I=ln(v,1,"no memory during frame initialization.");break e}v.Vb=Z}Z=v.Ec,te=v.Fc,v.Ac=Z,v.Bc=te,te+=H,v.Gd=o(de,Dx),v.Hd=0,v.rb=o(Ne+1,Ix),v.sb=1,v.wa=Te?o(Te,yA):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=re),e(!0),v.oc=Z,v.pc=te,te+=832,v.ya=o(Oe,wm),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=re),v.R=16*re,v.B=8*re,re=(de=hy[v.L])*v.R,de=de/2*v.B,v.sa=Z,v.ta=te+re,v.qa=v.sa,v.ra=v.ta+16*I*v.R+de,v.Ha=v.qa,v.Ia=v.ra+8*I*v.B+de,v.$c=0,te+=W,v.mb=Y?Z:null,v.nb=Y?te:null,e(te+Y<=v.Fc+v.Vb),jm(v),a(v.Ac,v.Bc,0,H),I=1}}if(I){if(S.ka=0,S.y=v.sa,S.O=v.ta,S.f=v.qa,S.N=v.ra,S.ea=v.Ha,S.Vd=v.Ia,S.fa=v.R,S.Rc=v.B,S.F=null,S.J=0,!sy){for(I=-255;255>=I;++I)Ln[255+I]=0>I?-I:I;for(I=-1020;1020>=I;++I)el[1020+I]=-128>I?-128:127<I?127:I;for(I=-112;112>=I;++I)zm[112+I]=-16>I?-16:15<I?15:I;for(I=-255;510>=I;++I)MA[255+I]=0>I?0:255<I?255:I;sy=1}IA=Lj,Zo=Ij,$m=Qx,$s=Dj,Ka=$x,cn=Rx,DA=Em,ny=Ed,Hm=Xj,Fd=km,Td=Gj,ac=CA,Od=Pm,LA=Yx,Id=Xx,ic=xo,qm=Xo,Wa=Wj,Di[0]=go,Di[1]=Mj,Di[2]=$j,Di[3]=Hj,Di[4]=zx,Di[5]=NA,Di[6]=Vx,Di[7]=Cm,Di[8]=zj,Di[9]=qj,oc[0]=Hx,oc[1]=Rj,oc[2]=Go,oc[3]=wA,oc[4]=ys,oc[5]=Qj,oc[6]=qx,tl[0]=ec,tl[1]=Uj,tl[2]=Vj,tl[3]=Bm,tl[4]=Sd,tl[5]=Kj,tl[6]=Sm,I=1}else I=0}I&&(I=function(Be,Ke){for(Be.M=0;Be.M<Be.Va;++Be.M){var Re,_e=Be.Jc[Be.M&Be.Xb],Ce=Be.m,ze=Be;for(Re=0;Re<ze.za;++Re){var Ge=Ce,Ve=ze,st=Ve.Ac,et=Ve.Bc+4*Re,pt=Ve.zc,tt=Ve.ya[Ve.aa+Re];if(Ve.Qa.Bb?tt.$b=ie(Ge,Ve.Pa.jb[0])?2+ie(Ge,Ve.Pa.jb[2]):ie(Ge,Ve.Pa.jb[1]):tt.$b=0,Ve.kc&&(tt.Ad=ie(Ge,Ve.Bd)),tt.Za=!ie(Ge,145)+0,tt.Za){var nr=tt.Ob,lr=0;for(Ve=0;4>Ve;++Ve){var Yt,Vt=pt[0+Ve];for(Yt=0;4>Yt;++Yt){Vt=CG[st[et+Yt]][Vt];for(var br=m6[ie(Ge,Vt[0])];0<br;)br=m6[2*br+ie(Ge,Vt[br])];Vt=-br,st[et+Yt]=Vt}n(nr,lr,st,et,4),lr+=4,pt[0+Ve]=Vt}}else Vt=ie(Ge,156)?ie(Ge,128)?1:3:ie(Ge,163)?2:0,tt.Ob[0]=Vt,a(st,et,Vt,4),a(pt,0,Vt,4);tt.Dd=ie(Ge,142)?ie(Ge,114)?ie(Ge,183)?1:3:2:0}if(ze.m.Ka)return ln(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(ze=_e,Ge=(Ce=Be).rb[Ce.sb-1],st=Ce.rb[Ce.sb+Ce.ja],Re=Ce.ya[Ce.aa+Ce.ja],et=Ce.kc?Re.Ad:0)Ge.la=st.la=0,Re.Za||(Ge.Na=st.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var xr,Lt;if(Ge=st,st=ze,et=Ce.Pa.Xc,pt=Ce.ya[Ce.aa+Ce.ja],tt=Ce.pb[pt.$b],Ve=pt.ad,nr=0,lr=Ce.rb[Ce.sb-1],Vt=Yt=0,a(Ve,nr,0,384),pt.Za)var jn=0,la=et[3];else{br=i(16);var Nn=Ge.Na+lr.Na;if(Nn=Vm(st,et[1],Nn,tt.Eb,0,br,0),Ge.Na=lr.Na=(0<Nn)+0,1<Nn)IA(br,0,Ve,nr);else{var ca=br[0]+3>>3;for(br=0;256>br;br+=16)Ve[nr+br]=ca}jn=1,la=et[0]}var cr=15&Ge.la,Sa=15&lr.la;for(br=0;4>br;++br){var Ea=1&Sa;for(ca=Lt=0;4>ca;++ca)cr=cr>>1|(Ea=(Nn=Vm(st,la,Nn=Ea+(1&cr),tt.Sc,jn,Ve,nr))>jn)<<7,Lt=Lt<<2|(3<Nn?3:1<Nn?2:Ve[nr+0]!=0),nr+=16;cr>>=4,Sa=Sa>>1|Ea<<7,Yt=(Yt<<8|Lt)>>>0}for(la=cr,jn=Sa>>4,xr=0;4>xr;xr+=2){for(Lt=0,cr=Ge.la>>4+xr,Sa=lr.la>>4+xr,br=0;2>br;++br){for(Ea=1&Sa,ca=0;2>ca;++ca)Nn=Ea+(1&cr),cr=cr>>1|(Ea=0<(Nn=Vm(st,et[2],Nn,tt.Qc,0,Ve,nr)))<<3,Lt=Lt<<2|(3<Nn?3:1<Nn?2:Ve[nr+0]!=0),nr+=16;cr>>=2,Sa=Sa>>1|Ea<<5}Vt|=Lt<<4*xr,la|=cr<<4<<xr,jn|=(240&Sa)<<xr}Ge.la=la,lr.la=jn,pt.Hc=Yt,pt.Gc=Vt,pt.ia=43690&Vt?0:tt.ia,et=!(Yt|Vt)}if(0<Ce.L&&(Ce.wa[Ce.Y+Ce.ja]=Ce.gd[Re.$b][Re.Za],Ce.wa[Ce.Y+Ce.ja].La|=!et),ze.Ka)return ln(Be,7,"Premature end-of-file encountered.")}if(jm(Be),Ce=Ke,ze=1,Re=(_e=Be).D,Ge=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(Re.M=_e.M,Re.uc=Ge,Lm(_e,Re),ze=1,Re=(Lt=_e.D).Nb,Ge=(Vt=hy[_e.L])*_e.R,st=Vt/2*_e.B,br=16*Re*_e.R,ca=8*Re*_e.B,et=_e.sa,pt=_e.ta-Ge+br,tt=_e.qa,Ve=_e.ra-st+ca,nr=_e.Ha,lr=_e.Ia-st+ca,Sa=(cr=Lt.M)==0,Yt=cr>=_e.Va-1,_e.Aa==2&&Lm(_e,Lt),Lt.uc)for(Ea=(Nn=_e).D.M,e(Nn.D.uc),Lt=Nn.yb;Lt<Nn.Hb;++Lt){jn=Lt,la=Ea;var Xn=(cs=(rn=Nn).D).Nb;xr=rn.R;var cs=cs.wa[cs.Y+jn],Hs=rn.sa,Ja=rn.ta+16*Xn*xr+16*jn,vo=cs.dd,Yn=cs.tc;if(Yn!=0)if(e(3<=Yn),rn.L==1)0<jn&&ic(Hs,Ja,xr,Yn+4),cs.La&&Wa(Hs,Ja,xr,Yn),0<la&&Id(Hs,Ja,xr,Yn+4),cs.La&&qm(Hs,Ja,xr,Yn);else{var rl=rn.B,Dd=rn.qa,UA=rn.ra+8*Xn*rl+8*jn,cc=rn.Ha,rn=rn.Ia+8*Xn*rl+8*jn;Xn=cs.ld,0<jn&&(ny(Hs,Ja,xr,Yn+4,vo,Xn),Fd(Dd,UA,cc,rn,rl,Yn+4,vo,Xn)),cs.La&&(ac(Hs,Ja,xr,Yn,vo,Xn),LA(Dd,UA,cc,rn,rl,Yn,vo,Xn)),0<la&&(DA(Hs,Ja,xr,Yn+4,vo,Xn),Hm(Dd,UA,cc,rn,rl,Yn+4,vo,Xn)),cs.La&&(Td(Hs,Ja,xr,Yn,vo,Xn),Od(Dd,UA,cc,rn,rl,Yn,vo,Xn))}}if(_e.ia&&alert("todo:DitherRow"),Ce.put!=null){if(Lt=16*cr,cr=16*(cr+1),Sa?(Ce.y=_e.sa,Ce.O=_e.ta+br,Ce.f=_e.qa,Ce.N=_e.ra+ca,Ce.ea=_e.Ha,Ce.W=_e.Ia+ca):(Lt-=Vt,Ce.y=et,Ce.O=pt,Ce.f=tt,Ce.N=Ve,Ce.ea=nr,Ce.W=lr),Yt||(cr-=Vt),cr>Ce.o&&(cr=Ce.o),Ce.F=null,Ce.J=null,_e.Fa!=null&&0<_e.Fa.length&&Lt<cr&&(Ce.J=Im(_e,Ce,Lt,cr-Lt),Ce.F=_e.mb,Ce.F==null&&Ce.F.length==0)){ze=ln(_e,3,"Could not decode alpha data.");break e}Lt<Ce.j&&(Vt=Ce.j-Lt,Lt=Ce.j,e(!(1&Vt)),Ce.O+=_e.R*Vt,Ce.N+=_e.B*(Vt>>1),Ce.W+=_e.B*(Vt>>1),Ce.F!=null&&(Ce.J+=Ce.width*Vt)),Lt<cr&&(Ce.O+=Ce.v,Ce.N+=Ce.v>>1,Ce.W+=Ce.v>>1,Ce.F!=null&&(Ce.J+=Ce.v),Ce.ka=Lt-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=cr-Lt,ze=Ce.put(Ce))}Re+1!=_e.Ic||Yt||(n(_e.sa,_e.ta-Ge,et,pt+16*_e.R,Ge),n(_e.qa,_e.ra-st,tt,Ve+8*_e.B,st),n(_e.Ha,_e.Ia-st,nr,lr+8*_e.B,st))}if(!ze)return ln(Be,6,"Output aborted.")}return 1}(v,S)),S.bc!=null&&S.bc(S),I&=1}return I?(v.cb=0,I):0}function Ti(v,S,I,H,W){W=v[S+I+32*H]+(W>>3),v[S+I+32*H]=-256&W?0>W?0:255:W}function bA(v,S,I,H,W,Y){Ti(v,S,0,I,H+W),Ti(v,S,1,I,H+Y),Ti(v,S,2,I,H-Y),Ti(v,S,3,I,H-W)}function aa(v){return(20091*v>>16)+v}function Nm(v,S,I,H){var W,Y=0,Z=i(16);for(W=0;4>W;++W){var te=v[S+0]+v[S+8],re=v[S+0]-v[S+8],de=(35468*v[S+4]>>16)-aa(v[S+12]),Ne=aa(v[S+4])+(35468*v[S+12]>>16);Z[Y+0]=te+Ne,Z[Y+1]=re+de,Z[Y+2]=re-de,Z[Y+3]=te-Ne,Y+=4,S++}for(W=Y=0;4>W;++W)te=(v=Z[Y+0]+4)+Z[Y+8],re=v-Z[Y+8],de=(35468*Z[Y+4]>>16)-aa(Z[Y+12]),Ti(I,H,0,0,te+(Ne=aa(Z[Y+4])+(35468*Z[Y+12]>>16))),Ti(I,H,1,0,re+de),Ti(I,H,2,0,re-de),Ti(I,H,3,0,te-Ne),Y++,H+=32}function Rx(v,S,I,H){var W=v[S+0]+4,Y=35468*v[S+4]>>16,Z=aa(v[S+4]),te=35468*v[S+1]>>16;bA(I,H,0,W+Z,v=aa(v[S+1]),te),bA(I,H,1,W+Y,v,te),bA(I,H,2,W-Y,v,te),bA(I,H,3,W-Z,v,te)}function Ij(v,S,I,H,W){Nm(v,S,I,H),W&&Nm(v,S+16,I,H+4)}function Qx(v,S,I,H){Zo(v,S+0,I,H,1),Zo(v,S+32,I,H+128,1)}function Dj(v,S,I,H){var W;for(v=v[S+0]+4,W=0;4>W;++W)for(S=0;4>S;++S)Ti(I,H,S,W,v)}function $x(v,S,I,H){v[S+0]&&$s(v,S+0,I,H),v[S+16]&&$s(v,S+16,I,H+4),v[S+32]&&$s(v,S+32,I,H+128),v[S+48]&&$s(v,S+48,I,H+128+4)}function Lj(v,S,I,H){var W,Y=i(16);for(W=0;4>W;++W){var Z=v[S+0+W]+v[S+12+W],te=v[S+4+W]+v[S+8+W],re=v[S+4+W]-v[S+8+W],de=v[S+0+W]-v[S+12+W];Y[0+W]=Z+te,Y[8+W]=Z-te,Y[4+W]=de+re,Y[12+W]=de-re}for(W=0;4>W;++W)Z=(v=Y[0+4*W]+3)+Y[3+4*W],te=Y[1+4*W]+Y[2+4*W],re=Y[1+4*W]-Y[2+4*W],de=v-Y[3+4*W],I[H+0]=Z+te>>3,I[H+16]=de+re>>3,I[H+32]=Z-te>>3,I[H+48]=de-re>>3,H+=64}function _m(v,S,I){var H,W=S-32,Y=Ba,Z=255-v[W-1];for(H=0;H<I;++H){var te,re=Y,de=Z+v[S-1];for(te=0;te<I;++te)v[S+te]=re[de+v[W+te]];S+=32}}function Mj(v,S){_m(v,S,4)}function Uj(v,S){_m(v,S,8)}function Rj(v,S){_m(v,S,16)}function Go(v,S){var I;for(I=0;16>I;++I)n(v,S+32*I,v,S-32,16)}function wA(v,S){var I;for(I=16;0<I;--I)a(v,S,v[S-1],16),S+=32}function jA(v,S,I){var H;for(H=0;16>H;++H)a(S,I+32*H,v,16)}function Hx(v,S){var I,H=16;for(I=0;16>I;++I)H+=v[S-1+32*I]+v[S+I-32];jA(H>>5,v,S)}function ys(v,S){var I,H=8;for(I=0;16>I;++I)H+=v[S-1+32*I];jA(H>>4,v,S)}function Qj(v,S){var I,H=8;for(I=0;16>I;++I)H+=v[S+I-32];jA(H>>4,v,S)}function qx(v,S){jA(128,v,S)}function Pt(v,S,I){return v+2*S+I+2>>2}function $j(v,S){var I,H=S-32;for(H=new Uint8Array([Pt(v[H-1],v[H+0],v[H+1]),Pt(v[H+0],v[H+1],v[H+2]),Pt(v[H+1],v[H+2],v[H+3]),Pt(v[H+2],v[H+3],v[H+4])]),I=0;4>I;++I)n(v,S+32*I,H,0,H.length)}function Hj(v,S){var I=v[S-1],H=v[S-1+32],W=v[S-1+64],Y=v[S-1+96];le(v,S+0,16843009*Pt(v[S-1-32],I,H)),le(v,S+32,16843009*Pt(I,H,W)),le(v,S+64,16843009*Pt(H,W,Y)),le(v,S+96,16843009*Pt(W,Y,Y))}function go(v,S){var I,H=4;for(I=0;4>I;++I)H+=v[S+I-32]+v[S-1+32*I];for(H>>=3,I=0;4>I;++I)a(v,S+32*I,H,4)}function zx(v,S){var I=v[S-1+0],H=v[S-1+32],W=v[S-1+64],Y=v[S-1-32],Z=v[S+0-32],te=v[S+1-32],re=v[S+2-32],de=v[S+3-32];v[S+0+96]=Pt(H,W,v[S-1+96]),v[S+1+96]=v[S+0+64]=Pt(I,H,W),v[S+2+96]=v[S+1+64]=v[S+0+32]=Pt(Y,I,H),v[S+3+96]=v[S+2+64]=v[S+1+32]=v[S+0+0]=Pt(Z,Y,I),v[S+3+64]=v[S+2+32]=v[S+1+0]=Pt(te,Z,Y),v[S+3+32]=v[S+2+0]=Pt(re,te,Z),v[S+3+0]=Pt(de,re,te)}function Vx(v,S){var I=v[S+1-32],H=v[S+2-32],W=v[S+3-32],Y=v[S+4-32],Z=v[S+5-32],te=v[S+6-32],re=v[S+7-32];v[S+0+0]=Pt(v[S+0-32],I,H),v[S+1+0]=v[S+0+32]=Pt(I,H,W),v[S+2+0]=v[S+1+32]=v[S+0+64]=Pt(H,W,Y),v[S+3+0]=v[S+2+32]=v[S+1+64]=v[S+0+96]=Pt(W,Y,Z),v[S+3+32]=v[S+2+64]=v[S+1+96]=Pt(Y,Z,te),v[S+3+64]=v[S+2+96]=Pt(Z,te,re),v[S+3+96]=Pt(te,re,re)}function NA(v,S){var I=v[S-1+0],H=v[S-1+32],W=v[S-1+64],Y=v[S-1-32],Z=v[S+0-32],te=v[S+1-32],re=v[S+2-32],de=v[S+3-32];v[S+0+0]=v[S+1+64]=Y+Z+1>>1,v[S+1+0]=v[S+2+64]=Z+te+1>>1,v[S+2+0]=v[S+3+64]=te+re+1>>1,v[S+3+0]=re+de+1>>1,v[S+0+96]=Pt(W,H,I),v[S+0+64]=Pt(H,I,Y),v[S+0+32]=v[S+1+96]=Pt(I,Y,Z),v[S+1+32]=v[S+2+96]=Pt(Y,Z,te),v[S+2+32]=v[S+3+96]=Pt(Z,te,re),v[S+3+32]=Pt(te,re,de)}function Cm(v,S){var I=v[S+0-32],H=v[S+1-32],W=v[S+2-32],Y=v[S+3-32],Z=v[S+4-32],te=v[S+5-32],re=v[S+6-32],de=v[S+7-32];v[S+0+0]=I+H+1>>1,v[S+1+0]=v[S+0+64]=H+W+1>>1,v[S+2+0]=v[S+1+64]=W+Y+1>>1,v[S+3+0]=v[S+2+64]=Y+Z+1>>1,v[S+0+32]=Pt(I,H,W),v[S+1+32]=v[S+0+96]=Pt(H,W,Y),v[S+2+32]=v[S+1+96]=Pt(W,Y,Z),v[S+3+32]=v[S+2+96]=Pt(Y,Z,te),v[S+3+64]=Pt(Z,te,re),v[S+3+96]=Pt(te,re,de)}function qj(v,S){var I=v[S-1+0],H=v[S-1+32],W=v[S-1+64],Y=v[S-1+96];v[S+0+0]=I+H+1>>1,v[S+2+0]=v[S+0+32]=H+W+1>>1,v[S+2+32]=v[S+0+64]=W+Y+1>>1,v[S+1+0]=Pt(I,H,W),v[S+3+0]=v[S+1+32]=Pt(H,W,Y),v[S+3+32]=v[S+1+64]=Pt(W,Y,Y),v[S+3+64]=v[S+2+64]=v[S+0+96]=v[S+1+96]=v[S+2+96]=v[S+3+96]=Y}function zj(v,S){var I=v[S-1+0],H=v[S-1+32],W=v[S-1+64],Y=v[S-1+96],Z=v[S-1-32],te=v[S+0-32],re=v[S+1-32],de=v[S+2-32];v[S+0+0]=v[S+2+32]=I+Z+1>>1,v[S+0+32]=v[S+2+64]=H+I+1>>1,v[S+0+64]=v[S+2+96]=W+H+1>>1,v[S+0+96]=Y+W+1>>1,v[S+3+0]=Pt(te,re,de),v[S+2+0]=Pt(Z,te,re),v[S+1+0]=v[S+3+32]=Pt(I,Z,te),v[S+1+32]=v[S+3+64]=Pt(H,I,Z),v[S+1+64]=v[S+3+96]=Pt(W,H,I),v[S+1+96]=Pt(Y,W,H)}function Vj(v,S){var I;for(I=0;8>I;++I)n(v,S+32*I,v,S-32,8)}function Bm(v,S){var I;for(I=0;8>I;++I)a(v,S,v[S-1],8),S+=32}function Bd(v,S,I){var H;for(H=0;8>H;++H)a(S,I+32*H,v,8)}function ec(v,S){var I,H=8;for(I=0;8>I;++I)H+=v[S+I-32]+v[S-1+32*I];Bd(H>>4,v,S)}function Kj(v,S){var I,H=4;for(I=0;8>I;++I)H+=v[S+I-32];Bd(H>>3,v,S)}function Sd(v,S){var I,H=4;for(I=0;8>I;++I)H+=v[S-1+32*I];Bd(H>>3,v,S)}function Sm(v,S){Bd(128,v,S)}function _A(v,S,I){var H=v[S-I],W=v[S+0],Y=3*(W-H)+Zj[1020+v[S-2*I]-v[S+I]],Z=ay[112+(Y+4>>3)];v[S-I]=Ba[255+H+ay[112+(Y+3>>3)]],v[S+0]=Ba[255+W-Z]}function Kx(v,S,I,H){var W=v[S+0],Y=v[S+I];return Xa[255+v[S-2*I]-v[S-I]]>H||Xa[255+Y-W]>H}function Wx(v,S,I,H){return 4*Xa[255+v[S-I]-v[S+0]]+Xa[255+v[S-2*I]-v[S+I]]<=H}function Gx(v,S,I,H,W){var Y=v[S-3*I],Z=v[S-2*I],te=v[S-I],re=v[S+0],de=v[S+I],Ne=v[S+2*I],Te=v[S+3*I];return 4*Xa[255+te-re]+Xa[255+Z-de]>H?0:Xa[255+v[S-4*I]-Y]<=W&&Xa[255+Y-Z]<=W&&Xa[255+Z-te]<=W&&Xa[255+Te-Ne]<=W&&Xa[255+Ne-de]<=W&&Xa[255+de-re]<=W}function Xx(v,S,I,H){var W=2*H+1;for(H=0;16>H;++H)Wx(v,S+H,I,W)&&_A(v,S+H,I)}function xo(v,S,I,H){var W=2*H+1;for(H=0;16>H;++H)Wx(v,S+H*I,1,W)&&_A(v,S+H*I,1)}function Xo(v,S,I,H){var W;for(W=3;0<W;--W)Xx(v,S+=4*I,I,H)}function Wj(v,S,I,H){var W;for(W=3;0<W;--W)xo(v,S+=4,I,H)}function tc(v,S,I,H,W,Y,Z,te){for(Y=2*Y+1;0<W--;){if(Gx(v,S,I,Y,Z))if(Kx(v,S,I,te))_A(v,S,I);else{var re=v,de=S,Ne=I,Te=re[de-2*Ne],Oe=re[de-Ne],Be=re[de+0],Ke=re[de+Ne],Re=re[de+2*Ne],_e=27*(ze=Zj[1020+3*(Be-Oe)+Zj[1020+Te-Ke]])+63>>7,Ce=18*ze+63>>7,ze=9*ze+63>>7;re[de-3*Ne]=Ba[255+re[de-3*Ne]+ze],re[de-2*Ne]=Ba[255+Te+Ce],re[de-Ne]=Ba[255+Oe+_e],re[de+0]=Ba[255+Be-_e],re[de+Ne]=Ba[255+Ke-Ce],re[de+2*Ne]=Ba[255+Re-ze]}S+=H}}function Oi(v,S,I,H,W,Y,Z,te){for(Y=2*Y+1;0<W--;){if(Gx(v,S,I,Y,Z))if(Kx(v,S,I,te))_A(v,S,I);else{var re=v,de=S,Ne=I,Te=re[de-Ne],Oe=re[de+0],Be=re[de+Ne],Ke=ay[112+((Re=3*(Oe-Te))+4>>3)],Re=ay[112+(Re+3>>3)],_e=Ke+1>>1;re[de-2*Ne]=Ba[255+re[de-2*Ne]+_e],re[de-Ne]=Ba[255+Te+Re],re[de+0]=Ba[255+Oe-Ke],re[de+Ne]=Ba[255+Be-_e]}S+=H}}function Em(v,S,I,H,W,Y){tc(v,S,I,1,16,H,W,Y)}function Ed(v,S,I,H,W,Y){tc(v,S,1,I,16,H,W,Y)}function Gj(v,S,I,H,W,Y){var Z;for(Z=3;0<Z;--Z)Oi(v,S+=4*I,I,1,16,H,W,Y)}function CA(v,S,I,H,W,Y){var Z;for(Z=3;0<Z;--Z)Oi(v,S+=4,1,I,16,H,W,Y)}function Xj(v,S,I,H,W,Y,Z,te){tc(v,S,W,1,8,Y,Z,te),tc(I,H,W,1,8,Y,Z,te)}function km(v,S,I,H,W,Y,Z,te){tc(v,S,1,W,8,Y,Z,te),tc(I,H,1,W,8,Y,Z,te)}function Pm(v,S,I,H,W,Y,Z,te){Oi(v,S+4*W,W,1,8,Y,Z,te),Oi(I,H+4*W,W,1,8,Y,Z,te)}function Yx(v,S,I,H,W,Y,Z,te){Oi(v,S+4,1,W,8,Y,Z,te),Oi(I,H+4,1,W,8,Y,Z,te)}function BA(){this.ba=new Si,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fm(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tm(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Jx(){this.ua=0,this.Wa=new z,this.vb=new z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new O,this.yc=new E}function Yj(){this.xb=this.a=0,this.l=new vA,this.ca=new Si,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Jx,this.ab=0,this.gc=o(4,Tm),this.Oc=0}function SA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function kd(v,S,I,H,W,Y,Z){for(v=v==null?0:v[S+0],S=0;S<Z;++S)W[Y+S]=v+I[H+S]&255,v=W[Y+S]}function Om(v,S,I,H,W,Y,Z){var te;if(v==null)kd(null,null,I,H,W,Y,Z);else for(te=0;te<Z;++te)W[Y+te]=v[S+te]+I[H+te]&255}function rc(v,S,I,H,W,Y,Z){if(v==null)kd(null,null,I,H,W,Y,Z);else{var te,re=v[S+0],de=re,Ne=re;for(te=0;te<Z;++te)de=Ne+(re=v[S+te])-de,Ne=I[H+te]+(-256&de?0>de?0:255:de)&255,de=re,W[Y+te]=Ne}}function Im(v,S,I,H){var W=S.width,Y=S.o;if(e(v!=null&&S!=null),0>I||0>=H||I+H>Y)return null;if(!v.Cc){if(v.ga==null){var Z;if(v.ga=new SA,(Z=v.ga==null)||(Z=S.width*S.o,e(v.Gb.length==0),v.Gb=i(Z),v.Uc=0,v.Gb==null?Z=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,Z=1),Z=!Z),!Z){Z=v.ga;var te=v.Fa,re=v.P,de=v.qc,Ne=v.mb,Te=v.nb,Oe=re+1,Be=de-1,Ke=Z.l;if(e(te!=null&&Ne!=null&&S!=null),lc[0]=null,lc[1]=kd,lc[2]=Om,lc[3]=rc,Z.ca=Ne,Z.tb=Te,Z.c=S.width,Z.i=S.height,e(0<Z.c&&0<Z.i),1>=de)S=0;else if(Z.$a=te[re+0]>>0&3,Z.Z=te[re+0]>>2&3,Z.Lc=te[re+0]>>4&3,re=te[re+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||re)S=0;else if(Ke.put=Ao,Ke.ac=os,Ke.bc=ho,Ke.ma=Z,Ke.width=S.width,Ke.height=S.height,Ke.Da=S.Da,Ke.v=S.v,Ke.va=S.va,Ke.j=S.j,Ke.o=S.o,Z.$a)e:{e(Z.$a==1),S=za();t:for(;;){if(S==null){S=0;break e}if(e(Z!=null),Z.mc=S,S.c=Z.c,S.i=Z.i,S.l=Z.l,S.l.ma=Z,S.l.width=Z.c,S.l.height=Z.i,S.a=0,Q(S.m,te,Oe,Be),!po(Z.c,Z.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Wo(S.s)?(Z.ic=1,te=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(te),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(Z.ic=0,S=Cd(S,Z.c)),!S))break t;S=1;break e}Z.mc=null,S=0}else S=Be>=Z.c*Z.i;Z=!S}if(Z)return null;v.ga.Lc!=1?v.Ga=0:H=Y-I}e(v.ga!=null),e(I+H<=Y);e:{if(S=(te=v.ga).c,Y=te.l.o,te.$a==0){if(Oe=v.rc,Be=v.Vc,Ke=v.Fa,re=v.P+1+I*S,de=v.mb,Ne=v.nb+I*S,e(re<=v.P+v.qc),te.Z!=0)for(e(lc[te.Z]!=null),Z=0;Z<H;++Z)lc[te.Z](Oe,Be,Ke,re,de,Ne,S),Oe=de,Be=Ne,Ne+=S,re+=S;else for(Z=0;Z<H;++Z)n(de,Ne,Ke,re,S),Oe=de,Be=Ne,Ne+=S,re+=S;v.rc=Oe,v.Vc=Be}else{if(e(te.mc!=null),S=I+H,e((Z=te.mc)!=null),e(S<=Z.i),Z.C>=S)S=1;else if(te.ic||Fe(),te.ic){te=Z.V,Oe=Z.Ba,Be=Z.c;var Re=Z.i,_e=(Ke=1,re=Z.$/Be,de=Z.$%Be,Ne=Z.m,Te=Z.s,Z.$),Ce=Be*Re,ze=Be*S,Ge=Te.wc,Ve=_e<ze?bn(Te,de,re):null;e(_e<=Ce),e(S<=Re),e(Wo(Te));t:for(;;){for(;!Ne.h&&_e<ze;){if(de&Ge||(Ve=bn(Te,de,re)),e(Ve!=null),ae(Ne),256>(Re=sa(Ve.G[0],Ve.H[0],Ne)))te[Oe+_e]=Re,++_e,++de>=Be&&(de=0,++re<=S&&!(re%16)&&Pi(Z,re));else{if(!(280>Re)){Ke=0;break t}Re=Ei(Re-256,Ne);var st,et=sa(Ve.G[4],Ve.H[4],Ne);if(ae(Ne),!(_e>=(et=fo(Be,et=Ei(et,Ne)))&&Ce-_e>=Re)){Ke=0;break t}for(st=0;st<Re;++st)te[Oe+_e+st]=te[Oe+_e+st-et];for(_e+=Re,de+=Re;de>=Be;)de-=Be,++re<=S&&!(re%16)&&Pi(Z,re);_e<ze&&de&Ge&&(Ve=bn(Te,de,re))}e(Ne.h==K(Ne))}Pi(Z,re>S?S:re);break t}!Ke||Ne.h&&_e<Ce?(Ke=0,Z.a=Ne.h?5:3):Z.$=_e,S=Ke}else S=Fi(Z,Z.V,Z.Ba,Z.c,Z.i,S,mA);if(!S){H=0;break e}}I+H>=Y&&(v.Cc=1),H=1}if(!H)return null;if(v.Cc&&((H=v.ga)!=null&&(H.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+I*W}function F(v,S,I,H,W,Y){for(;0<W--;){var Z,te=v,re=S+(I?1:0),de=v,Ne=S+(I?0:3);for(Z=0;Z<H;++Z){var Te=de[Ne+4*Z];Te!=255&&(Te*=32897,te[re+4*Z+0]=te[re+4*Z+0]*Te>>23,te[re+4*Z+1]=te[re+4*Z+1]*Te>>23,te[re+4*Z+2]=te[re+4*Z+2]*Te>>23)}S+=Y}}function G(v,S,I,H,W){for(;0<H--;){var Y;for(Y=0;Y<I;++Y){var Z=v[S+2*Y+0],te=15&(de=v[S+2*Y+1]),re=4369*te,de=(240&de|de>>4)*re>>16;v[S+2*Y+0]=(240&Z|Z>>4)*re>>16&240|(15&Z|Z<<4)*re>>16>>4&15,v[S+2*Y+1]=240&de|te}S+=W}}function me(v,S,I,H,W,Y,Z,te){var re,de,Ne=255;for(de=0;de<W;++de){for(re=0;re<H;++re){var Te=v[S+re];Y[Z+4*re]=Te,Ne&=Te}S+=I,Z+=te}return Ne!=255}function je(v,S,I,H,W){var Y;for(Y=0;Y<W;++Y)I[H+Y]=v[S+Y]>>8}function Fe(){Ga=F,_r=G,Cr=me,dn=je}function $e(v,S,I){_[v]=function(H,W,Y,Z,te,re,de,Ne,Te,Oe,Be,Ke,Re,_e,Ce,ze,Ge){var Ve,st=Ge-1>>1,et=te[re+0]|de[Ne+0]<<16,pt=Te[Oe+0]|Be[Ke+0]<<16;e(H!=null);var tt=3*et+pt+131074>>2;for(S(H[W+0],255&tt,tt>>16,Re,_e),Y!=null&&(tt=3*pt+et+131074>>2,S(Y[Z+0],255&tt,tt>>16,Ce,ze)),Ve=1;Ve<=st;++Ve){var nr=te[re+Ve]|de[Ne+Ve]<<16,lr=Te[Oe+Ve]|Be[Ke+Ve]<<16,Yt=et+nr+pt+lr+524296,Vt=Yt+2*(nr+pt)>>3;tt=Vt+et>>1,et=(Yt=Yt+2*(et+lr)>>3)+nr>>1,S(H[W+2*Ve-1],255&tt,tt>>16,Re,_e+(2*Ve-1)*I),S(H[W+2*Ve-0],255&et,et>>16,Re,_e+(2*Ve-0)*I),Y!=null&&(tt=Yt+pt>>1,et=Vt+lr>>1,S(Y[Z+2*Ve-1],255&tt,tt>>16,Ce,ze+(2*Ve-1)*I),S(Y[Z+2*Ve+0],255&et,et>>16,Ce,ze+(2*Ve+0)*I)),et=nr,pt=lr}1&Ge||(tt=3*et+pt+131074>>2,S(H[W+Ge-1],255&tt,tt>>16,Re,_e+(Ge-1)*I),Y!=null&&(tt=3*pt+et+131074>>2,S(Y[Z+Ge-1],255&tt,tt>>16,Ce,ze+(Ge-1)*I)))}}function Xe(){Ya[iy]=kG,Ya[oy]=g6,Ya[A6]=PG,Ya[ly]=x6,Ya[cy]=y6,Ya[eN]=v6,Ya[h6]=FG,Ya[tN]=g6,Ya[rN]=x6,Ya[dy]=y6,Ya[nN]=v6}function nt(v){return v&-16384?0>v?0:255:v>>TG}function ht(v,S){return nt((19077*v>>8)+(26149*S>>8)-14234)}function Dt(v,S,I){return nt((19077*v>>8)-(6419*S>>8)-(13320*I>>8)+8708)}function Tt(v,S){return nt((19077*v>>8)+(33050*S>>8)-17685)}function Gt(v,S,I,H,W){H[W+0]=ht(v,I),H[W+1]=Dt(v,S,I),H[W+2]=Tt(v,S)}function Vr(v,S,I,H,W){H[W+0]=Tt(v,S),H[W+1]=Dt(v,S,I),H[W+2]=ht(v,I)}function tn(v,S,I,H,W){var Y=Dt(v,S,I);S=Y<<3&224|Tt(v,S)>>3,H[W+0]=248&ht(v,I)|Y>>5,H[W+1]=S}function wn(v,S,I,H,W){var Y=240&Tt(v,S)|15;H[W+0]=240&ht(v,I)|Dt(v,S,I)>>4,H[W+1]=Y}function vs(v,S,I,H,W){H[W+0]=255,Gt(v,S,I,H,W+1)}function Gn(v,S,I,H,W){Vr(v,S,I,H,W),H[W+3]=255}function Ii(v,S,I,H,W){Gt(v,S,I,H,W),H[W+3]=255}function Ca(v,S){return 0>v?0:v>S?S:v}function yo(v,S,I){_[v]=function(H,W,Y,Z,te,re,de,Ne,Te){for(var Oe=Ne+(-2&Te)*I;Ne!=Oe;)S(H[W+0],Y[Z+0],te[re+0],de,Ne),S(H[W+1],Y[Z+0],te[re+0],de,Ne+I),W+=2,++Z,++re,Ne+=2*I;1&Te&&S(H[W+0],Y[Z+0],te[re+0],de,Ne)}}function Zx(v,S,I){return I==0?v==0?S==0?6:5:S==0?4:0:I}function Dm(v,S,I,H,W){switch(v>>>30){case 3:Zo(S,I,H,W,0);break;case 2:cn(S,I,H,W);break;case 1:$s(S,I,H,W)}}function Lm(v,S){var I,H,W=S.M,Y=S.Nb,Z=v.oc,te=v.pc+40,re=v.oc,de=v.pc+584,Ne=v.oc,Te=v.pc+600;for(I=0;16>I;++I)Z[te+32*I-1]=129;for(I=0;8>I;++I)re[de+32*I-1]=129,Ne[Te+32*I-1]=129;for(0<W?Z[te-1-32]=re[de-1-32]=Ne[Te-1-32]=129:(a(Z,te-32-1,127,21),a(re,de-32-1,127,9),a(Ne,Te-32-1,127,9)),H=0;H<v.za;++H){var Oe=S.ya[S.aa+H];if(0<H){for(I=-1;16>I;++I)n(Z,te+32*I-4,Z,te+32*I+12,4);for(I=-1;8>I;++I)n(re,de+32*I-4,re,de+32*I+4,4),n(Ne,Te+32*I-4,Ne,Te+32*I+4,4)}var Be=v.Gd,Ke=v.Hd+H,Re=Oe.ad,_e=Oe.Hc;if(0<W&&(n(Z,te-32,Be[Ke].y,0,16),n(re,de-32,Be[Ke].f,0,8),n(Ne,Te-32,Be[Ke].ea,0,8)),Oe.Za){var Ce=Z,ze=te-32+16;for(0<W&&(H>=v.za-1?a(Ce,ze,Be[Ke].y[15],4):n(Ce,ze,Be[Ke+1].y,0,4)),I=0;4>I;I++)Ce[ze+128+I]=Ce[ze+256+I]=Ce[ze+384+I]=Ce[ze+0+I];for(I=0;16>I;++I,_e<<=2)Ce=Z,ze=te+w6[I],Di[Oe.Ob[I]](Ce,ze),Dm(_e,Re,16*+I,Ce,ze)}else if(Ce=Zx(H,W,Oe.Ob[0]),oc[Ce](Z,te),_e!=0)for(I=0;16>I;++I,_e<<=2)Dm(_e,Re,16*+I,Z,te+w6[I]);for(I=Oe.Gc,Ce=Zx(H,W,Oe.Dd),tl[Ce](re,de),tl[Ce](Ne,Te),_e=Re,Ce=re,ze=de,255&(Oe=I>>0)&&(170&Oe?$m(_e,256,Ce,ze):Ka(_e,256,Ce,ze)),Oe=Ne,_e=Te,255&(I>>=8)&&(170&I?$m(Re,320,Oe,_e):Ka(Re,320,Oe,_e)),W<v.Ub-1&&(n(Be[Ke].y,0,Z,te+480,16),n(Be[Ke].f,0,re,de+224,8),n(Be[Ke].ea,0,Ne,Te+224,8)),I=8*Y*v.B,Be=v.sa,Ke=v.ta+16*H+16*Y*v.R,Re=v.qa,Oe=v.ra+8*H+I,_e=v.Ha,Ce=v.Ia+8*H+I,I=0;16>I;++I)n(Be,Ke+I*v.R,Z,te+32*I,16);for(I=0;8>I;++I)n(Re,Oe+I*v.B,re,de+32*I,8),n(_e,Ce+I*v.B,Ne,Te+32*I,8)}}function EA(v,S,I,H,W,Y,Z,te,re){var de=[0],Ne=[0],Te=0,Oe=re!=null?re.kd:0,Be=re??new Fm;if(v==null||12>I)return 7;Be.data=v,Be.w=S,Be.ha=I,S=[S],I=[I],Be.gb=[Be.gb];e:{var Ke=S,Re=I,_e=Be.gb;if(e(v!=null),e(Re!=null),e(_e!=null),_e[0]=0,12<=Re[0]&&!r(v,Ke[0],"RIFF")){if(r(v,Ke[0]+8,"WEBP")){_e=3;break e}var Ce=Me(v,Ke[0]+4);if(12>Ce||4294967286<Ce){_e=3;break e}if(Oe&&Ce>Re[0]-8){_e=7;break e}_e[0]=Ce,Ke[0]+=12,Re[0]-=12}_e=0}if(_e!=0)return _e;for(Ce=0<Be.gb[0],I=I[0];;){e:{var ze=v;Re=S,_e=I;var Ge=de,Ve=Ne,st=Ke=[0];if((tt=Te=[Te])[0]=0,8>_e[0])_e=7;else{if(!r(ze,Re[0],"VP8X")){if(Me(ze,Re[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var et=Me(ze,Re[0]+8),pt=1+he(ze,Re[0]+12);if(2147483648<=pt*(ze=1+he(ze,Re[0]+15))){_e=3;break e}st!=null&&(st[0]=et),Ge!=null&&(Ge[0]=pt),Ve!=null&&(Ve[0]=ze),Re[0]+=18,_e[0]-=18,tt[0]=1}_e=0}}if(Te=Te[0],Ke=Ke[0],_e!=0)return _e;if(Re=!!(2&Ke),!Ce&&Te)return 3;if(Y!=null&&(Y[0]=!!(16&Ke)),Z!=null&&(Z[0]=Re),te!=null&&(te[0]=0),Z=de[0],Ke=Ne[0],Te&&Re&&re==null){_e=0;break}if(4>I){_e=7;break}if(Ce&&Te||!Ce&&!Te&&!r(v,S[0],"ALPH")){I=[I],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{et=v,_e=S,Ce=I;var tt=Be.gb;Ge=Be.na,Ve=Be.P,st=Be.Sa,pt=22,e(et!=null),e(Ce!=null),ze=_e[0];var nr=Ce[0];for(e(Ge!=null),e(st!=null),Ge[0]=null,Ve[0]=null,st[0]=0;;){if(_e[0]=ze,Ce[0]=nr,8>nr){_e=7;break e}var lr=Me(et,ze+4);if(4294967286<lr){_e=3;break e}var Yt=8+lr+1&-2;if(pt+=Yt,0<tt&&pt>tt){_e=3;break e}if(!r(et,ze,"VP8 ")||!r(et,ze,"VP8L")){_e=0;break e}if(nr[0]<Yt){_e=7;break e}r(et,ze,"ALPH")||(Ge[0]=et,Ve[0]=ze+8,st[0]=lr),ze+=Yt,nr-=Yt}}if(I=I[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],_e!=0)break}I=[I],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(tt=v,_e=S,Ce=I,Ge=Be.gb[0],Ve=Be.Ja,st=Be.xa,et=_e[0],ze=!r(tt,et,"VP8 "),pt=!r(tt,et,"VP8L"),e(tt!=null),e(Ce!=null),e(Ve!=null),e(st!=null),8>Ce[0])_e=7;else{if(ze||pt){if(tt=Me(tt,et+4),12<=Ge&&tt>Ge-12){_e=3;break e}if(Oe&&tt>Ce[0]-8){_e=7;break e}Ve[0]=tt,_e[0]+=8,Ce[0]-=8,st[0]=pt}else st[0]=5<=Ce[0]&&tt[et+0]==47&&!(tt[et+4]>>5),Ve[0]=Ce[0];_e=0}if(I=I[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],S=S[0],_e!=0)break;if(4294967286<Be.Ja)return 3;if(te==null||Re||(te[0]=Be.xa?2:1),Z=[Z],Ke=[Ke],Be.xa){if(5>I){_e=7;break}te=Z,Oe=Ke,Re=Y,v==null||5>I?v=0:5<=I&&v[S+0]==47&&!(v[S+4]>>5)?(Ce=[0],tt=[0],Ge=[0],Q(Ve=new $,v,S,I),yt(Ve,Ce,tt,Ge)?(te!=null&&(te[0]=Ce[0]),Oe!=null&&(Oe[0]=tt[0]),Re!=null&&(Re[0]=Ge[0]),v=1):v=0):v=0}else{if(10>I){_e=7;break}te=Ke,v==null||10>I||!Lx(v,S+3,I-3)?v=0:(Oe=v[S+0]|v[S+1]<<8|v[S+2]<<16,Re=16383&(v[S+7]<<8|v[S+6]),v=16383&(v[S+9]<<8|v[S+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Be.Ja||!Re||!v?v=0:(Z&&(Z[0]=Re),te&&(te[0]=v),v=1))}if(!v||(Z=Z[0],Ke=Ke[0],Te&&(de[0]!=Z||Ne[0]!=Ke)))return 3;re!=null&&(re[0]=Be,re.offset=S-re.w,e(4294967286>S-re.w),e(re.offset==re.ha-I));break}return _e==0||_e==7&&Te&&re==null?(Y!=null&&(Y[0]|=Be.na!=null&&0<Be.na.length),H!=null&&(H[0]=Z),W!=null&&(W[0]=Ke),0):_e}function Mm(v,S,I){var H=S.width,W=S.height,Y=0,Z=0,te=H,re=W;if(S.Da=v!=null&&0<v.Da,S.Da&&(te=v.cd,re=v.bd,Y=v.v,Z=v.j,11>I||(Y&=-2,Z&=-2),0>Y||0>Z||0>=te||0>=re||Y+te>H||Z+re>W))return 0;if(S.v=Y,S.j=Z,S.va=Y+te,S.o=Z+re,S.U=te,S.T=re,S.da=v!=null&&0<v.da,S.da){if(!ke(te,re,I=[v.ib],Y=[v.hb]))return 0;S.ib=I[0],S.hb=Y[0]}return S.ob=v!=null&&v.ob,S.Kb=v==null||!v.Sd,S.da&&(S.ob=S.ib<3*H/4&&S.hb<3*W/4,S.Kb=0),1}function Um(v){if(v==null)return 2;if(11>v.S){var S=v.f.RGBA;S.fb+=(v.height-1)*S.A,S.A=-S.A}else S=v.f.kb,v=v.height,S.O+=(v-1)*S.fa,S.fa=-S.fa,S.N+=(v-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(v-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(v-1)*S.lb,S.lb=-S.lb);return 0}function kA(v,S,I,H){if(H==null||0>=v||0>=S)return 2;if(I!=null){if(I.Da){var W=I.cd,Y=I.bd,Z=-2&I.v,te=-2&I.j;if(0>Z||0>te||0>=W||0>=Y||Z+W>v||te+Y>S)return 2;v=W,S=Y}if(I.da){if(!ke(v,S,W=[I.ib],Y=[I.hb]))return 2;v=W[0],S=Y[0]}}H.width=v,H.height=S;e:{var re=H.width,de=H.height;if(v=H.S,0>=re||0>=de||!(v>=iy&&13>v))v=2;else{if(0>=H.Rd&&H.sd==null){Z=Y=W=S=0;var Ne=(te=re*j6[v])*de;if(11>v||(Y=(de+1)/2*(S=(re+1)/2),v==12&&(Z=(W=re)*de)),(de=i(Ne+2*Y+Z))==null){v=1;break e}H.sd=de,11>v?((re=H.f.RGBA).eb=de,re.fb=0,re.A=te,re.size=Ne):((re=H.f.kb).y=de,re.O=0,re.fa=te,re.Fd=Ne,re.f=de,re.N=0+Ne,re.Ab=S,re.Cd=Y,re.ea=de,re.W=0+Ne+Y,re.Db=S,re.Ed=Y,v==12&&(re.F=de,re.J=0+Ne+2*Y),re.Tc=Z,re.lb=W)}if(S=1,W=H.S,Y=H.width,Z=H.height,W>=iy&&13>W)if(11>W)v=H.f.RGBA,S&=(te=Math.abs(v.A))*(Z-1)+Y<=v.size,S&=te>=Y*j6[W],S&=v.eb!=null;else{v=H.f.kb,te=(Y+1)/2,Ne=(Z+1)/2,re=Math.abs(v.fa),de=Math.abs(v.Ab);var Te=Math.abs(v.Db),Oe=Math.abs(v.lb),Be=Oe*(Z-1)+Y;S&=re*(Z-1)+Y<=v.Fd,S&=de*(Ne-1)+te<=v.Cd,S=(S&=Te*(Ne-1)+te<=v.Ed)&re>=Y&de>=te&Te>=te,S&=v.y!=null,S&=v.f!=null,S&=v.ea!=null,W==12&&(S&=Oe>=Y,S&=Be<=v.Tc,S&=v.F!=null)}else S=0;v=S?0:2}}return v!=0||I!=null&&I.fd&&(v=Um(H)),v}var ls=64,PA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],FA=24,TA=32,Rm=8,ia=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(v){return v},_.Predictor2=function(v,S,I){return S[I+0]},_.Predictor3=function(v,S,I){return S[I+1]},_.Predictor4=function(v,S,I){return S[I-1]},_.Predictor5=function(v,S,I){return Ee(Ee(v,S[I+1]),S[I+0])},_.Predictor6=function(v,S,I){return Ee(v,S[I-1])},_.Predictor7=function(v,S,I){return Ee(v,S[I+0])},_.Predictor8=function(v,S,I){return Ee(S[I-1],S[I+0])},_.Predictor9=function(v,S,I){return Ee(S[I+0],S[I+1])},_.Predictor10=function(v,S,I){return Ee(Ee(v,S[I-1]),Ee(S[I+0],S[I+1]))},_.Predictor11=function(v,S,I){var H=S[I+0];return 0>=ge(H>>24&255,v>>24&255,(S=S[I-1])>>24&255)+ge(H>>16&255,v>>16&255,S>>16&255)+ge(H>>8&255,v>>8&255,S>>8&255)+ge(255&H,255&v,255&S)?H:v},_.Predictor12=function(v,S,I){var H=S[I+0];return(ce((v>>24&255)+(H>>24&255)-((S=S[I-1])>>24&255))<<24|ce((v>>16&255)+(H>>16&255)-(S>>16&255))<<16|ce((v>>8&255)+(H>>8&255)-(S>>8&255))<<8|ce((255&v)+(255&H)-(255&S)))>>>0},_.Predictor13=function(v,S,I){var H=S[I-1];return(He((v=Ee(v,S[I+0]))>>24&255,H>>24&255)<<24|He(v>>16&255,H>>16&255)<<16|He(v>>8&255,H>>8&255)<<8|He(v>>0&255,H>>0&255))>>>0};var Jj=_.PredictorAdd0;_.PredictorAdd1=ue,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Qm=_.PredictorAdd2;xe("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var ey,Va=_.ColorIndexInverseTransform,OA=_.MapARGB,ty=_.VP8LColorIndexInverseTransformAlpha,ry=_.MapAlpha,nc=_.VP8LPredictorsAdd=[];nc.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Pd,oa,Qs,sc,Yo,Jo,IA,Zo,cn,$m,$s,Ka,DA,ny,Hm,Fd,Td,ac,Od,LA,Id,ic,qm,Wa,Ga,_r,Cr,dn,Ln=i(511),el=i(2041),zm=i(225),MA=i(767),sy=0,Zj=el,ay=zm,Ba=MA,Xa=Ln,iy=0,oy=1,A6=2,ly=3,cy=4,eN=5,h6=6,tN=7,rN=8,dy=9,nN=10,pG=[2,3,7],gG=[3,3,11],f6=[280,256,256,256,40],xG=[0,1,1,1,0],yG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bG=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wG=8,sN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],aN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vm=null,jG=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],NG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],m6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_G=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],CG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],SG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oc=[],Di=[],tl=[],EG=1,p6=2,lc=[],Ya=[];$e("UpsampleRgbLinePair",Gt,3),$e("UpsampleBgrLinePair",Vr,3),$e("UpsampleRgbaLinePair",Ii,4),$e("UpsampleBgraLinePair",Gn,4),$e("UpsampleArgbLinePair",vs,4),$e("UpsampleRgba4444LinePair",wn,2),$e("UpsampleRgb565LinePair",tn,2);var kG=_.UpsampleRgbLinePair,PG=_.UpsampleBgrLinePair,g6=_.UpsampleRgbaLinePair,x6=_.UpsampleBgraLinePair,y6=_.UpsampleArgbLinePair,v6=_.UpsampleRgba4444LinePair,FG=_.UpsampleRgb565LinePair,uy=16,Ay=1<<uy-1,Km=-227,iN=482,TG=6,b6=0,OG=i(256),IG=i(256),DG=i(256),LG=i(256),MG=i(iN-Km),UG=i(iN-Km);yo("YuvToRgbRow",Gt,3),yo("YuvToBgrRow",Vr,3),yo("YuvToRgbaRow",Ii,4),yo("YuvToBgraRow",Gn,4),yo("YuvToArgbRow",vs,4),yo("YuvToRgba4444Row",wn,2),yo("YuvToRgb565Row",tn,2);var w6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hy=[0,2,8],RG=[8,7,6,4,4,2,2,2,1,1,1,1],QG=1;this.WebPDecodeRGBA=function(v,S,I,H,W){var Y=oy,Z=new BA,te=new Si;Z.ba=te,te.S=Y,te.width=[te.width],te.height=[te.height];var re=te.width,de=te.height,Ne=new Ko;if(Ne==null||v==null)var Te=2;else e(Ne!=null),Te=EA(v,S,I,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Te!=0?re=0:(re!=null&&(re[0]=Ne.width[0]),de!=null&&(de[0]=Ne.height[0]),re=1),re){te.width=te.width[0],te.height=te.height[0],H!=null&&(H[0]=te.width),W!=null&&(W[0]=te.height);e:{if(H=new vA,(W=new Fm).data=v,W.w=S,W.ha=I,W.kd=1,S=[0],e(W!=null),((v=EA(W.data,W.w,W.ha,null,null,null,S,null,W))==0||v==7)&&S[0]&&(v=4),(S=v)==0){if(e(Z!=null),H.data=W.data,H.w=W.w+W.offset,H.ha=W.ha-W.offset,H.put=Ao,H.ac=os,H.bc=ho,H.ma=Z,W.xa){if((v=za())==null){Z=1;break e}if(function(Oe,Be){var Ke=[0],Re=[0],_e=[0];t:for(;;){if(Oe==null)return 0;if(Be==null)return Oe.a=2,0;if(Oe.l=Be,Oe.a=0,Q(Oe.m,Be.data,Be.w,Be.ha),!yt(Oe.m,Ke,Re,_e)){Oe.a=3;break t}if(Oe.xb=p6,Be.width=Ke[0],Be.height=Re[0],!po(Ke[0],Re[0],1,Oe,null))break t;return 1}return e(Oe.a!=0),0}(v,H)){if(H=(S=kA(H.width,H.height,Z.Oa,Z.ba))==0){t:{H=v;r:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((I=H.l)!=null),e((W=I.ma)!=null),H.xb!=0){if(H.ca=W.ba,H.tb=W.tb,e(H.ca!=null),!Mm(W.Oa,I,ly)){H.a=2;break r}if(!Cd(H,I.width)||I.da)break r;if((I.da||er(H.ca.S))&&Fe(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Fe()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Qe(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!Fi(H,H.V,H.Ba,H.c,H.i,I.o,fA))break r;W.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(S=v.a)}else S=v.a}else{if((v=new Tj)==null){Z=1;break e}if(v.Fa=W.na,v.P=W.P,v.qc=W.Sa,Mx(v,H)){if((S=kA(H.width,H.height,Z.Oa,Z.ba))==0){if(v.Aa=0,I=Z.Oa,e((W=v)!=null),I!=null){if(0<(re=0>(re=I.Md)?0:100<re?255:255*re/100)){for(de=Ne=0;4>de;++de)12>(Te=W.pb[de]).lc&&(Te.ia=re*RG[0>Te.lc?0:Te.lc]>>3),Ne|=Te.ia;Ne&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=I.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}Oj(v,H)||(S=v.a)}}else S=v.a}S==0&&Z.Oa!=null&&Z.Oa.fd&&(S=Um(Z.ba))}Z=S}Y=Z!=0?null:11>Y?te.f.RGBA.eb:te.f.kb.y}else Y=null;return Y};var j6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,B){for(var T="",w=0;w<4;w++)T+=String.fromCharCode(_[B++]);return T}function u(_,B){return(_[B+0]<<0|_[B+1]<<8|_[B+2]<<16)>>>0}function A(_,B){return(_[B+0]<<0|_[B+1]<<8|_[B+2]<<16|_[B+3]<<24)>>>0}new c;var h=[0],f=[0],g=[],x=new c,m=t,p=function(_,B){var T={},w=0,E=!1,D=0,O=0;if(T.frames=[],!function(R,K,V,ae){for(var Ae=0;Ae<ae;Ae++)if(R[K+Ae]!=V.charCodeAt(Ae))return!0;return!1}(_,B,"RIFF",4)){var L,U;for(A(_,B+=4),B+=8;B<_.length;){var M=d(_,B),Q=A(_,B+=4);B+=4;var q=Q+(1&Q);switch(M){case"VP8 ":case"VP8L":T.frames[w]===void 0&&(T.frames[w]={}),($=T.frames[w]).src_off=E?O:B-8,$.src_size=D+Q+8,w++,E&&(E=!1,D=0,O=0);break;case"VP8X":($=T.header={}).feature_flags=_[B];var J=B+4;$.canvas_width=1+u(_,J),J+=3,$.canvas_height=1+u(_,J),J+=3;break;case"ALPH":E=!0,D=q+8,O=B-8;break;case"ANIM":($=T.header).bgcolor=A(_,B),J=B+4,$.loop_count=(L=_)[(U=J)+0]<<0|L[U+1]<<8,J+=2;break;case"ANMF":var ee,$;($=T.frames[w]={}).offset_x=2*u(_,B),B+=3,$.offset_y=2*u(_,B),B+=3,$.width=1+u(_,B),B+=3,$.height=1+u(_,B),B+=3,$.duration=u(_,B),B+=3,ee=_[B++],$.dispose=1&ee,$.blend=ee>>1&1}M!="ANMF"&&(B+=q)}return T}}(m,0);p.response=m,p.rgbaoutput=!0,p.dataurl=!1;var y=p.header?p.header:null,b=p.frames?p.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],f=[y.canvas_width];for(var N=0;N<b.length&&b[N].blend!=0;N++);}var j=b[0],C=x.WebPDecodeRGBA(m,j.src_off,j.src_size,f,h);j.rgba=C,j.imgwidth=f[0],j.imgheight=h[0];for(var k=0;k<f[0]*h[0]*4;k++)g[k]=C[k];return this.width=f,this.height=h,this.data=g,this}(function(t){var e=function(){return typeof B4=="function"},r=function(h,f,g,x){var m=4,p=o;switch(x){case t.image_compression.FAST:m=1,p=i;break;case t.image_compression.MEDIUM:m=6,p=l;break;case t.image_compression.SLOW:m=9,p=c}h=n(h,f,g,p);var y=B4(h,{level:m});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(h,f,g,x){for(var m,p,y,b=h.length/f,N=new Uint8Array(h.length+b),j=u(),C=0;C<b;C+=1){if(y=C*f,m=h.subarray(y,y+f),x)N.set(x(m,g,p),y+C);else{for(var k,_=j.length,B=[];k<_;k+=1)B[k]=j[k](m,g,p);var T=A(B.concat());N.set(B[T],y+C)}p=m}return N},a=function(h){var f=Array.apply([],h);return f.unshift(0),f},i=function(h,f){var g,x=[],m=h.length;x[0]=1;for(var p=0;p<m;p+=1)g=h[p-f]||0,x[p+1]=h[p]-g+256&255;return x},o=function(h,f,g){var x,m=[],p=h.length;m[0]=2;for(var y=0;y<p;y+=1)x=g&&g[y]||0,m[y+1]=h[y]-x+256&255;return m},l=function(h,f,g){var x,m,p=[],y=h.length;p[0]=3;for(var b=0;b<y;b+=1)x=h[b-f]||0,m=g&&g[b]||0,p[b+1]=h[b]+256-(x+m>>>1)&255;return p},c=function(h,f,g){var x,m,p,y,b=[],N=h.length;b[0]=4;for(var j=0;j<N;j+=1)x=h[j-f]||0,m=g&&g[j]||0,p=g&&g[j-f]||0,y=d(x,m,p),b[j+1]=h[j]-y+256&255;return b},d=function(h,f,g){if(h===f&&f===g)return h;var x=Math.abs(f-g),m=Math.abs(h-g),p=Math.abs(h+f-g-g);return x<=m&&x<=p?h:m<=p?f:g},u=function(){return[a,i,o,l,c]},A=function(h){var f=h.map(function(g){return g.reduce(function(x,m){return x+Math.abs(m)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(h,f,g,x){var m,p,y,b,N,j,C,k,_,B,T,w,E,D,O,L=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new bue(h)).imgData,p=y.bits,m=y.colorSpace,N=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){_=(k=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,T=new Uint8Array(_*y.colors),B=new Uint8Array(_);var M,Q=y.pixelBitlength-y.bits;for(D=0,O=0;D<_;D++){for(E=k[D],M=0;M<Q;)T[O++]=E>>>M&255,M+=y.bits;B[D]=E>>>M&255}}if(y.bits===16){_=(k=new Uint32Array(y.decodePixels().buffer)).length,T=new Uint8Array(_*(32/y.pixelBitlength)*y.colors),B=new Uint8Array(_*(32/y.pixelBitlength)),w=y.colors>1,D=0,O=0;for(var q=0;D<_;)E=k[D++],T[O++]=E>>>0&255,w&&(T[O++]=E>>>16&255,E=k[D++],T[O++]=E>>>0&255),B[q++]=E>>>16&255;p=8}x!==t.image_compression.NONE&&e()?(h=r(T,y.width*y.colors,y.colors,x),C=r(B,y.width,1,x)):(h=T,C=B,L=void 0)}if(y.colorType===3&&(m=this.color_spaces.INDEXED,j=y.palette,y.transparency.indexed)){var J=y.transparency.indexed,ee=0;for(D=0,_=J.length;D<_;++D)ee+=J[D];if((ee/=255)===_-1&&J.indexOf(0)!==-1)b=[J.indexOf(0)];else if(ee!==_){for(k=y.decodePixels(),B=new Uint8Array(k.length),D=0,_=k.length;D<_;D++)B[D]=J[k[D]];C=r(B,y.width,1)}}var $=function(R){var K;switch(R){case t.image_compression.FAST:K=11;break;case t.image_compression.MEDIUM:K=13;break;case t.image_compression.SLOW:K=14;break;default:K=12}return K}(x);return L===this.decode.FLATE_DECODE&&(U="/Predictor "+$+" "),U+="/Colors "+N+" /BitsPerComponent "+p+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:g,data:h,index:f,filter:L,decodeParameters:U,transparency:b,palette:j,sMask:C,predictor:$,width:y.width,height:y.height,bitsPerComponent:p,colorSpace:m}}}})(ft.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new wue(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new N_(100).encode(d,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A}(ft.API),Ri.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ri.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){wr.log("bit decode error:"+r)}},Ri.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ri.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ri.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ri.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},Ri.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},Ri.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ri.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Ri.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new Ri(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new N_(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}(ft.API),hO.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new hO(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new N_(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}(ft.API),ft.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],A=n[d+1],h=n[d+2],f=n[d+3];i[l++]=u,i[l++]=A,i[l++]=h,o[c++]=f}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},YA=ft.API,Jy=YA.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,A=e.doKerning!==!1,h=0,f=t.length,g=0,x=l[0]||c,m=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?m.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=A&&fr(d[n])==="object"&&!isNaN(parseInt(d[n][g],10))?d[n][g]/u:0,m.push((l[n]||x)/c+h)),g=n;return m},cO=YA.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return YA.processArabic&&(t=YA.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Jy.apply(this,arguments).reduce(function(i,o){return i+o},0)},dO=function(t,e,r,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},uO=function(t,e,r){r||(r={});var n,a,i,o,l,c,d,u=[],A=[u],h=r.textIndent||0,f=0,g=0,x=t.split(" "),m=Jy.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var p=Array(c).join(" "),y=[];x.map(function(N){(N=N.split(/\s*\n/)).length>1?y=y.concat(N.map(function(j,C){return(C&&j.length?`
`:"")+j})):y.push(N[0])}),x=y,c=cO.apply(this,[p,r])}for(i=0,o=x.length;i<o;i++){var b=0;if(n=x[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+f+(g=(a=Jy.apply(this,[n,r])).reduce(function(N,j){return N+j},0))>e||b){if(g>e){for(l=dO.apply(this,[n,a,e-(h+f),e]),u.push(l.shift()),u=[l.pop()];l.length;)A.push([l.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(N,j){return N+j},0)}else u=[n];A.push(u),h=g+c,f=m}else u.push(n),h+=f+g,f=m}return d=c?function(N,j){return(j?p:"")+N.join(" ")}:function(N){return N.join(" ")},A.map(d)},YA.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(uO.apply(this,[n[l],o,i]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(A){return"0x"+parseInt(A,10).toString(16)},o=t.__fontmetrics__.compress=function(A){var h,f,g,x,m=["{"];for(var p in A){if(h=A[p],isNaN(parseInt(p,10))?f="'"+p+"'":(p=parseInt(p,10),f=(f=i(p).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),x="-"):(g=i(h).slice(2),x=""),g=x+g.slice(0,-1)+n[g.slice(-1)];else{if(fr(h)!=="object")throw new Error("Don't know what to do with value type "+fr(h)+".");g=o(h)}m.push(f+g)}return m.push("}"),m.join("")},l=t.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,g,x,m={},p=1,y=m,b=[],N="",j="",C=A.length-1,k=1;k<C;k+=1)(x=A[k])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(b.push([y,g]),y={},g=void 0):x=="}"?((f=b.pop())[0][f[1]]=y,g=void 0,y=f[0]):x=="-"?p=-1:g===void 0?r.hasOwnProperty(x)?(N+=r[x],g=parseInt(N,16)*p,p=1,N=""):N+=x:r.hasOwnProperty(x)?(j+=r[x],y[g]=parseInt(j,16)*p,p=1,g=void 0,j=""):j+=x;return m},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(A){var h=A.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(ft.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(pg(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(ft),function(t){function e(){return(wt.canvg?Promise.resolve(wt.canvg):dd(()=>import("./index.es-DspN_PR9.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ft.API.addSvgAsImage=function(r,n,a,i,o,l,c,d){if(isNaN(n)||isNaN(a))throw wr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw wr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var A=u.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(g){return g.fromString(A,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,a,i,o,c,d)})}}(),ft.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},ft.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,A=0;function h(g,x){var m,p=!1;for(m=0;m<g.length;m+=1)g[m]===x&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(A=0;A<f;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(fr(t)==="object"){for(a in t)if(i=t[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,x=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?x.push("/"+g+" /"+r[g].value):x.push("/"+g+" "+r[g].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],A=0,h=i.length;A<h;++A){if(l=o.metadata.characterToGlyph(i.charCodeAt(A)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,A,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,h=(l=Object.keys(i).sort(function(f,g){return f-g})).length;A<h;A++)o=l[A],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var x=d();u({data:f,addLength1:!0,objectId:x}),c("endobj");var m=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var p=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+hh(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+hh(l.fontName)),c("/FontDescriptor "+p+" 0 R"),c("/W "+t.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+m+" 0 R"),c("/BaseFont /"+hh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,h="",f=0;f<A.length;f++)h+=String.fromCharCode(A[f]);var g=d();u({data:h,addLength1:!0,objectId:g}),c("endobj");var x=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var m=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+hh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var p=0;p<l.metadata.hmtx.widths.length;p++)l.metadata.hmtx.widths[p]=parseInt(l.metadata.hmtx.widths[p]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+hh(l.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},A=i.mutex||{},h=A.pdfEscape,f=A.activeFontKey,g=A.fonts,x=f,m="",p=0,y="",b=g[x].encoding;if(g[x].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:A};for(y=l,x=f,Array.isArray(l)&&(y=l[0]),p=0;p<y.length;p+=1)g[x].metadata.hasOwnProperty("cmap")&&(o=g[x].metadata.cmap.unicode.codeMap[y[p].charCodeAt(0)]),o||y[p].charCodeAt(0)<256&&g[x].metadata.hasOwnProperty("Unicode")?m+=y[p]:m+="";var N="";return parseInt(x.slice(1))<14||b==="WinAnsiEncoding"?N=h(m,x).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(N=r(m,g[x])),A.isHex=!0,{text:N,x:c,y:d,options:u,mutex:A}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,d,u,A=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var N=function(w){var E=w.charCodeAt(),D=E>>8,O=x[D];return O!==void 0?A[256*O+(255&E)]:D===252||D===253?"AL":p.test(D)?"L":D===8?"R":"N"},j=function(w){for(var E,D=0;D<w.length;D++){if((E=N(w.charAt(D)))==="L")return!1;if(E==="R")return!0}return!1},C=function(w,E,D,O){var L,U,M,Q,q=E[O];switch(q){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(q="AN");break;case"AL":y=!0,q="R";break;case"WS":q="N";break;case"CS":O<1||O+1>=E.length||(L=D[O-1])!=="EN"&&L!=="AN"||(U=E[O+1])!=="EN"&&U!=="AN"?q="N":y&&(U="AN"),q=U===L?U:"N";break;case"ES":q=(L=O>0?D[O-1]:"B")==="EN"&&O+1<E.length&&E[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&D[O-1]==="EN"){q="EN";break}if(y){q="N";break}for(M=O+1,Q=E.length;M<Q&&E[M]==="ET";)M++;q=M<Q&&E[M]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Q=E.length,M=O+1;M<Q&&E[M]==="NSM";)M++;if(M<Q){var J=w[O],ee=J>=1425&&J<=2303||J===64286;if(L=E[M],ee&&(L==="R"||L==="AL")){q="R";break}}}q=O<1||(L=E[O-1])==="B"?"N":D[O-1];break;case"B":y=!1,a=!0,q=b;break;case"S":i=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":q="N"}return q},k=function(w,E,D){var O=w.split("");return D&&_(O,D,{hiLevel:b}),O.reverse(),E&&E.reverse(),O.join("")},_=function(w,E,D){var O,L,U,M,Q,q=-1,J=w.length,ee=0,$=[],R=b?f:h,K=[];for(y=!1,a=!1,i=!1,L=0;L<J;L++)K[L]=N(w[L]);for(U=0;U<J;U++){if(Q=ee,$[U]=C(w,K,$,U),O=240&(ee=R[Q][g[$[U]]]),ee&=15,E[U]=M=R[ee][5],O>0)if(O===16){for(L=q;L<U;L++)E[L]=1;q=-1}else q=-1;if(R[ee][6])q===-1&&(q=U);else if(q>-1){for(L=q;L<U;L++)E[L]=M;q=-1}K[U]==="B"&&(E[U]=0),D.hiLevel|=M}i&&function(V,ae,Ae){for(var ne=0;ne<Ae;ne++)if(V[ne]==="S"){ae[ne]=b;for(var ie=ne-1;ie>=0&&V[ie]==="WS";ie--)ae[ie]=b}}(K,E,J)},B=function(w,E,D,O,L){if(!(L.hiLevel<w)){if(w===1&&b===1&&!a)return E.reverse(),void(D&&D.reverse());for(var U,M,Q,q,J=E.length,ee=0;ee<J;){if(O[ee]>=w){for(Q=ee+1;Q<J&&O[Q]>=w;)Q++;for(q=ee,M=Q-1;q<M;q++,M--)U=E[q],E[q]=E[M],E[M]=U,D&&(U=D[q],D[q]=D[M],D[M]=U);ee=Q}ee++}}},T=function(w,E,D){var O=w.split(""),L={hiLevel:b};return D||(D=[]),_(O,D,L),function(U,M,Q){if(Q.hiLevel!==0&&u)for(var q,J=0;J<U.length;J++)M[J]===1&&(q=m.indexOf(U[J]))>=0&&(U[J]=m[q+1])}(O,D,L),B(2,O,E,D,L),B(1,O,E,D,L),O.join("")};return this.__bidiEngine__.doBidiReorder=function(w,E,D){if(function(L,U){if(U)for(var M=0;M<L.length;M++)U[M]=M;l===void 0&&(l=j(L)),d===void 0&&(d=j(L))}(w,E),o||!c||d)if(o&&c&&l^d)b=l?1:0,w=k(w,E,D);else if(!o&&c&&d)b=l?1:0,w=T(w,E,D),w=k(w,E);else if(!o||l||c||d){if(o&&!c&&l^d)w=k(w,E),l?(b=0,w=T(w,E,D)):(b=1,w=T(w,E,D),w=k(w,E));else if(o&&l&&!c&&d)b=1,w=T(w,E,D),w=k(w,E);else if(!o&&!c&&l^d){var O=u;l?(b=1,w=T(w,E,D),b=0,u=!1,w=T(w,E,D),u=O):(b=0,w=T(w,E,D),w=k(w,E),b=1,u=!1,w=T(w,E,D),u=O,w=k(w,E))}}else b=0,w=T(w,E,D);else b=l?1:0,w=T(w,E,D);return w},this.__bidiEngine__.setOptions=function(w){w&&(o=w.isInputVisual,c=w.isOutputVisual,l=w.isInputRtl,d=w.isOutputRtl,u=w.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ad(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Lue(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new jue(this.contents),this.head=new _ue(this),this.name=new kue(this),this.cmap=new uH(this),this.toUnicode={},this.hhea=new Cue(this),this.maxp=new Pue(this),this.hmtx=new Fue(this),this.post=new Sue(this),this.os2=new Bue(this),this.loca=new Due(this),this.glyf=new Tue(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var oo,Ad=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),jue=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,l,c,d,u,A,h,f,g,x;for(x in f=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(f)/c),o=Math.floor(A/c),u=16*f-A,(a=new Ad).writeInt(this.scalarType),a.writeShort(f),a.writeShort(A),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,g=[],r)for(h=r[x],a.writeString(x),a.writeInt(t(h)),a.writeInt(d),a.writeInt(h.length),g=g.concat(h),x==="head"&&(l=d),d+=h.length;d%4;)g.push(0),d++;return a.write(g),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=AH.call(r);r.length%4;)r.push(0);for(i=new Ad(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),Nue={}.hasOwnProperty,$o=function(t,e){for(var r in e)Nue.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};oo=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var _ue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Ad).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),fO=function(){function t(e,r){var n,a,i,o,l,c,d,u,A,h,f,g,x,m,p,y,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,i=function(){var N,j;for(j=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)j.push(e.readUInt16());return j}(),e.pos+=2,x=function(){var N,j;for(j=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)j.push(e.readUInt16());return j}(),d=function(){var N,j;for(j=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)j.push(e.readUInt16());return j}(),u=function(){var N,j;for(j=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)j.push(e.readUInt16());return j}(),a=(this.length-e.pos+this.offset)/2,l=function(){var N,j;for(j=[],c=N=0;0<=a?N<a:N>a;c=0<=a?++N:--N)j.push(e.readUInt16());return j}(),c=p=0,b=i.length;p<b;c=++p)for(m=i[c],n=y=g=x[c];g<=m?y<=m:y>=m;n=g<=m?++y:--y)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-g)-(h-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=A}return t.encode=function(e,r){var n,a,i,o,l,c,d,u,A,h,f,g,x,m,p,y,b,N,j,C,k,_,B,T,w,E,D,O,L,U,M,Q,q,J,ee,$,R,K,V,ae,Ae,ne,ie,le,X,he;switch(O=new Ad,o=Object.keys(e).sort(function(Me,Qe){return Me-Qe}),r){case"macroman":for(x=0,m=function(){var Me=[];for(g=0;g<256;++g)Me.push(0);return Me}(),y={0:0},i={},L=0,q=o.length;L<q;L++)y[ie=e[a=o[L]]]==null&&(y[ie]=++x),i[a]={old:e[a],new:y[e[a]]},m[a]=y[e[a]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(m),{charMap:i,subtable:O.data,maxGlyphID:x+1};case"unicode":for(E=[],A=[],b=0,y={},n={},p=d=null,U=0,J=o.length;U<J;U++)y[j=e[a=o[U]]]==null&&(y[j]=++b),n[a]={old:j,new:y[j]},l=y[j]-a,p!=null&&l===d||(p&&A.push(p),E.push(a),d=l),p=a;for(p&&A.push(p),A.push(65535),E.push(65535),T=2*(B=E.length),_=2*Math.pow(Math.log(B)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,k=2*B-_,c=[],C=[],f=[],g=M=0,ee=E.length;M<ee;g=++M){if(w=E[g],u=A[g],w===65535){c.push(0),C.push(0);break}if(w-(D=n[w].new)>=32768)for(c.push(0),C.push(2*(f.length+B-g)),a=Q=w;w<=u?Q<=u:Q>=u;a=w<=u?++Q:--Q)f.push(n[a].new);else c.push(D-w),C.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*B+2*f.length),O.writeUInt16(0),O.writeUInt16(T),O.writeUInt16(_),O.writeUInt16(h),O.writeUInt16(k),Ae=0,$=A.length;Ae<$;Ae++)a=A[Ae],O.writeUInt16(a);for(O.writeUInt16(0),ne=0,R=E.length;ne<R;ne++)a=E[ne],O.writeUInt16(a);for(le=0,K=c.length;le<K;le++)l=c[le],O.writeUInt16(l);for(X=0,V=C.length;X<V;X++)N=C[X],O.writeUInt16(N);for(he=0,ae=f.length;he<ae;he++)x=f[he],O.writeUInt16(x);return{charMap:n,subtable:O.data,maxGlyphID:b+1}}},t}(),uH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new fO(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=fO.encode(r,n),(i=new Ad).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),Cue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),Bue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),Sue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},e}(),Eue=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,o,l,c,d,u,A,h,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},o=A=0,h=a.length;A<h;o=++A)i=a[o],r.pos=i.offset,u=r.readString(i.length),l=new Eue(u,i),d[f=i.nameID]==null&&(d[f]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),Pue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),Fue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,o,l,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)A.push(r.readInt16());return A}(),this.widths=(function(){var u,A,h,f;for(f=[],u=0,A=(h=this.metrics).length;u<A;u++)o=h[u],f.push(o.advance);return f}).call(this),a=this.widths[this.widths.length-1],d=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),AH=[].slice,Tue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,o,l,c,d,u,A,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Ad(n.read(i))).readShort(),u=c.readShort(),h=c.readShort(),d=c.readShort(),A=c.readShort(),this.cache[r]=l===-1?new Iue(c,u,h,d,A):new Oue(c,l,u,h,d,A),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},e}(),Oue=function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Iue=function(){function t(e,r,n,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ad(AH.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Due=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var u=new Array(4*a.length),A=0;A<a.length;++A)u[4*A+3]=255&a[A],u[4*A+2]=(65280&a[A])>>8,u[4*A+1]=(16711680&a[A])>>16,u[4*A]=(4278190080&a[A])>>24;return u},e}(),Lue=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,l,c,d,u,A,h,f,g,x,m,p;for(a in n=uH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},p=n.charMap)f[(c=p[a]).old]=c.new;for(g in h=n.maxGlyphID,o)g in f||(f[g]=h++);return u=function(y){var b,N;for(b in N={},y)N[y[b]]=b;return N}(f),A=Object.keys(u).sort(function(y,b){return y-b}),x=function(){var y,b,N;for(N=[],y=0,b=A.length;y<b;y++)l=A[y],N.push(u[l]);return N}(),i=this.font.glyf.encode(o,x,f),d=this.font.loca.encode(i.offsets,x),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},t}();ft.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e}();const _n={name:"Giartech Solues",cnpj:"37.509.897/0001-93",address:"Rua Quito, 14",neighborhood:"Nossa Sra do ",city:"So Paulo",state:"SP",zip:"02734-010",phone:"(11) 5555-2560",email:"diretor@giartechsolucoes.com.br",website:"giartechsolucoes.com.br",instagram:"@giartech.solues",pix:"37.509.897/0001-93",owner:"Tiago Bruno Giaquinto",whatsapp:"(35) 1511-9666",bank_name:"CORA",bank_agency:"0001",bank_account:"1412009-3",account_type:"Corrente"},u2=async()=>{try{const{data:t}=await pe.from("company_settings").select("*").limit(1).maybeSingle();if(t){const e=[t.address_street,t.address_number].filter(Boolean).join(", "),r=[t.address_street,t.address_number,t.address_neighborhood,t.address_city,t.address_state,t.address_zip&&`CEP: ${t.address_zip}`].filter(Boolean).join(", ");return{name:t.company_name||_n.name,cnpj:t.cnpj||_n.cnpj,address:e||_n.address,neighborhood:t.address_neighborhood||_n.neighborhood,city:t.address_city||_n.city,state:t.address_state||_n.state,zip:t.address_zip||_n.zip,phone:t.phone||_n.phone,email:t.email||_n.email,website:t.website||_n.website,instagram:t.instagram||_n.instagram,pix:t.pix_key||_n.pix,fullAddress:r,owner:t.owner_name||_n.owner,whatsapp:t.whatsapp||_n.whatsapp,bank_name:t.bank_name||_n.bank_name,bank_agency:t.bank_agency||_n.bank_agency,bank_account:t.bank_account||_n.bank_account,account_type:t.account_type||_n.account_type}}return _n}catch(t){return console.error("Error loading company info:",t),_n}},gg=async t=>{const e=await u2(),r=new ft,n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=20;let o=15;const l=[15,86,125],c=[230,240,250],d=[51,51,51],u=[102,102,102],A=()=>new Promise(j=>{const C=new Image;C.crossOrigin="anonymous",C.onload=()=>{const k=document.createElement("canvas");k.width=C.width,k.height=C.height;const _=k.getContext("2d");_?(_.drawImage(C,0,0),j(k.toDataURL("image/jpeg",.9))):j("")},C.onerror=()=>{const k=new Image;k.crossOrigin="anonymous",k.onload=()=>{const _=document.createElement("canvas");_.width=k.width,_.height=k.height;const B=_.getContext("2d");B?(B.drawImage(k,0,0),j(_.toDataURL("image/jpeg",.9))):j("")},k.onerror=()=>j(""),k.src="/image.png"},C.src="/8.jpg"}),h=async j=>{const C=await A();if(C)try{r.addImage(C,"JPEG",i,o,40,40)}catch(T){console.error("Erro ao adicionar logo:",T)}r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(...l),r.text(e.name,i+45,o+5),r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);let k=o+11;r.text(e.owner||"TIAGO BRUNO GIAQUINTO",i+45,k),k+=4,r.text(`CNPJ: ${e.cnpj}`,i+45,k),k+=4,r.text(e.address,i+45,k),k+=4,r.text(`${e.city}-${e.state}`,i+45,k),k+=4,r.text(`CEP ${e.zip||"02734-010"}`,i+45,k);const _=n-i;r.setFontSize(9),r.setTextColor(...d),r.text("",_-35,o+5),r.text(new Date(t.date).toLocaleDateString("pt-BR"),_-5,o+5,{align:"right"});let B=o+11;r.text("",_-60,B),r.text(e.email,_-5,B,{align:"right"}),B+=4,r.text("",_-60,B),r.text(e.phone,_-5,B,{align:"right"}),B+=4,e.instagram&&(r.text("",_-60,B),r.text(e.instagram,_-5,B,{align:"right"}))},f=(j,C)=>{const k=a-25;r.setDrawColor(200,200,200),r.setLineWidth(.5),r.line(i,k,n-i,k),r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...u);let _=k+5;r.text(e.owner||"TIAGO BRUNO GIAQUINTO",i,_),r.text("",n-80,_),r.text(e.email,n-i,_,{align:"right"}),_+=4,r.text(`CNPJ: ${e.cnpj}`,i,_),r.text("",n-80,_),r.text(e.phone,n-i,_,{align:"right"}),_+=4,r.text(e.address,i,_),e.instagram&&(r.text("",n-80,_),r.text(e.instagram,n-i,_,{align:"right"})),_+=4,r.text(`${e.city}-${e.state}`,i,_),r.text("",n-80,_),r.text(e.website||"tgarconnection.com.br",n-i,_,{align:"right"}),_+=4,r.text(`CEP ${e.zip||"02734-010"}`,i,_),_+=8,r.setFont("helvetica","normal"),r.setFontSize(8),r.text(`@${e.instagram||"tg.arconnection"}     ${e.website||"tgarconnection.com.br"}`,i,_),r.setFont("helvetica","normal"),r.setFontSize(9),r.text(`Pgina ${j}/${C}`,n-i,a-10,{align:"right"})};if(await h(),o=60,r.setFont("helvetica","italic"),r.setFontSize(9),r.setTextColor(...u),r.text("Sua satisfao  o que motiva a nossa dedicao.",n/2,o,{align:"center"}),o+=10,r.setFillColor(...l),r.rect(i,o,n-2*i,15,"F"),r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(255,255,255),r.text(`Ordem de servio ${t.order_number}`,i+5,o+7),t.title&&(r.setFont("helvetica","normal"),r.setFontSize(11),r.text(t.title,i+5,o+12)),o+=20,r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...d),r.text(`Cliente: ${t.client.name}`,i,o),o+=6,r.setFont("helvetica","normal"),r.setFontSize(9),t.client.company_name&&(r.text(t.client.company_name,i,o),o+=4),t.client.cnpj?(r.text(`CNPJ: ${t.client.cnpj}`,i,o),o+=4):t.client.cpf&&(r.text(`CPF: ${t.client.cpf}`,i,o),o+=4),t.client.address&&(r.text(t.client.address,i,o),o+=4,t.client.city&&(r.text(`${t.client.city}, ${t.client.state}-${t.client.state}`,i,o),o+=4),t.client.cep&&(r.text(`CEP ${t.client.cep}`,i,o),o+=4)),t.client.email&&(r.text(` ${t.client.email}`,i,o),o+=4),t.client.phone&&(r.text(` ${t.client.phone}`,i,o),o+=4),o+=6,t.basic_info){r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes bsicas",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const j=(n-2*i)/2;r.setFont("helvetica","bold"),r.text("Prazo de execuo",i,o),r.text("Marca",i+j,o),o+=4,r.setFont("helvetica","normal"),r.text(t.basic_info.deadline,i,o),t.basic_info.brand&&r.text(t.basic_info.brand,i+j,o),o+=6,r.setFont("helvetica","bold"),r.text("Modelo",i,o),r.text("Aparelho",i+j,o),o+=4,r.setFont("helvetica","normal"),t.basic_info.model&&r.text(t.basic_info.model,i,o),t.basic_info.equipment&&r.text(t.basic_info.equipment,i+j,o),o+=8}r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Servios",i+3,o+5.5),o+=12;const g=[];t.items.forEach(j=>{const C=j.description+(j.scope?`
ESCOPO:
${j.scope}`:"");g.push([C,j.unit,`R$ ${j.unit_price.toFixed(2)}`,j.quantity.toString(),`R$ ${j.total_price.toFixed(2)}`])}),r.autoTable({startY:o,head:[["Descrio do Servio","Unidade","Preo Unit.","Qtd.","Total"]],body:g,theme:"plain",styles:{fontSize:9,cellPadding:{top:4,right:3,bottom:4,left:3},textColor:d,lineColor:[255,255,255],lineWidth:0},headStyles:{fillColor:c,textColor:l,fontStyle:"bold",halign:"left",lineWidth:0},columnStyles:{0:{cellWidth:85},1:{cellWidth:20,halign:"center"},2:{cellWidth:30,halign:"right"},3:{cellWidth:15,halign:"center"},4:{cellWidth:30,halign:"right"}},margin:{left:i,right:i},alternateRowStyles:{fillColor:[250,250,250]},didParseCell:function(j){j.row.index===g.length&&j.section==="body"&&(j.cell.styles.fontStyle="bold")}}),o=r.lastAutoTable.finalY+5,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const x=n-i-70;r.text("Servios",x,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,n-i,o,{align:"right"}),o+=6,r.setFont("helvetica","bold"),r.setTextColor(...l),r.text("Subtotal",x,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,n-i,o,{align:"right"}),o+=6,t.discount>0&&(r.setFont("helvetica","normal"),r.setTextColor(...d),r.text("Desconto sobre servios",x,o,{align:"right"}),r.text(`- R$ ${t.discount.toFixed(2)}`,n-i,o,{align:"right"}),o+=6),r.setFillColor(...l),r.rect(x-5,o-5,n-x+5-i,10,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(255,255,255),r.text("Total",x,o+2,{align:"right"}),r.text(`R$ ${t.total.toFixed(2)}`,n-i-3,o+2,{align:"right"}),o+=15,r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Pagamento",i+3,o+5.5),o+=12,r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Meios de pagamento",i,o);const m=(n-2*i)/2;r.text("PIX",i+m,o),o+=4,r.setFont("helvetica","normal");const p=r.splitTextToSize(t.payment.methods,m-10);if(r.text(p,i,o),r.text(t.payment.pix||e.cnpj,i+m,o),f(1,3),r.addPage(),o=15,await h(),o=60,t.payment.bank_details){r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Dados bancrios",i,o);const j=(n-2*i)/2;r.text("Condies de pagamento",i+j,o),o+=4,r.setFont("helvetica","normal");const C=t.payment.bank_details;r.text(`Banco: ${C.bank}`,i,o),o+=4,r.text(`Agncia: ${C.agency}`,i,o),o+=4,r.text(`Conta: ${C.account}`,i,o),o+=4,r.text(`Tipo de conta: ${C.account_type}`,i,o),o+=4,r.text(`Titular da conta (CPF/CNPJ): ${C.holder}`,i,o),o-=20;const k=r.splitTextToSize(t.payment.conditions,j-10);r.text(k,i+j,o),o+=Math.max(20,k.length*4)+8}if(t.warranty){r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Garantia",i+3,o+5.5),o+=12,t.warranty.period&&(r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Perodo de garantia",i,o),o+=4,r.setFont("helvetica","normal"),r.text(t.warranty.period,i,o),o+=8),r.setFont("helvetica","bold"),r.text("Condies da garantia",i,o),o+=4,r.setFont("helvetica","normal");const j=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",C=r.splitTextToSize(j,n-2*i-6);r.text(C,i,o),o+=C.length*4+8}if(t.contract_clauses&&t.contract_clauses.length>0&&(r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Clusulas contratuais",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),t.contract_clauses.forEach(j=>{o>a-60&&(f(2,3),r.addPage(),o=15),r.setFont("helvetica","bold"),r.text(j.title,i,o),o+=5,r.setFont("helvetica","normal"),j.items.forEach(C=>{const k=r.splitTextToSize(C,n-2*i-6);r.text(k,i,o),o+=k.length*4}),o+=4})),t.additional_info){r.setFillColor(...c),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes adicionais",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const j=r.splitTextToSize(t.additional_info,n-2*i-6);r.text(j,i,o),o+=j.length*4+8}r.setFont("helvetica","italic"),r.setFontSize(9),r.setTextColor(...u),r.text("obrigado pela confiana, estaremos  disposio.",n/2,o,{align:"center"}),o+=8,r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...d),r.text(`${t.client.city||e.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,n/2,o,{align:"center"}),f(2,3),r.addPage(),o=15,await h(),o=a/2-40;const y=(n-2*i-20)/2,b=i,N=n/2+10;r.setDrawColor(...d),r.setLineWidth(.5),r.line(b,o,b+y,o),r.line(N,o,N+y,o),o+=6,r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...d),r.text(e.name,b+y/2,o,{align:"center"}),r.text(t.client.name,N+y/2,o,{align:"center"}),o+=5,r.setFont("helvetica","normal"),r.setFontSize(9),r.text(e.owner||"Tiago Bruno Giaquinto",b+y/2,o,{align:"center"}),t.client.cnpj?r.text(`CNPJ ${t.client.cnpj}`,N+y/2,o,{align:"center"}):t.client.cpf&&r.text(`CPF ${t.client.cpf}`,N+y/2,o,{align:"center"}),o+=5,r.setFont("helvetica","italic"),r.setFontSize(8),r.setTextColor(...u),r.text("diretor tcnico",b+y/2,o,{align:"center"}),f(3,3),r.save(`Ordem_de_servico_${t.order_number}_${new Date().toISOString().split("T")[0]}.pdf`)},mO=()=>{var ue;const t=na(),{id:e}=U3(),[r]=C7(),n=r.get("edit")||e,a=!!n,[i,o]=P.useState(!1),[l,c]=P.useState([]),[d,u]=P.useState(null),[A,h]=P.useState([]),[f,g]=P.useState([]),[x,m]=P.useState([]),[p,y]=P.useState([]),[b,N]=P.useState([]),[j,C]=P.useState([]),[k,_]=P.useState(!1),[B,T]=P.useState(""),[w,E]=P.useState(""),[D,O]=P.useState(!1),[L,U]=P.useState(""),[M,Q]=P.useState({customer_id:"",description:"",scheduled_at:"",prazo_execucao_dias:7,data_inicio_execucao:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,show_value:!0,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",payment_method:"dinheiro",payment_installments:1,payment_conditions:"Sinal de 50% e o valor restante aps a concluso.",warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",custo_deslocamento:0,custo_estacionamento:0,custo_pedagio:0,custo_outros:0,descricao_outros:""}),[q,J]=P.useState([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}]),[ee,$]=P.useState({subtotal:0,desconto:0,total:0,custo_total_materiais:0,custo_total_mao_obra:0,custo_total:0,lucro_total:0,margem_lucro:0}),[R,K]=P.useState({});P.useEffect(()=>{ne(),a&&n&&V(n)},[n]),P.useEffect(()=>{Ie()},[q,M.desconto_percentual,M.desconto_valor]);const V=async se=>{try{o(!0);const fe=await fb(se);if(fe&&(Q({customer_id:fe.client_id||"",description:fe.description||"",scheduled_at:fe.due_date?new Date(fe.due_date).toISOString().slice(0,16):fe.scheduled_at?new Date(fe.scheduled_at).toISOString().slice(0,16):"",prazo_execucao_dias:fe.prazo_execucao_dias||7,data_inicio_execucao:fe.data_inicio_execucao?new Date(fe.data_inicio_execucao).toISOString().split("T")[0]:"",desconto_percentual:fe.desconto_percentual||fe.discount_percentage||0,desconto_valor:fe.desconto_valor||fe.discount_amount||fe.discount_value||0,show_material_costs:fe.show_material_costs||!1,show_value:fe.show_value!==!1,relatorio_tecnico:fe.relatorio_tecnico||"",orientacoes_servico:fe.orientacoes_servico||"",escopo_detalhado:fe.escopo_detalhado||"",payment_method:fe.payment_method||"dinheiro",payment_installments:fe.payment_installments||1,payment_conditions:fe.payment_conditions||"Sinal de 50% e o valor restante aps a concluso.",warranty_period:fe.warranty_period||90,warranty_type:fe.warranty_type||"days",warranty_terms:fe.warranty_terms||"",bank_account_id:fe.bank_account_id||"",contract_template_id:fe.contract_template_id||"",contract_notes:fe.contract_notes||"",notes:fe.notes||"",custo_deslocamento:fe.custo_deslocamento||0,custo_estacionamento:fe.custo_estacionamento||0,custo_pedagio:fe.custo_pedagio||0,custo_outros:fe.custo_outros||0,descricao_outros:fe.descricao_outros||""}),U(fe.order_number||""),fe.client_id&&ae(fe.client_id),fe.items&&fe.items.length>0)){const be=fe.items.map(xe=>{var Se;return{id:xe.id||crypto.randomUUID(),descricao:xe.descricao||xe.description||xe.service_name||((Se=xe.service_catalog)==null?void 0:Se.name)||"",quantidade:xe.quantidade||xe.quantity||1,preco_unitario:xe.preco_unitario||xe.unit_price||0,preco_total:xe.preco_total||xe.total_price||0,tempo_estimado_minutos:xe.tempo_estimado_minutos||xe.estimated_time||0,materiais:xe.materiais||xe.materials||[],funcionarios:xe.funcionarios||xe.labor||[],custo_materiais:xe.custo_materiais||xe.cost_materials||0,custo_mao_obra:xe.custo_mao_obra||xe.cost_labor||0,custo_total:xe.custo_total||xe.total_cost||0,lucro:xe.lucro||xe.profit||0,margem_lucro:xe.margem_lucro||xe.profit_margin||0}});J(be)}}catch(fe){console.error("Error loading order data:",fe)}finally{o(!1)}},ae=async se=>{try{const[fe,be]=await Promise.all([pe.from("customers").select("*").eq("id",se).single(),pe.from("customer_addresses").select("*").eq("customer_id",se).eq("principal",!0).maybeSingle()]);if(fe.data){const xe={...fe.data,address:be.data};u(xe),be.data&&T(fe.data.email||"")}}catch(fe){console.error("Error loading customer details:",fe)}},Ae=se=>{Q({...M,customer_id:se}),se?ae(se):u(null)},ne=async()=>{try{const[se,fe,be,xe,Se,Ye,ve]=await Promise.all([pe.from("customers").select("*").order("nome_razao"),pe.from("materials").select("*").eq("active",!0).order("name"),pe.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),pe.from("bank_accounts").select("*").eq("active",!0).order("account_name"),pe.from("contract_templates").select("*").order("name"),pe.from("service_catalog").select(`
          *,
          service_catalog_materials (
            id,
            material_id,
            quantity,
            material_name,
            material_unit,
            unit_cost_at_time,
            unit_sale_price
          )
        `).order("name"),pe.from("inventory").select("*").order("name")]);c(se.data||[]),h(fe.data||[]),g(be.data||[]),m(xe.data||[]),y(Se.data||[]),N(Ye.data||[]),C(ve.data||[])}catch(se){console.error("Error loading data:",se)}},ie=()=>{J([...q,{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}])},le=se=>{J(q.filter(fe=>fe.id!==se))},X=(se,fe)=>{J(be=>be.map(xe=>{if(xe.id===se){const Se={...xe,...fe};return Se.preco_total=Se.quantidade*Se.preco_unitario,Se.custo_materiais=Se.materiais.reduce((Ye,ve)=>Ye+ve.custo_total,0),Se.custo_mao_obra=Se.funcionarios.reduce((Ye,ve)=>Ye+ve.custo_total,0),Se.custo_total=Se.custo_materiais+Se.custo_mao_obra,Se.lucro=Se.preco_total-Se.custo_total,Se.margem_lucro=Se.preco_total>0?Se.lucro/Se.preco_total*100:0,Se}return xe}))},he=se=>{const fe=q.find(xe=>xe.id===se);if(!fe)return;const be={id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,preco_compra:0,preco_venda:0,custo_total:0,valor_total:0,lucro:0};X(se,{materiais:[...fe.materiais,be]})},Me=(se,fe)=>{const be=q.find(xe=>xe.id===se);be&&X(se,{materiais:be.materiais.filter(xe=>xe.id!==fe)})},Qe=(se,fe,be)=>{const xe=q.find(Ye=>Ye.id===se);if(!xe)return;const Se=xe.materiais.map(Ye=>{if(Ye.id===fe){const ve={...Ye,...be},Bt=ve.preco_compra_unitario||0,We=ve.preco_venda_unitario||0;return ve.custo_total=ve.quantidade*Bt,ve.valor_total=ve.quantidade*We,ve.lucro=ve.valor_total-ve.custo_total,ve}return Ye});X(se,{materiais:Se})},ye=(se,fe,be)=>{const xe=A.find(Bt=>Bt.id===be);if(!xe)return;const Se=Number(xe.unit_cost)||0,Ye=Number(xe.sale_price)||0,ve=xe.unit||"UN";Qe(se,fe,{material_id:be,nome:xe.name,unidade_medida:ve,preco_compra_unitario:Se,preco_venda_unitario:Ye,preco_compra:Se,preco_venda:Ye})},z=(se,fe)=>{const be=q.find(xe=>xe.id===se);be&&X(se,{funcionarios:be.funcionarios.filter(xe=>xe.id!==fe)})},ke=(se,fe,be)=>{const xe=q.find(Ye=>Ye.id===se);if(!xe)return;const Se=xe.funcionarios.map(Ye=>{if(Ye.id===fe){const ve={...Ye,...be};return ve.custo_total=ve.tempo_minutos/60*ve.custo_hora,ve}return Ye});X(se,{funcionarios:Se})},Ie=()=>{const se=q.reduce((qt,is)=>qt+is.preco_total,0),fe=(M.custo_deslocamento||0)+(M.custo_estacionamento||0)+(M.custo_pedagio||0)+(M.custo_outros||0),be=M.desconto_valor||se*(M.desconto_percentual/100),xe=se-fe-be,Se=q.reduce((qt,is)=>qt+is.custo_materiais,0),Ye=q.reduce((qt,is)=>qt+is.custo_mao_obra,0),ve=Se+Ye+fe,Bt=xe-ve,We=xe>0?Bt/xe*100:0;$({subtotal:se,desconto:be,total:xe,custo_total_materiais:Se,custo_total_mao_obra:Ye,custo_total:ve,lucro_total:Bt,margem_lucro:We})},Pe=async()=>{try{if(!M.customer_id||q.length===0){alert("Selecione um cliente e adicione pelo menos um servio!");return}o(!0);const se=M.scheduled_at?new Date(new Date(M.scheduled_at).getTime()+M.warranty_period*(M.warranty_type==="days"?864e5:M.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,fe={client_id:M.customer_id||null,customer_id:M.customer_id||null,description:M.description,scheduled_at:M.scheduled_at||null,due_date:M.scheduled_at||null,prazo_execucao_dias:M.prazo_execucao_dias,data_inicio_execucao:M.data_inicio_execucao||null,status:"aberta",total_value:ee.total,subtotal_value:ee.subtotal,discount_value:ee.desconto,desconto_percentual:M.desconto_percentual,desconto_valor:M.desconto_valor,custo_total_materiais:ee.custo_total_materiais,custo_total_mao_obra:ee.custo_total_mao_obra,custo_total:ee.custo_total,lucro_total:ee.lucro_total,margem_lucro:ee.margem_lucro,show_material_costs:M.show_material_costs,show_value:M.show_value,relatorio_tecnico:M.relatorio_tecnico,orientacoes_servico:M.orientacoes_servico,escopo_detalhado:M.escopo_detalhado,payment_method:M.payment_method,payment_installments:M.payment_installments,bank_account_id:M.bank_account_id||null,warranty_period:M.warranty_period,warranty_type:M.warranty_type,warranty_terms:M.warranty_terms,warranty_end_date:se,contract_template_id:M.contract_template_id||null,contract_notes:M.contract_notes,notes:M.notes,subtotal:ee.subtotal,discount_amount:ee.desconto,final_total:ee.total};let be;if(a&&n){const{data:xe,error:Se}=await pe.from("service_orders").update(fe).eq("id",n).select().single();if(Se)throw Se;be=xe,await pe.from("service_order_items").delete().eq("service_order_id",n),await pe.from("service_order_materials").delete().eq("service_order_id",n),await pe.from("service_order_labor").delete().eq("service_order_id",n)}else{const{data:xe,error:Se}=await pe.from("service_orders").insert([fe]).select().single();if(Se)throw Se;be=xe}if(!be)throw new Error("Erro ao salvar ordem");for(const xe of q){const{data:Se,error:Ye}=await pe.from("service_order_items").insert([{service_order_id:be.id,service_catalog_id:xe.service_catalog_id||null,descricao:xe.descricao||xe.nome||"",escopo_detalhado:xe.escopo||xe.escopo_detalhado||"",quantidade:xe.quantidade,preco_unitario:xe.preco_unitario,preco_total:xe.preco_total,tempo_estimado_minutos:xe.tempo_estimado_minutos,custo_materiais:xe.custo_materiais,custo_mao_obra:xe.custo_mao_obra,custo_total:xe.custo_total,lucro:xe.lucro,margem_lucro:xe.margem_lucro}]).select().single();if(Ye)throw Ye;if(xe.materiais.length>0){const ve=xe.materiais.map(We=>({service_order_id:be.id,service_order_item_id:Se.id,material_id:We.material_id,nome_material:We.nome,quantidade:We.quantidade,preco_compra:We.preco_compra,preco_venda:We.preco_venda,custo_total:We.custo_total,valor_total:We.valor_total,lucro:We.lucro})),{error:Bt}=await pe.from("service_order_materials").insert(ve);if(Bt)throw Bt}if(xe.funcionarios.length>0){const ve=xe.funcionarios.map(We=>({service_order_id:be.id,service_order_item_id:Se.id,staff_id:We.staff_id,nome_funcionario:We.nome,tempo_minutos:We.tempo_minutos,custo_hora:We.custo_hora,custo_total:We.custo_total})),{error:Bt}=await pe.from("service_order_labor").insert(ve);if(Bt)throw Bt}}alert(a?"Ordem de Servio atualizada com sucesso!":"Ordem de Servio criada com sucesso!"),t("/service-orders")}catch(se){console.error("Error saving:",se),alert(`Erro ao ${a?"atualizar":"salvar"} ordem de servio!`)}finally{o(!1)}},Le=async()=>{var se,fe,be,xe,Se,Ye;try{const ve=d||l.find(zt=>zt.id===M.customer_id);if(!ve){alert("Cliente no encontrado!");return}const Bt=await u2(),We=ve.address||{},qt=[We.logradouro,We.numero,We.complemento,We.bairro].filter(Boolean).join(", "),is={order_number:L||"TEMP-"+Date.now(),created_at:new Date().toISOString(),status:"aberta",customer:{nome_razao:ve.nome_razao||ve.name||"Cliente",cnpj_cpf:ve.cnpj_cpf||ve.cnpj||ve.cpf||"",email:ve.email||"",telefone:ve.telefone||ve.phone||"",endereco:qt||ve.endereco||ve.address||"",cidade:We.cidade||ve.cidade||ve.city||"",estado:We.estado||ve.estado||ve.state||"",cep:We.cep||ve.cep||ve.zip_code||""},description:M.description,scheduled_at:M.scheduled_at,items:q.map(zt=>({descricao:zt.descricao,quantidade:zt.quantidade,preco_unitario:zt.preco_unitario,preco_total:zt.preco_total,tempo_estimado_minutos:zt.tempo_estimado_minutos,materiais:zt.materiais.map(tr=>({nome:tr.nome,quantidade:tr.quantidade,unidade_medida:tr.unidade_medida,preco_venda_unitario:tr.preco_venda_unitario,valor_total:tr.valor_total})),funcionarios:zt.funcionarios.map(tr=>({nome:tr.nome,tempo_minutos:tr.tempo_minutos,custo_total:tr.custo_total}))})),payment_method:M.payment_method,payment_installments:M.payment_installments,bank_account:((se=x.find(zt=>zt.id===M.bank_account_id))==null?void 0:se.account_name)||"",warranty_period:M.warranty_period,warranty_type:M.warranty_type,warranty_terms:M.warranty_terms,contract_notes:M.contract_notes,subtotal:ee.subtotal,desconto_percentual:M.desconto_percentual,desconto_valor:M.desconto_valor,discount_amount:ee.desconto,final_total:ee.total,custo_total:ee.custo_total,lucro_total:ee.lucro_total,margem_lucro:ee.margem_lucro,notes:M.notes,prazo_execucao_dias:M.prazo_execucao_dias,data_inicio_execucao:M.data_inicio_execucao,data_fim_execucao:M.data_inicio_execucao&&M.prazo_execucao_dias?new Date(new Date(M.data_inicio_execucao).getTime()+M.prazo_execucao_dias*864e5).toISOString().split("T")[0]:null,additional_costs:{deslocamento:M.custo_deslocamento,estacionamento:M.custo_estacionamento,pedagio:M.custo_pedagio,outros:M.custo_outros,descricao_outros:M.descricao_outros}},er={order_number:L||"NOVA-OS",date:new Date().toISOString(),title:M.description||"Ordem de Servio",client:{name:ve.nome_razao||ve.name||"Cliente",company_name:ve.nome_fantasia||"",cnpj:ve.cnpj||"",cpf:ve.cpf||"",address:qt||"",city:We.cidade||"",state:We.estado||"",cep:We.cep||"",email:ve.email||"",phone:ve.telefone||ve.phone||""},basic_info:{deadline:`${M.prazo_execucao_dias} dias`,brand:"",model:"",equipment:""},items:q.map(zt=>({description:zt.descricao,scope:"",unit:"un.",unit_price:zt.preco_unitario,quantity:zt.quantidade,total_price:zt.preco_total})),subtotal:ee.subtotal,discount:ee.desconto,total:ee.total,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:ve.cnpj||ve.cpf||"",bank_details:x.find(zt=>zt.is_default)?{bank:((fe=x.find(zt=>zt.is_default))==null?void 0:fe.bank_name)||"",agency:((be=x.find(zt=>zt.is_default))==null?void 0:be.agency)||"",account:((xe=x.find(zt=>zt.is_default))==null?void 0:xe.account_number)||"",account_type:((Se=x.find(zt=>zt.is_default))==null?void 0:Se.account_type)==="checking"?"Corrente":"Poupana",holder:((Ye=x.find(zt=>zt.is_default))==null?void 0:Ye.account_holder)||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:`${M.warranty_period} ${M.warranty_type==="days"?"dias":M.warranty_type==="months"?"meses":"anos"}`,conditions:M.warranty_terms||"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:M.notes||"Trabalhamos para que seus projetos, se tornem realidade."};await gg(er),alert("PDF gerado com sucesso!")}catch(ve){console.error("Erro ao gerar PDF:",ve),alert("Erro ao gerar PDF!")}},De=se=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se),Ee=async()=>{var se,fe,be,xe,Se;if(!n){alert("Salve a ordem de servio antes de imprimir!");return}try{o(!0);const Ye=await fb(n);if(!Ye)throw new Error("OS no encontrada");const ve=l.find(We=>We.id===Ye.customer_id),Bt={order_number:Ye.order_number||"N/A",date:Ye.created_at||new Date().toISOString(),title:Ye.description||"Ordem de Servio",client:{name:(ve==null?void 0:ve.nome_razao)||(ve==null?void 0:ve.name)||"Cliente",company_name:(ve==null?void 0:ve.nome_fantasia)||"",cnpj:(ve==null?void 0:ve.cnpj)||"",cpf:(ve==null?void 0:ve.cpf)||"",address:(ve==null?void 0:ve.endereco)||"",city:(ve==null?void 0:ve.cidade)||"",state:(ve==null?void 0:ve.estado)||"",cep:(ve==null?void 0:ve.cep)||"",email:(ve==null?void 0:ve.email)||"",phone:(ve==null?void 0:ve.telefone)||""},basic_info:{deadline:"15 dias",brand:"",model:"",equipment:""},items:(Ye.items||[]).map(We=>({description:We.descricao||We.description||"Servio",scope:"",unit:"un.",unit_price:We.preco_unitario||We.unit_price||0,quantity:We.quantidade||We.quantity||1,total_price:We.preco_total||We.total_price||0})),subtotal:Ye.subtotal||Ye.total_value||0,discount:Ye.discount_amount||0,total:Ye.total_value||0,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:(ve==null?void 0:ve.cnpj)||(ve==null?void 0:ve.cpf)||"",bank_details:x.find(We=>We.is_default)?{bank:((se=x.find(We=>We.is_default))==null?void 0:se.bank_name)||"",agency:((fe=x.find(We=>We.is_default))==null?void 0:fe.agency)||"",account:((be=x.find(We=>We.is_default))==null?void 0:be.account_number)||"",account_type:((xe=x.find(We=>We.is_default))==null?void 0:xe.account_type)==="checking"?"Corrente":"Poupana",holder:((Se=x.find(We=>We.is_default))==null?void 0:Se.account_holder)||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:"12 meses",conditions:"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:"Trabalhamos para que seus projetos, se tornem realidade."};await gg(Bt)}catch(Ye){console.error("Error printing:",Ye),alert("Erro ao gerar PDF!")}finally{o(!1)}},ce=async()=>{var se,fe,be,xe,Se;if(!n){alert("Salve a ordem de servio antes de baixar!");return}try{o(!0);const Ye=await fb(n);if(!Ye)throw new Error("OS no encontrada");const ve=l.find(We=>We.id===Ye.customer_id),Bt={order_number:Ye.order_number||"N/A",date:Ye.created_at||new Date().toISOString(),title:Ye.description||"Ordem de Servio",client:{name:(ve==null?void 0:ve.nome_razao)||(ve==null?void 0:ve.name)||"Cliente",company_name:(ve==null?void 0:ve.nome_fantasia)||"",cnpj:(ve==null?void 0:ve.cnpj)||"",cpf:(ve==null?void 0:ve.cpf)||"",address:(ve==null?void 0:ve.endereco)||"",city:(ve==null?void 0:ve.cidade)||"",state:(ve==null?void 0:ve.estado)||"",cep:(ve==null?void 0:ve.cep)||"",email:(ve==null?void 0:ve.email)||"",phone:(ve==null?void 0:ve.telefone)||""},basic_info:{deadline:"15 dias",brand:"",model:"",equipment:""},items:(Ye.items||[]).map(We=>({description:We.descricao||We.description||"Servio",scope:"",unit:"un.",unit_price:We.preco_unitario||We.unit_price||0,quantity:We.quantidade||We.quantity||1,total_price:We.preco_total||We.total_price||0})),subtotal:Ye.subtotal||Ye.total_value||0,discount:Ye.discount_amount||0,total:Ye.total_value||0,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:(ve==null?void 0:ve.cnpj)||(ve==null?void 0:ve.cpf)||"",bank_details:x.find(We=>We.is_default)?{bank:((se=x.find(We=>We.is_default))==null?void 0:se.bank_name)||"",agency:((fe=x.find(We=>We.is_default))==null?void 0:fe.agency)||"",account:((be=x.find(We=>We.is_default))==null?void 0:be.account_number)||"",account_type:((xe=x.find(We=>We.is_default))==null?void 0:xe.account_type)==="checking"?"Corrente":"Poupana",holder:((Se=x.find(We=>We.is_default))==null?void 0:Se.account_holder)||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:"12 meses",conditions:"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:"Trabalhamos para que seus projetos, se tornem realidade."};await gg(Bt)}catch(Ye){console.error("Error downloading:",Ye),alert("Erro ao baixar PDF!")}finally{o(!1)}},He=()=>{if(!n){alert("Salve a ordem de servio antes de enviar!");return}const se=l.find(fe=>fe.id===M.customer_id);T((se==null?void 0:se.email)||""),E(`Ol, segue em anexo a Ordem de Servio ${L||n}.`),_(!0)},ge=async()=>{if(!B){alert("Digite um email vlido!");return}try{O(!0),alert(`Email enviado para: ${B}

Nota: A funcionalidade de envio real requer configurao do servidor de email.`),_(!1)}catch(se){console.error("Error sending email:",se),alert("Erro ao enviar email!")}finally{O(!1)}};return s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen pb-24",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(mt,{className:"h-8 w-8 text-blue-600"}),a?"Editar Ordem de Servio":"Nova Ordem de Servio Detalhada"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Sistema completo com mltiplos servios, materiais e funcionrios"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(vn,{className:"h-5 w-5 text-blue-600"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),s.jsxs("select",{value:M.customer_id,onChange:se=>Ae(se.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),l.map(se=>s.jsx("option",{value:se.id,children:se.nome_razao},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),s.jsx("input",{type:"datetime-local",value:M.scheduled_at,onChange:se=>Q({...M,scheduled_at:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Incio Execuo"}),s.jsx("input",{type:"date",value:M.data_inicio_execucao,onChange:se=>Q({...M,data_inicio_execucao:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execuo (dias)"}),s.jsx("input",{type:"number",value:M.prazo_execucao_dias,min:"1",onChange:se=>Q({...M,prazo_execucao_dias:Number(se.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio Geral"}),s.jsx("textarea",{value:M.description,onChange:se=>Q({...M,description:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrio opcional da OS..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado do Servio"}),s.jsx("textarea",{value:M.escopo_detalhado,onChange:se=>Q({...M,escopo_detalhado:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva em detalhes tudo que ser executado no servio..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatrio Tcnico"}),s.jsx("textarea",{value:M.relatorio_tecnico,onChange:se=>Q({...M,relatorio_tecnico:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatrio tcnico detalhado (diagnstico, anlise, etc)..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientaes de Servio"}),s.jsx("textarea",{value:M.orientacoes_servico,onChange:se=>Q({...M,orientacoes_servico:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Instrues e orientaes para a equipe executar o servio..."})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:M.show_value,onChange:se=>Q({...M,show_value:se.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Exibir valores na proposta (desmarque para enviar ao cliente sem valores ou para funcionrios)"})]})})]}),d&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(vn,{className:"h-4 w-4"}),"Dados do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Nome/Razo Social:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.nome_razao})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"CPF/CNPJ:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.cpf||d.cnpj||"No informado"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Telefone:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.telefone||"No informado"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.email||"No informado"})]}),d.address&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"text-gray-600",children:"Endereo:"}),s.jsx("p",{className:"font-medium text-gray-900",children:[d.address.logradouro,d.address.numero,d.address.complemento,d.address.bairro,d.address.cidade,d.address.estado,d.address.cep&&`CEP: ${d.address.cep}`].filter(Boolean).join(", ")})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-green-600"}),"Pagamento e Financeiro"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:M.payment_method,onChange:se=>Q({...M,payment_method:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"debito",children:"Carto de Dbito"}),s.jsx("option",{value:"credito",children:"Carto de Crdito"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"cheque",children:"Cheque"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),s.jsxs("select",{value:M.payment_installments,onChange:se=>Q({...M,payment_installments:Number(se.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"1",children:" vista"}),[2,3,4,5,6,7,8,9,10,12].map(se=>s.jsxs("option",{value:se,children:[se,"x"]},se))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:M.bank_account_id,onChange:se=>Q({...M,bank_account_id:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Padro"}),x.map(se=>s.jsxs("option",{value:se.id,children:[se.account_name," - ",se.bank_name]},se.id))]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-5 w-5 text-amber-600"}),"Garantia"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Perodo de Garantia"}),s.jsx("input",{type:"number",value:M.warranty_period,min:"0",onChange:se=>Q({...M,warranty_period:Number(se.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Perodo"}),s.jsxs("select",{value:M.warranty_type,onChange:se=>Q({...M,warranty_type:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"days",children:"Dias"}),s.jsx("option",{value:"months",children:"Meses"}),s.jsx("option",{value:"years",children:"Anos"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),s.jsx("textarea",{value:M.warranty_terms,onChange:se=>Q({...M,warranty_terms:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condies da garantia: cobertura, excluses, prazos..."})]}),s.jsx("div",{className:"md:col-span-2 bg-amber-50 border border-amber-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-amber-800",children:[s.jsx("strong",{children:"Garantia:"})," ",M.warranty_period," ",M.warranty_type==="days"?"dias":M.warranty_type==="months"?"meses":"anos"," ",M.scheduled_at&&`(vlida at ${new Date(new Date(M.scheduled_at).getTime()+M.warranty_period*(M.warranty_type==="days"?864e5:M.warranty_type==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR")})`]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 shadow-md border-2 border-green-300",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-green-600"})," Condies de Pagamento"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Condies de Pagamento"}),s.jsx("textarea",{value:M.payment_conditions,onChange:se=>Q({...M,payment_conditions:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Ex: Sinal de 50% e o valor restante aps a concluso, Pagamento  vista com 10% de desconto, Parcelado em 3x sem juros, etc."})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:" Dica:"})," Estas condies aparecero no PDF da ordem de servio e na proposta enviada ao cliente."]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 shadow-md border-2 border-red-300",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-red-600"})," Custos Adicionais (Deduzidos do Total)"]}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("strong",{children:" Ateno:"})," Estes custos sero DEDUZIDOS (subtrados) do valor total da OS, no adicionados."]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Deslocamento"}),s.jsx("input",{type:"number",value:M.custo_deslocamento,min:"0",step:"0.01",onChange:se=>Q({...M,custo_deslocamento:Number(se.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Estacionamento"}),s.jsx("input",{type:"number",value:M.custo_estacionamento,min:"0",step:"0.01",onChange:se=>Q({...M,custo_estacionamento:Number(se.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Pedgio"}),s.jsx("input",{type:"number",value:M.custo_pedagio,min:"0",step:"0.01",onChange:se=>Q({...M,custo_pedagio:Number(se.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Outros Custos"}),s.jsx("input",{type:"number",value:M.custo_outros,min:"0",step:"0.01",onChange:se=>Q({...M,custo_outros:Number(se.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrio dos Outros Custos"}),s.jsx("input",{type:"text",value:M.descricao_outros,onChange:se=>Q({...M,descricao_outros:se.target.value}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"Ex: Alimentao, hospedagem, materiais extras..."})]}),(M.custo_deslocamento>0||M.custo_estacionamento>0||M.custo_pedagio>0||M.custo_outros>0)&&s.jsxs("div",{className:"md:col-span-2 bg-red-100 border-2 border-red-400 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:" Total de Custos a Deduzir:"}),s.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["-",De((M.custo_deslocamento||0)+(M.custo_estacionamento||0)+(M.custo_pedagio||0)+(M.custo_outros||0))]}),s.jsx("p",{className:"text-xs text-red-700 mt-1 font-semibold",children:" Este valor ser DEDUZIDO do total da OS"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-blue-600"}),"Contrato"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),s.jsxs("select",{value:M.contract_template_id,onChange:se=>Q({...M,contract_template_id:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Sem contrato"}),p.map(se=>s.jsx("option",{value:se.id,children:se.name},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes do Contrato"}),s.jsx("textarea",{value:M.contract_notes,onChange:se=>Q({...M,contract_notes:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Clusulas especiais, condies particulares..."})]})]})]}),q.map((se,fe)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Servio #",fe+1]}),q.length>1&&s.jsx("button",{onClick:()=>le(se.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:" Buscar do Catlogo de Servios"}),s.jsxs("select",{onChange:be=>{const xe=b.find(Se=>Se.id===be.target.value);if(xe){const Ye=(xe.service_catalog_materials||[]).map(ve=>({id:crypto.randomUUID(),material_id:ve.material_id||"",nome:ve.material_name||"",quantidade:Number(ve.quantity)||1,preco_compra:Number(ve.unit_cost_at_time)||0,preco_venda:Number(ve.unit_sale_price)||0,unidade_medida:ve.material_unit||"UN",custo_total:(Number(ve.quantity)||1)*(Number(ve.unit_cost_at_time)||0),valor_total:(Number(ve.quantity)||1)*(Number(ve.unit_sale_price)||0),lucro:(Number(ve.quantity)||1)*(Number(ve.unit_sale_price)||0)-(Number(ve.quantity)||1)*(Number(ve.unit_cost_at_time)||0)}));X(se.id,{descricao:xe.name,preco_unitario:Number(xe.base_price)||0,tempo_estimado_minutos:Number(xe.estimated_duration)||0,materiais:Ye,funcionarios:[]}),be.target.value=""}},className:"w-full px-4 py-2 border-2 border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{value:"",children:"Selecione um servio do catlogo..."}),b.map(be=>{var Se;const xe=((Se=be.service_catalog_materials)==null?void 0:Se.length)||0;return s.jsxs("option",{value:be.id,children:[be.name," - R$ ",Number(be.base_price||0).toFixed(2)," - ",be.estimated_duration||0," min | ",xe," materiais"]},be.id)})]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Preenche automaticamente: Descrio, Preo, Tempo e Materiais. Adicione funcionrios manualmente abaixo."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio do Servio *"}),s.jsx("input",{type:"text",value:se.descricao,onChange:be=>X(se.id,{descricao:be.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalao de Ar Condicionado 12k BTU"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (min)"}),s.jsx("input",{type:"number",value:se.tempo_estimado_minutos,onChange:be=>X(se.id,{tempo_estimado_minutos:Number(be.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:se.quantidade,min:"1",onChange:be=>X(se.id,{quantidade:Number(be.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unitrio"}),s.jsx("input",{type:"number",value:se.preco_unitario,step:"0.01",onChange:be=>X(se.id,{preco_unitario:Number(be.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Total"}),s.jsx("input",{type:"text",value:De(se.preco_total),disabled:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 font-bold"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4"}),"Materiais"]}),s.jsx("button",{onClick:()=>he(se.id),className:"px-3 py-1 text-sm bg-green-50 text-green-600 rounded-lg hover:bg-green-100",children:"+ Material"})]}),se.materiais.length>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:" Buscar do Inventrio/Estoque"}),s.jsxs("select",{onChange:be=>{const xe=j.find(Se=>Se.id===be.target.value);if(xe&&se.materiais.length>0){const Se=se.materiais[se.materiais.length-1];Se.material_id||Qe(se.id,Se.id,{material_id:xe.id,nome:xe.name,quantidade:1,preco_compra:Number(xe.purchase_price)||0,preco_venda:Number(xe.sale_price)||0,unidade_medida:xe.unit||"UN"})}be.target.value=""},className:"w-full px-4 py-2 border-2 border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white",children:[s.jsx("option",{value:"",children:"Selecione um item do estoque..."}),j.map(be=>s.jsxs("option",{value:be.id,children:[be.name," - Estoque: ",be.quantity||0," ",be.unit||"UN"," - R$ ",Number(be.sale_price||0).toFixed(2)]},be.id))]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Preenche o ltimo material vazio adicionado"})]}),se.materiais.length===0&&s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhum material adicionado"}),se.materiais.map(be=>s.jsxs("div",{className:"border rounded-lg p-3 mb-3 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[s.jsxs("select",{value:be.material_id,onChange:xe=>ye(se.id,be.id,xe.target.value),className:"col-span-3 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Selecione o material..."}),A.map(xe=>s.jsxs("option",{value:xe.id,children:[xe.name," - ",De(Number(xe.sale_price))," (",xe.unit||"UN",")"]},xe.id))]}),s.jsxs("div",{className:"col-span-2 relative",children:[s.jsx("input",{type:"number",value:be.quantidade,min:"0.01",step:"0.01",onChange:xe=>Qe(se.id,be.id,{quantidade:Number(xe.target.value)}),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",placeholder:"Qtd"}),be.unidade_medida&&s.jsx("span",{className:"absolute right-3 top-2 text-xs text-gray-500 font-semibold",children:be.unidade_medida})]}),s.jsx("button",{onClick:()=>Me(se.id,be.id),className:"px-3 py-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),be.material_id&&s.jsxs("div",{className:"space-y-3 mt-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Custo Unitrio:"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-orange-500"}),s.jsx("input",{type:"number",value:be.preco_compra_unitario||"",onChange:xe=>Qe(se.id,be.id,{preco_compra_unitario:Number(xe.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-orange-500",step:"0.01",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Preo de Venda:"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-green-500"}),s.jsx("input",{type:"number",value:be.preco_venda_unitario||"",onChange:xe=>Qe(se.id,be.id,{preco_venda_unitario:Number(xe.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-green-500",step:"0.01",placeholder:"0.00"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 bg-gray-50 rounded p-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Custo Total:"}),s.jsx("p",{className:"font-bold text-orange-700",children:De(be.custo_total||0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Venda Total:"}),s.jsx("p",{className:"font-bold text-green-700",children:De(be.valor_total||0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Lucro:"}),s.jsx("p",{className:`font-bold ${(be.lucro||0)>=0?"text-green-600":"text-red-600"}`,children:De(be.lucro||0)})]})]})]})]},be.id))]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-purple-900",children:"Mo de Obra"})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl p-4 mb-4",children:[s.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(zr,{className:"h-4 w-4"})," Buscar e Adicionar Funcionrio"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:R[se.id]||"",onChange:be=>K({...R,[se.id]:be.target.value}),className:"w-full px-4 py-3 border-2 border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-sm",placeholder:"Digite o nome do funcionrio..."}),R[se.id]&&s.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-purple-200 rounded-xl shadow-2xl max-h-64 overflow-y-auto",children:[f.filter(be=>{const xe=(be.name||be.nome||"").toLowerCase(),Se=(be.role||be.cargo||"").toLowerCase(),Ye=R[se.id].toLowerCase();return xe.includes(Ye)||Se.includes(Ye)}).map(be=>s.jsx("button",{onClick:()=>{const xe={id:crypto.randomUUID(),staff_id:be.id,nome:be.name||be.nome||"Funcionrio",tempo_minutos:60,custo_hora:Number(be.hourly_rate||be.custo_hora||0),custo_total:1*Number(be.hourly_rate||be.custo_hora||0)};X(se.id,{funcionarios:[...se.funcionarios,xe]}),K({...R,[se.id]:""})},className:"w-full px-4 py-3 hover:bg-purple-50 transition-colors text-left border-b border-purple-100 last:border-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-purple-900",children:be.name||be.nome}),s.jsx("p",{className:"text-xs text-gray-600",children:be.role||be.cargo||"N/A"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",Number(be.hourly_rate||be.custo_hora||0).toFixed(2),"/h"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Clique para adicionar"})]})]})},be.id)),f.filter(be=>{const xe=(be.name||be.nome||"").toLowerCase(),Se=(be.role||be.cargo||"").toLowerCase(),Ye=R[se.id].toLowerCase();return xe.includes(Ye)||Se.includes(Ye)}).length===0&&s.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[s.jsx(kt,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm",children:"Nenhum funcionrio encontrado"})]})]})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-2 flex items-center gap-1",children:" Digite para buscar e adicionar funcionrios instantaneamente"})]}),se.funcionarios.length>0&&s.jsx("div",{className:"space-y-3",children:se.funcionarios.map((be,xe)=>s.jsxs(oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white border-2 border-purple-100 rounded-xl p-4 hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-bold text-sm",children:xe+1})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-purple-900",children:be.nome}),s.jsxs("p",{className:"text-xs text-gray-500",children:["R$ ",be.custo_hora.toFixed(2),"/hora"]})]})]}),s.jsx("button",{onClick:()=>z(se.id,be.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover funcionrio",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:" Tempo de Trabalho"}),s.jsx("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[10,30,60,120,240,480].map(Se=>s.jsx("button",{type:"button",onClick:()=>ke(se.id,be.id,{tempo_minutos:Se}),className:`px-2 py-1 rounded-lg text-xs font-semibold transition-all ${be.tempo_minutos===Se?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Se<60?`${Se}m`:`${Se/60}h`},Se))}),s.jsx("select",{value:be.tempo_minutos,onChange:Se=>ke(se.id,be.id,{tempo_minutos:Number(Se.target.value)}),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Array.from({length:96},(Se,Ye)=>(Ye+1)*10).map(Se=>s.jsx("option",{value:Se,children:Se<60?`${Se} minutos`:Se===60?"1 hora":Se%60===0?`${Se/60} horas`:`${Math.floor(Se/60)}h ${Se%60}m`},Se))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" Custo/Hora"}),s.jsx("input",{type:"text",value:De(be.custo_hora),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-blue-50 font-bold text-blue-700 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" Custo Total"}),s.jsx("input",{type:"text",value:De(be.custo_total),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-green-50 font-bold text-green-700 text-sm"})]})]})]})]},be.id))}),se.funcionarios.length===0&&s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[s.jsx(kt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nenhum funcionrio adicionado"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Use a busca acima para adicionar"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 grid grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Custo Materiais:"}),s.jsx("p",{className:"font-bold text-orange-600",children:De(se.custo_materiais)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Custo Mo Obra:"}),s.jsx("p",{className:"font-bold text-blue-600",children:De(se.custo_mao_obra)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Lucro:"}),s.jsx("p",{className:"font-bold text-green-600",children:De(se.lucro)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Margem:"}),s.jsxs("p",{className:"font-bold text-purple-600",children:[se.margem_lucro.toFixed(1),"%"]})]})]})]})]},se.id)),s.jsxs("button",{onClick:ie,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-gray-600 hover:text-blue-600",children:[s.jsx(xt,{className:"h-5 w-5"}),"Adicionar Outro Servio"]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border sticky top-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal Servios:"}),s.jsx("span",{className:"font-semibold",children:De(ee.subtotal)})]}),(M.custo_deslocamento||0)+(M.custo_estacionamento||0)+(M.custo_pedagio||0)+(M.custo_outros||0)>0&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-lg p-3 space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-700 flex items-center gap-1",children:" Custos Adicionais (Deduzidos)"}),M.custo_deslocamento>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:" Deslocamento:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",De(M.custo_deslocamento)]})]}),M.custo_estacionamento>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:" Estacionamento:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",De(M.custo_estacionamento)]})]}),M.custo_pedagio>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:" Pedgio:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",De(M.custo_pedagio)]})]}),M.custo_outros>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-orange-600",children:[" ",M.descricao_outros||"Outros",":"]}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",De(M.custo_outros)]})]}),s.jsxs("div",{className:"pt-2 border-t border-orange-300 flex justify-between",children:[s.jsx("span",{className:"font-bold text-orange-700",children:"Total Deduzido:"}),s.jsxs("span",{className:"font-bold text-red-700",children:["-",De((M.custo_deslocamento||0)+(M.custo_estacionamento||0)+(M.custo_pedagio||0)+(M.custo_outros||0))]})]})]})}),s.jsxs("div",{className:"border-t pt-3",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3 text-red-600",children:" Desconto"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto Percentual (%)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:M.desconto_percentual,step:"0.1",min:"0",max:"100",onChange:se=>Q({...M,desconto_percentual:Number(se.target.value),desconto_valor:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"}),s.jsx("span",{className:"text-red-700 font-bold text-lg",children:"%"})]})]}),s.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:" OU "}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto em Valor (R$)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-red-700 font-bold text-lg",children:"R$"}),s.jsx("input",{type:"number",value:M.desconto_valor,step:"0.01",min:"0",onChange:se=>Q({...M,desconto_valor:Number(se.target.value),desconto_percentual:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]})]})]}),s.jsxs("div",{className:"bg-red-100 border-2 border-red-300 rounded-lg p-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-red-700 font-semibold",children:"Desconto Aplicado:"}),s.jsxs("span",{className:"text-red-700 font-bold text-xl",children:["-",De(ee.desconto)]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"TOTAL:"}),s.jsx("span",{className:"text-blue-600",children:De(ee.total)})]}),s.jsxs("div",{className:"border-t pt-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:M.show_material_costs,onChange:se=>Q({...M,show_material_costs:se.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700",children:"Mostrar custos dos materiais no documento"})]}),s.jsx("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:"Se desmarcado, apenas os preos de venda sero exibidos"})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[s.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4 text-green-600"}),"Informaes de Pagamento"]}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-4 border-2 border-green-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Forma:"}),s.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:M.payment_method==="dinheiro"?"Dinheiro":M.payment_method==="pix"?"PIX":M.payment_method==="debito"?"Dbito":M.payment_method==="credito"?"Crdito":M.payment_method==="transferencia"?"Transferncia":M.payment_method==="boleto"?"Boleto":"Cheque"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Parcelas:"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[M.payment_installments,"x ",M.payment_installments>1&&`de ${De(ee.total/M.payment_installments)}`]})]}),M.bank_account_id&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Conta:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:((ue=x.find(se=>se.id===M.bank_account_id))==null?void 0:ue.account_name)||"Padro"})]}),M.warranty_period>0&&s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[s.jsx(Mt,{className:"h-3 w-3"}),"Garantia:"]}),s.jsxs("span",{className:"font-semibold text-amber-700",children:[M.warranty_period," ",M.warranty_type==="days"?"dias":M.warranty_type==="months"?"meses":"anos"]})]})]})})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Anlise de Custos"}),s.jsx("div",{className:"bg-orange-50 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-700",children:"Custo Materiais:"}),s.jsx("span",{className:"font-bold text-orange-700",children:De(ee.custo_total_materiais)})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-blue-700",children:"Custo Mo de Obra:"}),s.jsx("span",{className:"font-bold text-blue-700",children:De(ee.custo_total_mao_obra)})]})}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),s.jsx("span",{className:"font-bold text-gray-900",children:De(ee.custo_total)})]})}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-green-700 font-semibold",children:"Lucro:"}),s.jsx("span",{className:"font-bold text-green-700 text-lg",children:De(ee.lucro_total)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-600 text-sm",children:"Margem:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[ee.margem_lucro.toFixed(1),"%"]})]})]})]})]})})]}),k&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(yi,{className:"h-5 w-5 text-blue-600"}),"Enviar Ordem de Servio"]}),s.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email do Destinatrio"}),s.jsx("input",{type:"email",value:B,onChange:se=>T(se.target.value),placeholder:"cliente@email.com",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mensagem"}),s.jsx("textarea",{value:w,onChange:se=>E(se.target.value),placeholder:"Digite uma mensagem...",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:ge,disabled:D,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yi,{className:"h-4 w-4"}),"Enviar"]})})]})]})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4 z-40",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[a&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:Ee,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Imprimir OS",children:[s.jsx(zu,{className:"h-4 w-4"}),"Imprimir"]}),s.jsxs("button",{onClick:ce,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Baixar PDF",children:[s.jsx(ps,{className:"h-4 w-4"}),"Download"]}),s.jsxs("button",{onClick:He,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Enviar por Email",children:[s.jsx(yi,{className:"h-4 w-4"}),"Enviar"]})]}),s.jsxs("button",{onClick:Le,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 flex items-center gap-2 shadow-md",title:"Gerar PDF Profissional",children:[s.jsx(A9,{className:"h-4 w-4"}),"Gerar PDF"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>t("/service-orders"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Cancelar"]}),s.jsxs("button",{onClick:Pe,disabled:i,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2 shadow-md",children:[s.jsx(Qt,{className:"h-4 w-4"}),i?"Salvando...":a?"Atualizar OS":"Salvar OS"]})]})]})})]})},Mue=async(t,e)=>{var r;try{const{data:n,error:a}=await pe.from("contract_templates").select("*").eq("id",t).single();if(a||!n)return console.error("Template not found:",a),null;const{data:i,error:o}=await pe.from("service_orders").select(`
        *,
        customers (
          id,
          name,
          cpf_cnpj,
          email,
          phone,
          customer_addresses (
            street,
            number,
            complement,
            neighborhood,
            city,
            state,
            zip_code
          )
        )
      `).eq("id",e.serviceOrderId).single();if(o||!i)return console.error("Service order not found:",o),null;const{data:l}=await pe.from("service_order_items").select("service_name, description, quantity, unit_price, total_price").eq("service_order_id",e.serviceOrderId),{data:c}=await pe.from("company_settings").select("*").limit(1).single(),{data:d}=await pe.from("bank_accounts").select("*").eq("is_default",!0).limit(1).maybeSingle(),u=i.customers,A=(r=u==null?void 0:u.customer_addresses)==null?void 0:r[0],h=A?`${A.street}, ${A.number}${A.complement?" - "+A.complement:""}, ${A.neighborhood}, ${A.city}/${A.state}, CEP: ${A.zip_code}`:"Endereo no cadastrado",f=(l==null?void 0:l.map(k=>`- ${k.service_name}${k.description?": "+k.description:""} (${k.quantity}x R$ ${k.unit_price.toFixed(2)} = R$ ${k.total_price.toFixed(2)})`).join(`
`))||"Servios conforme OS",g=i.payment_method==="cash"?"Dinheiro":i.payment_method==="credit_card"?"Carto de Crdito":i.payment_method==="debit_card"?"Carto de Dbito":i.payment_method==="pix"?"PIX":i.payment_method==="bank_transfer"?"Transferncia Bancria":i.payment_method==="bank_slip"?"Boleto Bancrio":i.payment_method==="promissory_note"?"Nota Promissria":"A definir",x=i.warranty_period||90,m=i.warranty_type||"days",p=m==="days"?`${x} dias`:m==="months"?`${x} meses`:`${x} anos`,y=i.scheduled_at?new Date(i.scheduled_at).toLocaleDateString("pt-BR"):"A definir",b=i.completed_at?new Date(i.completed_at).toLocaleDateString("pt-BR"):"A definir",N=i.scheduled_at&&x?new Date(new Date(i.scheduled_at).getTime()+x*(m==="days"?864e5:m==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR"):"A calcular",j={"[NOME_CLIENTE]":(u==null?void 0:u.name)||"Cliente no informado","[CPF_CNPJ_CLIENTE]":(u==null?void 0:u.cpf_cnpj)||"No informado","[EMAIL_CLIENTE]":(u==null?void 0:u.email)||"No informado","[TELEFONE_CLIENTE]":(u==null?void 0:u.phone)||"No informado","[ENDERECO_CLIENTE]":h,"[NUMERO_OS]":i.order_number||i.id.substring(0,8),"[DATA_OS]":y,"[DATA_CONCLUSAO]":b,"[VALOR_TOTAL]":`R$ ${(i.total_amount||0).toFixed(2)}`,"[VALOR_SUBTOTAL]":`R$ ${(i.subtotal||0).toFixed(2)}`,"[DESCONTO]":`R$ ${(i.discount_amount||0).toFixed(2)}`,"[DESCRICAO_SERVICOS]":f,"[PRAZO_EXECUCAO]":`${i.estimated_duration||0} horas`,"[GARANTIA_PERIODO]":p,"[GARANTIA_ATE]":N,"[FORMA_PAGAMENTO]":g,"[CONDICOES_PAGAMENTO]":g,"[NOME_EMPRESA]":(c==null?void 0:c.company_name)||"Nome da Empresa","[CNPJ_EMPRESA]":(c==null?void 0:c.cnpj)||"CNPJ no informado","[ENDERECO_EMPRESA]":(c==null?void 0:c.address)||"Endereo no informado","[TELEFONE_EMPRESA]":(c==null?void 0:c.phone)||"Telefone no informado","[EMAIL_EMPRESA]":(c==null?void 0:c.email)||"E-mail no informado","[CIDADE]":(c==null?void 0:c.city)||(A==null?void 0:A.city)||"Cidade no informada","[ESTADO]":(c==null?void 0:c.state)||(A==null?void 0:A.state)||"Estado no informado","[BANCO]":(d==null?void 0:d.bank_name)||"Banco no informado","[AGENCIA]":(d==null?void 0:d.agency)||"0000","[CONTA]":(d==null?void 0:d.account_number)||"00000-0","[TIPO_CONTA]":(d==null?void 0:d.account_type)==="checking"?"Conta Corrente":"Conta Poupana","[TITULAR]":(d==null?void 0:d.account_holder)||(c==null?void 0:c.company_name)||"Titular no informado","[CPF_CNPJ_TITULAR]":(c==null?void 0:c.cnpj)||"No informado","[CHAVE_PIX]":(d==null?void 0:d.pix_key)||"No informado","[TIPO_CHAVE_PIX]":(d==null?void 0:d.pix_key_type)==="cpf"?"CPF":(d==null?void 0:d.pix_key_type)==="cnpj"?"CNPJ":(d==null?void 0:d.pix_key_type)==="email"?"E-mail":(d==null?void 0:d.pix_key_type)==="phone"?"Telefone":(d==null?void 0:d.pix_key_type)==="random"?"Chave Aleatria":"No informado","[EMAIL_COMPROVANTE]":(c==null?void 0:c.email)||"Email no informado","[WHATSAPP_CONTATO]":(c==null?void 0:c.phone)||"WhatsApp no informado","[DADOS_BANCARIOS]":d?`Banco: ${d.bank_name}
Agncia: ${d.agency}
Conta: ${d.account_number}
PIX: ${d.pix_key||"No disponvel"}`:"Dados bancrios no cadastrados","[VALOR_ENTRADA]":`R$ ${((i.total_amount||0)*.3).toFixed(2)}`,"[NUMERO_PARCELAS]":"3","[VALOR_PARCELA]":`R$ ${((i.total_amount||0)*.7/3).toFixed(2)}`,"[DIA_VENCIMENTO]":"10"},C=k=>{let _=k;return Object.entries(j).forEach(([B,T])=>{_=_.replace(new RegExp(B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),T)}),_};return{contract_text:C(n.contract_text||""),contract_clauses:C(n.contract_clauses||""),warranty_terms:C(n.warranty_terms||""),payment_conditions:C(n.payment_conditions||""),bank_details_template:C(n.bank_details_template||"")}}catch(n){return console.error("Error filling contract:",n),null}},Uue=async()=>{try{const{data:t,error:e}=await pe.from("contract_templates").select("*").eq("is_default",!0).eq("active",!0).single();if(e||!t){const{data:r}=await pe.from("contract_templates").select("*").eq("active",!0).limit(1).single();return r}return t}catch(t){return console.error("Error getting default template:",t),null}},Rue=({isOpen:t,onClose:e,serviceOrderId:r,templateId:n})=>{const[a,i]=P.useState(!0),[o,l]=P.useState(null);P.useEffect(()=>{t&&r&&c()},[t,r,n]);const c=async()=>{try{i(!0);let A=n;if(!A){const f=await Uue();A=f==null?void 0:f.id}if(!A){alert("Nenhum template de contrato disponvel"),e();return}const h=await Mue(A,{serviceOrderId:r});if(!h){alert("Erro ao preencher contrato"),e();return}l(h)}catch(A){console.error("Error loading contract:",A),alert("Erro ao carregar contrato")}finally{i(!1)}},d=()=>{if(!o)return;const A=new ft,h=15,f=A.internal.pageSize.width,g=A.internal.pageSize.height,x=f-2*h;let m=h;const p=(b,N=10,j=!1)=>{A.setFontSize(N),A.setFont("helvetica",j?"bold":"normal"),A.splitTextToSize(b,x).forEach(k=>{m>g-h&&(A.addPage(),m=h),A.text(k,h,m),m+=N*.5}),m+=3};A.setFontSize(16),A.setFont("helvetica","bold"),A.text("CONTRATO DE PRESTAO DE SERVIOS",f/2,m,{align:"center"}),m+=15,o.contract_text&&(p(o.contract_text,10),m+=5),o.contract_clauses&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.text("CLUSULAS CONTRATUAIS",h,m),m+=7,p(o.contract_clauses,10),m+=5),o.warranty_terms&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.text("TERMOS DE GARANTIA",h,m),m+=7,p(o.warranty_terms,10),m+=5),o.payment_conditions&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.text("CONDIES DE PAGAMENTO",h,m),m+=7,p(o.payment_conditions,10),m+=5),o.bank_details_template&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.text("DADOS BANCRIOS",h,m),m+=7,p(o.bank_details_template,10),m+=10),m>g-50&&(A.addPage(),m=h),m+=10,A.setFontSize(10),A.text("_________________________________________",h,m),A.text("CONTRATANTE",h+30,m+5),A.text("_________________________________________",f/2+10,m),A.text("CONTRATADA",f/2+40,m+5),m+=15;const y=new Date().toLocaleDateString("pt-BR");A.setFontSize(9),A.text(`Data: ${y}`,f/2,m,{align:"center"}),A.save(`contrato-${r.substring(0,8)}.pdf`)},u=()=>{window.print()};return t?s.jsx(it,{children:s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:s.jsxs(oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:A=>A.stopPropagation(),children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(mt,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-xl font-bold",children:"Contrato de Prestao de Servios"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})})]}),a?s.jsxs("div",{className:"p-12 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando contrato..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)] print:overflow-visible print:max-h-none",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border-2 border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-blue-600"}),"Contrato Principal"]}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-800",children:o.contract_text})]}),o.contract_clauses&&s.jsxs("div",{className:"bg-purple-50 rounded-lg p-6 mb-6 border-2 border-purple-200",children:[s.jsx("h3",{className:"text-lg font-bold text-purple-900 mb-4",children:"Clusulas Contratuais"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-purple-800",children:o.contract_clauses})]}),o.warranty_terms&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6 border-2 border-green-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[s.jsx(Fr,{className:"h-5 w-5"}),"Termos de Garantia"]}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-green-800",children:o.warranty_terms})]}),o.payment_conditions&&s.jsxs("div",{className:"bg-orange-50 rounded-lg p-6 mb-6 border-2 border-orange-200",children:[s.jsx("h3",{className:"text-lg font-bold text-orange-900 mb-4",children:"Condies de Pagamento"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-orange-800",children:o.payment_conditions})]}),o.bank_details_template&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-2 border-blue-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Dados Bancrios"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-blue-800",children:o.bank_details_template})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t-2 border-gray-300",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATANTE"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATADA"})]})]}),s.jsxs("p",{className:"text-center text-xs text-gray-500 mt-6",children:["Data: ",new Date().toLocaleDateString("pt-BR")]})]})]})}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t print:hidden",children:[s.jsxs("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[s.jsx(zu,{className:"h-4 w-4"}),"Imprimir"]}),s.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4"}),"Baixar PDF"]}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Fechar"})]})]}):s.jsx("div",{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Erro ao carregar contrato"})})]})})}):null};function hH(t,e,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,d=l*c,u=/\r\n|\r|\n/g,A="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(A=typeof t=="string"?t.split(u):t,h=A.length||1),r+=l*(2-i),n.valign==="middle"?r-=h/2*d:n.valign==="bottom"&&(r-=h*d),n.halign==="center"||n.halign==="right"){var f=l;if(n.halign==="center"&&(f*=.5),A&&h>=1){for(var g=0;g<A.length;g++)a.text(A[g],e-a.getStringUnitWidth(A[g])*f,r),r+=d;return a}e-=a.getStringUnitWidth(t)*f}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var pO={},nf=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:pO=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=t.unifyColor(e.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return pO||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),O4=function(t,e){return O4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},O4(t,e)};function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");O4(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mH=function(t){fH(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function Que(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function $ue(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Aw(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function pH(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var o=gH(a,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function gH(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function A2(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function xH(t,e){var r=A2(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Hue(t,e,r,n,a){var i={},o=1.3333333333333333,l=__(e,function(b){return a.getComputedStyle(b).backgroundColor});l!=null&&(i.fillColor=l);var c=__(e,function(b){return a.getComputedStyle(b).color});c!=null&&(i.textColor=c);var d=zue(n,r);d&&(i.cellPadding=d);var u="borderTopColor",A=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/A;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/A,right:(parseFloat(n.borderRightWidth)||0)/A,bottom:(parseFloat(n.borderBottomWidth)||0)/A,left:(parseFloat(n.borderLeftWidth)||0)/A},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=__(e,function(b){return a.getComputedStyle(b)[u]});g!=null&&(i.lineColor=g);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var m=parseInt(n.fontSize||"");isNaN(m)||(i.fontSize=m/o);var p=que(n);p&&(i.fontStyle=p);var y=(n.fontFamily||"").toLowerCase();return t.indexOf(y)!==-1&&(i.font=y),i}function que(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function __(t,e){var r=yH(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function yH(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:yH(t.parentElement,e):r}function zue(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=A2(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function vH(t,e,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],A=[],h=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:A,foot:h};for(var f=0;f<l.rows.length;f++){var g=l.rows[f],x=(o=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),m=Vue(c,d,r,g,n,a);m&&(x==="thead"?u.push(m):x==="tfoot"?h.push(m):A.push(m))}return{head:u,body:A,foot:h}}function Vue(t,e,r,n,a,i){for(var o=new mH(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;i&&(u=Hue(t,c,e,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:Kue(c)})}}var A=r.getComputedStyle(n);if(o.length>0&&(a||A.display!=="none"))return o}function Kue(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Wue(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function bl(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function Gue(t,e){var r=new nf(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();Wue(a,n,e);var i=bl({},a,n,e),o;typeof window<"u"&&(o=window);var l=Xue(a,n,e),c=Yue(a,n,e),d=Jue(r,i),u=eAe(r,i,o);return{id:e.tableId,content:u,hooks:c,styles:l,settings:d}}function Xue(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=t[c],u=e[c],A=r[c];n.columnStyles=bl({},d,u,A)}else{var h=[t,e,r],f=h.map(function(g){return g[c]||{}});n[c]=bl({},f[0],f[1],f[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];a(l)}return n}function Yue(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Jue(t,e){var r,n,a,i,o,l,c,d,u,A,h,f,g=A2(e.margin,40/t.scaleFactor()),x=(r=Zue(t,e.startY))!==null&&r!==void 0?r:g.top,m;e.showFoot===!0?m="everyPage":e.showFoot===!1?m="never":m=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var p;e.showHead===!0?p="everyPage":e.showHead===!1?p="never":p=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var y=(i=e.useCss)!==null&&i!==void 0?i:!1,b=e.theme||(y?"plain":"striped"),N=!!e.horizontalPageBreak,j=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:y,theme:b,startY:x,margin:g,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:p,showFoot:m,tableLineWidth:(A=e.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:N,horizontalPageBreakRepeat:j,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Zue(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function eAe(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=vH(t,e.html,r,o,e.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||tAe(n,a,i);return{columns:c,head:n,body:a,foot:i}}function tAe(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(n)?d=a.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var I4=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),rAe=function(t){fH(e,t);function e(r,n,a,i,o,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return e}(I4),nAe=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new rAe(e,this,n,a,i,o),A=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],A)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new I4(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new I4(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),bH=function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof mH&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>a?d:a},0)},t}(),wH=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=A2(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),sAe=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function aAe(t,e){iAe(t,e);var r=[],n=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=D4(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=D4(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),lAe(e),cAe(e,t),oAe(e)}function iAe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=xH(t,e);e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=e.hooks.didParseCell;e.callCellHooks(t,u,d,i,c,null);var A=d.padding("horizontal");d.contentWidth=Aw(d.text,d.styles,t)+A;var h=Aw(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=h+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var f=10/r;d.minWidth=d.styles.minCellWidth||f,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},A=u.cellWidth||u.minCellWidth;A&&typeof A=="number"&&(c.minWidth=A,c.wrappedWidth=A)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function D4(t,e,r){for(var n=e,a=t.reduce(function(f,g){return f+g.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/a,c=n*l,d=o.width+c,u=r(o),A=d<u?u:d;e-=A-o.width,o.width=A}if(e=Math.round(e*1e10)/1e10,e){var h=t.filter(function(f){return e<0?f.width>r(f):!0});h.length&&(e=D4(h,e,r))}return e}function oAe(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var A=n.length-a,h=u.rowSpan>A?A:u.rowSpan;e[c.index]={cell:u,left:h,row:i}}}}}function lAe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+i}else{var d=n.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){a=d,i+=c.width;continue}d.width=c.width+i}}}function cAe(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){e.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,u+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=gO(d.text,u,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=gO(d.text,u,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,u);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<h*d.rowSpan?r={height:h,count:d.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function gO(t,e,r,n,a){return t.map(function(i){return dAe(i,e,r,n,a)})}function dAe(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Aw(t,r,n))return t;for(;e<Aw(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function uAe(t,e){var r=new nf(t),n=AAe(e,r.scaleFactor()),a=new nAe(e,n);return aAe(r,a),r.applyStyles(r.userStyles),a}function AAe(t,e){var r=t.content,n=fAe(r.columns);if(r.head.length===0){var a=xO(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=xO(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,o=t.styles;return{columns:n,head:C_("head",r.head,n,o,i,e),body:C_("body",r.body,n,o,i,e),foot:C_("foot",r.foot,n,o,i,e)}}function C_(t,e,r,n,a,i){var o={},l=e.map(function(c,d){for(var u=0,A={},h=0,f=0,g=0,x=r;g<x.length;g++){var m=x[g];if(o[m.index]==null||o[m.index].left===0)if(f===0){var p=void 0;Array.isArray(c)?p=c[m.index-h-u]:p=c[m.dataKey];var y={};typeof p=="object"&&!Array.isArray(p)&&(y=(p==null?void 0:p.styles)||{});var b=mAe(t,m,d,a,n,i,y),N=new wH(p,b,t);A[m.dataKey]=N,A[m.index]=N,f=N.colSpan-1,o[m.index]={left:N.rowSpan-1,times:f}}else f--,h++;else o[m.index].left--,f=o[m.index].times,u++}return new bH(c,d,t,A)});return l}function xO(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=hAe(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function hAe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function fAe(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new sAe(a,e,r)})}function mAe(t,e,r,n,a,i,o){var l=$ue(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var d=bl({},l.table,l[t],a.styles,c),u=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},A=t==="body"?u:{},h=t==="body"&&r%2===0?bl({},l.alternateRow,a.alternateRowStyles):{},f=Que(i),g=bl({},f,d,h,A);return bl(g,o)}function pAe(t,e,r){var n;r===void 0&&(r={});var a=xH(t,e),i=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var f=e.columns.find(function(g){return g.dataKey===h||g.index===h});f&&!i.has(f.index)&&(i.set(f.index,!0),o.push(f.index),l.push(e.columns[f.index]),a-=f.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(i.has(u)){u++;continue}var A=e.columns[u].wrappedWidth;if(d||a>=A)d=!1,o.push(u),l.push(e.columns[u]),a-=A;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function gAe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=pAe(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function xAe(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(h,f){return h+f.height},0);l+=d}var u=new nf(t);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(NH(u),i.y=a.top),e.callWillDrawPageHooks(u,i);var A=bl({},i);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?yAe(u,e,A,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(h){return Ul(u,e,h,i,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(h,f){var g=f===e.body.length-1;hw(u,e,h,g,A,i,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(h){return Ul(u,e,h,i,e.columns)})),pH(u,e,A,i),e.callEndPageHooks(u,i),e.finalY=i.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function yAe(t,e,r,n){var a=gAe(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?xg(t,e,r,n,d.columns,!0):yO(t,e,n,d.columns),vAe(t,e,r,n,d.columns),B_(t,e,n,d.columns)});else for(var o=-1,l=a[0],c=function(){var d=o;if(l){t.applyStyles(t.userStyles);var u=l.columns;o>=0?xg(t,e,r,n,u,!0):yO(t,e,n,u),d=vO(t,e,o+1,n,u),B_(t,e,n,u)}var A=d-o;a.slice(1).forEach(function(h){t.applyStyles(t.userStyles),xg(t,e,r,n,h.columns,!0),vO(t,e,o+1,n,h.columns,A),B_(t,e,n,h.columns)}),o=d};o<e.body.length-1;)c()}function yO(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Ul(t,e,i,r,n)})}function vAe(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var l=o===e.body.length-1;hw(t,e,i,l,r,n,a)})}function vO(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,d){var u=r+d===e.body.length-1,A=jH(t,e,u,n);c.canEntireRowFit(A,a)&&(Ul(t,e,c,n,a),l=r+d)}),l}function B_(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Ul(t,e,i,r,n)})}function bAe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function wAe(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new wH(d.raw,d.styles,d.section);u=bl(u,d),u.text=[];var A=bAe(d,e,n);d.text.length>A&&(u.text=d.text.splice(A,d.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(h,f),d.contentHeight>=e&&(d.contentHeight=e,u.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(h,f),u.contentHeight>i&&(i=u.contentHeight),a[c.index]=u}}var g=new bH(t.raw,-1,t.section,a,!0);g.height=i;for(var x=0,m=r.columns;x<m.length;x++){var c=m[x],u=g.cells[c.index];u&&(u.height=g.height);var d=t.cells[c.index];d&&(d.height=t.height)}return g}function jAe(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=a-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=e.hasRowSpan(n.columns),A=e.getMaxCellHeight(n.columns)>l;return A?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function hw(t,e,r,n,a,i,o){var l=jH(t,e,n,i);if(r.canEntireRowFit(l,o))Ul(t,e,r,i,o);else if(jAe(t,r,l,e)){var c=wAe(r,l,e,t);Ul(t,e,r,i,o),xg(t,e,a,i,o),hw(t,e,c,n,a,i,o)}else xg(t,e,a,i,o),hw(t,e,r,n,a,i,o)}function Ul(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}NAe(t,c,n);var u=c.getTextPos();hH(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function NAe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=gH(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),_Ae(t,e,r,n.lineWidth))}function _Ae(t,e,r,n){var a,i,o,l;n.top&&(a=r.x,i=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,o,l)),n.bottom&&(a=r.x,i=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,o,l)),n.left&&(a=r.x,i=r.y,o=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,o,l)),n.right&&(a=r.x+e.width,i=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,o,l));function c(d,u,A,h,f){t.getDocument().setLineWidth(d),t.getDocument().line(u,A,h,f,"S")}}function jH(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function xg(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Ul(t,e,l,n,a)}),e.callEndPageHooks(t,n);var o=e.settings.margin;pH(t,e,r,n),NH(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Ul(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function NH(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function CAe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=Gue(this,n),i=uAe(this,a);return xAe(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){hH(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return nf.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){nf.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new nf(this),i=vH(a,e,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var S_;try{if(typeof window<"u"&&window){var bO=window,wO=bO.jsPDF||((S_=bO.jspdf)===null||S_===void 0?void 0:S_.jsPDF);wO&&CAe(wO)}}catch(t){console.error("Could not apply autoTable plugin",t)}const BAe=async t=>{const e=await u2(),r=new ft,n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=15;let o=20;const l=[15,118,110],c=[20,184,166],d=[52,58,64],u=[248,249,250],A=O=>o+O>a-25?(h(),r.addPage(),o=i,!0):!1,h=()=>{const O=r.getCurrentPageInfo().pageNumber;r.setDrawColor(...u),r.setLineWidth(.5),r.line(i,a-10,n-i,a-10),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(...d),r.text(`${e.email} | ${e.phone} | ${e.website||e.instagram||""}`,n/2,a-6,{align:"center"}),r.text(`Pgina ${O}`,n/2,a-3,{align:"center"})},f=()=>new Promise(O=>{const L=new Image;L.crossOrigin="anonymous",L.onload=()=>{const U=document.createElement("canvas");U.width=L.width,U.height=L.height;const M=U.getContext("2d");M?(M.drawImage(L,0,0),O(U.toDataURL("image/jpeg",.8))):O("")},L.onerror=()=>{const U=new Image;U.crossOrigin="anonymous",U.onload=()=>{const M=document.createElement("canvas");M.width=U.width,M.height=U.height;const Q=M.getContext("2d");Q?(Q.drawImage(U,0,0),O(M.toDataURL("image/jpeg",.8))):O("")},U.onerror=()=>O(""),U.src="/image.png"},L.src="/8.jpg"});r.setFillColor(...l),r.rect(0,0,n,50,"F");const g=await f();if(g)try{r.addImage(g,"JPEG",i,10,30,30)}catch{r.setFillColor(255,255,255),r.circle(i+15,25,12,"F"),r.setFontSize(20),r.setFont("helvetica","bold"),r.setTextColor(...l);const L=e.name.charAt(0).toUpperCase();r.text(L,i+15,30,{align:"center"})}else{r.setFillColor(255,255,255),r.circle(i+15,25,12,"F"),r.setFontSize(20),r.setFont("helvetica","bold"),r.setTextColor(...l);const O=e.name.charAt(0).toUpperCase();r.text(O,i+15,30,{align:"center"})}r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(255,255,255),r.text(e.name,i+50,18),r.setFont("helvetica","normal"),r.setFontSize(8);let x=24;r.text(e.owner||"Proprietrio",i+50,x),x+=3.5,r.text(`CNPJ: ${e.cnpj}`,i+50,x),x+=3.5,r.text(e.address,i+50,x),x+=3.5,r.text(`${e.city}-${e.state}${e.zip?"  CEP "+e.zip:""}`,i+50,x);const m=n-i;if(r.text(new Date(t.date).toLocaleDateString("pt-BR"),m,18,{align:"right"}),x=24,r.text(e.email,m,x,{align:"right"}),x+=3.5,r.text(e.phone,m,x,{align:"right"}),x+=3.5,e.instagram&&r.text(e.instagram,m,x,{align:"right"}),o=60,r.setFillColor(...c),r.rect(i,o,n-2*i,t.title?18:12,"F"),r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(255,255,255),r.text(`ORAMENTO ${t.order_number}`,n/2,o+8,{align:"center"}),t.title?(r.setFontSize(11),r.setFont("helvetica","normal"),r.text(t.title,n/2,o+14,{align:"center"}),o+=24):o+=18,r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text(`Cliente: ${t.client.name}`,i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),t.client.company_name&&(r.text(t.client.company_name,i+3,o),o+=4),t.client.cnpj?(r.text(`CNPJ: ${t.client.cnpj}`,i+3,o),o+=4):t.client.cpf&&(r.text(`CPF: ${t.client.cpf}`,i+3,o),o+=4),t.client.address){const O=[t.client.address,t.client.city&&t.client.state?`${t.client.city}-${t.client.state}`:null,t.client.cep?`CEP ${t.client.cep}`:null].filter(Boolean).join(", "),L=r.splitTextToSize(O,n-2*i-6);r.text(L,i+3,o),o+=L.length*4}t.client.phone&&(r.text(`Tel: ${t.client.phone}`,i+3,o),o+=4),t.client.email&&(r.text(`Email: ${t.client.email}`,i+3,o),o+=4),o+=4,t.basic_info&&(A(30),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes do Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),r.text(`Prazo de Execuo: ${t.basic_info.deadline}`,i+3,o),o+=4,t.basic_info.start_date&&(r.text(`Data de Incio: ${t.basic_info.start_date}`,i+3,o),o+=4),t.basic_info.brand&&(r.text(`Marca: ${t.basic_info.brand}`,i+3,o),o+=4),t.basic_info.model&&(r.text(`Modelo: ${t.basic_info.model}`,i+3,o),o+=4),t.basic_info.equipment&&(r.text(`Equipamento: ${t.basic_info.equipment}`,i+3,o),o+=4),o+=4),A(40),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Servios e Produtos",i+3,o+5.5),o+=12;const p=t.show_value!==!1,y=t.items.map(O=>{const L=O.description+(O.scope?`

`+O.scope:"");return p?[L,O.unit,O.quantity.toString(),`R$ ${O.unit_price.toFixed(2)}`,`R$ ${O.total_price.toFixed(2)}`]:[L,O.unit,O.quantity.toString()]}),b=p?[["Descrio","Un.","Qtd","Preo Unit.","Total"]]:[["Descrio","Un.","Qtd"]],N=p?{0:{cellWidth:80},1:{cellWidth:20,halign:"center"},2:{cellWidth:20,halign:"center"},3:{cellWidth:30,halign:"right"},4:{cellWidth:30,halign:"right",fontStyle:"bold"}}:{0:{cellWidth:130},1:{cellWidth:30,halign:"center"},2:{cellWidth:20,halign:"center"}};if(r.autoTable({startY:o,head:b,body:y,theme:"grid",headStyles:{fillColor:l,textColor:[255,255,255],fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8,cellPadding:3,textColor:d},columnStyles:N,margin:{left:i,right:i}}),o=r.lastAutoTable.finalY+5,p){const O=n-i-50;if(r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(...d),r.text("Subtotal:",O,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,n-i,o,{align:"right"}),o+=5,t.discount>0){r.setTextColor(231,76,60);const L=t.discount_percentage?`Desconto (${t.discount_percentage}%):`:"Desconto:";r.text(L,O,o,{align:"right"}),r.text(`- R$ ${t.discount.toFixed(2)}`,n-i,o,{align:"right"}),o+=5}r.setDrawColor(...d),r.setLineWidth(1),r.line(O-10,o,n-i,o),o+=7,r.setFillColor(...l),r.rect(O-15,o-5,n-O+15-i,10,"F"),r.setFont("helvetica","bold"),r.setFontSize(12),r.setTextColor(255,255,255),r.text("TOTAL:",O,o+2,{align:"right"}),r.text(`R$ ${t.total.toFixed(2)}`,n-i-3,o+2,{align:"right"}),o+=15}if(t.detailed_scope){A(50),r.setFillColor(219,234,254),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(30,64,175),r.text("Escopo Detalhado do Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const O=r.splitTextToSize(t.detailed_scope,n-2*i-6);r.text(O,i+3,o),o+=O.length*3.5+8}if(t.technical_report){A(50),r.setFillColor(254,243,199),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(146,64,14),r.text("Relatrio Tcnico",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const O=r.splitTextToSize(t.technical_report,n-2*i-6);r.text(O,i+3,o),o+=O.length*3.5+8}if(t.service_instructions){A(50),r.setFillColor(220,252,231),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(20,83,45),r.text("Orientaes de Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const O=r.splitTextToSize(t.service_instructions,n-2*i-6);r.text(O,i+3,o),o+=O.length*3.5+8}if(o>a-100&&(h(),r.addPage(),o=i),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Forma de Pagamento",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),r.text(`Mtodos: ${t.payment.methods}`,i+3,o),o+=5,t.payment.pix&&(r.text(`PIX: ${t.payment.pix}`,i+3,o),o+=5),t.payment.bank_details){const O=t.payment.bank_details;r.setFont("helvetica","bold"),r.text("Dados bancrios:",i+3,o),o+=5,r.setFont("helvetica","normal"),r.text(`Banco: ${O.bank} | Agncia: ${O.agency} | Conta: ${O.account}`,i+3,o),o+=4,r.text(`Tipo: ${O.account_type} | Titular: ${O.holder}`,i+3,o),o+=5}r.setFont("helvetica","bold"),r.text("Condies:",i+3,o),o+=5,r.setFont("helvetica","normal");const j=r.splitTextToSize(t.payment.conditions,n-2*i-6);r.text(j,i+3,o),o+=j.length*4+8,A(50),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Garantia",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d),t.warranty.period&&(r.text(`Perodo: ${t.warranty.period}`,i+3,o),o+=6);const C=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",k=r.splitTextToSize(C,n-2*i-6);if(r.text(k,i+3,o),o+=k.length*3.5+10,t.additional_info||t.special_conditions){A(30),r.setFillColor(...u),r.rect(i,o,n-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Observaes",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const O=t.additional_info||t.special_conditions||"",L=r.splitTextToSize(O,n-2*i-6);r.text(L,i+3,o),o+=L.length*4+8}A(40),r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const _=o;r.text(`${t.client.city||e.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,n/2,_,{align:"center"}),o+=25;const B=i+10,T=n/2-10;r.line(B,o,T,o),o+=5,r.setFont("helvetica","bold"),r.text(e.name,(B+T)/2,o,{align:"center"}),o+=4,r.setFont("helvetica","normal"),r.text(e.owner||"Representante Legal",(B+T)/2,o,{align:"center"});const w=n/2+10,E=n-i-10;o-=9,r.line(w,o,E,o),o+=5,r.setFont("helvetica","bold"),r.text(t.client.name,(w+E)/2,o,{align:"center"}),o+=4,r.setFont("helvetica","normal"),t.client.cnpj?r.text(`CNPJ ${t.client.cnpj}`,(w+E)/2,o,{align:"center"}):t.client.cpf&&r.text(`CPF ${t.client.cpf}`,(w+E)/2,o,{align:"center"}),h();const D=r.getNumberOfPages();for(let O=1;O<=D;O++)r.setPage(O),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(...d),r.text(`Pgina ${O} de ${D}`,n-i-20,a-3,{align:"right"});r.save(`Orcamento_${t.order_number}_${new Date().toISOString().split("T")[0]}.pdf`)};function SAe({isOpen:t,onClose:e,data:r}){var c,d,u,A,h,f,g,x,m,p;if(!t)return null;const n=async()=>{try{const y={order_number:r.order_number,date:r.date,title:r.title,client:r.client,basic_info:r.basic_info,items:r.items,subtotal:r.subtotal,discount:r.discount_amount||r.discount,discount_percentage:r.discount>0&&r.subtotal>0?Math.round(r.discount/r.subtotal*100):void 0,total:r.final_total||r.total,show_value:r.show_value,technical_report:r.relatorio_tecnico,service_instructions:r.orientacoes_servico,detailed_scope:r.escopo_detalhado,payment:r.payment,warranty:r.warranty,additional_info:r.additional_notes||r.additional_info,special_conditions:r.additional_info};await BAe(y)}catch(y){console.error("Erro ao gerar PDF:",y),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},a=()=>{window.print()},i=async()=>{if(navigator.share)try{await navigator.share({title:`Oramento ${r.order_number}`,text:`Oramento para ${r.client.name}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else alert("Compartilhamento no suportado neste navegador")},o=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),l=y=>new Date(y).toLocaleDateString("pt-BR");return s.jsx(it,{children:s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(mt,{className:"h-6 w-6 text-white"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Oramento"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:n,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Baixar PDF",children:[s.jsx(ps,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]}),s.jsxs("button",{onClick:a,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Imprimir",children:[s.jsx(zu,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),s.jsxs("button",{onClick:i,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Compartilhar",children:[s.jsx(f9,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-teal-800 rounded-lg transition-colors",title:"Fechar",children:s.jsx(dt,{className:"h-5 w-5 text-white"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg my-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-teal-700 to-teal-800 px-8 py-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-white p-3 rounded-lg",children:s.jsx(yl,{className:"h-12 w-12 text-teal-700"})}),s.jsxs("div",{className:"text-white",children:[s.jsx("h1",{className:"text-2xl font-bold",children:r.company.name}),s.jsx("p",{className:"text-teal-100 text-sm mt-1",children:r.company.owner}),s.jsxs("p",{className:"text-teal-100 text-sm",children:["CNPJ: ",r.company.cnpj]}),s.jsx("p",{className:"text-teal-100 text-sm",children:r.company.address}),s.jsxs("p",{className:"text-teal-100 text-sm",children:[r.company.city,"-",r.company.state]})]})]}),s.jsxs("div",{className:"text-right text-white",children:[s.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[s.jsx(Jt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:l(r.date)})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[s.jsx(yn,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.email})]}),r.company.phones.map((y,b)=>s.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[s.jsx(qn,{className:"h-4 w-4"}),s.jsx("span",{children:y})]},b))]})]}),r.company.tagline&&s.jsx("p",{className:"text-center text-teal-100 text-sm mt-4 italic",children:r.company.tagline}),r.company.social&&s.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-3",children:[r.company.social.instagram&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(vT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(gT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(o0,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.website})]})]})]}),s.jsx("div",{className:"bg-teal-700 px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Oramento ",r.order_number]}),r.title&&s.jsx("p",{className:"text-teal-100 mt-1",children:r.title})]}),s.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Validade"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"30 dias"})]})]})}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-3",children:["Cliente: ",r.client.name]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[r.client.company_name&&s.jsx("p",{className:"text-gray-700",children:r.client.company_name}),r.client.cnpj&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",r.client.cnpj]}),r.client.address&&s.jsx("p",{className:"text-sm text-gray-600",children:r.client.address}),r.client.city&&s.jsxs("p",{className:"text-sm text-gray-600",children:[r.client.city,"-",r.client.state]}),r.client.cep&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",r.client.cep]})]}),s.jsxs("div",{className:"space-y-2",children:[r.client.email&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx(yn,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{children:r.client.email})]}),r.client.phone&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx(qn,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{children:r.client.phone})]})]})]})]}),s.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informaes bsicas"}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Prazo de execuo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Marca"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Modelo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center",children:[s.jsx(mt,{className:"h-5 w-5 mr-2"}),"Servios e Produtos"]}),s.jsx("div",{className:"space-y-4",children:r.items.map((y,b)=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:`grid ${r.show_value!==!1?"grid-cols-12":"grid-cols-8"} gap-4 mb-3`,children:[s.jsx("div",{className:r.show_value!==!1?"col-span-5":"col-span-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"bg-teal-100 text-teal-700 text-xs font-semibold px-2 py-1 rounded mr-2",children:b+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:y.description}),y.scope&&s.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-line mt-2 bg-gray-50 p-2 rounded",children:y.scope})]})]})}),s.jsxs("div",{className:"col-span-1 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Unidade"}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:y.unit})]}),s.jsxs("div",{className:"col-span-1 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Qtd."}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:y.quantity})]}),r.show_value!==!1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"col-span-2 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preo unitrio"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(y.unit_price)})]}),s.jsxs("div",{className:"col-span-2 text-right",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total"}),s.jsx("p",{className:"text-base font-bold text-teal-700",children:o(y.total_price)})]})]})]})},b))}),r.show_value!==!1&&s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 px-6 py-3 rounded-lg flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Subtotal"}),s.jsx("span",{className:"text-base font-semibold text-gray-900",children:o(r.subtotal)})]}),r.discount>0&&s.jsxs("div",{className:"bg-red-50 px-6 py-3 rounded-lg flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-red-700",children:["Desconto ",r.discount>0&&r.subtotal>0?`(${Math.round(r.discount/r.subtotal*100)}%)`:""]}),s.jsxs("span",{className:"text-base font-semibold text-red-700",children:["- ",o(r.discount_amount||r.discount)]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 text-white px-6 py-4 rounded-lg flex items-center justify-between shadow-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Valor Total"}),s.jsx("span",{className:"text-2xl font-bold",children:"TOTAL"})]}),s.jsx("span",{className:"text-3xl font-bold",children:o(r.total||r.final_total||0)})]})]})]}),r.escopo_detalhado&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-blue-50",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Escopo Detalhado do Servio"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.escopo_detalhado})]}),r.relatorio_tecnico&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-amber-50",children:[s.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:"Relatrio Tcnico"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.relatorio_tecnico})]}),r.orientacoes_servico&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-green-50",children:[s.jsx("h3",{className:"text-lg font-bold text-green-900 mb-4",children:"Orientaes de Servio"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.orientacoes_servico})]}),s.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Pagamento"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Meios de pagamento"}),s.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),r.payment.pix&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"PIX"}),s.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix})]}),(r.payment.bank||r.payment.bank_details)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Dados bancrios"}),s.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-1 text-sm",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Banco:"})," ",((c=r.payment.bank)==null?void 0:c.name)||((d=r.payment.bank_details)==null?void 0:d.bank)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Agncia:"})," ",((u=r.payment.bank)==null?void 0:u.agency)||((A=r.payment.bank_details)==null?void 0:A.agency)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Conta:"})," ",((h=r.payment.bank)==null?void 0:h.account)||((f=r.payment.bank_details)==null?void 0:f.account)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Tipo de conta:"})," ",((g=r.payment.bank)==null?void 0:g.type)||((x=r.payment.bank_details)==null?void 0:x.account_type)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Titular da conta (CPF/CNPJ):"})," ",((m=r.payment.bank)==null?void 0:m.holder)||((p=r.payment.bank_details)==null?void 0:p.holder)]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Condies de pagamento"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:r.payment.conditions})]})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-5 w-5"}),s.jsx("span",{children:"Garantia"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Condies da garantia"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Clusulas contratuais"}),s.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.contract_clauses=="string"?r.contract_clauses:Array.isArray(r.contract_clauses)?r.contract_clauses.map((y,b)=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:y.title}),s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:y.items.map((N,j)=>s.jsx("li",{children:N},j))})]},b)):""})]}),(r.additional_notes||r.additional_info)&&s.jsxs("div",{className:"px-8 py-6 bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informaes adicionais"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:r.additional_notes||r.additional_info}),s.jsxs("p",{className:"text-center text-gray-600 italic mt-4",children:[r.company.city,", ",l(r.date)]})]}),s.jsx("div",{className:"px-8 py-8 bg-white",children:s.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900",children:r.company.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.company.owner}),s.jsx("p",{className:"text-xs text-gray-500",children:"diretor tcnico"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900",children:r.client.name}),r.client.cnpj&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ ",r.client.cnpj]})]})})]})}),s.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(yn,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.email})]}),r.company.phones.map((y,b)=>s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(qn,{className:"h-4 w-4"}),s.jsx("span",{children:y})]},b))]}),r.company.social&&s.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-sm text-gray-600",children:[r.company.social.instagram&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(vT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(gT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(o0,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.website})]})]})]})]})})]})})})}function EAe({isOpen:t,onClose:e,data:r}){const[n,a]=P.useState(null);if(P.useEffect(()=>{(async()=>{const A=await u2();a(A)})()},[]),!t||!n)return null;const i=async()=>{try{await gg(r)}catch(u){console.error("Erro ao gerar PDF:",u),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},o=()=>{window.print()},l=async()=>{if(navigator.share)try{await navigator.share({title:`Ordem de Servio ${r.order_number}`,text:`Ordem de servio para ${r.client.name}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else try{await navigator.clipboard.writeText(window.location.href),alert("Link copiado para a rea de transferncia!")}catch(u){console.error("Erro ao copiar link:",u),alert("No foi possvel copiar o link. URL: "+window.location.href)}},c=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),d=u=>new Date(u).toLocaleDateString("pt-BR");return s.jsx(it,{children:s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-blue-800 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(mt,{className:"h-6 w-6 text-white"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Ordem de Servio"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:i,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Baixar PDF",children:[s.jsx(ps,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]}),s.jsxs("button",{onClick:o,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Imprimir",children:[s.jsx(zu,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),s.jsxs("button",{onClick:l,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Compartilhar",children:[s.jsx(f9,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-950 rounded-lg transition-colors",title:"Fechar",children:s.jsx(dt,{className:"h-5 w-5 text-white"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg",children:[s.jsxs("div",{className:"border-b border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-24 bg-blue-900 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white text-3xl font-bold",children:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:n.name}),s.jsx("p",{className:"text-sm text-gray-700",children:n.owner}),s.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",n.cnpj]}),s.jsx("p",{className:"text-sm text-gray-600",children:n.address}),s.jsxs("p",{className:"text-sm text-gray-600",children:[n.city,"-",n.state]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",n.zip]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:d(r.date)})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(yn,{className:"h-4 w-4"}),s.jsx("span",{children:n.email})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(qn,{className:"h-4 w-4"}),s.jsx("span",{children:n.phone})]}),n.instagram&&s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(o0,{className:"h-4 w-4"}),s.jsx("span",{children:n.instagram})]})]})]})]}),s.jsx("p",{className:"text-center text-gray-600 italic text-sm",children:"Sua satisfao  o que motiva a nossa dedicao."})]}),s.jsxs("div",{className:"bg-blue-900 text-white px-8 py-6",children:[s.jsxs("h2",{className:"text-3xl font-bold",children:["Ordem de servio ",r.order_number]}),r.title&&s.jsx("p",{className:"text-blue-100 mt-2",children:r.title})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Cliente: ",r.client.name]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.client.company_name&&s.jsx("p",{children:r.client.company_name}),r.client.cnpj&&s.jsxs("p",{children:["CNPJ: ",r.client.cnpj]}),r.client.cpf&&s.jsxs("p",{children:["CPF: ",r.client.cpf]}),r.client.address&&s.jsxs(s.Fragment,{children:[s.jsx("p",{children:r.client.address}),r.client.city&&s.jsxs("p",{children:[r.client.city,", ",r.client.state,"-",r.client.state]}),r.client.cep&&s.jsxs("p",{children:["CEP ",r.client.cep]})]}),r.client.email&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yn,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:r.client.email})]}),r.client.phone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:r.client.phone})]})]})]}),r.basic_info&&s.jsxs("div",{className:"px-8 py-6 bg-blue-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Informaes bsicas"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Prazo de execuo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Marca"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Modelo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]}),r.basic_info.equipment&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Aparelho"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.equipment})]})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Servios"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("th",{className:"text-left py-2 font-semibold text-gray-900",children:"Descrio"}),s.jsx("th",{className:"text-center py-2 font-semibold text-gray-900",children:"Unidade"}),s.jsx("th",{className:"text-right py-2 font-semibold text-gray-900",children:"Preo unitrio"}),s.jsx("th",{className:"text-center py-2 font-semibold text-gray-900",children:"Qtd."}),s.jsx("th",{className:"text-right py-2 font-semibold text-gray-900",children:"Preo"})]})}),s.jsx("tbody",{children:r.items.map((u,A)=>s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsxs("td",{className:"py-3",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:u.description}),u.scope&&s.jsxs("p",{className:"text-xs text-gray-600 mt-1 whitespace-pre-line",children:["ESCOPO:",s.jsx("br",{}),u.scope]})]}),s.jsx("td",{className:"text-center py-3 text-gray-700",children:u.unit}),s.jsx("td",{className:"text-right py-3 text-gray-900",children:c(u.unit_price)}),s.jsx("td",{className:"text-center py-3 text-gray-700",children:u.quantity}),s.jsx("td",{className:"text-right py-3 font-semibold text-gray-900",children:c(u.total_price)})]},A))})]})}),s.jsxs("div",{className:"mt-6 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Servios"}),s.jsx("span",{className:"font-semibold text-gray-900",children:c(r.subtotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold text-blue-900",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:c(r.subtotal)})]}),r.discount>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Desconto sobre servios"}),s.jsxs("span",{className:"text-gray-900",children:["- ",c(r.discount)]})]}),s.jsxs("div",{className:"bg-blue-900 text-white px-4 py-3 rounded flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:c(r.total)})]})]})]}),s.jsxs("div",{className:"px-8 py-6 bg-blue-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Pagamento"}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Meios de pagamento"}),s.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"PIX"}),s.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix||n.cnpj})]})]}),r.payment.bank_details&&s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-8 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Dados bancrios"}),s.jsxs("div",{className:"space-y-1 text-gray-900",children:[s.jsxs("p",{children:["Banco: ",r.payment.bank_details.bank]}),s.jsxs("p",{children:["Agncia: ",r.payment.bank_details.agency]}),s.jsxs("p",{children:["Conta: ",r.payment.bank_details.account]}),s.jsxs("p",{children:["Tipo de conta: ",r.payment.bank_details.account_type]}),s.jsxs("p",{children:["Titular da conta (CPF/CNPJ): ",r.payment.bank_details.holder]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Condies de pagamento"}),s.jsx("p",{className:"text-gray-900",children:r.payment.conditions})]})]})]}),r.warranty&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Garantia"}),r.warranty.period&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Perodo de garantia"}),s.jsx("p",{className:"text-gray-900",children:r.warranty.period})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm mb-2",children:"Condies da garantia"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),r.contract_clauses&&r.contract_clauses.length>0&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Clusulas contratuais"}),s.jsx("div",{className:"space-y-4 text-sm",children:r.contract_clauses.map((u,A)=>s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:u.title}),s.jsx("div",{className:"space-y-1 text-gray-700",children:u.items.map((h,f)=>s.jsx("p",{children:h},f))})]},A))})]}),r.additional_info&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Informaes adicionais"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:r.additional_info}),s.jsx("p",{className:"text-center text-gray-600 italic text-sm mt-4",children:"obrigado pela confiana, estaremos  disposio."}),s.jsxs("p",{className:"text-center font-semibold text-gray-900 mt-4",children:[r.client.city||n.city,", ",d(r.date)]})]}),s.jsx("div",{className:"px-8 py-12 bg-white",children:s.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-400 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900 text-lg",children:n.name}),s.jsx("p",{className:"text-sm text-gray-700",children:n.owner}),s.jsx("p",{className:"text-xs text-gray-500 italic",children:"diretor tcnico"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-400 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900 text-lg",children:r.client.name}),r.client.cnpj&&s.jsxs("p",{className:"text-sm text-gray-700",children:["CNPJ ",r.client.cnpj]}),r.client.cpf&&s.jsxs("p",{className:"text-sm text-gray-700",children:["CPF ",r.client.cpf]})]})})]})}),s.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600 mb-2",children:[s.jsxs("span",{children:[" ",n.email]}),s.jsxs("span",{children:[" ",n.phone]}),n.instagram&&s.jsxs("span",{children:["@",n.instagram]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:n.website||"tgarconnection.com.br"})]})]})})]})})})}const kAe=()=>{var O;const{id:t}=U3(),e=na(),[r,n]=P.useState(!0),[a,i]=P.useState(null),[o,l]=P.useState(null),[c,d]=P.useState(!1),[u,A]=P.useState(!1),[h,f]=P.useState(!1),[g,x]=P.useState(!1),[m,p]=P.useState(!1),[y,b]=P.useState([]),[N,j]=P.useState(null);P.useEffect(()=>{t&&C()},[t]);const C=async()=>{try{n(!0);const L=await fb(t);if(L){i(L);const{data:U}=await pe.from("customers").select(`
            *,
            customer_addresses(
              logradouro,
              numero,
              complemento,
              bairro,
              cidade,
              estado,
              cep
            )
          `).eq("id",L.client_id).single();l(U);const{data:M}=await pe.from("service_order_items").select("*, service_catalog:service_catalog_id(id, name, description, base_price, category)").eq("service_order_id",t),{data:Q}=await pe.from("service_order_materials").select(`
            *,
            material:material_id(name, unit)
          `).eq("service_order_id",t),{data:q}=await pe.from("service_order_labor").select(`
            *,
            employee:staff_id(id, name)
          `).eq("service_order_id",t),{data:J}=await pe.from("service_order_team").select(`
            *,
            employee:employee_id(id, name)
          `).eq("service_order_id",t);if(M&&M.length>0){const R=M.map(K=>{var Ae,ne,ie,le;const V=(Q||[]).filter(X=>X.service_order_item_id===K.id).map(X=>{var he,Me;return{nome:X.material_name||X.nome_material||((he=X.material)==null?void 0:he.name)||"Material",quantidade:X.quantity||X.quantidade||0,unidade_medida:X.material_unit||((Me=X.material)==null?void 0:Me.unit)||"un",preco_unitario:X.unit_price||X.preco_venda||0,valor_total:X.total_price||X.valor_total||0}}),ae=(q||[]).filter(X=>X.service_order_item_id===K.id).map(X=>{var he;return{nome:X.nome_funcionario||((he=X.employee)==null?void 0:he.name)||"Funcionrio",tempo_minutos:X.tempo_minutos||(X.hours?X.hours*60:0)||0,custo_hora:X.custo_hora||X.hourly_rate||0,custo_total:X.custo_total||X.total_cost||0}});return{id:K.id,service_catalog_id:K.service_catalog_id,description:K.descricao||K.notes||((Ae=K.service_catalog)==null?void 0:Ae.description)||((ne=K.service_catalog)==null?void 0:ne.name)||"",name:((ie=K.service_catalog)==null?void 0:ie.name)||K.descricao||"",descricao:K.descricao||K.notes||((le=K.service_catalog)==null?void 0:le.name)||"",escopo:K.escopo_detalhado||K.escopo||"",escopo_detalhado:K.escopo_detalhado||K.escopo||"",scope:K.escopo_detalhado||K.escopo||"",quantity:K.quantity||K.quantidade||1,quantidade:K.quantidade||K.quantity||1,unit_price:K.unit_price||K.preco_unitario||0,preco_unitario:K.preco_unitario||K.unit_price||0,total_price:K.total_price||K.preco_total||0,preco_total:K.preco_total||K.total_price||0,estimated_duration:K.estimated_duration||K.tempo_estimado_minutos||0,tempo_estimado_minutos:K.tempo_estimado_minutos||K.estimated_duration||0,materiais:V,funcionarios:ae}});i({...L,items:R,team:(J||[]).map(K=>{var V;return{id:K.id,employee_id:K.employee_id,nome:((V=K.employee)==null?void 0:V.name)||"Funcionrio",role:K.role||"",assigned_at:K.assigned_at}})})}const{data:ee}=await pe.from("bank_accounts").select("*").eq("is_default",!0).maybeSingle();ee&&b([ee]);const{data:$}=await pe.from("company_settings").select("*").maybeSingle();j($)}}catch(L){console.error("Error loading order:",L),alert("Erro ao carregar ordem de servio")}finally{n(!1)}},k=async()=>{var L;if(!a||!o){alert("Dados incompletos para gerar PDF");return}try{const{data:U}=await pe.from("company_settings").select("*").maybeSingle(),M=U?{name:U.company_name||"Sua Empresa",cnpj:U.cnpj||"00.000.000/0000-00",address:U.address||"Rua Exemplo, 123",city:U.city||"So Paulo",state:U.state||"SP",zip:U.zip_code||"00000-000",phone:U.phone||"(11) 0000-0000",email:U.email||"contato@empresa.com.br",website:U.website||"www.empresa.com.br"}:{name:"Sua Empresa",cnpj:"00.000.000/0000-00",address:"Rua Exemplo, 123",city:"So Paulo",state:"SP",zip:"00000-000",phone:"(11) 0000-0000",email:"contato@empresa.com.br",website:"www.empresa.com.br"},Q=(L=o.customer_addresses)==null?void 0:L[0],q={order_number:a.order_number||"N/A",created_at:a.created_at,status:a.status,customer:{nome_razao:o.nome_razao||o.name||"Cliente",name:o.name||o.nome_razao||"Cliente",cnpj_cpf:o.cnpj_cpf||"",email:o.email||"",telefone:o.telefone||o.phone||"",phone:o.phone||o.telefone||"",endereco:(Q==null?void 0:Q.logradouro)||o.endereco||o.address||"",address:(Q==null?void 0:Q.logradouro)||o.address||o.endereco||"",cidade:(Q==null?void 0:Q.cidade)||o.cidade||o.city||"",city:(Q==null?void 0:Q.cidade)||o.city||o.cidade||"",estado:(Q==null?void 0:Q.estado)||o.estado||o.state||"",state:(Q==null?void 0:Q.estado)||o.state||o.estado||"",cep:(Q==null?void 0:Q.cep)||o.cep||o.zip_code||"",zip_code:(Q==null?void 0:Q.cep)||o.zip_code||o.cep||""},description:a.description||"",scheduled_at:a.due_date||a.service_date,service_date:a.service_date||a.due_date,completion_date:a.completion_date,items:a.items||[],team:a.team||[],payment_method:a.payment_method||"",payment_installments:a.payment_installments||1,warranty_period:a.warranty_period||0,warranty_type:a.warranty_type||"days",warranty_terms:a.warranty_terms||"",subtotal:a.subtotal||a.total_value||0,total_value:a.total_value||0,discount_amount:a.discount_amount||a.desconto_valor||0,desconto_valor:a.desconto_valor||a.discount_amount||0,final_total:a.final_total||a.total_value||0,notes:a.notes||""};await gg(_()),alert("PDF gerado com sucesso!")}catch(U){console.error("Erro ao gerar PDF:",U),alert("Erro ao gerar PDF!")}},_=()=>{var U;if(!a||!o)return null;const L=(U=o.customer_addresses)==null?void 0:U[0];return{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.title||a.description||"",client:{name:a.client_name||o.nome_razao||o.name||"Cliente",company_name:a.client_company_name||o.nome_fantasia||"",cnpj:a.client_cnpj||o.cnpj||"",cpf:a.client_cpf||o.cpf||"",address:a.client_address||(L?`${L.logradouro}${L.numero?", "+L.numero:""}`:""),city:a.client_city||(L==null?void 0:L.cidade)||"",state:a.client_state||(L==null?void 0:L.estado)||"",cep:a.client_cep||(L==null?void 0:L.cep)||"",email:a.client_email||o.email||"",phone:a.client_phone||o.telefone||o.phone||""},basic_info:{deadline:a.prazo_execucao_dias?`${a.prazo_execucao_dias} dias`:"15 dias",brand:a.brand||"",model:a.model||"",equipment:a.equipment||""},items:(a.items||[]).map(M=>({description:M.descricao||M.service_name||M.description||M.name||"Servio",scope:M.escopo_detalhado||M.escopo||M.scope||"",unit:M.unit||M.unidade||"un.",unit_price:M.unit_price||M.preco_unitario||0,quantity:M.quantity||M.quantidade||1,total_price:M.total_price||M.preco_total||0})),subtotal:a.subtotal||a.total_value||0,discount:a.discount_amount||a.desconto_valor||0,total:a.final_total||a.total_value||0,payment:{methods:a.payment_methods||"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:a.payment_pix||(N==null?void 0:N.pix_key)||a.client_cnpj||a.client_cpf||"",bank_details:y[0]?{bank:y[0].bank_name||"Banco",agency:y[0].agency||"0001",account:y[0].account_number||"",account_type:y[0].account_type==="checking"?"Corrente":y[0].account_type==="savings"?"Poupana":"Corrente",holder:y[0].account_holder||(N==null?void 0:N.company_name)||""}:void 0,conditions:a.payment_conditions||"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":a.warranty_type==="months"?"meses":"anos"}`:"12 meses",conditions:a.warranty_terms||`Garantias referentes  sistemas de novo em tubulaes antigas, s sero vlidas, com os processos de descontaminao das tubulaes antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, s so vlidas com manuteno semestral comprovada COM LAUDO TCNICO.

Garantias extendidas pela nossa empresa, so concedidas em caso de compra das mquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter at 12 meses de acordo com o tipo e capacidade do sistema, mediante a manuteno dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:a.contract_clauses?JSON.parse(a.contract_clauses):[],additional_info:a.additional_info||"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"}},B=L=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L),T=L=>new Date(L).toLocaleDateString("pt-BR"),w=()=>{d(!0)},E=async()=>{if(t)try{A(!0),await q9(t),alert("Ordem de servio excluda com sucesso!"),e("/service-orders")}catch(L){console.error("Error deleting order:",L),alert("Erro ao excluir ordem de servio. Verifique se no h dependncias.")}finally{A(!1)}},D=()=>{d(!1)};return r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a?s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/service-orders"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wl,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Visualizar Ordem de Servio"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["OS #",a.order_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 shadow-lg",children:[s.jsx(xs,{className:"h-4 w-4"}),"Ver Oramento"]}),s.jsxs("button",{onClick:k,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 flex items-center gap-2 shadow-lg",children:[s.jsx(A9,{className:"h-4 w-4"}),"Gerar PDF OS"]}),s.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg hover:from-teal-700 hover:to-teal-800 flex items-center gap-2 shadow-lg",children:[s.jsx(xs,{className:"h-4 w-4"}),"Ver Proposta"]}),s.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 flex items-center gap-2 shadow-lg",children:[s.jsx(mt,{className:"h-4 w-4"}),"Ver Contrato"]}),s.jsxs("button",{onClick:()=>e(`/service-orders?edit=${t}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Editar"]}),s.jsxs("button",{onClick:w,className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 flex items-center gap-2 shadow-lg",children:[s.jsx(Ct,{className:"h-4 w-4"}),"Excluir"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(vn,{className:"h-5 w-5 text-blue-600"}),"Informaes do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.nome_razao)||(o==null?void 0:o.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.telefone)||(o==null?void 0:o.phone)||"N/A"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.email)||"N/A"})]}),((o==null?void 0:o.endereco)||(o==null?void 0:o.address))&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo"}),s.jsxs("p",{className:"text-gray-900",children:[(o==null?void 0:o.endereco)||(o==null?void 0:o.address),((o==null?void 0:o.cidade)||(o==null?void 0:o.city))&&`, ${(o==null?void 0:o.cidade)||(o==null?void 0:o.city)}`,((o==null?void 0:o.estado)||(o==null?void 0:o.state))&&` - ${(o==null?void 0:o.estado)||(o==null?void 0:o.state)}`,((o==null?void 0:o.cep)||(o==null?void 0:o.zip_code))&&` - CEP: ${(o==null?void 0:o.cep)||(o==null?void 0:o.zip_code)}`]})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-blue-600"}),"Detalhes da Ordem"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("p",{className:"text-gray-900",children:a.description||"Sem descrio"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Criao"}),s.jsx("p",{className:"text-gray-900",children:T(a.created_at)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista"}),s.jsx("p",{className:"text-gray-900",children:a.due_date?T(a.due_date):a.service_date?T(a.service_date):"No definida"})]})]})]})]}),a.items&&a.items.length>0&&s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5 text-blue-600"}),"Servios"]}),s.jsx("div",{className:"space-y-4",children:a.items.map((L,U)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:L.descricao||L.description||L.service_name||"Servio"}),(L.escopo_detalhado||L.escopo||L.scope)&&s.jsxs("p",{className:"text-sm text-gray-600 whitespace-pre-line mt-2",children:[s.jsx("span",{className:"font-medium",children:"Escopo: "}),L.escopo_detalhado||L.escopo||L.scope]})]}),s.jsx("span",{className:"text-lg font-bold text-green-600 ml-4",children:B(L.preco_total||L.total_price||(L.preco_unitario||L.unit_price||0)*(L.quantidade||L.quantity||1))})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm text-gray-600 mt-3",children:[s.jsxs("div",{children:["Quantidade: ",L.quantidade||L.quantity||1]}),s.jsxs("div",{children:["Preo Unit.: ",B(L.preco_unitario||L.unit_price||0)]}),s.jsxs("div",{children:["Tempo: ",L.tempo_estimado_minutos||L.estimated_time||0," min"]})]}),L.materiais&&L.materiais.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Materiais:"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:L.materiais.map((M,Q)=>s.jsxs("li",{children:[" ",M.nome," - ",M.quantidade," ",M.unidade_medida," - ",B(M.valor_total)]},Q))})]}),L.funcionarios&&L.funcionarios.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Mo de Obra:"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:L.funcionarios.map((M,Q)=>s.jsxs("li",{children:[" ",M.nome," - ",M.tempo_minutos," min - ",B(M.custo_total)]},Q))})]})]},U))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),s.jsxs("div",{className:"space-y-3",children:[a.items&&a.items.length>0&&s.jsx("div",{className:"space-y-2 pb-3 border-b",children:a.items.map((L,U)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 flex-1 mr-2",children:L.descricao||L.description||L.service_name||"Servio"}),s.jsx("span",{className:"font-medium whitespace-nowrap",children:B(L.total_price||L.total||(L.unit_price||L.price||0)*(L.quantity||1))})]},U))}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),s.jsx("span",{className:"font-semibold",children:B(a.subtotal_value||a.total_value||0)})]}),a.discount_value>0&&s.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[s.jsx("span",{children:"Desconto:"}),s.jsxs("span",{className:"font-semibold",children:["-",B(a.discount_value)]})]}),s.jsx("div",{className:"pt-3 border-t",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:B(a.total_value||0)})]})})]})]}),s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Status Atual:"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="in_progress"?"bg-blue-100 text-blue-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status==="completed"?"Concluda":a.status==="in_progress"?"Em Andamento":a.status==="pending"?"Pendente":a.status})})]})})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Ct,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Servio"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Esta ao no pode ser desfeita"})]})]})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Voc est prestes a excluir a seguinte OS:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Nmero:"})," ",a==null?void 0:a.order_number]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Cliente:"})," ",(o==null?void 0:o.nome_razao)||(o==null?void 0:o.name)]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Servio:"})," ",a==null?void 0:a.service_type]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Valor:"})," ",B((a==null?void 0:a.total_cost)||0)]})]})]})]})}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:" Ateno!"}),s.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados sero permanentemente removidos do sistema. Esta ao  irreversvel."})]})]})}),s.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:D,disabled:u,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:E,disabled:u,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-5 w-5"}),"Confirmar Excluso"]})})]})]})]})}),s.jsx(Rue,{isOpen:h,onClose:()=>f(!1),serviceOrderId:t||""}),a&&o&&s.jsxs(s.Fragment,{children:[s.jsx(EAe,{isOpen:m,onClose:()=>p(!1),data:_()}),s.jsx(SAe,{isOpen:g,onClose:()=>x(!1),data:{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.description||"",client:{name:o.nome_razao||o.name||"Cliente",company_name:o.nome_razao,cnpj:o.cnpj_cpf,address:(()=>{var U;const L=(U=o.customer_addresses)==null?void 0:U[0];return L?`${L.logradouro}${L.numero?", "+L.numero:""}${L.complemento?" - "+L.complemento:""}`:o.address_street?`${o.address_street}${o.address_number?", "+o.address_number:""}${o.address_complement?" - "+o.address_complement:""}`:o.endereco||o.address})(),city:(()=>{var U;const L=(U=o.customer_addresses)==null?void 0:U[0];return(L==null?void 0:L.cidade)||o.address_city||o.cidade||o.city})(),state:(()=>{var U;const L=(U=o.customer_addresses)==null?void 0:U[0];return(L==null?void 0:L.estado)||o.address_state||o.estado||o.state})(),cep:(()=>{var U;const L=(U=o.customer_addresses)==null?void 0:U[0];return(L==null?void 0:L.cep)||o.address_zip_code||o.cep||o.zip_code})(),email:o.email,phone:o.telefone||o.phone},company:{name:(N==null?void 0:N.company_name)||"Giartech Solues",owner:(N==null?void 0:N.owner_name)||"Tiago Bruno Giaquinto",cnpj:(N==null?void 0:N.cnpj)||"375.098.970",address:(N==null?void 0:N.address)||"Rua Quito 14, 14",city:(N==null?void 0:N.city)||"So Paulo",state:(N==null?void 0:N.state)||"SP",cep:N==null?void 0:N.zip_code,email:(N==null?void 0:N.email)||"giartechsolucoes@gmail.com",phones:N!=null&&N.phone?[N.phone]:["+351 511 966 617","+351 511 943 985"],social:{instagram:"@tg.arconnection",facebook:"@tgarconnection",website:"tgarconnection.com.br"},tagline:"Sua satisfao  o que motiva a nossa dedicao"},basic_info:{deadline:a.estimated_hours?`${a.estimated_hours} horas`:"3 DIAS",brand:a.equipment_brand,model:a.equipment_model},items:(a.items||[]).map(L=>{var U,M;return{description:((U=L.service_catalog)==null?void 0:U.name)||L.service_name||L.name||L.descricao||L.description||"Servio",scope:L.notes||((M=L.service_catalog)==null?void 0:M.description)||L.scope||L.description||"",unit:L.unit||"un.",unit_price:L.unit_price||L.preco_unitario||L.price||0,quantity:L.quantity||L.quantidade||1,total_price:L.total_price||L.preco_total||(L.unit_price||L.preco_unitario||L.price||0)*(L.quantity||L.quantidade||1)}}),subtotal:a.subtotal_value||a.total_value||0,discount:a.discount_value||a.desconto_valor||0,total:a.total_value||0,show_value:a.show_value!==!1,relatorio_tecnico:a.relatorio_tecnico,orientacoes_servico:a.orientacoes_servico,escopo_detalhado:a.escopo_detalhado,payment:{methods:a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia Bancria":"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:((O=y[0])==null?void 0:O.pix_key)||(N==null?void 0:N.cnpj),bank_details:y[0]?{bank:y[0].bank_name,agency:y[0].agency,account:y[0].account_number,account_type:y[0].account_type==="checking"?"Corrente":"Poupana",holder:y[0].account_holder}:void 0,conditions:a.payment_installments&&a.payment_installments>1?`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia":"Diversos"}
Parcelas: ${a.payment_installments}x
LINK DE PAGAMENTO EM ${a.payment_installments}X SEM JUROS / DEMAIS PARCELAS INCIDNCIA DE JUROS DA MQUINA
 VISTA 5% DE DESCONTO`:`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia":" Vista"}
Pagamento  vista com 5% de desconto`},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":"meses"}`:"90 dias",conditions:a.warranty_terms||`Garantias referentes  sistemas de novo em tubulaes antigas, s sero vlidas, com os processos de descontaminao das tubulaes antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, s so vlidas com manuteno semestral comprovada COM LAUDO TCNICO.

Garantias extendidas pela nossa empresa, so concedidas em caso de compra das mquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter at 12 meses de acordo com o tipo e capacidade do sistema, mediante a manuteno dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:`1. Obrigaes do Cliente
1.1. O cliente deve fornecer todas as informaes necessrias para a execuo adequada dos servios contratados, incluindo, mas no se limitando a, especificaes tcnicas, localizao e horrios preferenciais para a realizao dos servios, como tambm a planta do imvel e projeto arquitetnico.
1.2. O cliente deve garantir o acesso seguro e adequado s instalaes onde os servios sero realizados.
1.3. O cliente deve comunicar prontamente qualquer problema ou defeito observado nos servios prestados.
1.4.  de responsabilidade do cliente o destelhamento e reinstalao do telhado.

2. Obrigaes do Contratante
2.1. O contratante deve realizar os servios de acordo com as especificaes tcnicas fornecidas pelo cliente e de acordo com os padres da indstria.
2.2. O contratante deve cumprir todos os prazos acordados para a execuo dos servios.
2.3. O contratante deve manter o cliente informado sobre o progresso dos servios e quaisquer problemas ou atrasos que possam surgir.

3. Regras de Resciso
3.1. Ambas as partes tm o direito de rescindir o contrato a qualquer momento, com um aviso prvio de 30 dias.
3.2. Em caso de violao de qualquer uma das obrigaes estabelecidas neste contrato, a parte no infratora tem o direito de rescindir o contrato imediatamente, sem necessidade de aviso prvio.

4. Regras Gerais
4.1. Este contrato no cria qualquer relao de parceria, joint venture, emprego ou agncia entre as partes.
4.2. Nenhuma das partes pode ceder ou transferir seus direitos ou obrigaes sob este contrato sem o consentimento prvio por escrito da outra parte.
4.3. Este contrato constitui o acordo completo entre as partes e substitui todos os acordos anteriores, escritos ou orais, relacionados ao seu objeto.`,additional_info:a.notes||`Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana

obrigado pela confiana, estaremos  disposio.`}})]})]}):s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Ordem de servio no encontrada"}),s.jsx("button",{onClick:()=>e("/service-orders"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var L4=function(t,e){return L4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},L4(t,e)};function lo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");L4(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var M4=function(){return M4=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},M4.apply(this,arguments)};function qs(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,[])).next())})}function Bs(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zy(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var Rl=function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),h2=function(t,e){return Rl.fromClientRect(t,e.getBoundingClientRect())},PAe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Rl(0,0,n,a)},f2=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},hn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},jO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",FAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ev=0;ev<jO.length;ev++)FAe[jO.charCodeAt(ev)]=ev;var NO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tv=0;tv<NO.length;tv++)Rp[NO.charCodeAt(tv)]=tv;var TAe=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=Rp[t.charCodeAt(n)],o=Rp[t.charCodeAt(n+1)],l=Rp[t.charCodeAt(n+2)],c=Rp[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},OAe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},IAe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ku=5,OE=11,E_=2,DAe=OE-ku,_H=65536>>ku,LAe=1<<ku,k_=LAe-1,MAe=1024>>ku,UAe=_H+MAe,RAe=UAe,QAe=32,$Ae=RAe+QAe,HAe=65536>>OE,qAe=1<<DAe,zAe=qAe-1,_O=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},VAe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},KAe=function(t,e){var r=TAe(t),n=Array.isArray(r)?IAe(r):new Uint32Array(r),a=Array.isArray(r)?OAe(r):new Uint16Array(r),i=24,o=_O(a,i/2,n[4]/2),l=n[5]===2?_O(a,(i+n[4])/2):VAe(n,Math.ceil((i+n[4])/4));return new WAe(n[0],n[1],n[2],n[3],o,l)},WAe=function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ku],r=(r<<E_)+(e&k_),this.data[r];if(e<=65535)return r=this.index[_H+(e-55296>>ku)],r=(r<<E_)+(e&k_),this.data[r];if(e<this.highStart)return r=$Ae-HAe+(e>>OE),r=this.index[r],r+=e>>ku&zAe,r=this.index[r],r=(r<<E_)+(e&k_),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),CO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rv=0;rv<CO.length;rv++)GAe[CO.charCodeAt(rv)]=rv;var XAe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",BO=50,YAe=1,CH=2,BH=3,JAe=4,ZAe=5,SO=7,SH=8,EO=9,Lc=10,U4=11,kO=12,R4=13,ehe=14,Qp=15,Q4=16,nv=17,up=18,the=19,PO=20,$4=21,Ap=22,P_=23,JA=24,ka=25,$p=26,Hp=27,ZA=28,rhe=29,ou=30,nhe=31,sv=32,av=33,H4=34,q4=35,z4=36,h0=37,V4=38,yb=39,vb=40,F_=41,EH=42,she=43,ahe=[9001,65288],kH="!",Kt="",iv="",K4=KAe(XAe),al=[ou,z4],W4=[YAe,CH,BH,ZAe],PH=[Lc,SH],FO=[Hp,$p],ihe=W4.concat(PH),TO=[V4,yb,vb,H4,q4],ohe=[Qp,R4],lhe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(i,o){var l=K4.get(i);if(l>BO?(a.push(!0),l-=BO):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(Q4);if(l===JAe||l===U4){if(o===0)return n.push(o),r.push(ou);var c=r[o-1];return ihe.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(ou))}if(n.push(o),l===nhe)return r.push(e==="strict"?$4:h0);if(l===EH||l===rhe)return r.push(ou);if(l===she)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(h0):r.push(ou);r.push(l)}),[n,r,a]},T_=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===e)return!0;if(o!==Lc)break}if(a===Lc)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==Lc)break}if(l!==Lc)break}return!1},OO=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Lc)r--;else return n}return 0},che=function(t,e,r,n,a){if(r[n]===0)return Kt;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return Kt;var o=i-1,l=i+1,c=e[i],d=o>=0?e[o]:0,u=e[l];if(c===CH&&u===BH)return Kt;if(W4.indexOf(c)!==-1)return kH;if(W4.indexOf(u)!==-1||PH.indexOf(u)!==-1)return Kt;if(OO(i,e)===SH)return iv;if(K4.get(t[i])===U4||(c===sv||c===av)&&K4.get(t[l])===U4||c===SO||u===SO||c===EO||[Lc,R4,Qp].indexOf(c)===-1&&u===EO||[nv,up,the,JA,ZA].indexOf(u)!==-1||OO(i,e)===Ap||T_(P_,Ap,i,e)||T_([nv,up],$4,i,e)||T_(kO,kO,i,e))return Kt;if(c===Lc)return iv;if(c===P_||u===P_)return Kt;if(u===Q4||c===Q4)return iv;if([R4,Qp,$4].indexOf(u)!==-1||c===ehe||d===z4&&ohe.indexOf(c)!==-1||c===ZA&&u===z4||u===PO||al.indexOf(u)!==-1&&c===ka||al.indexOf(c)!==-1&&u===ka||c===Hp&&[h0,sv,av].indexOf(u)!==-1||[h0,sv,av].indexOf(c)!==-1&&u===$p||al.indexOf(c)!==-1&&FO.indexOf(u)!==-1||FO.indexOf(c)!==-1&&al.indexOf(u)!==-1||[Hp,$p].indexOf(c)!==-1&&(u===ka||[Ap,Qp].indexOf(u)!==-1&&e[l+1]===ka)||[Ap,Qp].indexOf(c)!==-1&&u===ka||c===ka&&[ka,ZA,JA].indexOf(u)!==-1)return Kt;if([ka,ZA,JA,nv,up].indexOf(u)!==-1)for(var A=i;A>=0;){var h=e[A];if(h===ka)return Kt;if([ZA,JA].indexOf(h)!==-1)A--;else break}if([Hp,$p].indexOf(u)!==-1)for(var A=[nv,up].indexOf(c)!==-1?o:i;A>=0;){var h=e[A];if(h===ka)return Kt;if([ZA,JA].indexOf(h)!==-1)A--;else break}if(V4===c&&[V4,yb,H4,q4].indexOf(u)!==-1||[yb,H4].indexOf(c)!==-1&&[yb,vb].indexOf(u)!==-1||[vb,q4].indexOf(c)!==-1&&u===vb||TO.indexOf(c)!==-1&&[PO,$p].indexOf(u)!==-1||TO.indexOf(u)!==-1&&c===Hp||al.indexOf(c)!==-1&&al.indexOf(u)!==-1||c===JA&&al.indexOf(u)!==-1||al.concat(ka).indexOf(c)!==-1&&u===Ap&&ahe.indexOf(t[l])===-1||al.concat(ka).indexOf(u)!==-1&&c===up)return Kt;if(c===F_&&u===F_){for(var f=r[i],g=1;f>0&&(f--,e[f]===F_);)g++;if(g%2!==0)return Kt}return c===sv&&u===av?Kt:iv},dhe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=lhe(t,e.lineBreak),n=r[0],a=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[ka,ou,EH].indexOf(l)!==-1?h0:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},uhe=function(){function t(e,r,n,a){this.codePoints=e,this.required=r===kH,this.start=n,this.end=a}return t.prototype.slice=function(){return hn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Ahe=function(t,e){var r=f2(t),n=dhe(r,e),a=n[0],i=n[1],o=n[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=Kt;d<l&&(u=che(r,i,a,++d,o))===Kt;);if(u!==Kt||d===l){var A=new uhe(r,u,c,d);return c=d,{value:A,done:!1}}return{done:!0,value:null}}}},hhe=1,fhe=2,vx=4,IO=8,fw=10,DO=47,yg=92,mhe=9,phe=32,ov=34,hp=61,ghe=35,xhe=36,yhe=37,lv=39,cv=40,fp=41,vhe=95,Aa=45,bhe=33,whe=60,jhe=62,Nhe=64,_he=91,Che=93,Bhe=61,She=123,dv=63,Ehe=125,LO=124,khe=126,Phe=128,MO=65533,O_=42,pu=43,Fhe=44,The=58,Ohe=59,f0=46,Ihe=0,Dhe=8,Lhe=11,Mhe=14,Uhe=31,Rhe=127,wo=-1,FH=48,TH=97,OH=101,Qhe=102,$he=117,Hhe=122,IH=65,DH=69,LH=70,qhe=85,zhe=90,ks=function(t){return t>=FH&&t<=57},Vhe=function(t){return t>=55296&&t<=57343},eh=function(t){return ks(t)||t>=IH&&t<=LH||t>=TH&&t<=Qhe},Khe=function(t){return t>=TH&&t<=Hhe},Whe=function(t){return t>=IH&&t<=zhe},Ghe=function(t){return Khe(t)||Whe(t)},Xhe=function(t){return t>=Phe},uv=function(t){return t===fw||t===mhe||t===phe},mw=function(t){return Ghe(t)||Xhe(t)||t===vhe},UO=function(t){return mw(t)||ks(t)||t===Aa},Yhe=function(t){return t>=Ihe&&t<=Dhe||t===Lhe||t>=Mhe&&t<=Uhe||t===Rhe},Cc=function(t,e){return t!==yg?!1:e!==fw},Av=function(t,e,r){return t===Aa?mw(e)||Cc(e,r):mw(t)?!0:!!(t===yg&&Cc(t,e))},I_=function(t,e,r){return t===pu||t===Aa?ks(e)?!0:e===f0&&ks(r):ks(t===f0?e:t)},Jhe=function(t){var e=0,r=1;(t[e]===pu||t[e]===Aa)&&(t[e]===Aa&&(r=-1),e++);for(var n=[];ks(t[e]);)n.push(t[e++]);var a=n.length?parseInt(hn.apply(void 0,n),10):0;t[e]===f0&&e++;for(var i=[];ks(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(hn.apply(void 0,i),10):0;(t[e]===DH||t[e]===OH)&&e++;var c=1;(t[e]===pu||t[e]===Aa)&&(t[e]===Aa&&(c=-1),e++);for(var d=[];ks(t[e]);)d.push(t[e++]);var u=d.length?parseInt(hn.apply(void 0,d),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},Zhe={type:2},efe={type:3},tfe={type:4},rfe={type:13},nfe={type:8},sfe={type:21},afe={type:9},ife={type:10},ofe={type:11},lfe={type:12},cfe={type:14},hv={type:23},dfe={type:1},ufe={type:25},Afe={type:24},hfe={type:26},ffe={type:27},mfe={type:28},pfe={type:29},gfe={type:31},G4={type:32},MH=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(f2(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==G4;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case ov:return this.consumeStringToken(ov);case ghe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(UO(r)||Cc(n,a)){var i=Av(r,n,a)?fhe:hhe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case xhe:if(this.peekCodePoint(0)===hp)return this.consumeCodePoint(),rfe;break;case lv:return this.consumeStringToken(lv);case cv:return Zhe;case fp:return efe;case O_:if(this.peekCodePoint(0)===hp)return this.consumeCodePoint(),cfe;break;case pu:if(I_(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Fhe:return tfe;case Aa:var l=e,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(I_(l,c,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Av(l,c,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Aa&&d===jhe)return this.consumeCodePoint(),this.consumeCodePoint(),Afe;break;case f0:if(I_(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case DO:if(this.peekCodePoint(0)===O_)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===O_&&(u=this.consumeCodePoint(),u===DO))return this.consumeToken();if(u===wo)return this.consumeToken()}break;case The:return hfe;case Ohe:return ffe;case whe:if(this.peekCodePoint(0)===bhe&&this.peekCodePoint(1)===Aa&&this.peekCodePoint(2)===Aa)return this.consumeCodePoint(),this.consumeCodePoint(),ufe;break;case Nhe:var A=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Av(A,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case _he:return mfe;case yg:if(Cc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Che:return pfe;case Bhe:if(this.peekCodePoint(0)===hp)return this.consumeCodePoint(),nfe;break;case She:return ofe;case Ehe:return lfe;case $he:case qhe:var g=this.peekCodePoint(0),x=this.peekCodePoint(1);return g===pu&&(eh(x)||x===dv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case LO:if(this.peekCodePoint(0)===hp)return this.consumeCodePoint(),afe;if(this.peekCodePoint(0)===LO)return this.consumeCodePoint(),sfe;break;case khe:if(this.peekCodePoint(0)===hp)return this.consumeCodePoint(),ife;break;case wo:return G4}return uv(e)?(this.consumeWhiteSpace(),gfe):ks(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):mw(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:hn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();eh(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===dv&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(hn.apply(void 0,e.map(function(c){return c===dv?FH:c})),16),i=parseInt(hn.apply(void 0,e.map(function(c){return c===dv?LH:c})),16);return{type:30,start:a,end:i}}var o=parseInt(hn.apply(void 0,e),16);if(this.peekCodePoint(0)===Aa&&eh(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];eh(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(hn.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===cv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===cv?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===wo)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===lv||r===ov){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===wo||this.peekCodePoint(0)===fp)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),hv)}for(;;){var a=this.consumeCodePoint();if(a===wo||a===fp)return{type:22,value:hn.apply(void 0,e)};if(uv(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===wo||this.peekCodePoint(0)===fp?(this.consumeCodePoint(),{type:22,value:hn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),hv);if(a===ov||a===lv||a===cv||Yhe(a))return this.consumeBadUrlRemnants(),hv;if(a===yg)if(Cc(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),hv;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;uv(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===fp||e===wo)return;Cc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=hn.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===wo||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===fw)return this._value.splice(0,n),dfe;if(a===yg){var i=this._value[n+1];i!==wo&&i!==void 0&&(i===fw?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Cc(a,i)&&(r+=this.consumeStringSlice(n),r+=hn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=vx,n=this.peekCodePoint(0);for((n===pu||n===Aa)&&e.push(this.consumeCodePoint());ks(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===f0&&ks(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=IO;ks(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===DH||n===OH)&&((a===pu||a===Aa)&&ks(i)||ks(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=IO;ks(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Jhe(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Av(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===yhe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(eh(e)){for(var r=hn(e);eh(this.peekCodePoint(0))&&r.length<6;)r+=hn(this.consumeCodePoint());uv(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Vhe(n)||n>1114111?MO:n}return e===wo?MO:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(UO(r))e+=hn(r);else if(Cc(r,this.peekCodePoint(0)))e+=hn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),UH=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new MH;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||yfe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?G4:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),bx=function(t){return t.type===15},om=function(t){return t.type===17},vr=function(t){return t.type===20},xfe=function(t){return t.type===0},X4=function(t,e){return vr(t)&&t.value===e},RH=function(t){return t.type!==31},jf=function(t){return t.type!==31&&t.type!==4},Ho=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},yfe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},hd=function(t){return t.type===17||t.type===15},kn=function(t){return t.type===16||hd(t)},QH=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},fs={type:17,number:0,flags:vx},IE={type:16,number:50,flags:vx},Mc={type:16,number:100,flags:vx},qp=function(t,e,r){var n=t[0],a=t[1];return[kr(n,e),kr(typeof a<"u"?a:n,r)]},kr=function(t,e){if(t.type===16)return t.number/100*e;if(bx(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},$H="deg",HH="grad",qH="rad",zH="turn",m2={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case $H:return Math.PI*e.number/180;case HH:return Math.PI/200*e.number;case qH:return e.number;case zH:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},VH=function(t){return t.type===15&&(t.unit===$H||t.unit===HH||t.unit===qH||t.unit===zH)},KH=function(t){var e=t.filter(vr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[fs,fs];case"to top":case"bottom":return hi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[fs,Mc];case"to right":case"left":return hi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Mc,Mc];case"to bottom":case"top":return hi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Mc,fs];case"to left":case"right":return hi(270)}return 0},hi=function(t){return Math.PI*t/180},td={name:"color",parse:function(t,e){if(e.type===18){var r=vfe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return Uc(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return Uc(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return Uc(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return Uc(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=Sl[e.value.toUpperCase()];if(typeof l<"u")return l}return Sl.TRANSPARENT}},rd=function(t){return(255&t)===0},Jn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},Uc=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},RO=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},QO=function(t,e){var r=e.filter(jf);if(r.length===3){var n=r.map(RO),a=n[0],i=n[1],o=n[2];return Uc(a,i,o,1)}if(r.length===4){var l=r.map(RO),a=l[0],i=l[1],o=l[2],c=l[3];return Uc(a,i,o,c)}return 0};function D_(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var $O=function(t,e){var r=e.filter(jf),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?hi(n.number):m2.parse(t,n))/(Math.PI*2),c=kn(a)?a.number/100:0,d=kn(i)?i.number/100:0,u=typeof o<"u"&&kn(o)?kr(o,1):1;if(c===0)return Uc(d*255,d*255,d*255,1);var A=d<=.5?d*(c+1):d+c-d*c,h=d*2-A,f=D_(h,A,l+1/3),g=D_(h,A,l),x=D_(h,A,l-1/3);return Uc(f*255,g*255,x*255,u)},vfe={hsl:$O,hsla:$O,rgb:QO,rgba:QO},vg=function(t,e){return td.parse(t,UH.create(e).parseComponentValue())},Sl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},bfe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(vr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wfe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},p2=function(t,e){var r=td.parse(t,e[0]),n=e[1];return n&&kn(n)?{color:r,stop:n}:{color:r,stop:null}},HO=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=fs),n.stop===null&&(n.stop=Mc);for(var a=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=kr(l,e);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var A=o-d,h=a[d-1],f=(u-h)/(A+1),g=1;g<=A;g++)a[d+g-1]=f*g;d=null}}return t.map(function(x,m){var p=x.color;return{color:p,stop:Math.max(Math.min(1,a[m]/e),0)}})},jfe=function(t,e,r){var n=e/2,a=r/2,i=kr(t[0],e)-n,o=a-kr(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Nfe=function(t,e,r){var n=typeof t=="number"?t:jfe(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},Hi=function(t,e){return Math.sqrt(t*t+e*e)},qO=function(t,e,r,n,a){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=Hi(r-c,n-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},_fe=function(t,e,r,n,a){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)i=o=Math.min(Hi(e,r),Hi(e,r-a),Hi(e-n,r),Hi(e-n,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=qO(n,a,e,r,!0),d=c[0],u=c[1];i=Hi(d-e,(u-r)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)i=o=Math.max(Hi(e,r),Hi(e,r-a),Hi(e-n,r),Hi(e-n,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),A=qO(n,a,e,r,!1),d=A[0],u=A[1];i=Hi(d-e,(u-r)/l),o=l*i}break}return Array.isArray(t.size)&&(i=kr(t.size[0],n),o=t.size.length===2?kr(t.size[1],a):i),[i,o]},Cfe=function(t,e){var r=hi(180),n=[];return Ho(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=KH(a);return}else if(VH(o)){r=m2.parse(t,o);return}}var l=p2(t,a);n.push(l)}),{angle:r,stops:n,type:1}},fv=function(t,e){var r=hi(180),n=[];return Ho(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=KH(a);return}else if(VH(o)){r=(m2.parse(t,o)+hi(270))%hi(360);return}}var l=p2(t,a);n.push(l)}),{angle:r,stops:n,type:1}},Bfe=function(t,e){var r=hi(180),n=[],a=1,i=0,o=3,l=[];return Ho(e).forEach(function(c,d){var u=c[0];if(d===0){if(vr(u)&&u.value==="linear"){a=1;return}else if(vr(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var A=td.parse(t,u.values[0]);n.push({stop:fs,color:A})}else if(u.name==="to"){var A=td.parse(t,u.values[0]);n.push({stop:Mc,color:A})}else if(u.name==="color-stop"){var h=u.values.filter(jf);if(h.length===2){var A=td.parse(t,h[1]),f=h[0];om(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:A})}}}}),a===1?{angle:(r+hi(180))%hi(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},WH="closest-side",GH="farthest-side",XH="closest-corner",YH="farthest-corner",JH="circle",ZH="ellipse",eq="cover",tq="contain",Sfe=function(t,e){var r=0,n=3,a=[],i=[];return Ho(e).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(A,h){if(d)if(vr(h))switch(h.value){case"center":return i.push(IE),A;case"top":case"left":return i.push(fs),A;case"right":case"bottom":return i.push(Mc),A}else(kn(h)||hd(h))&&i.push(h);else if(vr(h))switch(h.value){case JH:return r=0,!1;case ZH:return r=1,!1;case"at":return d=!0,!1;case WH:return n=0,!1;case eq:case GH:return n=1,!1;case tq:case XH:return n=2,!1;case YH:return n=3,!1}else if(hd(h)||kn(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return A},c)}if(c){var u=p2(t,o);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},mv=function(t,e){var r=0,n=3,a=[],i=[];return Ho(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,A){if(vr(A))switch(A.value){case"center":return i.push(IE),!1;case"top":case"left":return i.push(fs),!1;case"right":case"bottom":return i.push(Mc),!1}else if(kn(A)||hd(A))return i.push(A),!1;return u},c):l===1&&(c=o.reduce(function(u,A){if(vr(A))switch(A.value){case JH:return r=0,!1;case ZH:return r=1,!1;case tq:case WH:return n=0,!1;case GH:return n=1,!1;case XH:return n=2,!1;case eq:case YH:return n=3,!1}else if(hd(A)||kn(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return u},c)),c){var d=p2(t,o);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},Efe=function(t){return t.type===1},kfe=function(t){return t.type===2},DE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=rq[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Pfe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!rq[t.name])}var rq={"linear-gradient":Cfe,"-moz-linear-gradient":fv,"-ms-linear-gradient":fv,"-o-linear-gradient":fv,"-webkit-linear-gradient":fv,"radial-gradient":Sfe,"-moz-radial-gradient":mv,"-ms-radial-gradient":mv,"-o-radial-gradient":mv,"-webkit-radial-gradient":mv,"-webkit-gradient":Bfe},Ffe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return jf(n)&&Pfe(n)}).map(function(n){return DE.parse(t,n)})}},Tfe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(vr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ofe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Ho(e).map(function(r){return r.filter(kn)}).map(QH)}},Ife={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Ho(e).map(function(r){return r.filter(vr).map(function(n){return n.value}).join(" ")}).map(Dfe)}},Dfe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sf;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(sf||(sf={}));var Lfe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Ho(e).map(function(r){return r.filter(Mfe)})}},Mfe=function(t){return vr(t)||kn(t)},g2=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ufe=g2("top"),Rfe=g2("right"),Qfe=g2("bottom"),$fe=g2("left"),x2=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return QH(r.filter(kn))}}},Hfe=x2("top-left"),qfe=x2("top-right"),zfe=x2("bottom-right"),Vfe=x2("bottom-left"),y2=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Kfe=y2("top"),Wfe=y2("right"),Gfe=y2("bottom"),Xfe=y2("left"),v2=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return bx(r)?r.number:0}}},Yfe=v2("top"),Jfe=v2("right"),Zfe=v2("bottom"),eme=v2("left"),tme={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},rme={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},nme={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).reduce(function(r,n){return r|sme(n.value)},0)}},sme=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ame={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ime={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},pw;(function(t){t.NORMAL="normal",t.STRICT="strict"})(pw||(pw={}));var ome={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return pw.STRICT;case"normal":default:return pw.NORMAL}}},lme={name:"line-height",initialValue:"normal",prefix:!1,type:4},zO=function(t,e){return vr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:kn(t)?kr(t,e):e},cme={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:DE.parse(t,e)}},dme={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Y4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},b2=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},ume=b2("top"),Ame=b2("right"),hme=b2("bottom"),fme=b2("left"),mme={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},pme={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},w2=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},gme=w2("top"),xme=w2("right"),yme=w2("bottom"),vme=w2("left"),bme={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},wme={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},jme={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&X4(e[0],"none")?[]:Ho(e).map(function(r){for(var n={color:Sl.TRANSPARENT,offsetX:fs,offsetY:fs,blur:fs},a=0,i=0;i<r.length;i++){var o=r[i];hd(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=td.parse(t,o)}return n})}},Nme={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_me={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=Sme[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Cme=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Bme=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,a,i,o,l]:null},Sme={matrix:Cme,matrix3d:Bme},VO={type:16,number:50,flags:vx},Eme=[VO,VO],kme={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(kn);return r.length!==2?Eme:[r[0],r[1]]}},Pme={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},bg;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(bg||(bg={}));var Fme={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return bg.BREAK_ALL;case"keep-all":return bg.KEEP_ALL;case"normal":default:return bg.NORMAL}}},Tme={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(om(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},nq={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Ome={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return om(e)?e.number:1}},Ime={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dme={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(vr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Lme={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Mme={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ume={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(om(e))return e.number;if(vr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Rme={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(vr).map(function(r){return r.value})}},Qme={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},$n=function(t,e){return(t&e)!==0},$me={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Hme={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter(RH),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&om(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},qme={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(RH),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(vr(i)&&i.value!=="none"){var l=o&&om(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},zme={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(bx).map(function(r){return nq.parse(t,r)})}},Vme={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(xfe);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},KO=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},Kme={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&X4(e[0],"none")?[]:Ho(e).map(function(r){for(var n={color:255,offsetX:fs,offsetY:fs,blur:fs,spread:fs,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];X4(o,"inset")?n.inset=!0:hd(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=td.parse(t,o)}return n})}},Wme={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(vr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},Gme={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Xme={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return bx(e)?e.number:0}},Yme=function(){function t(e,r){var n,a;this.animationDuration=at(e,zme,r.animationDuration),this.backgroundClip=at(e,bfe,r.backgroundClip),this.backgroundColor=at(e,wfe,r.backgroundColor),this.backgroundImage=at(e,Ffe,r.backgroundImage),this.backgroundOrigin=at(e,Tfe,r.backgroundOrigin),this.backgroundPosition=at(e,Ofe,r.backgroundPosition),this.backgroundRepeat=at(e,Ife,r.backgroundRepeat),this.backgroundSize=at(e,Lfe,r.backgroundSize),this.borderTopColor=at(e,Ufe,r.borderTopColor),this.borderRightColor=at(e,Rfe,r.borderRightColor),this.borderBottomColor=at(e,Qfe,r.borderBottomColor),this.borderLeftColor=at(e,$fe,r.borderLeftColor),this.borderTopLeftRadius=at(e,Hfe,r.borderTopLeftRadius),this.borderTopRightRadius=at(e,qfe,r.borderTopRightRadius),this.borderBottomRightRadius=at(e,zfe,r.borderBottomRightRadius),this.borderBottomLeftRadius=at(e,Vfe,r.borderBottomLeftRadius),this.borderTopStyle=at(e,Kfe,r.borderTopStyle),this.borderRightStyle=at(e,Wfe,r.borderRightStyle),this.borderBottomStyle=at(e,Gfe,r.borderBottomStyle),this.borderLeftStyle=at(e,Xfe,r.borderLeftStyle),this.borderTopWidth=at(e,Yfe,r.borderTopWidth),this.borderRightWidth=at(e,Jfe,r.borderRightWidth),this.borderBottomWidth=at(e,Zfe,r.borderBottomWidth),this.borderLeftWidth=at(e,eme,r.borderLeftWidth),this.boxShadow=at(e,Kme,r.boxShadow),this.color=at(e,tme,r.color),this.direction=at(e,rme,r.direction),this.display=at(e,nme,r.display),this.float=at(e,ame,r.cssFloat),this.fontFamily=at(e,Lme,r.fontFamily),this.fontSize=at(e,Mme,r.fontSize),this.fontStyle=at(e,Qme,r.fontStyle),this.fontVariant=at(e,Rme,r.fontVariant),this.fontWeight=at(e,Ume,r.fontWeight),this.letterSpacing=at(e,ime,r.letterSpacing),this.lineBreak=at(e,ome,r.lineBreak),this.lineHeight=at(e,lme,r.lineHeight),this.listStyleImage=at(e,cme,r.listStyleImage),this.listStylePosition=at(e,dme,r.listStylePosition),this.listStyleType=at(e,Y4,r.listStyleType),this.marginTop=at(e,ume,r.marginTop),this.marginRight=at(e,Ame,r.marginRight),this.marginBottom=at(e,hme,r.marginBottom),this.marginLeft=at(e,fme,r.marginLeft),this.opacity=at(e,Ome,r.opacity);var i=at(e,mme,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=at(e,pme,r.overflowWrap),this.paddingTop=at(e,gme,r.paddingTop),this.paddingRight=at(e,xme,r.paddingRight),this.paddingBottom=at(e,yme,r.paddingBottom),this.paddingLeft=at(e,vme,r.paddingLeft),this.paintOrder=at(e,Wme,r.paintOrder),this.position=at(e,wme,r.position),this.textAlign=at(e,bme,r.textAlign),this.textDecorationColor=at(e,Ime,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=at(e,Dme,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=at(e,jme,r.textShadow),this.textTransform=at(e,Nme,r.textTransform),this.transform=at(e,_me,r.transform),this.transformOrigin=at(e,kme,r.transformOrigin),this.visibility=at(e,Pme,r.visibility),this.webkitTextStrokeColor=at(e,Gme,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=at(e,Xme,r.webkitTextStrokeWidth),this.wordBreak=at(e,Fme,r.wordBreak),this.zIndex=at(e,Tme,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return rd(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return $n(this.display,4)||$n(this.display,33554432)||$n(this.display,268435456)||$n(this.display,536870912)||$n(this.display,67108864)||$n(this.display,134217728)},t}(),Jme=function(){function t(e,r){this.content=at(e,$me,r.content),this.quotes=at(e,Vme,r.quotes)}return t}(),WO=function(){function t(e,r){this.counterIncrement=at(e,Hme,r.counterIncrement),this.counterReset=at(e,qme,r.counterReset)}return t}(),at=function(t,e,r){var n=new MH,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var i=new UH(n.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,vr(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return m2.parse(t,i.parseComponentValue());case"color":return td.parse(t,i.parseComponentValue());case"image":return DE.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return hd(l)?l:fs;case"length-percentage":var c=i.parseComponentValue();return kn(c)?c:fs;case"time":return nq.parse(t,i.parseComponentValue())}break}},Zme="data-html2canvas-debug",epe=function(t){var e=t.getAttribute(Zme);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},J4=function(t,e){var r=epe(t);return r===1||e===r},qo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,J4(r,3))debugger;this.styles=new Yme(e,window.getComputedStyle(r,null)),tB(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=h2(this.context,r),J4(r,4)&&(this.flags|=16)}return t}(),tpe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",GO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pv=0;pv<GO.length;pv++)zp[GO.charCodeAt(pv)]=pv;var rpe=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=zp[t.charCodeAt(n)],o=zp[t.charCodeAt(n+1)],l=zp[t.charCodeAt(n+2)],c=zp[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},npe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},spe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Pu=5,LE=11,L_=2,ape=LE-Pu,sq=65536>>Pu,ipe=1<<Pu,M_=ipe-1,ope=1024>>Pu,lpe=sq+ope,cpe=lpe,dpe=32,upe=cpe+dpe,Ape=65536>>LE,hpe=1<<ape,fpe=hpe-1,XO=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},mpe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},ppe=function(t,e){var r=rpe(t),n=Array.isArray(r)?spe(r):new Uint32Array(r),a=Array.isArray(r)?npe(r):new Uint16Array(r),i=24,o=XO(a,i/2,n[4]/2),l=n[5]===2?XO(a,(i+n[4])/2):mpe(n,Math.ceil((i+n[4])/4));return new gpe(n[0],n[1],n[2],n[3],o,l)},gpe=function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Pu],r=(r<<L_)+(e&M_),this.data[r];if(e<=65535)return r=this.index[sq+(e-55296>>Pu)],r=(r<<L_)+(e&M_),this.data[r];if(e<this.highStart)return r=upe-Ape+(e>>LE),r=this.index[r],r+=e>>Pu&fpe,r=this.index[r],r=(r<<L_)+(e&M_),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),YO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gv=0;gv<YO.length;gv++)xpe[YO.charCodeAt(gv)]=gv;var ype=1,U_=2,R_=3,JO=4,ZO=5,vpe=7,eI=8,Q_=9,$_=10,tI=11,rI=12,nI=13,sI=14,H_=15,bpe=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},wpe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},jpe=ppe(tpe),ai="",q_="",Npe=function(t){return jpe.get(t)},_pe=function(t,e,r){var n=r-2,a=e[n],i=e[r-1],o=e[r];if(i===U_&&o===R_)return ai;if(i===U_||i===R_||i===JO||o===U_||o===R_||o===JO)return q_;if(i===eI&&[eI,Q_,tI,rI].indexOf(o)!==-1||(i===tI||i===Q_)&&(o===Q_||o===$_)||(i===rI||i===$_)&&o===$_||o===nI||o===ZO||o===vpe||i===ype)return ai;if(i===nI&&o===sI){for(;a===ZO;)a=e[--n];if(a===sI)return ai}if(i===H_&&o===H_){for(var l=0;a===H_;)l++,a=e[--n];if(l%2===0)return ai}return q_},Cpe=function(t){var e=bpe(t),r=e.length,n=0,a=0,i=e.map(Npe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=ai;n<r&&(o=_pe(e,i,++n))===ai;);if(o!==ai||n===r){var l=wpe.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},Bpe=function(t){for(var e=Cpe(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Spe=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(n),i===e)return!0}}return!1},Epe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=f2(n.data).map(function(c){return hn(c)}),i=0,o={},l=a.every(function(c,d){r.setStart(n,i),r.setEnd(n,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var A=u.x>o.x||u.y>o.y;return o=u,d===0?!0:A});return t.body.removeChild(e),l},kpe=function(){return typeof new Image().crossOrigin<"u"},Ppe=function(){return typeof new XMLHttpRequest().responseType=="string"},Fpe=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},aI=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Tpe=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=e.toDataURL();a.src=i;var o=Z4(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),iI(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",aI(c)?iI(Z4(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),aI(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Z4=function(t,e,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},iI=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},hs={get SUPPORT_RANGE_BOUNDS(){var t=Spe(document);return Object.defineProperty(hs,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=hs.SUPPORT_RANGE_BOUNDS&&Epe(document);return Object.defineProperty(hs,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Fpe(document);return Object.defineProperty(hs,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Tpe(document):Promise.resolve(!1);return Object.defineProperty(hs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=kpe();return Object.defineProperty(hs,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Ppe();return Object.defineProperty(hs,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(hs,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(hs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},wg=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Ope=function(t,e,r,n){var a=Lpe(e,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(hs.SUPPORT_RANGE_BOUNDS){var c=oI(n,o,l.length).getClientRects();if(c.length>1){var d=ME(l),u=0;d.forEach(function(h){i.push(new wg(h,Rl.fromDOMRectList(t,oI(n,u+o,h.length).getClientRects()))),u+=h.length})}else i.push(new wg(l,Rl.fromDOMRectList(t,c)))}else{var A=n.splitText(l.length);i.push(new wg(l,Ipe(t,n))),n=A}else hs.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},Ipe=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var i=h2(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return Rl.EMPTY},oI=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},ME=function(t){if(hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Bpe(t)},Dpe=function(t,e){if(hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Upe(t,e)},Lpe=function(t,e){return e.letterSpacing!==0?ME(t):Dpe(t,e)},Mpe=[32,160,4961,65792,65793,4153,4241],Upe=function(t,e){for(var r=Ahe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=f2(o),c="";l.forEach(function(d){Mpe.indexOf(d)===-1?c+=hn(d):(c.length&&n.push(c),n.push(hn(d)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},Rpe=function(){function t(e,r,n){this.text=Qpe(r.data,n.textTransform),this.textBounds=Ope(e,this.text,n,r)}return t}(),Qpe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace($pe,Hpe);case 2:return t.toUpperCase();default:return t}},$pe=/(^|\s|:|-|\(|\))([a-z])/g,Hpe=function(t,e,r){return t.length>0?e+r.toUpperCase():t},aq=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e}(qo),iq=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e}(qo),oq=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=new XMLSerializer,o=h2(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e}(qo),lq=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(qo),eB=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e}(qo),qpe=[{type:15,flags:0,unit:"px",number:3}],zpe=[{type:16,flags:0,number:50}],Vpe=function(t){return t.width>t.height?new Rl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Rl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Kpe=function(t){var e=t.type===Wpe?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},gw="checkbox",xw="radio",Wpe="password",lI=707406591,UE=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=Kpe(n),(a.type===gw||a.type===xw)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Vpe(a.bounds)),a.type){case gw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=qpe;break;case xw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=zpe;break}return a}return e}(qo),cq=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return e}(qo),dq=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(qo),uq=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=hq(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?vg(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Sl.TRANSPARENT,o=n.contentWindow.document.body?vg(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Sl.TRANSPARENT;a.backgroundColor=rd(i)?rd(o)?a.styles.backgroundColor:o:i}}catch{}return a}return e}(qo),Gpe=["OL","UL","MENU"],bb=function(t,e,r,n){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,fq(a)&&a.data.trim().length>0)r.textNodes.push(new Rpe(t,a,r.styles));else if(Ih(a))if(xq(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return bb(t,l,r,n)});else{var o=Aq(t,a);o.styles.isVisible()&&(Xpe(a,o,n)?o.flags|=4:Ype(o.styles)&&(o.flags|=2),Gpe.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?bb(t,a.shadowRoot,o,n):!yw(a)&&!mq(a)&&!vw(a)&&bb(t,a,o,n))}},Aq=function(t,e){return rB(e)?new aq(t,e):pq(e)?new iq(t,e):mq(e)?new oq(t,e):Jpe(e)?new lq(t,e):Zpe(e)?new eB(t,e):ege(e)?new UE(t,e):vw(e)?new cq(t,e):yw(e)?new dq(t,e):gq(e)?new uq(t,e):new qo(t,e)},hq=function(t,e){var r=Aq(t,e);return r.flags|=4,bb(t,e,r,r),r},Xpe=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||RE(t)&&r.styles.isTransparent()},Ype=function(t){return t.isPositioned()||t.isFloating()},fq=function(t){return t.nodeType===Node.TEXT_NODE},Ih=function(t){return t.nodeType===Node.ELEMENT_NODE},tB=function(t){return Ih(t)&&typeof t.style<"u"&&!wb(t)},wb=function(t){return typeof t.className=="object"},Jpe=function(t){return t.tagName==="LI"},Zpe=function(t){return t.tagName==="OL"},ege=function(t){return t.tagName==="INPUT"},tge=function(t){return t.tagName==="HTML"},mq=function(t){return t.tagName==="svg"},RE=function(t){return t.tagName==="BODY"},pq=function(t){return t.tagName==="CANVAS"},cI=function(t){return t.tagName==="VIDEO"},rB=function(t){return t.tagName==="IMG"},gq=function(t){return t.tagName==="IFRAME"},dI=function(t){return t.tagName==="STYLE"},rge=function(t){return t.tagName==="SCRIPT"},yw=function(t){return t.tagName==="TEXTAREA"},vw=function(t){return t.tagName==="SELECT"},xq=function(t){return t.tagName==="SLOT"},uI=function(t){return t.tagName.indexOf("-")>0},nge=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),AI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},hI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},age={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},th=function(t,e,r,n,a,i){return t<e||t>r?m0(t,a,i.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+i},yq=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},un=function(t,e,r,n,a){var i=r-e+1;return(t<0?"-":"")+(yq(Math.abs(t),i,n,function(o){return hn(Math.floor(o%i)+e)})+a)},Rd=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return yq(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},fh=1,wc=2,jc=4,Vp=8,il=function(t,e,r,n,a,i){if(t<-9999||t>9999)return m0(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&$n(i,fh)&&l!==""?l=e[d]+l:d>1||d===1&&c===0||d===1&&c===1&&$n(i,wc)||d===1&&c===1&&$n(i,jc)&&t>100||d===1&&c>1&&$n(i,Vp)?l=e[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},fI="",mI="",pI="",z_="",m0=function(t,e,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=un(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Rd(t,"",a);case 6:return th(t,1,3999,AI,3,n).toLowerCase();case 7:return th(t,1,3999,AI,3,n);case 8:return un(t,945,969,!1,n);case 9:return un(t,97,122,!1,n);case 10:return un(t,65,90,!1,n);case 11:return un(t,1632,1641,!0,n);case 12:case 49:return th(t,1,9999,hI,3,n);case 35:return th(t,1,9999,hI,3,n).toLowerCase();case 13:return un(t,2534,2543,!0,n);case 14:case 30:return un(t,6112,6121,!0,n);case 15:return Rd(t,"",a);case 16:return Rd(t,"",a);case 17:case 48:return il(t,"",fI,"",a,wc|jc|Vp);case 47:return il(t,"",mI,"",a,fh|wc|jc|Vp);case 42:return il(t,"",fI,"",a,wc|jc|Vp);case 41:return il(t,"",mI,"",a,fh|wc|jc|Vp);case 26:return il(t,"","",pI,a,0);case 25:return il(t,"","",pI,a,fh|wc|jc);case 31:return il(t,"","",z_,i,fh|wc|jc);case 33:return il(t,"","",z_,i,0);case 32:return il(t,"","",z_,i,fh|wc|jc);case 18:return un(t,2406,2415,!0,n);case 20:return th(t,1,19999,age,3,n);case 21:return un(t,2790,2799,!0,n);case 22:return un(t,2662,2671,!0,n);case 22:return th(t,1,10999,sge,3,n);case 23:return Rd(t,"");case 24:return Rd(t,"");case 27:return un(t,3302,3311,!0,n);case 28:return Rd(t,"",a);case 29:return Rd(t,"",a);case 34:return un(t,3792,3801,!0,n);case 37:return un(t,6160,6169,!0,n);case 38:return un(t,4160,4169,!0,n);case 39:return un(t,2918,2927,!0,n);case 40:return un(t,1776,1785,!0,n);case 43:return un(t,3046,3055,!0,n);case 44:return un(t,3174,3183,!0,n);case 45:return un(t,3664,3673,!0,n);case 46:return un(t,3872,3881,!0,n);case 3:default:return un(t,48,57,!0,n)}},vq="data-html2canvas-ignore",gI=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new nge,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=ige(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=cge(a).then(function(){return qs(n,void 0,void 0,function(){var u,A;return Bs(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(hge),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,lge(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,A)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(uge(document.doctype)+"<html></html>"),Age(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(e){if(J4(e,2))debugger;if(pq(e))return this.createCanvasClone(e);if(cI(e))return this.createVideoClone(e);if(dI(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return rB(r)&&(rB(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),uI(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return V_(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!Ih(r)||!rge(r)&&!r.hasAttribute(vq)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ih(r)||!dI(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Ih(i)&&xq(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(fq(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ih(e)&&(tB(e)||wb(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&tB(a)&&(this.clonedReferenceElement=a),RE(a)&&pge(a);var c=this.counters.parse(new WO(this.context,i)),d=this.resolvePseudoContent(e,a,o,jg.BEFORE);uI(e)&&(r=!0),cI(e)||this.cloneChildNodes(e,a,r),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(e,a,l,jg.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||wb(e))&&!gq(e)||r)&&V_(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(yw(e)||vw(e))&&(yw(a)||vw(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new WO(this.context,n));var c=new Jme(this.context,n),d=l.createElement("html2canvaspseudoelement");V_(n,d),c.content.forEach(function(A){if(A.type===0)d.appendChild(l.createTextNode(A.value));else if(A.type===22){var h=l.createElement("img");h.src=A.value,h.style.opacity="1",d.appendChild(h)}else if(A.type===18){if(A.name==="attr"){var f=A.values.filter(vr);f.length&&d.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(A.name==="counter"){var g=A.values.filter(jf),x=g[0],m=g[1];if(x&&vr(x)){var p=i.counters.getCounterValue(x.value),y=m&&vr(m)?Y4.parse(i.context,m.value):3;d.appendChild(l.createTextNode(m0(p,y,!1)))}}else if(A.name==="counters"){var b=A.values.filter(jf),x=b[0],N=b[1],m=b[2];if(x&&vr(x)){var j=i.counters.getCounterValues(x.value),C=m&&vr(m)?Y4.parse(i.context,m.value):3,k=N&&N.type===0?N.value:"",_=j.map(function(w){return m0(w,C,!1)}).join(k);d.appendChild(l.createTextNode(_))}}}else if(A.type===20)switch(A.value){case"open-quote":d.appendChild(l.createTextNode(KO(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(KO(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(A.value))}}),d.className=nB+" "+sB;var u=a===jg.BEFORE?" "+nB:" "+sB;return wb(r)?r.className.baseValue+=u:r.className+=u,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),jg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(jg||(jg={}));var ige=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(vq,"true"),t.body.appendChild(r),r},oge=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},lge=function(t){return Promise.all([].slice.call(t.images,0).map(oge))},cge=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},dge=["all","d","content"],V_=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);dge.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},uge=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Age=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},hge=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},fge=":before",mge=":after",nB="___html2canvas___pseudoelement_before",sB="___html2canvas___pseudoelement_after",xI=`{
    content: "" !important;
    display: none !important;
}`,pge=function(t){gge(t,"."+nB+fge+xI+`
         .`+sB+mge+xI)},gge=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},bq=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),xge=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(W_(e)||wge(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return qs(this,void 0,void 0,function(){var r,n,a,i,o=this;return Bs(this,function(l){switch(l.label){case 0:return r=bq.isSameOrigin(e),n=!K_(e)&&this._options.useCORS===!0&&hs.SUPPORT_CORS_IMAGES&&!r,a=!K_(e)&&!r&&!W_(e)&&typeof this._options.proxy=="string"&&hs.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!K_(e)&&!W_(e)&&!a&&!n?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(jge(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,o){var l=hs.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var A=new FileReader;A.addEventListener("load",function(){return i(A.result)},!1),A.addEventListener("error",function(h){return o(h)},!1),A.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},t}(),yge=/^data:image\/svg\+xml/i,vge=/^data:image\/.*;base64,/i,bge=/^data:image\/.*/i,wge=function(t){return hs.SUPPORT_SVG_DRAWING||!Nge(t)},K_=function(t){return bge.test(t)},jge=function(t){return vge.test(t)},W_=function(t){return t.substr(0,4)==="blob"},Nge=function(t){return t.substr(-3).toLowerCase()==="svg"||yge.test(t)},rt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),rh=function(t,e,r){return new rt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},xv=function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=rh(this.start,this.startControl,e),a=rh(this.startControl,this.endControl,e),i=rh(this.endControl,this.end,e),o=rh(n,a,e),l=rh(a,i,e),c=rh(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ci=function(t){return t.type===1},_ge=function(){function t(e){var r=e.styles,n=e.bounds,a=qp(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=qp(r.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=qp(r.borderBottomRightRadius,n.width,n.height),A=u[0],h=u[1],f=qp(r.borderBottomLeftRadius,n.width,n.height),g=f[0],x=f[1],m=[];m.push((i+c)/n.width),m.push((g+A)/n.width),m.push((o+x)/n.height),m.push((d+h)/n.height);var p=Math.max.apply(Math,m);p>1&&(i/=p,o/=p,c/=p,d/=p,A/=p,h/=p,g/=p,x/=p);var y=n.width-c,b=n.height-h,N=n.width-A,j=n.height-x,C=r.borderTopWidth,k=r.borderRightWidth,_=r.borderBottomWidth,B=r.borderLeftWidth,T=kr(r.paddingTop,e.bounds.width),w=kr(r.paddingRight,e.bounds.width),E=kr(r.paddingBottom,e.bounds.width),D=kr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Qr(n.left+B/3,n.top+C/3,i-B/3,o-C/3,ir.TOP_LEFT):new rt(n.left+B/3,n.top+C/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Qr(n.left+y,n.top+C/3,c-k/3,d-C/3,ir.TOP_RIGHT):new rt(n.left+n.width-k/3,n.top+C/3),this.bottomRightBorderDoubleOuterBox=A>0||h>0?Qr(n.left+N,n.top+b,A-k/3,h-_/3,ir.BOTTOM_RIGHT):new rt(n.left+n.width-k/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=g>0||x>0?Qr(n.left+B/3,n.top+j,g-B/3,x-_/3,ir.BOTTOM_LEFT):new rt(n.left+B/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Qr(n.left+B*2/3,n.top+C*2/3,i-B*2/3,o-C*2/3,ir.TOP_LEFT):new rt(n.left+B*2/3,n.top+C*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Qr(n.left+y,n.top+C*2/3,c-k*2/3,d-C*2/3,ir.TOP_RIGHT):new rt(n.left+n.width-k*2/3,n.top+C*2/3),this.bottomRightBorderDoubleInnerBox=A>0||h>0?Qr(n.left+N,n.top+b,A-k*2/3,h-_*2/3,ir.BOTTOM_RIGHT):new rt(n.left+n.width-k*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||x>0?Qr(n.left+B*2/3,n.top+j,g-B*2/3,x-_*2/3,ir.BOTTOM_LEFT):new rt(n.left+B*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=i>0||o>0?Qr(n.left+B/2,n.top+C/2,i-B/2,o-C/2,ir.TOP_LEFT):new rt(n.left+B/2,n.top+C/2),this.topRightBorderStroke=i>0||o>0?Qr(n.left+y,n.top+C/2,c-k/2,d-C/2,ir.TOP_RIGHT):new rt(n.left+n.width-k/2,n.top+C/2),this.bottomRightBorderStroke=A>0||h>0?Qr(n.left+N,n.top+b,A-k/2,h-_/2,ir.BOTTOM_RIGHT):new rt(n.left+n.width-k/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=g>0||x>0?Qr(n.left+B/2,n.top+j,g-B/2,x-_/2,ir.BOTTOM_LEFT):new rt(n.left+B/2,n.top+n.height-_/2),this.topLeftBorderBox=i>0||o>0?Qr(n.left,n.top,i,o,ir.TOP_LEFT):new rt(n.left,n.top),this.topRightBorderBox=c>0||d>0?Qr(n.left+y,n.top,c,d,ir.TOP_RIGHT):new rt(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||h>0?Qr(n.left+N,n.top+b,A,h,ir.BOTTOM_RIGHT):new rt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||x>0?Qr(n.left,n.top+j,g,x,ir.BOTTOM_LEFT):new rt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Qr(n.left+B,n.top+C,Math.max(0,i-B),Math.max(0,o-C),ir.TOP_LEFT):new rt(n.left+B,n.top+C),this.topRightPaddingBox=c>0||d>0?Qr(n.left+Math.min(y,n.width-k),n.top+C,y>n.width+k?0:Math.max(0,c-k),Math.max(0,d-C),ir.TOP_RIGHT):new rt(n.left+n.width-k,n.top+C),this.bottomRightPaddingBox=A>0||h>0?Qr(n.left+Math.min(N,n.width-B),n.top+Math.min(b,n.height-_),Math.max(0,A-k),Math.max(0,h-_),ir.BOTTOM_RIGHT):new rt(n.left+n.width-k,n.top+n.height-_),this.bottomLeftPaddingBox=g>0||x>0?Qr(n.left+B,n.top+Math.min(j,n.height-_),Math.max(0,g-B),Math.max(0,x-_),ir.BOTTOM_LEFT):new rt(n.left+B,n.top+n.height-_),this.topLeftContentBox=i>0||o>0?Qr(n.left+B+D,n.top+C+T,Math.max(0,i-(B+D)),Math.max(0,o-(C+T)),ir.TOP_LEFT):new rt(n.left+B+D,n.top+C+T),this.topRightContentBox=c>0||d>0?Qr(n.left+Math.min(y,n.width+B+D),n.top+C+T,y>n.width+B+D?0:c-B+D,d-(C+T),ir.TOP_RIGHT):new rt(n.left+n.width-(k+w),n.top+C+T),this.bottomRightContentBox=A>0||h>0?Qr(n.left+Math.min(N,n.width-(B+D)),n.top+Math.min(b,n.height+C+T),Math.max(0,A-(k+w)),h-(_+E),ir.BOTTOM_RIGHT):new rt(n.left+n.width-(k+w),n.top+n.height-(_+E)),this.bottomLeftContentBox=g>0||x>0?Qr(n.left+B+D,n.top+j,Math.max(0,g-(B+D)),x-(_+E),ir.BOTTOM_LEFT):new rt(n.left+B+D,n.top+n.height-(_+E))}return t}(),ir;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ir||(ir={}));var Qr=function(t,e,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=t+r,d=e+n;switch(a){case ir.TOP_LEFT:return new xv(new rt(t,d),new rt(t,d-l),new rt(c-o,e),new rt(c,e));case ir.TOP_RIGHT:return new xv(new rt(t,e),new rt(t+o,e),new rt(c,d-l),new rt(c,d));case ir.BOTTOM_RIGHT:return new xv(new rt(c,e),new rt(c,e+l),new rt(t+o,d),new rt(t,d));case ir.BOTTOM_LEFT:default:return new xv(new rt(c,d),new rt(c-o,d),new rt(t,e+l),new rt(t,e))}},bw=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Cge=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ww=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Bge=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),yv=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Sge=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Ege=function(t){return t.type===0},wq=function(t){return t.type===1},kge=function(t){return t.type===2},yI=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Pge=function(t,e,r,n,a){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+a);case 3:return i.add(e,r+a)}return i})},jq=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Nq=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new _ge(this.container),this.container.styles.opacity<1&&this.effects.push(new Sge(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Bge(n,a,i))}if(this.container.styles.overflowX!==0){var o=bw(this.curves),l=ww(this.curves);yI(o,l)?this.effects.push(new yv(o,6)):(this.effects.push(new yv(o,2)),this.effects.push(new yv(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!wq(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=bw(n.curves),l=ww(n.curves);yI(o,l)||a.unshift(new yv(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return $n(c.target,e)})},t}(),aB=function(t,e,r,n){t.container.elements.forEach(function(a){var i=$n(a.flags,4),o=$n(a.flags,2),l=new Nq(a,t);$n(a.styles.display,2048)&&n.push(l);var c=$n(a.flags,8)?[]:n;if(i||o){var d=i||a.styles.isPositioned()?r:e,u=new jq(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var A=a.styles.zIndex.order;if(A<0){var h=0;d.negativeZIndex.some(function(g,x){return A>g.element.container.styles.zIndex.order?(h=x,!1):h>0}),d.negativeZIndex.splice(h,0,u)}else if(A>0){var f=0;d.positiveZIndex.some(function(g,x){return A>=g.element.container.styles.zIndex.order?(f=x+1,!1):f>0}),d.positiveZIndex.splice(f,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);aB(l,u,i?u:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),aB(l,e,r,c);$n(a.flags,8)&&_q(a,c)})},_q=function(t,e){for(var r=t instanceof eB?t.start:1,n=t instanceof eB?t.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof lq&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=m0(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},Fge=function(t){var e=new Nq(t,null),r=new jq(e),n=[];return aB(e,r,r,n),_q(e.container,n),r},vI=function(t,e){switch(e){case 0:return fi(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return fi(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return fi(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return fi(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Tge=function(t,e){switch(e){case 0:return fi(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return fi(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return fi(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return fi(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Oge=function(t,e){switch(e){case 0:return fi(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return fi(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return fi(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return fi(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Ige=function(t,e){switch(e){case 0:return vv(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return vv(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return vv(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return vv(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},vv=function(t,e){var r=[];return ci(t)?r.push(t.subdivide(.5,!1)):r.push(t),ci(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},fi=function(t,e,r,n){var a=[];return ci(t)?a.push(t.subdivide(.5,!1)):a.push(t),ci(r)?a.push(r.subdivide(.5,!0)):a.push(r),ci(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ci(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},Cq=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},jw=function(t){var e=t.styles,r=t.bounds,n=kr(e.paddingLeft,r.width),a=kr(e.paddingRight,r.width),i=kr(e.paddingTop,r.width),o=kr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+i+o))},Dge=function(t,e){return t===0?e.bounds:t===2?jw(e):Cq(e)},Lge=function(t,e){return t===0?e.bounds:t===2?jw(e):Cq(e)},G_=function(t,e,r){var n=Dge(mh(t.styles.backgroundOrigin,e),t),a=Lge(mh(t.styles.backgroundClip,e),t),i=Mge(mh(t.styles.backgroundSize,e),r,n),o=i[0],l=i[1],c=qp(mh(t.styles.backgroundPosition,e),n.width-o,n.height-l),d=Uge(mh(t.styles.backgroundRepeat,e),c,i,n,a),u=Math.round(n.left+c[0]),A=Math.round(n.top+c[1]);return[d,u,A,o,l]},nh=function(t){return vr(t)&&t.value===sf.AUTO},bv=function(t){return typeof t=="number"},Mge=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(kn(o)&&l&&kn(l))return[kr(o,r.width),kr(l,r.height)];var c=bv(i);if(vr(o)&&(o.value===sf.CONTAIN||o.value===sf.COVER)){if(bv(i)){var d=r.width/r.height;return d<i!=(o.value===sf.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=bv(n),A=bv(a),h=u||A;if(nh(o)&&(!l||nh(l))){if(u&&A)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var f=u?n:a*i,g=A?a:n/i;return[f,g]}var x=u?n:r.width,m=A?a:r.height;return[x,m]}if(c){var p=0,y=0;return kn(o)?p=kr(o,r.width):kn(l)&&(y=kr(l,r.height)),nh(o)?p=y*i:(!l||nh(l))&&(y=p/i),[p,y]}var b=null,N=null;if(kn(o)?b=kr(o,r.width):l&&kn(l)&&(N=kr(l,r.height)),b!==null&&(!l||nh(l))&&(N=u&&A?b/n*a:r.height),N!==null&&nh(o)&&(b=u&&A?N/a*n:r.width),b!==null&&N!==null)return[b,N];throw new Error("Unable to calculate background-size for element")},mh=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Uge=function(t,e,r,n,a){var i=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new rt(Math.round(n.left),Math.round(n.top+o)),new rt(Math.round(n.left+n.width),Math.round(n.top+o)),new rt(Math.round(n.left+n.width),Math.round(c+n.top+o)),new rt(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new rt(Math.round(n.left+i),Math.round(n.top)),new rt(Math.round(n.left+i+l),Math.round(n.top)),new rt(Math.round(n.left+i+l),Math.round(n.height+n.top)),new rt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new rt(Math.round(n.left+i),Math.round(n.top+o)),new rt(Math.round(n.left+i+l),Math.round(n.top+o)),new rt(Math.round(n.left+i+l),Math.round(n.top+o+c)),new rt(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new rt(Math.round(a.left),Math.round(a.top)),new rt(Math.round(a.left+a.width),Math.round(a.top)),new rt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new rt(Math.round(a.left),Math.round(a.height+a.top))]}},Rge="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bI="Hidden Text",Qge=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=Rge,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(bI)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(bI)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),Bq=function(){function t(e,r){this.context=e,this.options=r}return t}(),$ge=1e4,Hge=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Qge(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),kge(r)&&(this.ctx.globalAlpha=r.opacity),Ege(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),wq(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return qs(this,void 0,void 0,function(){var n;return Bs(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return qs(this,void 0,void 0,function(){return Bs(this,function(n){switch(n.label){case 0:if($n(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=ME(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Wge(r.fontFamily).join(", "),i=bx(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(r,n){return qs(this,void 0,void 0,function(){var a,i,o,l,c,d,u,A,h=this;return Bs(this,function(f){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,A=n.paintOrder,r.textBounds.forEach(function(g){A.forEach(function(x){switch(x){case 0:h.ctx.fillStyle=Jn(n.color),h.renderTextWithLetterSpacing(g,n.letterSpacing,d);var m=n.textShadow;m.length&&g.text.trim().length&&(m.slice(0).reverse().forEach(function(p){h.ctx.shadowColor=Jn(p.color),h.ctx.shadowOffsetX=p.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=p.offsetY.number*h.options.scale,h.ctx.shadowBlur=p.blur.number,h.renderTextWithLetterSpacing(g,n.letterSpacing,d)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Jn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(p){switch(p){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+d),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+u),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=Jn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+d)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=jw(r),o=ww(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return qs(this,void 0,void 0,function(){var n,a,i,o,l,c,y,y,d,u,A,h,N,f,g,j,x,m,p,y,b,N,j;return Bs(this,function(C){switch(C.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,C.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:C.sent(),C.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof aq))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=C.sent(),this.renderReplacedElement(n,a,y),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof iq&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof oq))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=C.sent(),this.renderReplacedElement(n,a,y),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof uq&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=C.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),C.label=14;case 14:if(n instanceof UE&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===gw?n.checked&&(this.ctx.save(),this.path([new rt(n.bounds.left+A*.39363,n.bounds.top+A*.79),new rt(n.bounds.left+A*.16,n.bounds.top+A*.5549),new rt(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new rt(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new rt(n.bounds.left+A*.72983,n.bounds.top+A*.23),new rt(n.bounds.left+A*.84,n.bounds.top+A*.34085),new rt(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=Jn(lI),this.ctx.fill(),this.ctx.restore()):n.type===xw&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Jn(lI),this.ctx.fill(),this.ctx.restore())),qge(n)&&n.value.length){switch(h=this.createFontStyle(i),N=h[0],f=h[1],g=this.fontMetrics.getMetrics(N,f).baseline,this.ctx.font=N,this.ctx.fillStyle=Jn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Vge(n.styles.textAlign),j=jw(n),x=0,n.styles.textAlign){case 1:x+=j.width/2;break;case 2:x+=j.width;break}m=j.add(x,0,0,-j.height/2+1),this.ctx.save(),this.path([new rt(j.left,j.top),new rt(j.left+j.width,j.top),new rt(j.left+j.width,j.top+j.height),new rt(j.left,j.top+j.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new wg(n.value,m),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!$n(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(p=n.styles.listStyleImage,p.type!==0)return[3,18];y=void 0,b=p.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return y=C.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(N=this.createFontStyle(i)[0],this.ctx.font=N,this.ctx.fillStyle=Jn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",j=new Rl(n.bounds.left,n.bounds.top+kr(n.styles.paddingTop,n.bounds.width),n.bounds.width,zO(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new wg(r.listValue,j),i.letterSpacing,zO(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return qs(this,void 0,void 0,function(){var n,a,p,i,o,p,l,c,p,d,u,p,A,h,p,f,g,p,x,m,p;return Bs(this,function(y){switch(y.label){case 0:if($n(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,a=r.negativeZIndex,y.label=2;case 2:return n<a.length?(p=a[n],[4,this.renderStack(p)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,o=r.nonInlineLevel,y.label=7;case 7:return i<o.length?(p=o[i],[4,this.renderNode(p)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,y.label=11;case 11:return l<c.length?(p=c[l],[4,this.renderStack(p)]):[3,14];case 12:y.sent(),y.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return d<u.length?(p=u[d],[4,this.renderStack(p)]):[3,18];case 16:y.sent(),y.label=17;case 17:return d++,[3,15];case 18:A=0,h=r.inlineLevel,y.label=19;case 19:return A<h.length?(p=h[A],[4,this.renderNode(p)]):[3,22];case 20:y.sent(),y.label=21;case 21:return A++,[3,19];case 22:f=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<g.length?(p=g[f],[4,this.renderStack(p)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:x=0,m=r.positiveZIndex,y.label=27;case 27:return x<m.length?(p=m[x],[4,this.renderStack(p)]):[3,30];case 28:y.sent(),y.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=ci(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ci(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(r){return qs(this,void 0,void 0,function(){var n,a,i,o,l,c;return Bs(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,a=function(u){var A,h,f,T,U,M,D,O,_,g,T,U,M,D,O,x,m,p,y,b,N,j,C,k,_,B,T,w,E,D,O,L,U,M,Q,q,J,ee,$,R,K,V;return Bs(this,function(ae){switch(ae.label){case 0:if(u.type!==0)return[3,5];A=void 0,h=u.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return A=ae.sent(),[3,4];case 3:return ae.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return A&&(f=G_(r,n,[A.width,A.height,A.width/A.height]),T=f[0],U=f[1],M=f[2],D=f[3],O=f[4],_=i.ctx.createPattern(i.resizeImage(A,D,O),"repeat"),i.renderRepeat(T,_,U,M)),[3,6];case 5:Efe(u)?(g=G_(r,n,[null,null,null]),T=g[0],U=g[1],M=g[2],D=g[3],O=g[4],x=Nfe(u.angle,D,O),m=x[0],p=x[1],y=x[2],b=x[3],N=x[4],j=document.createElement("canvas"),j.width=D,j.height=O,C=j.getContext("2d"),k=C.createLinearGradient(p,b,y,N),HO(u.stops,m).forEach(function(Ae){return k.addColorStop(Ae.stop,Jn(Ae.color))}),C.fillStyle=k,C.fillRect(0,0,D,O),D>0&&O>0&&(_=i.ctx.createPattern(j,"repeat"),i.renderRepeat(T,_,U,M))):kfe(u)&&(B=G_(r,n,[null,null,null]),T=B[0],w=B[1],E=B[2],D=B[3],O=B[4],L=u.position.length===0?[IE]:u.position,U=kr(L[0],D),M=kr(L[L.length-1],O),Q=_fe(u,U,M,D,O),q=Q[0],J=Q[1],q>0&&J>0&&(ee=i.ctx.createRadialGradient(w+U,E+M,0,w+U,E+M,q),HO(u.stops,q*2).forEach(function(Ae){return ee.addColorStop(Ae.stop,Jn(Ae.color))}),i.path(T),i.ctx.fillStyle=ee,q!==J?($=r.bounds.left+.5*r.bounds.width,R=r.bounds.top+.5*r.bounds.height,K=J/q,V=1/K,i.ctx.save(),i.ctx.translate($,R),i.ctx.transform(1,0,0,K,0,0),i.ctx.translate(-$,-R),i.ctx.fillRect(w,V*(E-R)+R,D,O*V),i.ctx.restore()):i.ctx.fill())),ae.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return qs(this,void 0,void 0,function(){return Bs(this,function(i){return this.path(vI(a,n)),this.ctx.fillStyle=Jn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,i){return qs(this,void 0,void 0,function(){var o,l;return Bs(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=Tge(i,a),this.path(o),this.ctx.fillStyle=Jn(r),this.ctx.fill(),l=Oge(i,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return qs(this,void 0,void 0,function(){var n,a,i,o,l,c,d,u,A=this;return Bs(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!rd(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=zge(mh(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rd(n.backgroundColor)||(this.ctx.fillStyle=Jn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){A.ctx.save();var g=bw(r.curves),x=f.inset?0:$ge,m=Pge(g,-x+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(A.path(g),A.ctx.clip(),A.mask(m)):(A.mask(g),A.ctx.clip(),A.path(m)),A.ctx.shadowOffsetX=f.offsetX.number+x,A.ctx.shadowOffsetY=f.offsetY.number,A.ctx.shadowColor=Jn(f.color),A.ctx.shadowBlur=f.blur.number,A.ctx.fillStyle=f.inset?Jn(f.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),h.label=2;case 2:l=0,c=0,d=i,h.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!rd(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return qs(this,void 0,void 0,function(){var l,c,d,u,A,h,f,g,x,m,p,y,b,N,j,C,j,C;return Bs(this,function(k){return this.ctx.save(),l=Ige(i,a),c=vI(i,a),o===2&&(this.path(c),this.ctx.clip()),ci(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),ci(c[1])?(A=c[1].end.x,h=c[1].end.y):(A=c[1].x,h=c[1].y),a===0||a===2?f=Math.abs(d-A):f=Math.abs(u-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),g=n<3?n*3:n*2,x=n<3?n*2:n,o===3&&(g=n,x=n),m=!0,f<=g*2?m=!1:f<=g*2+x?(p=f/(2*g+x),g*=p,x*=p):(y=Math.floor((f+x)/(g+x)),b=(f-y*g)/(y-1),N=(f-(y+1)*g)/y,x=N<=0||Math.abs(x-b)<Math.abs(x-N)?b:N),m&&(o===3?this.ctx.setLineDash([0,g+x]):this.ctx.setLineDash([g,x])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Jn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ci(c[0])&&(j=c[3],C=c[0],this.ctx.beginPath(),this.formatPath([new rt(j.end.x,j.end.y),new rt(C.start.x,C.start.y)]),this.ctx.stroke()),ci(c[1])&&(j=c[1],C=c[2],this.ctx.beginPath(),this.formatPath([new rt(j.end.x,j.end.y),new rt(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return qs(this,void 0,void 0,function(){var n;return Bs(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Jn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Fge(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Bq),qge=function(t){return t instanceof dq||t instanceof cq?!0:t instanceof UE&&t.type!==xw&&t.type!==gw},zge=function(t,e){switch(t){case 0:return bw(e);case 2:return Cge(e);case 1:default:return ww(e)}},Vge=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Kge=["-apple-system","system-ui"],Wge=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Kge.indexOf(e)===-1}):t},Gge=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return qs(this,void 0,void 0,function(){var n,a;return Bs(this,function(i){switch(i.label){case 0:return n=Z4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Xge(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Jn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Bq),Xge=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Yge=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Zy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Zy([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Zy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Zy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Jge=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Yge({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new xge(this,e)}return t.instanceCount=1,t}(),QE=function(t,e){return e===void 0&&(e={}),Zge(t,e)};typeof window<"u"&&bq.setContext(window);var Zge=function(t,e){return qs(void 0,void 0,void 0,function(){var r,n,a,i,o,l,c,d,u,A,h,f,g,x,m,p,y,b,N,j,k,C,k,_,B,T,w,E,D,O,L,U,M,Q,q,J,ee,$,R,K;return Bs(this,function(V){switch(V.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(B=e.imageTimeout)!==null&&B!==void 0?B:15e3,proxy:e.proxy,useCORS:(T=e.useCORS)!==null&&T!==void 0?T:!1},i=M4({logging:(w=e.logging)!==null&&w!==void 0?w:!0,cache:e.cache},a),o={windowWidth:(E=e.windowWidth)!==null&&E!==void 0?E:n.innerWidth,windowHeight:(D=e.windowHeight)!==null&&D!==void 0?D:n.innerHeight,scrollX:(O=e.scrollX)!==null&&O!==void 0?O:n.pageXOffset,scrollY:(L=e.scrollY)!==null&&L!==void 0?L:n.pageYOffset},l=new Rl(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Jge(i,l),d=(U=e.foreignObjectRendering)!==null&&U!==void 0?U:!1,u={allowTaint:(M=e.allowTaint)!==null&&M!==void 0?M:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),A=new gI(c,t,u),h=A.clonedReferenceElement,h?[4,A.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=V.sent(),g=RE(h)||tge(h)?PAe(h.ownerDocument):h2(c,h),x=g.width,m=g.height,p=g.left,y=g.top,b=e0e(c,h,e.backgroundColor),N={canvas:e.canvas,backgroundColor:b,scale:(q=(Q=e.scale)!==null&&Q!==void 0?Q:n.devicePixelRatio)!==null&&q!==void 0?q:1,x:((J=e.x)!==null&&J!==void 0?J:0)+p,y:((ee=e.y)!==null&&ee!==void 0?ee:0)+y,width:($=e.width)!==null&&$!==void 0?$:Math.ceil(x),height:(R=e.height)!==null&&R!==void 0?R:Math.ceil(m)},d?(c.logger.debug("Document cloned, using foreign object rendering"),k=new Gge(c,N),[4,k.render(h)]):[3,3];case 2:return j=V.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+p+","+y+" with size "+x+"x"+m+" using computed rendering"),c.logger.debug("Starting DOM parsing"),C=hq(c,h),b===C.styles.backgroundColor&&(C.styles.backgroundColor=Sl.TRANSPARENT),c.logger.debug("Starting renderer for element at "+N.x+","+N.y+" with size "+N.width+"x"+N.height),k=new Hge(c,N),[4,k.render(C)];case 4:j=V.sent(),V.label=5;case 5:return(!((K=e.removeContainer)!==null&&K!==void 0)||K)&&(gI.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,j]}})})},e0e=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?vg(t,getComputedStyle(n.documentElement).backgroundColor):Sl.TRANSPARENT,i=n.body?vg(t,getComputedStyle(n.body).backgroundColor):Sl.TRANSPARENT,o=typeof r=="string"?vg(t,r):r===null?Sl.TRANSPARENT:4294967295;return e===n.documentElement?rd(a)?rd(i)?o:i:a:o};const t0e=Object.freeze(Object.defineProperty({__proto__:null,default:QE},Symbol.toStringTag,{value:"Module"})),r0e=()=>{const{isAdmin:t}=Zr(),e=na(),[r,n]=P.useState(""),[a,i]=P.useState("all"),[o,l]=P.useState(!1),[c,d]=P.useState(!1),[u,A]=P.useState(null),[h,f]=P.useState(null),[g,x]=P.useState(!1),[m,p]=P.useState(!1),[y,b]=P.useState(0),[N,j]=P.useState([]),[C,k]=P.useState(!0),[_,B]=P.useState(null),T=P.useRef(null),[w,E]=P.useState({name:"",category:"",quantity:0,min_stock:0,unit:"un",cost:0,price:0,supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""});P.useEffect(()=>{D()},[]);const D=async()=>{try{k(!0);const V=await bde();j(V||[]),B(null)}catch(V){console.error("Error loading inventory items:",V),B("Erro ao carregar itens do estoque"),j([])}finally{k(!1)}},O=["all",...Array.from(new Set(N.map(V=>V.category)))],L=N.filter(V=>{const ae=V.name.toLowerCase().includes(r.toLowerCase())||V.supplier.toLowerCase().includes(r.toLowerCase())||V.sku&&V.sku.toLowerCase().includes(r.toLowerCase()),Ae=a==="all"||V.category===a;return ae&&Ae}),U=V=>{switch(Q(V.quantity,V.min_stock)){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=V=>{switch(Q(V.quantity,V.min_stock)){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},Q=(V,ae)=>V===0?"out_of_stock":V<ae?"low_stock":"in_stock",q={total:N.length,inStock:N.filter(V=>Q(V.quantity,V.min_stock)==="in_stock").length,lowStock:N.filter(V=>Q(V.quantity,V.min_stock)==="low_stock").length,outOfStock:N.filter(V=>Q(V.quantity,V.min_stock)==="out_of_stock").length,totalValue:N.reduce((V,ae)=>V+ae.quantity*ae.price,0)},J=async()=>{var V,ae;if(!w.name||!w.category||!w.supplier){alert("Por favor, preencha todos os campos obrigatrios");return}try{const Ae={name:w.name,category:w.category,quantity:w.quantity,min_stock:w.min_stock,price:w.price,supplier:w.supplier,description:w.description,sku:w.sku,location:w.location},ne=await vde(Ae);j([...N,ne]),E({name:"",category:"",quantity:0,min_stock:0,price:0,cost:0,unit:"un",supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""}),l(!1),alert("Item adicionado com sucesso!")}catch(Ae){console.error("Error creating item:",Ae);let ne="Erro ao adicionar item";(V=Ae==null?void 0:Ae.message)!=null&&V.includes("duplicate key")||(ae=Ae==null?void 0:Ae.message)!=null&&ae.includes("already exists")?ne="J existe um item com este cdigo/SKU. Por favor, use um cdigo diferente ou deixe em branco para gerar automaticamente.":Ae!=null&&Ae.message&&(ne=`Erro: ${Ae.message}`),alert(ne)}},ee=async()=>{if(u)try{const V={name:u.name,category:u.category,quantity:u.quantity,min_stock:u.min_stock,price:u.price,supplier:u.supplier,description:u.description,sku:u.sku,location:u.location},ae=await wde(u.id,V);j(N.map(Ae=>Ae.id===ae.id?ae:Ae)),d(!1),A(null),alert("Item atualizado com sucesso!")}catch(V){console.error("Error updating item:",V),alert("Erro ao atualizar item")}},$=async V=>{try{await jde(V),j(N.filter(ae=>ae.id!==V)),f(null),A(null),alert("Item excludo com sucesso!")}catch(ae){console.error("Error deleting item:",ae),alert("Erro ao excluir item")}},R=V=>{E({name:`${V.name} (Cpia)`,category:V.category,quantity:0,min_stock:V.min_stock,unit:V.unit,cost:V.cost,price:V.price,supplier:V.supplier,description:V.description,sku:V.sku?`${V.sku}-COPIA`:"",location:V.location,created_at:"",updated_at:""}),l(!0)},K=async()=>{if(T.current){x(!0),p(!0),b(10);try{const V=setInterval(()=>{b(X=>X>=90?(clearInterval(V),90):X+10)},300),ae=await QE(T.current,{scale:1,useCORS:!0,logging:!1});b(95);const Ae=ae.toDataURL("image/png"),ne=new ft({orientation:"portrait",unit:"mm",format:"a4"});ne.setFillColor(59,130,246),ne.rect(0,0,ne.internal.pageSize.width,20,"F"),ne.setTextColor(255,255,255),ne.setFontSize(14),ne.text("Relatrio de Estoque - GiarTech",10,10),ne.setFontSize(10),ne.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const ie=ne.internal.pageSize.width,le=ae.height*ie/ae.width;ne.addImage(Ae,"PNG",0,25,ie,le),ne.save("relatorio-estoque.pdf"),b(100),setTimeout(()=>{x(!1),p(!1),b(0)},1e3)}catch(V){console.error("Error generating PDF:",V),x(!1),p(!1),alert("Error generating PDF. Please try again.")}}};return s.jsxs("div",{className:"space-y-6",ref:T,children:[_&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ns,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:_})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estoque"}),s.jsxs("div",{className:"flex gap-3",children:[q.lowStock>0&&s.jsxs("button",{onClick:()=>e("/purchasing"),className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all animate-pulse",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsxs("span",{children:[q.lowStock," ",q.lowStock===1?"Item":"Itens"," Necessitando Compra"]}),s.jsx(Th,{className:"h-4 w-4"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Item"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:"Total de Itens",value:q.total,color:"from-blue-500 to-cyan-500",icon:jt},{label:"Em Estoque",value:q.inStock,color:"from-green-500 to-emerald-500",icon:jr},{label:"Estoque Baixo",value:q.lowStock,color:"from-yellow-500 to-orange-500",icon:ns},{label:"Sem Estoque",value:q.outOfStock,color:"from-red-500 to-pink-500",icon:vl},{label:"Valor Total",value:`R$ ${q.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,color:"from-purple-500 to-indigo-500",icon:jt,adminOnly:!0}].filter(V=>!V.adminOnly||V.adminOnly&&t).map((V,ae)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${V.color} rounded-lg flex items-center justify-center`,children:s.jsx(V.icon,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:V.value}),s.jsx("p",{className:"text-sm text-gray-600",children:V.label})]},V.label))}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 md:items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 flex-grow",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, fornecedor ou SKU...",value:r,onChange:V=>n(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aA,{className:"h-5 w-5 text-gray-400"}),s.jsx("select",{value:a,onChange:V=>i(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:O.map(V=>s.jsx("option",{value:V,children:V==="all"?"Todas as Categorias":V},V))})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:K,className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(mt,{className:"h-4 w-4"}),s.jsx("span",{children:"Relatrio"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors flex items-center space-x-1",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Item"})]})]})]})}),C?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando estoque..."})]}):s.jsx("div",{className:"space-y-4",children:L.length>0?L.map((V,ae)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${Q(V.quantity,V.min_stock)==="in_stock"?"bg-green-100 text-green-600":Q(V.quantity,V.min_stock)==="low_stock"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:s.jsx(jt,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:V.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:V.category}),V.sku&&s.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",V.sku]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${U(V)}`,children:M(V)}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>{A(V),d(!0)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar",children:s.jsx(wE,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R(V),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar Item",children:s.jsx(qu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>f(V.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:V.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mnimo"}),s.jsx("p",{className:"text-sm text-gray-900",children:V.min_stock})]}),t&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Preo Unitrio"}),s.jsxs("p",{className:"text-sm text-green-600",children:["R$ ",V.price.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),s.jsx("p",{className:"text-sm text-gray-900",children:V.supplier})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Nvel de Estoque"}),s.jsxs("span",{children:[V.quantity,"/",V.min_stock," mn"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${V.quantity>V.min_stock?"bg-green-500":V.quantity>0?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(V.quantity/(V.min_stock*2)*100,100)}%`}})})]}),V.location&&s.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[s.jsx("span",{className:"font-medium",children:"Localizao:"})," ",V.location]})]},V.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(jt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum item encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos itens de estoque com os filtros selecionados."}),s.jsx("button",{onClick:()=>{n(""),i("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(it,{children:o&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Item de Estoque"}),s.jsx("button",{onClick:()=>l(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(jt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",value:w.name,onChange:V=>E({...w,name:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:w.category,onChange:V=>E({...w,category:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peas, etc.",required:!0,list:"categories"}),s.jsx("datalist",{id:"categories",children:O.filter(V=>V!=="all").map(V=>s.jsx("option",{value:V},V))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Cdigo ",s.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),s.jsx("input",{type:"text",value:w.sku,onChange:V=>E({...w,sku:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deixe em branco para gerar automaticamente"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:w.description,onChange:V=>E({...w,description:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(jt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),s.jsx("input",{type:"number",value:w.quantity,onChange:V=>E({...w,quantity:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),s.jsx("input",{type:"number",value:w.min_stock,onChange:V=>E({...w,min_stock:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade de Medida"}),s.jsxs("select",{value:w.unit||"un",onChange:V=>E({...w,unit:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"un",children:"Unidade (un)"}),s.jsx("option",{value:"m",children:"Metro (m)"}),s.jsx("option",{value:"m2",children:"Metro Quadrado (m)"}),s.jsx("option",{value:"m3",children:"Metro Cbico (m)"}),s.jsx("option",{value:"kg",children:"Quilograma (kg)"}),s.jsx("option",{value:"g",children:"Grama (g)"}),s.jsx("option",{value:"l",children:"Litro (l)"}),s.jsx("option",{value:"ml",children:"Mililitro (ml)"}),s.jsx("option",{value:"cx",children:"Caixa (cx)"}),s.jsx("option",{value:"pc",children:"Pea (pc)"}),s.jsx("option",{value:"par",children:"Par"}),s.jsx("option",{value:"rolo",children:"Rolo"}),s.jsx("option",{value:"pct",children:"Pacote (pct)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Custo (R$)"}),s.jsx("input",{type:"number",value:w.cost,onChange:V=>E({...w,cost:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preo de compra"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Venda (R$)"}),s.jsx("input",{type:"number",value:w.price,onChange:V=>E({...w,price:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preo de venda",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",value:w.supplier,onChange:V=>E({...w,supplier:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),s.jsx("input",{type:"text",value:w.location,onChange:V=>E({...w,location:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:J,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Item"]})]})]})]})}),s.jsx(it,{children:c&&u&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Item"}),s.jsx("button",{onClick:()=>d(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(jt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",value:u.name,onChange:V=>A({...u,name:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:u.category,onChange:V=>A({...u,category:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peas, etc.",required:!0,list:"edit-categories"}),s.jsx("datalist",{id:"edit-categories",children:O.filter(V=>V!=="all").map(V=>s.jsx("option",{value:V},V))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Cdigo ",s.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),s.jsx("input",{type:"text",value:u.sku||"",onChange:V=>A({...u,sku:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cdigo nico do item"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:u.description||"",onChange:V=>A({...u,description:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(jt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:u.quantity,onChange:V=>A({...u,quantity:parseInt(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),s.jsx("input",{type:"number",value:u.min_stock,onChange:V=>A({...u,min_stock:parseInt(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Unitrio (R$)"}),s.jsx("input",{type:"number",value:u.price,onChange:V=>A({...u,price:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",value:u.supplier,onChange:V=>A({...u,supplier:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),s.jsx("input",{type:"text",value:u.location||"",onChange:V=>A({...u,location:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:ee,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})}),s.jsx(it,{children:h!==null&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(ns,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este item do estoque? Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>h&&$(h),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(it,{children:m&&s.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatrio"}),y===100&&s.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[y<100?s.jsx(gx,{className:"h-5 w-5 text-blue-500 animate-spin"}):s.jsx(On,{className:"h-5 w-5 text-green-500"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${y}%`}})})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[y,"%"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:y<100?"Processando dados e gerando relatrio...":"Relatrio gerado com sucesso!"})]})})]})},n0e=()=>{const{id:t}=U3(),e=na(),{isAdmin:r}=Zr(),[n,a]=P.useState(!1),[i,o]=P.useState(0),[l,c]=P.useState(""),[d,u]=P.useState("details"),A={name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,minStock:2,price:1800,supplier:"Fornecedor A",status:"in_stock",description:"Ar condicionado split 12.000 BTUs, 220V, com controle remoto e instalao bsica includa.",sku:"AC-12000-220",location:"Prateleira A3",history:[{date:"2023-12-15",type:"entrada",quantity:10,user:"Admin",notes:"Compra inicial"},{date:"2023-12-16",type:"saida",quantity:2,user:"Carlos Tcnico",notes:"OS-2023-001"},{date:"2023-12-17",type:"saida",quantity:3,user:"Ana Tcnica",notes:"OS-2023-002"}]},h=m=>{switch(m){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=m=>{switch(m){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},g=m=>{switch(m){case"entrada":return"text-green-600";case"saida":return"text-red-600";case"ajuste":return"text-blue-600";default:return"text-gray-600"}},x=()=>{i!==0&&(console.log("Adjusting stock by:",i,"Reason:",l),a(!1),o(0),c(""))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>e("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:s.jsx(Wl,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:A.name})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(A.status)}`,children:f(A.status)})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[s.jsx(jr,{className:"h-4 w-4"}),s.jsx("span",{children:"Ajustar Estoque"})]}),s.jsxs("button",{onClick:()=>e(`/inventory/${t}/edit`),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[s.jsx(xa,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),r&&s.jsxs("button",{className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Ct,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>u("details"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="details"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(jt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Detalhes"})]}),s.jsxs("button",{onClick:()=>u("history"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="history"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Mt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Histrico"})]}),r&&s.jsxs("button",{onClick:()=>u("analytics"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="analytics"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Js,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Anlise"})]})]}),s.jsxs("div",{className:"p-6",children:[d==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(jt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Categoria"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"SKU"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.sku})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.supplier})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Localizao"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.location})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(jr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informaes de Estoque"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade Atual"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mnimo"}),s.jsx("p",{className:"text-lg font-medium text-gray-900",children:A.minStock})]}),r&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Valor Unitrio"}),s.jsxs("p",{className:"text-lg font-medium text-green-600",children:["R$ ",A.price.toFixed(2)]})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Nvel de Estoque"}),s.jsxs("span",{children:[A.quantity,"/",A.minStock," mn"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-500",style:{width:`${Math.min(A.quantity/(A.minStock*2)*100,100)}%`}})})]}),A.quantity<=A.minStock]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(jt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Descrio"]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-gray-700",children:A.description})})]})]}),d==="history"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Mt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Histrico de Movimentaes"]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),s.jsx("div",{className:"space-y-6",children:A.history.map((m,p)=>s.jsxs("div",{className:"relative pl-10",children:[s.jsx("div",{className:`absolute left-0 top-0 w-8 h-8 rounded-full flex items-center justify-center ${m.type==="entrada"?"bg-green-100":"bg-red-100"}`,children:m.type==="entrada"?s.jsx(xt,{className:"h-4 w-4 text-green-600"}):s.jsx(l0,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h4",{className:`font-medium ${g(m.type)}`,children:[m.type==="entrada"?"Entrada":"Sada"," de ",m.quantity," unidades"]}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(m.date).toLocaleDateString("pt-BR")})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Realizado por: ",m.user]}),m.notes&&s.jsxs("p",{className:"text-sm text-gray-700",children:["Observao: ",m.notes]})]})]},p))})]})]}),d==="analytics"&&r&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Js,{className:"h-4 w-4 mr-2 text-blue-500"}),"Anlise de Consumo"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[s.jsx(Js,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 mb-2",children:"Anlise de consumo em desenvolvimento"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Em breve voc poder visualizar grficos de consumo, previses de estoque e muito mais."})]})]})]})]}),n&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ajustar Estoque"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Atual"}),s.jsx("input",{type:"text",value:A.quantity,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajuste"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>o(m=>m-1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:s.jsx(l0,{className:"h-5 w-5"})}),s.jsx("input",{type:"number",value:i,onChange:m=>o(parseInt(m.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center"}),s.jsx("button",{type:"button",onClick:()=>o(m=>m+1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:s.jsx(xt,{className:"h-5 w-5"})})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i>0?"Entrada":i<0?"Sada":"Sem alterao"," de ",Math.abs(i)," unidades"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Quantidade"}),s.jsx("input",{type:"text",value:A.quantity+i,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 font-bold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo do Ajuste"}),s.jsx("textarea",{value:l,onChange:m=>c(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o motivo deste ajuste...",required:!0})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:x,disabled:i===0||!l,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ajuste"})]})]})]})]})},s0e=()=>{const t=na(),[e,r]=P.useState({name:"",category:"",quantity:0,minStock:0,price:0,supplier:"",description:"",sku:"",location:""}),n=["Equipamentos","Acessrios","Materiais","Peas","Ferramentas"],a=o=>{const{name:l,value:c}=o.target;r(l==="price"||l==="quantity"||l==="minStock"?{...e,[l]:parseFloat(c)||0}:{...e,[l]:c})},i=o=>{o.preventDefault(),console.log("Form submitted:",e),t("/inventory")};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>t("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:s.jsx(Wl,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Item de Estoque"})]})}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(jt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{name:"category",value:e.category,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),n.map(o=>s.jsx("option",{value:o,children:o},o))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Cdigo"}),s.jsx("input",{type:"text",name:"sku",value:e.sku,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cdigo nico do item"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{name:"description",value:e.description,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(jt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:Math.max(0,o.quantity-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:s.jsx(l0,{className:"h-4 w-4"})}),s.jsx("input",{type:"number",name:"quantity",value:e.quantity,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:o.quantity+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:s.jsx(xt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:Math.max(0,o.minStock-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:s.jsx(l0,{className:"h-4 w-4"})}),s.jsx("input",{type:"number",name:"minStock",value:e.minStock,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:o.minStock+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:s.jsx(xt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Unitrio (R$)"}),s.jsx("input",{type:"number",name:"price",value:e.price,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",name:"supplier",value:e.supplier,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),s.jsx("input",{type:"text",name:"location",value:e.location,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t("/inventory"),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex-1",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex-1 flex items-center justify-center",children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Item"]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wx(t){return t+.5|0}const Rc=(t,e,r)=>Math.max(Math.min(t,r),e);function Kp(t){return Rc(wx(t*2.55),0,255)}function nd(t){return Rc(wx(t*255),0,255)}function pl(t){return Rc(wx(t/2.55)/100,0,1)}function wI(t){return Rc(wx(t*100),0,100)}const ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},iB=[..."0123456789ABCDEF"],a0e=t=>iB[t&15],i0e=t=>iB[(t&240)>>4]+iB[t&15],wv=t=>(t&240)>>4===(t&15),o0e=t=>wv(t.r)&&wv(t.g)&&wv(t.b)&&wv(t.a);function l0e(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ei[t[1]]*17,g:255&ei[t[2]]*17,b:255&ei[t[3]]*17,a:e===5?ei[t[4]]*17:255}:(e===7||e===9)&&(r={r:ei[t[1]]<<4|ei[t[2]],g:ei[t[3]]<<4|ei[t[4]],b:ei[t[5]]<<4|ei[t[6]],a:e===9?ei[t[7]]<<4|ei[t[8]]:255})),r}const c0e=(t,e)=>t<255?e(t):"";function d0e(t){var e=o0e(t)?a0e:i0e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+c0e(t.a,e):void 0}const u0e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Sq(t,e,r){const n=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function A0e(t,e,r){const n=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function h0e(t,e,r){const n=Sq(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function f0e(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function $E(t){const r=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=f0e(r,n,a,u,i),c=c*60+.5),[c|0,d||0,l]}function HE(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(nd)}function qE(t,e,r){return HE(Sq,t,e,r)}function m0e(t,e,r){return HE(h0e,t,e,r)}function p0e(t,e,r){return HE(A0e,t,e,r)}function Eq(t){return(t%360+360)%360}function g0e(t){const e=u0e.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Kp(+e[5]):nd(+e[5]));const a=Eq(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=m0e(a,i,o):e[1]==="hsv"?n=p0e(a,i,o):n=qE(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function x0e(t,e){var r=$E(t);r[0]=Eq(r[0]+e),r=qE(r),t.r=r[0],t.g=r[1],t.b=r[2]}function y0e(t){if(!t)return;const e=$E(t),r=e[0],n=wI(e[1]),a=wI(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${pl(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const jI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},NI={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function v0e(){const t={},e=Object.keys(NI),r=Object.keys(jI);let n,a,i,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],a=0;a<r.length;a++)i=r[a],l=l.replace(i,jI[i]);i=parseInt(NI[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let jv;function b0e(t){jv||(jv=v0e(),jv.transparent=[0,0,0,0]);const e=jv[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const w0e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function j0e(t){const e=w0e.exec(t);let r=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?Kp(o):Rc(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?Kp(n):Rc(n,0,255)),a=255&(e[4]?Kp(a):Rc(a,0,255)),i=255&(e[6]?Kp(i):Rc(i,0,255)),{r:n,g:a,b:i,a:r}}}function N0e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${pl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const X_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,sh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function _0e(t,e,r){const n=sh(pl(t.r)),a=sh(pl(t.g)),i=sh(pl(t.b));return{r:nd(X_(n+r*(sh(pl(e.r))-n))),g:nd(X_(a+r*(sh(pl(e.g))-a))),b:nd(X_(i+r*(sh(pl(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Nv(t,e,r){if(t){let n=$E(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=qE(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function kq(t,e){return t&&Object.assign(e||{},t)}function _I(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=nd(t[3]))):(e=kq(t,{r:0,g:0,b:0,a:1}),e.a=nd(e.a)),e}function C0e(t){return t.charAt(0)==="r"?j0e(t):g0e(t)}let Pq=class oB{constructor(e){if(e instanceof oB)return e;const r=typeof e;let n;r==="object"?n=_I(e):r==="string"&&(n=l0e(e)||b0e(e)||C0e(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=kq(this._rgb);return e&&(e.a=pl(e.a)),e}set rgb(e){this._rgb=_I(e)}rgbString(){return this._valid?N0e(this._rgb):void 0}hexString(){return this._valid?d0e(this._rgb):void 0}hslString(){return this._valid?y0e(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=n.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,n.r=255&d*n.r+i*a.r+.5,n.g=255&d*n.g+i*a.g+.5,n.b=255&d*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=_0e(this._rgb,e._rgb,r)),this}clone(){return new oB(this.rgb)}alpha(e){return this._rgb.a=nd(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=wx(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nv(this._rgb,2,e),this}darken(e){return Nv(this._rgb,2,-e),this}saturate(e){return Nv(this._rgb,1,e),this}desaturate(e){return Nv(this._rgb,1,-e),this}rotate(e){return x0e(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ol(){}const B0e=(()=>{let t=0;return()=>t++})();function or(t){return t==null}function Fn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Wt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Rs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jo(t,e){return Rs(t)?t:e}function Ut(t,e){return typeof t>"u"?e:t}const S0e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Fq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Dr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function ur(t,e,r,n){let a,i,o;if(Fn(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(Wt(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function Nw(t,e){let r,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function _w(t){if(Fn(t))return t.map(_w);if(Wt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=_w(t[r[a]]);return e}return t}function Tq(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function E0e(t,e,r,n){if(!Tq(t))return;const a=e[t],i=r[t];Wt(a)&&Wt(i)?p0(a,i,n):e[t]=_w(i)}function p0(t,e,r){const n=Fn(e)?e:[e],a=n.length;if(!Wt(t))return t;r=r||{};const i=r.merger||E0e;let o;for(let l=0;l<a;++l){if(o=n[l],!Wt(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,r)}return t}function Ng(t,e){return p0(t,e,{merger:k0e})}function k0e(t,e,r){if(!Tq(t))return;const n=e[t],a=r[t];Wt(n)&&Wt(a)?Ng(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_w(a))}const CI={"":t=>t,x:t=>t.x,y:t=>t.y};function P0e(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function F0e(t){const e=P0e(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Ku(t,e){return(CI[e]||(CI[e]=F0e(e)))(t)}function zE(t){return t.charAt(0).toUpperCase()+t.slice(1)}const g0=t=>typeof t<"u",fd=t=>typeof t=="function",BI=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function T0e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ar=Math.PI,Xr=2*Ar,O0e=Xr+Ar,Cw=Number.POSITIVE_INFINITY,I0e=Ar/180,zn=Ar/2,Qd=Ar/4,SI=Ar*2/3,Oq=Math.log10,Mo=Math.sign;function _g(t,e,r){return Math.abs(t-e)<r}function EI(t){const e=Math.round(t);t=_g(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Oq(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function D0e(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function L0e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function x0(t){return!L0e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function M0e(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function U0e(t,e,r){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function wl(t){return t*(Ar/180)}function R0e(t){return t*(180/Ar)}function kI(t){if(!Rs(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Iq(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Ar&&(i+=Xr),{angle:i,distance:a}}function lB(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Q0e(t,e){return(t-e+O0e)%Xr-Ar}function Ia(t){return(t%Xr+Xr)%Xr}function y0(t,e,r,n){const a=Ia(t),i=Ia(e),o=Ia(r),l=Ia(i-a),c=Ia(o-a),d=Ia(a-i),u=Ia(a-o);return a===i||a===o||n&&i===o||l>c&&d<u}function Ls(t,e,r){return Math.max(e,Math.min(r,t))}function $0e(t){return Ls(t,-32768,32767)}function jl(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function VE(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const gu=(t,e,r,n)=>VE(t,r,n?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),H0e=(t,e,r)=>VE(t,r,n=>t[n][e]>=r);function q0e(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const Dq=["push","pop","shift","splice","unshift"];function z0e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dq.forEach(r=>{const n="_onData"+zE(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function PI(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Dq.forEach(i=>{delete t[i]}),delete t._chartjs)}function Lq(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Mq=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Uq(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,Mq.call(window,()=>{n=!1,t.apply(e,r)}))}}function V0e(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const KE=t=>t==="start"?"left":t==="end"?"right":"center",Ss=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,K0e=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function W0e(t,e,r){const n=e.length;let a=0,i=n;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:A,max:h,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(a=Math.min(gu(c,u,A).lo,r?n:gu(e,u,o.getPixelForValue(A)).lo),d){const x=c.slice(0,a+1).reverse().findIndex(m=>!or(m[l.axis]));a-=Math.max(0,x)}a=Ls(a,0,n-1)}if(g){let x=Math.max(gu(c,o.axis,h,!0).hi+1,r?0:gu(e,u,o.getPixelForValue(h),!0).hi+1);if(d){const m=c.slice(x-1).findIndex(p=>!or(p[l.axis]));x+=Math.max(0,m)}i=Ls(x,a,n)-a}else i=n-a}return{start:a,count:i}}function G0e(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const _v=t=>t===0||t===1,FI=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Xr/r)),TI=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Xr/r)+1,Cg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*zn)+1,easeOutSine:t=>Math.sin(t*zn),easeInOutSine:t=>-.5*(Math.cos(Ar*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>_v(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>_v(t)?t:FI(t,.075,.3),easeOutElastic:t=>_v(t)?t:TI(t,.075,.3),easeInOutElastic(t){return _v(t)?t:t<.5?.5*FI(t*2,.1125,.45):.5+.5*TI(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Cg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Cg.easeInBounce(t*2)*.5:Cg.easeOutBounce(t*2-1)*.5+.5};function WE(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function OI(t){return WE(t)?t:new Pq(t)}function Y_(t){return WE(t)?t:new Pq(t).saturate(.5).darken(.1).hexString()}const X0e=["x","y","borderWidth","radius","tension"],Y0e=["color","borderColor","backgroundColor"];function J0e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Y0e},numbers:{type:"number",properties:X0e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Z0e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const II=new Map;function exe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=II.get(r);return n||(n=new Intl.NumberFormat(t,e),II.set(r,n)),n}function GE(t,e,r){return exe(e,r).format(t)}const txe={values(t){return Fn(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=rxe(t,r)}const o=Oq(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),GE(t,n,c)}};function rxe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Rq={formatters:txe};function nxe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Rq.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Wu=Object.create(null),cB=Object.create(null);function Bg(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function J_(t,e,r){return typeof e=="string"?p0(Bg(t,e),r):p0(Bg(t,""),e)}class sxe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>Y_(a.backgroundColor),this.hoverBorderColor=(n,a)=>Y_(a.borderColor),this.hoverColor=(n,a)=>Y_(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return J_(this,e,r)}get(e){return Bg(this,e)}describe(e,r){return J_(cB,e,r)}override(e,r){return J_(Wu,e,r)}route(e,r,n,a){const i=Bg(this,e),o=Bg(this,n),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return Wt(c)?Object.assign({},d,c):Ut(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var xn=new sxe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[J0e,Z0e,nxe]);function axe(t){return!t||or(t.size)||or(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function DI(t,e,r,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>n&&(n=i),n}function $d(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function LI(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function dB(t,e,r,n){Qq(t,e,r,n,null)}function Qq(t,e,r,n,a){let i,o,l,c,d,u,A,h;const f=e.pointStyle,g=e.rotation,x=e.radius;let m=(g||0)*I0e;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),f){default:a?t.ellipse(r,n,a/2,x,0,0,Xr):t.arc(r,n,x,0,Xr),t.closePath();break;case"triangle":u=a?a/2:x,t.moveTo(r+Math.sin(m)*u,n-Math.cos(m)*x),m+=SI,t.lineTo(r+Math.sin(m)*u,n-Math.cos(m)*x),m+=SI,t.lineTo(r+Math.sin(m)*u,n-Math.cos(m)*x),t.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(m+Qd)*c,A=Math.cos(m+Qd)*(a?a/2-d:c),l=Math.sin(m+Qd)*c,h=Math.sin(m+Qd)*(a?a/2-d:c),t.arc(r-A,n-l,d,m-Ar,m-zn),t.arc(r+h,n-o,d,m-zn,m),t.arc(r+A,n+l,d,m,m+zn),t.arc(r-h,n+o,d,m+zn,m+Ar),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*x,u=a?a/2:c,t.rect(r-u,n-c,2*u,2*c);break}m+=Qd;case"rectRot":A=Math.cos(m)*(a?a/2:x),o=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(a?a/2:x),t.moveTo(r-A,n-l),t.lineTo(r+h,n-o),t.lineTo(r+A,n+l),t.lineTo(r-h,n+o),t.closePath();break;case"crossRot":m+=Qd;case"cross":A=Math.cos(m)*(a?a/2:x),o=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(a?a/2:x),t.moveTo(r-A,n-l),t.lineTo(r+A,n+l),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"star":A=Math.cos(m)*(a?a/2:x),o=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(a?a/2:x),t.moveTo(r-A,n-l),t.lineTo(r+A,n+l),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o),m+=Qd,A=Math.cos(m)*(a?a/2:x),o=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(a?a/2:x),t.moveTo(r-A,n-l),t.lineTo(r+A,n+l),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"line":o=a?a/2:Math.cos(m)*x,l=Math.sin(m)*x,t.moveTo(r-o,n-l),t.lineTo(r+o,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(m)*(a?a/2:x),n+Math.sin(m)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function v0(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function j2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function N2(t){t.restore()}function ixe(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function oxe(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function lxe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),or(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cxe(t,e,r,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function dxe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function b0(t,e,r,n,a,i={}){const o=Fn(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,lxe(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&dxe(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),or(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,n,i.maxWidth)),t.fillText(d,r,n,i.maxWidth),cxe(t,r,n,d,i),n+=Number(a.lineHeight);t.restore()}function Bw(t,e){const{x:r,y:n,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ar,Ar,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Ar,zn,!0),t.lineTo(r+a-o.bottomRight,n+i),t.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,zn,0,!0),t.lineTo(r+a,n+o.topRight),t.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-zn,!0),t.lineTo(r+o.topLeft,n)}const uxe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Axe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hxe(t,e){const r=(""+t).match(uxe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const fxe=t=>+t||0;function XE(t,e){const r={},n=Wt(e),a=n?Object.keys(e):e,i=Wt(t)?n?o=>Ut(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=fxe(i(o));return r}function $q(t){return XE(t,{top:"y",right:"x",bottom:"y",left:"x"})}function af(t){return XE(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ni(t){const e=$q(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ms(t,e){t=t||{},e=e||xn.font;let r=Ut(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Ut(t.style,e.style);n&&!(""+n).match(Axe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Ut(t.family,e.family),lineHeight:hxe(Ut(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Ut(t.weight,e.weight),string:""};return a.string=axe(a),a}function Cv(t,e,r,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function mxe(t,e,r){const{min:n,max:a}=t,i=Fq(e,(a-n)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function lA(t,e){return Object.assign(Object.create(t),e)}function YE(t,e=[""],r,n,a=()=>t[0]){const i=r||t;typeof n>"u"&&(n=Vq("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>YE([l,...t],e,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return qq(l,c,()=>jxe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return UI(l).includes(c)},ownKeys(l){return UI(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function Nf(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Hq(t,n),setContext:i=>Nf(t,i,r,n),override:i=>Nf(t.override(i),e,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return qq(i,o,()=>gxe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function Hq(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:fd(r)?r:()=>r,isIndexable:fd(n)?n:()=>n}}const pxe=(t,e)=>t?t+zE(e):e,JE=(t,e)=>Wt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qq(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function gxe(t,e,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let l=n[e];return fd(l)&&o.isScriptable(e)&&(l=xxe(e,l,t,r)),Fn(l)&&l.length&&(l=yxe(e,l,t,o.isIndexable)),JE(e,l)&&(l=Nf(l,a,i&&i[e],o)),l}function xxe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||n);return l.delete(t),JE(t,c)&&(c=ZE(a._scopes,a,t,c)),c}function yxe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Wt(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const A=ZE(d,a,t,u);e.push(Nf(A,i,o&&o[t],l))}}return e}function zq(t,e,r){return fd(t)?t(e,r):t}const vxe=(t,e)=>t===!0?e:typeof t=="string"?Ku(e,t):void 0;function bxe(t,e,r,n,a){for(const i of e){const o=vxe(r,i);if(o){t.add(o);const l=zq(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function ZE(t,e,r,n){const a=e._rootScopes,i=zq(e._fallback,r,n),o=[...t,...a],l=new Set;l.add(n);let c=MI(l,o,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=MI(l,o,i,c,n),c===null)?!1:YE(Array.from(l),[""],a,i,()=>wxe(e,r,n))}function MI(t,e,r,n,a){for(;r;)r=bxe(t,e,r,n,a);return r}function wxe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Fn(a)&&Wt(r)?r:a||{}}function jxe(t,e,r,n){let a;for(const i of e)if(a=Vq(pxe(i,t),r),typeof a<"u")return JE(t,a)?ZE(r,n,t,a):a}function Vq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function UI(t){let e=t._keys;return e||(e=t._keys=Nxe(t._scopes)),e}function Nxe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}const _xe=Number.EPSILON||1e-14,_f=(t,e)=>e<t.length&&!t[e].skip&&t[e],Kq=t=>t==="x"?"y":"x";function Cxe(t,e,r,n){const a=t.skip?e:t,i=e,o=r.skip?e:r,l=lB(i,a),c=lB(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const A=n*d,h=n*u;return{previous:{x:i.x-A*(o.x-a.x),y:i.y-A*(o.y-a.y)},next:{x:i.x+h*(o.x-a.x),y:i.y+h*(o.y-a.y)}}}function Bxe(t,e,r){const n=t.length;let a,i,o,l,c,d=_f(t,0);for(let u=0;u<n-1;++u)if(c=d,d=_f(t,u+1),!(!c||!d)){if(_g(e[u],0,_xe)){r[u]=r[u+1]=0;continue}a=r[u]/e[u],i=r[u+1]/e[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[u]=a*o*e[u],r[u+1]=i*o*e[u])}}function Sxe(t,e,r="x"){const n=Kq(r),a=t.length;let i,o,l,c=_f(t,0);for(let d=0;d<a;++d){if(o=l,l=c,c=_f(t,d+1),!l)continue;const u=l[r],A=l[n];o&&(i=(u-o[r])/3,l[`cp1${r}`]=u-i,l[`cp1${n}`]=A-i*e[d]),c&&(i=(c[r]-u)/3,l[`cp2${r}`]=u+i,l[`cp2${n}`]=A+i*e[d])}}function Exe(t,e="x"){const r=Kq(e),n=t.length,a=Array(n).fill(0),i=Array(n);let o,l,c,d=_f(t,0);for(o=0;o<n;++o)if(l=c,c=d,d=_f(t,o+1),!!c){if(d){const u=d[e]-c[e];a[o]=u!==0?(d[r]-c[r])/u:0}i[o]=l?d?Mo(a[o-1])!==Mo(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}Bxe(t,a,i),Sxe(t,i,e)}function Bv(t,e,r){return Math.max(Math.min(t,r),e)}function kxe(t,e){let r,n,a,i,o,l=v0(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=l,l=r<n-1&&v0(t[r+1],e),i&&(a=t[r],o&&(a.cp1x=Bv(a.cp1x,e.left,e.right),a.cp1y=Bv(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Bv(a.cp2x,e.left,e.right),a.cp2y=Bv(a.cp2y,e.top,e.bottom)))}function Pxe(t,e,r,n,a){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Exe(t,a);else{let d=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=Cxe(d,l,t[Math.min(i+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&kxe(t,r)}function ek(){return typeof window<"u"&&typeof document<"u"}function tk(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Sw(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const _2=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Fxe(t,e){return _2(t).getPropertyValue(e)}const Txe=["top","right","bottom","left"];function Fu(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=Txe[a];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Oxe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Ixe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,l,c;if(Oxe(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Jd(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=_2(r),i=a.boxSizing==="border-box",o=Fu(a,"padding"),l=Fu(a,"border","width"),{x:c,y:d,box:u}=Ixe(t,r),A=o.left+(u&&l.left),h=o.top+(u&&l.top);let{width:f,height:g}=e;return i&&(f-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-A)/f*r.width/n),y:Math.round((d-h)/g*r.height/n)}}function Dxe(t,e,r){let n,a;if(e===void 0||r===void 0){const i=t&&tk(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=_2(i),c=Fu(l,"border","width"),d=Fu(l,"padding");e=o.width-d.width-c.width,r=o.height-d.height-c.height,n=Sw(l.maxWidth,i,"clientWidth"),a=Sw(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||Cw,maxHeight:a||Cw}}const Qc=t=>Math.round(t*10)/10;function Lxe(t,e,r,n){const a=_2(t),i=Fu(a,"margin"),o=Sw(a.maxWidth,t,"clientWidth")||Cw,l=Sw(a.maxHeight,t,"clientHeight")||Cw,c=Dxe(t,e,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const h=Fu(a,"border","width"),f=Fu(a,"padding");d-=f.width+h.width,u-=f.height+h.height}return d=Math.max(0,d-i.width),u=Math.max(0,n?d/n:u-i.height),d=Qc(Math.min(d,o,c.maxWidth)),u=Qc(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Qc(d/2)),(e!==void 0||r!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Qc(Math.floor(u*n))),{width:d,height:u}}function RI(t,e,r){const n=e||1,a=Qc(t.height*n),i=Qc(t.width*n);t.height=Qc(t.height),t.width=Qc(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Mxe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ek()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function QI(t,e){const r=Fxe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Zd(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Uxe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Rxe(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Zd(t,a,r),l=Zd(a,i,r),c=Zd(i,e,r),d=Zd(o,l,r),u=Zd(l,c,r);return Zd(d,u,r)}const Qxe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},$xe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function of(t,e,r){return t?Qxe(e,r):$xe()}function Wq(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Gq(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Xq(t){return t==="angle"?{between:y0,compare:Q0e,normalize:Ia}:{between:jl,compare:(e,r)=>e-r,normalize:e=>e}}function $I({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Hxe(t,e,r){const{property:n,start:a,end:i}=r,{between:o,normalize:l}=Xq(n),c=e.length;let{start:d,end:u,loop:A}=t,h,f;if(A){for(d+=c,u+=c,h=0,f=c;h<f&&o(l(e[d%c][n]),a,i);++h)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:A,style:t.style}}function Yq(t,e,r){if(!r)return[t];const{property:n,start:a,end:i}=r,o=e.length,{compare:l,between:c,normalize:d}=Xq(n),{start:u,end:A,loop:h,style:f}=Hxe(t,e,r),g=[];let x=!1,m=null,p,y,b;const N=()=>c(a,b,p)&&l(a,b)!==0,j=()=>l(i,p)===0||c(i,b,p),C=()=>x||N(),k=()=>!x||j();for(let _=u,B=u;_<=A;++_)y=e[_%o],!y.skip&&(p=d(y[n]),p!==b&&(x=c(p,a,i),m===null&&C()&&(m=l(p,a)===0?_:B),m!==null&&k()&&(g.push($I({start:m,end:_,loop:h,count:o,style:f})),m=null),B=_,b=p));return m!==null&&g.push($I({start:m,end:A,loop:h,count:o,style:f})),g}function Jq(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const i=Yq(n[a],t.points,e);i.length&&r.push(...i)}return r}function qxe(t,e,r,n){let a=0,i=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function zxe(t,e,r,n){const a=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=r;++c){const d=t[c%a];d.skip||d.stop?l.skip||(n=!1,i.push({start:e%a,end:(c-1)%a,loop:n}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%a,end:o%a,loop:n}),i}function Vxe(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:o,end:l}=qxe(r,a,i,n);if(n===!0)return HI(t,[{start:o,end:l,loop:i}],r,e);const c=l<o?l+a:l,d=!!t._fullLoop&&o===0&&l===a-1;return HI(t,zxe(r,o,c,d),r,e)}function HI(t,e,r,n){return!n||!n.setContext||!r?e:Kxe(t,e,r,n)}function Kxe(t,e,r,n){const a=t._chart.getContext(),i=qI(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=r.length,d=[];let u=i,A=e[0].start,h=A;function f(g,x,m,p){const y=l?-1:1;if(g!==x){for(g+=c;r[g%c].skip;)g-=y;for(;r[x%c].skip;)x+=y;g%c!==x%c&&(d.push({start:g%c,end:x%c,loop:m,style:p}),u=p,A=x%c)}}for(const g of e){A=l?A:g.start;let x=r[A%c],m;for(h=A+1;h<=g.end;h++){const p=r[h%c];m=qI(n.setContext(lA(a,{type:"segment",p0:x,p1:p,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),Wxe(m,u)&&f(A,h-1,g.loop,u),x=p,u=m}A<h-1&&f(A,h-1,g.loop,u)}return d}function qI(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Wxe(t,e){if(!e)return!1;const r=[],n=function(a,i){return WE(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Sv(t,e,r){return t.options.clip?t[r]:e[r]}function Gxe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Sv(r,e,"left"),right:Sv(r,e,"right"),top:Sv(n,e,"top"),bottom:Sv(n,e,"bottom")}:e}function Zq(t,e){const r=e._clip;if(r.disabled)return!1;const n=Gxe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Xxe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Mq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var dl=new Xxe;const zI="transparent",Yxe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=OI(t||zI),a=n.valid&&OI(e||zI);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Jxe{constructor(e,r,n,a){const i=r[n];a=Cv([e.to,a,i,e.from]);const o=Cv([e.from,i,a]);this._active=!0,this._fn=e.fn||Yxe[e.type||typeof o],this._easing=Cg[e.easing]||Cg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Cv([e.to,r,a,e.from]),this._from=Cv([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class ez{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Wt(e))return;const r=Object.keys(xn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!Wt(i))return;const o={};for(const l of r)o[l]=i[l];(Fn(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,r){const n=r.options,a=eye(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Zxe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,r));continue}const u=r[d];let A=i[d];const h=n.get(d);if(A)if(h&&A.active()){A.update(h,u,l);continue}else A.cancel();if(!h||!h.duration){e[d]=u;continue}i[d]=A=new Jxe(h,e,d,u),a.push(A)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return dl.add(this._chart,n),!0}}function Zxe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function eye(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function VI(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function tye(t,e,r){if(r===!1)return!1;const n=VI(t,r),a=VI(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function rye(t){let e,r,n,a;return Wt(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function tz(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function KI(t,e,r,n={}){const a=t.keys,i=n.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,n.all)continue;break}d=t.values[c],Rs(d)&&(i||e===0||Mo(e)===Mo(d))&&(e+=d)}return!u&&!n.all?0:e}function nye(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function Z_(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function sye(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function aye(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function iye(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function WI(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function GI(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,d=o.axis,u=sye(i,o,n),A=e.length;let h;for(let f=0;f<A;++f){const g=e[f],{[c]:x,[d]:m}=g,p=g._stacks||(g._stacks={});h=p[d]=iye(a,u,x),h[l]=m,h._top=WI(h,o,!0,n.type),h._bottom=WI(h,o,!1,n.type);const y=h._visualValues||(h._visualValues={});y[l]=m}}function e5(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function oye(t,e){return lA(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function lye(t,e,r){return lA(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function mp(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const t5=t=>t==="reset"||t==="none",XI=(t,e)=>e?t:Object.assign({},t),cye=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:tz(r,!0),values:null};class Tu{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Z_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&mp(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(A,h,f,g)=>A==="x"?h:A==="r"?g:f,i=r.xAxisID=Ut(n.xAxisID,e5(e,"x")),o=r.yAxisID=Ut(n.yAxisID,e5(e,"y")),l=r.rAxisID=Ut(n.rAxisID,e5(e,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&PI(this._data,this),e._stacked&&mp(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Wt(r)){const a=this._cachedMeta;this._data=nye(r,a)}else if(n!==r){if(n){PI(n,this);const a=this._cachedMeta;mp(a),a._parsed=[]}r&&Object.isExtensible(r)&&z0e(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=Z_(r.vScale,r),r.stack!==n.stack&&(a=!0,mp(r),r.stack=n.stack),this._resyncElements(e),(a||i!==r._stacked)&&(GI(this,r._parsed),r._stacked=Z_(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=e===0&&r===a.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,A,h;if(this._parsing===!1)n._parsed=a,n._sorted=!0,h=a;else{Fn(a[e])?h=this.parseArrayData(n,a,e,r):Wt(a[e])?h=this.parseObjectData(n,a,e,r):h=this.parsePrimitiveData(n,a,e,r);const f=()=>A[l]===null||d&&A[l]<d[l];for(u=0;u<r;++u)n._parsed[u+e]=A=h[u],c&&(f()&&(c=!1),d=A);n._sorted=c}o&&GI(this,h)}parsePrimitiveData(e,r,n,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,A=new Array(a);let h,f,g;for(h=0,f=a;h<f;++h)g=h+n,A[h]={[l]:u||i.parse(d[g],g),[c]:o.parse(r[g],g)};return A}parseArrayData(e,r,n,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,A;for(c=0,d=a;c<d;++c)u=c+n,A=r[u],l[c]={x:i.parse(A[0],u),y:o.parse(A[1],u)};return l}parseObjectData(e,r,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,A,h,f;for(u=0,A=a;u<A;++u)h=u+n,f=r[h],d[u]={x:i.parse(Ku(f,l),h),y:o.parse(Ku(f,c),h)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,i=this._cachedMeta,o=r[e.axis],l={keys:tz(a,!0),values:r._stacks[e.axis]._visualValues};return KI(l,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,o=KI(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=cye(r,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:A}=aye(l);let h,f;function g(){f=a[h];const x=f[l.axis];return!Rs(f[e.axis])||u>x||A<x}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(d,e,f,c),i));++h);if(i){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],Rs(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=rye(Ut(this.options.clip,tye(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const A=a[u];A.hidden||(A.active&&d?o.push(A):A.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=lye(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=oye(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,l=i[o],c=this.enableOptionSharing&&g0(n);if(l)return XI(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),A=a?[`${e}Hover`,"hover",e,""]:[e,""],h=d.getOptionScopes(this.getDataset(),u),f=Object.keys(xn.elements[e]),g=()=>this.getContext(n,a,r),x=d.resolveNamedOptions(h,f,g,A);return x.$shared&&(x.$shared=c,i[o]=Object.freeze(XI(x,c))),x}_resolveAnimations(e,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,A=u.datasetAnimationScopeKeys(this._type,r),h=u.getOptionScopes(this.getDataset(),A);c=u.createResolver(h,this.getContext(e,n,r))}const d=new ez(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||t5(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,a){t5(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!t5(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,n=!0){const a=this._cachedMeta,i=a.data,o=e+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&mp(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ot(Tu,"defaults",{}),ot(Tu,"datasetElementType",null),ot(Tu,"dataElementType",null);function dye(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=Lq(n.sort((a,i)=>a-i))}return t._cache.$bar}function uye(t){const e=t.iScale,r=dye(e,t.type);let n=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(g0(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return n}function Aye(t,e,r,n){const a=r.barThickness;let i,o;return or(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function hye(t,e,r,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:r.barPercentage,start:d}}function fye(t,e,r,n){const a=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function rz(t,e,r,n){return Fn(t)?fye(t,e,r,n):e[r.axis]=r.parse(t,n),e}function YI(t,e,r,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,A,h;for(d=r,u=r+n;d<u;++d)h=e[d],A={},A[a.axis]=l||a.parse(o[d],d),c.push(rz(h,A,i,d));return c}function r5(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function mye(t,e,r){return t!==0?Mo(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function pye(t){let e,r,n,a,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:e,top:a,bottom:i}}function gye(t,e,r,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=pye(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=d:(r._bottom||0)===n?a=u:(i[JI(u,o,l,c)]=!0,a=d)),i[JI(a,o,l,c)]=!0,t.borderSkipped=i}function JI(t,e,r,n){return n?(t=xye(t,e,r),t=ZI(t,r,e)):t=ZI(t,e,r),t}function xye(t,e,r){return t===e?r:t===r?e:t}function ZI(t,e,r){return t==="start"?e:t==="end"?r:t}function yye(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class jb extends Tu{parsePrimitiveData(e,r,n,a){return YI(e,r,n,a)}parseArrayData(e,r,n,a){return YI(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,A=[];let h,f,g,x;for(h=n,f=n+a;h<f;++h)x=r[h],g={},g[i.axis]=i.parse(Ku(x,d),h),A.push(rz(Ku(x,u),g,o,h));return A}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(e),o=i._custom,l=r5(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:A,includeOptions:h}=this._getSharedOptions(r,a);for(let f=r;f<r+n;f++){const g=this.getParsed(f),x=i||or(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),p=(g._stacks||{})[l.axis],y={horizontal:d,base:x.base,enableBorderRadius:!p||r5(g._custom)||o===p._top||o===p._bottom,x:d?x.head:m.center,y:d?m.center:x.head,height:d?m.size:Math.abs(x.size),width:d?Math.abs(x.size):m.size};h&&(y.options=A||this.resolveDataElementOptions(f,e[f].active?"active":a));const b=y.options||e[f].options;gye(y,b,p,o),yye(y,b,u.ratio),this.updateElement(e[f],f,y,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],d=u=>{const A=u._parsed.find(f=>f[n.axis]===c),h=A&&A[u.vScale.axis];if(or(h)||isNaN(h))return!0};for(const u of a)if(!(r!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Ut(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||uye(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=r5(d);let A=c[r.axis],h=0,f=n?this.applyStack(r,c,n):A,g,x;f!==A&&(h=f-A,f=A),u&&(A=d.barStart,f=d.barEnd-d.barStart,A!==0&&Mo(A)!==Mo(d.barEnd)&&(h=0),h+=A);const m=!or(i)&&!u?i:h;let p=r.getPixelForValue(m);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(h+f):g=p,x=g-p,Math.abs(x)<o){x=mye(x,r,l)*o,A===l&&(p-=x/2);const y=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),N=Math.min(y,b),j=Math.max(y,b);p=Math.max(Math.min(p,j),N),g=p+x,n&&!u&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(g)-r.getValueForPixel(p))}if(p===r.getPixelForValue(l)){const y=Mo(x)*r.getLineWidthForValue(l)/2;p+=y,x-=y}return{size:x,base:p,head:g,center:g+x/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,i=a.skipNull,o=Ut(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,A=a.barThickness==="flex"?hye(e,r,a,u*d):Aye(e,r,a,u*d),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Ut(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;l=A.start+A.chunk*g+A.chunk/2,c=Math.min(o,A.chunk*A.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}ot(jb,"id","bar"),ot(jb,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ot(jb,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function vye(t,e,r){let n=1,a=1,i=0,o=0;if(e<Xr){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),A=Math.cos(c),h=Math.sin(c),f=(b,N,j)=>y0(b,l,c,!0)?1:Math.max(N,N*r,j,j*r),g=(b,N,j)=>y0(b,l,c,!0)?-1:Math.min(N,N*r,j,j*r),x=f(0,d,A),m=f(zn,u,h),p=g(Ar,d,A),y=g(Ar+zn,u,h);n=(x-p)/2,a=(m-y)/2,i=-(x+p)/2,o=-(m+y)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class Dh extends Tu{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=c=>+n[c];if(Wt(n[e])){const{key:c="value"}=this._parsing;i=d=>+Ku(n[d],c)}let o,l;for(o=e,l=e+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return wl(this.options.rotation-90)}_getCircumference(){return wl(this.options.circumference)}_getRotationExtents(){let e=Xr,r=-Xr;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(S0e(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:A}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:x}=vye(A,u,c),m=(n.width-o)/h,p=(n.height-o)/f,y=Math.max(Math.min(m,p)/2,0),b=Fq(this.options.radius,y),N=Math.max(b*c,0),j=(b-N)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=x*b,a.total=this.calculateTotal(),this.outerRadius=b-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Xr)}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,A=(l.top+l.bottom)/2,h=i&&d.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:x,includeOptions:m}=this._getSharedOptions(r,a);let p=this._getRotation(),y;for(y=0;y<r;++y)p+=this._circumference(y,i);for(y=r;y<r+n;++y){const b=this._circumference(y,i),N=e[y],j={x:u+this.offsetX,y:A+this.offsetY,startAngle:p,endAngle:p+b,circumference:b,outerRadius:g,innerRadius:f};m&&(j.options=x||this.resolveDataElementOptions(y,N.active?"active":a)),p+=b,this.updateElement(N,y,j,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Xr*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=GE(r._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Ut(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ot(Dh,"id","doughnut"),ot(Dh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ot(Dh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ot(Dh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,d)=>{const A=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:A.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:A.borderWidth,strokeStyle:A.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(l||A.borderRadius),index:d}}):[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Nb extends Tu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=W0e(r,a,o);this._drawStart=l,this._drawCount=c,G0e(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:A}=this._getSharedOptions(r,a),h=o.axis,f=l.axis,{spanGaps:g,segment:x}=this.options,m=x0(g)?g:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||i||a==="none",y=r+n,b=e.length;let N=r>0&&this.getParsed(r-1);for(let j=0;j<b;++j){const C=e[j],k=p?C:{};if(j<r||j>=y){k.skip=!0;continue}const _=this.getParsed(j),B=or(_[f]),T=k[h]=o.getPixelForValue(_[h],j),w=k[f]=i||B?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,_,c):_[f],j);k.skip=isNaN(T)||isNaN(w)||B,k.stop=j>0&&Math.abs(_[h]-N[h])>m,x&&(k.parsed=_,k.raw=d.data[j]),A&&(k.options=u||this.resolveDataElementOptions(j,C.active?"active":a)),p||this.updateElement(C,j,k,a),N=_}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ot(Nb,"id","line"),ot(Nb,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ot(Nb,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class uB extends Dh{}ot(uB,"id","pie"),ot(uB,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Hd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rk{constructor(e){ot(this,"options");this.options=e||{}}static override(e){Object.assign(rk.prototype,e)}init(){}formats(){return Hd()}parse(){return Hd()}format(){return Hd()}add(){return Hd()}diff(){return Hd()}startOf(){return Hd()}endOf(){return Hd()}}var bye={_date:rk};function wye(t,e,r,n){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?H0e:gu;if(n){if(a._sharedOptions){const u=i[0],A=typeof u.getRange=="function"&&u.getRange(e);if(A){const h=d(i,e,r-A),f=d(i,e,r+A);return{lo:h.lo,hi:f.hi}}}}else{const u=d(i,e,r);if(c){const{vScale:A}=a._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(x=>!or(x[A.axis]));u.lo-=Math.max(0,f);const g=h.slice(u.hi).findIndex(x=>!or(x[A.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function C2(t,e,r,n,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:A,hi:h}=wye(i[l],e,o,a);for(let f=A;f<=h;++f){const g=u[f];g.skip||n(g,d,f)}}}function jye(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function n5(t,e,r,n,a){const i=[];return!a&&!t.isPointInArea(e)||C2(t,r,e,function(l,c,d){!a&&!v0(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function Nye(t,e,r,n){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:A}=Iq(o,{x:e.x,y:e.y});y0(A,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return C2(t,r,e,i),a}function _ye(t,e,r,n,a,i){let o=[];const l=jye(r);let c=Number.POSITIVE_INFINITY;function d(u,A,h){const f=u.inRange(e.x,e.y,a);if(n&&!f)return;const g=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(g))&&!f)return;const m=l(e,g);m<c?(o=[{element:u,datasetIndex:A,index:h}],c=m):m===c&&o.push({element:u,datasetIndex:A,index:h})}return C2(t,r,e,d),o}function s5(t,e,r,n,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?Nye(t,e,r,a):_ye(t,e,r,n,a,i)}function eD(t,e,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return C2(t,r,e,(c,d,u)=>{c[o]&&c[o](e[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:i}var Cye={modes:{index(t,e,r,n){const a=Jd(e,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?n5(t,a,i,n,o):s5(t,a,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,A=d.data[u];A&&!A.skip&&c.push({element:A,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,n){const a=Jd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?n5(t,a,i,n,o):s5(t,a,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,r,n){const a=Jd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return n5(t,a,i,n,o)},nearest(t,e,r,n){const a=Jd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return s5(t,a,i,r.intersect,n,o)},x(t,e,r,n){const a=Jd(e,t);return eD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=Jd(e,t);return eD(t,a,"y",r.intersect,n)}}};const nz=["left","top","right","bottom"];function pp(t,e){return t.filter(r=>r.pos===e)}function tD(t,e){return t.filter(r=>nz.indexOf(r.pos)===-1&&r.box.axis===e)}function gp(t,e){return t.sort((r,n)=>{const a=e?n:r,i=e?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function Bye(t){const e=[];let r,n,a,i,o,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function Sye(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!nz.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Eye(t,e){const r=Sye(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=u?u*a:c&&e.availableHeight)}return r}function kye(t){const e=Bye(t),r=gp(e.filter(d=>d.box.fullSize),!0),n=gp(pp(e,"left"),!0),a=gp(pp(e,"right")),i=gp(pp(e,"top"),!0),o=gp(pp(e,"bottom")),l=tD(e,"x"),c=tD(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:pp(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function rD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function sz(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Pye(t,e,r,n){const{pos:a,box:i}=r,o=t.maxPadding;if(!Wt(a)){r.size&&(t[a]-=r.size);const A=n[r.stack]||{size:0,count:1};A.size=Math.max(A.size,r.horizontal?i.height:i.width),r.size=A.size/A.count,t[a]+=r.size}i.getPadding&&sz(o,i.getPadding());const l=Math.max(0,e.outerWidth-rD(o,t,"left","right")),c=Math.max(0,e.outerHeight-rD(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function Fye(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function Tye(t,e){const r=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Wp(t,e,r,n){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,Tye(l.horizontal,e));const{same:A,other:h}=Pye(e,r,l,n);d|=A&&a.length,u=u||h,c.fullSize||a.push(l)}return d&&Wp(a,e,r,n)||u}function Ev(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function nD(t,e,r,n){const a=r.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const A=e.w*u,h=d.size||c.height;g0(d.start)&&(o=d.start),c.fullSize?Ev(c,a.left,o,r.outerWidth-a.right-a.left,h):Ev(c,e.left+d.placed,o,A,h),d.start=o,d.placed+=A,o=c.bottom}else{const A=e.h*u,h=d.size||c.width;g0(d.start)&&(i=d.start),c.fullSize?Ev(c,i,a.top,h,r.outerHeight-a.bottom-a.top):Ev(c,i,e.top+d.placed,h,A),d.start=i,d.placed+=A,i=c.right}}e.x=i,e.y=o}var mi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Ni(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),l=kye(t.boxes),c=l.vertical,d=l.horizontal;ur(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,m)=>m.box.options&&m.box.options.display===!1?x:x+1,0)||1,A=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},a);sz(h,Ni(n));const f=Object.assign({maxPadding:h,w:i,h:o,x:a.left,y:a.top},a),g=Eye(c.concat(d),A);Wp(l.fullSize,f,A,g),Wp(c,f,A,g),Wp(d,f,A,g)&&Wp(c,f,A,g),Fye(f),nD(l.leftAndTop,f,A,g),f.x+=f.w,f.y+=f.h,nD(l.rightAndBottom,f,A,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ur(l.chartArea,x=>{const m=x.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class az{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Oye extends az{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _b="$chartjs",Iye={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sD=t=>t===null||t==="";function Dye(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[_b]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",sD(a)){const i=QI(t,"width");i!==void 0&&(t.width=i)}if(sD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=QI(t,"height");i!==void 0&&(t.height=i)}return t}const iz=Mxe?{passive:!0}:!1;function Lye(t,e,r){t&&t.addEventListener(e,r,iz)}function Mye(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,iz)}function Uye(t,e){const r=Iye[t.type]||t.type,{x:n,y:a}=Jd(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Ew(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Rye(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Ew(l.addedNodes,n),o=o&&!Ew(l.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Qye(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Ew(l.removedNodes,n),o=o&&!Ew(l.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const w0=new Map;let aD=0;function oz(){const t=window.devicePixelRatio;t!==aD&&(aD=t,w0.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function $ye(t,e){w0.size||window.addEventListener("resize",oz),w0.set(t,e)}function Hye(t){w0.delete(t),w0.size||window.removeEventListener("resize",oz)}function qye(t,e,r){const n=t.canvas,a=n&&tk(n);if(!a)return;const i=Uq((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),$ye(t,i),o}function a5(t,e,r){r&&r.disconnect(),e==="resize"&&Hye(t)}function zye(t,e,r){const n=t.canvas,a=Uq(i=>{t.ctx!==null&&r(Uye(i,t))},t);return Lye(n,e,a),a}class Vye extends az{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Dye(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[_b])return!1;const n=r[_b].initial;["height","width"].forEach(i=>{const o=n[i];or(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[_b],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:Rye,detach:Qye,resize:qye}[r]||zye;a[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:a5,detach:a5,resize:a5}[r]||Mye)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return Lxe(e,r,n,a)}isAttached(e){const r=e&&tk(e);return!!(r&&r.isConnected)}}function Kye(t){return!ek()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Oye:Vye}var Gv;let Gl=(Gv=class{constructor(){ot(this,"x");ot(this,"y");ot(this,"active",!1);ot(this,"options");ot(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return x0(this.x)&&x0(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},ot(Gv,"defaults",{}),ot(Gv,"defaultRoutes"),Gv);function Wye(t,e){const r=t.options.ticks,n=Gye(t),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Yye(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return Jye(e,d,i,o/a),d;const u=Xye(i,e,a);if(o>0){let A,h;const f=o>1?Math.round((c-l)/(o-1)):null;for(kv(e,d,u,or(f)?0:l-f,l),A=0,h=o-1;A<h;A++)kv(e,d,u,i[A],i[A+1]);return kv(e,d,u,c,or(f)?e.length:c+f),d}return kv(e,d,u),d}function Gye(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function Xye(t,e,r){const n=Zye(t),a=e.length/r;if(!n)return Math.max(a,1);const i=D0e(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function Yye(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function Jye(t,e,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*n])}function kv(t,e,r,n,a){const i=Ut(n,0),o=Math.min(Ut(a,t.length),t.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*r))}function Zye(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const eve=t=>t==="left"?"right":t==="right"?"left":t,iD=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,oD=(t,e)=>Math.min(e||t,t);function lD(t,e){const r=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)r.push(t[Math.floor(i)]);return r}function tve(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(r&&(n===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function rve(t,e){ur(t,r=>{const n=r.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function xp(t){return t.drawTicks?t.tickLength:0}function cD(t,e){if(!t.display)return 0;const r=Ms(t.font,e),n=Ni(t.padding);return(Fn(t.text)?t.text.length:1)*r.lineHeight+n.height}function nve(t,e){return lA(t,{scale:e,type:"scale"})}function sve(t,e,r){return lA(t,{tick:r,index:e,type:"tick"})}function ave(t,e,r){let n=KE(t);return(r&&e!=="right"||!r&&e==="right")&&(n=eve(n)),n}function ive(t,e,r,n){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let A=0,h,f,g;const x=o-a,m=l-i;if(t.isHorizontal()){if(f=Ss(n,i,l),Wt(r)){const p=Object.keys(r)[0],y=r[p];g=u[p].getPixelForValue(y)+x-e}else r==="center"?g=(d.bottom+d.top)/2+x-e:g=iD(t,r,e);h=l-i}else{if(Wt(r)){const p=Object.keys(r)[0],y=r[p];f=u[p].getPixelForValue(y)-m+e}else r==="center"?f=(d.left+d.right)/2-m+e:f=iD(t,r,e);g=Ss(n,o,a),A=r==="left"?-zn:zn}return{titleX:f,titleY:g,maxWidth:h,rotation:A}}class lm extends Gl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=jo(e,Number.POSITIVE_INFINITY),r=jo(r,Number.NEGATIVE_INFINITY),n=jo(n,Number.POSITIVE_INFINITY),a=jo(a,Number.NEGATIVE_INFINITY),{min:jo(e,n),max:jo(r,a),minDefined:Rs(e),maxDefined:Rs(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:jo(r,jo(n,r)),max:jo(n,jo(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mxe(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?lD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Wye(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dr(this.options.afterUpdate,[this])}beforeSetDimensions(){Dr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Dr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=Dr(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Dr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=oD(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),A=u.widest.width,h=u.highest.height,f=Ls(this.chart.width-A,0,this.maxWidth);l=e.offset?this.maxWidth/n:f/(n-1),A+6>l&&(l=f/(n-(e.offset?.5:1)),c=this.maxHeight-xp(e.grid)-r.padding-cD(e.title,this.chart.options.font),d=Math.sqrt(A*A+h*h),o=R0e(Math.min(Math.asin(Ls((u.highest.height+6)/l,-1,1)),Math.asin(Ls(c/d,-1,1))-Math.asin(Ls(h/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Dr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=cD(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=xp(i)+c):(e.height=this.maxHeight,e.width=xp(i)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:A,highest:h}=this._getLabelSizes(),f=n.padding*2,g=wl(this.labelRotation),x=Math.cos(g),m=Math.sin(g);if(l){const p=n.mirror?0:m*A.width+x*h.height;e.height=Math.min(this.maxHeight,e.height+p+f)}else{const p=n.mirror?0:x*A.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+p+f)}this._calculatePadding(d,u,m,x)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,A=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;c?d?(h=a*e.width,f=n*r.height):(h=n*e.height,f=a*r.width):i==="start"?f=r.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,f=r.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-A+o)*this.width/(this.width-A),0)}else{let u=r.height/2,A=e.height/2;i==="start"?(u=0,A=e.height):i==="end"&&(u=r.height,A=0),this.paddingTop=u+o,this.paddingBottom=A+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)or(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=lD(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/oD(r,n));let d=0,u=0,A,h,f,g,x,m,p,y,b,N,j;for(A=0;A<r;A+=c){if(g=e[A].label,x=this._resolveTickFontOptions(A),a.font=m=x.string,p=i[m]=i[m]||{data:{},gc:[]},y=x.lineHeight,b=N=0,!or(g)&&!Fn(g))b=DI(a,p.data,p.gc,b,g),N=y;else if(Fn(g))for(h=0,f=g.length;h<f;++h)j=g[h],!or(j)&&!Fn(j)&&(b=DI(a,p.data,p.gc,b,j),N+=y);o.push(b),l.push(N),d=Math.max(b,d),u=Math.max(N,u)}rve(i,r);const C=o.indexOf(d),k=l.indexOf(u),_=B=>({width:o[B]||0,height:l[B]||0});return{first:_(0),last:_(r-1),widest:_(C),highest:_(k),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return $0e(this._alignToPixels?$d(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=sve(this.getContext(),e,n))}return this.$context||(this.$context=nve(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=wl(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),A=this.ticks.length+(c?1:0),h=xp(i),f=[],g=l.setContext(this.getContext()),x=g.display?g.width:0,m=x/2,p=function(U){return $d(n,U,x)};let y,b,N,j,C,k,_,B,T,w,E,D;if(o==="top")y=p(this.bottom),k=this.bottom-h,B=y-m,w=p(e.top)+m,D=e.bottom;else if(o==="bottom")y=p(this.top),w=e.top,D=p(e.bottom)-m,k=y+m,B=this.top+h;else if(o==="left")y=p(this.right),C=this.right-h,_=y-m,T=p(e.left)+m,E=e.right;else if(o==="right")y=p(this.left),T=e.left,E=p(e.right)-m,C=y+m,_=this.left+h;else if(r==="x"){if(o==="center")y=p((e.top+e.bottom)/2+.5);else if(Wt(o)){const U=Object.keys(o)[0],M=o[U];y=p(this.chart.scales[U].getPixelForValue(M))}w=e.top,D=e.bottom,k=y+m,B=k+h}else if(r==="y"){if(o==="center")y=p((e.left+e.right)/2);else if(Wt(o)){const U=Object.keys(o)[0],M=o[U];y=p(this.chart.scales[U].getPixelForValue(M))}C=y-m,_=C-h,T=e.left,E=e.right}const O=Ut(a.ticks.maxTicksLimit,A),L=Math.max(1,Math.ceil(A/O));for(b=0;b<A;b+=L){const U=this.getContext(b),M=i.setContext(U),Q=l.setContext(U),q=M.lineWidth,J=M.color,ee=Q.dash||[],$=Q.dashOffset,R=M.tickWidth,K=M.tickColor,V=M.tickBorderDash||[],ae=M.tickBorderDashOffset;N=tve(this,b,c),N!==void 0&&(j=$d(n,N,q),d?C=_=T=E=j:k=B=w=D=j,f.push({tx1:C,ty1:k,tx2:_,ty2:B,x1:T,y1:w,x2:E,y2:D,width:q,color:J,borderDash:ee,borderDashOffset:$,tickWidth:R,tickColor:K,tickBorderDash:V,tickBorderDashOffset:ae}))}return this._ticksLength=A,this._borderValue=y,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:A}=i,h=xp(n.grid),f=h+u,g=A?-u:f,x=-wl(this.labelRotation),m=[];let p,y,b,N,j,C,k,_,B,T,w,E,D="middle";if(a==="top")C=this.bottom-g,k=this._getXAxisLabelAlignment();else if(a==="bottom")C=this.top+g,k=this._getXAxisLabelAlignment();else if(a==="left"){const L=this._getYAxisLabelAlignment(h);k=L.textAlign,j=L.x}else if(a==="right"){const L=this._getYAxisLabelAlignment(h);k=L.textAlign,j=L.x}else if(r==="x"){if(a==="center")C=(e.top+e.bottom)/2+f;else if(Wt(a)){const L=Object.keys(a)[0],U=a[L];C=this.chart.scales[L].getPixelForValue(U)+f}k=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")j=(e.left+e.right)/2-f;else if(Wt(a)){const L=Object.keys(a)[0],U=a[L];j=this.chart.scales[L].getPixelForValue(U)}k=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));const O=this._getLabelSizes();for(p=0,y=l.length;p<y;++p){b=l[p],N=b.label;const L=i.setContext(this.getContext(p));_=this.getPixelForTick(p)+i.labelOffset,B=this._resolveTickFontOptions(p),T=B.lineHeight,w=Fn(N)?N.length:1;const U=w/2,M=L.color,Q=L.textStrokeColor,q=L.textStrokeWidth;let J=k;o?(j=_,k==="inner"&&(p===y-1?J=this.options.reverse?"left":"right":p===0?J=this.options.reverse?"right":"left":J="center"),a==="top"?d==="near"||x!==0?E=-w*T+T/2:d==="center"?E=-O.highest.height/2-U*T+T:E=-O.highest.height+T/2:d==="near"||x!==0?E=T/2:d==="center"?E=O.highest.height/2-U*T:E=O.highest.height-w*T,A&&(E*=-1),x!==0&&!L.showLabelBackdrop&&(j+=T/2*Math.sin(x))):(C=_,E=(1-w)*T/2);let ee;if(L.showLabelBackdrop){const $=Ni(L.backdropPadding),R=O.heights[p],K=O.widths[p];let V=E-$.top,ae=0-$.left;switch(D){case"middle":V-=R/2;break;case"bottom":V-=R;break}switch(k){case"center":ae-=K/2;break;case"right":ae-=K;break;case"inner":p===y-1?ae-=K:p>0&&(ae-=K/2);break}ee={left:ae,top:V,width:K+$.width,height:R+$.height,color:L.backdropColor}}m.push({label:N,font:B,textOffset:E,options:{rotation:x,color:M,strokeColor:Q,strokeWidth:q,textAlign:J,textBaseline:D,translation:[j,C],backdrop:ee}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-wl(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,A,h;this.isHorizontal()?(d=$d(e,this.left,o)-o/2,u=$d(e,this.right,l)+l/2,A=h=c):(A=$d(e,this.top,o)-o/2,h=$d(e,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,A),r.lineTo(u,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&j2(n,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;b0(n,d,0,u,c,l)}a&&N2(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=Ms(n.font),o=Ni(n.padding),l=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||Wt(r)?(c+=o.bottom,Fn(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:A,rotation:h}=ive(this,c,r,l);b0(e,n.text,0,0,i,{color:n.color,maxWidth:A,rotation:h,textAlign:ave(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Ut(e.grid&&e.grid.z,-1),a=Ut(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==lm.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Ms(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Pv{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;cve(r)&&(n=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,ove(e,o,n),this.override&&xn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in xn[a]&&(delete xn[a][n],this.override&&delete Wu[n])}}function ove(t,e,r){const n=p0(Object.create(null),[r?xn.get(r):{},xn.get(e),t.defaults]);xn.set(e,n),t.defaultRoutes&&lve(e,t.defaultRoutes),t.descriptors&&xn.describe(e,t.descriptors)}function lve(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),l=o.pop(),c=o.join(".");xn.route(i,a,c,l)})}function cve(t){return"id"in t&&"defaults"in t}class dve{constructor(){this.controllers=new Pv(Tu,"datasets",!0),this.elements=new Pv(Gl,"elements"),this.plugins=new Pv(Object,"plugins"),this.scales=new Pv(lm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):ur(a,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,r,n){const a=zE(e);Dr(n["before"+a],[],n),r[e](n),Dr(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var So=new dve;class uve{constructor(){this._init=void 0}notify(e,r,n,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,n,a){a=a||{};for(const i of e){const o=i.plugin,l=o[n],c=[r,a,i.options];if(Dr(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){or(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Ut(n.options&&n.options.plugins,{}),i=Ave(n);return a===!1&&!r?[]:fve(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Ave(t){const e={},r=[],n=Object.keys(So.plugins.items);for(let i=0;i<n.length;i++)r.push(So.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function hve(t,e){return!e&&t===!1?null:t===!0?{}:t}function fve(t,{plugins:e,localIds:r},n,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=hve(n[c],a);d!==null&&i.push({plugin:l,options:mve(t.config,{plugin:l,local:r[c]},d,o)})}return i}function mve(t,{plugin:e,local:r},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function AB(t,e){const r=xn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function pve(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function gve(t,e){return t===e?"_index_":"_value_"}function dD(t){if(t==="x"||t==="y"||t==="r")return t}function xve(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function hB(t,...e){if(dD(t))return t;for(const r of e){const n=r.axis||xve(r.position)||t.length>1&&dD(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function uD(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function yve(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return uD(t,"x",r[0])||uD(t,"y",r[0])}return{}}function vve(t,e){const r=Wu[t.type]||{scales:{}},n=e.scales||{},a=AB(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!Wt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=hB(o,l,yve(o,t),xn.scales[l.type]),d=gve(c,a),u=r.scales||{};i[o]=Ng(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||AB(l,e),u=(Wu[l]||{}).scales||{};Object.keys(u).forEach(A=>{const h=pve(A,c),f=o[h+"AxisID"]||h;i[f]=i[f]||Object.create(null),Ng(i[f],[{axis:h},n[f],u[A]])})}),Object.keys(i).forEach(o=>{const l=i[o];Ng(l,[xn.scales[l.type],xn.scale])}),i}function lz(t){const e=t.options||(t.options={});e.plugins=Ut(e.plugins,{}),e.scales=vve(t,e)}function cz(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bve(t){return t=t||{},t.data=cz(t.data),lz(t),t}const AD=new Map,dz=new Set;function Fv(t,e){let r=AD.get(t);return r||(r=e(),AD.set(t,r),dz.add(r)),r}const yp=(t,e,r)=>{const n=Ku(e,r);n!==void 0&&t.add(n)};class wve{constructor(e){this._config=bve(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=cz(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),lz(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Fv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Fv(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Fv(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Fv(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(A=>yp(c,e,A))),u.forEach(A=>yp(c,a,A)),u.forEach(A=>yp(c,Wu[i]||{},A)),u.forEach(A=>yp(c,xn,A)),u.forEach(A=>yp(c,cB,A))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),dz.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,Wu[r]||{},xn.datasets[r]||{},{type:r},xn,cB]}resolveNamedOptions(e,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=hD(this._resolverCache,e,a);let c=o;if(Nve(o,r)){i.$shared=!1,n=fd(n)?n():n;const d=this.createResolver(e,n,l);c=Nf(o,n,d)}for(const d of r)i[d]=c[d];return i}createResolver(e,r,n=[""],a){const{resolver:i}=hD(this._resolverCache,e,n);return Wt(r)?Nf(i,r,void 0,a):i}}function hD(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let i=n.get(a);return i||(i={resolver:YE(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const jve=t=>Wt(t)&&Object.getOwnPropertyNames(t).some(e=>fd(t[e]));function Nve(t,e){const{isScriptable:r,isIndexable:n}=Hq(t);for(const a of e){const i=r(a),o=n(a),l=(o||i)&&t[a];if(i&&(fd(l)||jve(l))||o&&Fn(l))return!0}return!1}var _ve="4.5.1";const Cve=["top","bottom","left","right","chartArea"];function fD(t,e){return t==="top"||t==="bottom"||Cve.indexOf(t)===-1&&e==="x"}function mD(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function pD(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Dr(r&&r.onComplete,[t],e)}function Bve(t){const e=t.chart,r=e.options.animation;Dr(r&&r.onProgress,[t],e)}function uz(t){return ek()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Cb={},gD=t=>{const e=uz(t);return Object.values(Cb).filter(r=>r.canvas===e).pop()};function Sve(t,e,r){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function Eve(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var yc;let cA=(yc=class{static register(...e){So.add(...e),xD()}static unregister(...e){So.remove(...e),xD()}constructor(e,r){const n=this.config=new wve(r),a=uz(e),i=gD(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Kye(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=B0e(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uve,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=V0e(A=>this.update(A),o.resizeDelay||0),this._dataChanges=[],Cb[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}dl.listen(this,"complete",pD),dl.listen(this,"progress",Bve),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return or(e)?r&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return So}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():RI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return LI(this.canvas,this.ctx),this}stop(){return dl.stop(this),this}resize(e,r){dl.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,RI(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Dr(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ur(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=hB(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),ur(i,o=>{const l=o.options,c=l.id,d=hB(c,l),u=Ut(l.type,o.dtype);(l.position===void 0||fD(l.position,d)!==fD(o.dposition))&&(l.position=o.dposition),a[c]=!0;let A=null;if(c in n&&n[c].type===u)A=n[c];else{const h=So.getScale(u);A=new h({id:c,type:u,ctx:this.ctx,chart:this}),n[A.id]=A}A.init(l,e)}),ur(a,(o,l)=>{o||delete n[l]}),ur(n,o=>{mi.configure(this,o,o.options),mi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(mD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||AB(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=So.getController(l),{datasetElementType:d,dataElementType:u}=xn.datasets[l];Object.assign(c,{dataElementType:So.getElement(u),datasetElementType:d&&So.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ur(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:A}=this.getDatasetMeta(d),h=!a&&i.indexOf(A)===-1;A.buildOrUpdateElements(h),o=Math.max(+A.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||ur(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ur(this.scales,e=>{mi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!BI(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;Sve(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!BI(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mi.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ur(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,fd(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dl.has(this)?this.attached&&!dl.running(this)&&dl.start(this):(this.draw(),pD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=Zq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&j2(r,a),e.controller.draw(),a&&N2(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return v0(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const i=Cye.modes[r];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=lA(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);g0(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),dl.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),LI(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Cb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};ur(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){ur(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},ur(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Nw(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(A=>u.datasetIndex===A.datasetIndex&&u.index===A.index)),o=i(r,e),l=n?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(e,a,n,o),c=T0e(e),d=Eve(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Dr(i.onHover,[e,l,this],this),c&&Dr(i.onClick,[e,l,this],this));const u=!Nw(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}},ot(yc,"defaults",xn),ot(yc,"instances",Cb),ot(yc,"overrides",Wu),ot(yc,"registry",So),ot(yc,"version",_ve),ot(yc,"getChart",gD),yc);function xD(){return ur(cA.instances,t=>t._plugins.invalidate())}function kve(t,e,r){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,A=Math.min(d/o,Ia(n-r));if(t.beginPath(),t.arc(a,i,o-d/2,n+A/2,r-A/2),l>0){const h=Math.min(d/l,Ia(n-r));t.arc(a,i,l+d/2,r-h/2,n+h/2,!0)}else{const h=Math.min(d/2,o*Ia(n-r));if(u==="round")t.arc(a,i,h,r-Ar/2,n+Ar/2,!0);else if(u==="bevel"){const f=2*h*h,g=-f*Math.cos(r+Ar/2)+a,x=-f*Math.sin(r+Ar/2)+i,m=f*Math.cos(n+Ar/2)+a,p=f*Math.sin(n+Ar/2)+i;t.lineTo(g,x),t.lineTo(m,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Pve(t,e,r){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,n-d,r+d),c>a?(d=a/c,t.arc(i,o,c,r+d,n-d,!0)):t.arc(i,o,a,r+zn,n-zn),t.closePath(),t.clip()}function Fve(t){return XE(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Tve(t,e,r,n){const a=Fve(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),l=c=>{const d=(r-Math.min(i,c))*n/2;return Ls(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Ls(a.innerStart,0,o),innerEnd:Ls(a.innerEnd,0,o)}}function ah(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function kw(t,e,r,n,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,A=Math.max(e.outerRadius+n+r-d,0),h=u>0?u+n+r+d:0;let f=0;const g=a-c;if(n){const L=u>0?u-n:0,U=A>0?A-n:0,M=(L+U)/2,Q=M!==0?g*M/(M+n):g;f=(g-Q)/2}const x=Math.max(.001,g*A-r/Ar)/A,m=(g-x)/2,p=c+m+f,y=a-m-f,{outerStart:b,outerEnd:N,innerStart:j,innerEnd:C}=Tve(e,h,A,y-p),k=A-b,_=A-N,B=p+b/k,T=y-N/_,w=h+j,E=h+C,D=p+j/w,O=y-C/E;if(t.beginPath(),i){const L=(B+T)/2;if(t.arc(o,l,A,B,L),t.arc(o,l,A,L,T),N>0){const q=ah(_,T,o,l);t.arc(q.x,q.y,N,T,y+zn)}const U=ah(E,y,o,l);if(t.lineTo(U.x,U.y),C>0){const q=ah(E,O,o,l);t.arc(q.x,q.y,C,y+zn,O+Math.PI)}const M=(y-C/h+(p+j/h))/2;if(t.arc(o,l,h,y-C/h,M,!0),t.arc(o,l,h,M,p+j/h,!0),j>0){const q=ah(w,D,o,l);t.arc(q.x,q.y,j,D+Math.PI,p-zn)}const Q=ah(k,p,o,l);if(t.lineTo(Q.x,Q.y),b>0){const q=ah(k,B,o,l);t.arc(q.x,q.y,b,p-zn,B)}}else{t.moveTo(o,l);const L=Math.cos(B)*A+o,U=Math.sin(B)*A+l;t.lineTo(L,U);const M=Math.cos(T)*A+o,Q=Math.sin(T)*A+l;t.lineTo(M,Q)}t.closePath()}function Ove(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){kw(t,e,r,n,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%Xr||Xr))}return kw(t,e,r,n,c,a),t.fill(),c}function Ive(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:A,borderDashOffset:h,borderRadius:f}=c,g=c.borderAlign==="inner";if(!d)return;t.setLineDash(A||[]),t.lineDashOffset=h,g?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let x=e.endAngle;if(i){kw(t,e,r,n,x,a);for(let m=0;m<i;++m)t.stroke();isNaN(l)||(x=o+(l%Xr||Xr))}g&&Pve(t,e,x),c.selfJoin&&x-o>=Ar&&f===0&&u!=="miter"&&kve(t,e,x),i||(kw(t,e,r,n,x,a),t.stroke())}class xu extends Gl{constructor(r){super();ot(this,"circumference");ot(this,"endAngle");ot(this,"fullCircles");ot(this,"innerRadius");ot(this,"outerRadius");ot(this,"pixelMargin");ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=Iq(i,{x:r,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:A,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),f=(this.options.spacing+this.options.borderWidth)/2,g=Ut(h,d-c),x=y0(o,c,d)&&c!==d,m=g>=Xr||x,p=jl(l,u+f,A+f);return m&&p}getCenterPoint(r){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,A=(i+o)/2,h=(l+c+u+d)/2;return{x:n+Math.cos(A)*h,y:a+Math.sin(A)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Xr?Math.floor(a/Xr):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(Ar,a||0)),u=i*d;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,Ove(r,this,u,o,l),Ive(r,this,u,o,l),r.restore()}}ot(xu,"id","arc"),ot(xu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ot(xu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ot(xu,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function Az(t,e,r=e){t.lineCap=Ut(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Ut(r.borderDash,e.borderDash)),t.lineDashOffset=Ut(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Ut(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ut(r.borderWidth,e.borderWidth),t.strokeStyle=Ut(r.borderColor,e.borderColor)}function Dve(t,e,r){t.lineTo(r.x,r.y)}function Lve(t){return t.stepped?ixe:t.tension||t.cubicInterpolationMode==="monotone"?oxe:Dve}function hz(t,e,r={}){const n=t.length,{start:a=0,end:i=n-1}=r,{start:o,end:l}=e,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!u?n+d-c:d-c}}function Mve(t,e,r,n){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:d}=hz(a,r,n),u=Lve(i);let{move:A=!0,reverse:h}=n||{},f,g,x;for(f=0;f<=d;++f)g=a[(l+(h?d-f:f))%o],!g.skip&&(A?(t.moveTo(g.x,g.y),A=!1):u(t,x,g,h,i.stepped),x=g);return c&&(g=a[(l+(h?d:0))%o],u(t,x,g,h,i.stepped)),!!c}function Uve(t,e,r,n){const a=e.points,{count:i,start:o,ilen:l}=hz(a,r,n),{move:c=!0,reverse:d}=n||{};let u=0,A=0,h,f,g,x,m,p;const y=N=>(o+(d?l-N:N))%i,b=()=>{x!==m&&(t.lineTo(u,m),t.lineTo(u,x),t.lineTo(u,p))};for(c&&(f=a[y(0)],t.moveTo(f.x,f.y)),h=0;h<=l;++h){if(f=a[y(h)],f.skip)continue;const N=f.x,j=f.y,C=N|0;C===g?(j<x?x=j:j>m&&(m=j),u=(A*u+N)/++A):(b(),t.lineTo(N,j),g=C,A=0,x=m=j),p=j}b()}function fB(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Uve:Mve}function Rve(t){return t.stepped?Uxe:t.tension||t.cubicInterpolationMode==="monotone"?Rxe:Zd}function Qve(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),Az(t,e.options),t.stroke(a)}function $ve(t,e,r,n){const{segments:a,options:i}=e,o=fB(e);for(const l of a)Az(t,i,l.style),t.beginPath(),o(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Hve=typeof Path2D=="function";function qve(t,e,r,n){Hve&&!e.options.segment?Qve(t,e,r,n):$ve(t,e,r,n)}class Zi extends Gl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Pxe(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Vxe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],i=this.points,o=Jq(this,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=Rve(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:A,end:h}=o[d],f=i[A],g=i[h];if(f===g){l.push(f);continue}const x=Math.abs((a-f[r])/(g[r]-f[r])),m=c(f,g,x,n.stepped);m[r]=e[r],l.push(m)}return l.length===1?l[0]:l}pathSegment(e,r,n){return fB(this)(e,this,r,n)}path(e,r,n){const a=this.segments,i=fB(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)o&=i(e,this,l,{start:r,end:r+n-1});return!!o}draw(e,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),qve(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ot(Zi,"id","line"),ot(Zi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ot(Zi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ot(Zi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function yD(t,e,r,n){const a=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<a.radius+a.hitRadius}class Ou extends Gl{constructor(r){super();ot(this,"parsed");ot(this,"skip");ot(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(r-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return yD(this,r,"x",n)}inYRange(r,n){return yD(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!v0(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,dB(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}ot(Ou,"id","point"),ot(Ou,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ot(Ou,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function fz(t,e){const{x:r,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,A;return t.horizontal?(A=o/2,l=Math.min(r,a),c=Math.max(r,a),d=n-A,u=n+A):(A=i/2,l=r-A,c=r+A,d=Math.min(n,a),u=Math.max(n,a)),{left:l,top:d,right:c,bottom:u}}function $c(t,e,r,n){return t?0:Ls(e,r,n)}function zve(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,i=$q(n);return{t:$c(a.top,i.top,0,r),r:$c(a.right,i.right,0,e),b:$c(a.bottom,i.bottom,0,r),l:$c(a.left,i.left,0,e)}}function Vve(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=af(a),o=Math.min(e,r),l=t.borderSkipped,c=n||Wt(a);return{topLeft:$c(!c||l.top||l.left,i.topLeft,0,o),topRight:$c(!c||l.top||l.right,i.topRight,0,o),bottomLeft:$c(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:$c(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Kve(t){const e=fz(t),r=e.right-e.left,n=e.bottom-e.top,a=zve(t,r/2,n/2),i=Vve(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function i5(t,e,r,n){const a=e===null,i=r===null,l=t&&!(a&&i)&&fz(t,n);return l&&(a||jl(e,l.left,l.right))&&(i||jl(r,l.top,l.bottom))}function Wve(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Gve(t,e){t.rect(e.x,e.y,e.w,e.h)}function o5(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class lf extends Gl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=Kve(this),l=Wve(o.radius)?Bw:Gve;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,o5(o,r,i)),e.clip(),l(e,o5(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,o5(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return i5(this,e,r,n)}inXRange(e,r){return i5(this,e,null,r)}inYRange(e,r){return i5(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ot(lf,"id","bar"),ot(lf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ot(lf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Xve(t,e,r){const n=t.segments,a=t.points,i=e.points,o=[];for(const l of n){let{start:c,end:d}=l;d=B2(c,d,a);const u=mB(r,a[c],a[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:a[c],end:a[d]});continue}const A=Jq(e,u);for(const h of A){const f=mB(r,i[h.start],i[h.end],h.loop),g=Yq(l,a,f);for(const x of g)o.push({source:x,target:h,start:{[r]:vD(u,f,"start",Math.max)},end:{[r]:vD(u,f,"end",Math.min)}})}}return o}function mB(t,e,r,n){if(n)return;let a=e[t],i=r[t];return t==="angle"&&(a=Ia(a),i=Ia(i)),{property:t,start:a,end:i}}function Yve(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=B2(o,l,a);const c=a[o],d=a[l];n!==null?(i.push({x:c.x,y:n}),i.push({x:d.x,y:n})):r!==null&&(i.push({x:r,y:c.y}),i.push({x:r,y:d.y}))}),i}function B2(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function vD(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function mz(t,e){let r=[],n=!1;return Fn(t)?(n=!0,r=t):r=Yve(t,e),r.length?new Zi({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function bD(t){return t&&t.fill!==!1}function Jve(t,e,r){let a=t[e].fill;const i=[e];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Rs(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function Zve(t,e,r){const n=nbe(t);if(Wt(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Rs(a)&&Math.floor(a)===a?ebe(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function ebe(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function tbe(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Wt(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function rbe(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Wt(t)?n=t.value:n=e.getBaseValue(),n}function nbe(t){const e=t.options,r=e.fill;let n=Ut(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function sbe(t){const{scale:e,index:r,line:n}=t,a=[],i=n.segments,o=n.points,l=abe(e,r);l.push(mz({x:null,y:e.bottom},n));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)ibe(a,o[u],l)}return new Zi({points:a,options:{}})}function abe(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function ibe(t,e,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:l,point:c}=obe(i,e,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function obe(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],A=o[u.start][r],h=o[u.end][r];if(jl(a,A,h)){l=a===A,c=a===h;break}}return{first:l,last:c,point:n}}class pz{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:Xr},e.arc(a,i,o,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function lbe(t){const{chart:e,fill:r,line:n}=t;if(Rs(r))return cbe(e,r);if(r==="stack")return sbe(t);if(r==="shape")return!0;const a=dbe(t);return a instanceof pz?a:mz(a,n)}function cbe(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function dbe(t){return(t.scale||{}).getPointPositionForValue?Abe(t):ube(t)}function ube(t){const{scale:e={},fill:r}=t,n=tbe(r,e);if(Rs(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Abe(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,o=rbe(r,e,i),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,i);return new pz({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,o));return l}function l5(t,e,r){const n=lbe(e),{chart:a,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,A=d.backgroundColor,{above:h=A,below:f=A}=u||{},g=a.getDatasetMeta(i),x=Zq(a,g);n&&o.points.length&&(j2(t,r),hbe(t,{line:o,target:n,above:h,below:f,area:r,scale:l,axis:c,clip:x}),N2(t))}function hbe(t,e){const{line:r,target:n,above:a,below:i,area:o,scale:l,clip:c}=e,d=r._loop?"angle":e.axis;t.save();let u=i;i!==a&&(d==="x"?(wD(t,n,o.top),c5(t,{line:r,target:n,color:a,scale:l,property:d,clip:c}),t.restore(),t.save(),wD(t,n,o.bottom)):d==="y"&&(jD(t,n,o.left),c5(t,{line:r,target:n,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),jD(t,n,o.right),u=a)),c5(t,{line:r,target:n,color:u,scale:l,property:d,clip:c}),t.restore()}function wD(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],A=a[B2(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(A.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function jD(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],A=a[B2(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(r,A.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function c5(t,e){const{line:r,target:n,property:a,color:i,scale:o,clip:l}=e,c=Xve(r,n,a);for(const{source:d,target:u,start:A,end:h}of c){const{style:{backgroundColor:f=i}={}}=d,g=n!==!0;t.save(),t.fillStyle=f,fbe(t,o,l,g&&mB(a,A,h)),t.beginPath();const x=!!r.pathSegment(t,d);let m;if(g){x?t.closePath():ND(t,n,h,a);const p=!!n.pathSegment(t,u,{move:x,reverse:!0});m=x&&p,m||ND(t,n,A,a)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function fbe(t,e,r,n){const a=e.chart.chartArea,{property:i,start:o,end:l}=n||{};if(i==="x"||i==="y"){let c,d,u,A;i==="x"?(c=o,d=a.top,u=l,A=a.bottom):(c=a.left,d=o,u=a.right,A=l),t.beginPath(),r&&(c=Math.max(c,r.left),u=Math.min(u,r.right),d=Math.max(d,r.top),A=Math.min(A,r.bottom)),t.rect(c,d,u-c,A-d),t.clip()}}function ND(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var S2={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<n;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof Zi&&(c={visible:t.isDatasetVisible(o),index:o,fill:Zve(l,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<n;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=Jve(a,o,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&l5(t.ctx,l,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;bD(i)&&l5(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!bD(n)||r.drawTime!=="beforeDatasetDraw"||l5(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _D=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},mbe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let CD=class extends Gl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Dr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Ms(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=_D(n,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let A=e;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,x)=>{const m=n+r/2+i.measureText(g.text).width;(x===0||d[d.length-1]+m+2*l>o)&&(A+=u,d[d.length-(x>0?0:1)]=0,f+=u,h++),c[x]={left:0,top:f,row:h,width:m,height:a},d[d.length-1]+=m+l}),A}_fitCols(e,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let A=l,h=0,f=0,g=0,x=0;return this.legendItems.forEach((m,p)=>{const{itemWidth:y,itemHeight:b}=pbe(n,r,i,m,a);p>0&&f+b+2*l>u&&(A+=h+l,d.push({width:h,height:f}),g+=h+l,x++,h=f=0),c[p]={left:g,top:f,col:x,width:y,height:b},h=Math.max(h,y),f+=b+l}),A+=h,d.push({width:h,height:f}),A}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=of(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ss(n,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=Ss(n,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=Ss(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=Ss(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;j2(e,this),this._draw(),N2(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,l=xn.color,c=of(e.rtl,this.left,this.width),d=Ms(o.font),{padding:u}=o,A=d.size,h=A/2;let f;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:g,boxHeight:x,itemHeight:m}=_D(o,A),p=function(C,k,_){if(isNaN(g)||g<=0||isNaN(x)||x<0)return;a.save();const B=Ut(_.lineWidth,1);if(a.fillStyle=Ut(_.fillStyle,l),a.lineCap=Ut(_.lineCap,"butt"),a.lineDashOffset=Ut(_.lineDashOffset,0),a.lineJoin=Ut(_.lineJoin,"miter"),a.lineWidth=B,a.strokeStyle=Ut(_.strokeStyle,l),a.setLineDash(Ut(_.lineDash,[])),o.usePointStyle){const T={radius:x*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:B},w=c.xPlus(C,g/2),E=k+h;Qq(a,T,w,E,o.pointStyleWidth&&g)}else{const T=k+Math.max((A-x)/2,0),w=c.leftForLtr(C,g),E=af(_.borderRadius);a.beginPath(),Object.values(E).some(D=>D!==0)?Bw(a,{x:w,y:T,w:g,h:x,radius:E}):a.rect(w,T,g,x),a.fill(),B!==0&&a.stroke()}a.restore()},y=function(C,k,_){b0(a,_.text,C,k+m/2,d,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},b=this.isHorizontal(),N=this._computeTitleHeight();b?f={x:Ss(i,this.left+u,this.right-n[0]),y:this.top+u+N,line:0}:f={x:this.left+u,y:Ss(i,this.top+N+u,this.bottom-r[0].height),line:0},Wq(this.ctx,e.textDirection);const j=m+u;this.legendItems.forEach((C,k)=>{a.strokeStyle=C.fontColor,a.fillStyle=C.fontColor;const _=a.measureText(C.text).width,B=c.textAlign(C.textAlign||(C.textAlign=o.textAlign)),T=g+h+_;let w=f.x,E=f.y;c.setWidth(this.width),b?k>0&&w+T+u>this.right&&(E=f.y+=j,f.line++,w=f.x=Ss(i,this.left+u,this.right-n[f.line])):k>0&&E+j>this.bottom&&(w=f.x=w+r[f.line].width+u,f.line++,E=f.y=Ss(i,this.top+N+u,this.bottom-r[f.line].height));const D=c.x(w);if(p(D,E,C),w=K0e(B,w+g+h,b?w+T:this.right,e.rtl),y(c.x(w),E,C),b)f.x+=T+u;else if(typeof C.text!="string"){const O=d.lineHeight;f.y+=gz(C,O)+u}else f.y+=j}),Gq(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Ms(r.font),a=Ni(r.padding);if(!r.display)return;const i=of(e.rtl,this.left,this.width),o=this.ctx,l=r.position,c=n.size/2,d=a.top+c;let u,A=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+d,A=Ss(e.align,A,this.right-h);else{const g=this.columnSizes.reduce((x,m)=>Math.max(x,m.height),0);u=d+Ss(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Ss(l,A,A+h);o.textAlign=i.textAlign(KE(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,b0(o,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=Ms(e.font),n=Ni(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,i;if(jl(e,this.left,this.right)&&jl(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],jl(e,a.left,a.left+a.width)&&jl(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!ybe(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=mbe(a,n);a&&!i&&Dr(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&Dr(r.onHover,[e,n,this],this)}else n&&Dr(r.onClick,[e,n,this],this)}};function pbe(t,e,r,n,a){const i=gbe(n,t,e,r),o=xbe(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function gbe(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(a).width}function xbe(t,e,r){let n=t;return typeof e.text!="string"&&(n=gz(e,r)),n}function gz(t,e){const r=t.text?t.text.length:0;return e*r}function ybe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var E2={id:"legend",_element:CD,start(t,e,r){const n=t.legend=new CD({ctx:t.ctx,options:r,chart:t});mi.configure(t,n,r),mi.addBox(t,n)},stop(t){mi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;mi.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=Ni(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class xz extends Gl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Fn(n.text)?n.text.length:1;this._padding=Ni(n.padding);const i=a*Ms(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,A;return this.isHorizontal()?(u=Ss(l,n,i),A=r+e,d=i-n):(o.position==="left"?(u=n+e,A=Ss(l,a,r),c=Ar*-.5):(u=i-e,A=Ss(l,r,a),c=Ar*.5),d=a-r),{titleX:u,titleY:A,maxWidth:d,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Ms(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);b0(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:d,textAlign:KE(r.align),textBaseline:"middle",translation:[o,l]})}}function vbe(t,e){const r=new xz({ctx:t.ctx,options:e,chart:t});mi.configure(t,r,e),mi.addBox(t,r),t.titleBlock=r}var k2={id:"title",_element:xz,start(t,e,r){vbe(t,r)},stop(t){const e=t.titleBlock;mi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;mi.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gp={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=lB(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function _o(t,e){return e&&(Fn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ul(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function bbe(t,e){const{element:r,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function BD(t,e){const r=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=Ms(e.bodyFont),d=Ms(e.titleFont),u=Ms(e.footerFont),A=i.length,h=a.length,f=n.length,g=Ni(e.padding);let x=g.height,m=0,p=n.reduce((N,j)=>N+j.before.length+j.lines.length+j.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,A&&(x+=A*d.lineHeight+(A-1)*e.titleSpacing+e.titleMarginBottom),p){const N=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=f*N+(p-f)*c.lineHeight+(p-1)*e.bodySpacing}h&&(x+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let y=0;const b=function(N){m=Math.max(m,r.measureText(N).width+y)};return r.save(),r.font=d.string,ur(t.title,b),r.font=c.string,ur(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,ur(n,N=>{ur(N.before,b),ur(N.lines,b),ur(N.after,b)}),y=0,r.font=u.string,ur(t.footer,b),r.restore(),m+=g.width,{width:m,height:x}}function wbe(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function jbe(t,e,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function Nbe(t,e,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),jbe(d,t,e,r)&&(d="center"),d}function SD(t,e,r){const n=r.yAlign||e.yAlign||wbe(t,r);return{xAlign:r.xAlign||e.xAlign||Nbe(t,e,r,n),yAlign:n}}function _be(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Cbe(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function ED(t,e,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:A,bottomLeft:h,bottomRight:f}=af(o);let g=_be(e,l);const x=Cbe(e,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,h)+a:l==="right"&&(g+=Math.max(A,f)+a),{x:Ls(g,0,n.width-e.width),y:Ls(x,0,n.height-e.height)}}function Tv(t,e,r){const n=Ni(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function kD(t){return _o([],ul(t))}function Bbe(t,e,r){return lA(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function PD(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const yz={beforeTitle:ol,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:ol,beforeBody:ol,beforeLabel:ol,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return or(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ol,afterBody:ol,beforeFooter:ol,footer:ol,afterFooter:ol};function ua(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?yz[e].call(r,n):a}var $5;let FD=($5=class extends Gl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new ez(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Bbe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=ua(n,"beforeTitle",this,e),i=ua(n,"title",this,e),o=ua(n,"afterTitle",this,e);let l=[];return l=_o(l,ul(a)),l=_o(l,ul(i)),l=_o(l,ul(o)),l}getBeforeBody(e,r){return kD(ua(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return ur(e,i=>{const o={before:[],lines:[],after:[]},l=PD(n,i);_o(o.before,ul(ua(l,"beforeLabel",this,i))),_o(o.lines,ua(l,"label",this,i)),_o(o.after,ul(ua(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return kD(ua(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=ua(n,"beforeFooter",this,e),i=ua(n,"footer",this,e),o=ua(n,"afterFooter",this,e);let l=[];return l=_o(l,ul(a)),l=_o(l,ul(i)),l=_o(l,ul(o)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(bbe(this.chart,r[c]));return e.filter&&(l=l.filter((u,A,h)=>e.filter(u,A,h,n))),e.itemSort&&(l=l.sort((u,A)=>e.itemSort(u,A,n))),ur(l,u=>{const A=PD(e.callbacks,u);a.push(ua(A,"labelColor",this,u)),i.push(ua(A,"labelPointStyle",this,u)),o.push(ua(A,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=Gp[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=BD(this,n),d=Object.assign({},l,c),u=SD(this.chart,n,d),A=ED(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:A.x,y:A.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const i=this.getCaretPosition(e,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:A}=af(l),{x:h,y:f}=e,{width:g,height:x}=r;let m,p,y,b,N,j;return i==="center"?(N=f+x/2,a==="left"?(m=h,p=m-o,b=N+o,j=N-o):(m=h+g,p=m+o,b=N-o,j=N+o),y=m):(a==="left"?p=h+Math.max(c,u)+o:a==="right"?p=h+g-Math.max(d,A)-o:p=this.caretX,i==="top"?(b=f,N=b-o,m=p-o,y=p+o):(b=f+x,N=b+o,m=p+o,y=p-o),j=b),{x1:m,x2:p,x3:y,y1:b,y2:N,y3:j}}drawTitle(e,r,n){const a=this.title,i=a.length;let o,l,c;if(i){const d=of(n.rtl,this.x,this.width);for(e.x=Tv(this,n.titleAlign,n),r.textAlign=d.textAlign(n.titleAlign),r.textBaseline="middle",o=Ms(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,u=Ms(i.bodyFont),A=Tv(this,"left",i),h=a.x(A),f=c<u.lineHeight?(u.lineHeight-c)/2:0,g=r.y+f;if(i.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},m=a.leftForLtr(h,d)+d/2,p=g+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,dB(e,x,m,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,dB(e,x,m,p)}else{e.lineWidth=Wt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=a.leftForLtr(h,d),m=a.leftForLtr(a.xPlus(h,1),d-2),p=af(o.borderRadius);Object.values(p).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Bw(e,{x,y:g,w:d,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Bw(e,{x:m,y:g+1,w:d-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,g,d,c),e.strokeRect(x,g,d,c),e.fillStyle=o.backgroundColor,e.fillRect(m,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,A=Ms(n.bodyFont);let h=A.lineHeight,f=0;const g=of(n.rtl,this.x,this.width),x=function(_){r.fillText(_,g.x(e.x+f),e.y+h/2),e.y+=h+i},m=g.textAlign(o);let p,y,b,N,j,C,k;for(r.textAlign=o,r.textBaseline="middle",r.font=A.string,e.x=Tv(this,m,n),r.fillStyle=n.bodyColor,ur(this.beforeBody,x),f=l&&m!=="right"?o==="center"?d/2+u:d+2+u:0,N=0,C=a.length;N<C;++N){for(p=a[N],y=this.labelTextColors[N],r.fillStyle=y,ur(p.before,x),b=p.lines,l&&b.length&&(this._drawColorBox(r,e,N,g,n),h=Math.max(A.lineHeight,c)),j=0,k=b.length;j<k;++j)x(b[j]),h=A.lineHeight;ur(p.after,x)}f=0,h=A.lineHeight,ur(this.afterBody,x),e.y-=i}drawFooter(e,r,n){const a=this.footer,i=a.length;let o,l;if(i){const c=of(n.rtl,this.x,this.width);for(e.x=Tv(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",o=Ms(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:A,topRight:h,bottomLeft:f,bottomRight:g}=af(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+A,c),o==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+d-h,c),r.quadraticCurveTo(l+d,c,l+d,c+h),o==="center"&&i==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+d,c+u-g),r.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+f,c+u),r.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&i==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+A),r.quadraticCurveTo(l,c,l+A,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=Gp[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=BD(this,e),c=Object.assign({},o,this._size),d=SD(r,e,c),u=ED(e,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ni(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,r),Wq(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),Gq(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!Nw(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),l=this._positionChanged(o,e),c=r||!Nw(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:a,options:i}=this,o=Gp[i.position].call(this,e,r);return o!==!1&&(n!==o.x||a!==o.y)}},ot($5,"positioners",Gp),$5);var P2={id:"tooltip",_element:FD,positioners:Gp,afterInit(t,e,r){r&&(t.tooltip=new FD({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yz},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Sbe=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Ebe(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Sbe(t,e,r,n);const i=t.lastIndexOf(e);return a!==i?r:a}const kbe=(t,e)=>t===null?null:Ls(Math.round(t),0,e);function TD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Cf extends lm{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(or(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Ebe(n,e,Ut(r,e),this._addedLabels),kbe(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return TD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ot(Cf,"id","category"),ot(Cf,"defaults",{ticks:{callback:TD}});function Pbe(t,e){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:A,includeBounds:h}=t,f=i||1,g=u-1,{min:x,max:m}=e,p=!or(o),y=!or(l),b=!or(d),N=(m-x)/(A+1);let j=EI((m-x)/g/f)*f,C,k,_,B;if(j<1e-14&&!p&&!y)return[{value:x},{value:m}];B=Math.ceil(m/j)-Math.floor(x/j),B>g&&(j=EI(B*j/g/f)*f),or(c)||(C=Math.pow(10,c),j=Math.ceil(j*C)/C),a==="ticks"?(k=Math.floor(x/j)*j,_=Math.ceil(m/j)*j):(k=x,_=m),p&&y&&i&&M0e((l-o)/i,j/1e3)?(B=Math.round(Math.min((l-o)/j,u)),j=(l-o)/B,k=o,_=l):b?(k=p?o:k,_=y?l:_,B=d-1,j=(_-k)/B):(B=(_-k)/j,_g(B,Math.round(B),j/1e3)?B=Math.round(B):B=Math.ceil(B));const T=Math.max(kI(j),kI(k));C=Math.pow(10,or(c)?T:c),k=Math.round(k*C)/C,_=Math.round(_*C)/C;let w=0;for(p&&(h&&k!==o?(r.push({value:o}),k<o&&w++,_g(Math.round((k+w*j)*C)/C,o,OD(o,N,t))&&w++):k<o&&w++);w<B;++w){const E=Math.round((k+w*j)*C)/C;if(y&&E>l)break;r.push({value:E})}return y&&h&&_!==l?r.length&&_g(r[r.length-1].value,l,OD(l,N,t))?r[r.length-1].value=l:r.push({value:l}):(!y||_===l)&&r.push({value:_}),r}function OD(t,e,{horizontal:r,minRotation:n}){const a=wl(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Fbe extends lm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return or(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=n?i:c;if(e){const c=Mo(a),d=Mo(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=Pbe(a,i);return e.bounds==="ticks"&&U0e(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return GE(e,this.chart.options.locale,this.options.ticks.format)}}class Bf extends Fbe{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Rs(e)?e:0,this.max=Rs(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=wl(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ot(Bf,"id","linear"),ot(Bf,"defaults",{ticks:{callback:Rq.formatters.numeric}});const F2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ma=Object.keys(F2);function ID(t,e){return t-e}function DD(t,e){if(or(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Rs(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(x0(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function LD(t,e,r,n){const a=ma.length;for(let i=ma.indexOf(t);i<a-1;++i){const o=F2[ma[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(l*o.size))<=n)return ma[i]}return ma[a-1]}function Tbe(t,e,r,n,a){for(let i=ma.length-1;i>=ma.indexOf(r);i--){const o=ma[i];if(F2[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return ma[r?ma.indexOf(r):0]}function Obe(t){for(let e=ma.indexOf(t)+1,r=ma.length;e<r;++e)if(F2[ma[e]].common)return ma[e]}function MD(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=VE(r,e),i=r[n]>=e?r[n]:r[a];t[i]=!0}}function Ibe(t,e,r,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function UD(t,e,r){const n=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,n.push({value:l,major:!1});return i===0||!r?n:Ibe(t,n,a,r)}class Pw extends lm{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new bye._date(e.adapters.date);a.init(r),Ng(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:DD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Rs(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=Rs(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=q0e(a,i,o);return this._unit=r.unit||(n.autoSkip?LD(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):Tbe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Obe(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),UD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Ls(r,0,o),n=Ls(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||LD(i.minUnit,r,n,this._getLabelCapacity(r)),l=Ut(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=x0(c)||c===!0,u={};let A=r,h,f;if(d&&(A=+e.startOf(A,"isoWeek",c)),A=+e.startOf(A,d?"day":o),e.diff(n,r,o)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+o);const g=a.ticks.source==="data"&&this.getDataTimestamps();for(h=A,f=0;h<n;h=+e.add(h,l,o),f++)MD(u,h,g);return(h===n||a.bounds==="ticks"||f===1)&&MD(u,h,g),Object.keys(u).sort(ID).map(x=>+x)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return Dr(o,[e,r,n],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],A=d&&l[d],h=n[r],f=d&&A&&h&&h.major;return this._adapter.format(e,a||(f?A:u))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=wl(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,UD(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(DD(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Lq(e.sort(ID))}}ot(Pw,"id","time"),ot(Pw,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ov(t,e,r){let n=0,a=t.length-1,i,o,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=gu(t,"pos",e)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=gu(t,"time",e)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class RD extends Pw{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Ov(r,this.min),this._tableRange=Ov(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=r&&d<=n&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Ov(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Ov(this._table,n*this._tableRange+this._minPos,!0)}}ot(RD,"id","timeseries"),ot(RD,"defaults",Pw.defaults);const vz="label";function QD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Dbe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function bz(t,e){t.labels=e}function wz(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vz;const n=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[r]===a[r]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function Lbe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vz;const r={labels:[],datasets:[]};return bz(r,t.labels),wz(r,t.datasets,e),r}function Mbe(t,e){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:A,...h}=t,f=P.useRef(null),g=P.useRef(null),x=()=>{f.current&&(g.current=new cA(f.current,{type:o,data:Lbe(l,i),options:c&&{...c},plugins:d}),QD(e,g.current))},m=()=>{QD(e,null),g.current&&(g.current.destroy(),g.current=null)};return P.useEffect(()=>{!a&&g.current&&c&&Dbe(g.current,c)},[a,c]),P.useEffect(()=>{!a&&g.current&&bz(g.current.config.data,l.labels)},[a,l.labels]),P.useEffect(()=>{!a&&g.current&&l.datasets&&wz(g.current.config.data,l.datasets,i)},[a,l.datasets]),P.useEffect(()=>{g.current&&(a?(m(),setTimeout(x)):g.current.update(A))},[a,c,l.labels,l.datasets,A]),P.useEffect(()=>{g.current&&(m(),setTimeout(x))},[o]),P.useEffect(()=>(x(),()=>m()),[]),we.createElement("canvas",{ref:f,role:"img",height:r,width:n,...h},u)}const Ube=P.forwardRef(Mbe);function T2(t,e){return cA.register(e),P.forwardRef((r,n)=>we.createElement(Ube,{...r,ref:n,type:t}))}const j0=T2("line",Nb),cf=T2("bar",jb),jz=T2("doughnut",Dh),Bb=T2("pie",uB);cA.register(Cf,Bf,lf,k2,P2,E2,xu,Ou,Zi,S2);const Rbe=()=>{const{isAdmin:t}=Zr(),[e,r]=P.useState("service-orders"),[n,a]=P.useState("month"),[i,o]=P.useState(""),[l,c]=P.useState(""),[d,u]=P.useState(!1),[A,h]=P.useState(!1),[f,g]=P.useState(!1),[x,m]=P.useState(null),[p,y]=P.useState(0),N=[{id:"service-orders",name:"Ordens de Servio",icon:Zs,adminOnly:!1},{id:"inventory",name:"Movimentao de Estoque",icon:jt,adminOnly:!1},{id:"technicians",name:"Desempenho de Tcnicos",icon:kt,adminOnly:!0},{id:"financial",name:"Relatrio Financeiro",icon:Xt,adminOnly:!0}].filter(R=>!R.adminOnly||R.adminOnly&&t),j=()=>{console.log("Generating report:",{type:e,dateRange:n,startDate:i,endDate:l}),u(!0)},C=R=>{console.log(`Exporting report as ${R}`),alert(`Relatrio exportado como ${R}`)},k=[{month:"Jan",income:12500,expense:8200},{month:"Fev",income:14800,expense:9100},{month:"Mar",income:13200,expense:8700},{month:"Abr",income:15850,expense:9320},{month:"Mai",income:16200,expense:9800},{month:"Jun",income:17500,expense:10200}],_=[{name:"Concludos",value:5},{name:"Em Progresso",value:6},{name:"Planejados",value:1}],B=[{name:"Servios",value:15850},{name:"Materiais",value:4200},{name:"Administrativo",value:3e3},{name:"Folha de Pagamento",value:8500}],T={labels:k.map(R=>R.month),datasets:[{label:"Receitas",data:k.map(R=>R.income),backgroundColor:"rgba(74, 222, 128, 0.6)",borderColor:"rgb(74, 222, 128)",borderWidth:1},{label:"Despesas",data:k.map(R=>R.expense),backgroundColor:"rgba(248, 113, 113, 0.6)",borderColor:"rgb(248, 113, 113)",borderWidth:1}]},w={labels:_.map(R=>R.name),datasets:[{data:_.map(R=>R.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)"],borderWidth:1}]},E={labels:k.map(R=>R.month),datasets:[{label:"Receitas",data:k.map(R=>R.income),borderColor:"rgb(74, 222, 128)",backgroundColor:"rgba(74, 222, 128, 0.1)",tension:.3,fill:!0},{label:"Despesas",data:k.map(R=>R.expense),borderColor:"rgb(248, 113, 113)",backgroundColor:"rgba(248, 113, 113, 0.1)",tension:.3,fill:!0}]},D=5,O=[{id:1,name:"Relatrio de OS - Dezembro 2023",type:"Ordens de Servio",date:"2023-12-15",user:"Admin Demo"},{id:2,name:"Movimentao de Estoque - Dezembro 2023",type:"Estoque",date:"2023-12-14",user:"Admin Demo"},{id:3,name:"Desempenho de Tcnicos - Novembro 2023",type:"Desempenho",date:"2023-12-01",user:"Admin Demo"},{id:4,name:"Relatrio Financeiro - Dezembro 2023",type:"Financeiro",date:"2023-12-31",user:"Admin Demo"},{id:5,name:"Anlise de Clientes - Dezembro 2023",type:"Clientes",date:"2023-12-20",user:"Admin Demo"},{id:6,name:"Relatrio de OS - Novembro 2023",type:"Ordens de Servio",date:"2023-11-30",user:"Admin Demo"},{id:7,name:"Movimentao de Estoque - Novembro 2023",type:"Estoque",date:"2023-11-29",user:"Admin Demo"},{id:8,name:"Desempenho de Tcnicos - Outubro 2023",type:"Desempenho",date:"2023-11-01",user:"Admin Demo"},{id:9,name:"Relatrio Financeiro - Novembro 2023",type:"Financeiro",date:"2023-11-30",user:"Admin Demo"},{id:10,name:"Anlise de Clientes - Novembro 2023",type:"Clientes",date:"2023-11-20",user:"Admin Demo"}],L=Math.ceil(O.length/D),U=O.slice(p*D,(p+1)*D),[M,Q]=P.useState(null),[q,J]=P.useState("bar"),ee=(R,K)=>{Q(JSON.parse(JSON.stringify(K))),J(R),g(!0)},$=(R,K,V)=>{if(!M)return;const ae={...M};if(K==="label")ae.labels[R]=V;else{const Ae=parseInt(K.split("-")[1]),ne=K.split("-")[2];ne==="label"?ae.datasets[Ae].label=V:ne==="data"&&(ae.datasets[Ae].data[R]=parseFloat(V)||0)}Q(ae)};return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatrios"}),s.jsxs("button",{onClick:()=>h(!A),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(jE,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtros"}),s.jsx(Hu,{className:`h-4 w-4 transition-transform ${A?"rotate-180":""}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:s.jsx(Zs,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"48"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ordens de Servio"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:s.jsx(jt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"156"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Itens em Estoque"})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"8"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tcnicos Ativos"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx(Xt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"R$ 15.850"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Faturamento Mensal"})]})]})]}),s.jsx(it,{children:A&&s.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(mt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Gerador de Relatrios"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Relatrio"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(R=>s.jsxs("button",{type:"button",onClick:()=>r(R.id),className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-colors ${e===R.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[s.jsx(R.icon,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm",children:R.name})]},R.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perodo"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{type:"button",onClick:()=>a("week"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="week"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"ltima Semana"}),s.jsx("button",{type:"button",onClick:()=>a("month"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="month"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"ltimo Ms"}),s.jsx("button",{type:"button",onClick:()=>a("custom"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="custom"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Personalizado"})]})]}),n==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:i,onChange:R=>o(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:n==="custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:l,onChange:R=>c(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:n==="custom"})]})]})]}),s.jsx("div",{className:"pt-4",children:s.jsxs("button",{type:"button",onClick:j,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[s.jsx(Js,{className:"h-5 w-5 mr-2"}),"Gerar Relatrio"]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Pr-visualizao"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>C("pdf"),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Exportar como PDF",children:s.jsx(mt,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",onClick:()=>C("excel"),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Exportar como Excel",children:s.jsx(ps,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",onClick:()=>C("print"),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Imprimir",children:s.jsx(zu,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:d?s.jsx("div",{className:"w-full h-full",children:s.jsx("div",{className:"h-40 w-full bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:s.jsx(cf,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})}):s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione as opes e gere o relatrio"}),s.jsx("p",{className:"text-sm text-gray-400",children:"A pr-visualizao aparecer aqui"})]})})]})]})]})})}),d&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Receitas vs Despesas"}),s.jsxs("button",{onClick:()=>ee("bar",T),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(xa,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(cf,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendncia de Fluxo de Caixa"}),s.jsxs("button",{onClick:()=>ee("line",E),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(xa,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(j0,{data:E,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendncia de Fluxo de Caixa"}}}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status dos Projetos"}),s.jsxs("button",{onClick:()=>ee("pie",w),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(xa,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(Bb,{data:w,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Categorias de Transaes"}),s.jsxs("button",{onClick:()=>ee("pie",w),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(xa,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(Bb,{data:{labels:B.map(R=>R.name),datasets:[{data:B.map(R=>R.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)","rgba(248, 113, 113, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)","rgb(248, 113, 113)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Categorias de Transaes"}}}})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(mt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Relatrios Recentes"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gerado por"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:R.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:new Date(R.date).toLocaleDateString("pt-BR")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:R.user})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(xs,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",children:s.jsx(ps,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(zu,{className:"h-4 w-4"})})]})})]},R.id))})]})}),L>1&&s.jsxs("div",{className:"flex justify-between items-center mt-4",children:[s.jsxs("button",{onClick:()=>y(R=>Math.max(0,R-1)),disabled:p===0,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${p===0?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[s.jsx(Wl,{className:"h-4 w-4"}),s.jsx("span",{children:"Anterior"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",p+1," de ",L]}),s.jsxs("button",{onClick:()=>y(R=>Math.min(L-1,R+1)),disabled:p===L-1,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${p===L-1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[s.jsx("span",{children:"Prximo"}),s.jsx(ji,{className:"h-4 w-4"})]})]})]}),s.jsx(it,{children:f&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Grfico"}),s.jsx("button",{onClick:()=>g(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Grfico"}),s.jsxs("select",{value:q,onChange:R=>J(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"bar",children:"Barras"}),s.jsx("option",{value:"line",children:"Linhas"}),s.jsx("option",{value:"pie",children:"Pizza"}),s.jsx("option",{value:"area",children:"rea"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estilo"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{children:"Padro"}),s.jsx("option",{children:"Gradiente"}),s.jsx("option",{children:"Monocromtico"}),s.jsx("option",{children:"Pastel"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dados do Grfico"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ms"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receitas"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Despesas"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map((R,K)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"text",defaultValue:R.month,onChange:V=>$(K,"label",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",defaultValue:R.income,onChange:V=>$(K,"0-data",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",defaultValue:R.expense,onChange:V=>$(K,"1-data",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})})]},K))})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visualizao"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg h-64",children:[q==="bar"&&s.jsx(cf,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}}),q==="line"&&s.jsx(j0,{data:E,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendncia de Fluxo de Caixa"}}}}),q==="pie"&&s.jsx(Bb,{data:w,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:()=>{g(!1),alert("Alteraes salvas com sucesso!")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]})},Qbe=()=>{const{user:t,isAdmin:e}=Zr(),[r,n]=P.useState("profile"),[a,i]=P.useState(!1),[o,l]=P.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:"(11) 99999-9999",company:"Minha Empresa"}),[c,d]=P.useState({email:!0,push:!0,sms:!1}),[u,A]=P.useState({autoBackup:!0,backupFrequency:"daily",backupTime:"00:00",keepBackups:"30"}),[h,f]=P.useState({realTimeSync:!0,offlineMode:!0,syncOnWifiOnly:!1}),g=C=>{const{name:k,value:_}=C.target;l(B=>({...B,[k]:_}))},x=C=>{d(k=>({...k,[C]:!k[C]}))},m=C=>{const{name:k,value:_}=C.target;A(B=>({...B,[k]:_}))},p=C=>{f(k=>({...k,[C]:!k[C]}))},y=()=>{console.log("Saving profile:",o),i(!0),setTimeout(()=>i(!1),2e3)},b=()=>{console.log("Saving notification settings:",c),i(!0),setTimeout(()=>i(!1),2e3)},N=()=>{console.log("Saving backup settings:",u),i(!0),setTimeout(()=>i(!1),2e3)},j=()=>{console.log("Saving sync settings:",h),i(!0),setTimeout(()=>i(!1),2e3)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraes"})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("profile"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="profile"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(vn,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Perfil"})]}),s.jsxs("button",{onClick:()=>n("notifications"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="notifications"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(i9,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Notificaes"})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>n("backup"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="backup"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(i0,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Backup"})]}),s.jsxs("button",{onClick:()=>n("sync"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="sync"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(u9,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Sincronizao"})]})]})]}),s.jsxs("div",{className:"p-6",children:[r==="profile"&&s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaes do Perfil"}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t!=null&&t.avatar?s.jsx("img",{src:t.avatar,alt:t.name,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):s.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-bold",children:t==null?void 0:t.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:(t==null?void 0:t.role)==="admin"?"Administrador":(t==null?void 0:t.role)==="technician"?"Tcnico":"Funcionrio Externo"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),s.jsx("input",{type:"text",name:"name",value:o.name,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:o.email,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),s.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),s.jsx("input",{type:"text",name:"company",value:o.company,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("button",{onClick:y,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Alteraes"]})})]}),r==="notifications"&&s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preferncias de Notificao"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notificaes por Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receber atualizaes importantes por email"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.email,onChange:()=>x("email"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notificaes Push"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notificaes em tempo real no navegador"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.push,onChange:()=>x("push"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"SMS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Alertas crticos por mensagem de texto"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.sms,onChange:()=>x("sms"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsx("button",{onClick:b,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Alteraes"]})})]}),r==="backup"&&e&&s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuraes de Backup"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Backup Automtico"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Realizar backup automtico dos dados"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.autoBackup,onChange:()=>A(C=>({...C,autoBackup:!C.autoBackup})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.autoBackup&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequncia"}),s.jsxs("select",{name:"backupFrequency",value:u.backupFrequency,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Dirio"}),s.jsx("option",{value:"weekly",children:"Semanal"}),s.jsx("option",{value:"monthly",children:"Mensal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horrio"}),s.jsx("input",{type:"time",name:"backupTime",value:u.backupTime,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manter Backups (dias)"}),s.jsx("input",{type:"number",name:"keepBackups",value:u.keepBackups,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:N,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Configuraes"]})}),s.jsxs("button",{className:"px-6 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[s.jsx(i0,{className:"h-5 w-5 mr-2 inline"}),"Backup Manual"]})]})]})]}),r==="sync"&&e&&s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuraes de Sincronizao"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronizao em Tempo Real"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manter dados sincronizados em tempo real entre dispositivos"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.realTimeSync,onChange:()=>p("realTimeSync"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Modo Offline"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Permitir trabalhar offline e sincronizar depois"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.offlineMode,onChange:()=>p("offlineMode"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronizar Apenas no Wi-Fi"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Economizar dados mveis sincronizando apenas no Wi-Fi"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.syncOnWifiOnly,onChange:()=>p("syncOnWifiOnly"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsx("button",{onClick:j,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Configuraes"]})})]})]})]})]})},$be=()=>{const{isAdmin:t}=Zr(),[e,r]=P.useState(""),[n,a]=P.useState("all"),[i,o]=P.useState(!1),[l,c]=P.useState(null),[d,u]=P.useState([{id:"1",name:"Admin Demo",email:"admin@example.com",role:"admin",status:"active",lastLogin:"2023-12-15T10:30:00",department:"Administrao",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Tcnico",email:"carlos@example.com",role:"technician",status:"active",lastLogin:"2023-12-15T09:15:00",department:"Manuteno"},{id:"3",name:"Ana Tcnica",email:"ana@example.com",role:"technician",status:"active",lastLogin:"2023-12-14T16:45:00",department:"Instalao"},{id:"4",name:"Joo Externo",email:"joao@terceirizada.com",role:"external",status:"inactive",lastLogin:"2023-12-10T08:30:00"}]),[A,h]=P.useState({name:"",email:"",role:"technician",department:"",status:"active"}),f=d.filter(j=>{const C=j.name.toLowerCase().includes(e.toLowerCase())||j.email.toLowerCase().includes(e.toLowerCase()),k=n==="all"||j.role===n;return C&&k}),g=()=>{if(A.name&&A.email){const j={id:Date.now().toString(),name:A.name,email:A.email,role:A.role,status:"active",lastLogin:"",department:A.department||void 0};u([...d,j]),h({name:"",email:"",role:"technician",department:"",status:"active"}),o(!1)}},x=()=>{l&&(u(d.map(j=>j.id===l.id?l:j)),c(null))},m=j=>{u(d.map(C=>C.id===j?{...C,status:C.status==="active"?"inactive":"active"}:C))},p=j=>{window.confirm("Tem certeza que deseja excluir este usurio?")&&u(d.filter(C=>C.id!==j))},y=j=>{switch(j){case"admin":return"Administrador";case"technician":return"Tcnico";case"external":return"Externo";default:return j}},b=j=>{switch(j){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},N=j=>j==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Usurios"}),t&&s.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(m9,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Usurio"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:e,onChange:j=>r(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jE,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:n,onChange:j=>a(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Perfis"}),s.jsx("option",{value:"admin",children:"Administradores"}),s.jsx("option",{value:"technician",children:"Tcnicos"}),s.jsx("option",{value:"external",children:"Externos"})]})]})]})}),s.jsx("div",{className:"space-y-4",children:f.length>0?f.map((j,C)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[j.avatar?s.jsx("img",{src:j.avatar,alt:j.name,className:"w-12 h-12 rounded-full object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold",children:j.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),s.jsx("p",{className:"text-sm text-gray-600",children:j.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b(j.role)}`,children:y(j.role)}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N(j.status)}`,children:j.status==="active"?"Ativo":"Inativo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[j.department&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Departamento"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.department})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ltimo Acesso"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.lastLogin?new Date(j.lastLogin).toLocaleString("pt-BR"):"Nunca"})]})]}),t&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>c(j),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(xa,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>m(j.id),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${j.status==="active"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[j.status==="active"?s.jsx(Yi,{className:"h-4 w-4"}):s.jsx(h9,{className:"h-4 w-4"}),s.jsx("span",{children:j.status==="active"?"Desativar":"Ativar"})]}),s.jsxs("button",{onClick:()=>p(j.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Ct,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]})]},j.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(kt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum usurio encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos usurios com os filtros selecionados."}),s.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(it,{children:i&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Usurio"}),s.jsx("button",{onClick:()=>o(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:A.name,onChange:j=>h({...A,name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usurio",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:A.email,onChange:j=>h({...A,email:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),s.jsxs("select",{value:A.role,onChange:j=>h({...A,role:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Tcnico"}),s.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:A.department,onChange:j=>h({...A,department:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:g,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Adicionar"]})]})]})]})}),s.jsx(it,{children:l&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Usurio"}),s.jsx("button",{onClick:()=>c(null),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:l.name,onChange:j=>c({...l,name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usurio",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:l.email,onChange:j=>c({...l,email:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),s.jsxs("select",{value:l.role,onChange:j=>c({...l,role:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Tcnico"}),s.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:l.department||"",onChange:j=>c({...l,department:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:l.status==="active",onChange:()=>c({...l,status:"active"}),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Ativo"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:l.status==="inactive",onChange:()=>c({...l,status:"inactive"}),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Inativo"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar"]})]})]})]})})]})},Hbe=({isOpen:t,onClose:e,onSave:r,serviceId:n,duplicateFromId:a})=>{const[i,o]=P.useState("dados"),[l,c]=P.useState(!1),[d,u]=P.useState(!1),[A,h]=P.useState({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),[f,g]=P.useState({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),[x,m]=P.useState([]),[p,y]=P.useState([]),[b,N]=P.useState(""),[j,C]=P.useState(null);P.useEffect(()=>{t?(k(),n?_(n,!1):a?_(a,!0):(h({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),y([]))):(C(null),N(""))},[t,n,a]);const k=async()=>{try{const{data:Q}=await pe.from("materials").select("id, name, unit, quantity, unit_cost, sale_price, sku").eq("active",!0).order("name");m(Q||[])}catch(Q){console.error("Error loading materials:",Q)}},_=async(Q,q)=>{if(Q)try{const{data:J}=await pe.from("service_catalog").select("*").eq("id",Q).single();J&&h({nome:q?`${J.name} (Cpia)`:J.name||"",descricao:J.description||"",categoria:J.category||"",preco_base:J.base_price||0,tempo_estimado_minutos:J.estimated_duration||0,observacoes:""});const{data:ee}=await pe.from("service_catalog_materials").select("*").eq("service_catalog_id",Q);ee&&y(ee.map($=>({id:q?`new-${Date.now()}-${Math.random()}`:$.id,material_id:$.material_id||"",nome_material:$.material_name||"",quantidade_padrao:$.quantity||0,unidade_medida:$.material_unit||"un",preco_compra_unitario:$.unit_cost_at_time||0,preco_venda_unitario:$.unit_sale_price||0,custo_total:$.total_cost||0,valor_total:$.total_sale_price||0,lucro:($.total_sale_price||0)-($.total_cost||0),obrigatorio:!$.is_optional})))}catch(J){console.error("Error loading service data:",J)}},B=()=>{y([{id:`new-${Date.now()}`,material_id:"",nome_material:"",quantidade_padrao:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0,obrigatorio:!0},...p])},T=(Q,q)=>{y(p.map(J=>{if(J.id===Q){const ee={...J,...q},$=ee.preco_compra_unitario||0,R=ee.preco_venda_unitario||0;return ee.custo_total=ee.quantidade_padrao*$,ee.valor_total=ee.quantidade_padrao*R,ee.lucro=ee.valor_total-ee.custo_total,ee}return J}))},w=(Q,q)=>{const J=x.find(ee=>ee.id===q);J&&(T(Q,{material_id:q,nome_material:J.name,unidade_medida:J.unit||"un",preco_compra_unitario:Number(J.unit_cost)||0,preco_venda_unitario:Number(J.sale_price)||0}),N(""),C(null))},E=Q=>{y(p.filter(q=>q.id!==Q))},D=async()=>{try{if(!f.name){alert("Nome do material  obrigatrio!");return}c(!0);const{data:Q,error:q}=await pe.from("materials").insert([{name:f.name,sku:f.sku||null,unit:f.unit,quantity:Number(f.quantity),unit_cost:Number(f.unit_cost),sale_price:Number(f.sale_price),min_quantity:Number(f.min_quantity),active:!0}]).select().single();if(q)throw q;await k(),g({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),u(!1),alert("Material criado com sucesso!")}catch(Q){console.error("Error creating material:",Q),alert("Erro ao criar material!")}finally{c(!1)}},O=()=>{const Q=p.reduce((K,V)=>K+V.custo_total,0),q=p.reduce((K,V)=>K+V.valor_total,0),J=Q,ee=q+A.preco_base,$=ee-J,R=J>0?$/J*100:0;return{custoMateriais:Q,valorMateriais:q,custoTotal:J,valorTotal:ee,lucroTotal:$,margemLucro:R}},L=async()=>{try{if(!A.nome){alert("Nome do servio  obrigatrio!");return}c(!0);const Q=O();let q=n;const J={name:A.nome,description:A.descricao,category:A.categoria,base_price:A.preco_base,estimated_duration:A.tempo_estimado_minutos,active:!0};if(n)await pe.from("service_catalog").update(J).eq("id",n);else{const{data:$,error:R}=await pe.from("service_catalog").insert([J]).select().single();if(R)throw R;q=$.id}const{error:ee}=await pe.from("service_catalog_materials").delete().eq("service_catalog_id",q);ee&&console.error("Error deleting materials:",ee);for(const $ of p){const{error:R}=await pe.from("service_catalog_materials").insert([{service_catalog_id:q,material_id:$.material_id,material_name:$.nome_material,quantity:$.quantidade_padrao,material_unit:$.unidade_medida,is_optional:!$.obrigatorio,unit_cost_at_time:$.preco_compra_unitario,unit_sale_price:$.preco_venda_unitario}]);if(R)throw console.error("Error inserting material:",R),R}r(),e()}catch(Q){console.error("Error saving:",Q),alert("Erro ao salvar servio!")}finally{c(!1)}},U=Q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Q),M=O();return t?s.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-green-600 to-emerald-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Servio":"Novo Servio no Catlogo"}),s.jsx("p",{className:"text-green-100 text-sm",children:"Configure materiais, mo de obra e custos completos"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:ug},{id:"materiais",label:"Materiais",icon:jt},{id:"resumo",label:"Resumo Financeiro",icon:l4}].map(Q=>{const q=Q.icon;return s.jsxs("button",{onClick:()=>o(Q.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${i===Q.id?"border-green-600 text-green-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(q,{className:"h-4 w-4"}),Q.label]},Q.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(it,{mode:"wait",children:[i==="dados"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Servio *"}),s.jsx("input",{type:"text",value:A.nome,onChange:Q=>h({...A,nome:Q.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: Instalao de Ar Condicionado Split 12k BTU"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio"}),s.jsx("textarea",{value:A.descricao,onChange:Q=>h({...A,descricao:Q.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Descreva o servio em detalhes..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),s.jsxs("select",{value:A.categoria,onChange:Q=>h({...A,categoria:Q.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),s.jsx("option",{value:"instalacao",children:"Instalao"}),s.jsx("option",{value:"manutencao",children:"Manuteno"}),s.jsx("option",{value:"reparo",children:"Reparo"}),s.jsx("option",{value:"limpeza",children:"Limpeza"}),s.jsx("option",{value:"vistoria",children:"Vistoria"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),s.jsx("input",{type:"number",value:A.tempo_estimado_minutos,onChange:Q=>h({...A,tempo_estimado_minutos:Number(Q.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Base do Servio (R$)"}),s.jsx("input",{type:"number",value:A.preco_base,step:"0.01",onChange:Q=>h({...A,preco_base:Number(Q.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Valor da mo de obra"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),s.jsx("textarea",{value:A.observacoes,onChange:Q=>h({...A,observacoes:Q.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:2,placeholder:"Observaes internas sobre o servio..."})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(ug,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Configure o servio completo"}),s.jsxs("p",{children:["Nas prximas abas, voc pode adicionar materiais e mo de obra. ",s.jsx("span",{className:"font-medium",children:"Ambos so opcionais"})," - voc pode criar servios sem materiais ou sem mo de obra, dependendo do tipo de servio."]})]})]})]},"dados"),i==="materiais"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Materiais Necessrios ",s.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Opcional)"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Liste todos os materiais usados neste servio. Ex: Consultoria, Vistoria, Laudo no precisam de materiais."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Criar Novo Material"]}),s.jsxs("button",{onClick:B,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Adicionar do Estoque"]})]})]}),p.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(jt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),s.jsx("p",{className:"text-sm",children:"Materiais so opcionais para este servio"}),s.jsx("p",{className:"text-xs mt-1 text-gray-400",children:'Clique em "Adicionar Material" se o servio precisar de materiais'})]}),p.map((Q,q)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",q+1,Q.nome_material&&s.jsxs("span",{className:"ml-2 text-green-600",children:["- ",Q.nome_material]})]}),Q.material_id&&!Q.nome_material&&s.jsx("span",{className:"text-xs text-gray-500",children:"Material selecionado"})]}),s.jsx("button",{onClick:()=>E(Q.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-3",children:[s.jsxs("div",{className:"md:col-span-3 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Material do Estoque"}),s.jsx("input",{type:"text",value:b,onChange:J=>N(J.target.value),onFocus:()=>C(Q.id),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Digite para buscar no estoque..."}),b&&j===Q.id&&x.filter(J=>J.name.toLowerCase().includes(b.toLowerCase())||J.sku&&J.sku.toLowerCase().includes(b.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:x.filter(J=>J.name.toLowerCase().includes(b.toLowerCase())||J.sku&&J.sku.toLowerCase().includes(b.toLowerCase())).map(J=>s.jsxs("button",{type:"button",onClick:()=>w(Q.id,J.id),className:"w-full px-4 py-3 text-left hover:bg-green-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:J.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("span",{children:[J.sku&&s.jsxs("span",{className:"mr-2",children:["Cd: ",J.sku]}),s.jsxs("span",{children:["Estoque: ",J.quantity," ",J.unit]})]}),s.jsxs("span",{className:"font-semibold text-green-600",children:["R$ ",Number(J.sale_price).toFixed(2),"/",J.unit]})]})]},J.id))})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:Q.quantidade_padrao,min:"0.01",step:"0.01",onChange:J=>T(Q.id,{quantidade_padrao:Number(J.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),Q.unidade_medida&&s.jsx("span",{className:"absolute right-3 top-9 text-xs text-gray-500 font-semibold",children:Q.unidade_medida})]}),s.jsx("div",{className:"md:col-span-2 flex items-end",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Q.obrigatorio,onChange:J=>T(Q.id,{obrigatorio:J.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Obrigatrio"})]})})]}),Q.material_id&&s.jsxs("div",{className:"grid grid-cols-5 gap-3 text-xs bg-white rounded p-3 border",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Custo Unit:"}),s.jsx("p",{className:"font-bold text-orange-600",children:U(Q.preco_compra_unitario)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Venda Unit:"}),s.jsx("p",{className:"font-bold text-green-600",children:U(Q.preco_venda_unitario)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Custo Total:"}),s.jsx("p",{className:"font-bold text-orange-700",children:U(Q.custo_total)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Valor Total:"}),s.jsx("p",{className:"font-bold text-green-700",children:U(Q.valor_total)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Lucro:"}),s.jsx("p",{className:"font-bold text-blue-700",children:U(Q.lucro)})]})]})]},Q.id)),s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-green-900",children:"Total Materiais:"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-green-700",children:["Custo: ",U(M.custoMateriais)]}),s.jsxs("p",{className:"text-lg font-bold text-green-900",children:["Venda: ",U(M.valorMateriais)]})]})]})})]},"materiais"),i==="resumo"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo Financeiro Completo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[s.jsxs("h4",{className:"font-semibold text-orange-900 mb-3 flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"Custos de Materiais"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Quantidade de Itens:"}),s.jsx("span",{className:"font-semibold",children:p.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),s.jsx("span",{className:"font-bold text-orange-700",children:U(M.custoMateriais)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Valor de Venda:"}),s.jsx("span",{className:"font-bold text-green-700",children:U(M.valorMateriais)})]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-300",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(l4,{className:"h-5 w-5"}),"Totais do Servio"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Custo Total (Materiais):"}),s.jsx("span",{className:"font-bold text-gray-900",children:U(M.custoTotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Preo Base do Servio:"}),s.jsx("span",{className:"font-bold text-gray-900",children:U(A.preco_base)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Valor dos Materiais:"}),s.jsx("span",{className:"font-bold text-gray-900",children:U(M.valorMateriais)})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between",children:[s.jsx("span",{className:"font-semibold",children:"Preo Total Sugerido:"}),s.jsx("span",{className:"font-bold text-xl text-green-600",children:U(M.valorTotal)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-300",children:[s.jsxs("h4",{className:"font-semibold text-green-900 mb-3 flex items-center gap-2",children:[s.jsx(jr,{className:"h-5 w-5"}),"Anlise de Lucro"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-800",children:"Lucro Bruto:"}),s.jsx("span",{className:"font-bold text-xl text-green-700",children:U(M.lucroTotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-800",children:"Margem de Lucro:"}),s.jsxs("span",{className:"font-bold text-2xl text-green-600",children:[M.margemLucro.toFixed(1),"%"]})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Kn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Ateno"}),s.jsx("p",{children:"Estes valores so calculados automaticamente e serviro como base para os oramentos. Voc poder ajustar as quantidades em cada Ordem de Servio."})]})]})]},"resumo")]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:L,disabled:l,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5"}),"Salvar Servio no Catlogo"]})})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:s.jsxs(oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-blue-600 text-white p-6 flex items-center justify-between z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Criar Novo Material"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Adicione ao estoque e use neste servio"})]}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),s.jsx("input",{type:"text",value:f.name,onChange:Q=>g({...f,name:Q.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Cabo de Rede Cat6"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU / Cdigo"}),s.jsx("input",{type:"text",value:f.sku,onChange:Q=>g({...f,sku:Q.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: MAT-001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade de Medida"}),s.jsxs("select",{value:f.unit,onChange:Q=>g({...f,unit:Q.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"UN",children:"Unidade (UN)"}),s.jsx("option",{value:"MT",children:"Metro (MT)"}),s.jsx("option",{value:"M2",children:"Metro Quadrado (M)"}),s.jsx("option",{value:"KG",children:"Quilograma (KG)"}),s.jsx("option",{value:"LT",children:"Litro (LT)"}),s.jsx("option",{value:"CX",children:"Caixa (CX)"}),s.jsx("option",{value:"PC",children:"Pea (PC)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),s.jsx("input",{type:"number",value:f.quantity,onChange:Q=>g({...f,quantity:Number(Q.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unitrio (R$)"}),s.jsx("input",{type:"number",value:f.unit_cost,onChange:Q=>g({...f,unit_cost:Number(Q.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo de Venda (R$)"}),s.jsx("input",{type:"number",value:f.sale_price,onChange:Q=>g({...f,sale_price:Number(Q.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estoque Mnimo"}),s.jsx("input",{type:"number",value:f.min_quantity,onChange:Q=>g({...f,min_quantity:Number(Q.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ug,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Material no Estoque"}),s.jsx("p",{children:"Este material ser adicionado ao seu estoque e ficar disponvel para uso em servios e ordens de servio."})]})]})})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:D,disabled:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?s.jsx(s.Fragment,{children:"Criando..."}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5"}),"Criar e Salvar no Estoque"]})})]})]})})]}):null},qbe=()=>{const{isAdmin:t}=Zr();na();const[e,r]=P.useState(""),[n,a]=P.useState("all"),[i,o]=P.useState([]),[l,c]=P.useState(!0),[d,u]=P.useState(null),[A,h]=P.useState(!1),[f,g]=P.useState(null),[x,m]=P.useState(void 0),[p,y]=P.useState(void 0),[b,N]=P.useState(null),[j,C]=P.useState({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]});P.useEffect(()=>{k()},[]);const k=async()=>{try{c(!0);const D=await Pde();o(D||[]),u(null)}catch(D){console.error("Error loading services:",D),u("Erro ao carregar catlogo de servios")}finally{c(!1)}},_=["all",...Array.from(new Set(i.map(D=>D.category)))],B=i.filter(D=>{const O=D.name.toLowerCase().includes(e.toLowerCase())||D.description.toLowerCase().includes(e.toLowerCase()),L=n==="all"||D.category===n;return O&&L}),T=async()=>{if(!j.name||!j.category){alert("Por favor, preencha todos os campos obrigatrios");return}try{const D={name:j.name,category:j.category,description:j.description,estimated_time:j.estimated_time,base_price:j.base_price,materials:j.materials,instructions:j.instructions,is_active:!0},O=await kde(D);o([...i,O]),C({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]}),h(!1),alert("Servio adicionado com sucesso!")}catch(D){console.error("Error creating service:",D),alert("Erro ao adicionar servio")}},w=async()=>{if(f)try{const D={name:f.name,category:f.category,description:f.description,estimated_time:f.estimated_time,base_price:f.base_price,materials:f.materials,instructions:f.instructions,is_active:f.is_active},O=await Fde(f.id,D);o(i.map(L=>L.id===O.id?O:L)),g(null),alert("Servio atualizado com sucesso!")}catch(D){console.error("Error updating service:",D),alert("Erro ao atualizar servio")}},E=async D=>{try{await Tde(D),o(i.filter(O=>O.id!==D)),N(null),alert("Servio excludo com sucesso!")}catch(O){console.error("Error deleting service:",O),alert("Erro ao excluir servio")}};return s.jsxs("div",{className:"space-y-6",children:[d&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ns,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:d})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Catlogo de Servios"}),s.jsxs("button",{onClick:()=>h(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Servio"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:e,onChange:D=>r(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aA,{className:"h-5 w-5 text-gray-400"}),s.jsx("select",{value:n,onChange:D=>a(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:_.map(D=>s.jsx("option",{value:D,children:D==="all"?"Todas as Categorias":D},D))})]})]})}),l?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando servios..."})]}):s.jsx("div",{className:"space-y-4",children:B.length>0?B.map((D,O)=>{var L;return s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 cursor-pointer",onClick:()=>g(D),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:s.jsx(mt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.name}),s.jsx("p",{className:"text-sm text-gray-600",children:D.category})]})]}),t&&s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["R$ ",D.base_price.toFixed(2)]})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:D.description||"Sem descrio"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(jt,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[((L=D.materials)==null?void 0:L.length)||0," materiais"]})]}),s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(Mt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:D.estimated_time||"No definido"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:U=>{U.stopPropagation(),g(D),m(D.id)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar servio",children:s.jsx(Rr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:U=>{U.stopPropagation(),y(D.id)},className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar servio",children:s.jsx(qu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:U=>{U.stopPropagation(),N(D.id)},className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir servio",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]})]},D.id)}):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(mt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum servio encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos servios com os filtros selecionados."}),s.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(it,{children:A&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Servio"}),s.jsx("button",{onClick:()=>h(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Servio"}),s.jsx("input",{type:"text",value:j.name,onChange:D=>C({...j,name:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do servio",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:j.category,onChange:D=>C({...j,category:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalao, Manuteno",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),s.jsx("input",{type:"text",value:j.estimated_time,onChange:D=>C({...j,estimated_time:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 2 horas"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Base (R$)"}),s.jsx("input",{type:"number",value:j.base_price,onChange:D=>C({...j,base_price:parseFloat(D.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:j.description,onChange:D=>C({...j,description:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do servio"})]})]})}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:T,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Servio"]})]})]})]})}),s.jsx(it,{children:f&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Servio"}),s.jsx("button",{onClick:()=>g(null),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Servio"}),s.jsx("input",{type:"text",value:f.name,onChange:D=>g({...f,name:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:f.category,onChange:D=>g({...f,category:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),s.jsx("input",{type:"text",value:f.estimated_time||"",onChange:D=>g({...f,estimated_time:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Base (R$)"}),s.jsx("input",{type:"number",value:f.base_price,onChange:D=>g({...f,base_price:parseFloat(D.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:f.description||"",onChange:D=>g({...f,description:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Materiais Necessrios"}),f.materials&&f.materials.length>0?s.jsx("div",{className:"space-y-2",children:f.materials.map((D,O)=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[s.jsx(jt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"flex-1 text-sm",children:D.name}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Qtd: ",D.quantity]})]},O))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum material definido"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Instrues"}),f.instructions&&f.instructions.length>0?s.jsx("ol",{className:"list-decimal list-inside space-y-1",children:f.instructions.map((D,O)=>s.jsx("li",{className:"text-sm text-gray-700",children:D},O))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma instruo definida"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>g(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:w,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})}),s.jsx(it,{children:b&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>N(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(ns,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este servio? Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>N(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>E(b),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(Hbe,{isOpen:A||f!==null||p!==void 0,onClose:()=>{h(!1),g(null),m(void 0),y(void 0)},onSave:()=>{k(),h(!1),g(null),m(void 0),y(void 0)},serviceId:x,duplicateFromId:p})]})},zbe=({isOpen:t,onComplete:e})=>{const[r,n]=P.useState(0),a=[{title:"Bem-vindo ao Sistema OS!",description:"Vamos fazer um tour rpido pelas principais funcionalidades do sistema.",image:s.jsx(Zs,{className:"h-12 w-12 text-blue-500"}),highlight:null},{title:"Ordens de Servio",description:"Crie, gerencie e acompanhe todas as suas ordens de servio em um s lugar. Adicione fotos, materiais e acompanhe o status em tempo real.",image:s.jsx(Zs,{className:"h-12 w-12 text-blue-500"}),highlight:"service-orders"},{title:"Estoque Integrado",description:"Controle seu estoque de materiais com baixa automtica quando uma OS  finalizada. Receba alertas de estoque mnimo.",image:s.jsx(jt,{className:"h-12 w-12 text-green-500"}),highlight:"inventory"},{title:"Catlogo de Servios",description:"Crie servios pr-definidos com descries, materiais necessrios e valores para agilizar a criao de novas ordens.",image:s.jsx(mt,{className:"h-12 w-12 text-purple-500"}),highlight:"service-catalog"},{title:"Relatrios Detalhados",description:"Acompanhe o desempenho do seu negcio com relatrios detalhados e grficos interativos.",image:s.jsx(Js,{className:"h-12 w-12 text-orange-500"}),highlight:"reports"},{title:"Controle de Acesso",description:"Diferentes nveis de acesso para administradores, tcnicos e funcionrios externos, garantindo a segurana das informaes.",image:s.jsx(Vu,{className:"h-12 w-12 text-gray-500"}),highlight:"settings"}],i=()=>{r<a.length-1?n(r+1):e()},o=()=>{r>0&&n(r-1)},l=()=>{e()};return s.jsx(it,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white rounded-t-3xl",children:[s.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-3",children:a[r].image}),s.jsx("h2",{className:"text-xl font-bold",children:a[r].title})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:a[r].description}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[r+1," de ",a.length]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(oe.div,{initial:{width:0},animate:{width:`${(r+1)/a.length*100}%`},className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:o,disabled:r===0,className:`flex items-center px-4 py-2 rounded-xl transition-all duration-200 ${r===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Anterior"]}),s.jsx("div",{className:"flex space-x-2",children:a.map((c,d)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${d===r?"bg-blue-500 w-6":d<r?"bg-green-500":"bg-gray-300"}`},d))}),s.jsx("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl hover:shadow-lg transition-all duration-200",children:r===a.length-1?s.jsxs(s.Fragment,{children:["Concluir",s.jsx(Fr,{className:"h-4 w-4 ml-2"})]}):s.jsxs(s.Fragment,{children:["Prximo",s.jsx(ji,{className:"h-4 w-4 ml-2"})]})})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("button",{onClick:l,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Pular tutorial"})})]})]})]})})},Vbe=()=>{const[t,e]=P.useState(null),[r,n]=P.useState([]),[a,i]=P.useState([]),[o,l]=P.useState([]),[c,d]=P.useState(!0),[u,A]=P.useState("overview");P.useEffect(()=>{h()},[]);const h=async()=>{try{d(!0);const[p,y,b,N]=await Promise.all([pe.from("v_business_kpis").select("*").maybeSingle(),pe.from("v_service_performance").select("*").order("total_revenue",{ascending:!1}),pe.from("v_customer_profitability").select("*").order("total_revenue",{ascending:!1}).limit(20),pe.from("v_team_productivity").select("*").order("total_revenue_generated",{ascending:!1})]);p.data&&e(p.data),y.data&&n(y.data),b.data&&i(b.data),N.data&&l(N.data)}catch(p){console.error("Erro ao carregar KPIs:",p)}finally{d(!1)}},f=p=>p==null||isNaN(p)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p),g=p=>p==null||isNaN(p)?"0.0%":`${p.toFixed(1)}%`;if(c)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const x=[{title:"Taxa de Converso",value:g((t==null?void 0:t.conversion_rate)||0),target:"80%",progress:(t==null?void 0:t.conversion_rate)||0,icon:r2,color:"blue",trend:((t==null?void 0:t.conversion_rate)||0)>=80?"up":"down"},{title:"Ticket Mdio",value:f((t==null?void 0:t.avg_order_value)||0),target:"R$ 5.000",progress:((t==null?void 0:t.avg_order_value)||0)/5e3*100,icon:Xt,color:"green",trend:"up"},{title:"Margem de Lucro",value:g((t==null?void 0:t.profit_margin)||0),target:"30%",progress:(t==null?void 0:t.profit_margin)||0,icon:jr,color:"purple",trend:((t==null?void 0:t.profit_margin)||0)>=30?"up":"down"},{title:"Tempo Mdio Atendimento",value:`${(((t==null?void 0:t.avg_service_time_hours)??0)||0).toFixed(1)}h`,target:"24h",progress:Math.min(100,(24-(((t==null?void 0:t.avg_service_time_hours)??0)||0))/24*100),icon:Mt,color:"orange",trend:((t==null?void 0:t.avg_service_time_hours)||0)<=24?"up":"down"}],m=[{label:"OSs Concludas",value:(t==null?void 0:t.total_completed_orders)||0,icon:Do,color:"text-green-600 bg-green-50"},{label:"OSs em Andamento",value:(t==null?void 0:t.orders_in_progress)||0,icon:Gh,color:"text-blue-600 bg-blue-50"},{label:"Clientes Ativos",value:(t==null?void 0:t.active_customers)||0,icon:kt,color:"text-purple-600 bg-purple-50"},{label:"Itens em Estoque",value:(t==null?void 0:t.materials_in_stock)||0,icon:jt,color:"text-orange-600 bg-orange-50"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"KPIs e OKRs"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Indicadores-chave de performance e objetivos"})]}),s.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Atualizar"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map((p,y)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-12 h-12 bg-${p.color}-50 rounded-lg flex items-center justify-center`,children:s.jsx(p.icon,{className:`h-6 w-6 text-${p.color}-600`})}),p.trend==="up"?s.jsx(Z1,{className:"h-5 w-5 text-green-500"}):s.jsx(vE,{className:"h-5 w-5 text-red-500"})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:p.value}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-500",children:["Meta: ",p.target]}),s.jsxs("span",{className:`font-medium ${p.progress>=100?"text-green-600":"text-orange-600"}`,children:[Math.min(100,p.progress||0).toFixed(0),"%"]})]}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`bg-${p.color}-600 h-2 rounded-full transition-all duration-500`,style:{width:`${Math.min(100,p.progress)}%`}})})]},p.title))}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.map((p,y)=>s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+y*.05},className:`${p.color} rounded-xl p-4`,children:[s.jsx(p.icon,{className:"h-8 w-8 mb-2"}),s.jsx("p",{className:"text-2xl font-bold mb-1",children:p.value}),s.jsx("p",{className:"text-sm opacity-80",children:p.label})]},p.label))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"overview",label:"Viso Geral"},{id:"services",label:"Servios"},{id:"customers",label:"Clientes"},{id:"team",label:"Equipe"}].map(p=>s.jsx("button",{onClick:()=>A(p.id),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${u===p.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:p.label},p.id))}),s.jsxs("div",{className:"p-6",children:[u==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Desempenho Financeiro"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Receita Total"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:f((t==null?void 0:t.total_income)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Despesas Totais"}),s.jsx("span",{className:"text-lg font-bold text-red-600",children:f((t==null?void 0:t.total_expenses)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-green-300",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Lucro Lquido"}),s.jsx("span",{className:"text-xl font-bold text-green-700",children:f((t==null?void 0:t.net_profit)||0)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Potencial de Estoque"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Valor em Estoque"}),s.jsx("span",{className:"text-lg font-bold text-purple-600",children:f((t==null?void 0:t.total_inventory_value)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Lucro Potencial"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:f((t==null?void 0:t.potential_profit)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-purple-300",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Margem Potencial"}),s.jsx("span",{className:"text-xl font-bold text-purple-700",children:g(((t==null?void 0:t.potential_profit)||0)/((t==null?void 0:t.total_inventory_value)||1)*100)})]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contas a Receber e Pagar"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Receber"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f((t==null?void 0:t.accounts_receivable)||0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Pagar"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:f((t==null?void 0:t.accounts_payable)||0)})]})]})]})]}),u==="services"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Servio"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Concluso"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Total"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ticket Mdio"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Tempo Mdio"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.service_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:p.total_orders}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g(p.completion_rate)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(p.total_revenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:f(p.avg_revenue_per_service)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[(p.avg_completion_time_hours||0).toFixed(1),"h"]})]},p.service_name))})]})}),u==="customers"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Lucro Bruto"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Margem"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"ltimo Pedido"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.customer_name}),p.company_name&&s.jsx("div",{className:"text-sm text-gray-500",children:p.company_name})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:p.total_orders}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(p.total_revenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-green-600",children:f(p.gross_profit)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.profit_margin>=30?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g(p.profit_margin)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[p.days_since_last_order," dias"]})]},p.customer_name))})]})}),u==="team"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Colaborador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cargo"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Concluso"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Gerada"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"ROI Salarial"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.employee_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:p.role}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[p.completed_orders,"/",p.total_orders_assigned]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g(p.completion_rate)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(p.total_revenue_generated)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.revenue_to_salary_ratio>=5?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:[(p.revenue_to_salary_ratio||0).toFixed(1),"x"]})})]},p.employee_name))})]})})]})]})]})};cA.register(Cf,Bf,Ou,Zi,k2,P2,E2,S2);const Kbe=()=>{const[t,e]=P.useState("overview"),[r,n]=P.useState([]),[a,i]=P.useState([]),[o,l]=P.useState([]),[c,d]=P.useState([]),[u,A]=P.useState(!0),[h,f]=P.useState("month"),[g,x]=P.useState(""),[m,p]=P.useState(""),[y,b]=P.useState({totalReceitas:0,totalDespesas:0,lucro:0,custoFolha:0,receitasMes:0,despesasMes:0,lucroMes:0,contasReceber:0,contasPagar:0,margemLucro:0,ticketMedio:0,valorEstoque:0,valorVendaEstoque:0,lucroEstoque:0}),[N,j]=P.useState({receitas:[],despesas:[],totalReceitas:0,totalDespesas:0,lucroOperacional:0,margemOperacional:0}),[C,k]=P.useState({labels:[],receitas:[],despesas:[],saldo:[]});P.useEffect(()=>{_()},[h]);const _=async()=>{try{A(!0);const[L,U,M,Q]=await Promise.all([pe.from("finance_entries").select("*").order("data",{ascending:!1}),pe.from("financial_categories").select("*"),pe.from("employees").select("id, name, salary"),pe.from("inventory_items").select("unit_cost, unit_price, quantity").eq("active",!0)]);if(L.error)throw L.error;if(U.error)throw U.error;if(M.error)throw M.error;if(Q.error)throw Q.error;const q=L.data||[],J=U.data||[],ee=M.data||[],$=Q.data||[];n(q),i(J),l(ee),d($),B(q,ee,$),T(q,J,ee),w(q)}catch(L){console.error("Error loading data:",L)}finally{A(!1)}},B=(L,U,M)=>{const Q=new Date,q=Q.getMonth(),J=Q.getFullYear(),ee=L.filter(ye=>ye.tipo==="receita"&&ye.status==="recebido").reduce((ye,z)=>ye+Number(z.valor),0),$=L.filter(ye=>ye.tipo==="despesa"&&ye.status==="pago").reduce((ye,z)=>ye+Number(z.valor),0),R=U.reduce((ye,z)=>ye+Number(z.salary||0),0),K=L.filter(ye=>ye.tipo==="receita"&&ye.status==="a_receber").reduce((ye,z)=>ye+Number(z.valor),0),V=L.filter(ye=>ye.tipo==="despesa"&&ye.status==="a_pagar").reduce((ye,z)=>ye+Number(z.valor),0),ae=L.filter(ye=>{const z=new Date(ye.data);return ye.tipo==="receita"&&ye.status==="recebido"&&z.getMonth()===q&&z.getFullYear()===J}).reduce((ye,z)=>ye+Number(z.valor),0),Ae=L.filter(ye=>{const z=new Date(ye.data);return ye.tipo==="despesa"&&ye.status==="pago"&&z.getMonth()===q&&z.getFullYear()===J}).reduce((ye,z)=>ye+Number(z.valor),0),ne=L.filter(ye=>ye.tipo==="receita"&&ye.status==="recebido").length,ie=ne>0?ee/ne:0,le=M.reduce((ye,z)=>ye+Number(z.unit_cost||0)*Number(z.quantity||0),0),X=M.reduce((ye,z)=>ye+Number(z.unit_price||0)*Number(z.quantity||0),0),he=X-le,Me=ee-$,Qe=ee>0?Me/ee*100:0;b({totalReceitas:ee,totalDespesas:$,lucro:Me,custoFolha:R,receitasMes:ae,despesasMes:Ae,lucroMes:ae-Ae,contasReceber:K,contasPagar:V,margemLucro:Qe,ticketMedio:ie,valorEstoque:le,valorVendaEstoque:X,lucroEstoque:he})},T=(L,U,M)=>{const Q={},q={};L.forEach(Ae=>{if(Ae.categoria_id){const ne=U.find(ie=>ie.id===Ae.categoria_id);if(ne){if(Ae.tipo==="receita"&&Ae.status==="recebido"){const ie=ne.dre_grupo||ne.nome;Q[ie]||(Q[ie]={valor:0,grupo:ne.dre_grupo}),Q[ie].valor+=Number(Ae.valor)}else if(Ae.tipo==="despesa"&&Ae.status==="pago"){const ie=ne.dre_grupo||ne.nome;q[ie]||(q[ie]={valor:0,grupo:ne.dre_grupo}),q[ie].valor+=Number(Ae.valor)}}}});const J=M.reduce((Ae,ne)=>Ae+Number(ne.salary||0),0);J>0&&(q["Folha de Pagamento"]={valor:J,grupo:"Despesas Operacionais"});const ee=Object.values(Q).reduce((Ae,ne)=>Ae+ne.valor,0),$=Object.values(q).reduce((Ae,ne)=>Ae+ne.valor,0),R=Object.entries(Q).map(([Ae,ne])=>({categoria:Ae,valor:ne.valor,percentual:ee>0?ne.valor/ee*100:0})).sort((Ae,ne)=>ne.valor-Ae.valor),K=Object.entries(q).map(([Ae,ne])=>({categoria:Ae,valor:ne.valor,percentual:$>0?ne.valor/$*100:0})).sort((Ae,ne)=>ne.valor-Ae.valor),V=ee-$,ae=ee>0?V/ee*100:0;j({receitas:R,despesas:K,totalReceitas:ee,totalDespesas:$,lucroOperacional:V,margemOperacional:ae})},w=L=>{const U=new Date,M=[],Q=[],q=[],J=[];for(let ee=5;ee>=0;ee--){const $=new Date(U.getFullYear(),U.getMonth()-ee,1),R=$.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"});M.push(R);const K=L.filter(ae=>{const Ae=new Date(ae.data);return ae.tipo==="receita"&&ae.status==="recebido"&&Ae.getMonth()===$.getMonth()&&Ae.getFullYear()===$.getFullYear()}).reduce((ae,Ae)=>ae+Number(Ae.valor),0),V=L.filter(ae=>{const Ae=new Date(ae.data);return ae.tipo==="despesa"&&ae.status==="pago"&&Ae.getMonth()===$.getMonth()&&Ae.getFullYear()===$.getFullYear()}).reduce((ae,Ae)=>ae+Number(Ae.valor),0);Q.push(K),q.push(V),J.push(K-V)}k({labels:M,receitas:Q,despesas:q,saldo:J})},E=L=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L),D=L=>L.toFixed(1)+"%",O=()=>{let L="";t==="dre"&&(L=`DRE - Demonstrativo de Resultados

`,L+=`RECEITAS
`,L+=`Categoria,Valor,Percentual
`,N.receitas.forEach(q=>{L+=`${q.categoria},${q.valor},${q.percentual.toFixed(2)}%
`}),L+=`
TOTAL RECEITAS,${N.totalReceitas}

`,L+=`DESPESAS
`,L+=`Categoria,Valor,Percentual
`,N.despesas.forEach(q=>{L+=`${q.categoria},${q.valor},${q.percentual.toFixed(2)}%
`}),L+=`
TOTAL DESPESAS,${N.totalDespesas}

`,L+=`LUCRO OPERACIONAL,${N.lucroOperacional}
`,L+=`MARGEM OPERACIONAL,${N.margemOperacional.toFixed(2)}%
`);const U=new Blob([L],{type:"text/csv"}),M=window.URL.createObjectURL(U),Q=document.createElement("a");Q.href=M,Q.download=`relatorio-financeiro-${new Date().toISOString().split("T")[0]}.csv`,Q.click()};return u?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-8 w-8 text-green-600"}),"Dashboard Financeiro Completo"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Relatrios financeiros e anlises em tempo real"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4"}),"Exportar"]})})]}),s.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[{id:"overview",label:"Viso Geral",icon:fu},{id:"kpis",label:"KPIs e OKRs",icon:jr},{id:"dre",label:"DRE",icon:mt},{id:"cashflow",label:"Fluxo de Caixa",icon:l9},{id:"reports",label:"Relatrios",icon:eoe}].map(L=>{const U=L.icon;return s.jsxs("button",{onClick:()=>e(L.id),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${t===L.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[s.jsx(U,{className:"h-4 w-4"}),L.label]},L.id)})}),t==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(Z1,{className:"h-6 w-6"})}),s.jsx(jr,{className:"h-5 w-5 opacity-80"})]}),s.jsx("p",{className:"text-green-100 text-sm font-medium mb-1",children:"Total Receitas"}),s.jsx("h2",{className:"text-3xl font-bold",children:E(y.totalReceitas)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-green-100",children:["Este ms: ",E(y.receitasMes)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(vE,{className:"h-6 w-6"})}),s.jsx(vl,{className:"h-5 w-5 opacity-80"})]}),s.jsx("p",{className:"text-red-100 text-sm font-medium mb-1",children:"Total Despesas"}),s.jsx("h2",{className:"text-3xl font-bold",children:E(y.totalDespesas)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-red-100",children:["Este ms: ",E(y.despesasMes)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`bg-gradient-to-br ${y.lucro>=0?"from-blue-500 to-blue-600":"from-orange-500 to-orange-600"} rounded-xl p-6 text-white shadow-lg`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(_oe,{className:"h-6 w-6"})}),s.jsx(Xt,{className:"h-5 w-5 opacity-80"})]}),s.jsx("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Lucro Lquido"}),s.jsx("h2",{className:"text-3xl font-bold",children:E(y.lucro)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-blue-100",children:["Margem: ",D(y.margemLucro)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(kt,{className:"h-6 w-6"})})}),s.jsx("p",{className:"text-purple-100 text-sm font-medium mb-1",children:"Custo Folha"}),s.jsx("h2",{className:"text-3xl font-bold",children:E(y.custoFolha)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-purple-100",children:[o.length," funcionrios"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(jt,{className:"h-6 w-6"})})}),s.jsx("p",{className:"text-amber-100 text-sm font-medium mb-1",children:"Investido em Estoque"}),s.jsx("h2",{className:"text-3xl font-bold",children:E(y.valorEstoque)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-amber-100",children:["Valor de Venda: ",E(y.valorVendaEstoque)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(jr,{className:"h-6 w-6"})})}),s.jsx("p",{className:"text-emerald-100 text-sm font-medium mb-1",children:"Lucro Potencial Estoque"}),s.jsx("h2",{className:"text-3xl font-bold",children:E(y.lucroEstoque)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-emerald-100",children:["Margem: ",D(y.valorEstoque>0?y.lucroEstoque/y.valorEstoque*100:0)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(jt,{className:"h-6 w-6"})})}),s.jsx("p",{className:"text-cyan-100 text-sm font-medium mb-1",children:"Itens em Estoque"}),s.jsx("h2",{className:"text-3xl font-bold",children:c.length}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsx("p",{className:"text-sm text-cyan-100",children:"Produtos disponveis"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Receber"}),s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-4",children:E(y.contasReceber)}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(L=>L.tipo==="receita"&&L.status==="a_receber").slice(0,5).map(L=>s.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:L.descricao}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(L.data).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"font-bold text-green-600",children:E(Number(L.valor))})]})},L.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Pagar"}),s.jsx("div",{className:"text-3xl font-bold text-red-600 mb-4",children:E(y.contasPagar)}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(L=>L.tipo==="despesa"&&L.status==="a_pagar").slice(0,5).map(L=>s.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:L.descricao}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(L.data).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"font-bold text-red-600",children:E(Number(L.valor))})]})},L.id))})]})]})]}),t==="dre"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"DRE - Demonstrativo de Resultados"}),s.jsx(Jt,{className:"h-6 w-6 text-gray-400"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"RECEITAS"}),s.jsx("span",{className:"text-2xl font-bold text-green-700",children:E(N.totalReceitas)})]}),s.jsx("div",{className:"space-y-2",children:N.receitas.map((L,U)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:L.categoria}),s.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${L.percentual}%`}})})]}),s.jsxs("div",{className:"ml-4 text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:E(L.valor)}),s.jsx("p",{className:"text-sm text-gray-500",children:D(L.percentual)})]})]},U))})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"DESPESAS"}),s.jsx("span",{className:"text-2xl font-bold text-red-700",children:E(N.totalDespesas)})]}),s.jsx("div",{className:"space-y-2",children:N.despesas.map((L,U)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:L.categoria}),s.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${L.percentual}%`}})})]}),s.jsxs("div",{className:"ml-4 text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:E(L.valor)}),s.jsx("p",{className:"text-sm text-gray-500",children:D(L.percentual)})]})]},U))})]}),s.jsx("div",{className:"border-t pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-6 rounded-xl ${N.lucroOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Lucro Operacional"}),s.jsx("p",{className:`text-4xl font-bold ${N.lucroOperacional>=0?"text-blue-700":"text-orange-700"}`,children:E(N.lucroOperacional)})]}),s.jsxs("div",{className:`p-6 rounded-xl ${N.margemOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Margem Operacional"}),s.jsx("p",{className:`text-4xl font-bold ${N.margemOperacional>=0?"text-blue-700":"text-orange-700"}`,children:D(N.margemOperacional)})]})]})})]})]})}),t==="cashflow"&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Fluxo de Caixa - ltimos 6 Meses"}),s.jsx("div",{className:"h-96",children:s.jsx(j0,{data:{labels:C.labels,datasets:[{label:"Receitas",data:C.receitas,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:C.despesas,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4},{label:"Saldo",data:C.saldo,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:L=>`${L.dataset.label}: ${E(L.parsed.y)}`}}},scales:{y:{ticks:{callback:L=>E(Number(L))}}}}})})]}),t==="kpis"&&s.jsx(Vbe,{}),t==="reports"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Ticket Mdio"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:E(y.ticketMedio)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Margem de Lucro"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:D(y.margemLucro)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Lucro do Ms"}),s.jsx("p",{className:`text-3xl font-bold ${y.lucroMes>=0?"text-blue-600":"text-red-600"}`,children:E(y.lucroMes)})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ltimos Lanamentos"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Data"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Cdigo"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Descrio"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Tipo"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Valor"})]})}),s.jsx("tbody",{className:"divide-y",children:r.slice(0,10).map(L=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(L.data).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:L.codigo}),s.jsx("td",{className:"px-4 py-3 text-sm",children:L.descricao}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:L.tipo})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.status==="recebido"||L.status==="pago"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:L.status})}),s.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:E(Number(L.valor))})]},L.id))})]})})]})]})]})},Nz=async t=>{try{const e=t.replace(/\D/g,"");if(e.length!==14)throw new Error("CNPJ deve conter 14 dgitos");const r="https://hevvpugkhcmujiyncysq.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",a=`${r}/functions/v1/buscar-cnpj?cnpj=${e}`,i=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${n}`,apikey:n}});if(!i.ok){const l=await i.json().catch(()=>({}));throw i.status===429?new Error("Limite de consultas atingido. Tente novamente em alguns segundos."):i.status===404?new Error(l.error||"CNPJ no encontrado na base de dados."):new Error(l.error||"Erro ao buscar CNPJ. Verifique sua conexo.")}const o=await i.json();if(o.status==="ERROR")throw new Error(o.message||"CNPJ no encontrado");return o}catch(e){throw console.error("Erro ao buscar CNPJ:",e),e instanceof TypeError?new Error("Erro de conexo. Verifique sua internet."):e}},_z=t=>{const e=t.replace(/\D/g,"");return e.length<=2?e:e.length<=5?`${e.slice(0,2)}.${e.slice(2)}`:e.length<=8?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5)}`:e.length<=12?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8)}`:`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8,12)}-${e.slice(12,14)}`},Wbe=({cnpj:t,onCnpjChange:e,onDataFilled:r})=>{const[n,a]=P.useState(!1),[i,o]=P.useState(""),[l,c]=P.useState(!1),d=async()=>{if(!t||t.replace(/\D/g,"").length!==14){o("CNPJ deve conter 14 dgitos");return}a(!0),o(""),c(!1);try{const f=await Nz(t);f&&(r({razao_social:f.razao_social,nome_fantasia:f.nome_fantasia,email:f.email,telefone:f.telefone,logradouro:f.logradouro,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.municipio,estado:f.uf,cep:f.cep}),c(!0),setTimeout(()=>c(!1),3e3))}catch(f){o(f instanceof Error?f.message:"Erro ao buscar CNPJ")}finally{a(!1)}},u=f=>{const g=_z(f);e(g),o(""),c(!1)},A=()=>{t&&t.replace(/\D/g,"").length===14&&d()},h=f=>{f.key==="Enter"&&(f.preventDefault(),d())};return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNPJ ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s.jsx(yl,{className:"w-5 h-5"})}),s.jsx("input",{type:"text",value:t,onChange:f=>u(f.target.value),onBlur:A,onKeyPress:h,placeholder:"00.000.000/0000-00",maxLength:18,className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${i?"border-red-500":l?"border-green-500":"border-gray-300"}`}),s.jsx("button",{type:"button",onClick:d,disabled:n||!t,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar dados da empresa",children:n?s.jsx(gx,{className:"w-5 h-5 animate-spin"}):s.jsx(zr,{className:"w-5 h-5"})})]}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),l&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(yl,{className:"w-4 h-4"}),"Dados da empresa preenchidos automaticamente"]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Digite o CNPJ e pressione Enter ou clique na lupa para buscar os dados automaticamente"})]})},Gbe=({isOpen:t,onClose:e,onSave:r,customerId:n})=>{const[a,i]=P.useState("dados"),[o,l]=P.useState(!1),[c,d]=P.useState({tipo_pessoa:"fisica",nome_razao:"",nome_fantasia:"",cpf:"",rg:"",cnpj:"",inscricao_estadual:"",inscricao_municipal:"",data_nascimento:"",data_fundacao:"",email:"",telefone:"",celular:"",observacoes:""}),[u,A]=P.useState([]),[h,f]=P.useState([]),[g,x]=P.useState([]);P.useEffect(()=>{n&&m()},[n]);const m=async()=>{if(n)try{const{data:_}=await pe.from("customers").select("*").eq("id",n).single();_&&d({tipo_pessoa:_.tipo_pessoa||"fisica",nome_razao:_.nome_razao||"",nome_fantasia:_.nome_fantasia||"",cpf:_.cpf||"",rg:_.rg||"",cnpj:_.cnpj||"",inscricao_estadual:_.inscricao_estadual||"",inscricao_municipal:_.inscricao_municipal||"",data_nascimento:_.data_nascimento||"",data_fundacao:_.data_fundacao||"",email:_.email||"",telefone:_.telefone||"",celular:_.celular||"",observacoes:_.observacoes||""});const{data:B}=await pe.from("customer_addresses").select("*").eq("customer_id",n),{data:T}=await pe.from("customer_contacts").select("*").eq("customer_id",n),{data:w}=await pe.from("customer_equipment").select("*").eq("customer_id",n);A(B||[]),f(T||[]),x(w||[])}catch(_){console.error("Error loading customer:",_)}},p=async()=>{try{if(!c.nome_razao){alert("Nome/Razo Social  obrigatrio!");return}l(!0);let _=n;const B={nome_razao:c.nome_razao,tipo_pessoa:c.tipo_pessoa||"fisica",cpf:c.cpf||null,cnpj:c.cnpj||null,rg:c.rg||null,email:c.email||null,telefone:c.telefone||null,celular:c.celular||null,inscricao_estadual:c.inscricao_estadual||null,inscricao_municipal:c.inscricao_municipal||null,nome_fantasia:c.nome_fantasia||null,data_nascimento:c.data_nascimento||null,data_fundacao:c.data_fundacao||null,observacoes:c.observacoes||null};if(n){const{error:T}=await pe.from("customers").update(B).eq("id",n);if(T)throw console.error("Error updating customer:",T),T}else{const{data:T,error:w}=await pe.from("customers").insert([B]).select().single();if(w)throw console.error("Error inserting customer:",w),alert(`Erro ao salvar cliente: ${w.message}`),w;_=T.id}for(const T of u)if(T.id.startsWith("new-")){console.log(" ENDEREO ORIGINAL:",JSON.stringify(T,null,2));const{data:w,error:E}=await pe.rpc("insert_customer_address",{p_customer_id:_,p_tipo:T.tipo||"comercial",p_nome_identificacao:T.nome_identificacao||"",p_cep:T.cep||"",p_logradouro:T.logradouro||"",p_numero:T.numero||"",p_complemento:T.complemento||"",p_bairro:T.bairro||"",p_cidade:T.cidade||"",p_estado:T.estado||"",p_principal:T.principal||!1});if(E)throw console.error(" ERRO ao inserir endereo:",E),alert(`Erro ao salvar endereo: ${E.message}`),E}else{const{error:w}=await pe.rpc("update_customer_address",{p_id:T.id,p_tipo:T.tipo||"comercial",p_nome_identificacao:T.nome_identificacao||"",p_cep:T.cep||"",p_logradouro:T.logradouro||"",p_numero:T.numero||"",p_complemento:T.complemento||"",p_bairro:T.bairro||"",p_cidade:T.cidade||"",p_estado:T.estado||"",p_principal:T.principal||!1});if(w)throw console.error(" ERRO ao atualizar endereo:",w),alert(`Erro ao atualizar endereo: ${w.message}`),w}for(const T of h)if(T.id.startsWith("new-")){const w={customer_id:_,nome:String(T.nome||""),cargo:String(T.cargo||""),email:String(T.email||""),telefone:String(T.telefone||""),celular:String(T.celular||""),departamento:String(T.departamento||""),principal:!!T.principal,recebe_notificacoes:T.recebe_notificacoes!==void 0?!!T.recebe_notificacoes:!0},{error:E}=await pe.from("customer_contacts").insert([w]);if(E)throw console.error(" ERRO ao inserir contato:",E),E}else{const w={nome:String(T.nome||""),cargo:String(T.cargo||""),email:String(T.email||""),telefone:String(T.telefone||""),celular:String(T.celular||""),departamento:String(T.departamento||""),principal:!!T.principal,recebe_notificacoes:T.recebe_notificacoes!==void 0?!!T.recebe_notificacoes:!0},{error:E}=await pe.from("customer_contacts").update(w).eq("id",T.id);if(E)throw console.error(" ERRO ao atualizar contato:",E),E}for(const T of g)if(T.id.startsWith("new-")){const w={customer_id:_,customer_address_id:T.customer_address_id||null,tipo_equipamento:String(T.tipo_equipamento||""),marca:String(T.marca||""),modelo:String(T.modelo||""),numero_serie:String(T.numero_serie||""),capacidade:String(T.capacidade||""),data_instalacao:T.data_instalacao||null},{error:E}=await pe.from("customer_equipment").insert([w]);if(E)throw console.error(" ERRO ao inserir equipamento:",E),E}else{const w={customer_address_id:T.customer_address_id||null,tipo_equipamento:String(T.tipo_equipamento||""),marca:String(T.marca||""),modelo:String(T.modelo||""),numero_serie:String(T.numero_serie||""),capacidade:String(T.capacidade||""),data_instalacao:T.data_instalacao||null},{error:E}=await pe.from("customer_equipment").update(w).eq("id",T.id);if(E)throw console.error(" ERRO ao atualizar equipamento:",E),E}r(),e()}catch(_){console.error("Error saving:",_),alert("Erro ao salvar cliente!")}finally{l(!1)}},y=()=>{A([...u,{id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",principal:u.length===0}])},b=()=>{f([...h,{id:`new-${Date.now()}`,nome:"",cargo:"",email:"",telefone:"",celular:"",departamento:"",principal:h.length===0,recebe_notificacoes:!0}])},N=()=>{var _;x([...g,{id:`new-${Date.now()}`,customer_address_id:((_=u[0])==null?void 0:_.id)||"",tipo_equipamento:"",marca:"",modelo:"",numero_serie:"",capacidade:"",data_instalacao:""}])},j=_=>_.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),C=_=>_.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),k=_=>{if(d({...c,nome_razao:_.razao_social||c.nome_razao,nome_fantasia:_.nome_fantasia||c.nome_fantasia,email:_.email||c.email,telefone:_.telefone||c.telefone}),_.logradouro&&_.cidade&&_.estado){const B={id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"Sede",cep:_.cep||"",logradouro:_.logradouro||"",numero:_.numero||"",complemento:_.complemento||"",bairro:_.bairro||"",cidade:_.cidade||"",estado:_.estado||"",principal:u.length===0};A([...u,B])}};return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Cliente":"Novo Cliente"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Cadastro completo com endereos, contatos e equipamentos"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:vn},{id:"enderecos",label:"Endereos",icon:Ra},{id:"contatos",label:"Contatos",icon:kt},{id:"equipamentos",label:"Equipamentos",icon:jt}].map(_=>{const B=_.icon;return s.jsxs("button",{onClick:()=>i(_.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===_.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(B,{className:"h-4 w-4"}),_.label]},_.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(it,{mode:"wait",children:[a==="dados"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:c.tipo_pessoa==="fisica",onChange:()=>d({...c,tipo_pessoa:"fisica"}),className:"w-4 h-4"}),s.jsx(vn,{className:"h-4 w-4"}),s.jsx("span",{children:"Pessoa Fsica"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:c.tipo_pessoa==="juridica",onChange:()=>d({...c,tipo_pessoa:"juridica"}),className:"w-4 h-4"}),s.jsx(Bu,{className:"h-4 w-4"}),s.jsx("span",{children:"Pessoa Jurdica"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:c.tipo_pessoa==="fisica"?"Nome Completo *":"Razo Social *"}),s.jsx("input",{type:"text",value:c.nome_razao,onChange:_=>d({...c,nome_razao:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="juridica"&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:c.nome_fantasia,onChange:_=>d({...c,nome_fantasia:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="fisica"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF *"}),s.jsx("input",{type:"text",value:c.cpf,maxLength:14,onChange:_=>d({...c,cpf:j(_.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"RG"}),s.jsx("input",{type:"text",value:c.rg,onChange:_=>d({...c,rg:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Nascimento"}),s.jsx("input",{type:"date",value:c.data_nascimento,onChange:_=>d({...c,data_nascimento:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Wbe,{cnpj:c.cnpj,onCnpjChange:_=>d({...c,cnpj:_}),onDataFilled:k}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrio Estadual"}),s.jsx("input",{type:"text",value:c.inscricao_estadual,onChange:_=>d({...c,inscricao_estadual:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrio Municipal"}),s.jsx("input",{type:"text",value:c.inscricao_municipal,onChange:_=>d({...c,inscricao_municipal:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Fundao"}),s.jsx("input",{type:"date",value:c.data_fundacao,onChange:_=>d({...c,data_fundacao:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:c.email,onChange:_=>d({...c,email:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: contato@empresa.com.br"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:c.telefone,onChange:_=>d({...c,telefone:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular / WhatsApp"}),s.jsx("input",{type:"tel",value:c.celular,onChange:_=>d({...c,celular:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),s.jsx("textarea",{value:c.observacoes,onChange:_=>d({...c,observacoes:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Ex: Cliente preferencial, Pagamento  vista, Desconto corporativo..."})]})]})]},"dados"),a==="enderecos"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Endereos do Cliente"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:" Digite o CEP e os dados sero preenchidos automaticamente"})]}),s.jsxs("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Adicionar Endereo"]})]}),u.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Ra,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum endereo cadastrado"})]}),u.map((_,B)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Endereo #",B+1]}),s.jsx("button",{onClick:()=>A(u.filter(T=>T.id!==_.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),s.jsxs("select",{value:_.tipo,onChange:T=>A(u.map(w=>w.id===_.id?{...w,tipo:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"comercial",children:"Comercial"}),s.jsx("option",{value:"residencial",children:"Residencial"}),s.jsx("option",{value:"filial",children:"Filial"}),s.jsx("option",{value:"outro",children:"Outro"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Identificao (Ex: Matriz, Filial Centro)"}),s.jsx("input",{type:"text",value:_.nome_identificacao||"",onChange:T=>A(u.map(w=>w.id===_.id?{...w,nome_identificacao:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Matriz, Filial So Paulo, Depsito Centro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CEP"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",value:_.cep||"",maxLength:9,onChange:T=>A(u.map(w=>w.id===_.id?{...w,cep:C(T.target.value)}:w)),onBlur:async T=>{const w=T.target.value.replace(/\D/g,"");if(w.length===8)try{const D=await(await fetch(`https://viacep.com.br/ws/${w}/json/`)).json();D.erro||A(u.map(O=>O.id===_.id?{...O,logradouro:D.logradouro||O.logradouro,bairro:D.bairro||O.bairro,cidade:D.localidade||O.cidade,estado:D.uf||O.estado,complemento:D.complemento||O.complemento}:O))}catch{console.log("CEP no encontrado, preencha manualmente")}},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Logradouro (Rua/Avenida)"}),s.jsx("input",{type:"text",value:_.logradouro||"",onChange:T=>A(u.map(w=>w.id===_.id?{...w,logradouro:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rua das Flores, Avenida Paulista"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nmero"}),s.jsx("input",{type:"text",value:_.numero||"",onChange:T=>A(u.map(w=>w.id===_.id?{...w,numero:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 123, S/N"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Complemento"}),s.jsx("input",{type:"text",value:_.complemento||"",onChange:T=>A(u.map(w=>w.id===_.id?{...w,complemento:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Apto 101, Bloco A, Sala 205"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:_.bairro||"",onChange:T=>A(u.map(w=>w.id===_.id?{...w,bairro:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Centro, Vila Mariana"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:_.cidade||"",onChange:T=>A(u.map(w=>w.id===_.id?{...w,cidade:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: So Paulo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estado"}),s.jsx("input",{type:"text",value:_.estado||"",maxLength:2,onChange:T=>A(u.map(w=>w.id===_.id?{...w,estado:T.target.value.toUpperCase()}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"SP"})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_.principal,onChange:T=>A(u.map(w=>w.id===_.id?{...w,principal:T.target.checked}:{...w,principal:!1})),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Endereo Principal"})]})})]})]},_.id))]},"enderecos"),a==="contatos"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Contatos e Responsveis"}),s.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Adicionar Contato"]})]}),h.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(kt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum contato cadastrado"})]}),h.map((_,B)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Contato #",B+1]}),s.jsx("button",{onClick:()=>f(h.filter(T=>T.id!==_.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:_.nome,onChange:T=>f(h.map(w=>w.id===_.id?{...w,nome:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Joo da Silva"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cargo"}),s.jsx("input",{type:"text",value:_.cargo,onChange:T=>f(h.map(w=>w.id===_.id?{...w,cargo:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Gerente de Compras, Diretor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:_.email,onChange:T=>f(h.map(w=>w.id===_.id?{...w,email:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: joao@empresa.com.br"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:_.telefone,onChange:T=>f(h.map(w=>w.id===_.id?{...w,telefone:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular"}),s.jsx("input",{type:"tel",value:_.celular,onChange:T=>f(h.map(w=>w.id===_.id?{...w,celular:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:_.departamento,onChange:T=>f(h.map(w=>w.id===_.id?{...w,departamento:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Financeiro, Compras, T.I."})]}),s.jsxs("div",{className:"md:col-span-2 flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_.principal,onChange:T=>f(h.map(w=>w.id===_.id?{...w,principal:T.target.checked}:{...w,principal:!1})),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Contato Principal"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_.recebe_notificacoes,onChange:T=>f(h.map(w=>w.id===_.id?{...w,recebe_notificacoes:T.target.checked}:w)),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Recebe Notificaes"})]})]})]})]},_.id))]},"contatos"),a==="equipamentos"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Inventrio de Equipamentos"}),s.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Adicionar Equipamento"]})]}),u.length===0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Kn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900",children:"Cadastre endereos primeiro"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Para registrar equipamentos,  necessrio ter pelo menos um endereo cadastrado."})]})]}),g.length===0&&u.length>0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(jt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum equipamento cadastrado"})]}),g.map((_,B)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Equipamento #",B+1]}),s.jsx("button",{onClick:()=>x(g.filter(T=>T.id!==_.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Localizao"}),s.jsxs("select",{value:_.customer_address_id,onChange:T=>x(g.map(w=>w.id===_.id?{...w,customer_address_id:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione o endereo..."}),u.map(T=>s.jsx("option",{value:T.id,children:T.nome_identificacao||`${T.logradouro}, ${T.numero}`},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Equipamento"}),s.jsx("input",{type:"text",value:_.tipo_equipamento,onChange:T=>x(g.map(w=>w.id===_.id?{...w,tipo_equipamento:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Ar Condicionado Split"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),s.jsx("input",{type:"text",value:_.marca,onChange:T=>x(g.map(w=>w.id===_.id?{...w,marca:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),s.jsx("input",{type:"text",value:_.modelo,onChange:T=>x(g.map(w=>w.id===_.id?{...w,modelo:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nmero de Srie"}),s.jsx("input",{type:"text",value:_.numero_serie,onChange:T=>x(g.map(w=>w.id===_.id?{...w,numero_serie:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacidade"}),s.jsx("input",{type:"text",value:_.capacidade,onChange:T=>x(g.map(w=>w.id===_.id?{...w,capacidade:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12000 BTU, 18000 BTU"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Instalao"}),s.jsx("input",{type:"date",value:_.data_instalacao,onChange:T=>x(g.map(w=>w.id===_.id?{...w,data_instalacao:T.target.value}:w)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]},_.id))]},"equipamentos")]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:p,disabled:o,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:o?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5"}),"Salvar Cliente"]})})]})]})}):null},Xbe=()=>{const{isAdmin:t}=Zr(),e=na(),[r,n]=P.useState([]),[a,i]=P.useState([]),[o,l]=P.useState([]),[c,d]=P.useState([]),[u,A]=P.useState(!0),[h,f]=P.useState(null),[g,x]=P.useState(""),[m,p]=P.useState("all"),[y,b]=P.useState(!1),[N,j]=P.useState(null),[C,k]=P.useState(void 0),[_,B]=P.useState(null),[T,w]=P.useState(null),[E,D]=P.useState(!1),[O,L]=P.useState(null),[U,M]=P.useState([]),[Q,q]=P.useState(1),J=10,[ee,$]=P.useState({name:"",email:"",phone:"",address:"",client_type:"PF",document:""}),[R,K]=P.useState({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""});P.useEffect(()=>{V()},[]);const V=async()=>{try{A(!0);const ue=await Nde();n(ue||[]),f(null)}catch(ue){console.error("Error loading clients:",ue),f("Erro ao carregar clientes"),n([{id:"1",name:"Joo Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - So Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - So Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"}])}finally{A(!1)}},ae=async ue=>{try{return await Bde(ue)||[]}catch(se){return console.error("Error loading client contracts:",se),[]}},Ae=async ue=>{try{const{data:se,error:fe}=await pe.from("service_orders").select("*").eq("customer_id",ue).order("opened_at",{ascending:!1});if(fe)throw fe;return se||[]}catch(se){return console.error("Error loading service orders:",se),[]}},ne=async ue=>{try{const{data:se,error:fe}=await pe.from("customer_equipment").select("*").eq("customer_id",ue).order("created_at",{ascending:!1});if(fe)throw fe;return se||[]}catch(se){return console.error("Error loading equipments:",se),[]}},ie=r.filter(ue=>{var be,xe;const se=ue.name.toLowerCase().includes(g.toLowerCase())||((be=ue.email)==null?void 0:be.toLowerCase().includes(g.toLowerCase()))||((xe=ue.phone)==null?void 0:xe.toLowerCase().includes(g.toLowerCase())),fe=m==="all"||ue.client_type===m;return se&&fe}),le=Math.ceil(ie.length/J),X=(Q-1)*J,he=X+J,Me=ie.slice(X,he),Qe=r.filter(ue=>a.some(se=>se.customer_id===ue.id&&se.status==="active")).length;P.useEffect(()=>{q(1)},[g,m]);const ye=async ue=>{try{await _de(ue),n(r.filter(se=>se.id!==ue)),B(null),alert("Cliente excludo com sucesso!")}catch(se){console.error("Error deleting client:",se),alert("Erro ao excluir cliente")}},z=async()=>{if(!T){alert("Por favor, selecione um cliente");return}try{const ue={client_id:T.id,contract_number:`CONT-${new Date().getFullYear()}-${String(a.length+1).padStart(3,"0")}`,title:R.title,start_date:R.start_date,end_date:R.end_date,contract_type:R.contract_type,frequency:R.frequency,value:R.value,status:"active",sla_response_time:R.sla_response_time,sla_resolution_time:R.sla_resolution_time,sla_availability:R.sla_availability,next_service_date:R.next_service_date,terms_and_conditions:R.terms_and_conditions,notes:R.notes},se=await Cde(ue);i([...a,se]),K({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""}),D(!1),w(null),alert("Contrato criado com sucesso!")}catch(ue){console.error("Error creating contract:",ue),alert("Erro ao criar contrato")}},ke=async()=>{if(O)try{const ue={title:O.title,start_date:O.start_date,end_date:O.end_date,contract_type:O.contract_type,frequency:O.frequency,value:O.value,status:O.status,sla_response_time:O.sla_response_time,sla_resolution_time:O.sla_resolution_time,sla_availability:O.sla_availability,next_service_date:O.next_service_date,terms_and_conditions:O.terms_and_conditions,notes:O.notes},se=await Sde(O.id,ue);i(a.map(fe=>fe.id===se.id?se:fe)),L(null),alert("Contrato atualizado com sucesso!")}catch(ue){console.error("Error updating contract:",ue),alert("Erro ao atualizar contrato")}},Ie=async ue=>{try{await Ede(ue),i(a.filter(se=>se.id!==ue)),alert("Contrato excludo com sucesso!")}catch(se){console.error("Error deleting contract:",se),alert("Erro ao excluir contrato")}},Pe=async ue=>{if(U.includes(ue))M(U.filter(se=>se!==ue));else{M([...U,ue]);const[se,fe,be]=await Promise.all([ae(ue),Ae(ue),ne(ue)]);i(xe=>[...xe.filter(Se=>Se.client_id!==ue),...se]),l(xe=>[...xe.filter(Se=>Se.customer_id!==ue),...fe]),d(xe=>[...xe.filter(Se=>Se.customer_id!==ue),...be])}},Le=ue=>{switch(ue){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},De=ue=>{switch(ue){case"pending":return"Pendente";case"in_progress":return"Em Andamento";case"completed":return"Concluda";case"cancelled":return"Cancelada";default:return ue}},Ee=ue=>{switch(ue){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},ce=ue=>{switch(ue){case"active":return"Ativo";case"expired":return"Expirado";case"cancelled":return"Cancelado";case"suspended":return"Suspenso";default:return"Desconhecido"}},He=ue=>{switch(ue){case"maintenance":return"Manuteno";case"support":return"Suporte";case"service":return"Servio";default:return ue}},ge=ue=>{switch(ue){case"monthly":return"Mensal";case"quarterly":return"Trimestral";case"biannual":return"Semestral";case"annual":return"Anual";default:return"No definida"}};return s.jsxs("div",{className:"space-y-6",children:[h&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ns,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:h})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Clientes"}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("button",{onClick:()=>b(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Cliente"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Clientes"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:s.jsx(vn,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(ue=>ue.client_type==="PF").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Fsica"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(Bu,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(ue=>ue.client_type==="PJ").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Jurdica"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx(mt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Qe}),s.jsx("p",{className:"text-sm text-gray-600",children:"Clientes com Contrato"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:g,onChange:ue=>x(ue.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aA,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m,onChange:ue=>p(ue.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Tipos"}),s.jsx("option",{value:"PF",children:"Pessoa Fsica"}),s.jsx("option",{value:"PJ",children:"Pessoa Jurdica"})]})]})]})}),u?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando clientes..."})]}):s.jsxs("div",{className:"space-y-4",children:[Me.length>0?Me.map((ue,se)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:se*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${ue.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:ue.client_type==="PF"?s.jsx(vn,{className:"h-6 w-6"}):s.jsx(Bu,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ue.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ue.client_type==="PF"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:ue.client_type}),ue.document&&s.jsx("span",{className:"text-xs text-gray-500",children:ue.document})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>Pe(ue.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:U.includes(ue.id)?s.jsx(a0,{className:"h-4 w-4"}):s.jsx(Hu,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:ue.phone})]}),ue.email&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:ue.email})]}),s.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[s.jsx(Ra,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:ue.address})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{j(ue),k(ue.id)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>B(ue.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Ct,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]}),s.jsx(it,{children:U.includes(ue.id)&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(mt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Contratos"]}),s.jsxs("button",{onClick:()=>{w(ue),D(!0)},className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(xt,{className:"h-3 w-3"}),s.jsx("span",{children:"Novo Contrato"})]})]}),a.filter(fe=>fe.customer_id===ue.id).length>0?s.jsx("div",{className:"space-y-3",children:a.filter(fe=>fe.customer_id===ue.id).map(fe=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:fe.title}),s.jsx("p",{className:"text-sm text-gray-600",children:fe.contract_number})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ee(fe.status)}`,children:ce(fe.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Tipo:"}),s.jsx("p",{className:"font-medium",children:He(fe.contract_type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Frequncia:"}),s.jsx("p",{className:"font-medium",children:ge(fe.frequency)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Valor:"}),s.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",fe.value.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Vigncia:"}),s.jsxs("p",{className:"font-medium",children:[new Date(fe.start_date).toLocaleDateString("pt-BR")," - ",new Date(fe.end_date).toLocaleDateString("pt-BR")]})]}),fe.next_service_date&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Prximo Servio:"}),s.jsx("p",{className:"font-medium",children:new Date(fe.next_service_date).toLocaleDateString("pt-BR")})]}),fe.sla_response_time&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"SLA Resposta:"}),s.jsxs("p",{className:"font-medium",children:[fe.sla_response_time,"h"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>L(fe),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Rr,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>Ie(fe.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Ct,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},fe.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(mt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum contrato cadastrado"}),s.jsx("button",{onClick:()=>{w(ue),D(!0)},className:"mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Criar Primeiro Contrato"})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[s.jsx(Zs,{className:"h-5 w-5 mr-2 text-green-500"}),"Histrico de Servios"]}),o.filter(fe=>fe.customer_id===ue.id).length>0?s.jsxs("div",{className:"space-y-2",children:[o.filter(fe=>fe.customer_id===ue.id).slice(0,5).map(fe=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>e(`/ordens-servico/${fe.id}`),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:fe.order_number}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Le(fe.status)}`,children:De(fe.status)})]}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:fe.description||"Sem descrio"}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),fe.opened_at?new Date(fe.opened_at).toLocaleDateString("pt-BR"):"N/A"]}),fe.total_value&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xt,{className:"h-3 w-3"}),"R$ ",fe.total_value.toFixed(2)]})]})]}),s.jsx(ji,{className:"h-4 w-4 text-gray-400"})]})},fe.id)),o.filter(fe=>fe.customer_id===ue.id).length>5&&s.jsxs("button",{onClick:()=>e("/ordens-servico"),className:"w-full py-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:["Ver todas as ",o.filter(fe=>fe.customer_id===ue.id).length," ordens de servio"]})]}):s.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Zs,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhuma ordem de servio realizada"})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[s.jsx(jt,{className:"h-5 w-5 mr-2 text-purple-500"}),"Equipamentos"]}),c.filter(fe=>fe.customer_id===ue.id).length>0?s.jsx("div",{className:"space-y-2",children:c.filter(fe=>fe.customer_id===ue.id).map(fe=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:fe.equipment_name||"Equipamento"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs text-gray-600",children:[fe.brand&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Marca:"})," ",fe.brand]}),fe.model&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Modelo:"})," ",fe.model]}),fe.serial_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Srie:"})," ",fe.serial_number]}),fe.installation_date&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Instalado em:"})," ",new Date(fe.installation_date).toLocaleDateString("pt-BR")]})]})]})})},fe.id))}):s.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(jt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum equipamento cadastrado"})]})]})]})})]},ue.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(kt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum cliente encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos clientes com os filtros selecionados."}),s.jsx("button",{onClick:()=>{x(""),p("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]}),ie.length>0&&le>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>q(ue=>Math.max(ue-1,1)),disabled:Q===1,className:`px-4 py-2 rounded-lg ${Q===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Anterior"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:le},(ue,se)=>se+1).map(ue=>s.jsx("button",{onClick:()=>q(ue),className:`w-10 h-10 rounded-lg ${Q===ue?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:ue},ue))}),s.jsx("button",{onClick:()=>q(ue=>Math.min(ue+1,le)),disabled:Q===le,className:`px-4 py-2 rounded-lg ${Q===le?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Prxima"}),s.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Mostrando ",X+1,"-",Math.min(he,ie.length)," de ",ie.length," clientes"]})]})]}),s.jsx(Gbe,{isOpen:y||N!==null,onClose:()=>{b(!1),j(null),k(void 0)},onSave:()=>{V(),b(!1),j(null),k(void 0)},customerId:C}),s.jsx(it,{children:!1}),s.jsx(it,{children:!1}),s.jsx(it,{children:_&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>B(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(ns,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este cliente? Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>B(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>ye(_),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(it,{children:E&&T&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>D(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Contrato"}),s.jsx("button",{onClick:()=>D(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Cliente Selecionado"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${T.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:T.client_type==="PF"?s.jsx(vn,{className:"h-5 w-5"}):s.jsx(Bu,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:T.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[T.client_type," - ",T.phone]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informaes do Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo do Contrato"}),s.jsx("input",{type:"text",value:R.title,onChange:ue=>K({...R,title:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Contrato de Manuteno Preventiva",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),s.jsxs("select",{value:R.contract_type,onChange:ue=>K({...R,contract_type:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"maintenance",children:"Manuteno"}),s.jsx("option",{value:"support",children:"Suporte"}),s.jsx("option",{value:"service",children:"Servio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),s.jsxs("select",{value:R.frequency,onChange:ue=>K({...R,frequency:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio"}),s.jsx("input",{type:"date",value:R.start_date,onChange:ue=>K({...R,start_date:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),s.jsx("input",{type:"date",value:R.end_date,onChange:ue=>K({...R,end_date:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),s.jsx("input",{type:"number",value:R.value,onChange:ue=>K({...R,value:parseFloat(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prximo Servio"}),s.jsx("input",{type:"date",value:R.next_service_date,onChange:ue=>K({...R,next_service_date:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Gr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configurao de SLA"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),s.jsx("input",{type:"number",value:R.sla_response_time,onChange:ue=>K({...R,sla_response_time:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resoluo (horas)"}),s.jsx("input",{type:"number",value:R.sla_resolution_time,onChange:ue=>K({...R,sla_resolution_time:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),s.jsx("input",{type:"number",value:R.sla_availability,onChange:ue=>K({...R,sla_availability:parseFloat(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observaes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condies"}),s.jsx("textarea",{value:R.terms_and_conditions,onChange:ue=>K({...R,terms_and_conditions:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Descreva os termos e condies do contrato..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:R.notes,onChange:ue=>K({...R,notes:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observaes adicionais..."})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>D(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:z,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Criar Contrato"]})]})]})]})}),s.jsx(it,{children:O&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>L(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Contrato"}),s.jsx("button",{onClick:()=>L(null),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informaes do Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo do Contrato"}),s.jsx("input",{type:"text",value:O.title,onChange:ue=>L({...O,title:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),s.jsxs("select",{value:O.contract_type,onChange:ue=>L({...O,contract_type:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"maintenance",children:"Manuteno"}),s.jsx("option",{value:"support",children:"Suporte"}),s.jsx("option",{value:"service",children:"Servio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:O.status,onChange:ue=>L({...O,status:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"suspended",children:"Suspenso"}),s.jsx("option",{value:"cancelled",children:"Cancelado"}),s.jsx("option",{value:"expired",children:"Expirado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),s.jsxs("select",{value:O.frequency,onChange:ue=>L({...O,frequency:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),s.jsx("input",{type:"number",value:O.value,onChange:ue=>L({...O,value:parseFloat(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Gr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configurao de SLA"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),s.jsx("input",{type:"number",value:O.sla_response_time||0,onChange:ue=>L({...O,sla_response_time:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resoluo (horas)"}),s.jsx("input",{type:"number",value:O.sla_resolution_time||0,onChange:ue=>L({...O,sla_resolution_time:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),s.jsx("input",{type:"number",value:O.sla_availability||0,onChange:ue=>L({...O,sla_availability:parseFloat(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observaes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condies"}),s.jsx("textarea",{value:O.terms_and_conditions||"",onChange:ue=>L({...O,terms_and_conditions:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:O.notes||"",onChange:ue=>L({...O,notes:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>L(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:ke,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]})},Ybe=({onPremiumFeature:t})=>{const[e,r]=P.useState("themes"),[n,a]=P.useState(null),[i,o]=P.useState(null),[l,c]=P.useState("desktop"),[d,u]=P.useState("light"),[A,h]=P.useState({id:"custom",name:"Tema Personalizado",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"});P.useEffect(()=>{const p=localStorage.getItem("giartech-theme");if(p){const y=JSON.parse(p);o(y),f(y)}},[]);const f=p=>{const y=document.documentElement,b=p.palette;y.style.setProperty("--color-primary",b.primary),y.style.setProperty("--color-secondary",b.secondary),y.style.setProperty("--color-accent",b.accent),y.style.setProperty("--color-success",b.success),y.style.setProperty("--color-warning",b.warning),y.style.setProperty("--color-error",b.error),y.style.setProperty("--color-neutral",b.neutral),y.style.setProperty("--color-background",b.background),y.style.setProperty("--color-surface",b.surface),y.style.setProperty("--color-text",b.text)},g=p=>{o(p),f(p),localStorage.setItem("giartech-theme",JSON.stringify(p));const y=document.createElement("div");y.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",y.innerHTML=` Tema "${p.name}" aplicado com sucesso!`,document.body.appendChild(y),setTimeout(()=>{y.style.transition="opacity 0.3s",y.style.opacity="0",setTimeout(()=>y.remove(),300)},2e3)},x=()=>{const p={id:"custom-"+Date.now(),name:A.name,description:"Tema personalizado criado pelo usurio",palette:A,typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!0};g(p)},m=[{id:"default",name:"Tema Padro",description:"Tema clssico azul e branco",palette:{id:"default",name:"Padro",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!1},{id:"dark",name:"Tema Escuro",description:"Tema escuro moderno",palette:{id:"dark",name:"Escuro",primary:"#60a5fa",secondary:"#94a3b8",accent:"#a78bfa",success:"#34d399",warning:"#fbbf24",error:"#f87171",neutral:"#9ca3af",background:"#111827",surface:"#1f2937",text:"#f9fafb"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"12px",shadows:!0,animations:!0,isCustom:!1},{id:"nature",name:"Natureza",description:"Tons verdes e terrosos",palette:{id:"nature",name:"Natureza",primary:"#059669",secondary:"#6b7280",accent:"#d97706",success:"#10b981",warning:"#f59e0b",error:"#dc2626",neutral:"#78716c",background:"#f0fdf4",surface:"#ecfdf5",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.6"},spacing:"8px",borderRadius:"16px",shadows:!1,animations:!0,isCustom:!1}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Personalizao Visual"}),i&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Tema ativo: ",s.jsx("span",{className:"font-semibold text-green-600",children:i.name})]})]}),s.jsxs("button",{onClick:()=>alert("Novo tema em breve!"),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Tema"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>r("themes"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="themes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(t2,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Temas"})]}),s.jsxs("button",{onClick:()=>r("colors"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="colors"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Vu,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Cores"})]}),s.jsxs("button",{onClick:()=>r("preview"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="preview"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(xs,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Preview"})]})]}),s.jsxs("div",{className:"p-6",children:[e==="themes"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Temas Disponveis"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((p,y)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:`p-6 rounded-xl border-2 cursor-pointer transition-all relative ${(i==null?void 0:i.id)===p.id?"border-green-500 bg-green-50":(n==null?void 0:n.id)===p.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(p),children:[(i==null?void 0:i.id)===p.id&&s.jsxs("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Fr,{className:"h-3 w-3"}),s.jsx("span",{children:"Ativo"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex space-x-1 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.palette.primary}}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.palette.secondary}}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.palette.accent}})]}),s.jsxs("div",{className:"w-full h-16 rounded-lg border",style:{backgroundColor:p.palette.background,borderColor:p.palette.neutral},children:[s.jsx("div",{className:"h-4 rounded-t-lg",style:{backgroundColor:p.palette.primary}}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"w-full h-2 rounded mb-1",style:{backgroundColor:p.palette.surface}}),s.jsx("div",{className:"w-3/4 h-2 rounded",style:{backgroundColor:p.palette.surface}})]})]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:p.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:p.description}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:b=>{b.stopPropagation(),a(p),r("preview")},className:"flex-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[s.jsx(xs,{className:"h-4 w-4 mr-1 inline"}),"Preview"]}),s.jsxs("button",{onClick:b=>{b.stopPropagation(),g(p)},className:`flex-1 px-3 py-1 rounded-lg transition-colors text-sm ${(i==null?void 0:i.id)===p.id?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[s.jsx(Fr,{className:"h-4 w-4 mr-1 inline"}),(i==null?void 0:i.id)===p.id?"Ativo":"Aplicar"]})]})]},p.id))})]}),e==="colors"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor de Cores"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(A).filter(([p])=>p!=="id"&&p!=="name").map(([p,y])=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:p==="primary"?"Cor Primria":p==="secondary"?"Cor Secundria":p==="accent"?"Cor de Destaque":p==="success"?"Cor de Sucesso":p==="warning"?"Cor de Aviso":p==="error"?"Cor de Erro":p==="neutral"?"Cor Neutra":p==="background"?"Cor de Fundo":p==="surface"?"Cor de Superfcie":p==="text"?"Cor do Texto":p}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"color",value:y,onChange:b=>h({...A,[p]:b.target.value}),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:y,onChange:b=>h({...A,[p]:b.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(y),className:"p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:s.jsx(qu,{className:"h-4 w-4"})})]})]},p))}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:x,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar e Aplicar Paleta"]}),s.jsxs("button",{onClick:()=>h(m[0].palette),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(ea,{className:"h-4 w-4 mr-2 inline"}),"Resetar"]})]})]}),e==="preview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preview do Tema"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>c("desktop"),className:`p-2 rounded-md transition-colors ${l==="desktop"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(mie,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>c("tablet"),className:`p-2 rounded-md transition-colors ${l==="tablet"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(roe,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>c("mobile"),className:`p-2 rounded-md transition-colors ${l==="mobile"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(NE,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>u("light"),className:`p-2 rounded-md transition-colors ${d==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(Jie,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>u("dark"),className:`p-2 rounded-md transition-colors ${d==="dark"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(gie,{className:"h-4 w-4"})})]})]})]}),s.jsx("div",{className:"bg-gray-100 p-8 rounded-xl",children:s.jsxs("div",{className:`mx-auto rounded-lg shadow-lg overflow-hidden transition-all ${l==="mobile"?"max-w-sm":l==="tablet"?"max-w-2xl":"max-w-4xl"}`,style:{backgroundColor:(n==null?void 0:n.palette.background)||A.background,color:(n==null?void 0:n.palette.text)||A.text},children:[s.jsx("div",{className:"p-4",style:{backgroundColor:(n==null?void 0:n.palette.primary)||A.primary},children:s.jsx("h3",{className:"text-white font-semibold",children:"Sistema GiarTech"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||A.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Js,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.primary)||A.primary}}),s.jsx("span",{className:"font-medium",children:"Analytics"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"1,234"})]}),s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||A.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(kt,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.success)||A.success}}),s.jsx("span",{className:"font-medium",children:"Usurios"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"567"})]}),s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||A.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(jt,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.accent)||A.accent}}),s.jsx("span",{className:"font-medium",children:"Produtos"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"89"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.primary)||A.primary},children:"Boto Primrio"}),s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.success)||A.success},children:"Boto de Sucesso"}),s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.warning)||A.warning},children:"Boto de Aviso"})]})]})]})})]})]})]})]})},Jbe=({isOpen:t,onClose:e,onSave:r,title:n,children:a,showControls:i=!0,currentStep:o,totalSteps:l,onPrevStep:c,onNextStep:d})=>s.jsx(it,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xs,{className:"h-5 w-5 text-blue-500"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n})]}),s.jsx("button",{onClick:e,children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 mb-6",children:a}),i&&s.jsxs("div",{className:"flex justify-between items-center",children:[o!==void 0&&l!==void 0?s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:c,disabled:o<=0,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o<=0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Wl,{className:"h-4 w-4"}),s.jsx("span",{children:"Anterior"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Passo ",o+1," de ",l]}),s.jsxs("button",{onClick:d,disabled:o>=l-1,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o>=l-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx("span",{children:"Prximo"}),s.jsx(ji,{className:"h-4 w-4"})]})]}):s.jsx("div",{}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Fechar"}),r&&s.jsxs("button",{onClick:r,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),s.jsx("span",{children:"Salvar Alteraes"})]})]})]})]})]})}),Zbe=({onPremiumFeature:t,onEnterpriseFeature:e})=>{var L;const{isPremium:r,isEnterprise:n}=Zr(),[a,i]=P.useState([{id:"inventory",name:"Estoque de Materiais",description:"Controle de produtos, quantidades e movimentaes",icon:jt,enabled:!0,metrics:["Quantidade em estoque","Produtos em falta","Valor total","Rotatividade"],color:"from-blue-500 to-cyan-500"},{id:"orders",name:"Ordens de Servio",description:"Gesto de pedidos e acompanhamento de status",icon:Zs,enabled:!0,metrics:["Ordens abertas","Ordens concludas","Tempo mdio","Satisfao"],color:"from-green-500 to-emerald-500"},{id:"team",name:"Desempenho da Equipe",description:"Produtividade e performance dos colaboradores",icon:kt,enabled:!1,metrics:["Tarefas concludas","Horas trabalhadas","Eficincia","Avaliaes"],color:"from-purple-500 to-pink-500",requiresPremium:!0},{id:"financial",name:"Financeiro",description:"Receitas, despesas e indicadores financeiros",icon:Xt,enabled:!1,metrics:["Receita mensal","Despesas","Lucro lquido","Fluxo de caixa"],color:"from-orange-500 to-red-500",requiresPremium:!0},{id:"delivery",name:"Entregas",description:"Acompanhamento de entregas e logstica",icon:_E,enabled:!0,metrics:["Entregas no prazo","Atrasos","Distncia percorrida","Custos"],color:"from-indigo-500 to-purple-500"},{id:"quality",name:"Qualidade",description:"Controle de qualidade e no conformidades",icon:ns,enabled:!1,metrics:["No conformidades","Reclamaes","ndice de qualidade","Melhorias"],color:"from-yellow-500 to-orange-500",requiresEnterprise:!0}]),[o,l]=P.useState([{id:"realtime",name:"Monitoramento em Tempo Real",description:"Configuraes para monitoramento em tempo real",icon:Ll,requiresEnterprise:!0,settings:[{id:"interval",name:"Intervalo de Atualizao",description:"Frequncia de atualizao dos dados em tempo real",type:"select",value:"5s",options:["1s","5s","10s","30s","1m"]},{id:"alerts",name:"Alertas Automticos",description:"Enviar alertas automticos quando mtricas ultrapassarem limites",type:"toggle",value:!0},{id:"threshold",name:"Limite de Alerta",description:"Percentual de desvio para disparar alertas",type:"range",value:15,min:5,max:50,step:5}]},{id:"security",name:"Segurana Avanada",description:"Configuraes de segurana para monitoramento",icon:Gr,requiresEnterprise:!0,settings:[{id:"encryption",name:"Criptografia de Dados",description:"Criptografar dados sensveis de monitoramento",type:"toggle",value:!0},{id:"access",name:"Controle de Acesso",description:"Nvel de permisso para visualizar dados de monitoramento",type:"select",value:"admin",options:["admin","manager","all"]},{id:"audit",name:"Trilha de Auditoria",description:"Manter logs de acesso aos dados de monitoramento",type:"toggle",value:!0}]},{id:"notifications",name:"Notificaes",description:"Configuraes de notificaes de monitoramento",icon:i9,requiresEnterprise:!0,settings:[{id:"channels",name:"Canais de Notificao",description:"Canais para envio de notificaes",type:"select",value:"all",options:["email","push","sms","all"]},{id:"frequency",name:"Frequncia de Resumos",description:"Frequncia de envio de resumos de monitoramento",type:"select",value:"daily",options:["hourly","daily","weekly"]},{id:"quiet",name:"Perodo de Silncio",description:"Horrio em que notificaes no sero enviadas",type:"input",value:"22:00 - 08:00"}]},{id:"integration",name:"Integraes",description:"Configuraes de integrao com sistemas externos",icon:Mie,requiresEnterprise:!0,settings:[{id:"api",name:"API Externa",description:"Integrar com API externa para monitoramento",type:"toggle",value:!1},{id:"endpoint",name:"Endpoint da API",description:"URL do endpoint da API externa",type:"input",value:"https://api.example.com/monitoring"},{id:"format",name:"Formato de Dados",description:"Formato dos dados enviados para API externa",type:"select",value:"json",options:["json","xml","csv"]}]},{id:"storage",name:"Armazenamento de Dados",description:"Configuraes de armazenamento de dados de monitoramento",icon:i0,requiresEnterprise:!0,settings:[{id:"retention",name:"Perodo de Reteno",description:"Tempo de reteno dos dados de monitoramento",type:"select",value:"90d",options:["30d","90d","180d","365d","unlimited"]},{id:"compression",name:"Compresso de Dados",description:"Comprimir dados histricos para economizar espao",type:"toggle",value:!0},{id:"backup",name:"Backup Automtico",description:"Frequncia de backup dos dados de monitoramento",type:"select",value:"daily",options:["daily","weekly","monthly"]}]}]),[c,d]=P.useState(!1),[u,A]=P.useState(!1),[h,f]=P.useState(((L=o[0])==null?void 0:L.id)||""),[g,x]=P.useState({name:"",description:"",metrics:[""]}),[m,p]=P.useState(null),[y,b]=P.useState(["areas","enterprise"]),[N,j]=P.useState(!1),C=U=>{b(M=>M.includes(U)?M.filter(Q=>Q!==U):[...M,U])},k=U=>{const M=a.find(q=>q.id===U);if(M!=null&&M.requiresPremium&&!r){t&&t("Monitoramento Avanado");return}if(M!=null&&M.requiresEnterprise&&!n){e&&e("Monitoramento Enterprise");return}i(a.map(q=>q.id===U?{...q,enabled:!q.enabled}:q));const Q=document.getElementById(`area-${U}`);Q&&(Q.classList.add("bg-blue-50"),setTimeout(()=>{Q.classList.remove("bg-blue-50")},300))},_=()=>{console.log("Configuraes salvas:",a.filter(M=>M.enabled));const U=document.getElementById("save-config-button");if(U){const M=U.innerText;U.innerText="Salvo!",U.classList.add("bg-green-500"),U.classList.remove("from-green-500","to-emerald-500"),setTimeout(()=>{U.innerText=M,U.classList.remove("bg-green-500"),U.classList.add("bg-gradient-to-r","from-green-500","to-emerald-500")},2e3)}alert("Configuraes de monitoramento salvas com sucesso!")},B=()=>{x(U=>({...U,metrics:[...U.metrics,""]}))},T=(U,M)=>{x(Q=>({...Q,metrics:Q.metrics.map((q,J)=>J===U?M:q)}))},w=U=>{x(M=>({...M,metrics:M.metrics.filter((Q,q)=>q!==U)}))},E=()=>{if(!r){t&&t("reas de Monitoramento Personalizadas"),d(!1);return}if(g.name.trim()){const U={id:Date.now().toString(),name:g.name,description:g.description,icon:Js,enabled:!0,metrics:g.metrics.filter(M=>M.trim()),color:"from-gray-500 to-gray-600"};i([...a,U]),x({name:"",description:"",metrics:[""]}),d(!1),setTimeout(()=>{const M=document.getElementById(`area-${U.id}`);M&&(M.classList.add("bg-green-50"),setTimeout(()=>{M.classList.remove("bg-green-50")},1e3))},100)}},D=(U,M,Q)=>{if(!n){e&&e("Configuraes Enterprise");return}l(J=>J.map(ee=>ee.id===U?{...ee,settings:ee.settings.map($=>$.id===M?{...$,value:Q}:$)}:ee));const q=document.getElementById(`setting-${U}-${M}`);q&&(q.classList.add("bg-blue-50"),setTimeout(()=>{q.classList.remove("bg-blue-50")},300))},O=U=>{p(U),A(!0)};return s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-base font-bold text-gray-900 mb-1",children:"Configurao de Monitoramento"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Configure quais reas voc deseja monitorar nas anlises"})]}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[s.jsxs("button",{onClick:()=>j(!N),className:"bg-blue-100 text-blue-700 px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:bg-blue-200 transition-all text-xs",children:[s.jsx(d9,{className:"h-3 w-3"}),s.jsx("span",{children:"Ajuda"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(xt,{className:"h-3 w-3"}),s.jsx("span",{children:"Nova rea"})]}),s.jsxs("button",{id:"save-config-button",onClick:_,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(Qt,{className:"h-3 w-3"}),s.jsx("span",{children:"Salvar"})]})]})]}),!r&&s.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-700 flex items-center",children:[s.jsx(Vu,{className:"h-3 w-3 mr-1"}),"Plano Bsico: Limitado a 3 reas de monitoramento. Faa upgrade para monitoramento avanado."]})})]}),s.jsx(it,{children:N&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-blue-50 rounded-xl p-3 shadow-md border border-blue-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-sm font-semibold text-blue-800 flex items-center",children:[s.jsx(ug,{className:"h-4 w-4 mr-1"}),"Como configurar o monitoramento"]}),s.jsx("button",{onClick:()=>j(!1),className:"text-blue-500 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100",children:s.jsx(dt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"reas de Monitoramento"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Ative ou desative reas especficas para monitoramento. Cada rea contm mtricas relevantes que sero exibidas nos dashboards e relatrios."})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Configuraes Enterprise"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Configure opes avanadas como monitoramento em tempo real, segurana, notificaes e integraes. Disponvel apenas para planos Enterprise."})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Dicas de Uso"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1 list-disc pl-4",children:[s.jsx("li",{children:"Clique no cone de olho para ativar/desativar uma rea"}),s.jsx("li",{children:'Use o boto "Nova rea" para criar reas personalizadas'}),s.jsx("li",{children:'Clique em "Salvar" aps fazer alteraes'}),s.jsx("li",{children:"Use o boto de visualizao para ver detalhes de cada rea"})]})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>C("areas"),children:[s.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Vu,{className:"h-4 w-4 mr-1 text-blue-500"}),"reas de Monitoramento"]}),y.includes("areas")?s.jsx(a0,{className:"h-4 w-4 text-gray-500"}):s.jsx(Hu,{className:"h-4 w-4 text-gray-500"})]}),s.jsx(it,{children:y.includes("areas")&&s.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(U=>s.jsxs(oe.div,{id:`area-${U.id}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg p-3 border border-gray-100 transition-all duration-200 ${U.enabled?"ring-1 ring-blue-200":"opacity-75"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${U.color} rounded-lg flex items-center justify-center`,children:s.jsx(U.icon,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[U.requiresPremium&&!r||U.requiresEnterprise&&!n?s.jsx("div",{className:"p-1.5 bg-gray-100 text-gray-400 rounded-lg",children:s.jsx(Yi,{className:"h-3.5 w-3.5"})}):s.jsx("button",{onClick:()=>k(U.id),className:`p-1.5 rounded-lg transition-colors ${U.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,"aria-label":U.enabled?"Desativar rea":"Ativar rea",children:U.enabled?s.jsx(xs,{className:"h-3.5 w-3.5"}):s.jsx(bE,{className:"h-3.5 w-3.5"})}),s.jsx("button",{onClick:()=>O(U),className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors","aria-label":"Visualizar detalhes",children:s.jsx(xs,{className:"h-3.5 w-3.5"})})]})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:U.name}),s.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:U.description}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Mtricas:"}),s.jsxs("div",{className:"space-y-0.5",children:[U.metrics.slice(0,2).map((M,Q)=>s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full mr-1.5"}),M]},Q)),U.metrics.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",U.metrics.length-2," mais"]})]})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:U.enabled?"Ativo":"Inativo"}),(U.requiresPremium||U.requiresEnterprise)&&s.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[s.jsx(Yi,{className:"h-2.5 w-2.5 mr-0.5"}),U.requiresEnterprise?"Enterprise":"Premium"]})]})]},U.id))})})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>C("enterprise"),children:[s.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Gr,{className:"h-4 w-4 mr-1 text-purple-500"}),"Configuraes Enterprise"]}),y.includes("enterprise")?s.jsx(a0,{className:"h-4 w-4 text-gray-500"}):s.jsx(Hu,{className:"h-4 w-4 text-gray-500"})]}),s.jsx(it,{children:y.includes("enterprise")&&s.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 mb-3 overflow-x-auto hide-scrollbar",children:s.jsx("div",{className:"flex",children:o.map(U=>s.jsxs("button",{onClick:()=>f(U.id),className:`flex items-center space-x-1 px-3 py-1.5 border-b-2 whitespace-nowrap text-xs ${h===U.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(U.icon,{className:"h-3 w-3"}),s.jsx("span",{children:U.name})]},U.id))})}),o.map(U=>s.jsxs("div",{className:h===U.id?"block":"hidden",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:U.name}),s.jsx("p",{className:"text-xs text-gray-600",children:U.description})]}),s.jsx("div",{className:"space-y-3",children:U.settings.map(M=>{var Q;return s.jsxs("div",{id:`setting-${U.id}-${M.id}`,className:"bg-gray-50 rounded-lg p-3 transition-colors duration-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:M.name}),s.jsx("p",{className:"text-xs text-gray-600",children:M.description})]}),M.type==="toggle"&&s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:M.value,onChange:()=>D(U.id,M.id,!M.value),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-600"})]})]}),M.type==="select"&&s.jsx("select",{value:M.value,onChange:q=>D(U.id,M.id,q.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs",children:(Q=M.options)==null?void 0:Q.map(q=>s.jsx("option",{value:q,children:q},q))}),M.type==="input"&&s.jsx("input",{type:"text",value:M.value,onChange:q=>D(U.id,M.id,q.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs"}),M.type==="range"&&s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{type:"range",min:M.min,max:M.max,step:M.step,value:M.value,onChange:q=>D(U.id,M.id,parseInt(q.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsxs("span",{children:[M.min,"%"]}),s.jsxs("span",{children:[M.value,"%"]}),s.jsxs("span",{children:[M.max,"%"]})]})]})]},M.id)})})]},U.id))]}):s.jsxs("div",{className:"py-6 text-center",children:[s.jsx(Gr,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recursos Enterprise"}),s.jsx("p",{className:"text-xs text-gray-600 mb-4 max-w-md mx-auto",children:"Acesse configuraes avanadas de monitoramento com o plano Enterprise."}),s.jsx("button",{onClick:()=>e&&e("Configuraes Enterprise"),className:"px-4 py-1.5 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:shadow-lg transition-all text-xs",children:"Ver Plano Enterprise"})]})})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Resumo da Configurao"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.filter(U=>U.enabled).length}),s.jsx("div",{className:"text-xs text-gray-600",children:"reas Ativas"})]}),s.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:a.filter(U=>U.enabled).reduce((U,M)=>U+M.metrics.length,0)}),s.jsx("div",{className:"text-xs text-gray-600",children:"Mtricas Monitoradas"})]}),s.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[Math.round(a.filter(U=>U.enabled).length/a.length*100),"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Cobertura"})]})]}),!n&&s.jsx("div",{className:"mt-3 p-2 bg-purple-50 border border-purple-100 rounded-lg",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Js,{className:"h-4 w-4 text-purple-600 mr-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-purple-800 text-xs",children:"Monitoramento em Tempo Real"}),s.jsx("p",{className:"text-xs text-purple-600",children:"Alertas instantneos e dashboards ao vivo"})]})]}),s.jsxs("button",{onClick:()=>e&&e("Monitoramento em Tempo Real"),className:"px-2 py-1 bg-purple-200 text-purple-700 rounded-lg flex items-center space-x-1 hover:bg-purple-300 transition-colors text-xs",children:[s.jsx(Yi,{className:"h-2.5 w-2.5 mr-0.5"}),s.jsx("span",{children:"Enterprise"}),s.jsx(e2,{className:"h-2.5 w-2.5 ml-0.5"})]})]})})]}),s.jsx(it,{children:c&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Nova rea de Monitoramento"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100","aria-label":"Fechar",children:s.jsx(dt,{className:"h-5 w-5"})})]}),r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nome da rea"}),s.jsx("input",{type:"text",value:g.name,onChange:U=>x({...g,name:U.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Ex: Vendas Online"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:g.description,onChange:U=>x({...g,description:U.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:2,placeholder:"Descreva o que ser monitorado nesta rea"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Mtricas"}),s.jsxs("button",{onClick:B,className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[s.jsx(xt,{className:"h-3 w-3 mr-0.5"}),"Adicionar"]})]}),s.jsx("div",{className:"space-y-1.5",children:g.metrics.map((U,M)=>s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("input",{type:"text",value:U,onChange:Q=>T(M,Q.target.value),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Nome da mtrica"}),g.metrics.length>1&&s.jsx("button",{onClick:()=>w(M),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50","aria-label":"Remover mtrica",children:s.jsx(dt,{className:"h-3 w-3"})})]},M))})]})]}),s.jsxs("div",{className:"flex space-x-2 mt-4",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsx("button",{onClick:E,className:"flex-1 px-3 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:"Criar rea"})]})]}):s.jsxs("div",{className:"text-center py-5",children:[s.jsx(Yi,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recurso Premium"}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"reas de monitoramento personalizadas esto disponveis apenas para assinantes do plano Premium."}),s.jsx("button",{onClick:()=>{t&&t("reas de Monitoramento Personalizadas"),d(!1)},className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all text-sm",children:"Ver Plano Premium"})]})]})]})}),s.jsx(Jbe,{isOpen:u,onClose:()=>A(!1),title:`Preview: ${(m==null?void 0:m.name)||"Configurao"}`,children:m&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${m.color} rounded-xl flex items-center justify-center`,children:s.jsx(m.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:m.name}),s.jsx("p",{className:"text-sm text-gray-600",children:m.description})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Mtricas Monitoradas"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:m.metrics.map((U,M)=>s.jsxs("div",{className:"flex items-center space-x-1.5 p-1.5 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-xs text-gray-700",children:U})]},M))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Visualizao de Dashboard"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 h-32 flex items-center justify-center",children:s.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Aqui ser exibido o dashboard de monitoramento para ",m.name.toLowerCase(),".",s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:"Os dados sero atualizados em tempo real quando esta rea estiver ativa."})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${m.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:m.enabled?"Ativo":"Inativo"}),(m.requiresPremium||m.requiresEnterprise)&&s.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[s.jsx(Yi,{className:"h-2.5 w-2.5 mr-0.5"}),m.requiresEnterprise?"Enterprise":"Premium"]})]})]})]})})]})},$D={pessoal:"#8b5cf6",networking:"#3b82f6",financeiro:"#10b981",cobrar:"#f59e0b",pagar:"#ef4444",operacional:"#06b6d4"},ewe={a_fazer:"scheduled",em_andamento:"in_progress",feito:"completed",cancelado:"cancelled"},twe={scheduled:"a_fazer",in_progress:"em_andamento",confirmed:"em_andamento",completed:"feito",cancelled:"cancelado"},rwe={pessoal:"meeting",networking:"meeting",financeiro:"task",operacional:"task",cobrar:"reminder",pagar:"reminder"},nwe={meeting:"pessoal",task:"operacional",service_order:"operacional",appointment:"pessoal",reminder:"cobrar",other:"pessoal"},swe=t=>{const e=new Date(t.start_date),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),l=`${r}-${n}-${a}`,c=`${i}:${o}`;let d,u;if(t.end_date){const g=new Date(t.end_date),x=g.getFullYear(),m=String(g.getMonth()+1).padStart(2,"0"),p=String(g.getDate()).padStart(2,"0"),y=String(g.getHours()).padStart(2,"0"),b=String(g.getMinutes()).padStart(2,"0");d=`${x}-${m}-${p}`,u=`${y}:${b}`}const A=t.event_type,h=nwe[A]||"pessoal",f=t.status;return{id:t.id,title:t.title||"Sem ttulo",date:l,time:c,endDate:d,endTime:u,type:h,priority:t.priority||"medium",status:twe[f]||"a_fazer",assignedTo:t.employee_id,location:t.location,description:t.description||t.notes,color:$D[h]||$D.pessoal}},d5=t=>{const e=t.status;let r;if(t.date&&t.time){const[l,c,d]=t.date.split("-").map(Number),[u,A]=t.time.split(":").map(Number);r=new Date(l,c-1,d,u,A,0,0).toISOString()}else r=new Date().toISOString();let n;if(t.endDate&&t.endTime){const[l,c,d]=t.endDate.split("-").map(Number),[u,A]=t.endTime.split(":").map(Number);n=new Date(l,c-1,d,u,A,0,0).toISOString()}else{const l=new Date(r);l.setHours(l.getHours()+1),n=l.toISOString()}const a=l=>l?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(l):!1,i=t.type,o=i?rwe[i]:"meeting";return{title:t.title||t.description||"Sem ttulo",description:t.description,start_date:r,end_date:n,all_day:!1,event_type:o,status:e?ewe[e]:"scheduled",priority:t.priority,employee_id:a(t.assignedTo)?t.assignedTo:null,location:t.location,notes:t.description}},awe=({onPremiumFeature:t})=>{const{isPremium:e}=Zr(),[r,n]=P.useState(new Date),[a,i]=P.useState("calendar"),[o,l]=P.useState("monthly"),[c,d]=P.useState(!1),[u,A]=P.useState(null),[h,f]=P.useState(null),[g,x]=P.useState([]),[m,p]=P.useState(!0);P.useEffect(()=>{y()},[]);const y=async()=>{try{p(!0);const ke=(await Ode()).map(swe);x(ke)}catch(z){console.error("Error loading events:",z),x([])}finally{p(!1)}},[b,N]=P.useState({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""});function j(){const z=new Date;return z.setDate(z.getDate()+1),z.toISOString().split("T")[0]}const C=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],k=["D","S","T","Q","Q","S","S"],_=z=>{const ke=z.getFullYear(),Ie=z.getMonth(),Pe=new Date(ke,Ie,1),De=new Date(ke,Ie+1,0).getDate(),Ee=Pe.getDay(),ce=[];for(let ge=Ee-1;ge>=0;ge--){const ue=new Date(ke,Ie,-ge);ce.push({date:ue,isCurrentMonth:!1})}for(let ge=1;ge<=De;ge++){const ue=new Date(ke,Ie,ge);ce.push({date:ue,isCurrentMonth:!0})}const He=42-ce.length;for(let ge=1;ge<=He;ge++){const ue=new Date(ke,Ie+1,ge);ce.push({date:ue,isCurrentMonth:!1})}return ce},B=z=>{const ke=z.toISOString().split("T")[0];return g.filter(Ie=>Ie.date===ke)},T=()=>{const z=new Date().toISOString().split("T")[0];return g.filter(ke=>ke.date===z).sort((ke,Ie)=>ke.time.localeCompare(Ie.time))},w=()=>{const z=j();return g.filter(ke=>ke.date===z).sort((ke,Ie)=>ke.time.localeCompare(Ie.time))},E=()=>{n(new Date(r.getFullYear(),r.getMonth()-1))},D=()=>{n(new Date(r.getFullYear(),r.getMonth()+1))},O=z=>{if(f(z),N(ke=>({...ke,date:z.toISOString().split("T")[0]})),!e&&g.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},L=async()=>{if(b.title&&b.date&&b.time)try{const z=d5(b);await Ide(z),await y(),N({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""}),d(!1)}catch(z){console.error("Error creating event:",z),alert("Erro ao criar evento. Verifique os campos de data e hora.")}else alert("Por favor, preencha ttulo, data e horrio de incio.")},U=async()=>{if(u)try{const z=d5(u);await f_(u.id,z),await y(),A(null)}catch(z){console.error("Error updating event:",z),alert("Erro ao atualizar evento")}},M=async z=>{if(confirm("Tem certeza que deseja excluir este evento?"))try{await Dde(z),await y(),A(null)}catch(ke){console.error("Error deleting event:",ke),alert("Erro ao excluir evento")}},Q=async z=>{try{await f_(z,{status:"feito"}),await y()}catch(ke){console.error("Error completing task:",ke),alert("Erro ao completar tarefa")}},q=z=>{switch(z){case"pessoal":return"bg-purple-600";case"networking":return"bg-blue-500";case"financeiro":return"bg-green-500";case"cobrar":return"bg-yellow-500";case"pagar":return"bg-red-500";default:return"bg-gray-500"}},J=z=>{switch(z){case"pessoal":return"Pessoal";case"networking":return"Networking";case"financeiro":return"Financeiro";case"operacional":return"Operacional";case"cobrar":return"Cobrar";case"pagar":return"Pagar";default:return"Evento"}},ee=z=>{switch(z){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},$=z=>{switch(z){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return"Normal"}},R=z=>{switch(z){case"a_fazer":return"bg-yellow-100 text-yellow-800";case"em_andamento":return"bg-blue-100 text-blue-800";case"feito":return"bg-green-100 text-green-800";case"cancelado":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},K=z=>{switch(z){case"a_fazer":return"A Fazer";case"em_andamento":return"Em Andamento";case"feito":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}},V=()=>{const z=_(r);return s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[k.map(ke=>s.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:ke},ke)),z.map((ke,Ie)=>{const Pe=B(ke.date),Le=ke.date.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>O(ke.date),className:`min-h-[70px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${ke.isCurrentMonth?"bg-white":"bg-gray-100 text-gray-400"} ${Le?"bg-blue-50 border-blue-300":""}`,children:[s.jsx("div",{className:`text-xs font-medium mb-1 ${Le?"text-blue-600":ke.isCurrentMonth?"text-gray-900":"text-gray-400"}`,children:ke.date.getDate()}),s.jsxs("div",{className:"space-y-1",children:[Pe.slice(0,2).map(De=>s.jsxs("div",{onClick:Ee=>{Ee.stopPropagation(),A(De)},className:`text-xs p-1 rounded text-white truncate cursor-pointer hover:opacity-80 transition-opacity ${q(De.type)}`,children:[De.time," ",De.title]},De.id)),Pe.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",Pe.length-2]})]})]},Ie)})]})},ae=()=>{const z=new Date(r);z.setDate(r.getDate()-r.getDay());const ke=[];for(let Ie=0;Ie<7;Ie++){const Pe=new Date(z);Pe.setDate(z.getDate()+Ie),ke.push(Pe)}return s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map((Ie,Pe)=>s.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Ie},Ie))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:ke.map((Ie,Pe)=>{const Le=B(Ie),De=Ie.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>O(Ie),className:`min-h-[100px] p-2 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${De?"bg-blue-50 border-blue-300":"bg-white"}`,children:[s.jsx("div",{className:`text-sm font-medium mb-2 ${De?"text-blue-600":"text-gray-900"}`,children:Ie.getDate()}),s.jsx("div",{className:"space-y-1",children:Le.map(Ee=>s.jsxs("div",{className:`text-xs p-1 rounded text-white truncate ${q(Ee.type)}`,children:[Ee.time," ",Ee.title]},Ee.id))})]},Pe)})})]})},Ae=()=>{const z=B(r),ke=Array.from({length:24},(Ie,Pe)=>Pe);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:r.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),s.jsxs("p",{className:"text-sm text-gray-600",children:[z.length," eventos agendados"]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-1",children:ke.map(Ie=>{const Pe=z.filter(Le=>parseInt(Le.time.split(":")[0])===Ie);return s.jsxs("div",{className:"flex border-b border-gray-100 pb-2",children:[s.jsxs("div",{className:"w-16 text-xs text-gray-500 pt-1",children:[Ie.toString().padStart(2,"0"),":00"]}),s.jsx("div",{className:"flex-1 min-h-[40px]",children:Pe.length>0?s.jsx("div",{className:"space-y-1",children:Pe.map(Le=>s.jsxs("div",{className:`p-2 rounded text-white text-xs ${q(Le.type)}`,onClick:()=>A(Le),children:[s.jsx("div",{className:"font-medium",children:Le.title}),s.jsx("div",{className:"opacity-80",children:Le.time})]},Le.id))}):s.jsx("div",{className:"h-full hover:bg-gray-50 rounded cursor-pointer flex items-center justify-center text-gray-400 text-xs",onClick:()=>{const Le=new Date(r);Le.setHours(Ie,0,0,0),O(Le)},children:"Clique para adicionar evento"})})]},Ie)})})]})},ne=()=>{const z=[...g].sort((ke,Ie)=>{const Pe=ke.date.localeCompare(Ie.date);return Pe!==0?Pe:ke.time.localeCompare(Ie.time)});return s.jsx("div",{className:"divide-y divide-gray-200",children:z.length>0?z.map(ke=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>A(ke),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsx("div",{className:`w-1 h-16 rounded-full ${q(ke.type)}`}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:ke.title}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee(ke.priority)}`,children:$(ke.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${R(ke.status)}`,children:K(ke.status)})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jt,{className:"h-3 w-3 mr-1"}),new Date(ke.date).toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),ke.time]}),ke.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(kt,{className:"h-3 w-3 mr-1"}),ke.assignedTo]}),ke.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ra,{className:"h-3 w-3 mr-1"}),ke.location]})]}),ke.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:ke.description})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs text-white ${q(ke.type)}`,children:J(ke.type)})})]})},ke.id)):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(s_,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum evento cadastrado"})]})})},ie=(z,ke)=>{z.dataTransfer.effectAllowed="move",z.dataTransfer.setData("text/html",JSON.stringify(ke))},le=z=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},X=async(z,ke)=>{z.preventDefault();try{const Ie=JSON.parse(z.dataTransfer.getData("text/html"));if(Ie.status===ke)return;const Pe={...Ie,status:ke},Le=d5(Pe);await f_(Ie.id,Le),await y()}catch(Ie){console.error("Error updating event status:",Ie)}},he=()=>{const z=[{status:"a_fazer",title:"A Fazer",color:"border-yellow-400",bgColor:"bg-yellow-50"},{status:"em_andamento",title:"Em Andamento",color:"border-blue-400",bgColor:"bg-blue-50"},{status:"feito",title:"Concludo",color:"border-green-400",bgColor:"bg-green-50"},{status:"cancelado",title:"Cancelado",color:"border-gray-400",bgColor:"bg-gray-50"}];return s.jsx("div",{className:"grid grid-cols-4 gap-4 p-4",children:z.map(ke=>{const Ie=g.filter(Pe=>Pe.status===ke.status);return s.jsxs("div",{className:`border-t-4 ${ke.color} ${ke.bgColor} rounded-lg min-h-[500px]`,onDragOver:le,onDrop:Pe=>X(Pe,ke.status),children:[s.jsx("div",{className:"p-3 border-b border-gray-200 bg-white",children:s.jsxs("h3",{className:"font-medium text-gray-900 flex items-center justify-between",children:[ke.title,s.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:Ie.length})]})}),s.jsxs("div",{className:"p-2 space-y-2 max-h-[450px] overflow-y-auto",children:[Ie.map(Pe=>s.jsxs("div",{draggable:!0,onDragStart:Le=>ie(Le,Pe),className:"bg-white p-3 rounded-lg shadow-sm hover:shadow-lg transition-all cursor-move border border-gray-200 hover:border-blue-300 active:opacity-50",onDoubleClick:()=>A(Pe),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 flex-1",children:Pe.title}),s.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ml-2 ${ee(Pe.priority)}`,children:s.jsx(hb,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jt,{className:"h-3 w-3 mr-1"}),new Date(Pe.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),s.jsx(Mt,{className:"h-3 w-3 ml-2 mr-1"}),Pe.time]}),Pe.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(kt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"truncate",children:Pe.assignedTo})]})]}),s.jsx("div",{className:`mt-2 w-full h-1 rounded-full ${q(Pe.type)}`}),s.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:"Arraste para mover ou clique 2x para editar"})]},Pe.id)),Ie.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-400 text-xs border-2 border-dashed border-gray-300 rounded-lg",children:s.jsx("p",{children:"Arraste tarefas aqui"})})]})]},ke.status)})})},Me=()=>{const ke=[...g].sort((Ie,Pe)=>Ie.date.localeCompare(Pe.date)).reduce((Ie,Pe)=>{const Le=Pe.date;return Ie[Le]||(Ie[Le]=[]),Ie[Le].push(Pe),Ie},{});return s.jsxs("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[Object.entries(ke).map(([Ie,Pe])=>s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-24 flex-shrink-0",children:s.jsxs("div",{className:"sticky top-0 pt-1",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:new Date(Ie).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(Ie).toLocaleDateString("pt-BR",{weekday:"short"})})]})}),s.jsx("div",{className:"flex-1 border-l-2 border-gray-200 pl-4 pb-4",children:s.jsx("div",{className:"space-y-2",children:Pe.map(Le=>s.jsxs("div",{className:"relative bg-white p-3 rounded-lg border-l-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",style:{borderLeftColor:q(Le.type).replace("bg-","").replace("500","")},onClick:()=>A(Le),children:[s.jsx("div",{className:"absolute -left-[29px] top-4 w-3 h-3 rounded-full bg-white border-2",style:{borderColor:q(Le.type).replace("bg-","").replace("500","")}}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900",children:Le.title}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),Le.time]}),Le.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(kt,{className:"h-3 w-3 mr-1"}),Le.assignedTo]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee(Le.priority)}`,children:$(Le.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${R(Le.status)}`,children:K(Le.status)})]})]})]},Le.id))})})]},Ie)),Object.keys(ke).length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(yT,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum evento na linha do tempo"})]})]})},Qe=()=>{const z=[...g].sort((Ee,ce)=>Ee.date.localeCompare(ce.date)),ke=z.map(Ee=>Ee.date),Ie=ke.length>0?new Date(Math.min(...ke.map(Ee=>new Date(Ee).getTime()))):new Date,Pe=ke.length>0?new Date(Math.max(...ke.map(Ee=>new Date(Ee).getTime()))):new Date,Le=Math.ceil((Pe.getTime()-Ie.getTime())/(1e3*60*60*24))+1,De=Array.from({length:Math.max(Le,7)},(Ee,ce)=>{const He=new Date(Ie);return He.setDate(Ie.getDate()+ce),He});return s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("div",{className:"flex mb-2 min-w-max",children:[s.jsx("div",{className:"w-48 flex-shrink-0"}),s.jsx("div",{className:"flex flex-1",children:De.map((Ee,ce)=>s.jsxs("div",{className:"flex-1 min-w-[60px] text-center border-l border-gray-200 px-1",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:Ee.getDate()}),s.jsx("div",{className:"text-xs text-gray-500",children:Ee.toLocaleDateString("pt-BR",{weekday:"short"})})]},ce))})]}),s.jsx("div",{className:"space-y-2",children:z.map(Ee=>{const ce=new Date(Ee.date),He=Math.floor((ce.getTime()-Ie.getTime())/(1e3*60*60*24));return s.jsxs("div",{className:"flex items-center hover:bg-gray-50 rounded transition-colors",children:[s.jsxs("div",{className:"w-48 flex-shrink-0 pr-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Ee.title}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[s.jsx(Mt,{className:"h-3 w-3"}),s.jsx("span",{children:Ee.time})]})]}),s.jsxs("div",{className:"flex flex-1 relative h-12",children:[De.map((ge,ue)=>s.jsx("div",{className:"flex-1 min-w-[60px] border-l border-gray-200"},ue)),s.jsx("div",{className:`absolute h-8 top-2 rounded cursor-pointer ${q(Ee.type)} hover:opacity-80 transition-opacity`,style:{left:`${He/De.length*100}%`,width:`${1/De.length*100}%`},onClick:()=>A(Ee),children:s.jsx("div",{className:"px-2 py-1 text-white text-xs truncate",children:Ee.title})})]})]},Ee.id)})}),z.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(pT,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma tarefa para visualizar"})]})]})})},ye=()=>{const z=new Date(r);z.setDate(r.getDate()-r.getDay());const ke=[];for(let Ie=0;Ie<2;Ie++){const Pe=new Date(z);Pe.setDate(z.getDate()+Ie*7);const Le=[];for(let De=0;De<7;De++){const Ee=new Date(Pe);Ee.setDate(Pe.getDate()+De),Le.push(Ee)}ke.push(Le)}return s.jsx("div",{className:"space-y-4",children:ke.map((Ie,Pe)=>s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:["Semana ",Pe+1," - ",Ie[0].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})," a ",Ie[6].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:["D","S","T","Q","Q","S","S"].map((Le,De)=>s.jsx("div",{className:"p-1 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Le},`day-${Pe}-${De}`))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ie.map((Le,De)=>{const Ee=B(Le),ce=Le.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>O(Le),className:`min-h-[60px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${ce?"bg-blue-50 border-blue-300":"bg-white"}`,children:[s.jsx("div",{className:`text-xs font-medium mb-1 ${ce?"text-blue-600":"text-gray-900"}`,children:Le.getDate()}),s.jsxs("div",{className:"space-y-1",children:[Ee.slice(0,1).map(He=>s.jsx("div",{className:`text-xs p-0.5 rounded text-white truncate ${q(He.type)}`,children:He.time},He.id)),Ee.length>1&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",Ee.length-1]})]})]},De)})})]},Pe))})};return s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Agenda"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Gerencie seus compromissos"})]}),s.jsx("button",{onClick:()=>{if(!e&&g.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:s.jsx(xt,{className:"h-5 w-5"})})]})}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 gap-1",children:[s.jsxs("button",{onClick:()=>i("calendar"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="calendar"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(Jt,{className:"h-3.5 w-3.5"}),"Calendrio"]}),s.jsxs("button",{onClick:()=>i("list"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="list"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(s_,{className:"h-3.5 w-3.5"}),"Lista"]}),s.jsxs("button",{onClick:()=>i("board"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="board"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(Wae,{className:"h-3.5 w-3.5"}),"Quadro"]}),s.jsxs("button",{onClick:()=>i("timeline"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="timeline"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(yT,{className:"h-3.5 w-3.5"}),"Linha"]}),s.jsxs("button",{onClick:()=>i("gantt"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="gantt"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(pT,{className:"h-3.5 w-3.5"}),"Gantt"]})]})}),a==="calendar"&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["daily","weekly","biweekly","monthly"].map(z=>s.jsx("button",{onClick:()=>l(z),className:`px-3 py-1.5 rounded-md transition-colors text-xs font-medium ${o===z?"bg-blue-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:z==="daily"?"Dia":z==="weekly"?"Sem":z==="biweekly"?"Quinz":"Ms"},z))})}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(aw,{className:"h-4 w-4"})}),s.jsxs("h2",{className:"text-base font-semibold text-gray-900",children:[C[r.getMonth()]," ",r.getFullYear()]}),s.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(e2,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a==="calendar"&&s.jsxs(s.Fragment,{children:[o==="monthly"&&V(),o==="weekly"&&ae(),o==="biweekly"&&ye(),o==="daily"&&Ae()]}),a==="list"&&ne(),a==="board"&&he(),a==="timeline"&&Me(),a==="gantt"&&Qe()]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[s.jsx(Jt,{className:"h-4 w-4 mr-2"}),a==="calendar"&&"Visualizao em Calendrio com mltiplos perodos",a==="list"&&"Visualizao em Lista organizada por data",a==="board"&&"Visualizao em Quadro Kanban por status",a==="timeline"&&"Visualizao em Linha do Tempo cronolgica",a==="gantt"&&"Visualizao em Grfico de Gantt"]})}),a==="calendar"&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(s_,{className:"h-4 w-4 mr-2 text-blue-500"}),"Compromissos do Ms"]}),s.jsxs("div",{className:"space-y-2",children:[g.filter(z=>{const ke=new Date(z.date);return ke.getMonth()===r.getMonth()&&ke.getFullYear()===r.getFullYear()}).sort((z,ke)=>new Date(z.date).getTime()-new Date(ke.date).getTime()).map(z=>s.jsx("div",{onClick:()=>A(z),className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md hover:border-blue-300 transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${q(z.type)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:z.title}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),new Date(z.date).toLocaleDateString("pt-BR")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Mt,{className:"h-3 w-3"}),z.time]}),z.assignedTo&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kt,{className:"h-3 w-3"}),z.assignedTo]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${R(z.status)}`,children:K(z.status)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee(z.priority)}`,children:$(z.priority)})]})]})},z.id)),g.filter(z=>{const ke=new Date(z.date);return ke.getMonth()===r.getMonth()&&ke.getFullYear()===r.getFullYear()}).length===0&&s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Jt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum compromisso neste ms"})]})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Mt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Tarefas Pendentes"]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(Jt,{className:"h-4 w-4 mr-1 text-blue-500"}),"Hoje (",T().length,")"]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),T().length>0?s.jsx("div",{className:"space-y-2",children:T().map(z=>s.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${q(z.type)}`}),s.jsx("h4",{className:"font-medium text-gray-900",children:z.title})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee(z.priority)}`,children:$(z.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${R(z.status)}`,children:K(z.status)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1 text-gray-400"}),z.time]}),z.assignedTo&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(kt,{className:"h-3 w-3 mr-1 text-gray-400"}),z.assignedTo]}),z.location&&s.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[s.jsx(Ra,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:z.location})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[z.status!=="feito"&&s.jsxs("button",{onClick:()=>Q(z.id),className:"px-2 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors text-xs flex items-center",children:[s.jsx(On,{className:"h-3 w-3 mr-1"}),"Concluir"]}),s.jsxs("button",{onClick:()=>A(z),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[s.jsx(Rr,{className:"h-3 w-3 mr-1"}),"Editar"]})]})]},z.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(On,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para hoje"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(Jt,{className:"h-4 w-4 mr-1 text-purple-500"}),"Amanh (",w().length,")"]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(j()).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),w().length>0?s.jsx("div",{className:"space-y-2",children:w().map(z=>s.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${q(z.type)}`}),s.jsx("h4",{className:"font-medium text-gray-900",children:z.title})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee(z.priority)}`,children:$(z.priority)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1 text-gray-400"}),z.time]}),z.assignedTo&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(kt,{className:"h-3 w-3 mr-1 text-gray-400"}),z.assignedTo]}),z.location&&s.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[s.jsx(Ra,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:z.location})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>A(z),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[s.jsx(Rr,{className:"h-3 w-3 mr-1"}),"Editar"]}),s.jsxs("button",{onClick:()=>M(z.id),className:"px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-xs flex items-center",children:[s.jsx(Ct,{className:"h-3 w-3 mr-1"}),"Excluir"]})]})]},z.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(On,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para amanh"})]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm flex items-center mx-auto",children:[s.jsx("span",{children:"Ver todas as tarefas"}),s.jsx(ji,{className:"h-4 w-4 ml-1"})]})})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Novo Compromisso"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Adicionar evento  agenda"})]}),s.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ttulo do Compromisso ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:b.title,onChange:z=>N({...b,title:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Reunio com cliente"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Data Incio ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b.date,onChange:z=>N({...b,date:z.target.value,endDate:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hora Incio ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"time",value:b.time,onChange:z=>N({...b,time:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Trmino"}),s.jsx("input",{type:"date",value:b.endDate,onChange:z=>N({...b,endDate:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora Trmino"}),s.jsx("input",{type:"time",value:b.endTime,onChange:z=>N({...b,endTime:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Compromisso"}),s.jsxs("select",{value:b.type,onChange:z=>N({...b,type:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"pessoal",children:"Pessoal"}),s.jsx("option",{value:"networking",children:"Networking"}),s.jsx("option",{value:"financeiro",children:"Financeiro"}),s.jsx("option",{value:"operacional",children:"Operacional"}),s.jsx("option",{value:"cobrar",children:"Cobrar"}),s.jsx("option",{value:"pagar",children:"Pagar"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),s.jsxs("select",{value:b.priority,onChange:z=>N({...b,priority:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"low",children:"Baixa"}),s.jsx("option",{value:"medium",children:"Mdia"}),s.jsx("option",{value:"high",children:"Alta"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),s.jsx("input",{type:"text",value:b.assignedTo,onChange:z=>N({...b,assignedTo:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsvel"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),s.jsx("input",{type:"text",value:b.location,onChange:z=>N({...b,location:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:b.description,onChange:z=>N({...b,description:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Detalhes do compromisso..."})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:L,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"Salvar Compromisso"]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Editar Compromisso"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Atualizar informaes do evento"})]}),s.jsx("button",{onClick:()=>A(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),s.jsx("input",{type:"text",value:u.title,onChange:z=>A({...u,title:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do evento"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio"}),s.jsx("input",{type:"date",value:u.date,onChange:z=>A({...u,date:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio de Incio"}),s.jsx("input",{type:"time",value:u.time,onChange:z=>A({...u,time:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),s.jsx("input",{type:"date",value:u.endDate||u.date,onChange:z=>A({...u,endDate:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio de Trmino"}),s.jsx("input",{type:"time",value:u.endTime||u.time,onChange:z=>A({...u,endTime:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:u.type,onChange:z=>A({...u,type:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"pessoal",children:"Pessoal"}),s.jsx("option",{value:"networking",children:"Networking"}),s.jsx("option",{value:"financeiro",children:"Financeiro"}),s.jsx("option",{value:"operacional",children:"Operacional"}),s.jsx("option",{value:"cobrar",children:"Cobrar"}),s.jsx("option",{value:"pagar",children:"Pagar"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),s.jsxs("select",{value:u.priority,onChange:z=>A({...u,priority:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"low",children:"Baixa"}),s.jsx("option",{value:"medium",children:"Mdia"}),s.jsx("option",{value:"high",children:"Alta"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:u.status,onChange:z=>A({...u,status:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"a_fazer",children:"A Fazer"}),s.jsx("option",{value:"em_andamento",children:"Em Andamento"}),s.jsx("option",{value:"feito",children:"Concludo"}),s.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),s.jsx("input",{type:"text",value:u.assignedTo||"",onChange:z=>A({...u,assignedTo:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsvel"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),s.jsx("input",{type:"text",value:u.location||"",onChange:z=>A({...u,location:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:u.description||"",onChange:z=>A({...u,description:z.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Detalhes do evento"})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsxs("button",{onClick:()=>M(u.id),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Ct,{className:"h-5 w-5"}),"Excluir"]}),s.jsx("button",{onClick:()=>A(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:U,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"Atualizar"]})]})]})})]})},iwe=({onPremiumFeature:t,onEnterpriseFeature:e})=>{const{isPremium:r,isEnterprise:n}=Zr(),[a,i]=P.useState(!1),[o,l]=P.useState(!1),[c,d]=P.useState(null),[u,A]=P.useState(null),[h,f]=P.useState([{id:1,name:"App Mobile GiarTech",status:"Em Progresso",team:4,deadline:"2024-01-15",progress:75,color:"from-blue-500 to-cyan-500",description:"Desenvolvimento do aplicativo mobile principal da empresa",tasks:[{id:1,title:"Design de interface",completed:!0,dueDate:"2023-12-10"},{id:2,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-20"},{id:3,title:"Integrao com API",completed:!1,dueDate:"2024-01-05"},{id:4,title:"Testes e QA",completed:!1,dueDate:"2024-01-10"},{id:5,title:"Lanamento",completed:!1,dueDate:"2024-01-15"}]},{id:2,name:"Website Corporativo",status:"Concludo",team:3,deadline:"2024-01-10",progress:100,color:"from-green-500 to-emerald-500",description:"Novo site institucional com design moderno",tasks:[{id:1,title:"Wireframes e prottipos",completed:!0,dueDate:"2023-11-15"},{id:2,title:"Design de pginas",completed:!0,dueDate:"2023-11-30"},{id:3,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-15"},{id:4,title:"Desenvolvimento backend",completed:!0,dueDate:"2023-12-30"},{id:5,title:"Testes e lanamento",completed:!0,dueDate:"2024-01-10"}]},{id:3,name:"Sistema de CRM",status:"Planejamento",team:5,deadline:"2024-01-30",progress:25,color:"from-purple-500 to-pink-500",description:"Sistema de gesto de relacionamento com clientes",tasks:[{id:1,title:"Levantamento de requisitos",completed:!0,dueDate:"2023-12-15"},{id:2,title:"Modelagem de dados",completed:!0,dueDate:"2023-12-30"},{id:3,title:"Prototipagem de interface",completed:!1,dueDate:"2024-01-10"},{id:4,title:"Desenvolvimento",completed:!1,dueDate:"2024-01-25"},{id:5,title:"Testes e implantao",completed:!1,dueDate:"2024-01-30"}]}]),[g,x]=P.useState({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),[m,p]=P.useState({title:"",dueDate:""}),y=["from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-purple-500 to-pink-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500","from-yellow-500 to-orange-500"],b=()=>{if(!r&&h.length>=3){t("Projetos Ilimitados");return}if(g.name.trim()){const _={id:Date.now(),name:g.name,status:g.status,team:g.team,deadline:g.deadline,progress:0,color:y[Math.floor(Math.random()*y.length)],description:g.description,tasks:[]};f([...h,_]),x({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),i(!1)}},N=()=>{if(!r&&u&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}if(u&&m.title&&m.dueDate){const _={id:Date.now(),title:m.title,completed:!1,dueDate:m.dueDate},B={...u,tasks:[...u.tasks||[],_]};f(h.map(T=>T.id===u.id?B:T)),A(B),p({title:"",dueDate:""}),l(!1)}},j=(_,B)=>{const T=h.find(w=>w.id===_);if(T&&T.tasks){const w=T.tasks.map(U=>U.id===B?{...U,completed:!U.completed}:U),E=w.filter(U=>U.completed).length,D=w.length,O=D>0?Math.round(E/D*100):0,L={...T,tasks:w,progress:O};f(h.map(U=>U.id===_?L:U)),u&&u.id===_&&A(L)}},C=_=>{window.confirm("Tem certeza que deseja excluir este projeto?")&&(f(h.filter(B=>B.id!==_)),u&&u.id===_&&A(null))},k=()=>{n||e&&e("Anlise Avanada de Projetos")};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Meus Projetos (",h.length,")"]}),s.jsx("p",{className:"text-gray-600",children:"Gerencie todos os seus projetos em um s lugar"})]}),s.jsx("button",{onClick:()=>{if(!r&&h.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:s.jsx(xt,{className:"h-6 w-6"})})]}),!r&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[s.jsx(zy,{className:"h-4 w-4 mr-2"}),"Plano Bsico: Limitado a 3 projetos e 5 tarefas por projeto. Faa upgrade para projetos ilimitados."]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 col-span-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Status dos Projetos"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:h.length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Concludos"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:h.filter(_=>_.progress===100).length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Em Progresso"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:h.filter(_=>_.progress>0&&_.progress<100).length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Planejados"}),s.jsx("p",{className:"text-lg font-bold text-purple-600",children:h.filter(_=>_.progress===0).length})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Progresso Mdio"}),s.jsxs("div",{className:"flex flex-col justify-between h-full",children:[s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[Math.round(h.reduce((_,B)=>_+B.progress,0)/(h.length||1)),"%"]})}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.round(h.reduce((_,B)=>_+B.progress,0)/(h.length||1))}%`}})})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Prximos Prazos"}),s.jsx("div",{className:"flex flex-col justify-between h-full",children:s.jsxs("div",{className:"space-y-2",children:[h.filter(_=>_.progress<100).sort((_,B)=>new Date(_.deadline).getTime()-new Date(B.deadline).getTime()).slice(0,2).map(_=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs truncate max-w-[120px]",children:_.name}),s.jsx("span",{className:"text-xs font-medium",children:new Date(_.deadline).toLocaleDateString("pt-BR")})]},_.id)),!n&&s.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500 cursor-pointer hover:text-blue-600",onClick:k,children:[s.jsx("span",{children:"Anlise avanada"}),s.jsx(Yi,{className:"h-3 w-3"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-2 space-y-4",children:s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Todos os Projetos"}),s.jsx("div",{className:"space-y-4",children:h.map((_,B)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>A(_),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${_.color} rounded-lg flex items-center justify-center`,children:s.jsx(zy,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:_.name}),s.jsx("p",{className:"text-xs text-gray-500",children:_.status})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-xs text-gray-500",children:new Date(_.deadline).toLocaleDateString("pt-BR")})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[_.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${_.progress===100?"bg-green-500":_.progress>50?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${_.progress}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(kt,{className:"h-3 w-3"}),s.jsxs("span",{children:[_.team," membros"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(_T,{className:"h-3 w-3"}),s.jsxs("span",{children:[_.tasks?_.tasks.filter(T=>T.completed).length:0,"/",_.tasks?_.tasks.length:0," tarefas"]})]})]})]},_.id))})]})}),s.jsx("div",{className:"md:col-span-1",children:u?s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${u.color} rounded-lg flex items-center justify-center`,children:s.jsx(zy,{className:"h-5 w-5 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900",children:u.name})]}),s.jsx("button",{onClick:()=>C(u.id),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Descrio"}),s.jsx("p",{className:"text-sm text-gray-700",children:u.description||"Sem descrio"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Prazo"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(u.deadline).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Equipe"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.team," membros"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Progresso"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.progress,"%"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Tarefas"}),s.jsxs("button",{onClick:()=>{if(!r&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}l(!0)},className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[s.jsx(xt,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.tasks&&u.tasks.length>0?u.tasks.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>j(u.id,_.id),className:`w-4 h-4 rounded border flex items-center justify-center ${_.completed?"bg-green-500 border-green-500 text-white":"border-gray-300"}`,children:_.completed&&s.jsx(_T,{className:"h-3 w-3"})}),s.jsx("span",{className:`text-sm ${_.completed?"line-through text-gray-500":"text-gray-700"}`,children:_.title})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-xs text-gray-500",children:new Date(_.dueDate).toLocaleDateString("pt-BR")})})]},_.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhuma tarefa adicionada"})})]}),!n&&s.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-100 rounded-lg cursor-pointer",onClick:k,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Js,{className:"h-4 w-4 text-purple-600 mr-2"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Anlise avanada de projetos"})]}),s.jsx(Yi,{className:"h-4 w-4 text-purple-600"})]}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Disponvel no plano Enterprise"})]})]})]}):s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(zy,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione um projeto para ver os detalhes"}),s.jsxs("button",{onClick:()=>{if(!r&&h.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"mt-4 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[s.jsx(xt,{className:"h-4 w-4 mr-2 inline"}),"Novo Projeto"]})]})})})]}),s.jsx(it,{children:a&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Projeto"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Projeto"}),s.jsx("input",{type:"text",value:g.name,onChange:_=>x({...g,name:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o nome do projeto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio"}),s.jsx("textarea",{value:g.description,onChange:_=>x({...g,description:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o projeto"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),s.jsx("input",{type:"date",value:g.deadline,onChange:_=>x({...g,deadline:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipe"}),s.jsx("input",{type:"number",min:"1",value:g.team,onChange:_=>x({...g,team:parseInt(_.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:g.status,onChange:_=>x({...g,status:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Planejamento",children:"Planejamento"}),s.jsx("option",{value:"Em Progresso",children:"Em Progresso"}),s.jsx("option",{value:"Em Reviso",children:"Em Reviso"}),s.jsx("option",{value:"Concludo",children:"Concludo"})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Criar"]})]})]})]})}),s.jsx(it,{children:o&&u&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nova Tarefa"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projeto"}),s.jsx("input",{type:"text",value:u.name,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo da Tarefa"}),s.jsx("input",{type:"text",value:m.title,onChange:_=>p({...m,title:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o ttulo da tarefa"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:m.dueDate,onChange:_=>p({...m,dueDate:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:N,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]})]})})]})},owe=()=>{const{user:t,isPremium:e}=Zr();return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:(t==null?void 0:t.avatar)||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-2 rounded-full",children:s.jsx(px,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${e?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gray-100 text-gray-600"}`,children:e?" Premium":"Bsico"})]}),s.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:s.jsx(xa,{className:"h-5 w-5"})})]})}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informaes Pessoais"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(vn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Nome Completo"}),s.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.name})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(yn,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(qn,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),s.jsx("p",{className:"font-medium text-gray-900",children:"(11) 99999-9999"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Ra,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Localizao"}),s.jsx("p",{className:"font-medium text-gray-900",children:"So Paulo, SP"})]})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estatsticas da Conta"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Projetos",value:"12",color:"from-blue-500 to-cyan-500"},{label:"Tarefas",value:"48",color:"from-green-500 to-emerald-500"},{label:"Horas",value:"156",color:"from-purple-500 to-pink-500"},{label:"Equipe",value:"8",color:"from-orange-500 to-red-500"}].map((r,n)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${r.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:s.jsx("span",{className:"text-2xl font-bold text-white",children:r.value})}),s.jsx("p",{className:"text-sm text-gray-600",children:r.label})]},r.label))})]})]})};cA.register(Cf,Bf,Ou,Zi,lf,xu,k2,P2,E2,S2);const HD=()=>{const[t,e]=P.useState(null),[r,n]=P.useState(null),[a,i]=P.useState(!0),[o,l]=P.useState("month");P.useEffect(()=>{c()},[o]);const c=async()=>{try{i(!0);const[g,x]=await Promise.all([d(),u()]);e(g),n(x)}catch(g){console.error("Erro ao carregar dados:",g)}finally{i(!1)}},d=async()=>{var D,O,L,U,M,Q,q,J,ee,$,R,K;const g=new Date,x=new Date(g.getFullYear(),g.getMonth(),1),m=new Date(g.getFullYear(),g.getMonth()-1,1),p=new Date(g.getFullYear(),g.getMonth(),0),[y,b,N,j,C]=await Promise.all([pe.from("financial_transactions").select("amount").eq("transaction_type","income").eq("status","paid").gte("transaction_date",x.toISOString()),pe.from("financial_transactions").select("amount").eq("transaction_type","income").eq("status","paid").gte("transaction_date",m.toISOString()).lt("transaction_date",p.toISOString()),pe.from("v_business_kpis").select("*").maybeSingle(),pe.from("customers").select("id, created_at"),pe.from("materials").select("unit_cost, unit_price, quantity")]),k=((D=y.data)==null?void 0:D.reduce((V,ae)=>V+ae.amount,0))||0,_=((O=b.data)==null?void 0:O.reduce((V,ae)=>V+ae.amount,0))||0,B=_>0?(k-_)/_*100:0,T=((L=j.data)==null?void 0:L.filter(V=>new Date(V.created_at)>=x).length)||0,w=((U=C.data)==null?void 0:U.reduce((V,ae)=>V+ae.unit_cost*ae.quantity,0))||0,E=((M=C.data)==null?void 0:M.reduce((V,ae)=>V+(ae.unit_price-ae.unit_cost)*ae.quantity,0))||0;return{revenue:{current:k,previous:_,growth:B},profit:{amount:((Q=N.data)==null?void 0:Q.net_profit)||0,margin:((q=N.data)==null?void 0:q.profit_margin)||0,trend:B},orders:{total:((J=N.data)==null?void 0:J.total_completed_orders)||0,completed:((ee=N.data)==null?void 0:ee.total_completed_orders)||0,conversionRate:(($=N.data)==null?void 0:$.conversion_rate)||0},customers:{total:((R=N.data)==null?void 0:R.total_customers)||0,active:((K=N.data)==null?void 0:K.active_customers)||0,new:T},inventory:{value:w,profit:E,turnover:0}}},u=async()=>{var B,T,w,E,D,O;const g=new Date;g.setMonth(g.getMonth()-6);const[x,m,p,y]=await Promise.all([pe.from("financial_transactions").select("transaction_date, amount, transaction_type").eq("status","paid").gte("transaction_date",g.toISOString()),pe.from("v_service_performance").select("*").order("total_revenue",{ascending:!1}).limit(5),pe.from("v_customer_profitability").select("*").order("total_revenue",{ascending:!1}).limit(5),pe.from("service_orders").select("status")]),b=new Map;(B=x.data)==null||B.forEach(L=>{const U=new Date(L.transaction_date).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"});b.has(U)||b.set(U,{income:0,expense:0});const M=b.get(U);L.transaction_type==="income"?M.income+=L.amount:M.expense+=L.amount});const N=Array.from(b.keys()).slice(-6),j=N.map(L=>{var U;return((U=b.get(L))==null?void 0:U.income)||0}),C=N.map(L=>{var U;return((U=b.get(L))==null?void 0:U.expense)||0}),k=N.map((L,U)=>j[U]-C[U]),_=new Map;return(T=y.data)==null||T.forEach(L=>{_.set(L.status,(_.get(L.status)||0)+1)}),{revenueByMonth:{labels:N,data:j},profitByMonth:{labels:N,data:k},topServices:{labels:((w=m.data)==null?void 0:w.map(L=>L.service_name))||[],data:((E=m.data)==null?void 0:E.map(L=>L.total_revenue))||[]},topCustomers:{labels:((D=p.data)==null?void 0:D.map(L=>L.customer_name))||[],data:((O=p.data)==null?void 0:O.map(L=>L.total_revenue))||[]},orderStatus:{labels:Array.from(_.keys()),data:Array.from(_.values())}}},A=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),h=g=>g==null||isNaN(g)?"0.0%":`${g>=0?"+":""}${g.toFixed(1)}%`;if(a)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(ea,{className:"h-12 w-12 animate-spin text-blue-600"})});const f=[{title:"Receita do Ms",value:A((t==null?void 0:t.revenue.current)||0),change:h((t==null?void 0:t.revenue.growth)||0),trend:((t==null?void 0:t.revenue.growth)||0)>=0?"up":"down",icon:Xt,color:"from-green-500 to-emerald-600",previous:A((t==null?void 0:t.revenue.previous)||0)},{title:"Lucro Lquido",value:A((t==null?void 0:t.profit.amount)||0),change:`${(((t==null?void 0:t.profit.margin)??0)||0).toFixed(1)}% margem`,trend:((t==null?void 0:t.profit.amount)||0)>=0?"up":"down",icon:jr,color:"from-blue-500 to-cyan-600",previous:`Margem ${(((t==null?void 0:t.profit.margin)??0)||0).toFixed(1)}%`},{title:"Taxa de Converso",value:`${(((t==null?void 0:t.orders.conversionRate)??0)||0).toFixed(1)}%`,change:`${(t==null?void 0:t.orders.completed)||0} OSs concludas`,trend:((t==null?void 0:t.orders.conversionRate)||0)>=80?"up":"down",icon:r2,color:"from-purple-500 to-pink-600",previous:`${(t==null?void 0:t.orders.total)||0} OSs totais`},{title:"Clientes Ativos",value:(t==null?void 0:t.customers.active.toString())||"0",change:`+${(t==null?void 0:t.customers.new)||0} novos`,trend:"up",icon:kt,color:"from-orange-500 to-red-600",previous:`${(t==null?void 0:t.customers.total)||0} total`}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:s.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard Executivo"}),s.jsx("p",{className:"text-gray-600",children:"Viso estratgica para tomada de decises"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"month",children:"ltimo Ms"}),s.jsx("option",{value:"quarter",children:"ltimo Trimestre"}),s.jsx("option",{value:"year",children:"ltimo Ano"})]}),s.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[s.jsx(ea,{className:"h-4 w-4"}),"Atualizar"]}),s.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 shadow-sm",children:[s.jsx(ps,{className:"h-4 w-4"}),"Exportar"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((g,x)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${g.color} rounded-xl flex items-center justify-center shadow-lg`,children:s.jsx(g.icon,{className:"h-7 w-7 text-white"})}),s.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-sm font-semibold ${g.trend==="up"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[g.trend==="up"?s.jsx(Z1,{className:"h-4 w-4"}):s.jsx(vE,{className:"h-4 w-4"}),g.change]})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:g.title}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:g.value}),s.jsx("p",{className:"text-xs text-gray-500",children:g.previous})]},g.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Evoluo da Receita"}),s.jsx("p",{className:"text-sm text-gray-600",children:"ltimos 6 meses"})]}),s.jsx(Js,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"h-80",children:r&&s.jsx(j0,{data:{labels:r.revenueByMonth.labels,datasets:[{label:"Receita",data:r.revenueByMonth.data,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,borderWidth:3,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:13},callbacks:{label:g=>A(g.parsed.y)}}},scales:{y:{beginAtZero:!0,ticks:{callback:g=>A(Number(g))},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Lucro Mensal"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receita - Despesas"})]}),s.jsx(jr,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"h-80",children:r&&s.jsx(cf,{data:{labels:r.profitByMonth.labels,datasets:[{label:"Lucro",data:r.profitByMonth.data,backgroundColor:r.profitByMonth.data.map(g=>g>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)"),borderRadius:8,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,callbacks:{label:g=>A(g.parsed.y)}}},scales:{y:{beginAtZero:!0,ticks:{callback:g=>A(Number(g))},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Top 5 Servios"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Por receita"})]}),s.jsx(mt,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.topServices.labels.map((g,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:x+1}),s.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:g})]}),s.jsx("span",{className:"text-sm font-bold text-blue-600",children:A(r.topServices.data[x])})]},g))})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Top 5 Clientes"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Maior receita"})]}),s.jsx(kt,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.topCustomers.labels.map((g,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:x+1}),s.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:g})]}),s.jsx("span",{className:"text-sm font-bold text-purple-600",children:A(r.topCustomers.data[x])})]},g))})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Status das OSs"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Distribuio atual"})]}),s.jsx(Gh,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"h-64",children:r&&r.orderStatus.data.length>0&&s.jsx(jz,{data:{labels:r.orderStatus.labels,datasets:[{data:r.orderStatus.data,backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)","rgba(251, 146, 60, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12}}}})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-gradient-to-br from-blue-600 to-cyan-700 rounded-2xl p-6 shadow-lg text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Anlise de Estoque"}),s.jsx("p",{className:"text-blue-100",children:"Potencial de lucro imobilizado"})]}),s.jsx(jt,{className:"h-8 w-8 text-blue-200"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Valor em Estoque"}),s.jsx("p",{className:"text-3xl font-bold",children:A((t==null?void 0:t.inventory.value)||0)})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Lucro Potencial"}),s.jsx("p",{className:"text-3xl font-bold",children:A((t==null?void 0:t.inventory.profit)||0)})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-white/10 backdrop-blur-sm rounded-xl",children:[s.jsx("p",{className:"text-sm text-blue-100 mb-2",children:"Margem Potencial"}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("p",{className:"text-4xl font-bold",children:[((((t==null?void 0:t.inventory.profit)??0)||0)/(((t==null?void 0:t.inventory.value)??1)||1)*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-blue-100 pb-2",children:"de rentabilidade"})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Insights Estratgicos"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pontos de ateno"})]}),s.jsx(Kn,{className:"h-6 w-6 text-gray-400"})]}),s.jsxs("div",{className:"space-y-4",children:[((t==null?void 0:t.revenue.growth)||0)>=10&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-xl",children:[s.jsx(Do,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-green-900",children:"Crescimento Acelerado"}),s.jsxs("p",{className:"text-sm text-green-700",children:["Receita cresceu ",h(t.revenue.growth)," este ms"]})]})]}),((t==null?void 0:t.orders.conversionRate)||0)>=80&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-xl",children:[s.jsx(Do,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-blue-900",children:"Alta Converso"}),s.jsxs("p",{className:"text-sm text-blue-700",children:["Taxa de ",((t.orders.conversionRate??0)||0).toFixed(1),"% supera meta de 80%"]})]})]}),((t==null?void 0:t.profit.margin)||0)>=30&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-purple-50 rounded-xl",children:[s.jsx(Do,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-purple-900",children:"Margem Saudvel"}),s.jsxs("p",{className:"text-sm text-purple-700",children:["Margem de lucro de ",((t.profit.margin??0)||0).toFixed(1),"% acima da meta"]})]})]}),((t==null?void 0:t.customers.new)||0)>0&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 rounded-xl",children:[s.jsx(jr,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-orange-900",children:"Expanso da Base"}),s.jsxs("p",{className:"text-sm text-orange-700",children:[t.customers.new," novos clientes este ms"]})]})]})]})]})]})]})})},lwe=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState(""),[o,l]=P.useState(null);P.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:g,error:x}=await pe.from("service_orders").select(`
          *,
          customer:customers(nome_razao, telefone)
        `).order("opened_at",{ascending:!1});if(x)throw x;e(g||[])}catch(g){console.error("Error loading service orders:",g),e([])}finally{n(!1)}},d=[{id:"aberta",title:"Abertas",icon:Kn,color:"bg-yellow-500",borderColor:"border-yellow-400",bgColor:"bg-yellow-50"},{id:"em_andamento",title:"Em Andamento",icon:c9,color:"bg-blue-500",borderColor:"border-blue-400",bgColor:"bg-blue-50"},{id:"concluida",title:"Concludas",icon:On,color:"bg-green-500",borderColor:"border-green-400",bgColor:"bg-green-50"},{id:"cancelada",title:"Canceladas",icon:ed,color:"bg-gray-500",borderColor:"border-gray-400",bgColor:"bg-gray-50"}],u=g=>t.filter(x=>{var N,j,C;const m=x.status||"aberta",p=m===g,y=!a||((N=x.description)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||((C=(j=x.customer)==null?void 0:j.nome_razao)==null?void 0:C.toLowerCase().includes(a.toLowerCase()));return p&&y&&(!o||m===o)}),A=g=>g?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g):"R$ 0,00",h=g=>g?new Date(g).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"No agendado",f=g=>{const x=new Date(g);return Math.floor((new Date().getTime()-x.getTime())/(1e3*60*60*24))};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando ordens de servio..."})]})}):s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Zs,{className:"h-6 w-6 text-blue-500"}),"Ordens de Servio"]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.length," ordens de servio cadastradas"]})]}),s.jsxs("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Nova OS"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrio...",value:a,onChange:g=>i(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(aA,{className:"h-4 w-4"}),"Filtros"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(g=>{const x=u(g.id),m=g.icon;return s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:`${g.bgColor} border-t-4 ${g.borderColor} rounded-t-xl p-3`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(m,{className:`h-5 w-5 ${g.color.replace("bg-","text-")}`}),s.jsx("h3",{className:"font-semibold text-gray-900",children:g.title})]}),s.jsx("span",{className:"bg-white text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:x.length})]})}),s.jsx("div",{className:"flex-1 bg-gray-50 rounded-b-xl p-2 space-y-2 min-h-[400px]",children:x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Nenhuma ordem"}):x.map(p=>{var y,b;return s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:((y=p.customer)==null?void 0:y.nome_razao)||"Cliente no informado"}),p.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:p.description})]})}),s.jsxs("div",{className:"space-y-1.5",children:[p.scheduled_at&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsx("span",{children:h(p.scheduled_at)})]}),((b=p.customer)==null?void 0:b.telefone)&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(vn,{className:"h-3 w-3"}),s.jsx("span",{children:p.customer.telefone})]}),p.total_value!==void 0&&p.total_value>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(Xt,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:A(p.total_value)})]})]}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(Mt,{className:"h-3 w-3"}),s.jsxs("span",{children:[f(p.opened_at)," dias aberta"]})]}),s.jsx("div",{className:`w-2 h-2 rounded-full ${g.color}`})]})]},p.id)})})]},g.id)})}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map(g=>{const x=u(g.id),m=x.reduce((p,y)=>p+(y.total_value||0),0);return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${g.color.replace("bg-","text-")}`,children:x.length}),s.jsx("div",{className:"text-sm text-gray-600",children:g.title}),m>0&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:A(m)})]},g.id)})})})]})},cwe=()=>{const t=na(),[e,r]=P.useState(!0),n=()=>{t("/login")};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 relative overflow-hidden",children:[e&&s.jsx(oe.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},onClick:n,className:"absolute top-6 right-6 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors z-20",children:s.jsx(dt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-indigo-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[s.jsx(oe.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring",stiffness:100},className:"mb-12",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx(oe.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-32 h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-3xl flex items-center justify-center shadow-2xl",children:s.jsx("span",{className:"text-4xl font-bold text-white",children:"GT"})}),s.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,duration:.5},className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-orange-400 rounded-full flex items-center justify-center",children:s.jsx(NT,{className:"h-4 w-4 text-white"})})]})}),s.jsx(oe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"text-5xl md:text-6xl font-bold mb-6",children:s.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"GiarTech"})}),s.jsxs(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-xl md:text-2xl text-gray-600 mb-12 leading-relaxed",children:["Plataforma empresarial completa para",s.jsx("br",{}),s.jsx("span",{className:"font-semibold text-gray-800",children:"gesto inteligente de projetos"})]}),s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[{icon:Ll,label:"Rpido",color:"from-yellow-400 to-orange-500"},{icon:Gr,label:"Seguro",color:"from-green-400 to-emerald-500"},{icon:kt,label:"Colaborativo",color:"from-blue-400 to-cyan-500"},{icon:NT,label:"Inteligente",color:"from-purple-400 to-pink-500"}].map((a,i)=>s.jsxs(oe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+i*.1,duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/50",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${a.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:s.jsx(a.icon,{className:"h-6 w-6 text-white"})}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.label})]},a.label))}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},className:"flex flex-col items-center space-y-4",children:[s.jsxs(so,{to:"/login",className:"group inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[s.jsx("span",{className:"mr-3",children:"GIARTECH Gesto Integrada"}),s.jsx(oe.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:s.jsx(ji,{className:"h-5 w-5"})})]}),s.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Acessar Plataforma"})]}),s.jsx(oe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.8},className:"text-sm text-gray-500 mt-8",children:"Verso 2.0  Premium Edition"})]})]})},qD=()=>{const{user:t,isPremium:e}=Zr(),r=[{title:"Nova Ordem de Servio",description:"Criar uma nova OS rapidamente",icon:Zs,color:"from-blue-500 to-cyan-500",path:"/service-orders/create"},{title:"Gesto de Clientes",description:"Adicionar ou editar clientes",icon:kt,color:"from-green-500 to-emerald-500",path:"/client-management"},{title:"Controle de Estoque",description:"Verificar materiais disponveis",icon:jt,color:"from-purple-500 to-pink-500",path:"/inventory"},{title:"Relatrios Financeiros",description:"Acompanhar receitas e despesas",icon:Xt,color:"from-orange-500 to-red-500",path:"/financial"},{title:"Agenda de Trabalho",description:"Organizar compromissos",icon:Jt,color:"from-indigo-500 to-purple-500",path:"/calendar"},{title:"Chat da Equipe",description:"Comunicar com a equipe",icon:d4,color:"from-teal-500 to-cyan-500",path:"/chat"}],n=[{action:"OS criada",item:"OS-2024-001 - Joo Silva",time:"2 horas atrs",icon:Zs,color:"text-blue-500"},{action:"Cliente adicionado",item:"Empresa ABC Ltda",time:"4 horas atrs",icon:kt,color:"text-green-500"},{action:"Estoque atualizado",item:"Ar Condicionado Split 12.000 BTUs",time:"1 dia atrs",icon:jt,color:"text-purple-500"},{action:"Pagamento recebido",item:"R$ 850,00 - OS-2024-003",time:"2 dias atrs",icon:Xt,color:"text-green-500"}],a=[{title:"Ordens Ativas",value:"8",icon:Zs,color:"from-blue-500 to-cyan-500"},{title:"Clientes Cadastrados",value:"24",icon:kt,color:"from-green-500 to-emerald-500"},{title:"Itens em Estoque",value:"156",icon:jt,color:"from-purple-500 to-pink-500"},{title:"Faturamento Mensal",value:"R$ 15.850",icon:Xt,color:"from-orange-500 to-red-500"}];return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Bem-vindo, ",t==null?void 0:t.name,"! "]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie seu negcio de forma inteligente e eficiente"})]}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Ll,{className:"h-12 w-12 text-white"})})})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Do,{className:"h-5 w-5 text-green-300"}),s.jsx("span",{className:"text-sm",children:"Sistema Online"})]})}),s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"h-5 w-5 text-blue-300"}),s.jsx("span",{className:"text-sm",children:"Dados Seguros"})]})}),s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(o0,{className:"h-5 w-5 text-purple-300"}),s.jsx("span",{className:"text-sm",children:"Acesso Remoto"})]})})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((i,o)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center`,children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:i.value}),s.jsx("p",{className:"text-gray-600",children:i.title})]},i.title))}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Aes Rpidas"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((i,o)=>s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+o*.1},children:s.jsxs(so,{to:i.path,className:"block p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:i.description}),s.jsxs("div",{className:"flex items-center text-blue-600 group-hover:text-blue-700",children:[s.jsx("span",{className:"text-sm font-medium",children:"Acessar"}),s.jsx(ji,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},i.title))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Atividade Recente"}),s.jsx("div",{className:"space-y-4",children:n.map((i,o)=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(i.icon,{className:`h-5 w-5 ${i.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.action}),s.jsx("p",{className:"text-sm text-gray-600",children:i.item})]}),s.jsx("span",{className:"text-xs text-gray-500",children:i.time})]},o))})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Status do Sistema"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Do,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Todos os Servios"})]}),s.jsx("span",{className:"text-green-600 font-medium",children:"Operacional"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Mt,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"ltima Sincronizao"})]}),s.jsx("span",{className:"text-blue-600 font-medium",children:"Agora"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ks,{className:"h-5 w-5 text-purple-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Plano Atual"})]}),s.jsx("span",{className:"text-purple-600 font-medium",children:e?"Premium":"Bsico"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(so,{to:"/departmental-dashboard",className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 px-4 rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[s.jsx(Js,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Ver Dashboard Completo"}),s.jsx(ji,{className:"h-4 w-4 ml-2"})]})})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-8 border border-indigo-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Dicas Rpidas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Ll,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Automatizao"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Use o sistema integrado para automatizar processos e economizar tempo"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(jr,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Produtividade"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhe mtricas de desempenho no Dashboard Departamental"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Gr,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Segurana"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seus dados esto protegidos com criptografia de ponta a ponta"})]})]})]})]})},dwe=()=>{const t=[{icon:r2,title:"Foco no Cliente",description:"Colocamos as necessidades dos nossos clientes no centro de tudo que fazemos."},{icon:Ese,title:"Excelncia",description:"Buscamos sempre a mais alta qualidade em cada projeto que desenvolvemos."},{icon:kt,title:"Colaborao",description:"Trabalhamos em parceria com nossos clientes para alcanar os melhores resultados."},{icon:Qae,title:"Paixo",description:"Amamos o que fazemos e isso se reflete na qualidade das nossas solues."}];return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Sobre a ",s.jsx("span",{className:"text-accent-300",children:"GiarTech"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Somos uma empresa de tecnologia apaixonada por criar solues inovadoras que transformam negcios e conectam pessoas"})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs(oe.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Nossa Histria"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Fundada em 2020, a GiarTech nasceu da viso de democratizar o acesso  tecnologia de qualidade. Comeamos como uma pequena startup com grandes sonhos e hoje somos uma referncia em desenvolvimento de solues digitais."}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Nossa jornada  marcada pela constante busca por inovao e pela dedicao em entregar resultados excepcionais para nossos clientes. Cada projeto  uma oportunidade de superar expectativas e criar valor real."}),s.jsx("p",{className:"text-lg text-gray-600",children:"Hoje, orgulhamo-nos de ter uma equipe talentosa e diversificada, unida pela paixo por tecnologia e pelo compromisso com a excelncia."})]}),s.jsxs(oe.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"relative",children:[s.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Equipe trabalhando",className:"rounded-lg shadow-xl"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary-600/20 to-accent-600/20 rounded-lg"})]})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nossos Valores"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Os princpios que guiam nossa empresa e definem nossa cultura organizacional"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 text-center group hover:-translate-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-full mb-6 group-hover:bg-primary-600 transition-colors duration-300",children:s.jsx(e.icon,{className:"h-8 w-8 text-primary-600 group-hover:text-white transition-colors duration-300"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.description})]},e.title))})]})}),s.jsx("section",{className:"py-20 gradient-bg",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Nossos Nmeros"}),s.jsx("p",{className:"text-xl text-gray-200",children:"Resultados que comprovam nossa dedicao e competncia"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{number:"100+",label:"Projetos Entregues"},{number:"50+",label:"Clientes Satisfeitos"},{number:"4+",label:"Anos de Experincia"},{number:"24/7",label:"Suporte Disponvel"}].map((e,r)=>s.jsxs(oe.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-accent-300 mb-2",children:e.number}),s.jsx("div",{className:"text-lg text-gray-200",children:e.label})]},e.label))})]})})]})},uwe=()=>{const t=[{icon:dae,title:"Desenvolvimento Web",description:"Criamos sites e aplicaes web modernas, responsivas e otimizadas.",features:["React/Next.js","Vue.js/Nuxt.js","Node.js/Express","TypeScript"],color:"from-blue-500 to-cyan-500"},{icon:NE,title:"Desenvolvimento Mobile",description:"Apps nativos e hbridos para iOS e Android com performance superior.",features:["React Native","Flutter","Swift/Kotlin","Ionic"],color:"from-purple-500 to-pink-500"},{icon:o0,title:"Solues Cloud",description:"Infraestrutura escalvel e segura na nuvem para seu negcio.",features:["AWS/Azure","Docker/Kubernetes","CI/CD","Microservios"],color:"from-green-500 to-teal-500"},{icon:i0,title:"Banco de Dados",description:"Design e otimizao de bancos de dados para mxima performance.",features:["PostgreSQL","MongoDB","Redis","Elasticsearch"],color:"from-orange-500 to-red-500"},{icon:Gr,title:"Segurana Digital",description:"Implementao de medidas de segurana robustas e auditoria.",features:["Pentesting","LGPD/GDPR","SSL/TLS","Firewall"],color:"from-indigo-500 to-purple-500"},{icon:Ll,title:"Otimizao",description:"Melhoria de performance e otimizao de aplicaes existentes.",features:["Performance","SEO","Core Web Vitals","Monitoring"],color:"from-yellow-500 to-orange-500"}];return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Nossos ",s.jsx("span",{className:"text-accent-300",children:"Servios"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Oferecemos solues tecnolgicas completas para transformar sua viso em realidade digital"})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,r)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 group hover:-translate-y-2 relative overflow-hidden",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br ${e.color} rounded-full mb-6`,children:s.jsx(e.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),s.jsx("div",{className:"space-y-2 mb-6",children:e.features.map(n=>s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full mr-2"}),n]},n))}),s.jsxs("button",{className:"flex items-center text-primary-600 font-medium group-hover:text-primary-700 transition-colors duration-200",children:["Saiba mais",s.jsx(ji,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},e.title))})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nosso Processo"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Uma metodologia comprovada para entregar resultados excepcionais"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"01",title:"Descoberta",description:"Entendemos suas necessidades e objetivos de negcio."},{step:"02",title:"Planejamento",description:"Criamos uma estratgia detalhada e cronograma do projeto."},{step:"03",title:"Desenvolvimento",description:"Implementamos a soluo com as melhores prticas."},{step:"04",title:"Entrega",description:"Testamos, otimizamos e entregamos o projeto finalizado."}].map((e,r)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 text-primary-600 rounded-full text-xl font-bold mb-4",children:e.step}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.description})]},e.step))})]})}),s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Pronto para comear seu projeto?"}),s.jsx("p",{className:"text-xl text-gray-200 mb-8 max-w-2xl mx-auto",children:"Entre em contato conosco e vamos discutir como podemos ajudar a transformar sua ideia em realidade"}),s.jsxs("button",{className:"btn-primary inline-flex items-center",children:["Solicitar Oramento",s.jsx(ji,{className:"ml-2 h-5 w-5"})]})]})})})]})},Awe=()=>{const[t,e]=P.useState({name:"",email:"",subject:"",message:""}),r=a=>{a.preventDefault(),console.log("Form submitted:",t),alert("Mensagem enviada com sucesso! Entraremos em contato em breve."),e({name:"",email:"",subject:"",message:""})},n=a=>{e({...t,[a.target.name]:a.target.value})};return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Entre em ",s.jsx("span",{className:"text-accent-300",children:"Contato"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Estamos prontos para transformar sua ideia em realidade. Vamos conversar sobre seu prximo projeto!"})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs(oe.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Vamos conversar"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Nossa equipe est sempre disponvel para discutir seu projeto e encontrar a melhor soluo para suas necessidades."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(yn,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),s.jsx("p",{className:"text-gray-600",children:"contato@giartech.com"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Respondemos em at 24 horas"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(qn,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telefone"}),s.jsx("p",{className:"text-gray-600",children:"(11) 99999-9999"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Seg - Sex, 9h s 18h"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(Ra,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Localizao"}),s.jsx("p",{className:"text-gray-600",children:"So Paulo, SP"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Atendimento remoto e presencial"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(Mt,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Horrio"}),s.jsx("p",{className:"text-gray-600",children:"Segunda a Sexta: 9h - 18h"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Suporte 24/7 para clientes"})]})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"card p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Su,{className:"h-6 w-6 text-primary-600 mr-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Envie uma mensagem"})]}),s.jsxs("form",{onSubmit:r,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome completo"}),s.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Seu nome completo"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"seu@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Assunto"}),s.jsxs("select",{id:"subject",name:"subject",value:t.subject,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[s.jsx("option",{value:"",children:"Selecione um assunto"}),s.jsx("option",{value:"desenvolvimento-web",children:"Desenvolvimento Web"}),s.jsx("option",{value:"desenvolvimento-mobile",children:"Desenvolvimento Mobile"}),s.jsx("option",{value:"consultoria",children:"Consultoria em TI"}),s.jsx("option",{value:"suporte",children:"Suporte Tcnico"}),s.jsx("option",{value:"outros",children:"Outros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),s.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 resize-none",placeholder:"Conte-nos sobre seu projeto ou dvida..."})]}),s.jsxs("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center",children:["Enviar Mensagem",s.jsx(yi,{className:"ml-2 h-5 w-5"})]})]})]})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Perguntas Frequentes"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Respostas para as dvidas mais comuns sobre nossos servios"})]}),s.jsx("div",{className:"space-y-6",children:[{question:"Quanto tempo leva para desenvolver um projeto?",answer:"O tempo varia conforme a complexidade do projeto. Projetos simples podem levar de 2-4 semanas, enquanto aplicaes mais complexas podem levar de 2-6 meses. Sempre fornecemos um cronograma detalhado aps a anlise inicial."},{question:"Vocs oferecem suporte aps a entrega?",answer:"Sim! Oferecemos suporte tcnico e manuteno contnua para todos os nossos projetos. Temos diferentes planos de suporte para atender s necessidades especficas de cada cliente."},{question:"Como funciona o processo de oramento?",answer:"Aps o primeiro contato, agendamos uma reunio para entender suas necessidades. Com base nisso, elaboramos uma proposta detalhada com escopo, cronograma e valores. O oramento  sempre gratuito e sem compromisso."},{question:"Trabalham com quais tecnologias?",answer:"Trabalhamos com as principais tecnologias do mercado: React, Vue.js, Node.js, Python, React Native, Flutter, AWS, Azure, e muitas outras. Sempre escolhemos a melhor tecnologia para cada projeto especfico."}].map((a,i)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0},className:"card p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:a.question}),s.jsx("p",{className:"text-gray-600",children:a.answer})]},i))})]})})]})},hwe=({isOpen:t,feature:e,onClose:r})=>{const n=[{icon:Js,title:"Analytics Avanados",description:"Relatrios detalhados e insights em tempo real"},{icon:kt,title:"Colaborao Ilimitada",description:"Adicione quantos membros quiser ao seu time"},{icon:Gr,title:"Segurana Enterprise",description:"Criptografia avanada e backup automtico"},{icon:Ll,title:"Automaes",description:"Fluxos de trabalho automatizados e integraes"}],a=[{name:"Bsico",price:"Grtis",features:["At 5 ordens de servio","Gesto bsica de estoque","Catlogo de servios limitado","Suporte por email","Acesso a 1 usurio","Backup manual","Relatrios bsicos"],current:!0},{name:"Premium",price:"R$ 99,00/ms",features:["Ordens de servio ilimitadas","Gesto completa de estoque","Catlogo de servios completo","Suporte prioritrio","At 5 usurios","Backup automtico","Analytics avanados","Personalizao visual","Modo offline no app","Integraes bsicas"],popular:!0},{name:"Enterprise",price:"R$ 200,00/ms",features:["Tudo do Premium","Usurios ilimitados","API de integrao","Suporte dedicado 24/7","SLA garantido","Dashboards personalizados","Gesto financeira avanada","Controle de acesso granular","Monitoramento em tempo real","Relatrios customizados","Treinamento da equipe","Ambiente de homologao"]}];return s.jsx(it,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white rounded-t-3xl",children:[s.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(px,{className:"h-8 w-8 text-yellow-300"})}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Recurso Premium"}),s.jsx("p",{className:"text-blue-100",children:e?`"${e}" est disponvel apenas no plano Premium`:"Desbloqueie todo o potencial da plataforma"})]})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"O que voc ganha com o Premium"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((i,o)=>s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*o},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]})]},i.title))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Escolha seu plano"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((i,o)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*o},className:`relative p-6 rounded-2xl border-2 transition-all duration-200 ${i.popular?"border-blue-500 bg-gradient-to-b from-blue-50 to-purple-50 shadow-lg scale-105":i.current?"border-gray-300 bg-gray-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:[i.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center",children:[s.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Mais Popular"]})}),i.current&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"bg-gray-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Plano Atual"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:i.name}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:i.price})]}),s.jsx("ul",{className:"space-y-3 mb-6",children:i.features.map((l,c)=>s.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Fr,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),l]},c))}),s.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${i.current?"bg-gray-300 text-gray-500 cursor-not-allowed":i.popular?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-900 text-white hover:bg-gray-800"}`,disabled:i.current,children:i.current?"Plano Atual":"Fazer Upgrade"})]},i.name))})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Comear Teste Grtis de 14 dias"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Sem compromisso  Cancele a qualquer momento"})]})]})]})]})})},fwe=({feature:t})=>{const[e,r]=P.useState(!0);return e?s.jsx(it,{children:s.jsx(oe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"fixed bottom-20 left-0 right-0 z-30 px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"relative p-4 md:p-6",children:[s.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 p-1 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[s.jsx("div",{className:"mb-4 md:mb-0 md:mr-6 flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(px,{className:"h-6 w-6 text-yellow-300"})})}),s.jsxs("div",{className:"text-center md:text-left flex-1 md:mr-6",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t?`Desbloqueie "${t}" com o plano Premium!`:"Atualize para o plano Premium!"}),s.jsx("p",{className:"text-white/80 text-sm",children:"Acesse recursos avanados, usurios ilimitados e suporte prioritrio por apenas R$49,90/ms."})]}),s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsxs(so,{to:"/pricing",className:"inline-flex items-center px-4 py-2 bg-white text-blue-600 font-medium rounded-lg hover:bg-blue-50 transition-colors",children:[s.jsx(Ks,{className:"h-4 w-4 mr-2 text-yellow-500"}),s.jsx("span",{children:"Ver Planos"}),s.jsx(ji,{className:"h-4 w-4 ml-2"})]})})]})]}),s.jsx("div",{className:"h-1 bg-white/20",children:s.jsx(oe.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-300",initial:{width:0},animate:{width:"100%"},transition:{duration:10,ease:"linear"},onAnimationComplete:()=>r(!1)})})]})})})}):null},mwe=({isOpen:t,feature:e,onClose:r})=>{const n=[{icon:Js,title:"Analytics Avanados",description:"Relatrios detalhados, dashboards personalizados e anlise preditiva"},{icon:kt,title:"Usurios Ilimitados",description:"Adicione toda sua equipe sem limites ou custos adicionais"},{icon:Gr,title:"Segurana Enterprise",description:"Criptografia avanada, autenticao em dois fatores e logs de auditoria"},{icon:Ll,title:"Integraes Avanadas",description:"API personalizada e conexo com sistemas ERP, CRM e contbeis"}];return s.jsx(it,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-white rounded-t-2xl",children:[s.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(Yi,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Recurso Enterprise"}),s.jsx("p",{className:"text-purple-100",children:e?`"${e}" est disponvel apenas no plano Enterprise`:"Desbloqueie recursos avanados com o plano Enterprise"})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"O que voc ganha com o Enterprise"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map((a,i)=>s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*i},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:s.jsx(a.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:a.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})]},a.title))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Benefcios Exclusivos"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Ks,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Gerente de conta dedicado"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Ks,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Suporte 24/7 por telefone, email e chat"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Ks,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"SLA garantido com 99.9% de uptime"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Ks,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Treinamento personalizado para sua equipe"]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs(so,{to:"/pricing",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:[s.jsx(px,{className:"h-5 w-5 mr-2 text-yellow-300"}),"Ver Plano Enterprise"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Entre em contato para uma demonstrao personalizada"})]})]})]})]})})},pwe=()=>{const t=na();return P.useEffect(()=>{t("/",{replace:!0})},[t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",children:s.jsxs("div",{className:"text-white text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),s.jsx("p",{className:"mt-4 text-lg",children:"Carregando sistema..."})]})})},gwe=()=>{var _,B,T;const{isAdmin:t}=Zr(),[e,r]=P.useState([{id:"1",code:"0000",role:"admin",createdAt:"2024-01-15T10:00:00",expiresAt:"2099-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Admin Demo",usedAt:"2024-01-15T10:05:00",isUniversal:!0},{id:"2",code:"234567",role:"technician",createdAt:"2024-01-16T11:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Carlos Tcnico",usedAt:"2024-01-16T14:20:00"},{id:"3",code:"345678",role:"technician",createdAt:"2024-01-17T09:15:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Ana Tcnica",usedAt:"2024-01-17T10:45:00"},{id:"4",code:"456789",role:"external",createdAt:"2024-01-18T14:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Joo Externo",usedAt:"2024-01-19T08:10:00"},{id:"5",code:"567890",role:"technician",createdAt:"2024-01-20T16:45:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!1}]),[n,a]=P.useState(!1),[i,o]=P.useState(!1),[l,c]=P.useState(null),[d,u]=P.useState({role:"technician",expiresAt:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),[A,h]=P.useState(null),[f,g]=P.useState("all"),x=e.filter(w=>f==="all"?!0:f==="used"?w.isUsed:f==="unused"?!w.isUsed:f==="admin"||f==="technician"||f==="external"?w.role===f:!0),m=()=>Math.floor(1e5+Math.random()*9e5).toString(),p=()=>{const w={id:Date.now().toString(),code:m(),role:d.role,createdAt:new Date().toISOString(),expiresAt:new Date(d.expiresAt+"T23:59:59").toISOString(),createdBy:"Admin Demo",isUsed:!1};r([...e,w]),a(!1),h(w.id),setTimeout(()=>{A===w.id&&h(null)},3e3)},y=()=>{l&&(r(e.map(w=>w.id===l.id?l:w)),o(!1),c(null))},b=(w,E)=>{navigator.clipboard.writeText(w).then(()=>{h(E),setTimeout(()=>{A===E&&h(null)},3e3)})},N=w=>{const E=e.find(D=>D.id===w);if(E!=null&&E.isUniversal){alert("O cdigo universal no pode ser excludo.");return}confirm("Tem certeza que deseja excluir este cdigo de acesso?")&&r(e.filter(D=>D.id!==w))},j=w=>{const E=e.find(D=>D.id===w);if(E!=null&&E.isUniversal){c(E),o(!0);return}r(e.map(D=>D.id===w?{...D,code:m(),isUsed:!1,usedBy:void 0,usedAt:void 0}:D))},C=w=>new Date(w).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=w=>new Date(w)<new Date;return t?s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cdigos de Acesso"}),s.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Cdigo"})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 shadow-md border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(Yh,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cdigo Universal"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Cdigo de acesso principal para administradores"})]})]}),s.jsxs("button",{onClick:()=>{const w=e.find(E=>E.isUniversal);w&&(c(w),o(!0))},className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(xa,{className:"h-3 w-3"}),s.jsx("span",{children:"Alterar"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gr,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-mono font-bold text-lg text-gray-900 mr-2",children:((_=e.find(w=>w.isUniversal))==null?void 0:_.code)||"0000"}),s.jsx("button",{onClick:()=>{const w=e.find(E=>E.isUniversal);w&&b(w.code,w.id)},className:`p-1 rounded-md transition-colors ${A===((B=e.find(w=>w.isUniversal))==null?void 0:B.id)?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar cdigo",children:A===((T=e.find(w=>w.isUniversal))==null?void 0:T.id)?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(qu,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Acesso administrativo com permisses completas"})]})]}),s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:"Universal"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg transition-colors ${f==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),s.jsx("button",{onClick:()=>g("unused"),className:`px-4 py-2 rounded-lg transition-colors ${f==="unused"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"No Utilizados"}),s.jsx("button",{onClick:()=>g("used"),className:`px-4 py-2 rounded-lg transition-colors ${f==="used"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Utilizados"}),s.jsx("button",{onClick:()=>g("admin"),className:`px-4 py-2 rounded-lg transition-colors ${f==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Administradores"}),s.jsx("button",{onClick:()=>g("technician"),className:`px-4 py-2 rounded-lg transition-colors ${f==="technician"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tcnicos"}),s.jsx("button",{onClick:()=>g("external"),className:`px-4 py-2 rounded-lg transition-colors ${f==="external"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Externos"})]})}),s.jsx("div",{className:"space-y-4",children:x.filter(w=>!w.isUniversal).length>0?x.filter(w=>!w.isUniversal).map((w,E)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},className:`bg-white rounded-xl p-6 shadow-md border ${w.isUsed?k(w.expiresAt)?"border-red-200":"border-yellow-200":k(w.expiresAt)?"border-red-200":"border-green-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${w.role==="admin"?"bg-purple-100":w.role==="technician"?"bg-blue-100":"bg-orange-100"}`,children:s.jsx(Yh,{className:`h-6 w-6 ${w.role==="admin"?"text-purple-600":w.role==="technician"?"text-blue-600":"text-orange-600"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mr-2",children:w.code}),s.jsx("button",{onClick:()=>b(w.code,w.id),className:`p-1 rounded-md transition-colors ${A===w.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar cdigo",children:A===w.id?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(qu,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:w.role==="admin"?"Administrador":w.role==="technician"?"Tcnico":"Funcionrio Externo"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:w.isUsed?s.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Utilizado"}):k(w.expiresAt)?s.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Expirado"}):s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Disponvel"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(Jt,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Criado em:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:C(w.createdAt)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(Jt,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Expira em:"})]}),s.jsx("p",{className:`text-sm font-medium ${k(w.expiresAt)?"text-red-600":"text-gray-900"}`,children:C(w.expiresAt)})]}),w.isUsed&&w.usedBy&&w.usedAt&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(vn,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Utilizado por:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.usedBy})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(Mt,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Utilizado em:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:C(w.usedAt)})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[!w.isUsed&&s.jsxs("button",{onClick:()=>j(w.id),className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(ea,{className:"h-3 w-3"}),s.jsx("span",{children:"Regenerar"})]}),s.jsxs("button",{onClick:()=>N(w.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Ct,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},w.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(Yh,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum cdigo encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos cdigos de acesso com os filtros selecionados."}),s.jsx("button",{onClick:()=>g("all"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(it,{children:n&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Cdigo de Acesso"}),s.jsx("button",{onClick:()=>a(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Acesso"}),s.jsxs("select",{value:d.role,onChange:w=>u({...d,role:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Tcnico"}),s.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Expirao"}),s.jsx("input",{type:"date",value:d.expiresAt,onChange:w=>u({...d,expiresAt:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[s.jsx(Gr,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Informaes de Segurana"})]}),s.jsx("p",{className:"text-sm text-blue-600",children:"O cdigo ser gerado automaticamente e poder ser copiado aps a criao. Compartilhe-o de forma segura com o usurio."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Gerar Cdigo"})]})]})]})}),s.jsx(it,{children:i&&l&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{o(!1),c(null)},className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Alterar Cdigo Universal"}),s.jsx("button",{onClick:()=>{o(!1),c(null)},children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Novo Cdigo Universal"}),s.jsx("input",{type:"text",value:l.code,onChange:w=>c({...l,code:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o novo cdigo",maxLength:6,required:!0}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"O cdigo universal deve ter no mximo 6 dgitos"})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-yellow-700 mb-2",children:[s.jsx(Gr,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Ateno"})]}),s.jsx("p",{className:"text-sm text-yellow-600",children:"Alterar o cdigo universal afetar o acesso de todos os administradores. Certifique-se de comunicar o novo cdigo a todos os usurios relevantes."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{o(!1),c(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6",children:[s.jsx(Gr,{className:"h-16 w-16 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Restrito"}),s.jsx("p",{className:"text-gray-600 text-center",children:"Esta rea  restrita a administradores do sistema."})]})},xwe=()=>{const[t,e]=P.useState("monthly"),[r,n]=P.useState(!1),a=[{name:"Bsico",description:"Para pequenos negcios e profissionais autnomos",price:{monthly:0,annual:0},features:["At 50 ordens de servio por ms","At 3 usurios","Gesto bsica de estoque","Catlogo de servios","Relatrios bsicos","Suporte por email"],limitations:["Sem integrao financeira","Sem contratos de manuteno","Sem personalizao visual","Sem acesso offline"],cta:"Comear Grtis",color:"gray"},{name:"Premium",description:"Para empresas em crescimento que precisam de mais recursos",price:{monthly:49.9,annual:44.9},features:["Ordens de servio ilimitadas","At 10 usurios","Gesto avanada de estoque","Catlogo de servios completo","Contratos de manuteno","Integrao financeira","Relatrios avanados","Personalizao visual","Acesso offline","Suporte prioritrio"],limitations:["Sem API personalizada","Sem SLA garantido"],cta:"Assinar Premium",color:"blue",popular:!0},{name:"Enterprise",description:"Para grandes empresas com necessidades complexas",price:{monthly:99.9,annual:89.9},features:["Tudo do plano Premium","Usurios ilimitados","API personalizada","Integraes avanadas","Anlise de dados avanada","Monitoramento em tempo real","Suporte 24/7","Gerente de conta dedicado","SLA garantido","Treinamento personalizado"],cta:"Fale com Vendas",color:"purple"}],i=[{category:"Ordens de Servio",features:[{name:"Criao de OS",basic:!0,premium:!0,enterprise:!0},{name:"Atribuio de tcnicos",basic:!0,premium:!0,enterprise:!0},{name:"Anexo de fotos",basic:!0,premium:!0,enterprise:!0},{name:"Histrico de status",basic:!0,premium:!0,enterprise:!0},{name:"OS ilimitadas",basic:!1,premium:!0,enterprise:!0},{name:"Modelos personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Assinatura digital",basic:!1,premium:!0,enterprise:!0},{name:"Automao de fluxo",basic:!1,premium:!1,enterprise:!0}]},{category:"Clientes",features:[{name:"Cadastro bsico",basic:!0,premium:!0,enterprise:!0},{name:"Histrico de servios",basic:!0,premium:!0,enterprise:!0},{name:"Cadastro PF/PJ",basic:!1,premium:!0,enterprise:!0},{name:"Contratos de manuteno",basic:!1,premium:!0,enterprise:!0},{name:"SLA personalizado",basic:!1,premium:!1,enterprise:!0},{name:"Portal do cliente",basic:!1,premium:!1,enterprise:!0}]},{category:"Estoque",features:[{name:"Controle bsico",basic:!0,premium:!0,enterprise:!0},{name:"Baixa automtica",basic:!1,premium:!0,enterprise:!0},{name:"Alertas de estoque mnimo",basic:!1,premium:!0,enterprise:!0},{name:"Mltiplos depsitos",basic:!1,premium:!1,enterprise:!0},{name:"Gesto de fornecedores",basic:!1,premium:!0,enterprise:!0}]},{category:"Financeiro",features:[{name:"Faturamento bsico",basic:!0,premium:!0,enterprise:!0},{name:"Integrao com OS",basic:!1,premium:!0,enterprise:!0},{name:"Relatrios financeiros",basic:!1,premium:!0,enterprise:!0},{name:"Integrao bancria",basic:!1,premium:!1,enterprise:!0},{name:"Fluxo de caixa avanado",basic:!1,premium:!1,enterprise:!0}]},{category:"Relatrios",features:[{name:"Relatrios bsicos",basic:!0,premium:!0,enterprise:!0},{name:"Exportao PDF/Excel",basic:!1,premium:!0,enterprise:!0},{name:"Dashboards personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Business Intelligence",basic:!1,premium:!1,enterprise:!0},{name:"Anlise preditiva",basic:!1,premium:!1,enterprise:!0}]},{category:"Suporte",features:[{name:"Suporte por email",basic:!0,premium:!0,enterprise:!0},{name:"Suporte prioritrio",basic:!1,premium:!0,enterprise:!0},{name:"Suporte 24/7",basic:!1,premium:!1,enterprise:!0},{name:"Gerente de conta",basic:!1,premium:!1,enterprise:!0},{name:"SLA garantido",basic:!1,premium:!1,enterprise:!0},{name:"Treinamento personalizado",basic:!1,premium:!1,enterprise:!0}]}];return s.jsx("div",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx(oe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-gray-900 mb-4",children:"Planos e Preos"}),s.jsx(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Escolha o plano ideal para o seu negcio e comece a otimizar sua gesto de servios hoje mesmo"}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"mt-8 inline-flex items-center bg-gray-100 p-1 rounded-full",children:[s.jsx("button",{onClick:()=>e("monthly"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="monthly"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Mensal"}),s.jsxs("button",{onClick:()=>e("annual"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="annual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Anual ",s.jsx("span",{className:"text-green-600 font-bold",children:"-10%"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:a.map((o,l)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+l*.1,duration:.6},className:`relative rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${o.popular?"border-2 border-blue-500 transform md:-translate-y-4 hover:shadow-2xl":"border border-gray-200 hover:shadow-xl"}`,children:[o.popular&&s.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-blue-500 to-purple-500 text-white py-2 text-center text-sm font-bold",children:"MAIS POPULAR"}),s.jsxs("div",{className:`p-8 ${o.popular?"pt-14":"pt-8"}`,children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:o.name}),s.jsx("p",{className:"text-gray-600 mb-6 h-12",children:o.description}),s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"text-4xl font-bold text-gray-900",children:o.price[t]===0?"Grtis":`R$${o.price[t].toFixed(2)}`}),o.price[t]>0&&s.jsxs("span",{className:"text-gray-600 ml-2",children:["/ms",t==="annual"&&", cobrado anualmente"]})]}),s.jsxs("ul",{className:"space-y-3 mb-8",children:[o.features.map((c,d)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Fr,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-600",children:c})]},d)),o.limitations&&o.limitations.map((c,d)=>s.jsxs("li",{className:"flex items-start text-gray-400",children:[s.jsx(dt,{className:"h-5 w-5 text-gray-300 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:c})]},`limit-${d}`))]}),s.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${o.name==="Bsico"?"bg-gray-900 text-white hover:bg-gray-800":o.name==="Premium"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:o.cta})]})]},o.name))}),s.jsx("div",{className:"text-center mb-8",children:s.jsxs("button",{onClick:()=>n(!r),className:"inline-flex items-center space-x-2 text-blue-600 font-medium hover:text-blue-800 transition-colors",children:[s.jsx("span",{children:r?"Ocultar comparao detalhada":"Ver comparao detalhada de recursos"}),s.jsx(oe.div,{animate:{rotate:r?90:0},transition:{duration:.3},children:s.jsx(ji,{className:"h-5 w-5"})})]})}),r&&s.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden mb-16",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 w-1/3",children:"Recursos"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50",children:"Bsico"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-blue-600 uppercase tracking-wider bg-blue-50",children:"Premium"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-purple-600 uppercase tracking-wider bg-purple-50",children:"Enterprise"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(o=>s.jsxs(we.Fragment,{children:[s.jsx("tr",{className:"bg-gray-50",children:s.jsx("td",{colSpan:4,className:"px-6 py-4 text-sm font-medium text-gray-900",children:o.category})}),o.features.map((l,c)=>s.jsxs("tr",{className:c%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.name}),s.jsx("td",{className:"px-6 py-4 text-center",children:l.basic?s.jsx(Fr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(dt,{className:"h-5 w-5 text-gray-300 mx-auto"})}),s.jsx("td",{className:"px-6 py-4 text-center bg-blue-50",children:l.premium?s.jsx(Fr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(dt,{className:"h-5 w-5 text-gray-300 mx-auto"})}),s.jsx("td",{className:"px-6 py-4 text-center bg-purple-50",children:l.enterprise?s.jsx(Fr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(dt,{className:"h-5 w-5 text-gray-300 mx-auto"})})]},`${o.category}-${c}`))]},o.category))})]})})}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Recursos Principais"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:mt,title:"Gesto de Ordens de Servio",description:"Crie, acompanhe e gerencie todas as suas ordens de servio em um s lugar.",color:"blue"},{icon:jt,title:"Controle de Estoque",description:"Gerencie seu inventrio com baixa automtica de materiais utilizados nas OS.",color:"green"},{icon:kt,title:"Gesto de Clientes",description:"Cadastro completo de clientes PF e PJ com histrico de servios.",color:"purple"},{icon:Jt,title:"Agendamento Inteligente",description:"Organize a agenda dos tcnicos e otimize rotas de atendimento.",color:"orange"},{icon:Xt,title:"Integrao Financeira",description:"Faturamento automtico vinculado s ordens de servio concludas.",color:"emerald"},{icon:Js,title:"Relatrios Avanados",description:"Anlise detalhada de desempenho, produtividade e resultados financeiros.",color:"indigo"},{icon:NE,title:"Acesso Mobile",description:"Acesse o sistema de qualquer lugar, mesmo sem conexo com internet.",color:"pink"},{icon:t2,title:"Personalizao Visual",description:"Adapte a interface s cores e identidade visual da sua empresa.",color:"amber"},{icon:u9,title:"Backup Automtico",description:"Seus dados sempre seguros com backup automtico na nuvem.",color:"sky"}].map((o,l)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg bg-${o.color}-100 flex items-center justify-center mb-4`,children:s.jsx(o.icon,{className:`h-6 w-6 text-${o.color}-600`})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.title}),s.jsx("p",{className:"text-gray-600",children:o.description})]},o.title))})]}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Perguntas Frequentes"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[{question:"Posso mudar de plano a qualquer momento?",answer:"Sim, voc pode fazer upgrade ou downgrade do seu plano a qualquer momento. As mudanas entram em vigor imediatamente e o valor  ajustado proporcionalmente."},{question:"Existe perodo de teste?",answer:"Sim, oferecemos 14 dias de teste gratuito para os planos Premium e Enterprise, com acesso a todos os recursos."},{question:"Como funciona o suporte tcnico?",answer:"O plano Bsico inclui suporte por email com tempo de resposta de at 48h. O plano Premium oferece suporte prioritrio com resposta em at 24h. O plano Enterprise inclui suporte 24/7 por email, chat e telefone."},{question:"Preciso instalar algum software?",answer:"No, o GiarTech  uma soluo 100% web, acessvel de qualquer navegador. Tambm oferecemos aplicativos mobile para iOS e Android nos planos Premium e Enterprise."},{question:"Meus dados esto seguros?",answer:"Sim, utilizamos criptografia de ponta a ponta e seguimos as melhores prticas de segurana. Realizamos backups dirios e estamos em conformidade com a LGPD."},{question:"Posso cancelar a qualquer momento?",answer:"Sim, voc pode cancelar sua assinatura a qualquer momento sem taxas adicionais. No caso de planos anuais, oferecemos reembolso proporcional ao perodo no utilizado."}].map((o,l)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:o.question}),s.jsx("p",{className:"text-gray-600",children:o.answer})]},l))})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-12 text-center text-white",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para transformar sua gesto de servios?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Comece agora mesmo com o plano gratuito ou experimente todos os recursos premium por 14 dias sem compromisso."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{className:"px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:"Comear Gratuitamente"}),s.jsx("button",{className:"px-8 py-4 bg-blue-500 bg-opacity-30 text-white font-semibold rounded-xl hover:bg-opacity-40 hover:shadow-lg transition-all duration-200",children:"Agendar Demonstrao"})]})]}),s.jsxs("div",{className:"mt-16 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"Precisa de ajuda para escolher o plano ideal?"}),s.jsxs("p",{className:"text-gray-900 font-medium",children:["Entre em contato: ",s.jsx("a",{href:"tel:1155552560",className:"text-blue-600 hover:text-blue-800",children:"11 5555-2560"})," | ",s.jsx("a",{href:"mailto:contato@giartech.com.br",className:"text-blue-600 hover:text-blue-800",children:"contato@giartech.com.br"})]}),s.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"GiarTech Solues Engenharia da Climatizao | CNPJ: 37.509.897/0001-93"})]})]})})},ywe=({isOpen:t,onClose:e,requiredRole:r})=>{const a=(()=>{switch(r){case"admin":return{title:"Acesso Restrito",description:"Esta funcionalidade est disponvel apenas para administradores do sistema.",icon:Gr,color:"red",buttonText:"Entendi"};case"premium":return{title:"Recurso Premium",description:"Esta funcionalidade est disponvel apenas para assinantes do plano Premium.",icon:Yh,color:"blue",buttonText:"Ver Planos"};case"enterprise":return{title:"Recurso Enterprise",description:"Esta funcionalidade est disponvel apenas para assinantes do plano Enterprise.",icon:Yi,color:"purple",buttonText:"Ver Planos"};default:return{title:"Acesso Restrito",description:"Voc no tem permisso para acessar esta funcionalidade.",icon:ns,color:"yellow",buttonText:"Entendi"}}})();return s.jsx(it,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:`relative bg-${a.color}-600 p-6 text-white rounded-t-xl`,children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(a.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:a.title}),s.jsx("p",{className:"text-white/80",children:a.description})]})]}),s.jsx("div",{className:"p-6",children:r==="admin"?s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"Entre em contato com o administrador do sistema para solicitar acesso a esta funcionalidade."}),s.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:a.buttonText})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"Faa upgrade do seu plano para desbloquear esta e outras funcionalidades avanadas."}),s.jsx(so,{to:"/pricing",className:`inline-block px-6 py-3 bg-${a.color}-600 text-white font-semibold rounded-lg hover:bg-${a.color}-700 transition-colors`,children:a.buttonText})]})})]})]})})};function Cz(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Cz(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Rt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Cz(t))&&(n&&(n+=" "),n+=e);return n}var vwe=Array.isArray,Na=vwe,bwe=typeof Is=="object"&&Is&&Is.Object===Object&&Is,Bz=bwe,wwe=Bz,jwe=typeof self=="object"&&self&&self.Object===Object&&self,Nwe=wwe||jwe||Function("return this")(),zo=Nwe,_we=zo,Cwe=_we.Symbol,jx=Cwe,zD=jx,Sz=Object.prototype,Bwe=Sz.hasOwnProperty,Swe=Sz.toString,vp=zD?zD.toStringTag:void 0;function Ewe(t){var e=Bwe.call(t,vp),r=t[vp];try{t[vp]=void 0;var n=!0}catch{}var a=Swe.call(t);return n&&(e?t[vp]=r:delete t[vp]),a}var kwe=Ewe,Pwe=Object.prototype,Fwe=Pwe.toString;function Twe(t){return Fwe.call(t)}var Owe=Twe,VD=jx,Iwe=kwe,Dwe=Owe,Lwe="[object Null]",Mwe="[object Undefined]",KD=VD?VD.toStringTag:void 0;function Uwe(t){return t==null?t===void 0?Mwe:Lwe:KD&&KD in Object(t)?Iwe(t):Dwe(t)}var Xl=Uwe;function Rwe(t){return t!=null&&typeof t=="object"}var Yl=Rwe,Qwe=Xl,$we=Yl,Hwe="[object Symbol]";function qwe(t){return typeof t=="symbol"||$we(t)&&Qwe(t)==Hwe}var cm=qwe,zwe=Na,Vwe=cm,Kwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wwe=/^\w*$/;function Gwe(t,e){if(zwe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Vwe(t)?!0:Wwe.test(t)||!Kwe.test(t)||e!=null&&t in Object(e)}var nk=Gwe;function Xwe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bd=Xwe;const dm=pr(bd);var Ywe=Xl,Jwe=bd,Zwe="[object AsyncFunction]",e1e="[object Function]",t1e="[object GeneratorFunction]",r1e="[object Proxy]";function n1e(t){if(!Jwe(t))return!1;var e=Ywe(t);return e==e1e||e==t1e||e==Zwe||e==r1e}var sk=n1e;const Et=pr(sk);var s1e=zo,a1e=s1e["__core-js_shared__"],i1e=a1e,u5=i1e,WD=function(){var t=/[^.]+$/.exec(u5&&u5.keys&&u5.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o1e(t){return!!WD&&WD in t}var l1e=o1e,c1e=Function.prototype,d1e=c1e.toString;function u1e(t){if(t!=null){try{return d1e.call(t)}catch{}try{return t+""}catch{}}return""}var Ez=u1e,A1e=sk,h1e=l1e,f1e=bd,m1e=Ez,p1e=/[\\^$.*+?()[\]{}|]/g,g1e=/^\[object .+?Constructor\]$/,x1e=Function.prototype,y1e=Object.prototype,v1e=x1e.toString,b1e=y1e.hasOwnProperty,w1e=RegExp("^"+v1e.call(b1e).replace(p1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j1e(t){if(!f1e(t)||h1e(t))return!1;var e=A1e(t)?w1e:g1e;return e.test(m1e(t))}var N1e=j1e;function _1e(t,e){return t==null?void 0:t[e]}var C1e=_1e,B1e=N1e,S1e=C1e;function E1e(t,e){var r=S1e(t,e);return B1e(r)?r:void 0}var dA=E1e,k1e=dA,P1e=k1e(Object,"create"),O2=P1e,GD=O2;function F1e(){this.__data__=GD?GD(null):{},this.size=0}var T1e=F1e;function O1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var I1e=O1e,D1e=O2,L1e="__lodash_hash_undefined__",M1e=Object.prototype,U1e=M1e.hasOwnProperty;function R1e(t){var e=this.__data__;if(D1e){var r=e[t];return r===L1e?void 0:r}return U1e.call(e,t)?e[t]:void 0}var Q1e=R1e,$1e=O2,H1e=Object.prototype,q1e=H1e.hasOwnProperty;function z1e(t){var e=this.__data__;return $1e?e[t]!==void 0:q1e.call(e,t)}var V1e=z1e,K1e=O2,W1e="__lodash_hash_undefined__";function G1e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=K1e&&e===void 0?W1e:e,this}var X1e=G1e,Y1e=T1e,J1e=I1e,Z1e=Q1e,e2e=V1e,t2e=X1e;function um(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}um.prototype.clear=Y1e;um.prototype.delete=J1e;um.prototype.get=Z1e;um.prototype.has=e2e;um.prototype.set=t2e;var r2e=um;function n2e(){this.__data__=[],this.size=0}var s2e=n2e;function a2e(t,e){return t===e||t!==t&&e!==e}var ak=a2e,i2e=ak;function o2e(t,e){for(var r=t.length;r--;)if(i2e(t[r][0],e))return r;return-1}var I2=o2e,l2e=I2,c2e=Array.prototype,d2e=c2e.splice;function u2e(t){var e=this.__data__,r=l2e(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():d2e.call(e,r,1),--this.size,!0}var A2e=u2e,h2e=I2;function f2e(t){var e=this.__data__,r=h2e(e,t);return r<0?void 0:e[r][1]}var m2e=f2e,p2e=I2;function g2e(t){return p2e(this.__data__,t)>-1}var x2e=g2e,y2e=I2;function v2e(t,e){var r=this.__data__,n=y2e(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var b2e=v2e,w2e=s2e,j2e=A2e,N2e=m2e,_2e=x2e,C2e=b2e;function Am(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Am.prototype.clear=w2e;Am.prototype.delete=j2e;Am.prototype.get=N2e;Am.prototype.has=_2e;Am.prototype.set=C2e;var D2=Am,B2e=dA,S2e=zo,E2e=B2e(S2e,"Map"),ik=E2e,XD=r2e,k2e=D2,P2e=ik;function F2e(){this.size=0,this.__data__={hash:new XD,map:new(P2e||k2e),string:new XD}}var T2e=F2e;function O2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var I2e=O2e,D2e=I2e;function L2e(t,e){var r=t.__data__;return D2e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var L2=L2e,M2e=L2;function U2e(t){var e=M2e(this,t).delete(t);return this.size-=e?1:0,e}var R2e=U2e,Q2e=L2;function $2e(t){return Q2e(this,t).get(t)}var H2e=$2e,q2e=L2;function z2e(t){return q2e(this,t).has(t)}var V2e=z2e,K2e=L2;function W2e(t,e){var r=K2e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var G2e=W2e,X2e=T2e,Y2e=R2e,J2e=H2e,Z2e=V2e,eje=G2e;function hm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hm.prototype.clear=X2e;hm.prototype.delete=Y2e;hm.prototype.get=J2e;hm.prototype.has=Z2e;hm.prototype.set=eje;var ok=hm,kz=ok,tje="Expected a function";function lk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tje);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(lk.Cache||kz),r}lk.Cache=kz;var Pz=lk;const rje=pr(Pz);var nje=Pz,sje=500;function aje(t){var e=nje(t,function(n){return r.size===sje&&r.clear(),n}),r=e.cache;return e}var ije=aje,oje=ije,lje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cje=/\\(\\)?/g,dje=oje(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lje,function(r,n,a,i){e.push(a?i.replace(cje,"$1"):n||r)}),e}),uje=dje;function Aje(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var ck=Aje,YD=jx,hje=ck,fje=Na,mje=cm,JD=YD?YD.prototype:void 0,ZD=JD?JD.toString:void 0;function Fz(t){if(typeof t=="string")return t;if(fje(t))return hje(t,Fz)+"";if(mje(t))return ZD?ZD.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var pje=Fz,gje=pje;function xje(t){return t==null?"":gje(t)}var Tz=xje,yje=Na,vje=nk,bje=uje,wje=Tz;function jje(t,e){return yje(t)?t:vje(t,e)?[t]:bje(wje(t))}var Oz=jje,Nje=cm;function _je(t){if(typeof t=="string"||Nje(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var M2=_je,Cje=Oz,Bje=M2;function Sje(t,e){e=Cje(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Bje(e[r++])];return r&&r==n?t:void 0}var dk=Sje,Eje=dk;function kje(t,e,r){var n=t==null?void 0:Eje(t,e);return n===void 0?r:n}var Iz=kje;const Qa=pr(Iz);function Pje(t){return t==null}var Fje=Pje;const $t=pr(Fje);var Tje=Xl,Oje=Na,Ije=Yl,Dje="[object String]";function Lje(t){return typeof t=="string"||!Oje(t)&&Ije(t)&&Tje(t)==Dje}var Mje=Lje;const Gu=pr(Mje);var Dz={exports:{}},gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk=Symbol.for("react.element"),Ak=Symbol.for("react.portal"),U2=Symbol.for("react.fragment"),R2=Symbol.for("react.strict_mode"),Q2=Symbol.for("react.profiler"),$2=Symbol.for("react.provider"),H2=Symbol.for("react.context"),Uje=Symbol.for("react.server_context"),q2=Symbol.for("react.forward_ref"),z2=Symbol.for("react.suspense"),V2=Symbol.for("react.suspense_list"),K2=Symbol.for("react.memo"),W2=Symbol.for("react.lazy"),Rje=Symbol.for("react.offscreen"),Lz;Lz=Symbol.for("react.module.reference");function Ci(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uk:switch(t=t.type,t){case U2:case Q2:case R2:case z2:case V2:return t;default:switch(t=t&&t.$$typeof,t){case Uje:case H2:case q2:case W2:case K2:case $2:return t;default:return e}}case Ak:return e}}}gr.ContextConsumer=H2;gr.ContextProvider=$2;gr.Element=uk;gr.ForwardRef=q2;gr.Fragment=U2;gr.Lazy=W2;gr.Memo=K2;gr.Portal=Ak;gr.Profiler=Q2;gr.StrictMode=R2;gr.Suspense=z2;gr.SuspenseList=V2;gr.isAsyncMode=function(){return!1};gr.isConcurrentMode=function(){return!1};gr.isContextConsumer=function(t){return Ci(t)===H2};gr.isContextProvider=function(t){return Ci(t)===$2};gr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uk};gr.isForwardRef=function(t){return Ci(t)===q2};gr.isFragment=function(t){return Ci(t)===U2};gr.isLazy=function(t){return Ci(t)===W2};gr.isMemo=function(t){return Ci(t)===K2};gr.isPortal=function(t){return Ci(t)===Ak};gr.isProfiler=function(t){return Ci(t)===Q2};gr.isStrictMode=function(t){return Ci(t)===R2};gr.isSuspense=function(t){return Ci(t)===z2};gr.isSuspenseList=function(t){return Ci(t)===V2};gr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===U2||t===Q2||t===R2||t===z2||t===V2||t===Rje||typeof t=="object"&&t!==null&&(t.$$typeof===W2||t.$$typeof===K2||t.$$typeof===$2||t.$$typeof===H2||t.$$typeof===q2||t.$$typeof===Lz||t.getModuleId!==void 0)};gr.typeOf=Ci;Dz.exports=gr;var Qje=Dz.exports,$je=Xl,Hje=Yl,qje="[object Number]";function zje(t){return typeof t=="number"||Hje(t)&&$je(t)==qje}var Mz=zje;const Vje=pr(Mz);var Kje=Mz;function Wje(t){return Kje(t)&&t!=+t}var Gje=Wje;const Nx=pr(Gje);var Ws=function(e){return e===0?0:e>0?1:-1},yu=function(e){return Gu(e)&&e.indexOf("%")===e.length-1},Ze=function(e){return Vje(e)&&!Nx(e)},Xje=function(e){return $t(e)},Vn=function(e){return Ze(e)||Gu(e)},Yje=0,_x=function(e){var r=++Yje;return"".concat(e||"").concat(r)},Gs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(e)&&!Gu(e))return n;var i;if(yu(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Nx(i)&&(i=n),a&&i>r&&(i=r),i},Fc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Jje=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Bc=function(e,r){return Ze(e)&&Ze(r)?function(n){return e+n*(r-e)}:function(){return r}};function pB(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Qa(n,e))===r})}var Zje=function(e,r){return Ze(e)&&Ze(r)?e-r:Gu(e)&&Gu(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function df(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function gB(t){"@babel/helpers - typeof";return gB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gB(t)}var eNe=["viewBox","children"],tNe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eL=["points","pathLength"],A5={svg:eNe,polygon:eL,polyline:eL},hk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Fw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!dm(n))return null;var a={};return Object.keys(n).forEach(function(i){hk.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},rNe=function(e,r,n){return function(a){return e(r,n,a),null}},Xu=function(e,r,n){if(!dm(e)||gB(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];hk.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=rNe(o,r,n))}),a},nNe=["children"],sNe=["children"];function tL(t,e){if(t==null)return{};var r=aNe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var rL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},El=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},nL=null,h5=null,fk=function t(e){if(e===nL&&Array.isArray(h5))return h5;var r=[];return P.Children.forEach(e,function(n){$t(n)||(Qje.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),h5=r,nL=e,r};function vi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return El(a)}):n=[El(e)],fk(t).forEach(function(a){var i=Qa(a,"type.displayName")||Qa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Oa(t,e){var r=vi(t,e);return r&&r[0]}var sL=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Ze(n)||n<=0||!Ze(a)||a<=0)},iNe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oNe=function(e){return e&&e.type&&Gu(e.type)&&iNe.indexOf(e.type)>=0},lNe=function(e,r,n,a){var i,o=(i=A5==null?void 0:A5[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Et(e)&&(a&&o.includes(r)||tNe.includes(r))||n&&hk.includes(r)},_t=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(P.isValidElement(e)&&(a=e.props),!dm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;lNe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},xB=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return aL(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!aL(i,o))return!1}return!0},aL=function(e,r){if($t(e)&&$t(r))return!0;if(!$t(e)&&!$t(r)){var n=e.props||{},a=n.children,i=tL(n,nNe),o=r.props||{},l=o.children,c=tL(o,sNe);return a&&l?df(i,c)&&xB(a,l):!a&&!l?df(i,c):!1}return!1},iL=function(e,r){var n=[],a={};return fk(e).forEach(function(i,o){if(oNe(i))n.push(i);else if(i){var l=El(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var A=d(i,l,o);n.push(A),a[l]=!0}}}),n},cNe=function(e){var r=e&&e.type;return r&&rL[r]?rL[r]:null},dNe=function(e,r){return fk(r).indexOf(e)},uNe=["children","width","height","viewBox","className","style","title","desc"];function yB(){return yB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yB.apply(this,arguments)}function ANe(t,e){if(t==null)return{};var r=hNe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vB(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=ANe(t,uNe),u=a||{width:r,height:n,x:0,y:0},A=Rt("recharts-surface",i);return we.createElement("svg",yB({},_t(d,!0,"svg"),{className:A,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),we.createElement("title",null,l),we.createElement("desc",null,c),e)}var fNe=["children","className"];function bB(){return bB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bB.apply(this,arguments)}function mNe(t,e){if(t==null)return{};var r=pNe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hr=we.forwardRef(function(t,e){var r=t.children,n=t.className,a=mNe(t,fNe),i=Rt("recharts-layer",n);return we.createElement("g",bB({className:i},_t(a,!0),{ref:e}),r)}),ro=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function gNe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var xNe=gNe,yNe=xNe;function vNe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:yNe(t,e,r)}var bNe=vNe,wNe="\\ud800-\\udfff",jNe="\\u0300-\\u036f",NNe="\\ufe20-\\ufe2f",_Ne="\\u20d0-\\u20ff",CNe=jNe+NNe+_Ne,BNe="\\ufe0e\\ufe0f",SNe="\\u200d",ENe=RegExp("["+SNe+wNe+CNe+BNe+"]");function kNe(t){return ENe.test(t)}var Uz=kNe;function PNe(t){return t.split("")}var FNe=PNe,Rz="\\ud800-\\udfff",TNe="\\u0300-\\u036f",ONe="\\ufe20-\\ufe2f",INe="\\u20d0-\\u20ff",DNe=TNe+ONe+INe,LNe="\\ufe0e\\ufe0f",MNe="["+Rz+"]",wB="["+DNe+"]",jB="\\ud83c[\\udffb-\\udfff]",UNe="(?:"+wB+"|"+jB+")",Qz="[^"+Rz+"]",$z="(?:\\ud83c[\\udde6-\\uddff]){2}",Hz="[\\ud800-\\udbff][\\udc00-\\udfff]",RNe="\\u200d",qz=UNe+"?",zz="["+LNe+"]?",QNe="(?:"+RNe+"(?:"+[Qz,$z,Hz].join("|")+")"+zz+qz+")*",$Ne=zz+qz+QNe,HNe="(?:"+[Qz+wB+"?",wB,$z,Hz,MNe].join("|")+")",qNe=RegExp(jB+"(?="+jB+")|"+HNe+$Ne,"g");function zNe(t){return t.match(qNe)||[]}var VNe=zNe,KNe=FNe,WNe=Uz,GNe=VNe;function XNe(t){return WNe(t)?GNe(t):KNe(t)}var YNe=XNe,JNe=bNe,ZNe=Uz,e_e=YNe,t_e=Tz;function r_e(t){return function(e){e=t_e(e);var r=ZNe(e)?e_e(e):void 0,n=r?r[0]:e.charAt(0),a=r?JNe(r,1).join(""):e.slice(1);return n[t]()+a}}var n_e=r_e,s_e=n_e,a_e=s_e("toUpperCase"),i_e=a_e;const G2=pr(i_e);function Er(t){return function(){return t}}const Vz=Math.cos,Tw=Math.sin,co=Math.sqrt,Ow=Math.PI,X2=2*Ow,NB=Math.PI,_B=2*NB,eu=1e-6,o_e=_B-eu;function Kz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function l_e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Kz;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class c_e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Kz:l_e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=a-r,u=o-e,A=l-r,h=u*u+A*A;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>eu)if(!(Math.abs(A*c-d*u)>eu)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,g=a-l,x=c*c+d*d,m=f*f+g*g,p=Math.sqrt(x),y=Math.sqrt(h),b=i*Math.tan((NB-Math.acos((x+h-m)/(2*p*y)))/2),N=b/y,j=b/p;Math.abs(N-1)>eu&&this._append`L${e+N*u},${r+N*A}`,this._append`A${i},${i},0,0,${+(A*f>u*g)},${this._x1=e+j*c},${this._y1=r+j*d}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=e+l,u=r+c,A=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>eu||Math.abs(this._y1-u)>eu)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%_B+_B),h>o_e?this._append`A${n},${n},0,1,${A},${e-l},${r-c}A${n},${n},0,1,${A},${this._x1=d},${this._y1=u}`:h>eu&&this._append`A${n},${n},0,${+(h>=NB)},${A},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function mk(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new c_e(e)}function pk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wz(t){this._context=t}Wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Y2(t){return new Wz(t)}function Gz(t){return t[0]}function Xz(t){return t[1]}function Yz(t,e){var r=Er(!0),n=null,a=Y2,i=null,o=mk(l);t=typeof t=="function"?t:t===void 0?Gz:Er(t),e=typeof e=="function"?e:e===void 0?Xz:Er(e);function l(c){var d,u=(c=pk(c)).length,A,h=!1,f;for(n==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(A=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(A,d,c),+e(A,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Er(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Er(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Er(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Iv(t,e,r){var n=null,a=Er(!0),i=null,o=Y2,l=null,c=mk(d);t=typeof t=="function"?t:t===void 0?Gz:Er(+t),e=typeof e=="function"?e:Er(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Xz:Er(+r);function d(A){var h,f,g,x=(A=pk(A)).length,m,p=!1,y,b=new Array(x),N=new Array(x);for(i==null&&(l=o(y=c())),h=0;h<=x;++h){if(!(h<x&&a(m=A[h],h,A))===p)if(p=!p)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=f;--g)l.point(b[g],N[g]);l.lineEnd(),l.areaEnd()}p&&(b[h]=+t(m,h,A),N[h]=+e(m,h,A),l.point(n?+n(m,h,A):b[h],r?+r(m,h,A):N[h]))}if(y)return l=null,y+""||null}function u(){return Yz().defined(a).curve(o).context(i)}return d.x=function(A){return arguments.length?(t=typeof A=="function"?A:Er(+A),n=null,d):t},d.x0=function(A){return arguments.length?(t=typeof A=="function"?A:Er(+A),d):t},d.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Er(+A),d):n},d.y=function(A){return arguments.length?(e=typeof A=="function"?A:Er(+A),r=null,d):e},d.y0=function(A){return arguments.length?(e=typeof A=="function"?A:Er(+A),d):e},d.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Er(+A),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(n).y(e)},d.defined=function(A){return arguments.length?(a=typeof A=="function"?A:Er(!!A),d):a},d.curve=function(A){return arguments.length?(o=A,i!=null&&(l=o(i)),d):o},d.context=function(A){return arguments.length?(A==null?i=l=null:l=o(i=A),d):i},d}class Jz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function d_e(t){return new Jz(t,!0)}function u_e(t){return new Jz(t,!1)}const gk={draw(t,e){const r=co(e/Ow);t.moveTo(r,0),t.arc(0,0,r,0,X2)}},A_e={draw(t,e){const r=co(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Zz=co(1/3),h_e=Zz*2,f_e={draw(t,e){const r=co(e/h_e),n=r*Zz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},m_e={draw(t,e){const r=co(e),n=-r/2;t.rect(n,n,r,r)}},p_e=.8908130915292852,eV=Tw(Ow/10)/Tw(7*Ow/10),g_e=Tw(X2/10)*eV,x_e=-Vz(X2/10)*eV,y_e={draw(t,e){const r=co(e*p_e),n=g_e*r,a=x_e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=X2*i/5,l=Vz(o),c=Tw(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},f5=co(3),v_e={draw(t,e){const r=-co(e/(f5*3));t.moveTo(0,r*2),t.lineTo(-f5*r,-r),t.lineTo(f5*r,-r),t.closePath()}},ti=-.5,ri=co(3)/2,CB=1/co(12),b_e=(CB/2+1)*3,w_e={draw(t,e){const r=co(e/b_e),n=r/2,a=r*CB,i=n,o=r*CB+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(ti*n-ri*a,ri*n+ti*a),t.lineTo(ti*i-ri*o,ri*i+ti*o),t.lineTo(ti*l-ri*c,ri*l+ti*c),t.lineTo(ti*n+ri*a,ti*a-ri*n),t.lineTo(ti*i+ri*o,ti*o-ri*i),t.lineTo(ti*l+ri*c,ti*c-ri*l),t.closePath()}};function j_e(t,e){let r=null,n=mk(a);t=typeof t=="function"?t:Er(t||gk),e=typeof e=="function"?e:Er(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Er(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Er(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Iw(){}function Dw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function tV(t){this._context=t}tV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function N_e(t){return new tV(t)}function rV(t){this._context=t}rV.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function __e(t){return new rV(t)}function nV(t){this._context=t}nV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Dw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function C_e(t){return new nV(t)}function sV(t){this._context=t}sV.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function B_e(t){return new sV(t)}function oL(t){return t<0?-1:1}function lL(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(oL(i)+oL(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function cL(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function m5(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function Lw(t){this._context=t}Lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m5(this,this._t0,cL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,m5(this,cL(this,r=lL(this,t,e)),r);break;default:m5(this,this._t0,r=lL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function aV(t){this._context=new iV(t)}(aV.prototype=Object.create(Lw.prototype)).point=function(t,e){Lw.prototype.point.call(this,e,t)};function iV(t){this._context=t}iV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function S_e(t){return new Lw(t)}function E_e(t){return new aV(t)}function oV(t){this._context=t}oV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=dL(t),a=dL(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dL(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function k_e(t){return new oV(t)}function J2(t,e){this._context=t,this._t=e}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function P_e(t){return new J2(t,.5)}function F_e(t){return new J2(t,0)}function T_e(t){return new J2(t,1)}function Sf(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function BB(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function O_e(t,e){return t[e]}function I_e(t){const e=[];return e.key=t,e}function D_e(){var t=Er([]),e=BB,r=Sf,n=O_e;function a(i){var o=Array.from(t.apply(this,arguments),I_e),l,c=o.length,d=-1,u;for(const A of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(A,o[l].key,d,i)]).data=A;for(l=0,u=pk(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Er(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Er(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?BB:typeof i=="function"?i:Er(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Sf,a):r},a}function L_e(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Sf(t,e)}}function M_e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Sf(t,e)}}function U_e(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],A=u[n][1]||0,h=u[n-1][1]||0,f=(A-h)/2,g=0;g<l;++g){var x=t[e[g]],m=x[n][1]||0,p=x[n-1][1]||0;f+=m-p}c+=A,d+=f*A}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Sf(t,e)}}function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}var R_e=["type","size","sizeType"];function SB(){return SB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SB.apply(this,arguments)}function uL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(r),!0).forEach(function(n){Q_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q_e(t,e,r){return e=$_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $_e(t){var e=H_e(t,"string");return N0(e)=="symbol"?e:e+""}function H_e(t,e){if(N0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_e(t,e){if(t==null)return{};var r=z_e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lV={symbolCircle:gk,symbolCross:A_e,symbolDiamond:f_e,symbolSquare:m_e,symbolStar:y_e,symbolTriangle:v_e,symbolWye:w_e},V_e=Math.PI/180,K_e=function(e){var r="symbol".concat(G2(e));return lV[r]||gk},W_e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*V_e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},G_e=function(e,r){lV["symbol".concat(G2(e))]=r},xk=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=q_e(e,R_e),d=AL(AL({},c),{},{type:n,size:i,sizeType:l}),u=function(){var m=K_e(n),p=j_e().type(m).size(W_e(i,l,n));return p()},A=d.className,h=d.cx,f=d.cy,g=_t(d,!0);return h===+h&&f===+f&&i===+i?we.createElement("path",SB({},g,{className:Rt("recharts-symbols",A),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};xk.registerSymbol=G_e;function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function EB(){return EB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EB.apply(this,arguments)}function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function X_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){_0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dV(n.key),n)}}function Z_e(t,e,r){return e&&J_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e5e(t,e,r){return e=Mw(e),t5e(t,cV()?Reflect.construct(e,r||[],Mw(t).constructor):e.apply(t,r))}function t5e(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r5e(t)}function r5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!t})()}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mw(t)}function n5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kB(t,e)}function kB(t,e){return kB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kB(t,e)}function _0(t,e,r){return e=dV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dV(t){var e=s5e(t,"string");return Ef(e)=="symbol"?e:e+""}function s5e(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ni=32,yk=function(t){function e(){return Y_e(this,e),e5e(this,e,arguments)}return n5e(e,t),Z_e(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ni/2,o=ni/6,l=ni/3,c=n.inactive?a:n.color;if(n.type==="plainline")return we.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ni,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return we.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ni,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return we.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-ni,"z"),className:"recharts-legend-icon"});if(we.isValidElement(n.legendIcon)){var d=X_e({},n);return delete d.legendIcon,we.cloneElement(n.legendIcon,d)}return we.createElement(xk,{fill:c,cx:i,cy:i,size:ni,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:ni,height:ni},A={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,g){var x=f.formatter||c,m=Rt(_0(_0({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var p=Et(f.value)?null:f.value;ro(!Et(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=f.inactive?d:f.color;return we.createElement("li",EB({className:m,style:A,key:"legend-item-".concat(g)},Xu(n.props,f,g)),we.createElement(vB,{width:o,height:o,viewBox:u,style:h},n.renderIcon(f)),we.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(p,f,g):p))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return we.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(P.PureComponent);_0(yk,"displayName","Legend");_0(yk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var a5e=D2;function i5e(){this.__data__=new a5e,this.size=0}var o5e=i5e;function l5e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var c5e=l5e;function d5e(t){return this.__data__.get(t)}var u5e=d5e;function A5e(t){return this.__data__.has(t)}var h5e=A5e,f5e=D2,m5e=ik,p5e=ok,g5e=200;function x5e(t,e){var r=this.__data__;if(r instanceof f5e){var n=r.__data__;if(!m5e||n.length<g5e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new p5e(n)}return r.set(t,e),this.size=r.size,this}var y5e=x5e,v5e=D2,b5e=o5e,w5e=c5e,j5e=u5e,N5e=h5e,_5e=y5e;function fm(t){var e=this.__data__=new v5e(t);this.size=e.size}fm.prototype.clear=b5e;fm.prototype.delete=w5e;fm.prototype.get=j5e;fm.prototype.has=N5e;fm.prototype.set=_5e;var uV=fm,C5e="__lodash_hash_undefined__";function B5e(t){return this.__data__.set(t,C5e),this}var S5e=B5e;function E5e(t){return this.__data__.has(t)}var k5e=E5e,P5e=ok,F5e=S5e,T5e=k5e;function Uw(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new P5e;++e<r;)this.add(t[e])}Uw.prototype.add=Uw.prototype.push=F5e;Uw.prototype.has=T5e;var AV=Uw;function O5e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var hV=O5e;function I5e(t,e){return t.has(e)}var fV=I5e,D5e=AV,L5e=hV,M5e=fV,U5e=1,R5e=2;function Q5e(t,e,r,n,a,i){var o=r&U5e,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(t),u=i.get(e);if(d&&u)return d==e&&u==t;var A=-1,h=!0,f=r&R5e?new D5e:void 0;for(i.set(t,e),i.set(e,t);++A<l;){var g=t[A],x=e[A];if(n)var m=o?n(x,g,A,e,t,i):n(g,x,A,t,e,i);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!L5e(e,function(p,y){if(!M5e(f,y)&&(g===p||a(g,p,r,n,i)))return f.push(y)})){h=!1;break}}else if(!(g===x||a(g,x,r,n,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var mV=Q5e,$5e=zo,H5e=$5e.Uint8Array,q5e=H5e;function z5e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var V5e=z5e;function K5e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var vk=K5e,fL=jx,mL=q5e,W5e=ak,G5e=mV,X5e=V5e,Y5e=vk,J5e=1,Z5e=2,eCe="[object Boolean]",tCe="[object Date]",rCe="[object Error]",nCe="[object Map]",sCe="[object Number]",aCe="[object RegExp]",iCe="[object Set]",oCe="[object String]",lCe="[object Symbol]",cCe="[object ArrayBuffer]",dCe="[object DataView]",pL=fL?fL.prototype:void 0,p5=pL?pL.valueOf:void 0;function uCe(t,e,r,n,a,i,o){switch(r){case dCe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cCe:return!(t.byteLength!=e.byteLength||!i(new mL(t),new mL(e)));case eCe:case tCe:case sCe:return W5e(+t,+e);case rCe:return t.name==e.name&&t.message==e.message;case aCe:case oCe:return t==e+"";case nCe:var l=X5e;case iCe:var c=n&J5e;if(l||(l=Y5e),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;n|=Z5e,o.set(t,e);var u=G5e(l(t),l(e),n,a,i,o);return o.delete(t),u;case lCe:if(p5)return p5.call(t)==p5.call(e)}return!1}var ACe=uCe;function hCe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var pV=hCe,fCe=pV,mCe=Na;function pCe(t,e,r){var n=e(t);return mCe(t)?n:fCe(n,r(t))}var gCe=pCe;function xCe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}var yCe=xCe;function vCe(){return[]}var bCe=vCe,wCe=yCe,jCe=bCe,NCe=Object.prototype,_Ce=NCe.propertyIsEnumerable,gL=Object.getOwnPropertySymbols,CCe=gL?function(t){return t==null?[]:(t=Object(t),wCe(gL(t),function(e){return _Ce.call(t,e)}))}:jCe,BCe=CCe;function SCe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var ECe=SCe,kCe=Xl,PCe=Yl,FCe="[object Arguments]";function TCe(t){return PCe(t)&&kCe(t)==FCe}var OCe=TCe,xL=OCe,ICe=Yl,gV=Object.prototype,DCe=gV.hasOwnProperty,LCe=gV.propertyIsEnumerable,MCe=xL(function(){return arguments}())?xL:function(t){return ICe(t)&&DCe.call(t,"callee")&&!LCe.call(t,"callee")},bk=MCe,Rw={exports:{}};function UCe(){return!1}var RCe=UCe;Rw.exports;(function(t,e){var r=zo,n=RCe,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Rw,Rw.exports);var xV=Rw.exports,QCe=9007199254740991,$Ce=/^(?:0|[1-9]\d*)$/;function HCe(t,e){var r=typeof t;return e=e??QCe,!!e&&(r=="number"||r!="symbol"&&$Ce.test(t))&&t>-1&&t%1==0&&t<e}var wk=HCe,qCe=9007199254740991;function zCe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qCe}var jk=zCe,VCe=Xl,KCe=jk,WCe=Yl,GCe="[object Arguments]",XCe="[object Array]",YCe="[object Boolean]",JCe="[object Date]",ZCe="[object Error]",e4e="[object Function]",t4e="[object Map]",r4e="[object Number]",n4e="[object Object]",s4e="[object RegExp]",a4e="[object Set]",i4e="[object String]",o4e="[object WeakMap]",l4e="[object ArrayBuffer]",c4e="[object DataView]",d4e="[object Float32Array]",u4e="[object Float64Array]",A4e="[object Int8Array]",h4e="[object Int16Array]",f4e="[object Int32Array]",m4e="[object Uint8Array]",p4e="[object Uint8ClampedArray]",g4e="[object Uint16Array]",x4e="[object Uint32Array]",Ir={};Ir[d4e]=Ir[u4e]=Ir[A4e]=Ir[h4e]=Ir[f4e]=Ir[m4e]=Ir[p4e]=Ir[g4e]=Ir[x4e]=!0;Ir[GCe]=Ir[XCe]=Ir[l4e]=Ir[YCe]=Ir[c4e]=Ir[JCe]=Ir[ZCe]=Ir[e4e]=Ir[t4e]=Ir[r4e]=Ir[n4e]=Ir[s4e]=Ir[a4e]=Ir[i4e]=Ir[o4e]=!1;function y4e(t){return WCe(t)&&KCe(t.length)&&!!Ir[VCe(t)]}var v4e=y4e;function b4e(t){return function(e){return t(e)}}var yV=b4e,Qw={exports:{}};Qw.exports;(function(t,e){var r=Bz,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Qw,Qw.exports);var w4e=Qw.exports,j4e=v4e,N4e=yV,yL=w4e,vL=yL&&yL.isTypedArray,_4e=vL?N4e(vL):j4e,vV=_4e,C4e=ECe,B4e=bk,S4e=Na,E4e=xV,k4e=wk,P4e=vV,F4e=Object.prototype,T4e=F4e.hasOwnProperty;function O4e(t,e){var r=S4e(t),n=!r&&B4e(t),a=!r&&!n&&E4e(t),i=!r&&!n&&!a&&P4e(t),o=r||n||a||i,l=o?C4e(t.length,String):[],c=l.length;for(var d in t)(e||T4e.call(t,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||k4e(d,c)))&&l.push(d);return l}var I4e=O4e,D4e=Object.prototype;function L4e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||D4e;return t===r}var M4e=L4e;function U4e(t,e){return function(r){return t(e(r))}}var bV=U4e,R4e=bV,Q4e=R4e(Object.keys,Object),$4e=Q4e,H4e=M4e,q4e=$4e,z4e=Object.prototype,V4e=z4e.hasOwnProperty;function K4e(t){if(!H4e(t))return q4e(t);var e=[];for(var r in Object(t))V4e.call(t,r)&&r!="constructor"&&e.push(r);return e}var W4e=K4e,G4e=sk,X4e=jk;function Y4e(t){return t!=null&&X4e(t.length)&&!G4e(t)}var Cx=Y4e,J4e=I4e,Z4e=W4e,eBe=Cx;function tBe(t){return eBe(t)?J4e(t):Z4e(t)}var Z2=tBe,rBe=gCe,nBe=BCe,sBe=Z2;function aBe(t){return rBe(t,sBe,nBe)}var iBe=aBe,bL=iBe,oBe=1,lBe=Object.prototype,cBe=lBe.hasOwnProperty;function dBe(t,e,r,n,a,i){var o=r&oBe,l=bL(t),c=l.length,d=bL(e),u=d.length;if(c!=u&&!o)return!1;for(var A=c;A--;){var h=l[A];if(!(o?h in e:cBe.call(e,h)))return!1}var f=i.get(t),g=i.get(e);if(f&&g)return f==e&&g==t;var x=!0;i.set(t,e),i.set(e,t);for(var m=o;++A<c;){h=l[A];var p=t[h],y=e[h];if(n)var b=o?n(y,p,h,e,t,i):n(p,y,h,t,e,i);if(!(b===void 0?p===y||a(p,y,r,n,i):b)){x=!1;break}m||(m=h=="constructor")}if(x&&!m){var N=t.constructor,j=e.constructor;N!=j&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(x=!1)}return i.delete(t),i.delete(e),x}var uBe=dBe,ABe=dA,hBe=zo,fBe=ABe(hBe,"DataView"),mBe=fBe,pBe=dA,gBe=zo,xBe=pBe(gBe,"Promise"),yBe=xBe,vBe=dA,bBe=zo,wBe=vBe(bBe,"Set"),wV=wBe,jBe=dA,NBe=zo,_Be=jBe(NBe,"WeakMap"),CBe=_Be,PB=mBe,FB=ik,TB=yBe,OB=wV,IB=CBe,jV=Xl,mm=Ez,wL="[object Map]",BBe="[object Object]",jL="[object Promise]",NL="[object Set]",_L="[object WeakMap]",CL="[object DataView]",SBe=mm(PB),EBe=mm(FB),kBe=mm(TB),PBe=mm(OB),FBe=mm(IB),tu=jV;(PB&&tu(new PB(new ArrayBuffer(1)))!=CL||FB&&tu(new FB)!=wL||TB&&tu(TB.resolve())!=jL||OB&&tu(new OB)!=NL||IB&&tu(new IB)!=_L)&&(tu=function(t){var e=jV(t),r=e==BBe?t.constructor:void 0,n=r?mm(r):"";if(n)switch(n){case SBe:return CL;case EBe:return wL;case kBe:return jL;case PBe:return NL;case FBe:return _L}return e});var TBe=tu,g5=uV,OBe=mV,IBe=ACe,DBe=uBe,BL=TBe,SL=Na,EL=xV,LBe=vV,MBe=1,kL="[object Arguments]",PL="[object Array]",Dv="[object Object]",UBe=Object.prototype,FL=UBe.hasOwnProperty;function RBe(t,e,r,n,a,i){var o=SL(t),l=SL(e),c=o?PL:BL(t),d=l?PL:BL(e);c=c==kL?Dv:c,d=d==kL?Dv:d;var u=c==Dv,A=d==Dv,h=c==d;if(h&&EL(t)){if(!EL(e))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new g5),o||LBe(t)?OBe(t,e,r,n,a,i):IBe(t,e,c,r,n,a,i);if(!(r&MBe)){var f=u&&FL.call(t,"__wrapped__"),g=A&&FL.call(e,"__wrapped__");if(f||g){var x=f?t.value():t,m=g?e.value():e;return i||(i=new g5),a(x,m,r,n,i)}}return h?(i||(i=new g5),DBe(t,e,r,n,a,i)):!1}var QBe=RBe,$Be=QBe,TL=Yl;function NV(t,e,r,n,a){return t===e?!0:t==null||e==null||!TL(t)&&!TL(e)?t!==t&&e!==e:$Be(t,e,r,n,NV,a)}var Nk=NV,HBe=uV,qBe=Nk,zBe=1,VBe=2;function KBe(t,e,r,n){var a=r.length,i=a,o=!n;if(t==null)return!i;for(t=Object(t);a--;){var l=r[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<i;){l=r[a];var c=l[0],d=t[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in t))return!1}else{var A=new HBe;if(n)var h=n(d,u,c,t,e,A);if(!(h===void 0?qBe(u,d,zBe|VBe,n,A):h))return!1}}return!0}var WBe=KBe,GBe=bd;function XBe(t){return t===t&&!GBe(t)}var _V=XBe,YBe=_V,JBe=Z2;function ZBe(t){for(var e=JBe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,YBe(a)]}return e}var eSe=ZBe;function tSe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var CV=tSe,rSe=WBe,nSe=eSe,sSe=CV;function aSe(t){var e=nSe(t);return e.length==1&&e[0][2]?sSe(e[0][0],e[0][1]):function(r){return r===t||rSe(r,t,e)}}var iSe=aSe;function oSe(t,e){return t!=null&&e in Object(t)}var lSe=oSe,cSe=Oz,dSe=bk,uSe=Na,ASe=wk,hSe=jk,fSe=M2;function mSe(t,e,r){e=cSe(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var o=fSe(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&hSe(a)&&ASe(o,a)&&(uSe(t)||dSe(t)))}var pSe=mSe,gSe=lSe,xSe=pSe;function ySe(t,e){return t!=null&&xSe(t,e,gSe)}var vSe=ySe,bSe=Nk,wSe=Iz,jSe=vSe,NSe=nk,_Se=_V,CSe=CV,BSe=M2,SSe=1,ESe=2;function kSe(t,e){return NSe(t)&&_Se(e)?CSe(BSe(t),e):function(r){var n=wSe(r,t);return n===void 0&&n===e?jSe(r,t):bSe(e,n,SSe|ESe)}}var PSe=kSe;function FSe(t){return t}var pm=FSe;function TSe(t){return function(e){return e==null?void 0:e[t]}}var OSe=TSe,ISe=dk;function DSe(t){return function(e){return ISe(e,t)}}var LSe=DSe,MSe=OSe,USe=LSe,RSe=nk,QSe=M2;function $Se(t){return RSe(t)?MSe(QSe(t)):USe(t)}var HSe=$Se,qSe=iSe,zSe=PSe,VSe=pm,KSe=Na,WSe=HSe;function GSe(t){return typeof t=="function"?t:t==null?VSe:typeof t=="object"?KSe(t)?zSe(t[0],t[1]):qSe(t):WSe(t)}var Vo=GSe;function XSe(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var BV=XSe;function YSe(t){return t!==t}var JSe=YSe;function ZSe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var e3e=ZSe,t3e=BV,r3e=JSe,n3e=e3e;function s3e(t,e,r){return e===e?n3e(t,e,r):t3e(t,r3e,r)}var a3e=s3e,i3e=a3e;function o3e(t,e){var r=t==null?0:t.length;return!!r&&i3e(t,e,0)>-1}var l3e=o3e;function c3e(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var d3e=c3e;function u3e(){}var A3e=u3e,x5=wV,h3e=A3e,f3e=vk,m3e=1/0,p3e=x5&&1/f3e(new x5([,-0]))[1]==m3e?function(t){return new x5(t)}:h3e,g3e=p3e,x3e=AV,y3e=l3e,v3e=d3e,b3e=fV,w3e=g3e,j3e=vk,N3e=200;function _3e(t,e,r){var n=-1,a=y3e,i=t.length,o=!0,l=[],c=l;if(r)o=!1,a=v3e;else if(i>=N3e){var d=e?null:w3e(t);if(d)return j3e(d);o=!1,a=b3e,c=new x3e}else c=e?[]:l;e:for(;++n<i;){var u=t[n],A=e?e(u):u;if(u=r||u!==0?u:0,o&&A===A){for(var h=c.length;h--;)if(c[h]===A)continue e;e&&c.push(A),l.push(u)}else a(c,A,r)||(c!==l&&c.push(A),l.push(u))}return l}var C3e=_3e,B3e=Vo,S3e=C3e;function E3e(t,e){return t&&t.length?S3e(t,B3e(e)):[]}var k3e=E3e;const OL=pr(k3e);function SV(t,e,r){return e===!0?OL(t,r):Et(e)?OL(t,e):t}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var P3e=["ref"];function IL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(r),!0).forEach(function(n){ej(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kV(n.key),n)}}function T3e(t,e,r){return e&&DL(t.prototype,e),r&&DL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O3e(t,e,r){return e=$w(e),I3e(t,EV()?Reflect.construct(e,r||[],$w(t).constructor):e.apply(t,r))}function I3e(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D3e(t)}function D3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$w(t)}function L3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DB(t,e)}function DB(t,e){return DB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DB(t,e)}function ej(t,e,r){return e=kV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kV(t){var e=M3e(t,"string");return kf(e)=="symbol"?e:e+""}function M3e(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U3e(t,e){if(t==null)return{};var r=R3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q3e(t){return t.value}function $3e(t,e){if(we.isValidElement(t))return we.cloneElement(t,e);if(typeof t=="function")return we.createElement(t,e);e.ref;var r=U3e(e,P3e);return we.createElement(yk,r)}var LL=1,Iu=function(t){function e(){var r;F3e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=O3e(this,e,[].concat(a)),ej(r,"lastBoundingBox",{width:-1,height:-1}),r}return L3e(e,t),T3e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>LL||Math.abs(a.height-this.lastBoundingBox.height)>LL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ll({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,A,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();A={left:((d||0)-f.width)/2}}else A=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ll(ll({},A),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,A=ll(ll({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return we.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:function(f){n.wrapperNode=f}},$3e(i,ll(ll({},this.props),{},{payload:SV(u,d,Q3e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ll(ll({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ze(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(P.PureComponent);ej(Iu,"displayName","Legend");ej(Iu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ML=jx,H3e=bk,q3e=Na,UL=ML?ML.isConcatSpreadable:void 0;function z3e(t){return q3e(t)||H3e(t)||!!(UL&&t&&t[UL])}var V3e=z3e,K3e=pV,W3e=V3e;function PV(t,e,r,n,a){var i=-1,o=t.length;for(r||(r=W3e),a||(a=[]);++i<o;){var l=t[i];e>0&&r(l)?e>1?PV(l,e-1,r,n,a):K3e(a,l):n||(a[a.length]=l)}return a}var FV=PV;function G3e(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++a];if(r(i[c],c,i)===!1)break}return e}}var X3e=G3e,Y3e=X3e,J3e=Y3e(),Z3e=J3e,eEe=Z3e,tEe=Z2;function rEe(t,e){return t&&eEe(t,e,tEe)}var TV=rEe,nEe=Cx;function sEe(t,e){return function(r,n){if(r==null)return r;if(!nEe(r))return t(r,n);for(var a=r.length,i=e?a:-1,o=Object(r);(e?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var aEe=sEe,iEe=TV,oEe=aEe,lEe=oEe(iEe),_k=lEe,cEe=_k,dEe=Cx;function uEe(t,e){var r=-1,n=dEe(t)?Array(t.length):[];return cEe(t,function(a,i,o){n[++r]=e(a,i,o)}),n}var OV=uEe;function AEe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var hEe=AEe,RL=cm;function fEe(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=RL(t),o=e!==void 0,l=e===null,c=e===e,d=RL(e);if(!l&&!d&&!i&&t>e||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!d&&t<e||d&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var mEe=fEe,pEe=mEe;function gEe(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,o=a.length,l=r.length;++n<o;){var c=pEe(a[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return t.index-e.index}var xEe=gEe,y5=ck,yEe=dk,vEe=Vo,bEe=OV,wEe=hEe,jEe=yV,NEe=xEe,_Ee=pm,CEe=Na;function BEe(t,e,r){e.length?e=y5(e,function(i){return CEe(i)?function(o){return yEe(o,i.length===1?i[0]:i)}:i}):e=[_Ee];var n=-1;e=y5(e,jEe(vEe));var a=bEe(t,function(i,o,l){var c=y5(e,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return wEe(a,function(i,o){return NEe(i,o,r)})}var SEe=BEe;function EEe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var kEe=EEe,PEe=kEe,QL=Math.max;function FEe(t,e,r){return e=QL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=QL(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(o),PEe(t,this,l)}}var TEe=FEe;function OEe(t){return function(){return t}}var IEe=OEe,DEe=dA,LEe=function(){try{var t=DEe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),IV=LEe,MEe=IEe,$L=IV,UEe=pm,REe=$L?function(t,e){return $L(t,"toString",{configurable:!0,enumerable:!1,value:MEe(e),writable:!0})}:UEe,QEe=REe,$Ee=800,HEe=16,qEe=Date.now;function zEe(t){var e=0,r=0;return function(){var n=qEe(),a=HEe-(n-r);if(r=n,a>0){if(++e>=$Ee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var VEe=zEe,KEe=QEe,WEe=VEe,GEe=WEe(KEe),XEe=GEe,YEe=pm,JEe=TEe,ZEe=XEe;function eke(t,e){return ZEe(JEe(t,e,YEe),t+"")}var tke=eke,rke=ak,nke=Cx,ske=wk,ake=bd;function ike(t,e,r){if(!ake(r))return!1;var n=typeof e;return(n=="number"?nke(r)&&ske(e,r.length):n=="string"&&e in r)?rke(r[e],t):!1}var tj=ike,oke=FV,lke=SEe,cke=tke,HL=tj,dke=cke(function(t,e){if(t==null)return[];var r=e.length;return r>1&&HL(t,e[0],e[1])?e=[]:r>2&&HL(e[0],e[1],e[2])&&(e=[e[0]]),lke(t,oke(e,1),[])}),uke=dke;const Ck=pr(uke);function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function LB(){return LB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LB.apply(this,arguments)}function Ake(t,e){return pke(t)||mke(t,e)||fke(t,e)||hke()}function hke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fke(t,e){if(t){if(typeof t=="string")return qL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qL(t,e)}}function qL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function pke(t){if(Array.isArray(t))return t}function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function v5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){gke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gke(t,e,r){return e=xke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xke(t){var e=yke(t,"string");return C0(e)=="symbol"?e:e+""}function yke(t,e){if(C0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vke(t){return Array.isArray(t)&&Vn(t[0])&&Vn(t[1])?t.join(" ~ "):t}var bke=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,A=e.formatter,h=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,x=e.label,m=e.labelFormatter,p=e.accessibilityLayer,y=p===void 0?!1:p,b=function(){if(u&&u.length){var E={padding:0,margin:0},D=(h?Ck(u,h):u).map(function(O,L){if(O.type==="none")return null;var U=v5({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),M=O.formatter||A||vke,Q=O.value,q=O.name,J=Q,ee=q;if(M&&J!=null&&ee!=null){var $=M(Q,q,O,L,u);if(Array.isArray($)){var R=Ake($,2);J=R[0],ee=R[1]}else J=$}return we.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:U},Vn(ee)?we.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Vn(ee)?we.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,we.createElement("span",{className:"recharts-tooltip-item-value"},J),we.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return we.createElement("ul",{className:"recharts-tooltip-item-list",style:E},D)}return null},N=v5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=v5({margin:0},d),C=!$t(x),k=C?x:"",_=Rt("recharts-default-tooltip",f),B=Rt("recharts-tooltip-label",g);C&&m&&u!==void 0&&u!==null&&(k=m(x,u));var T=y?{role:"status","aria-live":"assertive"}:{};return we.createElement("div",LB({className:_,style:N},T),we.createElement("p",{className:B,style:j},we.isValidElement(k)?k:"".concat(k)),b())};function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function Lv(t,e,r){return e=wke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wke(t){var e=jke(t,"string");return B0(e)=="symbol"?e:e+""}function jke(t,e){if(B0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bp="recharts-tooltip-wrapper",Nke={visibility:"hidden"};function _ke(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Rt(bp,Lv(Lv(Lv(Lv({},"".concat(bp,"-right"),Ze(r)&&e&&Ze(e.x)&&r>=e.x),"".concat(bp,"-left"),Ze(r)&&e&&Ze(e.x)&&r<e.x),"".concat(bp,"-bottom"),Ze(n)&&e&&Ze(e.y)&&n>=e.y),"".concat(bp,"-top"),Ze(n)&&e&&Ze(e.y)&&n<e.y))}function VL(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&Ze(i[n]))return i[n];var u=r[n]-l-a,A=r[n]+a;if(e[n])return o[n]?u:A;if(o[n]){var h=u,f=c[n];return h<f?Math.max(A,c[n]):Math.max(u,c[n])}var g=A+l,x=c[n]+d;return g>x?Math.max(u,c[n]):Math.max(A,c[n])}function Cke(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Bke(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,A;return o.height>0&&o.width>0&&r?(u=VL({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),A=VL({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Cke({translateX:u,translateY:A,useTranslate3d:l})):d=Nke,{cssProperties:d,cssClasses:_ke({translateX:u,translateY:A,coordinate:r})}}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function WL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){UB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ske(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LV(n.key),n)}}function kke(t,e,r){return e&&Eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pke(t,e,r){return e=Hw(e),Fke(t,DV()?Reflect.construct(e,r||[],Hw(t).constructor):e.apply(t,r))}function Fke(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tke(t)}function Tke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(t)}function Oke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MB(t,e)}function MB(t,e){return MB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MB(t,e)}function UB(t,e,r){return e=LV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LV(t){var e=Ike(t,"string");return Pf(e)=="symbol"?e:e+""}function Ike(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GL=1,Dke=function(t){function e(){var r;Ske(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Pke(this,e,[].concat(a)),UB(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),UB(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return Oke(e,t),kke(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>GL||Math.abs(n.height-this.state.lastBoundingBox.height)>GL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,A=a.hasPayload,h=a.isAnimationActive,f=a.offset,g=a.position,x=a.reverseDirection,m=a.useTranslate3d,p=a.viewBox,y=a.wrapperStyle,b=Bke({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),N=b.cssClasses,j=b.cssProperties,C=WL(WL({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&A?"visible":"hidden",position:"absolute",top:0,left:0},y);return we.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(_){n.wrapperNode=_}},d)}}])}(P.PureComponent),Lke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gm={isSsr:Lke()};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){Bk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UV(n.key),n)}}function Rke(t,e,r){return e&&Uke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qke(t,e,r){return e=qw(e),$ke(t,MV()?Reflect.construct(e,r||[],qw(t).constructor):e.apply(t,r))}function $ke(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hke(t)}function Hke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MV=function(){return!!t})()}function qw(t){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qw(t)}function qke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RB(t,e)}function RB(t,e){return RB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RB(t,e)}function Bk(t,e,r){return e=UV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UV(t){var e=zke(t,"string");return Ff(e)=="symbol"?e:e+""}function zke(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vke(t){return t.dataKey}function Kke(t,e){return we.isValidElement(t)?we.cloneElement(t,e):typeof t=="function"?we.createElement(t,e):we.createElement(bke,e)}var ii=function(t){function e(){return Mke(this,e),Qke(this,e,arguments)}return qke(e,t),Rke(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,A=a.filterNull,h=a.isAnimationActive,f=a.offset,g=a.payload,x=a.payloadUniqBy,m=a.position,p=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,N=a.wrapperStyle,j=g??[];A&&j.length&&(j=SV(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),x,Vke));var C=j.length>0;return we.createElement(Dke,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:C,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:N},Kke(d,YL(YL({},this.props),{},{payload:j})))}}])}(P.PureComponent);Bk(ii,"displayName","Tooltip");Bk(ii,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Wke=zo,Gke=function(){return Wke.Date.now()},Xke=Gke,Yke=/\s/;function Jke(t){for(var e=t.length;e--&&Yke.test(t.charAt(e)););return e}var Zke=Jke,e6e=Zke,t6e=/^\s+/;function r6e(t){return t&&t.slice(0,e6e(t)+1).replace(t6e,"")}var n6e=r6e,s6e=n6e,JL=bd,a6e=cm,ZL=NaN,i6e=/^[-+]0x[0-9a-f]+$/i,o6e=/^0b[01]+$/i,l6e=/^0o[0-7]+$/i,c6e=parseInt;function d6e(t){if(typeof t=="number")return t;if(a6e(t))return ZL;if(JL(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=JL(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=s6e(t);var r=o6e.test(t);return r||l6e.test(t)?c6e(t.slice(2),r?2:8):i6e.test(t)?ZL:+t}var RV=d6e,u6e=bd,b5=Xke,eM=RV,A6e="Expected a function",h6e=Math.max,f6e=Math.min;function m6e(t,e,r){var n,a,i,o,l,c,d=0,u=!1,A=!1,h=!0;if(typeof t!="function")throw new TypeError(A6e);e=eM(e)||0,u6e(r)&&(u=!!r.leading,A="maxWait"in r,i=A?h6e(eM(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function f(C){var k=n,_=a;return n=a=void 0,d=C,o=t.apply(_,k),o}function g(C){return d=C,l=setTimeout(p,e),u?f(C):o}function x(C){var k=C-c,_=C-d,B=e-k;return A?f6e(B,i-_):B}function m(C){var k=C-c,_=C-d;return c===void 0||k>=e||k<0||A&&_>=i}function p(){var C=b5();if(m(C))return y(C);l=setTimeout(p,x(C))}function y(C){return l=void 0,h&&n?f(C):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),d=0,n=c=a=l=void 0}function N(){return l===void 0?o:y(b5())}function j(){var C=b5(),k=m(C);if(n=arguments,a=this,c=C,k){if(l===void 0)return g(c);if(A)return clearTimeout(l),l=setTimeout(p,e),f(c)}return l===void 0&&(l=setTimeout(p,e)),o}return j.cancel=b,j.flush=N,j}var p6e=m6e,g6e=p6e,x6e=bd,y6e="Expected a function";function v6e(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(y6e);return x6e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),g6e(t,e,{leading:n,maxWait:e,trailing:a})}var b6e=v6e;const QV=pr(b6e);function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function tM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(r),!0).forEach(function(n){w6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w6e(t,e,r){return e=j6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j6e(t){var e=N6e(t,"string");return S0(e)=="symbol"?e:e+""}function N6e(t,e){if(S0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _6e(t,e){return E6e(t)||S6e(t,e)||B6e(t,e)||C6e()}function C6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6e(t,e){if(t){if(typeof t=="string")return rM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(t,e)}}function rM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function E6e(t){if(Array.isArray(t))return t}var Sk=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,A=t.minHeight,h=t.maxHeight,f=t.children,g=t.debounce,x=g===void 0?0:g,m=t.id,p=t.className,y=t.onResize,b=t.style,N=b===void 0?{}:b,j=P.useRef(null),C=P.useRef();C.current=y,P.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=P.useState({containerWidth:a.width,containerHeight:a.height}),_=_6e(k,2),B=_[0],T=_[1],w=P.useCallback(function(D,O){T(function(L){var U=Math.round(D),M=Math.round(O);return L.containerWidth===U&&L.containerHeight===M?L:{containerWidth:U,containerHeight:M}})},[]);P.useEffect(function(){var D=function(q){var J,ee=q[0].contentRect,$=ee.width,R=ee.height;w($,R),(J=C.current)===null||J===void 0||J.call(C,$,R)};x>0&&(D=QV(D,x,{trailing:!0,leading:!1}));var O=new ResizeObserver(D),L=j.current.getBoundingClientRect(),U=L.width,M=L.height;return w(U,M),O.observe(j.current),function(){O.disconnect()}},[w,x]);var E=P.useMemo(function(){var D=B.containerWidth,O=B.containerHeight;if(D<0||O<0)return null;ro(yu(o)||yu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ro(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=yu(o)?D:o,U=yu(c)?O:c;r&&r>0&&(L?U=L/r:U&&(L=U*r),h&&U>h&&(U=h)),ro(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,o,c,u,A,r);var M=!Array.isArray(f)&&El(f.type).endsWith("Chart");return we.Children.map(f,function(Q){return we.isValidElement(Q)?P.cloneElement(Q,Mv({width:L,height:U},M?{style:Mv({height:"100%",width:"100%",maxHeight:U,maxWidth:L},Q.props.style)}:{})):Q})},[r,f,c,h,A,u,B,o]);return we.createElement("div",{id:m?"".concat(m):void 0,className:Rt("recharts-responsive-container",p),style:Mv(Mv({},N),{},{width:o,height:c,minWidth:u,minHeight:A,maxHeight:h}),ref:j},E)}),Bx=function(e){return null};Bx.displayName="Cell";function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}function nM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(r),!0).forEach(function(n){k6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k6e(t,e,r){return e=P6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P6e(t){var e=F6e(t,"string");return E0(e)=="symbol"?e:e+""}function F6e(t,e){if(E0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ih={widthCache:{},cacheCount:0},T6e=2e3,O6e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sM="recharts_measurement_span";function I6e(t){var e=QB({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Sg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gm.isSsr)return{width:0,height:0};var n=I6e(r),a=JSON.stringify({text:e,copyStyle:n});if(ih.widthCache[a])return ih.widthCache[a];try{var i=document.getElementById(sM);i||(i=document.createElement("span"),i.setAttribute("id",sM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=QB(QB({},O6e),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ih.widthCache[a]=c,++ih.cacheCount>T6e&&(ih.cacheCount=0,ih.widthCache={}),c}catch{return{width:0,height:0}}},D6e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function zw(t,e){return R6e(t)||U6e(t,e)||M6e(t,e)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M6e(t,e){if(t){if(typeof t=="string")return aM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aM(t,e)}}function aM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function R6e(t){if(Array.isArray(t))return t}function Q6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H6e(n.key),n)}}function $6e(t,e,r){return e&&iM(t.prototype,e),r&&iM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H6e(t){var e=q6e(t,"string");return k0(e)=="symbol"?e:e+""}function q6e(t,e){if(k0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(k0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,V6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$V={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},K6e=Object.keys($V),Lh="NaN";function W6e(t,e){return t*$V[e]}var Uv=function(){function t(e,r){Q6e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!z6e.test(r)&&(this.num=NaN,this.unit=""),K6e.includes(r)&&(this.num=W6e(e,r),this.unit="px")}return $6e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=V6e.exec(r))!==null&&n!==void 0?n:[],i=zw(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function HV(t){if(t.includes(Lh))return Lh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=oM.exec(e))!==null&&r!==void 0?r:[],a=zw(n,4),i=a[1],o=a[2],l=a[3],c=Uv.parse(i??""),d=Uv.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Lh;e=e.replace(oM,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var A,h=(A=lM.exec(e))!==null&&A!==void 0?A:[],f=zw(h,4),g=f[1],x=f[2],m=f[3],p=Uv.parse(g??""),y=Uv.parse(m??""),b=x==="+"?p.add(y):p.subtract(y);if(b.isNaN())return Lh;e=e.replace(lM,b.toString())}return e}var cM=/\(([^()]*)\)/;function G6e(t){for(var e=t;e.includes("(");){var r=cM.exec(e),n=zw(r,2),a=n[1];e=e.replace(cM,HV(a))}return e}function X6e(t){var e=t.replace(/\s+/g,"");return e=G6e(e),e=HV(e),e}function Y6e(t){try{return X6e(t)}catch{return Lh}}function w5(t){var e=Y6e(t.slice(5,-1));return e===Lh?"":e}var J6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Z6e=["dx","dy","angle","className","breakAll"];function $B(){return $B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$B.apply(this,arguments)}function dM(t,e){if(t==null)return{};var r=ePe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ePe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uM(t,e){return sPe(t)||nPe(t,e)||rPe(t,e)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rPe(t,e){if(t){if(typeof t=="string")return AM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(t,e)}}function AM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function sPe(t){if(Array.isArray(t))return t}var qV=/[ \f\n\r\t\v\u2028\u2029]+/,zV=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];$t(r)||(n?i=r.toString().split(""):i=r.toString().split(qV));var o=i.map(function(c){return{word:c,width:Sg(c,a).width}}),l=n?0:Sg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aPe=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=Ze(o),A=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(U,M){var Q=M.word,q=M.width,J=U[U.length-1];if(J&&(a==null||i||J.width+q+n<Number(a)))J.words.push(Q),J.width+=q+n;else{var ee={words:[Q],width:q};U.push(ee)}return U},[])},f=h(r),g=function(L){return L.reduce(function(U,M){return U.width>M.width?U:M})};if(!u)return f;for(var x="",m=function(L){var U=A.slice(0,L),M=zV({breakAll:d,style:c,children:U+x}).wordsWithComputedWidth,Q=h(M),q=Q.length>o||g(Q).width>Number(a);return[q,Q]},p=0,y=A.length-1,b=0,N;p<=y&&b<=A.length-1;){var j=Math.floor((p+y)/2),C=j-1,k=m(C),_=uM(k,2),B=_[0],T=_[1],w=m(j),E=uM(w,1),D=E[0];if(!B&&!D&&(p=j+1),B&&D&&(y=j-1),!B&&D){N=T;break}b++}return N||f},hM=function(e){var r=$t(e)?[]:e.toString().split(qV);return[{words:r}]},iPe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!gm.isSsr){var c,d,u=zV({breakAll:o,children:a,style:i});if(u){var A=u.wordsWithComputedWidth,h=u.spaceWidth;c=A,d=h}else return hM(a);return aPe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,n)}return hM(a)},fM="#808080",Yu=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,A=u===void 0?!1:u,h=e.textAnchor,f=h===void 0?"start":h,g=e.verticalAnchor,x=g===void 0?"end":g,m=e.fill,p=m===void 0?fM:m,y=dM(e,J6e),b=P.useMemo(function(){return iPe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:A,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,A,y.style,y.width]),N=y.dx,j=y.dy,C=y.angle,k=y.className,_=y.breakAll,B=dM(y,Z6e);if(!Vn(n)||!Vn(i))return null;var T=n+(Ze(N)?N:0),w=i+(Ze(j)?j:0),E;switch(x){case"start":E=w5("calc(".concat(d,")"));break;case"middle":E=w5("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:E=w5("calc(".concat(b.length-1," * -").concat(l,")"));break}var D=[];if(A){var O=b[0].width,L=y.width;D.push("scale(".concat((Ze(L)?L/O:1)/O,")"))}return C&&D.push("rotate(".concat(C,", ").concat(T,", ").concat(w,")")),D.length&&(B.transform=D.join(" ")),we.createElement("text",$B({},_t(B,!0),{x:T,y:w,className:Rt("recharts-text",k),textAnchor:f,fill:p.includes("url")?fM:p}),b.map(function(U,M){var Q=U.words.join(_?"":" ");return we.createElement("tspan",{x:T,dy:M===0?E:l,key:"".concat(Q,"-").concat(M)},Q)}))};function sd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oPe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ek(t){let e,r,n;t.length!==2?(e=sd,r=(l,c)=>sd(t(l),c),n=(l,c)=>t(l)-c):(e=t===sd||t===oPe?t:lPe,r=t,n=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<0?d=A+1:u=A}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<=0?d=A+1:u=A}while(d<u)}return d}function o(l,c,d=0,u=l.length){const A=a(l,c,d,u-1);return A>d&&n(l[A-1],c)>-n(l[A],c)?A-1:A}return{left:a,center:o,right:i}}function lPe(){return 0}function VV(t){return t===null?NaN:+t}function*cPe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const dPe=Ek(sd),Sx=dPe.right;Ek(VV).center;class mM extends Map{constructor(e,r=hPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(pM(this,e))}has(e){return super.has(pM(this,e))}set(e,r){return super.set(uPe(this,e),r)}delete(e){return super.delete(APe(this,e))}}function pM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function uPe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function APe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function hPe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fPe(t=sd){if(t===sd)return KV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function KV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mPe=Math.sqrt(50),pPe=Math.sqrt(10),gPe=Math.sqrt(2);function Vw(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=mPe?10:i>=pPe?5:i>=gPe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?Vw(t,e,r*2):[l,c,d]}function HB(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Vw(e,t,r):Vw(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function qB(t,e,r){return e=+e,t=+t,r=+r,Vw(t,e,r)[2]}function zB(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?qB(e,t,r):qB(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function gM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function WV(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?KV:fPe(a);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,u=Math.log(c),A=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*A*(c-A)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(e-d*A/c+h)),g=Math.min(n,Math.floor(e+(c-d)*A/c+h));WV(t,e,f,g,a)}const i=t[e];let o=r,l=n;for(wp(t,r,e),a(t[n],i)>0&&wp(t,r,n);o<l;){for(wp(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?wp(t,r,l):(++l,wp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function wp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xPe(t,e,r){if(t=Float64Array.from(cPe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return xM(t);if(e>=1)return gM(t);var n,a=(n-1)*e,i=Math.floor(a),o=gM(WV(t,i).subarray(0,i+1)),l=xM(t.subarray(i+1));return o+(l-o)*(a-i)}}function yPe(t,e,r=VV){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function vPe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Bi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const VB=Symbol("implicit");function kk(){var t=new mM,e=[],r=[],n=VB;function a(i){let o=t.get(i);if(o===void 0){if(n!==VB)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new mM;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kk(e,r).unknown(n)},Bi.apply(a,arguments),a}function P0(){var t=kk().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function A(){var h=e().length,f=a<n,g=f?a:n,x=f?n:a;i=(x-g)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),g+=(x-g-i*(h-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var m=vPe(h).map(function(p){return g+i*p});return r(f?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),A()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,A()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,A()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,A()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),A()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),A()):c},t.paddingOuter=function(h){return arguments.length?(d=+h,A()):d},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),A()):u},t.copy=function(){return P0(e(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Bi.apply(A(),arguments)}function GV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return GV(e())},t}function Eg(){return GV(P0.apply(null,arguments).paddingInner(1))}function Pk(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function XV(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ex(){}var F0=.7,Kw=1/F0,uf="\\s*([+-]?\\d+)\\s*",T0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bPe=/^#([0-9a-f]{3,8})$/,wPe=new RegExp(`^rgb\\(${uf},${uf},${uf}\\)$`),jPe=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),NPe=new RegExp(`^rgba\\(${uf},${uf},${uf},${T0}\\)$`),_Pe=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${T0}\\)$`),CPe=new RegExp(`^hsl\\(${T0},${Uo},${Uo}\\)$`),BPe=new RegExp(`^hsla\\(${T0},${Uo},${Uo},${T0}\\)$`),yM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pk(Ex,O0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vM,formatHex:vM,formatHex8:SPe,formatHsl:EPe,formatRgb:bM,toString:bM});function vM(){return this.rgb().formatHex()}function SPe(){return this.rgb().formatHex8()}function EPe(){return YV(this).formatHsl()}function bM(){return this.rgb().formatRgb()}function O0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=bPe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?wM(e):r===3?new ya(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Rv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Rv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wPe.exec(t))?new ya(e[1],e[2],e[3],1):(e=jPe.exec(t))?new ya(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NPe.exec(t))?Rv(e[1],e[2],e[3],e[4]):(e=_Pe.exec(t))?Rv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=CPe.exec(t))?_M(e[1],e[2]/100,e[3]/100,1):(e=BPe.exec(t))?_M(e[1],e[2]/100,e[3]/100,e[4]):yM.hasOwnProperty(t)?wM(yM[t]):t==="transparent"?new ya(NaN,NaN,NaN,0):null}function wM(t){return new ya(t>>16&255,t>>8&255,t&255,1)}function Rv(t,e,r,n){return n<=0&&(t=e=r=NaN),new ya(t,e,r,n)}function kPe(t){return t instanceof Ex||(t=O0(t)),t?(t=t.rgb(),new ya(t.r,t.g,t.b,t.opacity)):new ya}function KB(t,e,r,n){return arguments.length===1?kPe(t):new ya(t,e,r,n??1)}function ya(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Pk(ya,KB,XV(Ex,{brighter(t){return t=t==null?Kw:Math.pow(Kw,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?F0:Math.pow(F0,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ya(Du(this.r),Du(this.g),Du(this.b),Ww(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jM,formatHex:jM,formatHex8:PPe,formatRgb:NM,toString:NM}));function jM(){return`#${vu(this.r)}${vu(this.g)}${vu(this.b)}`}function PPe(){return`#${vu(this.r)}${vu(this.g)}${vu(this.b)}${vu((isNaN(this.opacity)?1:this.opacity)*255)}`}function NM(){const t=Ww(this.opacity);return`${t===1?"rgb(":"rgba("}${Du(this.r)}, ${Du(this.g)}, ${Du(this.b)}${t===1?")":`, ${t})`}`}function Ww(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Du(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vu(t){return t=Du(t),(t<16?"0":"")+t.toString(16)}function _M(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ji(t,e,r,n)}function YV(t){if(t instanceof Ji)return new Ji(t.h,t.s,t.l,t.opacity);if(t instanceof Ex||(t=O0(t)),!t)return new Ji;if(t instanceof Ji)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ji(o,l,c,t.opacity)}function FPe(t,e,r,n){return arguments.length===1?YV(t):new Ji(t,e,r,n??1)}function Ji(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Pk(Ji,FPe,XV(Ex,{brighter(t){return t=t==null?Kw:Math.pow(Kw,t),new Ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?F0:Math.pow(F0,t),new Ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new ya(j5(t>=240?t-240:t+120,a,n),j5(t,a,n),j5(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ji(CM(this.h),Qv(this.s),Qv(this.l),Ww(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ww(this.opacity);return`${t===1?"hsl(":"hsla("}${CM(this.h)}, ${Qv(this.s)*100}%, ${Qv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CM(t){return t=(t||0)%360,t<0?t+360:t}function Qv(t){return Math.max(0,Math.min(1,t||0))}function j5(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Fk=t=>()=>t;function TPe(t,e){return function(r){return t+r*e}}function OPe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function IPe(t){return(t=+t)==1?JV:function(e,r){return r-e?OPe(e,r,t):Fk(isNaN(e)?r:e)}}function JV(t,e){var r=e-t;return r?TPe(t,r):Fk(isNaN(t)?e:t)}const BM=function t(e){var r=IPe(e);function n(a,i){var o=r((a=KB(a)).r,(i=KB(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=JV(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=t,n}(1);function DPe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function LPe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function MPe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=xm(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function UPe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Gw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function RPe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=xm(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var WB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N5=new RegExp(WB.source,"g");function QPe(t){return function(){return t}}function $Pe(t){return function(e){return t(e)+""}}function HPe(t,e){var r=WB.lastIndex=N5.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=WB.exec(t))&&(a=N5.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Gw(n,a)})),r=N5.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?$Pe(c[0].x):QPe(e):(e=c.length,function(d){for(var u=0,A;u<e;++u)l[(A=c[u]).i]=A.x(d);return l.join("")})}function xm(t,e){var r=typeof e,n;return e==null||r==="boolean"?Fk(e):(r==="number"?Gw:r==="string"?(n=O0(e))?(e=n,BM):HPe:e instanceof O0?BM:e instanceof Date?UPe:LPe(e)?DPe:Array.isArray(e)?MPe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RPe:Gw)(t,e)}function Tk(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function qPe(t,e){e===void 0&&(e=t,t=xm);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function zPe(t){return function(){return t}}function Xw(t){return+t}var SM=[0,1];function Xs(t){return t}function GB(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:zPe(isNaN(e)?NaN:.5)}function VPe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function KPe(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=GB(a,n),i=r(o,i)):(n=GB(n,a),i=r(i,o)),function(l){return i(n(l))}}function WPe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=GB(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=Sx(t,l,1,n)-1;return i[c](a[c](l))}}function kx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rj(){var t=SM,e=SM,r=xm,n,a,i,o=Xs,l,c,d;function u(){var h=Math.min(t.length,e.length);return o!==Xs&&(o=VPe(t[0],t[h-1])),l=h>2?WPe:KPe,c=d=null,A}function A(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return A.invert=function(h){return o(a((d||(d=l(e,t.map(n),Gw)))(h)))},A.domain=function(h){return arguments.length?(t=Array.from(h,Xw),u()):t.slice()},A.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},A.rangeRound=function(h){return e=Array.from(h),r=Tk,u()},A.clamp=function(h){return arguments.length?(o=h?!0:Xs,u()):o!==Xs},A.interpolate=function(h){return arguments.length?(r=h,u()):r},A.unknown=function(h){return arguments.length?(i=h,A):i},function(h,f){return n=h,a=f,u()}}function Ok(){return rj()(Xs,Xs)}function GPe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Tf(t){return t=Yw(Math.abs(t)),t?t[1]:NaN}function XPe(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function YPe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var JPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function I0(t){if(!(e=JPe.exec(t)))throw new Error("invalid format: "+t);var e;return new Ik({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}I0.prototype=Ik.prototype;function Ik(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ik.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZPe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var ZV;function eFe(t,e){var r=Yw(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(ZV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Yw(t,Math.max(0,e+i-1))[0]}function EM(t,e){var r=Yw(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const kM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GPe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EM(t*100,e),r:EM,s:eFe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PM(t){return t}var FM=Array.prototype.map,TM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tFe(t){var e=t.grouping===void 0||t.thousands===void 0?PM:XPe(FM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?PM:YPe(FM.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(A){A=I0(A);var h=A.fill,f=A.align,g=A.sign,x=A.symbol,m=A.zero,p=A.width,y=A.comma,b=A.precision,N=A.trim,j=A.type;j==="n"?(y=!0,j="g"):kM[j]||(b===void 0&&(b=12),N=!0,j="g"),(m||h==="0"&&f==="=")&&(m=!0,h="0",f="=");var C=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=x==="$"?n:/[%p]/.test(j)?o:"",_=kM[j],B=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(w){var E=C,D=k,O,L,U;if(j==="c")D=_(w)+D,w="";else{w=+w;var M=w<0||1/w<0;if(w=isNaN(w)?c:_(Math.abs(w),b),N&&(w=ZPe(w)),M&&+w==0&&g!=="+"&&(M=!1),E=(M?g==="("?g:l:g==="-"||g==="("?"":g)+E,D=(j==="s"?TM[8+ZV/3]:"")+D+(M&&g==="("?")":""),B){for(O=-1,L=w.length;++O<L;)if(U=w.charCodeAt(O),48>U||U>57){D=(U===46?a+w.slice(O+1):w.slice(O))+D,w=w.slice(0,O);break}}}y&&!m&&(w=e(w,1/0));var Q=E.length+w.length+D.length,q=Q<p?new Array(p-Q+1).join(h):"";switch(y&&m&&(w=e(q+w,q.length?p-D.length:1/0),q=""),f){case"<":w=E+w+D+q;break;case"=":w=E+q+w+D;break;case"^":w=q.slice(0,Q=q.length>>1)+E+w+D+q.slice(Q);break;default:w=q+E+w+D;break}return i(w)}return T.toString=function(){return A+""},T}function u(A,h){var f=d((A=I0(A),A.type="f",A)),g=Math.max(-8,Math.min(8,Math.floor(Tf(h)/3)))*3,x=Math.pow(10,-g),m=TM[8+g/3];return function(p){return f(x*p)+m}}return{format:d,formatPrefix:u}}var $v,Dk,eK;rFe({thousands:",",grouping:[3],currency:["$",""]});function rFe(t){return $v=tFe(t),Dk=$v.format,eK=$v.formatPrefix,$v}function nFe(t){return Math.max(0,-Tf(Math.abs(t)))}function sFe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tf(e)/3)))*3-Tf(Math.abs(t)))}function aFe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tf(e)-Tf(t))+1}function tK(t,e,r,n){var a=zB(t,e,r),i;switch(n=I0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=sFe(a,o))&&(n.precision=i),eK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aFe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=nFe(a))&&(n.precision=i-(n.type==="%")*2);break}}return Dk(n)}function wd(t){var e=t.domain;return t.ticks=function(r){var n=e();return HB(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return tK(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=qB(o,l,r),d===c)return n[a]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Jw(){var t=Ok();return t.copy=function(){return kx(t,Jw())},Bi.apply(t,arguments),wd(t)}function rK(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return rK(t).unknown(e)},t=arguments.length?Array.from(t,Xw):[0,1],wd(r)}function nK(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function OM(t){return Math.log(t)}function IM(t){return Math.exp(t)}function iFe(t){return-Math.log(-t)}function oFe(t){return-Math.exp(-t)}function lFe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cFe(t){return t===10?lFe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dFe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DM(t){return(e,r)=>-t(-e,r)}function Lk(t){const e=t(OM,IM),r=e.domain;let n=10,a,i;function o(){return a=dFe(n),i=cFe(n),r()[0]<0?(a=DM(a),i=DM(i),t(iFe,oFe)):t(OM,IM),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const A=u<d;A&&([d,u]=[u,d]);let h=a(d),f=a(u),g,x;const m=l==null?10:+l;let p=[];if(!(n%1)&&f-h<m){if(h=Math.floor(h),f=Math.ceil(f),d>0){for(;h<=f;++h)for(g=1;g<n;++g)if(x=h<0?g/i(-h):g*i(h),!(x<d)){if(x>u)break;p.push(x)}}else for(;h<=f;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/i(-h):g*i(h),!(x<d)){if(x>u)break;p.push(x)}p.length*2<m&&(p=HB(d,u,m))}else p=HB(h,f,Math.min(f-h,m)).map(i);return A?p.reverse():p},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=I0(c)).precision==null&&(c.trim=!0),c=Dk(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return u=>{let A=u/i(Math.round(a(u)));return A*n<n-.5&&(A*=n),A<=d?c(u):""}},e.nice=()=>r(nK(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function sK(){const t=Lk(rj()).domain([1,10]);return t.copy=()=>kx(t,sK()).base(t.base()),Bi.apply(t,arguments),t}function LM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function MM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mk(t){var e=1,r=t(LM(e),MM(e));return r.constant=function(n){return arguments.length?t(LM(e=+n),MM(e)):e},wd(r)}function aK(){var t=Mk(rj());return t.copy=function(){return kx(t,aK()).constant(t.constant())},Bi.apply(t,arguments)}function UM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uFe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function AFe(t){return t<0?-t*t:t*t}function Uk(t){var e=t(Xs,Xs),r=1;function n(){return r===1?t(Xs,Xs):r===.5?t(uFe,AFe):t(UM(r),UM(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},wd(e)}function Rk(){var t=Uk(rj());return t.copy=function(){return kx(t,Rk()).exponent(t.exponent())},Bi.apply(t,arguments),t}function hFe(){return Rk.apply(null,arguments).exponent(.5)}function RM(t){return Math.sign(t)*t*t}function fFe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iK(){var t=Ok(),e=[0,1],r=!1,n;function a(i){var o=fFe(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(RM(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Xw)).map(RM)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iK(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Bi.apply(a,arguments),wd(a)}function oK(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=yPe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[Sx(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(sd),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return oK().domain(t).range(e).unknown(n)},Bi.apply(i,arguments)}function lK(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Sx(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return lK().domain([t,e]).range(a).unknown(i)},Bi.apply(wd(o),arguments)}function cK(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Sx(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return cK().domain(t).range(e).unknown(r)},Bi.apply(a,arguments)}const _5=new Date,C5=new Date;function Wn(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>Wn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(_5.setTime(+i),C5.setTime(+o),t(_5),t(C5),Math.floor(r(_5,C5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Zw=Wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Zw);Zw.range;const Nl=1e3,pi=Nl*60,_l=pi*60,Ql=_l*24,Qk=Ql*7,QM=Ql*30,B5=Ql*365,bu=Wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCSeconds());bu.range;const $k=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nl)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getMinutes());$k.range;const Hk=Wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getUTCMinutes());Hk.range;const qk=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nl-t.getMinutes()*pi)},(t,e)=>{t.setTime(+t+e*_l)},(t,e)=>(e-t)/_l,t=>t.getHours());qk.range;const zk=Wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_l)},(t,e)=>(e-t)/_l,t=>t.getUTCHours());zk.range;const Px=Wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pi)/Ql,t=>t.getDate()-1);Px.range;const nj=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ql,t=>t.getUTCDate()-1);nj.range;const dK=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ql,t=>Math.floor(t/Ql));dK.range;function uA(t){return Wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*pi)/Qk)}const sj=uA(0),e1=uA(1),mFe=uA(2),pFe=uA(3),Of=uA(4),gFe=uA(5),xFe=uA(6);sj.range;e1.range;mFe.range;pFe.range;Of.range;gFe.range;xFe.range;function AA(t){return Wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Qk)}const aj=AA(0),t1=AA(1),yFe=AA(2),vFe=AA(3),If=AA(4),bFe=AA(5),wFe=AA(6);aj.range;t1.range;yFe.range;vFe.range;If.range;bFe.range;wFe.range;const Vk=Wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Vk.range;const Kk=Wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Kk.range;const $l=Wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$l.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$l.range;const Hl=Wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Hl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Hl.range;function uK(t,e,r,n,a,i){const o=[[bu,1,Nl],[bu,5,5*Nl],[bu,15,15*Nl],[bu,30,30*Nl],[i,1,pi],[i,5,5*pi],[i,15,15*pi],[i,30,30*pi],[a,1,_l],[a,3,3*_l],[a,6,6*_l],[a,12,12*_l],[n,1,Ql],[n,2,2*Ql],[r,1,Qk],[e,1,QM],[e,3,3*QM],[t,1,B5]];function l(d,u,A){const h=u<d;h&&([d,u]=[u,d]);const f=A&&typeof A.range=="function"?A:c(d,u,A),g=f?f.range(d,+u+1):[];return h?g.reverse():g}function c(d,u,A){const h=Math.abs(u-d)/A,f=Ek(([,,m])=>m).right(o,h);if(f===o.length)return t.every(zB(d/B5,u/B5,A));if(f===0)return Zw.every(Math.max(zB(d,u,A),1));const[g,x]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(x)}return[l,c]}const[jFe,NFe]=uK(Hl,Kk,aj,dK,zk,Hk),[_Fe,CFe]=uK($l,Vk,sj,Px,qk,$k);function S5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function E5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function BFe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Np(a),u=_p(a),A=Np(i),h=_p(i),f=Np(o),g=_p(o),x=Np(l),m=_p(l),p=Np(c),y=_p(c),b={a:M,A:Q,b:q,B:J,c:null,d:KM,e:KM,f:XFe,g:iTe,G:lTe,H:KFe,I:WFe,j:GFe,L:AK,m:YFe,M:JFe,p:ee,q:$,Q:XM,s:YM,S:ZFe,u:eTe,U:tTe,V:rTe,w:nTe,W:sTe,x:null,X:null,y:aTe,Y:oTe,Z:cTe,"%":GM},N={a:R,A:K,b:V,B:ae,c:null,d:WM,e:WM,f:hTe,g:jTe,G:_Te,H:dTe,I:uTe,j:ATe,L:fK,m:fTe,M:mTe,p:Ae,q:ne,Q:XM,s:YM,S:pTe,u:gTe,U:xTe,V:yTe,w:vTe,W:bTe,x:null,X:null,y:wTe,Y:NTe,Z:CTe,"%":GM},j={a:T,A:w,b:E,B:D,c:O,d:zM,e:zM,f:HFe,g:qM,G:HM,H:VM,I:VM,j:UFe,L:$Fe,m:MFe,M:RFe,p:B,q:LFe,Q:zFe,s:VFe,S:QFe,u:FFe,U:TFe,V:OFe,w:PFe,W:IFe,x:L,X:U,y:qM,Y:HM,Z:DFe,"%":qFe};b.x=C(r,b),b.X=C(n,b),b.c=C(e,b),N.x=C(r,N),N.X=C(n,N),N.c=C(e,N);function C(ie,le){return function(X){var he=[],Me=-1,Qe=0,ye=ie.length,z,ke,Ie;for(X instanceof Date||(X=new Date(+X));++Me<ye;)ie.charCodeAt(Me)===37&&(he.push(ie.slice(Qe,Me)),(ke=$M[z=ie.charAt(++Me)])!=null?z=ie.charAt(++Me):ke=z==="e"?" ":"0",(Ie=le[z])&&(z=Ie(X,ke)),he.push(z),Qe=Me+1);return he.push(ie.slice(Qe,Me)),he.join("")}}function k(ie,le){return function(X){var he=jp(1900,void 0,1),Me=_(he,ie,X+="",0),Qe,ye;if(Me!=X.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(le&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Qe=E5(jp(he.y,0,1)),ye=Qe.getUTCDay(),Qe=ye>4||ye===0?t1.ceil(Qe):t1(Qe),Qe=nj.offset(Qe,(he.V-1)*7),he.y=Qe.getUTCFullYear(),he.m=Qe.getUTCMonth(),he.d=Qe.getUTCDate()+(he.w+6)%7):(Qe=S5(jp(he.y,0,1)),ye=Qe.getDay(),Qe=ye>4||ye===0?e1.ceil(Qe):e1(Qe),Qe=Px.offset(Qe,(he.V-1)*7),he.y=Qe.getFullYear(),he.m=Qe.getMonth(),he.d=Qe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),ye="Z"in he?E5(jp(he.y,0,1)).getUTCDay():S5(jp(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(ye+5)%7:he.w+he.U*7-(ye+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,E5(he)):S5(he)}}function _(ie,le,X,he){for(var Me=0,Qe=le.length,ye=X.length,z,ke;Me<Qe;){if(he>=ye)return-1;if(z=le.charCodeAt(Me++),z===37){if(z=le.charAt(Me++),ke=j[z in $M?le.charAt(Me++):z],!ke||(he=ke(ie,X,he))<0)return-1}else if(z!=X.charCodeAt(he++))return-1}return he}function B(ie,le,X){var he=d.exec(le.slice(X));return he?(ie.p=u.get(he[0].toLowerCase()),X+he[0].length):-1}function T(ie,le,X){var he=f.exec(le.slice(X));return he?(ie.w=g.get(he[0].toLowerCase()),X+he[0].length):-1}function w(ie,le,X){var he=A.exec(le.slice(X));return he?(ie.w=h.get(he[0].toLowerCase()),X+he[0].length):-1}function E(ie,le,X){var he=p.exec(le.slice(X));return he?(ie.m=y.get(he[0].toLowerCase()),X+he[0].length):-1}function D(ie,le,X){var he=x.exec(le.slice(X));return he?(ie.m=m.get(he[0].toLowerCase()),X+he[0].length):-1}function O(ie,le,X){return _(ie,e,le,X)}function L(ie,le,X){return _(ie,r,le,X)}function U(ie,le,X){return _(ie,n,le,X)}function M(ie){return o[ie.getDay()]}function Q(ie){return i[ie.getDay()]}function q(ie){return c[ie.getMonth()]}function J(ie){return l[ie.getMonth()]}function ee(ie){return a[+(ie.getHours()>=12)]}function $(ie){return 1+~~(ie.getMonth()/3)}function R(ie){return o[ie.getUTCDay()]}function K(ie){return i[ie.getUTCDay()]}function V(ie){return c[ie.getUTCMonth()]}function ae(ie){return l[ie.getUTCMonth()]}function Ae(ie){return a[+(ie.getUTCHours()>=12)]}function ne(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var le=C(ie+="",b);return le.toString=function(){return ie},le},parse:function(ie){var le=k(ie+="",!1);return le.toString=function(){return ie},le},utcFormat:function(ie){var le=C(ie+="",N);return le.toString=function(){return ie},le},utcParse:function(ie){var le=k(ie+="",!0);return le.toString=function(){return ie},le}}}var $M={"-":"",_:" ",0:"0"},as=/^\s*\d+/,SFe=/^%/,EFe=/[\\^$*+?|[\]().{}]/g;function rr(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function kFe(t){return t.replace(EFe,"\\$&")}function Np(t){return new RegExp("^(?:"+t.map(kFe).join("|")+")","i")}function _p(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function PFe(t,e,r){var n=as.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function FFe(t,e,r){var n=as.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function TFe(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function OFe(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function IFe(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function HM(t,e,r){var n=as.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function qM(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function DFe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function LFe(t,e,r){var n=as.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function MFe(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function zM(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function UFe(t,e,r){var n=as.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function VM(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function RFe(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function QFe(t,e,r){var n=as.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $Fe(t,e,r){var n=as.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function HFe(t,e,r){var n=as.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qFe(t,e,r){var n=SFe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function zFe(t,e,r){var n=as.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function VFe(t,e,r){var n=as.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function KM(t,e){return rr(t.getDate(),e,2)}function KFe(t,e){return rr(t.getHours(),e,2)}function WFe(t,e){return rr(t.getHours()%12||12,e,2)}function GFe(t,e){return rr(1+Px.count($l(t),t),e,3)}function AK(t,e){return rr(t.getMilliseconds(),e,3)}function XFe(t,e){return AK(t,e)+"000"}function YFe(t,e){return rr(t.getMonth()+1,e,2)}function JFe(t,e){return rr(t.getMinutes(),e,2)}function ZFe(t,e){return rr(t.getSeconds(),e,2)}function eTe(t){var e=t.getDay();return e===0?7:e}function tTe(t,e){return rr(sj.count($l(t)-1,t),e,2)}function hK(t){var e=t.getDay();return e>=4||e===0?Of(t):Of.ceil(t)}function rTe(t,e){return t=hK(t),rr(Of.count($l(t),t)+($l(t).getDay()===4),e,2)}function nTe(t){return t.getDay()}function sTe(t,e){return rr(e1.count($l(t)-1,t),e,2)}function aTe(t,e){return rr(t.getFullYear()%100,e,2)}function iTe(t,e){return t=hK(t),rr(t.getFullYear()%100,e,2)}function oTe(t,e){return rr(t.getFullYear()%1e4,e,4)}function lTe(t,e){var r=t.getDay();return t=r>=4||r===0?Of(t):Of.ceil(t),rr(t.getFullYear()%1e4,e,4)}function cTe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rr(e/60|0,"0",2)+rr(e%60,"0",2)}function WM(t,e){return rr(t.getUTCDate(),e,2)}function dTe(t,e){return rr(t.getUTCHours(),e,2)}function uTe(t,e){return rr(t.getUTCHours()%12||12,e,2)}function ATe(t,e){return rr(1+nj.count(Hl(t),t),e,3)}function fK(t,e){return rr(t.getUTCMilliseconds(),e,3)}function hTe(t,e){return fK(t,e)+"000"}function fTe(t,e){return rr(t.getUTCMonth()+1,e,2)}function mTe(t,e){return rr(t.getUTCMinutes(),e,2)}function pTe(t,e){return rr(t.getUTCSeconds(),e,2)}function gTe(t){var e=t.getUTCDay();return e===0?7:e}function xTe(t,e){return rr(aj.count(Hl(t)-1,t),e,2)}function mK(t){var e=t.getUTCDay();return e>=4||e===0?If(t):If.ceil(t)}function yTe(t,e){return t=mK(t),rr(If.count(Hl(t),t)+(Hl(t).getUTCDay()===4),e,2)}function vTe(t){return t.getUTCDay()}function bTe(t,e){return rr(t1.count(Hl(t)-1,t),e,2)}function wTe(t,e){return rr(t.getUTCFullYear()%100,e,2)}function jTe(t,e){return t=mK(t),rr(t.getUTCFullYear()%100,e,2)}function NTe(t,e){return rr(t.getUTCFullYear()%1e4,e,4)}function _Te(t,e){var r=t.getUTCDay();return t=r>=4||r===0?If(t):If.ceil(t),rr(t.getUTCFullYear()%1e4,e,4)}function CTe(){return"+0000"}function GM(){return"%"}function XM(t){return+t}function YM(t){return Math.floor(+t/1e3)}var oh,pK,gK;BTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BTe(t){return oh=BFe(t),pK=oh.format,oh.parse,gK=oh.utcFormat,oh.utcParse,oh}function STe(t){return new Date(t)}function ETe(t){return t instanceof Date?+t:+new Date(+t)}function Wk(t,e,r,n,a,i,o,l,c,d){var u=Ok(),A=u.invert,h=u.domain,f=d(".%L"),g=d(":%S"),x=d("%I:%M"),m=d("%I %p"),p=d("%a %d"),y=d("%b %d"),b=d("%B"),N=d("%Y");function j(C){return(c(C)<C?f:l(C)<C?g:o(C)<C?x:i(C)<C?m:n(C)<C?a(C)<C?p:y:r(C)<C?b:N)(C)}return u.invert=function(C){return new Date(A(C))},u.domain=function(C){return arguments.length?h(Array.from(C,ETe)):h().map(STe)},u.ticks=function(C){var k=h();return t(k[0],k[k.length-1],C??10)},u.tickFormat=function(C,k){return k==null?j:d(k)},u.nice=function(C){var k=h();return(!C||typeof C.range!="function")&&(C=e(k[0],k[k.length-1],C??10)),C?h(nK(k,C)):u},u.copy=function(){return kx(u,Wk(t,e,r,n,a,i,o,l,c,d))},u}function kTe(){return Bi.apply(Wk(_Fe,CFe,$l,Vk,sj,Px,qk,$k,bu,pK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PTe(){return Bi.apply(Wk(jFe,NFe,Hl,Kk,aj,nj,zk,Hk,bu,gK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ij(){var t=0,e=1,r,n,a,i,o=Xs,l=!1,c;function d(A){return A==null||isNaN(A=+A)?c:o(a===0?.5:(A=(i(A)-r)*a,l?Math.max(0,Math.min(1,A)):A))}d.domain=function(A){return arguments.length?([t,e]=A,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(A){return arguments.length?(l=!!A,d):l},d.interpolator=function(A){return arguments.length?(o=A,d):o};function u(A){return function(h){var f,g;return arguments.length?([f,g]=h,o=A(f,g),d):[o(0),o(1)]}}return d.range=u(xm),d.rangeRound=u(Tk),d.unknown=function(A){return arguments.length?(c=A,d):c},function(A){return i=A,r=A(t),n=A(e),a=r===n?0:1/(n-r),d}}function jd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xK(){var t=wd(ij()(Xs));return t.copy=function(){return jd(t,xK())},Jl.apply(t,arguments)}function yK(){var t=Lk(ij()).domain([1,10]);return t.copy=function(){return jd(t,yK()).base(t.base())},Jl.apply(t,arguments)}function vK(){var t=Mk(ij());return t.copy=function(){return jd(t,vK()).constant(t.constant())},Jl.apply(t,arguments)}function Gk(){var t=Uk(ij());return t.copy=function(){return jd(t,Gk()).exponent(t.exponent())},Jl.apply(t,arguments)}function FTe(){return Gk.apply(null,arguments).exponent(.5)}function bK(){var t=[],e=Xs;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sx(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(sd),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>xPe(t,i/n))},r.copy=function(){return bK(e).domain(t)},Jl.apply(r,arguments)}function oj(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,d=Xs,u,A=!1,h;function f(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-i)*(n*x<n*i?l:c),d(A?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([t,e,r]=x,a=u(t=+t),i=u(e=+e),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f):[t,e,r]},f.clamp=function(x){return arguments.length?(A=!!x,f):A},f.interpolator=function(x){return arguments.length?(d=x,f):d};function g(x){return function(m){var p,y,b;return arguments.length?([p,y,b]=m,d=qPe(x,[p,y,b]),f):[d(0),d(.5),d(1)]}}return f.range=g(xm),f.rangeRound=g(Tk),f.unknown=function(x){return arguments.length?(h=x,f):h},function(x){return u=x,a=x(t),i=x(e),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f}}function wK(){var t=wd(oj()(Xs));return t.copy=function(){return jd(t,wK())},Jl.apply(t,arguments)}function jK(){var t=Lk(oj()).domain([.1,1,10]);return t.copy=function(){return jd(t,jK()).base(t.base())},Jl.apply(t,arguments)}function NK(){var t=Mk(oj());return t.copy=function(){return jd(t,NK()).constant(t.constant())},Jl.apply(t,arguments)}function Xk(){var t=Uk(oj());return t.copy=function(){return jd(t,Xk()).exponent(t.exponent())},Jl.apply(t,arguments)}function TTe(){return Xk.apply(null,arguments).exponent(.5)}const JM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:P0,scaleDiverging:wK,scaleDivergingLog:jK,scaleDivergingPow:Xk,scaleDivergingSqrt:TTe,scaleDivergingSymlog:NK,scaleIdentity:rK,scaleImplicit:VB,scaleLinear:Jw,scaleLog:sK,scaleOrdinal:kk,scalePoint:Eg,scalePow:Rk,scaleQuantile:oK,scaleQuantize:lK,scaleRadial:iK,scaleSequential:xK,scaleSequentialLog:yK,scaleSequentialPow:Gk,scaleSequentialQuantile:bK,scaleSequentialSqrt:FTe,scaleSequentialSymlog:vK,scaleSqrt:hFe,scaleSymlog:aK,scaleThreshold:cK,scaleTime:kTe,scaleUtc:PTe,tickFormat:tK},Symbol.toStringTag,{value:"Module"}));var OTe=cm;function ITe(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],o=e(i);if(o!=null&&(l===void 0?o===o&&!OTe(o):r(o,l)))var l=o,c=i}return c}var lj=ITe;function DTe(t,e){return t>e}var _K=DTe,LTe=lj,MTe=_K,UTe=pm;function RTe(t){return t&&t.length?LTe(t,UTe,MTe):void 0}var QTe=RTe;const cj=pr(QTe);function $Te(t,e){return t<e}var CK=$Te,HTe=lj,qTe=CK,zTe=pm;function VTe(t){return t&&t.length?HTe(t,zTe,qTe):void 0}var KTe=VTe;const dj=pr(KTe);var WTe=ck,GTe=Vo,XTe=OV,YTe=Na;function JTe(t,e){var r=YTe(t)?WTe:XTe;return r(t,GTe(e))}var ZTe=JTe,eOe=FV,tOe=ZTe;function rOe(t,e){return eOe(tOe(t,e),1)}var nOe=rOe;const sOe=pr(nOe);var aOe=Nk;function iOe(t,e){return aOe(t,e)}var oOe=iOe;const uj=pr(oOe);var ym=1e9,lOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jk,qr=!0,_i="[DecimalError] ",Lu=_i+"Invalid argument: ",Yk=_i+"Exponent out of range: ",vm=Math.floor,ru=Math.pow,cOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Da,Zn=1e7,Lr=7,BK=9007199254740991,r1=vm(BK/Lr),ct={};ct.absoluteValue=ct.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ct.comparedTo=ct.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Lr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(t){return kl(this,new this.constructor(t))};ct.dividedToIntegerBy=ct.idiv=function(t){var e=this,r=e.constructor;return Nr(kl(e,new r(t),0,1),r.precision)};ct.equals=ct.eq=function(t){return!this.cmp(t)};ct.exponent=function(){return In(this)};ct.greaterThan=ct.gt=function(t){return this.cmp(t)>0};ct.greaterThanOrEqualTo=ct.gte=function(t){return this.cmp(t)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(t){return this.cmp(t)<0};ct.lessThanOrEqualTo=ct.lte=function(t){return this.cmp(t)<1};ct.logarithm=ct.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Da))throw Error(_i+"NaN");if(r.s<1)throw Error(_i+(r.s?"NaN":"-Infinity"));return r.eq(Da)?new n(0):(qr=!1,e=kl(D0(r,i),D0(t,i),i),qr=!0,Nr(e,a))};ct.minus=ct.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kK(e,t):SK(e,(t.s=-t.s,t))};ct.modulo=ct.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(_i+"NaN");return r.s?(qr=!1,e=kl(r,t,0,1).times(t),qr=!0,r.minus(e)):Nr(new n(r),a)};ct.naturalExponential=ct.exp=function(){return EK(this)};ct.naturalLogarithm=ct.ln=function(){return D0(this)};ct.negated=ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ct.plus=ct.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SK(e,t):kK(e,(t.s=-t.s,t))};ct.precision=ct.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Lu+t);if(e=In(a)+1,n=a.d.length-1,r=n*Lr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ct.squareRoot=ct.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_i+"NaN")}for(t=In(l),qr=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Po(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=vm((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(kl(l,i,o+2)).times(.5),Po(i.d).slice(0,o)===(e=Po(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Nr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return qr=!0,Nr(n,r)};ct.times=ct.mul=function(t){var e,r,n,a,i,o,l,c,d,u=this,A=u.constructor,h=u.d,f=(t=new A(t)).d;if(!u.s||!t.s)return new A(0);for(t.s*=u.s,r=u.e+t.e,c=h.length,d=f.length,c<d&&(i=h,h=f,f=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+f[n]*h[a-n-1]+e,i[a--]=l%Zn|0,e=l/Zn|0;i[a]=(i[a]+e)%Zn|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,qr?Nr(t,A.precision):t};ct.toDecimalPlaces=ct.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Qo(t,0,ym),e===void 0?e=n.rounding:Qo(e,0,8),Nr(r,t+In(r)+1,e))};ct.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Ju(n,!0):(Qo(t,0,ym),e===void 0?e=a.rounding:Qo(e,0,8),n=Nr(new a(n),t+1,e),r=Ju(n,!0,t+1)),r};ct.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Ju(a):(Qo(t,0,ym),e===void 0?e=i.rounding:Qo(e,0,8),n=Nr(new i(a),t+In(a)+1,e),r=Ju(n.abs(),!1,t+In(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var t=this,e=t.constructor;return Nr(new e(t),In(t)+1,e.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(Da);if(l=new c(l),!l.s){if(t.s<1)throw Error(_i+"Infinity");return l}if(l.eq(Da))return l;if(n=c.precision,t.eq(Da))return Nr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=BK){for(a=new c(Da),e=Math.ceil(n/Lr+4),qr=!1;r%2&&(a=a.times(l),eU(a.d,e)),r=vm(r/2),r!==0;)l=l.times(l),eU(l.d,e);return qr=!0,t.s<0?new c(Da).div(a):Nr(a,n)}}else if(i<0)throw Error(_i+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,qr=!1,a=t.times(D0(l,n+d)),qr=!0,a=EK(a),a.s=i,a};ct.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=In(a),n=Ju(a,r<=i.toExpNeg||r>=i.toExpPos)):(Qo(t,1,ym),e===void 0?e=i.rounding:Qo(e,0,8),a=Nr(new i(a),t,e),r=In(a),n=Ju(a,t<=r||r<=i.toExpNeg,t)),n};ct.toSignificantDigits=ct.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Qo(t,1,ym),e===void 0?e=n.rounding:Qo(e,0,8)),Nr(new n(r),t,e)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),r=t.constructor;return Ju(t,e<=r.toExpNeg||e>=r.toExpPos)};function SK(t,e){var r,n,a,i,o,l,c,d,u=t.constructor,A=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),qr?Nr(e,A):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(A/Lr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Zn|0,c[i]%=Zn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,qr?Nr(e,A):e}function Qo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Lu+t)}function Po(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=Lr-n.length,r&&(i+=Sc(r)),i+=n;o=t[e],n=o+"",r=Lr-n.length,r&&(i+=Sc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var kl=function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Zn|0,o=i/Zn|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Zn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,A,h,f,g,x,m,p,y,b,N,j,C,k,_,B=n.constructor,T=n.s==a.s?1:-1,w=n.d,E=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(_i+"Division by zero");for(c=n.e-a.e,k=E.length,j=w.length,f=new B(T),g=f.d=[],d=0;E[d]==(w[d]||0);)++d;if(E[d]>(w[d]||0)&&--c,i==null?y=i=B.precision:o?y=i+(In(n)-In(a))+1:y=i,y<0)return new B(0);if(y=y/Lr+2|0,d=0,k==1)for(u=0,E=E[0],y++;(d<j||u)&&y--;d++)b=u*Zn+(w[d]||0),g[d]=b/E|0,u=b%E|0;else{for(u=Zn/(E[0]+1)|0,u>1&&(E=t(E,u),w=t(w,u),k=E.length,j=w.length),N=k,x=w.slice(0,k),m=x.length;m<k;)x[m++]=0;_=E.slice(),_.unshift(0),C=E[0],E[1]>=Zn/2&&++C;do u=0,l=e(E,x,k,m),l<0?(p=x[0],k!=m&&(p=p*Zn+(x[1]||0)),u=p/C|0,u>1?(u>=Zn&&(u=Zn-1),A=t(E,u),h=A.length,m=x.length,l=e(A,x,h,m),l==1&&(u--,r(A,k<h?_:E,h))):(u==0&&(l=u=1),A=E.slice()),h=A.length,h<m&&A.unshift(0),r(x,A,m),l==-1&&(m=x.length,l=e(E,x,k,m),l<1&&(u++,r(x,k<m?_:E,m))),m=x.length):l===0&&(u++,x=[0]),g[d++]=u,l&&x[0]?x[m++]=w[N]||0:(x=[w[N]],m=1);while((N++<j||x[0]!==void 0)&&y--)}return g[0]||g.shift(),f.e=c,Nr(f,o?i+In(f)+1:i)}}();function EK(t,e){var r,n,a,i,o,l,c=0,d=0,u=t.constructor,A=u.precision;if(In(t)>16)throw Error(Yk+In(t));if(!t.s)return new u(Da);for(qr=!1,l=A,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(ru(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(Da),u.precision=l;;){if(a=Nr(a.times(t),l),r=r.times(++c),o=i.plus(kl(a,r,l)),Po(o.d).slice(0,l)===Po(i.d).slice(0,l)){for(;d--;)i=Nr(i.times(i),l);return u.precision=A,e==null?(qr=!0,Nr(i,A)):i}i=o}}function In(t){for(var e=t.e*Lr,r=t.d[0];r>=10;r/=10)e++;return e}function k5(t,e,r){if(e>t.LN10.sd())throw qr=!0,r&&(t.precision=r),Error(_i+"LN10 precision limit exceeded");return Nr(new t(t.LN10),e)}function Sc(t){for(var e="";t--;)e+="0";return e}function D0(t,e){var r,n,a,i,o,l,c,d,u,A=1,h=10,f=t,g=f.d,x=f.constructor,m=x.precision;if(f.s<1)throw Error(_i+(f.s?"NaN":"-Infinity"));if(f.eq(Da))return new x(0);if(e==null?(qr=!1,d=m):d=e,f.eq(10))return e==null&&(qr=!0),k5(x,d);if(d+=h,x.precision=d,r=Po(g),n=r.charAt(0),i=In(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=Po(f.d),n=r.charAt(0),A++;i=In(f),n>1?(f=new x("0."+r),i++):f=new x(n+"."+r.slice(1))}else return c=k5(x,d+2,m).times(i+""),f=D0(new x(n+"."+r.slice(1)),d-h).plus(c),x.precision=m,e==null?(qr=!0,Nr(f,m)):f;for(l=o=f=kl(f.minus(Da),f.plus(Da),d),u=Nr(f.times(f),d),a=3;;){if(o=Nr(o.times(u),d),c=l.plus(kl(o,new x(a),d)),Po(c.d).slice(0,d)===Po(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(k5(x,d+2,m).times(i+""))),l=kl(l,new x(A),d),x.precision=m,e==null?(qr=!0,Nr(l,m)):l;l=c,a+=2}}function ZM(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=vm(r/Lr),t.d=[],n=(r+1)%Lr,r<0&&(n+=Lr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Lr;n<a;)t.d.push(+e.slice(n,n+=Lr));e=e.slice(n),n=Lr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),qr&&(t.e>r1||t.e<-r1))throw Error(Yk+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nr(t,e,r){var n,a,i,o,l,c,d,u,A=t.d;for(o=1,i=A[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Lr,a=e,d=A[u=0];else{if(u=Math.ceil((n+1)/Lr),i=A.length,u>=i)return t;for(d=i=A[u],o=1;i>=10;i/=10)o++;n%=Lr,a=n-Lr+o}if(r!==void 0&&(i=ru(10,o-a-1),l=d/i%10|0,c=e<0||A[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/ru(10,o-a):0:A[u-1])%10&1||r==(t.s<0?8:7))),e<1||!A[0])return c?(i=In(t),A.length=1,e=e-i-1,A[0]=ru(10,(Lr-e%Lr)%Lr),t.e=vm(-e/Lr)||0):(A.length=1,A[0]=t.e=t.s=0),t;if(n==0?(A.length=u,i=1,u--):(A.length=u+1,i=ru(10,Lr-n),A[u]=a>0?(d/ru(10,o-a)%ru(10,a)|0)*i:0),c)for(;;)if(u==0){(A[0]+=i)==Zn&&(A[0]=1,++t.e);break}else{if(A[u]+=i,A[u]!=Zn)break;A[u--]=0,i=1}for(n=A.length;A[--n]===0;)A.pop();if(qr&&(t.e>r1||t.e<-r1))throw Error(Yk+In(t));return t}function kK(t,e){var r,n,a,i,o,l,c,d,u,A,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),qr?Nr(e,f):e;if(c=t.d,A=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=A.length):(r=A,n=d,l=c.length),a=Math.max(Math.ceil(f/Lr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=A.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=A[a]){u=c[a]<A[a];break}o=0}for(u&&(r=c,c=A,A=r,e.s=-e.s),l=c.length,a=A.length-l;a>0;--a)c[l++]=0;for(a=A.length;a>o;){if(c[--a]<A[a]){for(i=a;i&&c[--i]===0;)c[i]=Zn-1;--c[i],c[a]+=Zn}c[a]-=A[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,qr?Nr(e,f):e):new h(0)}function Ju(t,e,r){var n,a=In(t),i=Po(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Sc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Sc(-a-1)+i,r&&(n=r-o)>0&&(i+=Sc(n))):a>=o?(i+=Sc(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Sc(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Sc(n))),t.s<0?"-"+i:i}function eU(t,e){if(t.length>e)return t.length=e,!0}function PK(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Lu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ZM(o,i.toString())}else if(typeof i!="string")throw Error(Lu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,cOe.test(i))ZM(o,i);else throw Error(Lu+i)}if(a.prototype=ct,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=PK,a.config=a.set=dOe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function dOe(t){if(!t||typeof t!="object")throw Error(_i+"Object expected");var e,r,n,a=["precision",1,ym,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(vm(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Lu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Lu+r+": "+n);return this}var Jk=PK(lOe);Da=new Jk(1);const yr=Jk;function uOe(t){return mOe(t)||fOe(t)||hOe(t)||AOe()}function AOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hOe(t,e){if(t){if(typeof t=="string")return XB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XB(t,e)}}function fOe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mOe(t){if(Array.isArray(t))return XB(t)}function XB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pOe=function(e){return e},FK={},TK=function(e){return e===FK},tU=function(e){return function r(){return arguments.length===0||arguments.length===1&&TK(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},gOe=function t(e,r){return e===1?r:tU(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==FK}).length;return o>=e?r.apply(void 0,a):t(e-o,tU(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(A){return TK(A)?c.shift():A});return r.apply(void 0,uOe(u).concat(c))}))})},Aj=function(e){return gOe(e.length,e)},YB=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},xOe=Aj(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),yOe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return pOe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},JB=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},OK=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function vOe(t){var e;return t===0?e=1:e=Math.floor(new yr(t).abs().log(10).toNumber())+1,e}function bOe(t,e,r){for(var n=new yr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var wOe=Aj(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),jOe=Aj(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),NOe=Aj(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const hj={rangeStep:bOe,getDigitCount:vOe,interpolateNumber:wOe,uninterpolateNumber:jOe,uninterpolateTruncation:NOe};function ZB(t){return BOe(t)||COe(t)||IK(t)||_Oe()}function _Oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function COe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function BOe(t){if(Array.isArray(t))return eS(t)}function L0(t,e){return kOe(t)||EOe(t,e)||IK(t,e)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(t,e){if(t){if(typeof t=="string")return eS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(t,e)}}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EOe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function kOe(t){if(Array.isArray(t))return t}function DK(t){var e=L0(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function LK(t,e,r){if(t.lte(0))return new yr(0);var n=hj.getDigitCount(t.toNumber()),a=new yr(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new yr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new yr(Math.ceil(c))}function POe(t,e,r){var n=1,a=new yr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new yr(10).pow(hj.getDigitCount(t)-1),a=new yr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new yr(Math.floor(t)))}else t===0?a=new yr(Math.floor((e-1)/2)):r||(a=new yr(Math.floor(t)));var o=Math.floor((e-1)/2),l=yOe(xOe(function(c){return a.add(new yr(c-o).mul(n)).toNumber()}),YB);return l(0,e)}function MK(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new yr(0),tickMin:new yr(0),tickMax:new yr(0)};var i=LK(new yr(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new yr(0):(o=new yr(t).add(e).div(2),o=o.sub(new yr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new yr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?MK(t,e,r,n,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new yr(l).mul(i)),tickMax:o.add(new yr(c).mul(i))})}function FOe(t){var e=L0(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=DK([r,n]),c=L0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var A=u===1/0?[d].concat(ZB(YB(0,a-1).map(function(){return 1/0}))):[].concat(ZB(YB(0,a-1).map(function(){return-1/0})),[u]);return r>n?JB(A):A}if(d===u)return POe(d,a,i);var h=MK(d,u,o,i),f=h.step,g=h.tickMin,x=h.tickMax,m=hj.rangeStep(g,x.add(new yr(.1).mul(f)),f);return r>n?JB(m):m}function TOe(t,e){var r=L0(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=DK([n,a]),l=L0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(e,2),A=LK(new yr(d).sub(c).div(u-1),i,0),h=[].concat(ZB(hj.rangeStep(new yr(c),new yr(d).sub(new yr(.99).mul(A)),A)),[d]);return n>a?JB(h):h}var OOe=OK(FOe),IOe=OK(TOe),DOe="Invariant failed";function Zu(t,e){throw new Error(DOe)}var LOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n1.apply(this,arguments)}function MOe(t,e){return $Oe(t)||QOe(t,e)||ROe(t,e)||UOe()}function UOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ROe(t,e){if(t){if(typeof t=="string")return rU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rU(t,e)}}function rU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $Oe(t){if(Array.isArray(t))return t}function HOe(t,e){if(t==null)return{};var r=qOe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QK(n.key),n)}}function KOe(t,e,r){return e&&VOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WOe(t,e,r){return e=s1(e),GOe(t,UK()?Reflect.construct(e,r||[],s1(t).constructor):e.apply(t,r))}function GOe(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XOe(t)}function XOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UK=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(t)}function YOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tS(t,e)}function RK(t,e,r){return e=QK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QK(t){var e=JOe(t,"string");return Df(e)=="symbol"?e:e+""}function JOe(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fj=function(t){function e(){return zOe(this,e),WOe(this,e,arguments)}return YOe(e,t),KOe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,A=n.yAxis,h=HOe(n,LOe),f=_t(h,!1);this.props.direction==="x"&&u.type!=="number"&&Zu();var g=c.map(function(x){var m=d(x,l),p=m.x,y=m.y,b=m.value,N=m.errorVal;if(!N)return null;var j=[],C,k;if(Array.isArray(N)){var _=MOe(N,2);C=_[0],k=_[1]}else C=k=N;if(i==="vertical"){var B=u.scale,T=y+a,w=T+o,E=T-o,D=B(b-C),O=B(b+k);j.push({x1:O,y1:w,x2:O,y2:E}),j.push({x1:D,y1:T,x2:O,y2:T}),j.push({x1:D,y1:w,x2:D,y2:E})}else if(i==="horizontal"){var L=A.scale,U=p+a,M=U-o,Q=U+o,q=L(b-C),J=L(b+k);j.push({x1:M,y1:J,x2:Q,y2:J}),j.push({x1:U,y1:q,x2:U,y2:J}),j.push({x1:M,y1:q,x2:Q,y2:q})}return we.createElement(hr,n1({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},f),j.map(function(ee){return we.createElement("line",n1({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return we.createElement(hr,{className:"recharts-errorBars"},g)}}])}(we.Component);RK(fj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});RK(fj,"displayName","ErrorBar");function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function nU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(r),!0).forEach(function(n){ZOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZOe(t,e,r){return e=eIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eIe(t){var e=tIe(t,"string");return M0(e)=="symbol"?e:e+""}function tIe(t,e){if(M0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $K=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=Oa(r,Iu);if(!o)return null;var l=Iu.defaultProps,c=l!==void 0?qd(qd({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,A){var h=A.item,f=A.props,g=f.sectors||f.data||[];return u.concat(g.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(n||[]).map(function(u){var A=u.item,h=A.type.defaultProps,f=h!==void 0?qd(qd({},h),A.props):{},g=f.dataKey,x=f.name,m=f.legendType,p=f.hide;return{inactive:p,dataKey:g,type:c.iconType||m||"square",color:Zk(A),value:x||g,payload:f}}),qd(qd(qd({},c),Iu.getWithHeight(o,a)),{},{payload:d,item:o})};function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function sU(t){return aIe(t)||sIe(t)||nIe(t)||rIe()}function rIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nIe(t,e){if(t){if(typeof t=="string")return rS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rS(t,e)}}function sIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aIe(t){if(Array.isArray(t))return rS(t)}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(r),!0).forEach(function(n){Af(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Af(t,e,r){return e=iIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iIe(t){var e=oIe(t,"string");return U0(e)=="symbol"?e:e+""}function oIe(t,e){if(U0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Os(t,e,r){return $t(t)||$t(e)?r:Vn(e)?Qa(t,e,r):Et(e)?e(t):r}function kg(t,e,r,n){var a=sOe(t,function(l){return Os(l,e)});if(r==="number"){var i=a.filter(function(l){return Ze(l)||parseFloat(l)});return i.length?[dj(i),cj(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!$t(l)}):a;return o.map(function(l){return Vn(l)||l instanceof Date?l:""})}var lIe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,A=a[d].coordinate,h=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(Ws(A-u)!==Ws(h-A)){var g=[];if(Ws(h-A)===Ws(c[1]-c[0])){f=h;var x=A+c[1]-c[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{f=u;var m=h+c[1]-c[0];g[0]=Math.min(A,(m+A)/2),g[1]=Math.max(A,(m+A)/2)}var p=[Math.min(A,(f+A)/2),Math.max(A,(f+A)/2)];if(e>p[0]&&e<=p[1]||e>=g[0]&&e<=g[1]){o=a[d].index;break}}else{var y=Math.min(u,h),b=Math.max(u,h);if(e>(y+A)/2&&e<=(b+A)/2){o=a[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},Zk=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},cIe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,A=Object.keys(u),h=0,f=A.length;h<f;h++){var g=u[A[h]],x=g.items,m=g.cateAxisId,p=x.filter(function(k){return El(k.type).indexOf("Bar")>=0});if(p&&p.length){var y=p[0].type.defaultProps,b=y!==void 0?on(on({},y),p[0].props):p[0].props,N=b.barSize,j=b[m];o[j]||(o[j]=[]);var C=$t(N)?r:N;o[j].push({item:p[0],stackList:p.slice(1),barSize:$t(C)?void 0:Gs(C,n,0)})}}return o},dIe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Gs(r,a,0,!0),u,A=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=a/c,g=o.reduce(function(N,j){return N+j.barSize||0},0);g+=(c-1)*d,g>=a&&(g-=(c-1)*d,d=0),g>=a&&f>0&&(h=!0,f*=.9,g=c*f);var x=(a-g)/2>>0,m={offset:x-d,size:0};u=o.reduce(function(N,j){var C={item:j.item,position:{offset:m.offset+m.size+d,size:h?f:j.barSize}},k=[].concat(sU(N),[C]);return m=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(_){k.push({item:_,position:m})}),k},A)}else{var p=Gs(n,a,0,!0);a-2*p-(c-1)*d<=0&&(d=0);var y=(a-2*p-(c-1)*d)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;u=o.reduce(function(N,j,C){var k=[].concat(sU(N),[{item:j.item,position:{offset:p+(y+d)*C+(y-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(_){k.push({item:_,position:k[k.length-1].position})}),k},A)}return u},uIe=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=$K({children:i,legendWidth:c});if(d){var u=a||{},A=u.width,h=u.height,f=d.align,g=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&f!=="center"&&Ze(e[f]))return on(on({},e),{},Af({},f,e[f]+(A||0)));if((x==="horizontal"||x==="vertical"&&f==="center")&&g!=="middle"&&Ze(e[g]))return on(on({},e),{},Af({},g,e[g]+(h||0)))}return e},AIe=function(e,r,n){return $t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},HK=function(e,r,n,a,i){var o=r.props.children,l=vi(o,fj).filter(function(d){return AIe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var A=Os(u,n);if($t(A))return d;var h=Array.isArray(A)?[dj(A),cj(A)]:[A,A],f=c.reduce(function(g,x){var m=Os(u,x,0),p=h[0]-Math.abs(Array.isArray(m)?m[0]:m),y=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(p,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},hIe=function(e,r,n,a,i){var o=r.map(function(l){return HK(e,l,n,i,a)}).filter(function(l){return!$t(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},qK=function(e,r,n,a,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&HK(e,c,d,a)||kg(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,A=d.length;u<A;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},zK=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},VK=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Cl=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ws(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(A){var h=i?i.indexOf(A):A;return{coordinate:a(h)+d,value:A,offset:d}});return u.filter(function(A){return!Nx(A.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(A,h){return{coordinate:a(A)+d,value:A,index:h,offset:d}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(A){return{coordinate:a(A)+d,value:A,offset:d}}):a.domain().map(function(A,h){return{coordinate:a(A)+d,value:i?i[A]:A,index:h,offset:d}})},P5=new WeakMap,Hv=function(e,r){if(typeof r!="function")return e;P5.has(e)||P5.set(e,new WeakMap);var n=P5.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},KK=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:P0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Jw(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Eg(),realScaleType:"point"}:i==="category"?{scale:P0(),realScaleType:"band"}:{scale:Jw(),realScaleType:"linear"};if(Gu(a)){var c="scale".concat(G2(a));return{scale:(JM[c]||Eg)(),realScaleType:JM[c]?c:"point"}}return Et(a)?{scale:a}:{scale:Eg(),realScaleType:"point"}},iU=1e-4,WK=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-iU,o=Math.max(a[0],a[1])+iU,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},fIe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},mIe=function(e,r){if(!r||r.length!==2||!Ze(r[0])||!Ze(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Ze(e[0])||e[0]<n)&&(i[0]=n),(!Ze(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},pIe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Nx(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},gIe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Nx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},xIe={sign:pIe,expand:L_e,none:Sf,silhouette:M_e,wiggle:U_e,positive:gIe},yIe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=xIe[n],o=D_e().keys(a).value(function(l,c){return+Os(l,c,0)}).order(BB).offset(i);return o(e)},vIe=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(A,h){var f,g=(f=h.type)!==null&&f!==void 0&&f.defaultProps?on(on({},h.type.defaultProps),h.props):h.props,x=g.stackId,m=g.hide;if(m)return A;var p=g[n],y=A[p]||{hasStack:!1,stackGroups:{}};if(Vn(x)){var b=y.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[x]=b}else y.stackGroups[_x("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return on(on({},A),{},Af({},p,y))},c),u={};return Object.keys(d).reduce(function(A,h){var f=d[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(x,m){var p=f.stackGroups[m];return on(on({},x),{},Af({},m,{numericAxisId:n,cateAxisId:a,items:p.items,stackedData:yIe(e,p.items,i)}))},g)}return on(on({},A),{},Af({},h,f))},u)},GK=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=OOe(d,i,l);return e.domain([dj(u),cj(u)]),{niceTicks:u}}if(i&&a==="number"){var A=e.domain(),h=IOe(A,i,l);return{niceTicks:h}}return null},oU=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Os(o,r.dataKey,r.domain[l]);return $t(c)?null:r.scale(c)-i/2+a},bIe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},wIe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Vn(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},jIe=function(e){return e.reduce(function(r,n){return[dj(n.concat([r[0]]).filter(Ze)),cj(n.concat([r[1]]).filter(Ze))]},[1/0,-1/0])},XK=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var A=jIe(u.slice(r,n+1));return[Math.min(d[0],A[0]),Math.max(d[1],A[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nS=function(e,r,n){if(Et(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Ze(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(lU.test(e[0])){var i=+lU.exec(e[0])[1];a[0]=r[0]-i}else Et(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Ze(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(cU.test(e[1])){var o=+cU.exec(e[1])[1];a[1]=r[1]+o}else Et(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},a1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Ck(r,function(A){return A.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},dU=function(e,r,n){return!e||!e.length||uj(e,Qa(n,"type.defaultProps.domain"))?r:e},YK=function(e,r){var n=e.type.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return on(on({},_t(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:Zk(e),value:Os(r,a),type:c,payload:r,chartType:d,hide:u})};function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function uU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(r),!0).forEach(function(n){JK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JK(t,e,r){return e=NIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NIe(t){var e=_Ie(t,"string");return R0(e)=="symbol"?e:e+""}function _Ie(t,e){if(R0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CIe(t,e){return kIe(t)||EIe(t,e)||SIe(t,e)||BIe()}function BIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SIe(t,e){if(t){if(typeof t=="string")return AU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AU(t,e)}}function AU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function kIe(t){if(Array.isArray(t))return t}var i1=Math.PI/180,PIe=function(e){return e*180/Math.PI},Tr=function(e,r,n,a){return{x:e+Math.cos(-i1*a)*n,y:r+Math.sin(-i1*a)*n}},ZK=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},FIe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=Gs(e.cx,o,o/2),A=Gs(e.cy,l,l/2),h=ZK(o,l,n),f=Gs(e.innerRadius,h,0),g=Gs(e.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(m,p){var y=r[p],b=y.domain,N=y.reversed,j;if($t(y.range))a==="angleAxis"?j=[c,d]:a==="radiusAxis"&&(j=[f,g]),N&&(j=[j[1],j[0]]);else{j=y.range;var C=j,k=CIe(C,2);c=k[0],d=k[1]}var _=KK(y,i),B=_.realScaleType,T=_.scale;T.domain(b).range(j),WK(T);var w=GK(T,fl(fl({},y),{},{realScaleType:B})),E=fl(fl(fl({},y),w),{},{range:j,radius:g,realScaleType:B,scale:T,cx:u,cy:A,innerRadius:f,outerRadius:g,startAngle:c,endAngle:d});return fl(fl({},m),{},JK({},p,E))},{})},TIe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},OIe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=TIe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:PIe(d),angleInRadian:d}},IIe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},DIe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},hU=function(e,r){var n=e.x,a=e.y,i=OIe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=IIe(r),A=u.startAngle,h=u.endAngle,f=l,g;if(A<=h){for(;f>h;)f-=360;for(;f<A;)f+=360;g=f>=A&&f<=h}else{for(;f>A;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=A}return g?fl(fl({},r),{},{radius:o,angle:DIe(f,r)}):null},eW=function(e){return!P.isValidElement(e)&&!Et(e)&&typeof e!="boolean"?e.className:""};function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}var LIe=["offset"];function MIe(t){return $Ie(t)||QIe(t)||RIe(t)||UIe()}function UIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RIe(t,e){if(t){if(typeof t=="string")return sS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sS(t,e)}}function QIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ie(t){if(Array.isArray(t))return sS(t)}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HIe(t,e){if(t==null)return{};var r=qIe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(r),!0).forEach(function(n){zIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zIe(t,e,r){return e=VIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VIe(t){var e=KIe(t,"string");return Q0(e)=="symbol"?e:e+""}function KIe(t,e){if(Q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}var WIe=function(e){var r=e.value,n=e.formatter,a=$t(e.children)?r:e.children;return Et(n)?n(a):a},GIe=function(e,r){var n=Ws(r-e),a=Math.min(Math.abs(r-e),360);return n*a},XIe=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,A=c.innerRadius,h=c.outerRadius,f=c.startAngle,g=c.endAngle,x=c.clockWise,m=(A+h)/2,p=GIe(f,g),y=p>=0?1:-1,b,N;a==="insideStart"?(b=f+y*o,N=x):a==="insideEnd"?(b=g-y*o,N=!x):a==="end"&&(b=g+y*o,N=x),N=p<=0?N:!N;var j=Tr(d,u,m,b),C=Tr(d,u,m,b+(N?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),_=$t(e.id)?_x("recharts-radial-line-"):e.id;return we.createElement("text",$0({},n,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),we.createElement("defs",null,we.createElement("path",{id:_,d:k})),we.createElement("textPath",{xlinkHref:"#".concat(_)},r))},YIe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,A=i.endAngle,h=(u+A)/2;if(a==="outside"){var f=Tr(o,l,d+n,h),g=f.x,x=f.y;return{x:g,y:x,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+d)/2,p=Tr(o,l,m,h),y=p.x,b=p.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},JIe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,A=u>=0?1:-1,h=A*a,f=A>0?"end":"start",g=A>0?"start":"end",x=d>=0?1:-1,m=x*a,p=x>0?"end":"start",y=x>0?"start":"end";if(i==="top"){var b={x:l+d/2,y:c-A*a,textAnchor:"middle",verticalAnchor:f};return Un(Un({},b),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:g};return Un(Un({},N),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var j={x:l-m,y:c+u/2,textAnchor:p,verticalAnchor:"middle"};return Un(Un({},j),n?{width:Math.max(j.x-n.x,0),height:u}:{})}if(i==="right"){var C={x:l+d+m,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Un(Un({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var k=n?{width:d,height:u}:{};return i==="insideLeft"?Un({x:l+m,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideRight"?Un({x:l+d-m,y:c+u/2,textAnchor:p,verticalAnchor:"middle"},k):i==="insideTop"?Un({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?Un({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:f},k):i==="insideTopLeft"?Un({x:l+m,y:c+h,textAnchor:y,verticalAnchor:g},k):i==="insideTopRight"?Un({x:l+d-m,y:c+h,textAnchor:p,verticalAnchor:g},k):i==="insideBottomLeft"?Un({x:l+m,y:c+u-h,textAnchor:y,verticalAnchor:f},k):i==="insideBottomRight"?Un({x:l+d-m,y:c+u-h,textAnchor:p,verticalAnchor:f},k):dm(i)&&(Ze(i.x)||yu(i.x))&&(Ze(i.y)||yu(i.y))?Un({x:l+Gs(i.x,d),y:c+Gs(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):Un({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},ZIe=function(e){return"cx"in e&&Ze(e.cx)};function rs(t){var e=t.offset,r=e===void 0?5:e,n=HIe(t,LIe),a=Un({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,A=u===void 0?"":u,h=a.textBreakAll;if(!i||$t(l)&&$t(c)&&!P.isValidElement(d)&&!Et(d))return null;if(P.isValidElement(d))return P.cloneElement(d,a);var f;if(Et(d)){if(f=P.createElement(d,a),P.isValidElement(f))return f}else f=WIe(a);var g=ZIe(i),x=_t(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return XIe(a,f,x);var m=g?YIe(a):JIe(a);return we.createElement(Yu,$0({className:Rt("recharts-label",A)},x,m,{breakAll:h}),f)}rs.displayName="Label";var tW=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,A=e.x,h=e.y,f=e.top,g=e.left,x=e.width,m=e.height,p=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ze(x)&&Ze(m)){if(Ze(A)&&Ze(h))return{x:A,y:h,width:x,height:m};if(Ze(f)&&Ze(g))return{x:f,y:g,width:x,height:m}}return Ze(A)&&Ze(h)?{x:A,y:h,width:0,height:0}:Ze(r)&&Ze(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:p}:e.viewBox?e.viewBox:{}},eDe=function(e,r){return e?e===!0?we.createElement(rs,{key:"label-implicit",viewBox:r}):Vn(e)?we.createElement(rs,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===rs?P.cloneElement(e,{key:"label-implicit",viewBox:r}):we.createElement(rs,{key:"label-implicit",content:e,viewBox:r}):Et(e)?we.createElement(rs,{key:"label-implicit",content:e,viewBox:r}):dm(e)?we.createElement(rs,$0({viewBox:r},e,{key:"label-implicit"})):null:null},tDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=tW(e),o=vi(a,rs).map(function(c,d){return P.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=eDe(e.label,r||i);return[l].concat(MIe(o))};rs.parseViewBox=tW;rs.renderCallByParent=tDe;function rDe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nDe=rDe;const sDe=pr(nDe);function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}var aDe=["valueAccessor"],iDe=["data","dataKey","clockWise","id","textBreakAll"];function oDe(t){return uDe(t)||dDe(t)||cDe(t)||lDe()}function lDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cDe(t,e){if(t){if(typeof t=="string")return aS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(t,e)}}function dDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uDe(t){if(Array.isArray(t))return aS(t)}function aS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o1.apply(this,arguments)}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(n){ADe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ADe(t,e,r){return e=hDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hDe(t){var e=fDe(t,"string");return H0(e)=="symbol"?e:e+""}function fDe(t,e){if(H0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gU(t,e){if(t==null)return{};var r=mDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pDe=function(e){return Array.isArray(e.value)?sDe(e.value):e.value};function ad(t){var e=t.valueAccessor,r=e===void 0?pDe:e,n=gU(t,aDe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=gU(n,iDe);return!a||!a.length?null:we.createElement(hr,{className:"recharts-label-list"},a.map(function(u,A){var h=$t(i)?r(u,A):Os(u&&u.payload,i),f=$t(l)?{}:{id:"".concat(l,"-").concat(A)};return we.createElement(rs,o1({},_t(u,!0),d,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:rs.parseViewBox($t(o)?u:pU(pU({},u),{},{clockWise:o})),key:"label-".concat(A),index:A}))}))}ad.displayName="LabelList";function gDe(t,e){return t?t===!0?we.createElement(ad,{key:"labelList-implicit",data:e}):we.isValidElement(t)||Et(t)?we.createElement(ad,{key:"labelList-implicit",data:e,content:t}):dm(t)?we.createElement(ad,o1({data:e},t,{key:"labelList-implicit"})):null:null}function xDe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=vi(n,ad).map(function(o,l){return P.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=gDe(t.label,e);return[i].concat(oDe(a))}ad.renderCallByParent=xDe;function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iS.apply(this,arguments)}function xU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xU(Object(r),!0).forEach(function(n){yDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yDe(t,e,r){return e=vDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vDe(t){var e=bDe(t,"string");return q0(e)=="symbol"?e:e+""}function bDe(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wDe=function(e,r){var n=Ws(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},qv=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,A=Math.asin(c/u)/i1,h=d?i:i+o*A,f=Tr(r,n,u,h),g=Tr(r,n,a,h),x=d?i-o*A:i,m=Tr(r,n,u*Math.cos(A*i1),x);return{center:f,circleTangency:g,lineTangency:m,theta:A}},rW=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=wDe(o,l),d=o+c,u=Tr(r,n,i,o),A=Tr(r,n,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(a>0){var f=Tr(r,n,a,o),g=Tr(r,n,a,d);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},jDe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,A=Ws(u-d),h=qv({cx:r,cy:n,radius:i,angle:d,sign:A,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,g=h.lineTangency,x=h.theta,m=qv({cx:r,cy:n,radius:i,angle:u,sign:-A,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,b=m.theta,N=c?Math.abs(d-u):Math.abs(d-u)-x-b;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rW({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(A<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var C=qv({cx:r,cy:n,radius:a,angle:d,sign:A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=C.circleTangency,_=C.lineTangency,B=C.theta,T=qv({cx:r,cy:n,radius:a,angle:u,sign:-A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),w=T.circleTangency,E=T.lineTangency,D=T.theta,O=c?Math.abs(d-u):Math.abs(d-u)-B-D;if(O<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(A>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(_.x,",").concat(_.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},NDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nW=function(e){var r=yU(yU({},NDe),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,A=r.endAngle,h=r.className;if(o<i||u===A)return null;var f=Rt("recharts-sector",h),g=o-i,x=Gs(l,g,0,!0),m;return x>0&&Math.abs(u-A)<360?m=jDe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:A}):m=rW({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:A}),we.createElement("path",iS({},_t(r,!0),{className:f,d:m,role:"img"}))};function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oS.apply(this,arguments)}function vU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(r),!0).forEach(function(n){_De(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _De(t,e,r){return e=CDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CDe(t){var e=BDe(t,"string");return z0(e)=="symbol"?e:e+""}function BDe(t,e){if(z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wU={curveBasisClosed:__e,curveBasisOpen:C_e,curveBasis:N_e,curveBumpX:d_e,curveBumpY:u_e,curveLinearClosed:B_e,curveLinear:Y2,curveMonotoneX:S_e,curveMonotoneY:E_e,curveNatural:k_e,curveStep:P_e,curveStepAfter:T_e,curveStepBefore:F_e},zv=function(e){return e.x===+e.x&&e.y===+e.y},Cp=function(e){return e.x},Bp=function(e){return e.y},SDe=function(e,r){if(Et(e))return e;var n="curve".concat(G2(e));return(n==="curveMonotone"||n==="curveBump")&&r?wU["".concat(n).concat(r==="vertical"?"Y":"X")]:wU[n]||Y2},EDe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=SDe(n,l),A=d?i.filter(function(x){return zv(x)}):i,h;if(Array.isArray(o)){var f=d?o.filter(function(x){return zv(x)}):o,g=A.map(function(x,m){return bU(bU({},x),{},{base:f[m]})});return l==="vertical"?h=Iv().y(Bp).x1(Cp).x0(function(x){return x.base.x}):h=Iv().x(Cp).y1(Bp).y0(function(x){return x.base.y}),h.defined(zv).curve(u),h(g)}return l==="vertical"&&Ze(o)?h=Iv().y(Bp).x1(Cp).x0(o):Ze(o)?h=Iv().x(Cp).y1(Bp).y0(o):h=Yz().x(Cp).y(Bp),h.defined(zv).curve(u),h(A)},lS=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?EDe(e):a;return P.createElement("path",oS({},_t(e,!1),Fw(e),{className:Rt("recharts-curve",r),d:o,ref:i}))},sW={exports:{}},kDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PDe=kDe,FDe=PDe;function aW(){}function iW(){}iW.resetWarningCache=aW;var TDe=function(){function t(n,a,i,o,l,c){if(c!==FDe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iW,resetWarningCache:aW};return r.PropTypes=r,r};sW.exports=TDe();var ODe=sW.exports;const ar=pr(ODe);var IDe=Object.getOwnPropertyNames,DDe=Object.getOwnPropertySymbols,LDe=Object.prototype.hasOwnProperty;function jU(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Vv(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function MDe(t){return t!=null?t[Symbol.toStringTag]:void 0}function NU(t){return IDe(t).concat(DDe(t))}var UDe=Object.hasOwn||function(t,e){return LDe.call(t,e)};function hA(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var RDe="__v",QDe="__o",$De="_owner",_U=Object.getOwnPropertyDescriptor,CU=Object.keys;function HDe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qDe(t,e){return hA(t.getTime(),e.getTime())}function zDe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function VDe(t,e){return t===e}function BU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,A=0;(l=d.next())&&!l.done;){if(a[A]){A++;continue}var h=o.value,f=l.value;if(r.equals(h[0],f[0],c,A,t,e,r)&&r.equals(h[1],f[1],h[0],f[0],t,e,r)){u=a[A]=!0;break}A++}if(!u)return!1;c++}return!0}var KDe=hA;function WDe(t,e,r){var n=CU(t),a=n.length;if(CU(e).length!==a)return!1;for(;a-- >0;)if(!oW(t,e,r,n[a]))return!1;return!0}function Sp(t,e,r){var n=NU(t),a=n.length;if(NU(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!oW(t,e,r,i)||(o=_U(t,i),l=_U(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function GDe(t,e){return hA(t.valueOf(),e.valueOf())}function XDe(t,e){return t.source===e.source&&t.flags===e.flags}function SU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function YDe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function JDe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function oW(t,e,r,n){return(n===$De||n===QDe||n===RDe)&&(t.$$typeof||e.$$typeof)?!0:UDe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ZDe="[object Arguments]",eLe="[object Boolean]",tLe="[object Date]",rLe="[object Error]",nLe="[object Map]",sLe="[object Number]",aLe="[object Object]",iLe="[object RegExp]",oLe="[object Set]",lLe="[object String]",cLe="[object URL]",dLe=Array.isArray,EU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kU=Object.assign,uLe=Object.prototype.toString.call.bind(Object.prototype.toString);function ALe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,A=t.areTypedArraysEqual,h=t.areUrlsEqual,f=t.unknownTagComparators;return function(x,m,p){if(x===m)return!0;if(x==null||m==null)return!1;var y=typeof x;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(x,m,p):y==="function"?a(x,m,p):!1;var b=x.constructor;if(b!==m.constructor)return!1;if(b===Object)return l(x,m,p);if(dLe(x))return e(x,m,p);if(EU!=null&&EU(x))return A(x,m,p);if(b===Date)return r(x,m,p);if(b===RegExp)return d(x,m,p);if(b===Map)return i(x,m,p);if(b===Set)return u(x,m,p);var N=uLe(x);if(N===tLe)return r(x,m,p);if(N===iLe)return d(x,m,p);if(N===nLe)return i(x,m,p);if(N===oLe)return u(x,m,p);if(N===aLe)return typeof x.then!="function"&&typeof m.then!="function"&&l(x,m,p);if(N===cLe)return h(x,m,p);if(N===rLe)return n(x,m,p);if(N===ZDe)return l(x,m,p);if(N===eLe||N===sLe||N===lLe)return c(x,m,p);if(f){var j=f[N];if(!j){var C=MDe(x);C&&(j=f[C])}if(j)return j(x,m,p)}return!1}}function hLe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Sp:HDe,areDatesEqual:qDe,areErrorsEqual:zDe,areFunctionsEqual:VDe,areMapsEqual:n?jU(BU,Sp):BU,areNumbersEqual:KDe,areObjectsEqual:n?Sp:WDe,arePrimitiveWrappersEqual:GDe,areRegExpsEqual:XDe,areSetsEqual:n?jU(SU,Sp):SU,areTypedArraysEqual:n?Sp:YDe,areUrlsEqual:JDe,unknownTagComparators:void 0};if(r&&(a=kU({},a,r(a))),e){var i=Vv(a.areArraysEqual),o=Vv(a.areMapsEqual),l=Vv(a.areObjectsEqual),c=Vv(a.areSetsEqual);a=kU({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function fLe(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function mLe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,d){var u=n(),A=u.cache,h=A===void 0?e?new WeakMap:void 0:A,f=u.meta;return r(c,d,{cache:h,equals:a,meta:f,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var pLe=Nd();Nd({strict:!0});Nd({circular:!0});Nd({circular:!0,strict:!0});Nd({createInternalComparator:function(){return hA}});Nd({strict:!0,createInternalComparator:function(){return hA}});Nd({circular:!0,createInternalComparator:function(){return hA}});Nd({circular:!0,createInternalComparator:function(){return hA},strict:!0});function Nd(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=hLe(t),c=ALe(l),d=n?n(c):fLe(c);return mLe({circular:r,comparator:c,createState:a,equals:d,strict:o})}function gLe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function PU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):gLe(a)};requestAnimationFrame(n)}function cS(t){"@babel/helpers - typeof";return cS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cS(t)}function xLe(t){return wLe(t)||bLe(t)||vLe(t)||yLe()}function yLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vLe(t,e){if(t){if(typeof t=="string")return FU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FU(t,e)}}function FU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wLe(t){if(Array.isArray(t))return t}function jLe(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=xLe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){PU(a.bind(null,d),c);return}a(c),PU(a.bind(null,d));return}cS(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function TU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(r),!0).forEach(function(n){lW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lW(t,e,r){return e=NLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NLe(t){var e=_Le(t,"string");return V0(e)==="symbol"?e:String(e)}function _Le(t,e){if(V0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CLe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},BLe=function(e){return e},SLe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Pg=function(e,r){return Object.keys(r).reduce(function(n,a){return OU(OU({},n),{},lW({},a,e(a,r[a])))},{})},IU=function(e,r,n){return e.map(function(a){return"".concat(SLe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function ELe(t,e){return FLe(t)||PLe(t,e)||cW(t,e)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function FLe(t){if(Array.isArray(t))return t}function TLe(t){return DLe(t)||ILe(t)||cW(t)||OLe()}function OLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cW(t,e){if(t){if(typeof t=="string")return dS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dS(t,e)}}function ILe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DLe(t){if(Array.isArray(t))return dS(t)}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l1=1e-4,dW=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},uW=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},DU=function(e,r){return function(n){var a=dW(e,r);return uW(a,n)}},LLe=function(e,r){return function(n){var a=dW(e,r),i=[].concat(TLe(a.map(function(o,l){return o*l}).slice(1)),[0]);return uW(i,n)}},LU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),u=ELe(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var A=DU(a,o),h=DU(i,l),f=LLe(a,o),g=function(p){return p>1?1:p<0?0:p},x=function(p){for(var y=p>1?1:p,b=y,N=0;N<8;++N){var j=A(b)-y,C=f(b);if(Math.abs(j-y)<l1||C<l1)return h(b);b=g(b-j/C)}return h(b)};return x.isStepper=!1,x},MLe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,A,h){var f=-(u-A)*n,g=h*i,x=h+(f-g)*l/1e3,m=h*l/1e3+u;return Math.abs(m-A)<l1&&Math.abs(x)<l1?[A,0]:[m,x]};return c.isStepper=!0,c.dt=l,c},ULe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LU(a);case"spring":return MLe();default:if(a.split("(")[0]==="cubic-bezier")return LU(a)}return typeof a=="function"?a:null};function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function MU(t){return $Le(t)||QLe(t)||AW(t)||RLe()}function RLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Le(t){if(Array.isArray(t))return AS(t)}function UU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(r),!0).forEach(function(n){uS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uS(t,e,r){return e=HLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HLe(t){var e=qLe(t,"string");return K0(e)==="symbol"?e:String(e)}function qLe(t,e){if(K0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(K0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zLe(t,e){return WLe(t)||KLe(t,e)||AW(t,e)||VLe()}function VLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(t,e){if(t){if(typeof t=="string")return AS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AS(t,e)}}function AS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function WLe(t){if(Array.isArray(t))return t}var c1=function(e,r,n){return e+(r-e)*n},hS=function(e){var r=e.from,n=e.to;return r!==n},GLe=function t(e,r,n){var a=Pg(function(i,o){if(hS(o)){var l=e(o.from,o.to,o.velocity),c=zLe(l,2),d=c[0],u=c[1];return ds(ds({},o),{},{from:d,velocity:u})}return o},r);return n<1?Pg(function(i,o){return hS(o)?ds(ds({},o),{},{velocity:c1(o.velocity,a[i].velocity,n),from:c1(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const XLe=function(t,e,r,n,a){var i=CLe(t,e),o=i.reduce(function(m,p){return ds(ds({},m),{},uS({},p,[t[p],e[p]]))},{}),l=i.reduce(function(m,p){return ds(ds({},m),{},uS({},p,{from:t[p],velocity:0,to:e[p]}))},{}),c=-1,d,u,A=function(){return null},h=function(){return Pg(function(p,y){return y.from},l)},f=function(){return!Object.values(l).filter(hS).length},g=function(p){d||(d=p);var y=p-d,b=y/r.dt;l=GLe(r,l,b),a(ds(ds(ds({},t),e),h())),d=p,f()||(c=requestAnimationFrame(A))},x=function(p){u||(u=p);var y=(p-u)/n,b=Pg(function(j,C){return c1.apply(void 0,MU(C).concat([r(y)]))},o);if(a(ds(ds(ds({},t),e),b)),y<1)c=requestAnimationFrame(A);else{var N=Pg(function(j,C){return c1.apply(void 0,MU(C).concat([r(1)]))},o);a(ds(ds(ds({},t),e),N))}};return A=r.isStepper?g:x,function(){return requestAnimationFrame(A),function(){cancelAnimationFrame(c)}}};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var YLe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JLe(t,e){if(t==null)return{};var r=ZLe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZLe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function F5(t){return nMe(t)||rMe(t)||tMe(t)||eMe()}function eMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tMe(t,e){if(t){if(typeof t=="string")return fS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(t,e)}}function rMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nMe(t){if(Array.isArray(t))return fS(t)}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RU(Object(r),!0).forEach(function(n){Xp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xp(t,e,r){return e=hW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hW(n.key),n)}}function iMe(t,e,r){return e&&aMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hW(t){var e=oMe(t,"string");return Lf(e)==="symbol"?e:String(e)}function oMe(t,e){if(Lf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mS(t,e)}function mS(t,e){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(t,e)}function cMe(t){var e=dMe();return function(){var n=d1(t),a;if(e){var i=d1(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return pS(this,a)}}function pS(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gS(t)}function gS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(t)}var ql=function(t){lMe(r,t);var e=cMe(r);function r(n,a){var i;sMe(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,A=o.steps,h=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(gS(i)),i.changeStyle=i.changeStyle.bind(gS(i)),!l||f<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),pS(i);if(A&&A.length)i.state={style:A[0].style};else if(d){if(typeof h=="function")return i.state={style:d},pS(i);i.state={style:c?Xp({},c,d):d}}else i.state={style:{}};return i}return iMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,A=i.from,h=this.state.style;if(l){if(!o){var f={style:c?Xp({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(f);return}if(!(pLe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||d?A:a.to;if(this.state&&h){var m={style:c?Xp({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(m)}this.runAnimation(Qi(Qi({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,A=a.onAnimationEnd,h=a.onAnimationStart,f=XLe(o,l,ULe(d),c,this.changeStyle),g=function(){i.stopJSAnimation=f()};this.manager.start([h,u,g,c,A])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,A=d.duration,h=A===void 0?0:A,f=function(x,m,p){if(p===0)return x;var y=m.duration,b=m.easing,N=b===void 0?"ease":b,j=m.style,C=m.properties,k=m.onAnimationEnd,_=p>0?o[p-1]:m,B=C||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(F5(x),[i.runJSAnimation.bind(i,{from:_.style,to:j,duration:y,easing:N}),y]);var T=IU(B,y,N),w=Qi(Qi(Qi({},_.style),j),{},{transition:T});return[].concat(F5(x),[w,y,k]).filter(BLe)};return this.manager.start([c].concat(F5(o.reduce(f,[u,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=jLe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,A=a.onAnimationEnd,h=a.steps,f=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?Xp({},l,c):c,m=IU(Object.keys(x),o,d);g.start([u,i,Qi(Qi({},x),{},{transition:m}),o,A])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=JLe(a,YLe),d=P.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var A=function(f){var g=f.props,x=g.style,m=x===void 0?{}:x,p=g.className,y=P.cloneElement(f,Qi(Qi({},c),{},{style:Qi(Qi({},m),u),className:p}));return y};return d===1?A(P.Children.only(i)):we.createElement("div",null,P.Children.map(i,function(h){return A(h)}))}}]),r}(P.PureComponent);ql.displayName="Animate";ql.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ql.propTypes={from:ar.oneOfType([ar.object,ar.string]),to:ar.oneOfType([ar.object,ar.string]),attributeName:ar.string,duration:ar.number,begin:ar.number,easing:ar.oneOfType([ar.string,ar.func]),steps:ar.arrayOf(ar.shape({duration:ar.number.isRequired,style:ar.object.isRequired,easing:ar.oneOfType([ar.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ar.func]),properties:ar.arrayOf("string"),onAnimationEnd:ar.func})),children:ar.oneOfType([ar.node,ar.func]),isActive:ar.bool,canBegin:ar.bool,onAnimationEnd:ar.func,shouldReAnimate:ar.bool,onAnimationStart:ar.func,onAnimationReStart:ar.func};function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}function uMe(t,e){return mMe(t)||fMe(t,e)||hMe(t,e)||AMe()}function AMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hMe(t,e){if(t){if(typeof t=="string")return QU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QU(t,e)}}function QU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function mMe(t){if(Array.isArray(t))return t}function $U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(r),!0).forEach(function(n){pMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pMe(t,e,r){return e=gMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gMe(t){var e=xMe(t,"string");return W0(e)=="symbol"?e:e+""}function xMe(t,e){if(W0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qU=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var A=[0,0,0,0],h=0,f=4;h<f;h++)A[h]=i[h]>o?o:i[h];u="M".concat(e,",").concat(r+l*A[0]),A[0]>0&&(u+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(d,",").concat(e+c*A[0],",").concat(r)),u+="L ".concat(e+n-c*A[1],",").concat(r),A[1]>0&&(u+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*A[1])),u+="L ".concat(e+n,",").concat(r+a-l*A[2]),A[2]>0&&(u+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(d,`,
        `).concat(e+n-c*A[2],",").concat(r+a)),u+="L ".concat(e+c*A[3],",").concat(r+a),A[3]>0&&(u+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*A[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},yMe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),A=Math.min(o,o+c),h=Math.max(o,o+c);return n>=d&&n<=u&&a>=A&&a<=h}return!1},vMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e6=function(e){var r=HU(HU({},vMe),e),n=P.useRef(),a=P.useState(-1),i=uMe(a,2),o=i[0],l=i[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,u=r.width,A=r.height,h=r.radius,f=r.className,g=r.animationEasing,x=r.animationDuration,m=r.animationBegin,p=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||u===0||A===0)return null;var b=Rt("recharts-rectangle",f);return y?we.createElement(ql,{canBegin:o>0,from:{width:u,height:A,x:c,y:d},to:{width:u,height:A,x:c,y:d},duration:x,animationEasing:g,isActive:y},function(N){var j=N.width,C=N.height,k=N.x,_=N.y;return we.createElement(ql,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,isActive:p,easing:g},we.createElement("path",u1({},_t(r,!0),{className:b,d:qU(k,_,j,C,h),ref:n})))}):we.createElement("path",u1({},_t(r,!0),{className:b,d:qU(c,d,u,A,h)}))},bMe=["points","className","baseLinePoints","connectNulls"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mh.apply(this,arguments)}function wMe(t,e){if(t==null)return{};var r=jMe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zU(t){return BMe(t)||CMe(t)||_Me(t)||NMe()}function NMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Me(t,e){if(t){if(typeof t=="string")return xS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xS(t,e)}}function CMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BMe(t){if(Array.isArray(t))return xS(t)}function xS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var VU=function(e){return e&&e.x===+e.x&&e.y===+e.y},SMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){VU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),VU(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Fg=function(e,r){var n=SMe(e);r&&(n=[n.reduce(function(i,o){return[].concat(zU(i),zU(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},EMe=function(e,r,n){var a=Fg(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Fg(r.reverse(),n).slice(1))},kMe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=wMe(e,bMe);if(!r||!r.length)return null;var l=Rt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=EMe(r,a,i);return we.createElement("g",{className:l},we.createElement("path",Mh({},_t(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?we.createElement("path",Mh({},_t(o,!0),{fill:"none",d:Fg(r,i)})):null,c?we.createElement("path",Mh({},_t(o,!0),{fill:"none",d:Fg(a,i)})):null)}var u=Fg(r,i);return we.createElement("path",Mh({},_t(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yS.apply(this,arguments)}var t6=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=Rt("recharts-dot",i);return r===+r&&n===+n&&a===+a?P.createElement("circle",yS({},_t(e,!1),Fw(e),{className:o,cx:r,cy:n,r:a})):null};function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}var PMe=["x","y","top","left","width","height","className"];function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vS.apply(this,arguments)}function KU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FMe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(r),!0).forEach(function(n){TMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TMe(t,e,r){return e=OMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OMe(t){var e=IMe(t,"string");return G0(e)=="symbol"?e:e+""}function IMe(t,e){if(G0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DMe(t,e){if(t==null)return{};var r=LMe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var MMe=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},UMe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,A=u===void 0?0:u,h=e.height,f=h===void 0?0:h,g=e.className,x=DMe(e,PMe),m=FMe({x:n,y:i,top:l,left:d,width:A,height:f},x);return!Ze(n)||!Ze(i)||!Ze(A)||!Ze(f)||!Ze(l)||!Ze(d)?null:we.createElement("path",vS({},_t(m,!0),{className:Rt("recharts-cross",g),d:MMe(n,i,A,f,l,d)}))},RMe=lj,QMe=_K,$Me=Vo;function HMe(t,e){return t&&t.length?RMe(t,$Me(e),QMe):void 0}var qMe=HMe;const zMe=pr(qMe);var VMe=lj,KMe=Vo,WMe=CK;function GMe(t,e){return t&&t.length?VMe(t,KMe(e),WMe):void 0}var XMe=GMe;const YMe=pr(XMe);var JMe=["cx","cy","angle","ticks","axisLine"],ZMe=["ticks","tick","angle","tickFormatter","stroke"];function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function WU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(r),!0).forEach(function(n){mj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GU(t,e){if(t==null)return{};var r=eUe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mW(n.key),n)}}function rUe(t,e,r){return e&&XU(t.prototype,e),r&&XU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nUe(t,e,r){return e=A1(e),sUe(t,fW()?Reflect.construct(e,r||[],A1(t).constructor):e.apply(t,r))}function sUe(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aUe(t)}function aUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fW=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(t)}function iUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bS(t,e)}function mj(t,e,r){return e=mW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mW(t){var e=oUe(t,"string");return Mf(e)=="symbol"?e:e+""}function oUe(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pj=function(t){function e(){return tUe(this,e),nUe(this,e,arguments)}return iUe(e,t),rUe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Tr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=zMe(l,function(u){return u.coordinate||0}),d=YMe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=GU(n,JMe),u=l.reduce(function(g,x){return[Math.min(g[0],x.coordinate),Math.max(g[1],x.coordinate)]},[1/0,-1/0]),A=Tr(a,i,u[0],o),h=Tr(a,i,u[1],o),f=zd(zd(zd({},_t(d,!1)),{},{fill:"none"},_t(c,!1)),{},{x1:A.x,y1:A.y,x2:h.x,y2:h.y});return we.createElement("line",Tg({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=GU(a,ZMe),A=this.getTickTextAnchor(),h=_t(u,!1),f=_t(o,!1),g=i.map(function(x,m){var p=n.getTickValueCoord(x),y=zd(zd(zd(zd({textAnchor:A,transform:"rotate(".concat(90-l,", ").concat(p.x,", ").concat(p.y,")")},h),{},{stroke:"none",fill:d},f),{},{index:m},p),{},{payload:x});return we.createElement(hr,Tg({className:Rt("recharts-polar-radius-axis-tick",eW(o)),key:"tick-".concat(x.coordinate)},Xu(n.props,x,m)),e.renderTickItem(o,y,c?c(x.value,m):x.value))});return we.createElement(hr,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:we.createElement(hr,{className:Rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),rs.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return we.isValidElement(n)?o=we.cloneElement(n,a):Et(n)?o=n(a):o=we.createElement(Yu,Tg({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(P.PureComponent);mj(pj,"displayName","PolarRadiusAxis");mj(pj,"axisType","radiusAxis");mj(pj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lu.apply(this,arguments)}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){gj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gW(n.key),n)}}function cUe(t,e,r){return e&&JU(t.prototype,e),r&&JU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dUe(t,e,r){return e=h1(e),uUe(t,pW()?Reflect.construct(e,r||[],h1(t).constructor):e.apply(t,r))}function uUe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AUe(t)}function AUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(t)}function hUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wS(t,e)}function gj(t,e,r){return e=gW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gW(t){var e=fUe(t,"string");return Uf(e)=="symbol"?e:e+""}function fUe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mUe=Math.PI/180,ZU=1e-5,xj=function(t){function e(){return lUe(this,e),dUe(this,e,arguments)}return hUe(e,t),cUe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,A=Tr(i,o,l,n.coordinate),h=Tr(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:A.x,y1:A.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*mUe),o;return i>ZU?o=a==="outer"?"start":"end":i<-ZU?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Vd(Vd({},_t(this.props,!1)),{},{fill:"none"},_t(l,!1));if(c==="circle")return we.createElement(t6,lu({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,A=u.map(function(h){return Tr(a,i,o,h.coordinate)});return we.createElement(kMe,lu({className:"recharts-polar-angle-axis-line"},d,{points:A}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=_t(this.props,!1),A=_t(o,!1),h=Vd(Vd({},u),{},{fill:"none"},_t(l,!1)),f=i.map(function(g,x){var m=n.getTickLineCoord(g),p=n.getTickTextAnchor(g),y=Vd(Vd(Vd({textAnchor:p},u),{},{stroke:"none",fill:d},A),{},{index:x,payload:g,x:m.x2,y:m.y2});return we.createElement(hr,lu({className:Rt("recharts-polar-angle-axis-tick",eW(o)),key:"tick-".concat(g.coordinate)},Xu(n.props,g,x)),l&&we.createElement("line",lu({className:"recharts-polar-angle-axis-tick-line"},h,m)),o&&e.renderTickItem(o,y,c?c(g.value,x):g.value))});return we.createElement(hr,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:we.createElement(hr,{className:Rt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return we.isValidElement(n)?o=we.cloneElement(n,a):Et(n)?o=n(a):o=we.createElement(Yu,lu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(P.PureComponent);gj(xj,"displayName","PolarAngleAxis");gj(xj,"axisType","angleAxis");gj(xj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pUe=bV,gUe=pUe(Object.getPrototypeOf,Object),xUe=gUe,yUe=Xl,vUe=xUe,bUe=Yl,wUe="[object Object]",jUe=Function.prototype,NUe=Object.prototype,xW=jUe.toString,_Ue=NUe.hasOwnProperty,CUe=xW.call(Object);function BUe(t){if(!bUe(t)||yUe(t)!=wUe)return!1;var e=vUe(t);if(e===null)return!0;var r=_Ue.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&xW.call(r)==CUe}var SUe=BUe;const EUe=pr(SUe);var kUe=Xl,PUe=Yl,FUe="[object Boolean]";function TUe(t){return t===!0||t===!1||PUe(t)&&kUe(t)==FUe}var OUe=TUe;const IUe=pr(OUe);function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f1.apply(this,arguments)}function DUe(t,e){return RUe(t)||UUe(t,e)||MUe(t,e)||LUe()}function LUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MUe(t,e){if(t){if(typeof t=="string")return e8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e8(t,e)}}function e8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function RUe(t){if(Array.isArray(t))return t}function t8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function r8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(r),!0).forEach(function(n){QUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QUe(t,e,r){return e=$Ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ue(t){var e=HUe(t,"string");return X0(e)=="symbol"?e:e+""}function HUe(t,e){if(X0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n8=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},qUe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zUe=function(e){var r=r8(r8({},qUe),e),n=P.useRef(),a=P.useState(-1),i=DUe(a,2),o=i[0],l=i[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,A=r.lowerWidth,h=r.height,f=r.className,g=r.animationEasing,x=r.animationDuration,m=r.animationBegin,p=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||h!==+h||u===0&&A===0||h===0)return null;var y=Rt("recharts-trapezoid",f);return p?we.createElement(ql,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:A,height:h,x:c,y:d},duration:x,animationEasing:g,isActive:p},function(b){var N=b.upperWidth,j=b.lowerWidth,C=b.height,k=b.x,_=b.y;return we.createElement(ql,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,easing:g},we.createElement("path",f1({},_t(r,!0),{className:y,d:n8(k,_,N,j,C),ref:n})))}):we.createElement("g",null,we.createElement("path",f1({},_t(r,!0),{className:y,d:n8(c,d,u,A,h)})))},VUe=["option","shapeType","propTransformer","activeClassName","isActive"];function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function KUe(t,e){if(t==null)return{};var r=WUe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function s8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function m1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(r),!0).forEach(function(n){GUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GUe(t,e,r){return e=XUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XUe(t){var e=YUe(t,"string");return Y0(e)=="symbol"?e:e+""}function YUe(t,e){if(Y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JUe(t,e){return m1(m1({},e),t)}function ZUe(t,e){return t==="symbols"}function a8(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return we.createElement(e6,r);case"trapezoid":return we.createElement(zUe,r);case"sector":return we.createElement(nW,r);case"symbols":if(ZUe(e))return we.createElement(xk,r);break;default:return null}}function e8e(t){return P.isValidElement(t)?t.props:t}function yW(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?JUe:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=KUe(t,VUe),d;if(P.isValidElement(e))d=P.cloneElement(e,m1(m1({},c),e8e(e)));else if(Et(e))d=e(c);else if(EUe(e)&&!IUe(e)){var u=a(e,c);d=we.createElement(a8,{shapeType:r,elementProps:u})}else{var A=c;d=we.createElement(a8,{shapeType:r,elementProps:A})}return l?we.createElement(hr,{className:o},d):d}function yj(t,e){return e!=null&&"trapezoids"in t.props}function vj(t,e){return e!=null&&"sectors"in t.props}function J0(t,e){return e!=null&&"points"in t.props}function t8e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function r8e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function n8e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function s8e(t,e){var r;return yj(t,e)?r=t8e:vj(t,e)?r=r8e:J0(t,e)&&(r=n8e),r}function a8e(t,e){var r;return yj(t,e)?r="trapezoids":vj(t,e)?r="sectors":J0(t,e)&&(r="points"),r}function i8e(t,e){if(yj(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vj(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return J0(t,e)?e.payload:{}}function o8e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=a8e(r,e),i=i8e(r,e),o=n.filter(function(c,d){var u=uj(i,c),A=r.props[a].filter(function(g){var x=s8e(r,e);return x(g,e)}),h=r.props[a].indexOf(A[A.length-1]),f=d===h;return u&&f}),l=n.indexOf(o[o.length-1]);return l}var Sb;function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uh.apply(this,arguments)}function i8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(r),!0).forEach(function(n){di(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bW(n.key),n)}}function c8e(t,e,r){return e&&o8(t.prototype,e),r&&o8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d8e(t,e,r){return e=p1(e),u8e(t,vW()?Reflect.construct(e,r||[],p1(t).constructor):e.apply(t,r))}function u8e(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A8e(t)}function A8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vW=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(t)}function h8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jS(t,e)}function di(t,e,r){return e=bW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bW(t){var e=f8e(t,"string");return Rf(e)=="symbol"?e:e+""}function f8e(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zl=function(t){function e(r){var n;return l8e(this,e),n=d8e(this,e,[r]),di(n,"pieRef",null),di(n,"sectorRefs",[]),di(n,"id",_x("recharts-pie-")),di(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Et(a)&&a()}),di(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Et(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return h8e(e,t),c8e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=_t(this.props,!1),A=_t(o,!1),h=_t(l,!1),f=o&&o.offsetRadius||20,g=n.map(function(x,m){var p=(x.startAngle+x.endAngle)/2,y=Tr(x.cx,x.cy,x.outerRadius+f,p),b=Sr(Sr(Sr(Sr({},u),x),{},{stroke:"none"},A),{},{index:m,textAnchor:e.getTextAnchor(y.x,x.cx)},y),N=Sr(Sr(Sr(Sr({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:m,points:[Tr(x.cx,x.cy,x.outerRadius,p),y]}),j=c;return $t(c)&&$t(d)?j="value":$t(c)&&(j=d),we.createElement(hr,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(m)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(o,b,Os(x,j)))});return we.createElement(hr,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var A=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,f=A?o:h,g=Sr(Sr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return we.createElement(hr,Uh({ref:function(m){m&&!a.sectorRefs.includes(m)&&a.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},Xu(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),we.createElement(yW,Uh({option:f,isActive:A,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,A=this.state,h=A.prevSectors,f=A.prevIsAnimationActive;return we.createElement(ql,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var x=g.t,m=[],p=i&&i[0],y=p.startAngle;return i.forEach(function(b,N){var j=h&&h[N],C=N>0?Qa(b,"paddingAngle",0):0;if(j){var k=Bc(j.endAngle-j.startAngle,b.endAngle-b.startAngle),_=Sr(Sr({},b),{},{startAngle:y+C,endAngle:y+k(x)+C});m.push(_),y=_.endAngle}else{var B=b.endAngle,T=b.startAngle,w=Bc(0,B-T),E=w(x),D=Sr(Sr({},b),{},{startAngle:y+C,endAngle:y+E+C});m.push(D),y=D.endAngle}}),we.createElement(hr,null,n.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!uj(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,A=a.innerRadius,h=a.outerRadius,f=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Ze(d)||!Ze(u)||!Ze(A)||!Ze(h))return null;var x=Rt("recharts-pie",l);return we.createElement(hr,{tabIndex:this.props.rootTabIndex,className:x,ref:function(p){n.pieRef=p}},this.renderSectors(),c&&this.renderLabels(o),rs.renderCallByParent(this.props,null,!1),(!f||g)&&ad.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(we.isValidElement(n))return we.cloneElement(n,a);if(Et(n))return n(a);var o=Rt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return we.createElement(lS,Uh({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(we.isValidElement(n))return we.cloneElement(n,a);var o=i;if(Et(n)&&(o=n(a),we.isValidElement(o)))return o;var l=Rt("recharts-pie-label-text",typeof n!="boolean"&&!Et(n)?n.className:"");return we.createElement(Yu,Uh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(P.PureComponent);Sb=Zl;di(Zl,"displayName","Pie");di(Zl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});di(Zl,"parseDeltaAngle",function(t,e){var r=Ws(e-t),n=Math.min(Math.abs(e-t),360);return r*n});di(Zl,"getRealPieData",function(t){var e=t.data,r=t.children,n=_t(t,!1),a=vi(r,Bx);return e&&e.length?e.map(function(i,o){return Sr(Sr(Sr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Sr(Sr({},n),i.props)}):[]});di(Zl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=ZK(a,i),l=n+Gs(t.cx,a,a/2),c=r+Gs(t.cy,i,i/2),d=Gs(t.innerRadius,o,0),u=Gs(t.outerRadius,o,o*.8),A=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:A}});di(Zl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Sr(Sr({},e.type.defaultProps),e.props):e.props,a=Sb.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,A=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),g=Sb.parseCoordinateOfPie(n,r),x=Sb.parseDeltaAngle(o,l),m=Math.abs(x),p=d;$t(d)&&$t(A)?(ro(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):$t(d)&&(ro(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=A);var y=a.filter(function(_){return Os(_,p,0)!==0}).length,b=(m>=360?y:y-1)*c,N=m-y*f-b,j=a.reduce(function(_,B){var T=Os(B,p,0);return _+(Ze(T)?T:0)},0),C;if(j>0){var k;C=a.map(function(_,B){var T=Os(_,p,0),w=Os(_,u,B),E=(Ze(T)?T:0)/j,D;B?D=k.endAngle+Ws(x)*c*(T!==0?1:0):D=o;var O=D+Ws(x)*((T!==0?f:0)+E*N),L=(D+O)/2,U=(g.innerRadius+g.outerRadius)/2,M=[{name:w,value:T,payload:_,dataKey:p,type:h}],Q=Tr(g.cx,g.cy,U,L);return k=Sr(Sr(Sr({percent:E,cornerRadius:i,name:w,tooltipPayload:M,midAngle:L,middleRadius:U,tooltipPosition:Q},_),g),{},{value:Os(_,p),startAngle:D,endAngle:O,payload:_,paddingAngle:Ws(x)*c}),k})}return Sr(Sr({},g),{},{sectors:C,data:a})});var m8e=Math.ceil,p8e=Math.max;function g8e(t,e,r,n){for(var a=-1,i=p8e(m8e((e-t)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=r;return o}var x8e=g8e,y8e=RV,l8=1/0,v8e=17976931348623157e292;function b8e(t){if(!t)return t===0?t:0;if(t=y8e(t),t===l8||t===-l8){var e=t<0?-1:1;return e*v8e}return t===t?t:0}var wW=b8e,w8e=x8e,j8e=tj,T5=wW;function N8e(t){return function(e,r,n){return n&&typeof n!="number"&&j8e(e,r,n)&&(r=n=void 0),e=T5(e),r===void 0?(r=e,e=0):r=T5(r),n=n===void 0?e<r?1:-1:T5(n),w8e(e,r,n,t)}}var _8e=N8e,C8e=_8e,B8e=C8e(),S8e=B8e;const g1=pr(S8e);function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function c8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function d8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(r),!0).forEach(function(n){jW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jW(t,e,r){return e=E8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E8e(t){var e=k8e(t,"string");return Z0(e)=="symbol"?e:e+""}function k8e(t,e){if(Z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P8e=["Webkit","Moz","O","ms"],F8e=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=P8e.reduce(function(i,o){return d8(d8({},i),{},jW({},o+n,r))},{});return a[e]=r,a};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(this,arguments)}function u8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function O5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(r),!0).forEach(function(n){Fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_W(n.key),n)}}function O8e(t,e,r){return e&&A8(t.prototype,e),r&&A8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function I8e(t,e,r){return e=y1(e),D8e(t,NW()?Reflect.construct(e,r||[],y1(t).constructor):e.apply(t,r))}function D8e(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L8e(t)}function L8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NW=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y1(t)}function M8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NS(t,e)}function Fa(t,e,r){return e=_W(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _W(t){var e=U8e(t,"string");return Qf(e)=="symbol"?e:e+""}function U8e(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R8e=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Eg().domain(g1(0,c)).range([i,i+o-l]),u=d.domain().map(function(A){return d(A)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},h8=function(e){return e.changedTouches&&!!e.changedTouches.length},$f=function(t){function e(r){var n;return T8e(this,e),n=I8e(this,e,[r]),Fa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Fa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Fa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Fa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Fa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Fa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Fa(n,"handleSlideDragStart",function(a){var i=h8(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return M8e(e,t),O8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,A=Math.min(a,i),h=Math.max(a,i),f=e.getIndexInRange(o,A),g=e.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Os(i[n],l,n);return Et(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,A=c.travellerWidth,h=c.startIndex,f=c.endIndex,g=c.onChange,x=n.pageX-i;x>0?x=Math.min(x,d+u-A-l,d+u-A-o):x<0&&(x=Math.max(x,d-o,d-l));var m=this.getIndex({startX:o+x,endX:l+x});(m.startIndex!==h||m.endIndex!==f)&&g&&g(m),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=h8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,A=u.x,h=u.width,f=u.travellerWidth,g=u.onChange,x=u.gap,m=u.data,p={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,A+h-f-d):y<0&&(y=Math.max(y,A-d)),p[o]=d+y;var b=this.getIndex(p),N=b.startIndex,j=b.endIndex,C=function(){var _=m.length-1;return o==="startX"&&(l>c?N%x===0:j%x===0)||l<c&&j===_||o==="endX"&&(l>c?j%x===0:N%x===0)||l>c&&j===_};this.setState(Fa(Fa({},o,d+y),"brushMoveStartX",n.pageX),function(){g&&C()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],A=l.indexOf(u);if(A!==-1){var h=A+n;if(!(h===-1||h>=l.length)){var f=l[h];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(Fa({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return we.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,A=P.Children.only(d);return A?we.cloneElement(A,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,A=c.height,h=c.traveller,f=c.ariaLabel,g=c.data,x=c.startIndex,m=c.endIndex,p=Math.max(n,this.props.x),y=O5(O5({},_t(this.props,!1)),{},{x:p,y:d,width:u,height:A}),b=f||"Min value: ".concat((i=g[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[m])===null||o===void 0?void 0:o.name);return we.createElement(hr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,A=Math.max(Math.abs(a-n)-d,0);return we.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:A,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,A=u.startX,h=u.endX,f=5,g={pointerEvents:"none",fill:d};return we.createElement(hr,{className:"recharts-brush-texts"},we.createElement(Yu,x1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(A,h)-f,y:o+l/2},g),this.getTextOfTick(a)),we.createElement(Yu,x1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(A,h)+c+f,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,A=n.alwaysShowText,h=this.state,f=h.startX,g=h.endX,x=h.isTextActive,m=h.isSlideMoving,p=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Ze(l)||!Ze(c)||!Ze(d)||!Ze(u)||d<=0||u<=0)return null;var b=Rt("recharts-brush",i),N=we.Children.count(o)===1,j=F8e("userSelect","none");return we.createElement(hr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(x||m||p||y||A)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return we.createElement(we.Fragment,null,we.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),we.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),we.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return we.isValidElement(n)?i=we.cloneElement(n,a):Et(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,A=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return O5({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?R8e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:A}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(P.PureComponent);Fa($f,"displayName","Brush");Fa($f,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Q8e=_k;function $8e(t,e){var r;return Q8e(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var H8e=$8e,q8e=hV,z8e=Vo,V8e=H8e,K8e=Na,W8e=tj;function G8e(t,e,r){var n=K8e(t)?q8e:V8e;return r&&W8e(t,e,r)&&(e=void 0),n(t,z8e(e))}var X8e=G8e;const Y8e=pr(X8e);var Ro=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},f8=IV;function J8e(t,e,r){e=="__proto__"&&f8?f8(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Z8e=J8e,eRe=Z8e,tRe=TV,rRe=Vo;function nRe(t,e){var r={};return e=rRe(e),tRe(t,function(n,a,i){eRe(r,a,e(n,a,i))}),r}var sRe=nRe;const aRe=pr(sRe);function iRe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var oRe=iRe,lRe=_k;function cRe(t,e){var r=!0;return lRe(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var dRe=cRe,uRe=oRe,ARe=dRe,hRe=Vo,fRe=Na,mRe=tj;function pRe(t,e,r){var n=fRe(t)?uRe:ARe;return r&&mRe(t,e,r)&&(e=void 0),n(t,hRe(e))}var gRe=pRe;const CW=pr(gRe);var xRe=["x","y"];function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_S.apply(this,arguments)}function m8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(r),!0).forEach(function(n){yRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yRe(t,e,r){return e=vRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vRe(t){var e=bRe(t,"string");return ex(e)=="symbol"?e:e+""}function bRe(t,e){if(ex(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wRe(t,e){if(t==null)return{};var r=jRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NRe(t,e){var r=t.x,n=t.y,a=wRe(t,xRe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),A="".concat(e.width||a.width),h=parseInt(A,10);return Ep(Ep(Ep(Ep(Ep({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function p8(t){return we.createElement(yW,_S({shapeType:"rectangle",propTransformer:NRe,activeClassName:"recharts-active-bar"},t))}var _Re=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Ze(n)||Xje(n);return i?e(n,a):(i||Zu(),r)}},CRe=["value","background"],BW;function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function BRe(t,e){if(t==null)return{};var r=SRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function g8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(r),!0).forEach(function(n){Hc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ERe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EW(n.key),n)}}function kRe(t,e,r){return e&&x8(t.prototype,e),r&&x8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PRe(t,e,r){return e=b1(e),FRe(t,SW()?Reflect.construct(e,r||[],b1(t).constructor):e.apply(t,r))}function FRe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TRe(t)}function TRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SW=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b1(t)}function ORe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CS(t,e)}function Hc(t,e,r){return e=EW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EW(t){var e=IRe(t,"string");return Hf(e)=="symbol"?e:e+""}function IRe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zl=function(t){function e(){var r;ERe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=PRe(this,e,[].concat(a)),Hc(r,"state",{isAnimationFinished:!1}),Hc(r,"id",_x("recharts-bar-")),Hc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Hc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ORe(e,t),kRe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=_t(this.props,!1);return n&&n.map(function(A,h){var f=h===c,g=f?d:o,x=Cn(Cn(Cn({},u),A),{},{isActive:f,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return we.createElement(hr,v1({className:"recharts-bar-rectangle"},Xu(a.props,A,h),{key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(h)}),we.createElement(p8,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,A=a.animationId,h=this.state.prevData;return we.createElement(ql,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,x=i.map(function(m,p){var y=h&&h[p];if(y){var b=Bc(y.x,m.x),N=Bc(y.y,m.y),j=Bc(y.width,m.width),C=Bc(y.height,m.height);return Cn(Cn({},m),{},{x:b(g),y:N(g),width:j(g),height:C(g)})}if(o==="horizontal"){var k=Bc(0,m.height),_=k(g);return Cn(Cn({},m),{},{y:m.y+m.height-_,height:_})}var B=Bc(0,m.width),T=B(g);return Cn(Cn({},m),{},{width:T})});return we.createElement(hr,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!uj(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=_t(this.props.background,!1);return i.map(function(d,u){d.value;var A=d.background,h=BRe(d,CRe);if(!A)return null;var f=Cn(Cn(Cn(Cn(Cn({},h),{},{fill:"#eee"},A),c),Xu(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return we.createElement(p8,v1({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,A=vi(u,fj);if(!A)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,f=function(m,p){var y=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:y,errorVal:Os(m,p)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return we.createElement(hr,g,A.map(function(x){return we.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,A=n.width,h=n.height,f=n.isAnimationActive,g=n.background,x=n.id;if(a||!i||!i.length)return null;var m=this.state.isAnimationFinished,p=Rt("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,N=y||b,j=$t(x)?this.id:x;return we.createElement(hr,{className:p},y||b?we.createElement("defs",null,we.createElement("clipPath",{id:"clipPath-".concat(j)},we.createElement("rect",{x:y?d:d-A/2,y:b?u:u-h/2,width:y?A:A*2,height:b?h:h*2}))):null,we.createElement(hr,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!f||m)&&ad.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(P.PureComponent);BW=zl;Hc(zl,"displayName","Bar");Hc(zl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hc(zl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,A=t.displayedData,h=t.offset,f=fIe(n,r);if(!f)return null;var g=e.layout,x=r.type.defaultProps,m=x!==void 0?Cn(Cn({},x),r.props):r.props,p=m.dataKey,y=m.children,b=m.minPointSize,N=g==="horizontal"?o:i,j=d?N.scale.domain():null,C=bIe({numericAxis:N}),k=vi(y,Bx),_=A.map(function(B,T){var w,E,D,O,L,U;d?w=mIe(d[u+T],j):(w=Os(B,p),Array.isArray(w)||(w=[C,w]));var M=_Re(b,BW.defaultProps.minPointSize)(w[1],T);if(g==="horizontal"){var Q,q=[o.scale(w[0]),o.scale(w[1])],J=q[0],ee=q[1];E=oU({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:B,index:T}),D=(Q=ee??J)!==null&&Q!==void 0?Q:void 0,O=f.size;var $=J-ee;if(L=Number.isNaN($)?0:$,U={x:E,y:o.y,width:O,height:o.height},Math.abs(M)>0&&Math.abs(L)<Math.abs(M)){var R=Ws(L||M)*(Math.abs(M)-Math.abs(L));D-=R,L+=R}}else{var K=[i.scale(w[0]),i.scale(w[1])],V=K[0],ae=K[1];if(E=V,D=oU({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:B,index:T}),O=ae-V,L=f.size,U={x:i.x,y:D,width:i.width,height:L},Math.abs(M)>0&&Math.abs(O)<Math.abs(M)){var Ae=Ws(O||M)*(Math.abs(M)-Math.abs(O));O+=Ae}}return Cn(Cn(Cn({},B),{},{x:E,y:D,width:O,height:L,value:d?w:w[1],payload:B,background:U},k&&k[T]&&k[T].props),{},{tooltipPayload:[YK(r,B)],tooltipPosition:{x:E+O/2,y:D+L/2}})});return Cn({data:_,layout:g},h)});function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function DRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kW(n.key),n)}}function LRe(t,e,r){return e&&y8(t.prototype,e),r&&y8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(r),!0).forEach(function(n){bj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bj(t,e,r){return e=kW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kW(t){var e=MRe(t,"string");return tx(e)=="symbol"?e:e+""}function MRe(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var URe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),A={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Oa(d,zl);return u.reduce(function(f,g){var x=r[g],m=x.orientation,p=x.domain,y=x.padding,b=y===void 0?{}:y,N=x.mirror,j=x.reversed,C="".concat(m).concat(N?"Mirror":""),k,_,B,T,w;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var E=p[1]-p[0],D=1/0,O=x.categoricalDomain.sort(Zje);if(O.forEach(function(K,V){V>0&&(D=Math.min((K||0)-(O[V-1]||0),D))}),Number.isFinite(D)){var L=D/E,U=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(k=L*U/2),x.padding==="no-gap"){var M=Gs(e.barCategoryGap,L*U),Q=L*U/2;k=Q-M-(Q-M)/U*M}}}a==="xAxis"?_=[n.left+(b.left||0)+(k||0),n.left+n.width-(b.right||0)-(k||0)]:a==="yAxis"?_=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(k||0),n.top+n.height-(b.bottom||0)-(k||0)]:_=x.range,j&&(_=[_[1],_[0]]);var q=KK(x,i,h),J=q.scale,ee=q.realScaleType;J.domain(p).range(_),WK(J);var $=GK(J,Gi(Gi({},x),{},{realScaleType:ee}));a==="xAxis"?(w=m==="top"&&!N||m==="bottom"&&N,B=n.left,T=A[C]-w*x.height):a==="yAxis"&&(w=m==="left"&&!N||m==="right"&&N,B=A[C]-w*x.width,T=n.top);var R=Gi(Gi(Gi({},x),$),{},{realScaleType:ee,x:B,y:T,scale:J,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return R.bandSize=a1(R,$),!x.hide&&a==="xAxis"?A[C]+=(w?-1:1)*R.height:x.hide||(A[C]+=(w?-1:1)*R.width),Gi(Gi({},f),{},bj({},g,R))},{})},PW=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},RRe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return PW({x:r,y:n},{x:a,y:i})},FW=function(){function t(e){DRe(this,t),this.scale=e}return LRe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();bj(FW,"EPS",1e-4);var r6=function(e){var r=Object.keys(e).reduce(function(n,a){return Gi(Gi({},n),{},bj({},a,FW.create(e[a])))},{});return Gi(Gi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return aRe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return CW(a,function(i,o){return r[o].isInRange(i)})}})};function QRe(t){return(t%180+180)%180}var $Re=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=QRe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},HRe=Vo,qRe=Cx,zRe=Z2;function VRe(t){return function(e,r,n){var a=Object(e);if(!qRe(e)){var i=HRe(r);e=zRe(e),r=function(l){return i(a[l],l,a)}}var o=t(e,r,n);return o>-1?a[i?e[o]:o]:void 0}}var KRe=VRe,WRe=wW;function GRe(t){var e=WRe(t),r=e%1;return e===e?r?e-r:e:0}var XRe=GRe,YRe=BV,JRe=Vo,ZRe=XRe,eQe=Math.max;function tQe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:ZRe(r);return a<0&&(a=eQe(n+a,0)),YRe(t,JRe(e),a)}var rQe=tQe,nQe=KRe,sQe=rQe,aQe=nQe(sQe),iQe=aQe;const oQe=pr(iQe);var lQe=rje(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),n6=P.createContext(void 0),s6=P.createContext(void 0),TW=P.createContext(void 0),OW=P.createContext({}),IW=P.createContext(void 0),DW=P.createContext(0),LW=P.createContext(0),b8=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=lQe(i);return we.createElement(n6.Provider,{value:n},we.createElement(s6.Provider,{value:a},we.createElement(OW.Provider,{value:i},we.createElement(TW.Provider,{value:u},we.createElement(IW.Provider,{value:o},we.createElement(DW.Provider,{value:d},we.createElement(LW.Provider,{value:c},l)))))))},cQe=function(){return P.useContext(IW)},MW=function(e){var r=P.useContext(n6);r==null&&Zu();var n=r[e];return n==null&&Zu(),n},dQe=function(){var e=P.useContext(n6);return Fc(e)},uQe=function(){var e=P.useContext(s6),r=oQe(e,function(n){return CW(n.domain,Number.isFinite)});return r||Fc(e)},UW=function(e){var r=P.useContext(s6);r==null&&Zu();var n=r[e];return n==null&&Zu(),n},AQe=function(){var e=P.useContext(TW);return e},hQe=function(){return P.useContext(OW)},a6=function(){return P.useContext(LW)},i6=function(){return P.useContext(DW)};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function fQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QW(n.key),n)}}function pQe(t,e,r){return e&&mQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gQe(t,e,r){return e=w1(e),xQe(t,RW()?Reflect.construct(e,r||[],w1(t).constructor):e.apply(t,r))}function xQe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yQe(t)}function yQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!t})()}function w1(t){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w1(t)}function vQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BS(t,e)}function BS(t,e){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BS(t,e)}function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){o6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o6(t,e,r){return e=QW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QW(t){var e=bQe(t,"string");return qf(e)=="symbol"?e:e+""}function bQe(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wQe(t,e){return CQe(t)||_Qe(t,e)||NQe(t,e)||jQe()}function jQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQe(t,e){if(t){if(typeof t=="string")return N8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N8(t,e)}}function N8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Qe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function CQe(t){if(Array.isArray(t))return t}function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SS.apply(this,arguments)}var BQe=function(e,r){var n;return we.isValidElement(e)?n=we.cloneElement(e,r):Et(e)?n=e(r):n=we.createElement("line",SS({},r,{className:"recharts-reference-line-line"})),n},SQe=function(e,r,n,a,i,o,l,c,d){var u=i.x,A=i.y,h=i.width,f=i.height;if(n){var g=d.y,x=e.y.apply(g,{position:o});if(Ro(d,"discard")&&!e.y.isInRange(x))return null;var m=[{x:u+h,y:x},{x:u,y:x}];return c==="left"?m.reverse():m}if(r){var p=d.x,y=e.x.apply(p,{position:o});if(Ro(d,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:A+f},{x:y,y:A}];return l==="top"?b.reverse():b}if(a){var N=d.segment,j=N.map(function(C){return e.apply(C,{position:o})});return Ro(d,"discard")&&Y8e(j,function(C){return!e.isInRange(C)})?null:j}return null};function EQe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=cQe(),u=MW(a),A=UW(i),h=AQe();if(!d||!h)return null;ro(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=r6({x:u.scale,y:A.scale}),g=Vn(e),x=Vn(r),m=n&&n.length===2,p=SQe(f,g,x,m,h,t.position,u.orientation,A.orientation,t);if(!p)return null;var y=wQe(p,2),b=y[0],N=b.x,j=b.y,C=y[1],k=C.x,_=C.y,B=Ro(t,"hidden")?"url(#".concat(d,")"):void 0,T=j8(j8({clipPath:B},_t(t,!0)),{},{x1:N,y1:j,x2:k,y2:_});return we.createElement(hr,{className:Rt("recharts-reference-line",l)},BQe(o,T),rs.renderCallByParent(t,RRe({x1:N,y1:j,x2:k,y2:_})))}var l6=function(t){function e(){return fQe(this,e),gQe(this,e,arguments)}return vQe(e,t),pQe(e,[{key:"render",value:function(){return we.createElement(EQe,this.props)}}])}(we.Component);o6(l6,"displayName","ReferenceLine");o6(l6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ES.apply(this,arguments)}function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function _8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function C8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(r),!0).forEach(function(n){wj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HW(n.key),n)}}function FQe(t,e,r){return e&&PQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TQe(t,e,r){return e=j1(e),OQe(t,$W()?Reflect.construct(e,r||[],j1(t).constructor):e.apply(t,r))}function OQe(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IQe(t)}function IQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!t})()}function j1(t){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j1(t)}function DQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kS(t,e)}function wj(t,e,r){return e=HW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HW(t){var e=LQe(t,"string");return zf(e)=="symbol"?e:e+""}function LQe(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MQe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=r6({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ro(e,"discard")&&!o.isInRange(l)?null:l},jj=function(t){function e(){return kQe(this,e),TQe(this,e,arguments)}return DQe(e,t),FQe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=Vn(a),u=Vn(i);if(ro(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var A=MQe(this.props);if(!A)return null;var h=A.x,f=A.y,g=this.props,x=g.shape,m=g.className,p=Ro(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=C8(C8({clipPath:p},_t(this.props,!0)),{},{cx:h,cy:f});return we.createElement(hr,{className:Rt("recharts-reference-dot",m)},e.renderDot(x,y),rs.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(we.Component);wj(jj,"displayName","ReferenceDot");wj(jj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wj(jj,"renderDot",function(t,e){var r;return we.isValidElement(t)?r=we.cloneElement(t,e):Et(t)?r=t(e):r=we.createElement(t6,ES({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PS.apply(this,arguments)}function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function B8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function S8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(r),!0).forEach(function(n){Nj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zW(n.key),n)}}function QQe(t,e,r){return e&&RQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Qe(t,e,r){return e=N1(e),HQe(t,qW()?Reflect.construct(e,r||[],N1(t).constructor):e.apply(t,r))}function HQe(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qQe(t)}function qQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N1(t)}function zQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FS(t,e)}function Nj(t,e,r){return e=zW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zW(t){var e=VQe(t,"string");return Vf(e)=="symbol"?e:e+""}function VQe(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KQe=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,A=i.yAxis;if(!u||!A)return null;var h=r6({x:u.scale,y:A.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Ro(i,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:PW(f,g)},_j=function(t){function e(){return UQe(this,e),$Qe(this,e,arguments)}return zQe(e,t),QQe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;ro(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=Vn(a),h=Vn(i),f=Vn(o),g=Vn(l),x=this.props.shape;if(!A&&!h&&!f&&!g&&!x)return null;var m=KQe(A,h,f,g,this.props);if(!m&&!x)return null;var p=Ro(this.props,"hidden")?"url(#".concat(u,")"):void 0;return we.createElement(hr,{className:Rt("recharts-reference-area",c)},e.renderRect(x,S8(S8({clipPath:p},_t(this.props,!0)),m)),rs.renderCallByParent(this.props,m))}}])}(we.Component);Nj(_j,"displayName","ReferenceArea");Nj(_j,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Nj(_j,"renderRect",function(t,e){var r;return we.isValidElement(t)?r=we.cloneElement(t,e):Et(t)?r=t(e):r=we.createElement(e6,PS({},e,{className:"recharts-reference-area-rect"})),r});function VW(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function WQe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return $Re(n,r)}function GQe(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function _1(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function XQe(t,e){return VW(t,e+1)}function YQe(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,A=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:VW(n,d)};var x=c,m,p=function(){return m===void 0&&(m=r(g,x)),m},y=g.coordinate,b=c===0||_1(t,y,p,u,l);b||(c=0,u=o,d+=1),b&&(u=y+t*(p()/2+a),c+=d)},h;d<=i.length;)if(h=A(),h)return h.v;return[]}function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function E8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(r),!0).forEach(function(n){JQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JQe(t,e,r){return e=ZQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZQe(t){var e=e7e(t,"string");return rx(e)=="symbol"?e:e+""}function e7e(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t7e(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(h){var f=i[h],g,x=function(){return g===void 0&&(g=r(f,h)),g};if(h===o-1){var m=t*(f.coordinate+t*x()/2-c);i[h]=f=Es(Es({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate})}else i[h]=f=Es(Es({},f),{},{tickCoord:f.coordinate});var p=_1(t,f.tickCoord,x,l,c);p&&(c=f.tickCoord-t*(x()/2+a),i[h]=Es(Es({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function r7e(t,e,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=n[l-1],A=r(u,l-1),h=t*(u.coordinate+t*A/2-d);o[l-1]=u=Es(Es({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var f=_1(t,u.tickCoord,function(){return A},c,d);f&&(d=u.tickCoord-t*(A/2+a),o[l-1]=Es(Es({},u),{},{isShow:!0}))}for(var g=i?l-1:l,x=function(y){var b=o[y],N,j=function(){return N===void 0&&(N=r(b,y)),N};if(y===0){var C=t*(b.coordinate-t*j()/2-c);o[y]=b=Es(Es({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else o[y]=b=Es(Es({},b),{},{tickCoord:b.coordinate});var k=_1(t,b.tickCoord,j,c,d);k&&(c=b.tickCoord+t*(j()/2+a),o[y]=Es(Es({},b),{},{isShow:!0}))},m=0;m<g;m++)x(m);return o}function c6(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,A=t.angle;if(!a||!a.length||!n)return[];if(Ze(c)||gm.isSsr)return XQe(a,typeof c=="number"&&Ze(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",g=u&&f==="width"?Sg(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(b,N){var j=Et(d)?d(b.value,N):b.value;return f==="width"?WQe(Sg(j,{fontSize:e,letterSpacing:r}),g,A):Sg(j,{fontSize:e,letterSpacing:r})[f]},m=a.length>=2?Ws(a[1].coordinate-a[0].coordinate):1,p=GQe(i,m,f);return c==="equidistantPreserveStart"?YQe(m,p,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=r7e(m,p,x,a,o,c==="preserveStartEnd"):h=t7e(m,p,x,a,o),h.filter(function(y){return y.isShow}))}var n7e=["viewBox"],s7e=["viewBox"],a7e=["ticks"];function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rh.apply(this,arguments)}function k8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(r),!0).forEach(function(n){d6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I5(t,e){if(t==null)return{};var r=i7e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function i7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WW(n.key),n)}}function l7e(t,e,r){return e&&P8(t.prototype,e),r&&P8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c7e(t,e,r){return e=C1(e),d7e(t,KW()?Reflect.construct(e,r||[],C1(t).constructor):e.apply(t,r))}function d7e(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u7e(t)}function u7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KW=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(t)}function A7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TS(t,e)}function d6(t,e,r){return e=WW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WW(t){var e=h7e(t,"string");return Kf(e)=="symbol"?e:e+""}function h7e(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bm=function(t){function e(r){var n;return o7e(this,e),n=c7e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return A7e(e,t),l7e(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=I5(n,n7e),l=this.props,c=l.viewBox,d=I5(l,s7e);return!df(i,c)||!df(o,d)||!df(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,A=a.mirror,h=a.tickMargin,f,g,x,m,p,y,b=A?-1:1,N=n.tickSize||u,j=Ze(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":f=g=n.coordinate,m=o+ +!A*c,x=m-b*N,y=x-b*h,p=j;break;case"left":x=m=n.coordinate,g=i+ +!A*l,f=g-b*N,p=f-b*h,y=j;break;case"right":x=m=n.coordinate,g=i+ +A*l,f=g+b*N,p=f+b*h,y=j;break;default:f=g=n.coordinate,m=o+ +A*c,x=m+b*N,y=x+b*h,p=j;break}return{line:{x1:f,y1:x,x2:g,y2:m},tick:{x:p,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,A=Mn(Mn(Mn({},_t(this.props,!1)),_t(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);A=Mn(Mn({},A),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);A=Mn(Mn({},A),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return we.createElement("line",Rh({},A,{className:Rt("recharts-cartesian-axis-line",Qa(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,A=l.tickFormatter,h=l.unit,f=c6(Mn(Mn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),m=_t(this.props,!1),p=_t(u,!1),y=Mn(Mn({},m),{},{fill:"none"},_t(c,!1)),b=f.map(function(N,j){var C=o.getTickLineCoord(N),k=C.line,_=C.tick,B=Mn(Mn(Mn(Mn({textAnchor:g,verticalAnchor:x},m),{},{stroke:"none",fill:d},p),_),{},{index:j,payload:N,visibleTicksCount:f.length,tickFormatter:A});return we.createElement(hr,Rh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Xu(o.props,N,j)),c&&we.createElement("line",Rh({},y,k,{className:Rt("recharts-cartesian-axis-tick-line",Qa(c,"className"))})),u&&e.renderTickItem(u,B,"".concat(Et(A)?A(N.value,j):N.value).concat(h||"")))});return we.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var A=this.props,h=A.ticks,f=I5(A,a7e),g=h;return Et(c)&&(g=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!g||!g.length?null:we.createElement(hr,{className:Rt("recharts-cartesian-axis",d),ref:function(m){n.layerReference=m}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),rs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Rt(a.className,"recharts-cartesian-axis-tick-value");return we.isValidElement(n)?o=we.cloneElement(n,Mn(Mn({},a),{},{className:l})):Et(n)?o=n(Mn(Mn({},a),{},{className:l})):o=we.createElement(Yu,Rh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(P.Component);d6(bm,"displayName","CartesianAxis");d6(bm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var f7e=["x1","y1","x2","y2","key"],m7e=["offset"];function eA(t){"@babel/helpers - typeof";return eA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(t)}function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){p7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p7e(t,e,r){return e=g7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g7e(t){var e=x7e(t,"string");return eA(e)=="symbol"?e:e+""}function x7e(t,e){if(eA(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}function T8(t,e){if(t==null)return{};var r=y7e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var v7e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return we.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function GW(t,e){var r;if(we.isValidElement(t))r=we.cloneElement(t,e);else if(Et(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=T8(e,f7e),d=_t(c,!1);d.offset;var u=T8(d,m7e);r=we.createElement("line",wu({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function b7e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Fs(Fs({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return GW(a,d)});return we.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function w7e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Fs(Fs({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return GW(a,d)});return we.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function j7e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==u[0]&&u.unshift(0);var A=u.map(function(h,f){var g=!u[f+1],x=g?a+o-h:u[f+1]-h;if(x<=0)return null;var m=f%e.length;return we.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:x,width:i,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return we.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function N7e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==u[0]&&u.unshift(0);var A=u.map(function(h,f){var g=!u[f+1],x=g?i+l-h:u[f+1]-h;if(x<=0)return null;var m=f%n.length;return we.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:x,height:c,stroke:"none",fill:n[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return we.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var _7e=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return VK(c6(Fs(Fs(Fs({},bm.defaultProps),n),{},{ticks:Cl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},C7e=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return VK(c6(Fs(Fs(Fs({},bm.defaultProps),n),{},{ticks:Cl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},lh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function u6(t){var e,r,n,a,i,o,l=a6(),c=i6(),d=hQe(),u=Fs(Fs({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:lh.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:lh.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:lh.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:lh.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:lh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:lh.verticalFill,x:Ze(t.x)?t.x:d.left,y:Ze(t.y)?t.y:d.top,width:Ze(t.width)?t.width:d.width,height:Ze(t.height)?t.height:d.height}),A=u.x,h=u.y,f=u.width,g=u.height,x=u.syncWithTicks,m=u.horizontalValues,p=u.verticalValues,y=dQe(),b=uQe();if(!Ze(f)||f<=0||!Ze(g)||g<=0||!Ze(A)||A!==+A||!Ze(h)||h!==+h)return null;var N=u.verticalCoordinatesGenerator||_7e,j=u.horizontalCoordinatesGenerator||C7e,C=u.horizontalPoints,k=u.verticalPoints;if((!C||!C.length)&&Et(j)){var _=m&&m.length,B=j({yAxis:b?Fs(Fs({},b),{},{ticks:_?m:b.ticks}):void 0,width:l,height:c,offset:d},_?!0:x);ro(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(eA(B),"]")),Array.isArray(B)&&(C=B)}if((!k||!k.length)&&Et(N)){var T=p&&p.length,w=N({xAxis:y?Fs(Fs({},y),{},{ticks:T?p:y.ticks}):void 0,width:l,height:c,offset:d},T?!0:x);ro(Array.isArray(w),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(eA(w),"]")),Array.isArray(w)&&(k=w)}return we.createElement("g",{className:"recharts-cartesian-grid"},we.createElement(v7e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),we.createElement(b7e,wu({},u,{offset:d,horizontalPoints:C,xAxis:y,yAxis:b})),we.createElement(w7e,wu({},u,{offset:d,verticalPoints:k,xAxis:y,yAxis:b})),we.createElement(j7e,wu({},u,{horizontalPoints:C})),we.createElement(N7e,wu({},u,{verticalPoints:k})))}u6.displayName="CartesianGrid";function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function B7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JW(n.key),n)}}function E7e(t,e,r){return e&&S7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k7e(t,e,r){return e=B1(e),P7e(t,XW()?Reflect.construct(e,r||[],B1(t).constructor):e.apply(t,r))}function P7e(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F7e(t)}function F7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!t})()}function B1(t){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(t)}function T7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OS(t,e)}function YW(t,e,r){return e=JW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JW(t){var e=O7e(t,"string");return Wf(e)=="symbol"?e:e+""}function O7e(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IS.apply(this,arguments)}function I7e(t){var e=t.xAxisId,r=a6(),n=i6(),a=MW(e);return a==null?null:P.createElement(bm,IS({},a,{className:Rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Cl(o,!0)}}))}var Fx=function(t){function e(){return B7e(this,e),k7e(this,e,arguments)}return T7e(e,t),E7e(e,[{key:"render",value:function(){return P.createElement(I7e,this.props)}}])}(P.Component);YW(Fx,"displayName","XAxis");YW(Fx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function D7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tG(n.key),n)}}function M7e(t,e,r){return e&&L7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U7e(t,e,r){return e=S1(e),R7e(t,ZW()?Reflect.construct(e,r||[],S1(t).constructor):e.apply(t,r))}function R7e(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q7e(t)}function Q7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZW=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S1(t)}function $7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DS(t,e)}function eG(t,e,r){return e=tG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tG(t){var e=H7e(t,"string");return Gf(e)=="symbol"?e:e+""}function H7e(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LS.apply(this,arguments)}var q7e=function(e){var r=e.yAxisId,n=a6(),a=i6(),i=UW(r);return i==null?null:P.createElement(bm,LS({},i,{className:Rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Cl(l,!0)}}))},Tx=function(t){function e(){return D7e(this,e),U7e(this,e,arguments)}return $7e(e,t),M7e(e,[{key:"render",value:function(){return P.createElement(q7e,this.props)}}])}(P.Component);eG(Tx,"displayName","YAxis");eG(Tx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function O8(t){return W7e(t)||K7e(t)||V7e(t)||z7e()}function z7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7e(t,e){if(t){if(typeof t=="string")return MS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(t,e)}}function K7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W7e(t){if(Array.isArray(t))return MS(t)}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var US=function(e,r,n,a,i){var o=vi(e,l6),l=vi(e,jj),c=[].concat(O8(o),O8(l)),d=vi(e,_j),u="".concat(a,"Id"),A=a[0],h=r;if(c.length&&(h=c.reduce(function(x,m){if(m.props[u]===n&&Ro(m.props,"extendDomain")&&Ze(m.props[A])){var p=m.props[A];return[Math.min(x[0],p),Math.max(x[1],p)]}return x},h)),d.length){var f="".concat(A,"1"),g="".concat(A,"2");h=d.reduce(function(x,m){if(m.props[u]===n&&Ro(m.props,"extendDomain")&&Ze(m.props[f])&&Ze(m.props[g])){var p=m.props[f],y=m.props[g];return[Math.min(x[0],p,y),Math.max(x[1],p,y)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,m){return Ze(m)?[Math.min(x[0],m),Math.max(x[1],m)]:x},h)),h},rG={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,A,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,A||c,h),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,A;if(this._eventsCount===0)return d;for(A in u=this._events)e.call(u,A)&&d.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,A=this._events[u];if(!A)return[];if(A.fn)return[A.fn];for(var h=0,f=A.length,g=new Array(f);h<f;h++)g[h]=A[h].fn;return g},l.prototype.listenerCount=function(d){var u=r?r+d:d,A=this._events[u];return A?A.fn?1:A.length:0},l.prototype.emit=function(d,u,A,h,f,g){var x=r?r+d:d;if(!this._events[x])return!1;var m=this._events[x],p=arguments.length,y,b;if(m.fn){switch(m.once&&this.removeListener(d,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,A),!0;case 4:return m.fn.call(m.context,u,A,h),!0;case 5:return m.fn.call(m.context,u,A,h,f),!0;case 6:return m.fn.call(m.context,u,A,h,f,g),!0}for(b=1,y=new Array(p-1);b<p;b++)y[b-1]=arguments[b];m.fn.apply(m.context,y)}else{var N=m.length,j;for(b=0;b<N;b++)switch(m[b].once&&this.removeListener(d,m[b].fn,void 0,!0),p){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,u);break;case 3:m[b].fn.call(m[b].context,u,A);break;case 4:m[b].fn.call(m[b].context,u,A,h);break;default:if(!y)for(j=1,y=new Array(p-1);j<p;j++)y[j-1]=arguments[j];m[b].fn.apply(m[b].context,y)}}return!0},l.prototype.on=function(d,u,A){return i(this,d,u,A,!1)},l.prototype.once=function(d,u,A){return i(this,d,u,A,!0)},l.prototype.removeListener=function(d,u,A,h){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!A||g.context===A)&&o(this,f);else{for(var x=0,m=[],p=g.length;x<p;x++)(g[x].fn!==u||h&&!g[x].once||A&&g[x].context!==A)&&m.push(g[x]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(rG);var G7e=rG.exports;const X7e=pr(G7e);var D5=new X7e,L5="recharts.syncMouseEvents";function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function Y7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nG(n.key),n)}}function Z7e(t,e,r){return e&&J7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M5(t,e,r){return e=nG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=e$e(t,"string");return nx(e)=="symbol"?e:e+""}function e$e(t,e){if(nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t$e=function(){function t(){Y7e(this,t),M5(this,"activeIndex",0),M5(this,"coordinateList",[]),M5(this,"layout","horizontal")}return Z7e(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,A=u===void 0?null:u,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=A??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,A=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:A,pageY:h})}}}])}();function r$e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Ze(n)&&Ze(a))return!0}return!1}function n$e(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function sG(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Tr(e,r,n,a),l=Tr(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function s$e(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,A=e.angle,h=Tr(l,c,d,A),f=Tr(l,c,u,A);n=h.x,a=h.y,i=f.x,o=f.y}else return sG(e);return[{x:n,y:a},{x:i,y:o}]}function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function I8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(r),!0).forEach(function(n){a$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a$e(t,e,r){return e=i$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i$e(t){var e=o$e(t,"string");return sx(e)=="symbol"?e:e+""}function o$e(t,e){if(sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l$e(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,A=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,x=lS;if(h==="ScatterChart")g=o,x=UMe;else if(h==="BarChart")g=n$e(A,o,c,u),x=e6;else if(A==="radial"){var m=sG(o),p=m.cx,y=m.cy,b=m.radius,N=m.startAngle,j=m.endAngle;g={cx:p,cy:y,startAngle:N,endAngle:j,innerRadius:b,outerRadius:b},x=nW}else g={points:s$e(A,o,c)},x=lS;var C=Kv(Kv(Kv(Kv({stroke:"#ccc",pointerEvents:"none"},c),g),_t(f,!1)),{},{payload:l,payloadIndex:d,className:Rt("recharts-tooltip-cursor",f.className)});return P.isValidElement(f)?P.cloneElement(f,C):P.createElement(x,C)}var c$e=["item"],d$e=["children","className","width","height","style","compact","title","desc"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qh.apply(this,arguments)}function D8(t,e){return h$e(t)||A$e(t,e)||iG(t,e)||u$e()}function u$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function h$e(t){if(Array.isArray(t))return t}function L8(t,e){if(t==null)return{};var r=f$e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oG(n.key),n)}}function g$e(t,e,r){return e&&p$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x$e(t,e,r){return e=E1(e),y$e(t,aG()?Reflect.construct(e,r||[],E1(t).constructor):e.apply(t,r))}function y$e(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v$e(t)}function v$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aG=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(t)}function b$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RS(t,e)}function Yf(t){return N$e(t)||j$e(t)||iG(t)||w$e()}function w$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(t,e){if(t){if(typeof t=="string")return QS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QS(t,e)}}function j$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N$e(t){if(Array.isArray(t))return QS(t)}function QS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function M8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(r),!0).forEach(function(n){vt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vt(t,e,r){return e=oG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oG(t){var e=_$e(t,"string");return Xf(e)=="symbol"?e:e+""}function _$e(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C$e={xAxis:["bottom","top"],yAxis:["left","right"]},B$e={width:"100%",height:"100%"},lG={x:0,y:0};function Wv(t){return t}var S$e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},E$e=function(e,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return qe(qe(qe({},a),Tr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return qe(qe(qe({},a),Tr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return lG},Cj=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Yf(l),Yf(d)):l},[]);return o.length>0?o:e&&e.length&&Ze(a)&&Ze(i)?e.slice(a,i+1):[]};function cG(t){return t==="number"?[0,"auto"]:void 0}var $S=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=Cj(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,A=(u=d.props.data)!==null&&u!==void 0?u:r;A&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(A=A.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=A===void 0?l:A;h=pB(f,o.dataKey,a)}else h=A&&A[n]||l[n];return h?[].concat(Yf(c),[YK(d,h)]):c},[])},U8=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=S$e(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=lIe(o,l,d,c);if(u>=0&&d){var A=d[u]&&d[u].value,h=$S(e,r,u,A),f=E$e(n,l,u,i);return{activeTooltipIndex:u,activeLabel:A,activePayload:h,activeCoordinate:f}}return null},k$e=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,A=e.children,h=e.stackOffset,f=zK(u,i);return n.reduce(function(g,x){var m,p=x.type.defaultProps!==void 0?qe(qe({},x.type.defaultProps),x.props):x.props,y=p.type,b=p.dataKey,N=p.allowDataOverflow,j=p.allowDuplicatedCategory,C=p.scale,k=p.ticks,_=p.includeHidden,B=p[o];if(g[B])return g;var T=Cj(e.data,{graphicalItems:a.filter(function($){var R,K=o in $.props?$.props[o]:(R=$.type.defaultProps)===null||R===void 0?void 0:R[o];return K===B}),dataStartIndex:c,dataEndIndex:d}),w=T.length,E,D,O;r$e(p.domain,N,y)&&(E=nS(p.domain,null,N),f&&(y==="number"||C!=="auto")&&(O=kg(T,b,"category")));var L=cG(y);if(!E||E.length===0){var U,M=(U=p.domain)!==null&&U!==void 0?U:L;if(b){if(E=kg(T,b,y),y==="category"&&f){var Q=Jje(E);j&&Q?(D=E,E=g1(0,w)):j||(E=dU(M,E,x).reduce(function($,R){return $.indexOf(R)>=0?$:[].concat(Yf($),[R])},[]))}else if(y==="category")j?E=E.filter(function($){return $!==""&&!$t($)}):E=dU(M,E,x).reduce(function($,R){return $.indexOf(R)>=0||R===""||$t(R)?$:[].concat(Yf($),[R])},[]);else if(y==="number"){var q=hIe(T,a.filter(function($){var R,K,V=o in $.props?$.props[o]:(R=$.type.defaultProps)===null||R===void 0?void 0:R[o],ae="hide"in $.props?$.props.hide:(K=$.type.defaultProps)===null||K===void 0?void 0:K.hide;return V===B&&(_||!ae)}),b,i,u);q&&(E=q)}f&&(y==="number"||C!=="auto")&&(O=kg(T,b,"category"))}else f?E=g1(0,w):l&&l[B]&&l[B].hasStack&&y==="number"?E=h==="expand"?[0,1]:XK(l[B].stackGroups,c,d):E=qK(T,a.filter(function($){var R=o in $.props?$.props[o]:$.type.defaultProps[o],K="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return R===B&&(_||!K)}),y,u,!0);if(y==="number")E=US(A,E,B,i,k),M&&(E=nS(M,E,N));else if(y==="category"&&M){var J=M,ee=E.every(function($){return J.indexOf($)>=0});ee&&(E=J)}}return qe(qe({},g),{},vt({},B,qe(qe({},p),{},{axisType:i,domain:E,categoricalDomain:O,duplicateDomain:D,originalDomain:(m=p.domain)!==null&&m!==void 0?m:L,isCategorical:f,layout:u})))},{})},P$e=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,A=e.children,h=Cj(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),f=h.length,g=zK(u,i),x=-1;return n.reduce(function(m,p){var y=p.type.defaultProps!==void 0?qe(qe({},p.type.defaultProps),p.props):p.props,b=y[o],N=cG("number");if(!m[b]){x++;var j;return g?j=g1(0,f):l&&l[b]&&l[b].hasStack?(j=XK(l[b].stackGroups,c,d),j=US(A,j,b,i)):(j=nS(N,qK(h,n.filter(function(C){var k,_,B=o in C.props?C.props[o]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[o],T="hide"in C.props?C.props.hide:(_=C.type.defaultProps)===null||_===void 0?void 0:_.hide;return B===b&&!T}),"number",u),a.defaultProps.allowDataOverflow),j=US(A,j,b,i)),qe(qe({},m),{},vt({},b,qe(qe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Qa(C$e,"".concat(i,".").concat(x%2),null),domain:j,originalDomain:N,isCategorical:g,layout:u})))}return m},{})},F$e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,A="".concat(a,"Id"),h=vi(u,i),f={};return h&&h.length?f=k$e(e,{axes:h,graphicalItems:o,axisType:a,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=P$e(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},T$e=function(e){var r=Fc(e),n=Cl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ck(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:a1(r,n)}},R8=function(e){var r=e.children,n=e.defaultShowTooltip,a=Oa(r,$f),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},O$e=function(e){return!e||!e.length?!1:e.some(function(r){var n=El(r&&r.type);return n&&n.indexOf("Bar")>=0})},Q8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I$e=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,A=n.children,h=n.margin||{},f=Oa(A,$f),g=Oa(A,Iu),x=Object.keys(c).reduce(function(j,C){var k=c[C],_=k.orientation;return!k.mirror&&!k.hide?qe(qe({},j),{},vt({},_,j[_]+k.width)):j},{left:h.left||0,right:h.right||0}),m=Object.keys(o).reduce(function(j,C){var k=o[C],_=k.orientation;return!k.mirror&&!k.hide?qe(qe({},j),{},vt({},_,Qa(j,"".concat(_))+k.height)):j},{top:h.top||0,bottom:h.bottom||0}),p=qe(qe({},m),x),y=p.bottom;f&&(p.bottom+=f.props.height||$f.defaultProps.height),g&&r&&(p=uIe(p,a,n,r));var b=d-p.left-p.right,N=u-p.top-p.bottom;return qe(qe({brushBottom:y},p),{},{width:Math.max(b,0),height:Math.max(N,0)})},D$e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},dG=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,A=e.defaultProps,h=function(p,y){var b=y.graphicalItems,N=y.stackGroups,j=y.offset,C=y.updateId,k=y.dataStartIndex,_=y.dataEndIndex,B=p.barSize,T=p.layout,w=p.barGap,E=p.barCategoryGap,D=p.maxBarSize,O=Q8(T),L=O.numericAxisName,U=O.cateAxisName,M=O$e(b),Q=[];return b.forEach(function(q,J){var ee=Cj(p.data,{graphicalItems:[q],dataStartIndex:k,dataEndIndex:_}),$=q.type.defaultProps!==void 0?qe(qe({},q.type.defaultProps),q.props):q.props,R=$.dataKey,K=$.maxBarSize,V=$["".concat(L,"Id")],ae=$["".concat(U,"Id")],Ae={},ne=c.reduce(function(De,Ee){var ce=y["".concat(Ee.axisType,"Map")],He=$["".concat(Ee.axisType,"Id")];ce&&ce[He]||Ee.axisType==="zAxis"||Zu();var ge=ce[He];return qe(qe({},De),{},vt(vt({},Ee.axisType,ge),"".concat(Ee.axisType,"Ticks"),Cl(ge)))},Ae),ie=ne[U],le=ne["".concat(U,"Ticks")],X=N&&N[V]&&N[V].hasStack&&wIe(q,N[V].stackGroups),he=El(q.type).indexOf("Bar")>=0,Me=a1(ie,le),Qe=[],ye=M&&cIe({barSize:B,stackGroups:N,totalSize:D$e(ne,U)});if(he){var z,ke,Ie=$t(K)?D:K,Pe=(z=(ke=a1(ie,le,!0))!==null&&ke!==void 0?ke:Ie)!==null&&z!==void 0?z:0;Qe=dIe({barGap:w,barCategoryGap:E,bandSize:Pe!==Me?Pe:Me,sizeList:ye[ae],maxBarSize:Ie}),Pe!==Me&&(Qe=Qe.map(function(De){return qe(qe({},De),{},{position:qe(qe({},De.position),{},{offset:De.position.offset-Pe/2})})}))}var Le=q&&q.type&&q.type.getComposedData;Le&&Q.push({props:qe(qe({},Le(qe(qe({},ne),{},{displayedData:ee,props:p,dataKey:R,item:q,bandSize:Me,barPosition:Qe,offset:j,stackedData:X,layout:T,dataStartIndex:k,dataEndIndex:_}))),{},vt(vt(vt({key:q.key||"item-".concat(J)},L,ne[L]),U,ne[U]),"animationId",C)),childIndex:dNe(q,p.children),item:q})}),Q},f=function(p,y){var b=p.props,N=p.dataStartIndex,j=p.dataEndIndex,C=p.updateId;if(!sL({props:b}))return null;var k=b.children,_=b.layout,B=b.stackOffset,T=b.data,w=b.reverseStackOrder,E=Q8(_),D=E.numericAxisName,O=E.cateAxisName,L=vi(k,n),U=vIe(T,L,"".concat(D,"Id"),"".concat(O,"Id"),B,w),M=c.reduce(function($,R){var K="".concat(R.axisType,"Map");return qe(qe({},$),{},vt({},K,F$e(b,qe(qe({},R),{},{graphicalItems:L,stackGroups:R.axisType===D&&U,dataStartIndex:N,dataEndIndex:j}))))},{}),Q=I$e(qe(qe({},M),{},{props:b,graphicalItems:L}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function($){M[$]=u(b,M[$],Q,$.replace("Map",""),r)});var q=M["".concat(O,"Map")],J=T$e(q),ee=h(b,qe(qe({},M),{},{dataStartIndex:N,dataEndIndex:j,updateId:C,graphicalItems:L,stackGroups:U,offset:Q}));return qe(qe({formattedGraphicalItems:ee,graphicalItems:L,offset:Q,stackGroups:U},J),M)},g=function(m){function p(y){var b,N,j;return m$e(this,p),j=x$e(this,p,[y]),vt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vt(j,"accessibilityManager",new t$e),vt(j,"handleLegendBBoxUpdate",function(C){if(C){var k=j.state,_=k.dataStartIndex,B=k.dataEndIndex,T=k.updateId;j.setState(qe({legendBBox:C},f({props:j.props,dataStartIndex:_,dataEndIndex:B,updateId:T},qe(qe({},j.state),{},{legendBBox:C}))))}}),vt(j,"handleReceiveSyncEvent",function(C,k,_){if(j.props.syncId===C){if(_===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(k)}}),vt(j,"handleBrushChange",function(C){var k=C.startIndex,_=C.endIndex;if(k!==j.state.dataStartIndex||_!==j.state.dataEndIndex){var B=j.state.updateId;j.setState(function(){return qe({dataStartIndex:k,dataEndIndex:_},f({props:j.props,dataStartIndex:k,dataEndIndex:_,updateId:B},j.state))}),j.triggerSyncEvent({dataStartIndex:k,dataEndIndex:_})}}),vt(j,"handleMouseEnter",function(C){var k=j.getMouseInfo(C);if(k){var _=qe(qe({},k),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var B=j.props.onMouseEnter;Et(B)&&B(_,C)}}),vt(j,"triggeredAfterMouseMove",function(C){var k=j.getMouseInfo(C),_=k?qe(qe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var B=j.props.onMouseMove;Et(B)&&B(_,C)}),vt(j,"handleItemMouseEnter",function(C){j.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),vt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),vt(j,"handleMouseMove",function(C){C.persist(),j.throttleTriggeredAfterMouseMove(C)}),vt(j,"handleMouseLeave",function(C){j.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var _=j.props.onMouseLeave;Et(_)&&_(k,C)}),vt(j,"handleOuterEvent",function(C){var k=cNe(C),_=Qa(j.props,"".concat(k));if(k&&Et(_)){var B,T;/.*touch.*/i.test(k)?T=j.getMouseInfo(C.changedTouches[0]):T=j.getMouseInfo(C),_((B=T)!==null&&B!==void 0?B:{},C)}}),vt(j,"handleClick",function(C){var k=j.getMouseInfo(C);if(k){var _=qe(qe({},k),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var B=j.props.onClick;Et(B)&&B(_,C)}}),vt(j,"handleMouseDown",function(C){var k=j.props.onMouseDown;if(Et(k)){var _=j.getMouseInfo(C);k(_,C)}}),vt(j,"handleMouseUp",function(C){var k=j.props.onMouseUp;if(Et(k)){var _=j.getMouseInfo(C);k(_,C)}}),vt(j,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),vt(j,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseDown(C.changedTouches[0])}),vt(j,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseUp(C.changedTouches[0])}),vt(j,"handleDoubleClick",function(C){var k=j.props.onDoubleClick;if(Et(k)){var _=j.getMouseInfo(C);k(_,C)}}),vt(j,"handleContextMenu",function(C){var k=j.props.onContextMenu;if(Et(k)){var _=j.getMouseInfo(C);k(_,C)}}),vt(j,"triggerSyncEvent",function(C){j.props.syncId!==void 0&&D5.emit(L5,j.props.syncId,C,j.eventEmitterSymbol)}),vt(j,"applySyncEvent",function(C){var k=j.props,_=k.layout,B=k.syncMethod,T=j.state.updateId,w=C.dataStartIndex,E=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)j.setState(qe({dataStartIndex:w,dataEndIndex:E},f({props:j.props,dataStartIndex:w,dataEndIndex:E,updateId:T},j.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,O=C.chartY,L=C.activeTooltipIndex,U=j.state,M=U.offset,Q=U.tooltipTicks;if(!M)return;if(typeof B=="function")L=B(Q,C);else if(B==="value"){L=-1;for(var q=0;q<Q.length;q++)if(Q[q].value===C.activeLabel){L=q;break}}var J=qe(qe({},M),{},{x:M.left,y:M.top}),ee=Math.min(D,J.x+J.width),$=Math.min(O,J.y+J.height),R=Q[L]&&Q[L].value,K=$S(j.state,j.props.data,L),V=Q[L]?{x:_==="horizontal"?Q[L].coordinate:ee,y:_==="horizontal"?$:Q[L].coordinate}:lG;j.setState(qe(qe({},C),{},{activeLabel:R,activeCoordinate:V,activePayload:K,activeTooltipIndex:L}))}else j.setState(C)}),vt(j,"renderCursor",function(C){var k,_=j.state,B=_.isTooltipActive,T=_.activeCoordinate,w=_.activePayload,E=_.offset,D=_.activeTooltipIndex,O=_.tooltipAxisBandSize,L=j.getTooltipEventType(),U=(k=C.props.active)!==null&&k!==void 0?k:B,M=j.props.layout,Q=C.key||"_recharts-cursor";return we.createElement(l$e,{key:Q,activeCoordinate:T,activePayload:w,activeTooltipIndex:D,chartName:r,element:C,isActive:U,layout:M,offset:E,tooltipAxisBandSize:O,tooltipEventType:L})}),vt(j,"renderPolarAxis",function(C,k,_){var B=Qa(C,"type.axisType"),T=Qa(j.state,"".concat(B,"Map")),w=C.type.defaultProps,E=w!==void 0?qe(qe({},w),C.props):C.props,D=T&&T[E["".concat(B,"Id")]];return P.cloneElement(C,qe(qe({},D),{},{className:Rt(B,D.className),key:C.key||"".concat(k,"-").concat(_),ticks:Cl(D,!0)}))}),vt(j,"renderPolarGrid",function(C){var k=C.props,_=k.radialLines,B=k.polarAngles,T=k.polarRadius,w=j.state,E=w.radiusAxisMap,D=w.angleAxisMap,O=Fc(E),L=Fc(D),U=L.cx,M=L.cy,Q=L.innerRadius,q=L.outerRadius;return P.cloneElement(C,{polarAngles:Array.isArray(B)?B:Cl(L,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(T)?T:Cl(O,!0).map(function(J){return J.coordinate}),cx:U,cy:M,innerRadius:Q,outerRadius:q,key:C.key||"polar-grid",radialLines:_})}),vt(j,"renderLegend",function(){var C=j.state.formattedGraphicalItems,k=j.props,_=k.children,B=k.width,T=k.height,w=j.props.margin||{},E=B-(w.left||0)-(w.right||0),D=$K({children:_,formattedGraphicalItems:C,legendWidth:E,legendContent:d});if(!D)return null;var O=D.item,L=L8(D,c$e);return P.cloneElement(O,qe(qe({},L),{},{chartWidth:B,chartHeight:T,margin:w,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),vt(j,"renderTooltip",function(){var C,k=j.props,_=k.children,B=k.accessibilityLayer,T=Oa(_,ii);if(!T)return null;var w=j.state,E=w.isTooltipActive,D=w.activeCoordinate,O=w.activePayload,L=w.activeLabel,U=w.offset,M=(C=T.props.active)!==null&&C!==void 0?C:E;return P.cloneElement(T,{viewBox:qe(qe({},U),{},{x:U.left,y:U.top}),active:M,label:L,payload:M?O:[],coordinate:D,accessibilityLayer:B})}),vt(j,"renderBrush",function(C){var k=j.props,_=k.margin,B=k.data,T=j.state,w=T.offset,E=T.dataStartIndex,D=T.dataEndIndex,O=T.updateId;return P.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Hv(j.handleBrushChange,C.props.onChange),data:B,x:Ze(C.props.x)?C.props.x:w.left,y:Ze(C.props.y)?C.props.y:w.top+w.height+w.brushBottom-(_.bottom||0),width:Ze(C.props.width)?C.props.width:w.width,startIndex:E,endIndex:D,updateId:"brush-".concat(O)})}),vt(j,"renderReferenceElement",function(C,k,_){if(!C)return null;var B=j,T=B.clipPathId,w=j.state,E=w.xAxisMap,D=w.yAxisMap,O=w.offset,L=C.type.defaultProps||{},U=C.props,M=U.xAxisId,Q=M===void 0?L.xAxisId:M,q=U.yAxisId,J=q===void 0?L.yAxisId:q;return P.cloneElement(C,{key:C.key||"".concat(k,"-").concat(_),xAxis:E[Q],yAxis:D[J],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:T})}),vt(j,"renderActivePoints",function(C){var k=C.item,_=C.activePoint,B=C.basePoint,T=C.childIndex,w=C.isRange,E=[],D=k.props.key,O=k.item.type.defaultProps!==void 0?qe(qe({},k.item.type.defaultProps),k.item.props):k.item.props,L=O.activeDot,U=O.dataKey,M=qe(qe({index:T,dataKey:U,cx:_.x,cy:_.y,r:4,fill:Zk(k.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},_t(L,!1)),Fw(L));return E.push(p.renderActiveDot(L,M,"".concat(D,"-activePoint-").concat(T))),B?E.push(p.renderActiveDot(L,qe(qe({},M),{},{cx:B.x,cy:B.y}),"".concat(D,"-basePoint-").concat(T))):w&&E.push(null),E}),vt(j,"renderGraphicChild",function(C,k,_){var B=j.filterFormatItem(C,k,_);if(!B)return null;var T=j.getTooltipEventType(),w=j.state,E=w.isTooltipActive,D=w.tooltipAxis,O=w.activeTooltipIndex,L=w.activeLabel,U=j.props.children,M=Oa(U,ii),Q=B.props,q=Q.points,J=Q.isRange,ee=Q.baseLine,$=B.item.type.defaultProps!==void 0?qe(qe({},B.item.type.defaultProps),B.item.props):B.item.props,R=$.activeDot,K=$.hide,V=$.activeBar,ae=$.activeShape,Ae=!!(!K&&E&&M&&(R||V||ae)),ne={};T!=="axis"&&M&&M.props.trigger==="click"?ne={onClick:Hv(j.handleItemMouseEnter,C.props.onClick)}:T!=="axis"&&(ne={onMouseLeave:Hv(j.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Hv(j.handleItemMouseEnter,C.props.onMouseEnter)});var ie=P.cloneElement(C,qe(qe({},B.props),ne));function le(Ee){return typeof D.dataKey=="function"?D.dataKey(Ee.payload):null}if(Ae)if(O>=0){var X,he;if(D.dataKey&&!D.allowDuplicatedCategory){var Me=typeof D.dataKey=="function"?le:"payload.".concat(D.dataKey.toString());X=pB(q,Me,L),he=J&&ee&&pB(ee,Me,L)}else X=q==null?void 0:q[O],he=J&&ee&&ee[O];if(ae||V){var Qe=C.props.activeIndex!==void 0?C.props.activeIndex:O;return[P.cloneElement(C,qe(qe(qe({},B.props),ne),{},{activeIndex:Qe})),null,null]}if(!$t(X))return[ie].concat(Yf(j.renderActivePoints({item:B,activePoint:X,basePoint:he,childIndex:O,isRange:J})))}else{var ye,z=(ye=j.getItemByXY(j.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:ie},ke=z.graphicalItem,Ie=ke.item,Pe=Ie===void 0?C:Ie,Le=ke.childIndex,De=qe(qe(qe({},B.props),ne),{},{activeIndex:Le});return[P.cloneElement(Pe,De),null,null]}return J?[ie,null,null]:[ie,null]}),vt(j,"renderCustomized",function(C,k,_){return P.cloneElement(C,qe(qe({key:"recharts-customized-".concat(_)},j.props),j.state))}),vt(j,"renderMap",{CartesianGrid:{handler:Wv,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Wv},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Wv},YAxis:{handler:Wv},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:_x("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=QV(j.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return b$e(p,m),g$e(p,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,j=b.data,C=b.height,k=b.layout,_=Oa(N,ii);if(_){var B=_.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,w=$S(this.state,j,B,T),E=this.state.tooltipTicks[B].coordinate,D=(this.state.offset.top+C)/2,O=k==="horizontal",L=O?{x:E,y:D}:{y:E,x:D},U=this.state.formattedGraphicalItems.find(function(Q){var q=Q.item;return q.type.name==="Scatter"});U&&(L=qe(qe({},L),U.props.points[B].tooltipPosition),w=U.props.points[B].tooltipPayload);var M={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:T,activePayload:w,activeCoordinate:L};this.setState(M),this.renderCursor(_),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,C;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){xB([Oa(b.children,ii)],[Oa(this.props.children,ii)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Oa(this.props.children,ii);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),C=D6e(j),k={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},_=j.width/N.offsetWidth||1,B=this.inRange(k.chartX,k.chartY,_);if(!B)return null;var T=this.state,w=T.xAxisMap,E=T.yAxisMap,D=this.getTooltipEventType(),O=U8(this.state,this.props.data,this.props.layout,B);if(D!=="axis"&&w&&E){var L=Fc(w).scale,U=Fc(E).scale,M=L&&L.invert?L.invert(k.chartX):null,Q=U&&U.invert?U.invert(k.chartY):null;return qe(qe({},k),{},{xValue:M,yValue:Q},O)}return O?qe(qe({},k),O):null}},{key:"inRange",value:function(b,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=b/j,_=N/j;if(C==="horizontal"||C==="vertical"){var B=this.state.offset,T=k>=B.left&&k<=B.left+B.width&&_>=B.top&&_<=B.top+B.height;return T?{x:k,y:_}:null}var w=this.state,E=w.angleAxisMap,D=w.radiusAxisMap;if(E&&D){var O=Fc(E);return hU({x:k,y:_},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),j=Oa(b,ii),C={};j&&N==="axis"&&(j.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Fw(this.props,this.handleOuterEvent);return qe(qe({},k),C)}},{key:"addListener",value:function(){D5.on(L5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){D5.removeListener(L5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,j){for(var C=this.state.formattedGraphicalItems,k=0,_=C.length;k<_;k++){var B=C[k];if(B.item===b||B.props.key===b.key||N===El(B.item.type)&&j===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,j=N.left,C=N.top,k=N.height,_=N.width;return we.createElement("defs",null,we.createElement("clipPath",{id:b},we.createElement("rect",{x:j,y:C,height:k,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,j){var C=D8(j,2),k=C[0],_=C[1];return qe(qe({},N),{},vt({},k,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,j){var C=D8(j,2),k=C[0],_=C[1];return qe(qe({},N),{},vt({},k,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,j=N.formattedGraphicalItems,C=N.activeItem;if(j&&j.length)for(var k=0,_=j.length;k<_;k++){var B=j[k],T=B.props,w=B.item,E=w.type.defaultProps!==void 0?qe(qe({},w.type.defaultProps),w.props):w.props,D=El(w.type);if(D==="Bar"){var O=(T.data||[]).find(function(Q){return yMe(b,Q)});if(O)return{graphicalItem:B,payload:O}}else if(D==="RadialBar"){var L=(T.data||[]).find(function(Q){return hU(b,Q)});if(L)return{graphicalItem:B,payload:L}}else if(yj(B,C)||vj(B,C)||J0(B,C)){var U=o8e({graphicalItem:B,activeTooltipItem:C,itemData:E.data}),M=E.activeIndex===void 0?U:E.activeIndex;return{graphicalItem:qe(qe({},B),{},{childIndex:M}),payload:J0(B,C)?E.data[U]:B.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!sL(this))return null;var N=this.props,j=N.children,C=N.className,k=N.width,_=N.height,B=N.style,T=N.compact,w=N.title,E=N.desc,D=L8(N,d$e),O=_t(D,!1);if(T)return we.createElement(b8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},we.createElement(vB,Qh({},O,{width:k,height:_,title:w,desc:E}),this.renderClipPath(),iL(j,this.renderMap)));if(this.props.accessibilityLayer){var L,U;O.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,O.role=(U=this.props.role)!==null&&U!==void 0?U:"application",O.onKeyDown=function(Q){b.accessibilityManager.keyboardEvent(Q)},O.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return we.createElement(b8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},we.createElement("div",Qh({className:Rt("recharts-wrapper",C),style:qe({position:"relative",cursor:"default",width:k,height:_},B)},M,{ref:function(q){b.container=q}}),we.createElement(vB,Qh({},O,{width:k,height:_,title:w,desc:E,style:B$e}),this.renderClipPath(),iL(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);vt(g,"displayName",r),vt(g,"defaultProps",qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},A)),vt(g,"getDerivedStateFromProps",function(m,p){var y=m.dataKey,b=m.data,N=m.children,j=m.width,C=m.height,k=m.layout,_=m.stackOffset,B=m.margin,T=p.dataStartIndex,w=p.dataEndIndex;if(p.updateId===void 0){var E=R8(m);return qe(qe(qe({},E),{},{updateId:0},f(qe(qe({props:m},E),{},{updateId:0}),p)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:C,prevLayout:k,prevStackOffset:_,prevMargin:B,prevChildren:N})}if(y!==p.prevDataKey||b!==p.prevData||j!==p.prevWidth||C!==p.prevHeight||k!==p.prevLayout||_!==p.prevStackOffset||!df(B,p.prevMargin)){var D=R8(m),O={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},L=qe(qe({},U8(p,b,k)),{},{updateId:p.updateId+1}),U=qe(qe(qe({},D),O),L);return qe(qe(qe({},U),f(qe({props:m},U),p)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:C,prevLayout:k,prevStackOffset:_,prevMargin:B,prevChildren:N})}if(!xB(N,p.prevChildren)){var M,Q,q,J,ee=Oa(N,$f),$=ee&&(M=(Q=ee.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&M!==void 0?M:T,R=ee&&(q=(J=ee.props)===null||J===void 0?void 0:J.endIndex)!==null&&q!==void 0?q:w,K=$!==T||R!==w,V=!$t(b),ae=V&&!K?p.updateId:p.updateId+1;return qe(qe({updateId:ae},f(qe(qe({props:m},p),{},{updateId:ae,dataStartIndex:$,dataEndIndex:R}),p)),{},{prevChildren:N,dataStartIndex:$,dataEndIndex:R})}return null}),vt(g,"renderActiveDot",function(m,p,y){var b;return P.isValidElement(m)?b=P.cloneElement(m,p):Et(m)?b=m(p):b=we.createElement(t6,p),we.createElement(hr,{className:"recharts-active-dot",key:y},b)});var x=P.forwardRef(function(p,y){return we.createElement(g,Qh({},p,{ref:y}))});return x.displayName=g.displayName,x},uG=dG({chartName:"BarChart",GraphicalChild:zl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Fx},{axisType:"yAxis",AxisComp:Tx}],formatAxisMap:URe}),L$e=dG({chartName:"PieChart",GraphicalChild:Zl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xj},{axisType:"radiusAxis",AxisComp:pj}],formatAxisMap:FIe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const $8=({data:t,title:e,subtitle:r,onSegmentClick:n})=>{const[a,i]=P.useState(null),o=(u,A)=>{i(A)},l=()=>{i(null)},c=(u,A)=>{n&&n(A)},d=({active:u,payload:A})=>u&&A&&A.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:A[0].name}),s.jsxs("p",{className:"text-sm",style:{color:A[0].payload.color},children:[A[0].value,"%"]})]}):null;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex flex-col items-center mb-4",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600 text-center",children:r})]}),s.jsx("div",{className:"h-48 flex items-center justify-center",children:s.jsx(Sk,{width:"100%",height:"100%",children:s.jsxs(L$e,{children:[s.jsx(Zl,{data:t,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:2,dataKey:"value",animationDuration:300,animationBegin:0,onMouseEnter:o,onMouseLeave:l,onClick:c,children:t.map((u,A)=>s.jsx(Bx,{fill:u.color,stroke:u.color,style:{filter:a===A?"drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.2))":"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",opacity:a===null||a===A?1:.7,cursor:"pointer",transition:"all 0.3s ease"}},`cell-${A}`))}),s.jsx(ii,{content:s.jsx(d,{})})]})})}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:t.map((u,A)=>s.jsxs(oe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 p-1 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>c(u,A),onMouseEnter:()=>o(u,A),onMouseLeave:l,children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:u.name})}),s.jsxs("p",{className:"text-xs font-bold text-gray-900",children:[u.value,"%"]})]},u.name))})]})},M$e=({data:t,title:e,subtitle:r,prefix:n="",suffix:a="",onBarClick:i})=>{const o=({active:c,payload:d,label:u})=>c&&d&&d.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:u}),s.jsxs("p",{className:"text-sm",style:{color:d[0].payload.color},children:[n,d[0].value,a]})]}):null,l=(c,d)=>{i&&i(d)};return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600",children:r})]})}),s.jsx("div",{className:"h-64",children:s.jsx(Sk,{width:"100%",height:"100%",children:s.jsxs(uG,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[s.jsx(u6,{strokeDasharray:"3 3",opacity:.1}),s.jsx(Fx,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),s.jsx(Tx,{tick:{fontSize:10},width:30}),s.jsx(ii,{content:s.jsx(o,{})}),s.jsx(zl,{dataKey:"value",animationDuration:300,animationBegin:0,label:{position:"top",fill:"#6b7280",fontSize:10,formatter:c=>`${n}${c}${a}`},onClick:l,children:t.map((c,d)=>s.jsx(Bx,{fill:c.color,style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",cursor:"pointer"}},`cell-${d}`))})]})})})]})},U$e=({data:t,title:e,subtitle:r,metricType:n,onMetricChange:a,onBarClick:i})=>{const o=({active:d,payload:u,label:A})=>d&&u&&u.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:A}),u.map((h,f)=>s.jsxs("p",{className:"text-sm",style:{color:h.color},children:[h.name,": ",h.value,"%"]},f))]}):null,l=(d,u)=>{i&&i(u)},c=[{value:"productivity",label:"Produtividade"},{value:"efficiency",label:"Eficincia"},{value:"quality",label:"Qualidade"},{value:"satisfaction",label:"Satisfao"}];return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex flex-col items-center mb-4",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600 text-center",children:r}),s.jsx("select",{value:n,onChange:d=>a(d.target.value),className:"mt-2 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:c.map(d=>s.jsx("option",{value:d.value,children:d.label},d.value))})]}),s.jsx("div",{className:"h-64",children:s.jsx(Sk,{width:"100%",height:"100%",children:s.jsxs(uG,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[s.jsx(u6,{strokeDasharray:"3 3",opacity:.1}),s.jsx(Fx,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),s.jsx(Tx,{domain:[0,100],tick:{fontSize:10},width:30}),s.jsx(ii,{content:s.jsx(o,{})}),s.jsx(Iu,{wrapperStyle:{fontSize:"10px"}}),s.jsx(zl,{name:"Atual",dataKey:"current",fill:"#3b82f6",animationDuration:300,animationBegin:0,radius:[4,4,0,0],onClick:l}),s.jsx(zl,{name:"Anterior",dataKey:"previous",fill:"#93c5fd",animationDuration:300,animationBegin:150,radius:[4,4,0,0],onClick:l})]})})})]})},R$e=({id:t,name:e,color:r,metrics:n,performance:a,isSelected:i,onClick:o})=>s.jsx(oe.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${i?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:o,children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:r},children:s.jsx("span",{className:"text-xs font-bold text-white",children:e.charAt(0)})})}),s.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:e}),s.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[a.change>0?s.jsx(Xh,{className:"h-3 w-3 text-green-500"}):a.change<0?s.jsx(J1,{className:"h-3 w-3 text-red-500"}):null,s.jsxs("span",{className:`text-sm font-medium ${a.change>0?"text-green-600":a.change<0?"text-red-600":"text-gray-600"}`,children:[a.change>0?"+":"",a.change,"%"]})]}),s.jsx("div",{className:"w-full mb-2",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full",style:{width:`${a.current}%`,backgroundColor:r}})})}),s.jsxs("div",{className:"flex justify-between w-full text-xs text-gray-500",children:[s.jsxs("span",{children:["Prod: ",n.productivity,"%"]}),s.jsxs("span",{children:["Qual: ",n.quality,"%"]})]})]})}),Q$e=({alerts:t,departments:e,onResolve:r,onEscalate:n,onIgnore:a})=>{const[i,o]=P.useState("severity"),[l,c]=P.useState("all"),[d,u]=P.useState([]),[A,h]=P.useState(null),[f,g]=P.useState(""),[x,m]=P.useState(null),[p,y]=P.useState(""),[b,N]=P.useState("medium"),j=[{id:"1",name:"Joo Silva",department:"operations",role:"Supervisor"},{id:"2",name:"Maria Santos",department:"operations",role:"Tcnico"},{id:"3",name:"Carlos Oliveira",department:"technical",role:"Tcnico Snior"},{id:"4",name:"Ana Pereira",department:"technical",role:"Tcnico"},{id:"5",name:"Pedro Costa",department:"commercial",role:"Gerente"},{id:"6",name:"Lcia Ferreira",department:"financial",role:"Analista"},{id:"7",name:"Roberto Almeida",department:"administrative",role:"Coordenador"}],C=O=>{switch(O){case"low":return"#f59e0b";case"medium":return"#f97316";case"high":return"#ef4444";default:return"#6b7280"}},k=O=>{switch(O){case"low":return s.jsx(Mt,{className:"h-4 w-4"});case"medium":return s.jsx(ns,{className:"h-4 w-4"});case"high":return s.jsx(dt,{className:"h-4 w-4"});default:return null}},_=O=>new Date(O).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),B=O=>{u(L=>L.includes(O)?L.filter(U=>U!==O):[...L,O])},T=O=>{h(O)},w=()=>{!A||!x||!p||(console.log("Creating task for employee:",x),console.log("Due date:",p),console.log("Priority:",b),n(A),h(null),m(null),y(""),N("medium"))},E=j.filter(O=>O.name.toLowerCase().includes(f.toLowerCase())||O.department.toLowerCase().includes(f.toLowerCase())||O.role.toLowerCase().includes(f.toLowerCase())),D=[...t].filter(O=>l==="all"||O.departmentId===l).sort((O,L)=>{if(i==="date")return new Date(L.timestamp).getTime()-new Date(O.timestamp).getTime();{const U={high:0,medium:1,low:2};return U[O.severity]-U[L.severity]}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),s.jsxs("select",{value:i,onChange:O=>o(O.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"severity",children:"Severidade"}),s.jsx("option",{value:"date",children:"Data"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Departamento:"}),s.jsxs("select",{value:l,onChange:O=>c(O.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Todos"}),e.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),s.jsx("div",{className:"space-y-3",children:D.length>0?D.map(O=>{const L=e.find(M=>M.id===O.departmentId),U=d.includes(O.id);return s.jsxs(oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>B(O.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${C(O.severity)}20`},children:k(O.severity)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-base",children:O.title}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:_(O.timestamp)}),s.jsx(oe.div,{animate:{rotate:U?180:0},transition:{duration:.3},children:s.jsx(Hu,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${C(O.severity)}20`,color:C(O.severity)},children:O.severity==="low"?"Baixa":O.severity==="medium"?"Mdia":"Alta"}),L&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:L.color}}),s.jsx("span",{className:"text-xs text-gray-500",children:L.name})]}),O.status==="new"&&s.jsx("div",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Novo"})]})]})]})}),s.jsx(it,{children:U&&s.jsx(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-4 bg-gray-50",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-4",children:O.description}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[s.jsxs("button",{onClick:()=>r(O.id),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(Fr,{className:"h-4 w-4"}),s.jsx("span",{children:"Resolver"})]}),s.jsxs("button",{onClick:()=>T(O.id),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(Z1,{className:"h-4 w-4"}),s.jsx("span",{children:"Escalar"})]}),s.jsxs("button",{onClick:()=>a(O.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(Ct,{className:"h-4 w-4"}),s.jsx("span",{children:"Ignorar"})]})]})]})})})]},O.id)}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Fr,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No h alertas para exibir com os filtros atuais"})]})}),s.jsx(it,{children:A&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Escalar Alerta"}),s.jsx("button",{onClick:()=>h(null),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsvel"}),s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",value:f,onChange:O=>g(O.target.value),placeholder:"Buscar por nome ou setor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:E.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:E.map(O=>{var L;return s.jsx("div",{onClick:()=>m(O.id),className:`p-3 cursor-pointer transition-colors ${x===O.id?"bg-blue-50":"hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[O.avatar?s.jsx("img",{src:O.avatar,alt:O.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx(vn,{className:"h-4 w-4 text-gray-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:O.name}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx("span",{children:O.role}),s.jsx("span",{children:""}),s.jsx("span",{children:((L=e.find(U=>U.id===O.department))==null?void 0:L.name)||O.department})]})]})]})},O.id)})}):s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhum funcionrio encontrado"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:p,onChange:O=>y(O.target.value),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>N("low"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${b==="low"?"bg-green-50 border-green-300 text-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(hb,{className:"h-4 w-4"}),s.jsx("span",{children:"Baixa"})]}),s.jsxs("button",{type:"button",onClick:()=>N("medium"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${b==="medium"?"bg-yellow-50 border-yellow-300 text-yellow-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(hb,{className:"h-4 w-4"}),s.jsx("span",{children:"Mdia"})]}),s.jsxs("button",{type:"button",onClick:()=>N("high"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${b==="high"?"bg-red-50 border-red-300 text-red-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(hb,{className:"h-4 w-4"}),s.jsx("span",{children:"Alta"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Mt,{className:"h-4 w-4 text-blue-500"}),s.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Tarefa ser criada na agenda"})]}),s.jsx("p",{className:"text-xs text-blue-600",children:"Uma tarefa ser automaticamente criada na agenda do responsvel selecionado com o prazo e prioridade definidos."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>h(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:w,disabled:!x||!p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",children:"Escalar Alerta"})]})]})]})})]})},$$e=()=>{var Ae,ne,ie,le;const t=P.useRef(null),[e,r]=P.useState("all"),[n,a]=P.useState("month"),[i,o]=P.useState("productivity"),[l,c]=P.useState(!1),[d,u]=P.useState(new Date),[A,h]=P.useState(!1),[f,g]=P.useState(!1),[x,m]=P.useState(!1),[p,y]=P.useState("pdf"),[b,N]=P.useState(""),[j,C]=P.useState("weekly"),[k,_]=P.useState([{id:"1",name:"Relatrio Semanal de Desempenho",frequency:"weekly",format:"pdf",recipients:["admin@example.com"],nextDate:"2024-01-25"}]),[B,T]=P.useState(!1),[w,E]=P.useState(0),D=[{id:"operations",name:"Operacional",color:"#3b82f6",metrics:{productivity:87,efficiency:82,quality:90,satisfaction:85},performance:{current:87,previous:82,change:5}},{id:"commercial",name:"Comercial",color:"#10b981",metrics:{productivity:92,efficiency:88,quality:85,satisfaction:91},performance:{current:92,previous:89,change:3}},{id:"financial",name:"Financeiro",color:"#8b5cf6",metrics:{productivity:95,efficiency:93,quality:97,satisfaction:89},performance:{current:95,previous:92,change:3}},{id:"administrative",name:"Administrativo",color:"#f59e0b",metrics:{productivity:89,efficiency:91,quality:93,satisfaction:88},performance:{current:89,previous:90,change:-1}},{id:"technical",name:"Tcnico",color:"#ef4444",metrics:{productivity:83,efficiency:85,quality:88,satisfaction:82},performance:{current:83,previous:80,change:3}}],O=[{id:"alert1",departmentId:"operations",title:"Queda na produtividade",description:"A produtividade do departamento operacional caiu 5% nas ltimas 24 horas.",timestamp:"2024-01-15T10:30:00",severity:"medium",status:"new"},{id:"alert2",departmentId:"technical",title:"Atraso em atendimentos",description:"O tempo mdio de atendimento est acima da meta estabelecida.",timestamp:"2024-01-15T09:15:00",severity:"high",status:"new"},{id:"alert3",departmentId:"commercial",title:"Meta de vendas atingida",description:"O departamento comercial atingiu 100% da meta mensal antes do prazo.",timestamp:"2024-01-14T16:45:00",severity:"low",status:"viewed"}],L=()=>[{name:"Instalaes",value:35,color:"#3b82f6"},{name:"Manutenes",value:40,color:"#10b981"},{name:"Reparos",value:25,color:"#f59e0b"}],U=()=>[{name:"1 Visita",value:65,color:"#10b981"},{name:"2 Visita",value:25,color:"#f59e0b"},{name:"3+ Visitas",value:10,color:"#ef4444"}],M=()=>[{name:"Carlos",value:92,color:"#3b82f6"},{name:"Ana",value:88,color:"#8b5cf6"},{name:"Pedro",value:85,color:"#10b981"},{name:"Maria",value:91,color:"#f59e0b"},{name:"Joo",value:78,color:"#ef4444"}],Q=()=>D.map(X=>({name:X.name,current:X.metrics[i],previous:X.metrics[i]-(Math.random()*10-5),color:X.color})),q=()=>{c(!0),setTimeout(()=>{u(new Date),c(!1)},1e3)},J=X=>{console.log("Resolvendo alerta:",X)},ee=X=>{console.log("Escalando alerta:",X)},$=X=>{console.log("Ignorando alerta:",X)},R=async()=>{if(t.current){g(!0),T(!0),E(10);try{const X=setInterval(()=>{E(ke=>ke>=90?(clearInterval(X),90):ke+10)},300),he=await QE(t.current,{scale:1,useCORS:!0,logging:!1});E(95);const Me=he.toDataURL("image/png"),Qe=new ft({orientation:"portrait",unit:"mm",format:"a4"});Qe.setFillColor(59,130,246),Qe.rect(0,0,Qe.internal.pageSize.width,20,"F"),Qe.setTextColor(255,255,255),Qe.setFontSize(14),Qe.text("Dashboard Departamental - GiarTech",10,10),Qe.setFontSize(10),Qe.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const ye=Qe.internal.pageSize.width,z=he.height*ye/he.width;Qe.addImage(Me,"PNG",0,25,ye,z),Qe.save("dashboard-departamental.pdf"),E(100),setTimeout(()=>{g(!1),T(!1),E(0)},1e3)}catch(X){console.error("Erro ao gerar PDF:",X),g(!1),T(!1),alert("Erro ao gerar PDF. Tente novamente.")}}},K=()=>{T(!0),E(10);const X=setInterval(()=>{E(he=>he>=90?(clearInterval(X),90):he+10)},200);setTimeout(()=>{E(100),alert("Relatrio Excel gerado com sucesso!"),setTimeout(()=>{T(!1),E(0)},1e3)},1500)},V=()=>{T(!0),E(50),setTimeout(()=>{E(100),window.print(),setTimeout(()=>{T(!1),E(0)},1e3)},1e3)},ae=()=>{var Qe;if(!b){alert("Por favor, informe pelo menos um destinatrio");return}const X=b.split(",").map(ye=>ye.trim()),he=new Date;j==="daily"?he.setDate(he.getDate()+1):j==="weekly"?he.setDate(he.getDate()+7):he.setMonth(he.getMonth()+1);const Me={id:Date.now().toString(),name:`Relatrio ${j==="daily"?"Dirio":j==="weekly"?"Semanal":"Mensal"} - ${e==="all"?"Todos Departamentos":(Qe=D.find(ye=>ye.id===e))==null?void 0:Qe.name}`,frequency:j,format:p,recipients:X,nextDate:he.toISOString().split("T")[0]};_([...k,Me]),m(!1),N(""),alert("Relatrio agendado com sucesso!")};return s.jsxs("div",{ref:t,className:"space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center md:text-left",children:"Dashboard Departamental"}),s.jsx("p",{className:"text-gray-600 text-center md:text-left",children:"Anlise de desempenho por departamento"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Perodo:"}),s.jsxs("select",{value:n,onChange:X=>a(X.target.value),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"day",children:"Hoje"}),s.jsx("option",{value:"week",children:"Esta Semana"}),s.jsx("option",{value:"month",children:"Este Ms"}),s.jsx("option",{value:"quarter",children:"Este Trimestre"})]})]}),s.jsxs("button",{onClick:q,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(ea,{className:`h-4 w-4 ${l?"animate-spin":""}`}),s.jsx("span",{children:"Atualizar"})]}),s.jsxs("button",{onClick:()=>h(!A),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${A?"bg-yellow-500 text-white":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsx("span",{children:"Alertas"}),s.jsx("div",{className:"w-5 h-5 bg-white text-yellow-700 rounded-full flex items-center justify-center text-xs font-bold",children:O.length})]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 text-center mt-2",children:["ltima atualizao: ",d.toLocaleString("pt-BR")]})]}),s.jsx(it,{children:A&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alertas"}),s.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsx(Q$e,{alerts:O,departments:D,onResolve:J,onEscalate:ee,onIgnore:$})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Departamentos"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(oe.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${e==="all"?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:()=>r("all"),children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mb-2",children:s.jsx(kt,{className:"h-4 w-4 text-white"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Todos"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Viso Geral"}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:"90%"}})}),s.jsxs("div",{className:"flex justify-between w-full mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Performance"}),s.jsx("span",{className:"text-xs font-medium text-gray-900",children:"90%"})]})]})}),D.map(X=>s.jsx(R$e,{id:X.id,name:X.name,color:X.color,metrics:X.metrics,performance:X.performance,isSelected:e===X.id,onClick:()=>r(X.id)},X.id))]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Produtividade",value:e==="all"?"89%":`${((Ae=D.find(X=>X.id===e))==null?void 0:Ae.metrics.productivity)||0}%`,change:"+3.5%",icon:Ll,color:"from-blue-500 to-blue-600"},{title:"Eficincia",value:e==="all"?"87%":`${((ne=D.find(X=>X.id===e))==null?void 0:ne.metrics.efficiency)||0}%`,change:"+2.1%",icon:jr,color:"from-green-500 to-green-600"},{title:"Qualidade",value:e==="all"?"91%":`${((ie=D.find(X=>X.id===e))==null?void 0:ie.metrics.quality)||0}%`,change:"+4.2%",icon:Ks,color:"from-purple-500 to-purple-600"},{title:"Satisfao",value:e==="all"?"87%":`${((le=D.find(X=>X.id===e))==null?void 0:le.metrics.satisfaction)||0}%`,change:"+1.8%",icon:On,color:"from-amber-500 to-amber-600"}].map((X,he)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${X.color} rounded-lg flex items-center justify-center`,children:s.jsx(X.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Xh,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-xs font-medium text-green-600",children:X.change})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:X.value}),s.jsx("p",{className:"text-sm text-gray-600",children:X.title})]},X.title))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx($8,{data:L(),title:"Tipo de Servio",subtitle:"Distribuio por categoria"}),s.jsx($8,{data:U(),title:"Taxa de Resoluo",subtitle:"Resoluo por nmero de visitas"}),s.jsx(M$e,{data:M(),title:"Desempenho de Tcnicos",subtitle:"Produtividade individual",suffix:"%"}),s.jsx(U$e,{data:Q(),title:"Comparao de Departamentos",subtitle:"Atual vs. Perodo Anterior",metricType:i,onMetricChange:X=>o(X)})]}),e==="operations"||e==="all"?s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Mtricas Operacionais"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Tempo Mdio de Atendimento"}),s.jsx(Mt,{className:"h-5 w-5 text-blue-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"1h 45m"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(J1,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"-12%"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 2h 00m"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Atendimentos Realizados"}),s.jsx(On,{className:"h-5 w-5 text-green-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:"248"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(Xh,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"+8%"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 230"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Satisfao do Cliente"}),s.jsx(Ks,{className:"h-5 w-5 text-purple-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"4.8"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(Xh,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"+0.2"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 4.5"})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Atendimentos por Tipo"}),s.jsx("div",{className:"space-y-3",children:[{label:"Instalaes",value:87,total:95,color:"#3b82f6"},{label:"Manutenes Preventivas",value:102,total:110,color:"#10b981"},{label:"Reparos/Corretivas",value:59,total:65,color:"#f59e0b"}].map(X=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-700",children:X.label}),s.jsxs("span",{className:"font-medium text-gray-900",children:[X.value,"/",X.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full",style:{width:`${X.value/X.total*100}%`,backgroundColor:X.color}})})]},X.label))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Produtividade por Equipe"}),s.jsx("div",{className:"space-y-3",children:[{label:"Equipe A",value:92,color:"#3b82f6"},{label:"Equipe B",value:87,color:"#10b981"},{label:"Equipe C",value:78,color:"#f59e0b"},{label:"Equipe D",value:85,color:"#8b5cf6"}].map(X=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-700",children:X.label}),s.jsxs("span",{className:"font-medium text-gray-900",children:[X.value,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full",style:{width:`${X.value}%`,backgroundColor:X.color}})})]},X.label))})]})]})]}):null,s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Relatrios"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:R,disabled:f,className:"p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors flex flex-col items-center justify-center space-y-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(mt,{className:"h-8 w-8 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Baixar PDF"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Relatrio completo em PDF"})]}),s.jsxs("button",{onClick:K,className:"p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(mt,{className:"h-8 w-8 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Exportar Excel"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Dados em formato Excel"})]}),s.jsxs("button",{onClick:V,className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(zu,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Imprimir"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Verso para impresso"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(Jt,{className:"h-8 w-8 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Agendar"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Envio automtico por email"})]})]}),k.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Relatrios Agendados"}),s.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequncia"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formato"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prximo Envio"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(X=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:X.name}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:X.frequency==="daily"?"Dirio":X.frequency==="weekly"?"Semanal":"Mensal"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:X.format.toUpperCase()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(X.nextDate).toLocaleDateString("pt-BR")})]},X.id))})]})})]})]}),s.jsx(it,{children:B&&s.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatrio"}),w===100&&s.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[w<100?s.jsx(gx,{className:"h-5 w-5 text-blue-500 animate-spin"}):s.jsx(On,{className:"h-5 w-5 text-green-500"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${w}%`}})})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[w,"%"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:w<100?"Processando dados e gerando relatrio...":"Relatrio gerado com sucesso!"})]})}),s.jsx(it,{children:x&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Agendar Relatrio"}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),s.jsxs("select",{value:j,onChange:X=>C(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Dirio"}),s.jsx("option",{value:"weekly",children:"Semanal"}),s.jsx("option",{value:"monthly",children:"Mensal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formato"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:p==="pdf",onChange:()=>y("pdf"),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"PDF"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:p==="excel",onChange:()=>y("excel"),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Excel"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatrios (separados por vrgula)"}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",value:b,onChange:X=>N(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com, outro@exemplo.com"})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[s.jsx(Jt,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Informaes do Relatrio"})]}),s.jsx("p",{className:"text-sm text-blue-600",children:"O relatrio ser enviado automaticamente na frequncia selecionada para os destinatrios informados. O contedo ser baseado nos filtros atuais do dashboard."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:ae,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Agendar Relatrio"})]})]})]})})]})},H$e=()=>{const{isPremium:t,isAdmin:e}=Zr(),[r,n]=P.useState([{id:"1",title:"Manual de Instalao - Split 12.000 BTUs",description:"Guia completo para instalao de ar condicionado split 12.000 BTUs",category:"manual",subcategory:"Instalao",fileUrl:"/documents/manual_instalacao_split.pdf",fileSize:"2.5 MB",fileType:"PDF",uploadDate:"2024-01-10",lastViewed:"2024-01-15",author:"Equipe Tcnica",tags:["ar condicionado","split","instalao","12000 BTUs"],isDownloaded:!0,isFavorite:!0,thumbnailUrl:"https://images.pexels.com/photos/4489734/pexels-photo-4489734.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",title:"Manual Tcnico - Dual Inverter",description:"Especificaes tcnicas e procedimentos de manuteno para ar condicionado Dual Inverter",category:"manual",subcategory:"Manuteno",fileUrl:"/documents/manual_tecnico_dual_inverter.pdf",fileSize:"3.1 MB",fileType:"PDF",uploadDate:"2024-01-08",author:"Departamento Tcnico",tags:["ar condicionado","dual inverter","manuteno"],isDownloaded:!1,isFavorite:!1},{id:"3",title:"Poltica de Segurana da Informao",description:"Documento corporativo com diretrizes de segurana da informao",category:"corporate",subcategory:"Polticas",fileUrl:"/documents/politica_seguranca_informacao.pdf",fileSize:"1.2 MB",fileType:"PDF",uploadDate:"2023-12-15",lastViewed:"2024-01-05",author:"Departamento de TI",tags:["segurana","poltica","corporativo"],isDownloaded:!0,isFavorite:!1},{id:"4",title:"Apostila de Treinamento - Refrigerao Bsica",description:"Material didtico para treinamento de novos tcnicos",category:"educational",subcategory:"Treinamento",fileUrl:"/documents/apostila_refrigeracao_basica.pdf",fileSize:"5.8 MB",fileType:"PDF",uploadDate:"2023-11-20",author:"Departamento de Treinamento",tags:["refrigerao","treinamento","bsico"],isDownloaded:!1,isFavorite:!0},{id:"5",title:"Procedimento Operacional - Atendimento ao Cliente",description:"Procedimentos padro para atendimento ao cliente em chamados tcnicos",category:"corporate",subcategory:"Procedimentos",fileUrl:"/documents/procedimento_atendimento_cliente.pdf",fileSize:"1.5 MB",fileType:"PDF",uploadDate:"2023-12-05",author:"Departamento de Qualidade",tags:["atendimento","cliente","procedimento"],isDownloaded:!0,isFavorite:!1},{id:"6",title:"Guia de Manuteno Preventiva",description:"Procedimentos para manuteno preventiva de equipamentos de ar condicionado",category:"manual",subcategory:"Manuteno",fileUrl:"/documents/guia_manutencao_preventiva.pdf",fileSize:"4.2 MB",fileType:"PDF",uploadDate:"2023-10-15",lastViewed:"2024-01-12",author:"Equipe Tcnica",tags:["manuteno","preventiva","ar condicionado"],isDownloaded:!0,isFavorite:!0}]),[a,i]=P.useState(""),[o,l]=P.useState("all"),[c,d]=P.useState("all"),[u,A]=P.useState([]),[h,f]=P.useState({}),[g,x]=P.useState(!1),[m,p]=P.useState(null),[y,b]=P.useState(!1),[N,j]=P.useState("date"),[C,k]=P.useState("desc"),[_,B]=P.useState(null),[T,w]=P.useState(0),[E,D]=P.useState(!1),[O,L]=P.useState({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),U=()=>o==="all"?["all",...new Set(r.map(le=>le.subcategory))]:["all",...new Set(r.filter(le=>o==="all"||le.category===o).map(le=>le.subcategory))],M=()=>{const le=r.flatMap(X=>X.tags);return[...new Set(le)]},q=[...r.filter(le=>{const X=le.title.toLowerCase().includes(a.toLowerCase())||le.description.toLowerCase().includes(a.toLowerCase())||le.tags.some(z=>z.toLowerCase().includes(a.toLowerCase())),he=o==="all"||le.category===o,Me=c==="all"||le.subcategory===c,Qe=u.length===0||u.every(z=>le.tags.includes(z)),ye=(!h.start||new Date(le.uploadDate)>=new Date(h.start))&&(!h.end||new Date(le.uploadDate)<=new Date(h.end));return X&&he&&Me&&Qe&&ye})].sort((le,X)=>{if(N==="date")return C==="asc"?new Date(le.uploadDate).getTime()-new Date(X.uploadDate).getTime():new Date(X.uploadDate).getTime()-new Date(le.uploadDate).getTime();if(N==="title")return C==="asc"?le.title.localeCompare(X.title):X.title.localeCompare(le.title);if(N==="size"){const he=parseFloat(le.fileSize.split(" ")[0]),Me=parseFloat(X.fileSize.split(" ")[0]);return C==="asc"?he-Me:Me-he}return 0}),J=le=>{var he;const X=(he=le.target.files)==null?void 0:he[0];X&&L({...O,file:X})},ee=()=>{if(!O.title||!O.category||!O.file){alert("Por favor, preencha todos os campos obrigatrios");return}D(!0);const le=setInterval(()=>{w(X=>X>=100?(clearInterval(le),setTimeout(()=>{$()},500),100):X+10)},300)},$=()=>{var X;if(!O.file){alert("Por favor, selecione um arquivo");return}const le={id:Date.now().toString(),title:O.title,description:O.description,category:O.category,subcategory:O.subcategory||"Geral",fileUrl:URL.createObjectURL(O.file),fileSize:`${((O.file.size||0)/(1024*1024)).toFixed(1)} MB`,fileType:((X=O.file.type.split("/")[1])==null?void 0:X.toUpperCase())||"PDF",uploadDate:new Date().toISOString().split("T")[0],tags:O.tags.split(",").map(he=>he.trim()).filter(he=>he),isDownloaded:!1,isFavorite:!1};n([le,...r]),L({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),D(!1),w(0),x(!1),alert("Documento enviado com sucesso!")},R=le=>{console.log(`Downloading ${le.title}...`),n(r.map(X=>X.id===le.id?{...X,isDownloaded:!0,lastViewed:new Date().toISOString().split("T")[0]}:X)),alert(`Download de "${le.title}" iniciado!`)},K=le=>{n(r.map(X=>X.id===le?{...X,isFavorite:!X.isFavorite}:X))},V=le=>{n(r.filter(X=>X.id!==le)),B(null)},ae=le=>{u.includes(le)?A(u.filter(X=>X!==le)):A([...u,le])},Ae=le=>{switch(le){case"manual":return mt;case"corporate":return wE;case"educational":return Ose;default:return mt}},ne=le=>{switch(le){case"manual":return"from-blue-500 to-cyan-500";case"corporate":return"from-purple-500 to-pink-500";case"educational":return"from-green-500 to-emerald-500";default:return"from-gray-500 to-gray-600"}},ie=le=>{switch(le){case"manual":return"Manual Tcnico";case"corporate":return"Documento Corporativo";case"educational":return"Material Didtico";default:return le}};return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Biblioteca Digital"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Acesse manuais, documentos corporativos e materiais didticos"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all text-sm",children:[s.jsx(Ag,{className:"h-4 w-4"}),s.jsx("span",{children:"Enviar Documento"})]})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar documentos por ttulo, descrio ou tags...",value:a,onChange:le=>i(le.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{value:o,onChange:le=>{l(le.target.value),d("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Categorias"}),s.jsx("option",{value:"manual",children:"Manuais Tcnicos"}),s.jsx("option",{value:"corporate",children:"Documentos Corporativos"}),s.jsx("option",{value:"educational",children:"Material Didtico"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),s.jsx("select",{value:c,onChange:le=>d(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:U().map(le=>s.jsx("option",{value:le,children:le==="all"?"Todas as Subcategorias":le},le))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),s.jsxs("div",{className:"flex",children:[s.jsxs("select",{value:N,onChange:le=>j(le.target.value),className:"flex-1 px-3 py-2 border-y border-l border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"date",children:"Data"}),s.jsx("option",{value:"title",children:"Ttulo"}),s.jsx("option",{value:"size",children:"Tamanho"})]}),s.jsx("button",{onClick:()=>k(C==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-r-lg bg-gray-50 hover:bg-gray-100",children:C==="asc"?s.jsx(a0,{className:"h-5 w-5"}):s.jsx(Hu,{className:"h-5 w-5"})})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:()=>b(!y),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm",children:[s.jsx(jE,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtros avanados"}),y?s.jsx(a0,{className:"h-4 w-4"}):s.jsx(Hu,{className:"h-4 w-4"})]})}),s.jsx(it,{children:y&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:[s.jsxs("div",{className:"pt-4 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo de Upload"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"De"}),s.jsx("input",{type:"date",value:h.start||"",onChange:le=>f({...h,start:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"At"}),s.jsx("input",{type:"date",value:h.end||"",onChange:le=>f({...h,end:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-gray-300 rounded-lg min-h-[42px]",children:[M().map(le=>s.jsx("button",{onClick:()=>ae(le),className:`px-2 py-1 rounded-full text-xs font-medium ${u.includes(le)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:le},le)),M().length===0&&s.jsx("span",{className:"text-sm text-gray-500",children:"Nenhuma tag disponvel"})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4 space-x-2",children:s.jsx("button",{onClick:()=>{i(""),l("all"),d("all"),A([]),f({}),j("date"),k("desc")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpar Filtros"})})]})})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Documentos (",q.length,")"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[q.length," de ",r.length," documentos"]})]}),q.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(le=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden",children:[s.jsxs("div",{className:"relative h-32 bg-gray-100 overflow-hidden",children:[le.thumbnailUrl?s.jsx("img",{src:le.thumbnailUrl,alt:le.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:`w-full h-full bg-gradient-to-r ${ne(le.category)} flex items-center justify-center`,children:we.createElement(Ae(le.category),{className:"h-16 w-16 text-white/50"})}),s.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-sm text-white rounded text-xs",children:ie(le.category)}),s.jsx("button",{onClick:()=>K(le.id),className:`absolute top-2 right-2 p-1 rounded-full ${le.isFavorite?"bg-yellow-500 text-white":"bg-white/70 text-gray-600 hover:bg-white"}`,"aria-label":le.isFavorite?"Remover dos favoritos":"Adicionar aos favoritos",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:le.isFavorite?"currentColor":"none",stroke:"currentColor",className:"w-4 h-4",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:le.title}),s.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:le.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(Jt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:new Date(le.uploadDate).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(mt,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:[le.fileSize,"  ",le.fileType]})]}),le.lastViewed&&s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Visto: ",new Date(le.lastViewed).toLocaleDateString("pt-BR")]})]}),le.isDownloaded&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(c4,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:"Baixado"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[le.tags.slice(0,3).map((X,he)=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:X},he)),le.tags.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",le.tags.length-3]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>p(le),className:"flex-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-xs flex items-center justify-center",children:[s.jsx(xs,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),s.jsxs("button",{onClick:()=>R(le),className:"flex-1 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-xs flex items-center justify-center",children:[s.jsx(ps,{className:"h-3 w-3 mr-1"}),le.isDownloaded?"Baixado":"Baixar"]}),e&&s.jsx("button",{onClick:()=>B(le.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-xs flex items-center justify-center",children:s.jsx(Ct,{className:"h-3 w-3"})})]})]})]},le.id))}):s.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx(mt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum documento encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos documentos com os filtros selecionados."}),s.jsx("button",{onClick:()=>{i(""),l("all"),d("all"),A([]),f({})},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:"Limpar Filtros"})]})]}),s.jsx(it,{children:g&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!E&&x(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enviar Novo Documento"}),!E&&s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arquivo PDF"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:O.file?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(mt,{className:"h-8 w-8 text-blue-500 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:O.file.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(O.file.size/(1024*1024)).toFixed(2)," MB"]})]})]}),s.jsx("button",{onClick:()=>L({...O,file:null}),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-5 w-5"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ag,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arraste e solte um arquivo PDF ou"}),s.jsxs("label",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer inline-block",children:["Selecionar Arquivo",s.jsx("input",{type:"file",accept:".pdf",onChange:J,className:"hidden"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ttulo ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:O.title,onChange:le=>L({...O,title:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ttulo do documento",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:O.description,onChange:le=>L({...O,description:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Breve descrio do documento"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Categoria ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:O.category,onChange:le=>L({...O,category:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"manual",children:"Manual Tcnico"}),s.jsx("option",{value:"corporate",children:"Documento Corporativo"}),s.jsx("option",{value:"educational",children:"Material Didtico"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),s.jsx("input",{type:"text",value:O.subcategory,onChange:le=>L({...O,subcategory:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalao"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (separadas por vrgula)"}),s.jsx("input",{type:"text",value:O.tags,onChange:le=>L({...O,tags:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: manual, ar condicionado, instalao"})]}),E&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[s.jsx("span",{children:"Enviando..."}),s.jsxs("span",{children:[T,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>!E&&x(!1),disabled:E,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:ee,disabled:E||!O.title||!O.file,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:E?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ag,{className:"h-4 w-4 mr-2 inline"}),"Enviar Documento"]})})]})]})]})}),s.jsx(it,{children:m&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(null),className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${ne(m.category)} flex items-center justify-center`,children:we.createElement(Ae(m.category),{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:m.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:[ie(m.category),"  ",m.subcategory]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:le=>{le.stopPropagation(),R(m)},className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:s.jsx(ps,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>p(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:s.jsx(dt,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden bg-gray-100 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx(mt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Visualizador de PDF"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Em um ambiente real, o PDF seria exibido aqui usando um visualizador integrado."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs("button",{onClick:le=>{le.stopPropagation(),R(m)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center",children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]}),s.jsxs("button",{onClick:le=>{le.stopPropagation(),window.open(m.fileUrl,"_blank")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center",children:[s.jsx(vae,{className:"h-4 w-4 mr-2"}),"Abrir em Nova Aba"]})]})]})})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Detalhes"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(Jt,{className:"h-4 w-4 mr-2 text-gray-400"}),"Enviado em ",new Date(m.uploadDate).toLocaleDateString("pt-BR")]}),s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(mt,{className:"h-4 w-4 mr-2 text-gray-400"}),m.fileSize,"  ",m.fileType]}),m.author&&s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(vn,{className:"h-4 w-4 mr-2 text-gray-400"}),"Autor: ",m.author]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Descrio"}),s.jsx("p",{className:"text-sm text-gray-600",children:m.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:m.tags.map((le,X)=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:le},X))})]})]})})]})]})}),s.jsx(it,{children:_&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>B(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-sm shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(ns,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este documento? Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>B(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>V(_),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})})]})},q$e=()=>{const{user:t}=Zr(),[e,r]=P.useState([{id:"1",name:"Equipe Tcnica",lastMessage:"Carlos: Vou atender o chamado agora",lastMessageTime:new Date(Date.now()-5*6e4),unreadCount:3,isGroup:!0,participants:["Carlos","Ana","Pedro","Maria"],status:"online",avatar:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Tcnico",lastMessage:"J finalizei a instalao do cliente",lastMessageTime:new Date(Date.now()-30*6e4),unreadCount:0,isGroup:!1,participants:["Carlos"],status:"online"},{id:"3",name:"Ana Tcnica",lastMessage:"Preciso de ajuda com um cliente",lastMessageTime:new Date(Date.now()-2*36e5),unreadCount:1,isGroup:!1,participants:["Ana"],status:"busy"},{id:"4",name:"Departamento Comercial",lastMessage:"Maria: Novo contrato fechado!",lastMessageTime:new Date(Date.now()-5*36e5),unreadCount:0,isGroup:!0,participants:["Joo","Maria","Roberto"],status:"online"}]),[n,a]=P.useState(null),[i,o]=P.useState([]),[l,c]=P.useState(""),[d,u]=P.useState(!1),[A,h]=P.useState(!0),[f,g]=P.useState(!1),[x,m]=P.useState(!1),[p,y]=P.useState(""),[b,N]=P.useState("none"),[j,C]=P.useState(0),[k,_]=P.useState(null),[B,T]=P.useState("none"),[w,E]=P.useState(""),[D,O]=P.useState(!1),[L,U]=P.useState(!1),[M,Q]=P.useState(!0),[q,J]=P.useState(!1),ee=P.useRef(null),$=P.useRef(null),[R,K]=P.useState({notifications:!0,sounds:!0,darkMode:!1,readReceipts:!0,fontSize:"medium"}),[V,ae]=P.useState(window.innerWidth<768),[Ae,ne]=P.useState(!0);P.useEffect(()=>{const ge=()=>{ae(window.innerWidth<768)};return window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[]),P.useEffect(()=>{if(n){r(fe=>fe.map(be=>be.id===n.id?{...be,unreadCount:0}:be));const ge=[],ue=10+Math.floor(Math.random()*10),se=new Date;for(let fe=0;fe<ue;fe++){const be=Math.random()>.5,xe=be?(t==null?void 0:t.name)||"Voc":n.isGroup?n.participants[Math.floor(Math.random()*n.participants.length)]:n.name;ge.push({id:`msg-${fe}`,content:he(be,n.isGroup),sender:xe,senderId:be?"me":xe,timestamp:new Date(se.getTime()-(ue-fe)*5*6e4),status:be?fe<ue-3?"read":fe<ue-1?"delivered":"sent":"read",isMe:be})}o(ge),V&&ne(!1)}},[n,t]),P.useEffect(()=>{var ge;(ge=ee.current)==null||ge.scrollIntoView({behavior:"smooth"})},[i]);const ie=e.filter(ge=>ge.name.toLowerCase().includes(p.toLowerCase())||ge.lastMessage.toLowerCase().includes(p.toLowerCase())),le=ge=>{const se=new Date().getTime()-ge.getTime();return se<864e5?ge.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):se<6048e5?["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][ge.getDay()]:ge.toLocaleDateString([],{day:"2-digit",month:"2-digit"})},X=ge=>{const ue=Math.floor(ge/60),se=ge%60;return`${ue.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`},he=(ge,ue)=>{const se=ge?["Ol, como posso ajudar?","J estou a caminho do cliente","Finalizei o servio agora","Preciso de mais informaes sobre este chamado","Vou precisar de mais peas para o conserto","O cliente no est no local","Servio concludo com sucesso","Estou com dificuldade para acessar o local"]:["Temos um novo chamado urgente","O cliente est aguardando","Pode me ajudar com um problema?","J verificou o estoque de peas?","Precisamos finalizar este servio hoje","O cliente alterou o horrio","Tem disponibilidade amanh?",ue?"Pessoal, reunio s 15h":"Preciso da sua ajuda com um cliente"];return se[Math.floor(Math.random()*se.length)]},Me=()=>{if(!l.trim()||!n)return;const ge={id:`msg-${Date.now()}`,content:l,sender:(t==null?void 0:t.name)||"Voc",senderId:"me",timestamp:new Date,status:"sending",isMe:!0};o([...i,ge]),c(""),setTimeout(()=>{o(ue=>ue.map(se=>se.id===ge.id?{...se,status:"sent"}:se)),setTimeout(()=>{o(ue=>ue.map(se=>se.id===ge.id?{...se,status:"delivered"}:se)),setTimeout(()=>{o(ue=>ue.map(se=>se.id===ge.id?{...se,status:"read"}:se))},2e3)},1e3)},500),setTimeout(()=>{u(!0),setTimeout(()=>{u(!1);const ue={id:`msg-${Date.now()}`,content:he(!1,n.isGroup),sender:n.isGroup?n.participants[Math.floor(Math.random()*n.participants.length)]:n.name,senderId:"other",timestamp:new Date,status:"read",isMe:!1};o(se=>[...se,ue]),r(se=>se.map(fe=>fe.id===n.id?{...fe,lastMessage:n.isGroup?`${ue.sender}: ${ue.content}`:ue.content,lastMessageTime:ue.timestamp}:fe))},2e3+Math.random()*1e3)},1e3+Math.random()*2e3),r(ue=>ue.map(se=>se.id===n.id?{...se,lastMessage:l,lastMessageTime:new Date}:se))},Qe=ge=>{if(!n)return;const ue=ge==="video"?{video:!0,audio:!0}:{audio:!0};navigator.mediaDevices.getUserMedia(ue).then(se=>{console.log("Media access granted for call"),se.getTracks().forEach(be=>be.stop()),N(ge),C(0);const fe=setInterval(()=>{C(be=>be+1)},1e3);_(fe)}).catch(se=>{console.error("Error accessing media devices:",se),alert("Para fazer chamadas,  necessrio permitir o acesso  cmera e microfone.")})},ye=()=>{k&&clearInterval(k),N("none"),C(0),_(null),O(!1),U(!1),J(!1)},z=ge=>{const ue=e[Math.floor(Math.random()*e.length)];E(ue.name),T(ge),setTimeout(()=>{T("none")},15e3)},ke=()=>{const ge=B;T("none"),N(ge),C(0);const ue=setInterval(()=>{C(se=>se+1)},1e3);_(ue)},Ie=()=>{T("none")},Pe=()=>{var ge;c(ue=>ue+" "),(ge=$.current)==null||ge.focus()},Le=()=>{alert("Funcionalidade de anexo seria implementada aqui")},De=ge=>{switch(ge){case"sending":return s.jsx(Mt,{className:"h-3 w-3 text-gray-400"});case"sent":return s.jsx(Fr,{className:"h-3 w-3 text-gray-400"});case"delivered":return s.jsxs("div",{className:"relative",children:[s.jsx(Fr,{className:"h-3 w-3 text-blue-500 absolute"}),s.jsx(Fr,{className:"h-3 w-3 text-blue-500 ml-0.5"})]});case"read":return s.jsxs("div",{className:"relative text-blue-500",children:[s.jsx(Fr,{className:"h-3 w-3 absolute"}),s.jsx(Fr,{className:"h-3 w-3 ml-0.5"})]});default:return null}},Ee=ge=>{switch(ge){case"online":return"bg-green-500";case"offline":return"bg-gray-400";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";default:return"bg-gray-400"}},ce=ge=>{ge.key==="Enter"&&!ge.shiftKey&&(ge.preventDefault(),Me())},He=()=>{ne(!Ae)};return s.jsxs("div",{className:"h-[calc(100vh-120px)] bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden flex",children:[s.jsx(it,{children:(!V||V&&Ae)&&s.jsxs(oe.div,{initial:V?{x:-300}:!1,animate:{x:0},exit:V?{x:-300}:void 0,className:"w-80 border-r border-gray-200 flex flex-col bg-white z-10",style:{position:V?"absolute":"relative",height:"100%",boxShadow:V?"0 0 15px rgba(0,0,0,0.1)":"none"},children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Conversas"}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:()=>m(!x),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(zr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(!f),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(Vu,{className:"h-4 w-4"})}),V&&s.jsx("button",{onClick:He,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full md:hidden",children:s.jsx(aw,{className:"h-4 w-4"})})]})]}),s.jsx(it,{children:x&&s.jsx(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"p-3 border-b border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:p,onChange:ge=>y(ge.target.value),className:"w-full pl-8 pr-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:ie.length>0?ie.map(ge=>s.jsx("div",{onClick:()=>a(ge),className:`p-2.5 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${(n==null?void 0:n.id)===ge.id?"bg-blue-50":""}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[ge.avatar?s.jsx("img",{src:ge.avatar,alt:ge.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${ge.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:ge.isGroup?s.jsx(kt,{className:"h-5 w-5"}):s.jsx("span",{className:"text-base font-semibold",children:ge.name.charAt(0)})}),s.jsx("div",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white ${Ee(ge.status)}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:ge.name}),s.jsx("span",{className:"text-xs text-gray-500",children:le(ge.lastMessageTime)})]}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:ge.lastMessage})]}),ge.unreadCount>0&&s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-medium",children:ge.unreadCount})})]})},ge.id)):s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(d4,{className:"h-10 w-10 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-sm",children:"Nenhuma conversa encontrada"})]})}),s.jsx(it,{children:f&&s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0 bg-white z-10 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center",children:[s.jsx("button",{onClick:()=>g(!1),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2",children:s.jsx(aw,{className:"h-4 w-4"})}),s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Configuraes"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Notificaes"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Notificaes de mensagens"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:R.notifications,onChange:()=>K({...R,notifications:!R.notifications}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Sons de notificao"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:R.sounds,onChange:()=>K({...R,sounds:!R.sounds}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Privacidade"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Confirmaes de leitura"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:R.readReceipts,onChange:()=>K({...R,readReceipts:!R.readReceipts}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Aparncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Modo escuro"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:R.darkMode,onChange:()=>K({...R,darkMode:!R.darkMode}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Tamanho da fonte"}),s.jsxs("select",{value:R.fontSize,onChange:ge=>K({...R,fontSize:ge.target.value}),className:"w-full px-2.5 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"small",children:"Pequeno"}),s.jsx("option",{value:"medium",children:"Mdio"}),s.jsx("option",{value:"large",children:"Grande"})]})]})]})]})]}),s.jsx("div",{className:"p-3 border-t border-gray-200",children:s.jsx("button",{onClick:()=>g(!1),className:"w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Salvar Configuraes"})})]})})]})}),s.jsx("div",{className:"flex-1 flex flex-col",children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[V&&s.jsx("button",{onClick:He,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2 md:hidden",children:s.jsx(iie,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[n.avatar?s.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:n.isGroup?s.jsx(kt,{className:"h-4 w-4"}):s.jsx("span",{className:"text-base font-semibold",children:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:n.name}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ee(n.status)} mr-1`}),s.jsx("span",{children:n.status==="online"?"Online":n.status==="away"?"Ausente":n.status==="busy"?"Ocupado":"Offline"}),n.isGroup&&s.jsxs("span",{className:"ml-1",children:[n.participants.length," participantes"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:()=>Qe("audio"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(qn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Qe("video"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(a_,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(xae,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-50",children:[i.map((ge,ue)=>{const se=ue===0||new Date(ge.timestamp).toDateString()!==new Date(i[ue-1].timestamp).toDateString();return s.jsxs(we.Fragment,{children:[se&&s.jsx("div",{className:"flex justify-center my-3",children:s.jsx("div",{className:"px-2.5 py-0.5 bg-gray-200 rounded-full text-xs text-gray-600",children:new Date(ge.timestamp).toLocaleDateString([],{weekday:"long",day:"numeric",month:"long"})})}),s.jsx("div",{className:`flex ${ge.isMe?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[75%] ${ge.isMe?"bg-blue-500 text-white":"bg-white text-gray-800"} rounded-lg px-3 py-1.5 shadow-sm`,children:[n.isGroup&&!ge.isMe&&s.jsx("p",{className:"text-xs font-medium mb-0.5",style:{color:ge.isMe?"white":"#6366f1"},children:ge.sender}),s.jsx("p",{className:"text-sm",children:ge.content}),s.jsxs("div",{className:`flex items-center justify-end space-x-1 mt-0.5 text-xs ${ge.isMe?"text-blue-100":"text-gray-500"}`,children:[s.jsx("span",{children:ge.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),ge.isMe&&De(ge.status)]})]})})]},ge.id)}),d&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white text-gray-800 rounded-lg px-3 py-1.5 shadow-sm",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),s.jsx("div",{ref:ee})]}),s.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:Pe,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(zie,{className:"h-4 w-4"})}),s.jsx("button",{onClick:Le,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(wie,{className:"h-4 w-4"})}),s.jsx("input",{type:"text",ref:$,value:l,onChange:ge=>c(ge.target.value),onKeyPress:ce,placeholder:"Digite uma mensagem...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),s.jsx("button",{onClick:Me,disabled:!l.trim(),className:`p-1.5 rounded-full ${l.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:s.jsx(yi,{className:"h-4 w-4"})})]})})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 bg-gray-50",children:[s.jsx(d4,{className:"h-14 w-14 text-gray-300 mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Chat Interno"}),s.jsx("p",{className:"text-gray-600 text-center max-w-md mb-5 text-sm",children:"Selecione uma conversa para comear a enviar mensagens ou iniciar uma chamada com sua equipe."}),V&&!Ae&&s.jsx("button",{onClick:He,className:"px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Ver Conversas"})]})}),s.jsx(it,{children:b!=="none"&&s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center bg-black/80 ${q?"p-0":"p-4"}`,children:s.jsxs("div",{className:`relative bg-gray-900 rounded-xl overflow-hidden ${q?"w-full h-full":"max-w-md w-full"}`,children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 p-3 flex items-center justify-between z-10 bg-gradient-to-b from-black/60 to-transparent",children:s.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[n!=null&&n.avatar?s.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-base font-semibold text-white",children:n==null?void 0:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:n==null?void 0:n.name}),s.jsxs("p",{className:"text-xs opacity-80",children:[b==="audio"?"Chamada de voz":"Chamada de vdeo","  ",X(j)]})]})]})}),s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:b==="video"?L?s.jsx("div",{className:"w-full h-full min-h-[250px] bg-gray-800 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(CT,{className:"h-12 w-12 text-white/50 mx-auto mb-3"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Cmera desligada"})]})}):s.jsxs("div",{className:"w-full h-full min-h-[250px] bg-gray-800 relative",children:[s.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Video call",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute bottom-3 right-3 w-24 h-20 bg-gray-900 rounded-lg overflow-hidden border-2 border-white",children:s.jsx("img",{src:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Self view",className:"w-full h-full object-cover"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-4xl font-semibold text-white",children:n==null?void 0:n.name.charAt(0)})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:n==null?void 0:n.name}),s.jsx("p",{className:"text-white/70 text-sm",children:X(j)})]})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 flex items-center justify-center space-x-3 z-10 bg-gradient-to-t from-black/60 to-transparent",children:[s.jsx("button",{onClick:()=>O(!D),className:`p-3 rounded-full ${D?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:D?s.jsx(die,{className:"h-5 w-5"}):s.jsx(Aie,{className:"h-5 w-5"})}),b==="video"&&s.jsx("button",{onClick:()=>U(!L),className:`p-3 rounded-full ${L?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:L?s.jsx(CT,{className:"h-5 w-5"}):s.jsx(a_,{className:"h-5 w-5"})}),s.jsx("button",{onClick:ye,className:"p-3 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(Cie,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>Q(!M),className:`p-3 rounded-full ${M?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-400"}`,children:s.jsx(joe,{className:"h-5 w-5"})})]})]})})}),s.jsx(it,{children:B!=="none"&&s.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-3 right-3 z-50 bg-white rounded-lg shadow-xl border border-gray-200 p-3 w-72",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-semibold text-blue-600",children:w.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:w}),s.jsx("p",{className:"text-xs text-gray-600",children:B==="audio"?"Chamada de voz":"Chamada de vdeo"})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:Ie,className:"flex-1 py-1.5 bg-red-500 text-white rounded-lg mr-2 hover:bg-red-600 transition-colors text-sm",children:"Recusar"}),s.jsx("button",{onClick:ke,className:"flex-1 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:"Atender"})]})]})}),s.jsxs("div",{className:"fixed bottom-16 right-3 z-40 space-y-1.5",children:[s.jsx("button",{onClick:()=>z("audio"),className:"p-1.5 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors",title:"Simular chamada de voz",children:s.jsx(qn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>z("video"),className:"p-1.5 bg-purple-500 text-white rounded-full shadow-lg hover:bg-purple-600 transition-colors",title:"Simular chamada de vdeo",children:s.jsx(a_,{className:"h-4 w-4"})})]})]})},z$e=()=>{const[t,e]=P.useState("contacts"),[r,n]=P.useState([]),[a,i]=P.useState([]),[o,l]=P.useState(!0),[c,d]=P.useState(""),[u,A]=P.useState(!1),[h,f]=P.useState(null),[g,x]=P.useState({name:"",phone:"",email:"",notes:""});P.useEffect(()=>{m()},[]);const m=async()=>{try{l(!0);const{data:C,error:k}=await pe.from("wpp_contacts").select("*").order("created_at",{ascending:!1}),{data:_,error:B}=await pe.from("wpp_accounts").select("*").order("created_at",{ascending:!1});if(k)throw k;if(B)throw B;n(C||[]),i(_||[])}catch(C){console.error("Error loading data:",C)}finally{l(!1)}},p=async()=>{if(!g.name||!g.phone){alert("Nome e telefone so obrigatrios");return}try{const C=a.find(_=>_.is_active);if(!C){alert("Nenhuma conta do WhatsApp ativa encontrada!");return}const{error:k}=await pe.from("wpp_contacts").insert([{account_id:C.id,name:g.name,phone:g.phone,email:g.email||null,notes:g.notes||null}]);if(k)throw k;await m(),A(!1),x({name:"",phone:"",email:"",notes:""})}catch(C){console.error("Error creating contact:",C),alert("Erro ao criar contato")}},y=async C=>{if(confirm("Tem certeza que deseja excluir este contato?"))try{const{error:k}=await pe.from("wpp_contacts").delete().eq("id",C);if(k)throw k;await m()}catch(k){console.error("Error deleting contact:",k),alert("Erro ao excluir contato")}},b=r.filter(C=>C.name.toLowerCase().includes(c.toLowerCase())||C.phone.includes(c)),N=C=>{switch(C){case"connected":return"bg-green-100 text-green-800";case"disconnected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},j=C=>{switch(C){case"connected":return"Conectado";case"disconnected":return"Desconectado";case"pending":return"Pendente";default:return"Desconhecido"}};return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Su,{className:"h-6 w-6 mr-2 text-green-500"}),"WhatsApp CRM"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gerencie contas e contatos"})]}),s.jsxs("button",{onClick:()=>A(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 flex items-center text-sm",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Novo Contato"]})]})}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>e("contacts"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${t==="contacts"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(kt,{className:"h-4 w-4 inline mr-2"}),"Contatos (",b.length,")"]}),s.jsxs("button",{onClick:()=>e("accounts"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${t==="accounts"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(qn,{className:"h-4 w-4 inline mr-2"}),"Contas (",a.length,")"]})]}),t==="contacts"&&s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:C=>d(C.target.value),placeholder:"Buscar contatos...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),s.jsx("div",{className:"p-4",children:o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-green-500"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Carregando..."})]}):t==="contacts"?s.jsx("div",{className:"space-y-3",children:b.length>0?b.map(C=>s.jsx(oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors border border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Su,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:C.name}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(qn,{className:"h-3 w-3 mr-1"}),C.phone]}),C.email&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(yn,{className:"h-3 w-3 mr-1"}),C.email]})]}),C.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-2 line-clamp-2",children:C.notes}),C.last_message_at&&s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[s.jsx(Mt,{className:"h-3 w-3 mr-1"}),"ltima mensagem: ",new Date(C.last_message_at).toLocaleString("pt-BR")]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[C.is_blocked&&s.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs flex items-center",children:[s.jsx(Pse,{className:"h-3 w-3 mr-1"}),"Bloqueado"]}),s.jsx("button",{onClick:()=>y(C.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]})},C.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(kt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"Nenhum contato encontrado"}),s.jsx("button",{onClick:()=>A(!0),className:"mt-4 text-green-600 hover:text-green-700 text-sm font-medium",children:"Adicionar primeiro contato"})]})}):s.jsx("div",{className:"space-y-3",children:a.length>0?a.map(C=>s.jsx(oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(qn,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:C.name}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:C.phone}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${N(C.status)}`,children:j(C.status)})]}),C.last_connection&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ltima conexo: ",new Date(C.last_connection).toLocaleString("pt-BR")]})]})]}),C.is_active&&s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Ativo"})]})},C.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(qn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"Nenhuma conta conectada"})]})})})]}),u&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>A(!1)}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Contato"}),s.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),s.jsx("input",{type:"text",value:g.name,onChange:C=>x({...g,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Nome do contato"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),s.jsx("input",{type:"tel",value:g.phone,onChange:C=>x({...g,phone:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:g.email,onChange:C=>x({...g,email:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"email@exemplo.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:g.notes,onChange:C=>x({...g,notes:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:"Informaes adicionais"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:p,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Salvar"]})]})]})]})]})},V$e=({isOpen:t,onClose:e,onSave:r,entryId:n})=>{const[a,i]=P.useState(!1),[o,l]=P.useState([]),[c,d]=P.useState([]),[u,A]=P.useState([]),[h,f]=P.useState([]),[g,x]=P.useState([]),[m,p]=P.useState({descricao:"",valor:0,tipo:"receita",status:"a_receber",data:new Date().toISOString().split("T")[0],data_vencimento:new Date().toISOString().split("T")[0],customer_id:"",supplier_id:"",categoria:"",category_id:"",subcategory_id:"",forma_pagamento:"dinheiro",bank_account_id:"",observacoes:"",recorrente:!1,frequencia_recorrencia:"mensal",data_fim_recorrencia:""});P.useEffect(()=>{y(),b(),j(),C(),n&&k()},[n]),P.useEffect(()=>{m.category_id?N(m.category_id):(A([]),p(B=>({...B,subcategory_id:""})))},[m.category_id]);const y=async()=>{try{const{data:B}=await pe.from("customers").select("id, nome_razao").order("nome_razao");l(B||[])}catch(B){console.error("Error loading customers:",B)}},b=async()=>{try{const{data:B}=await pe.from("financial_categories").select("*").eq("active",!0).is("parent_id",null).order("name");d(B||[])}catch(B){console.error("Error loading categories:",B)}},N=async B=>{try{const{data:T}=await pe.from("financial_categories").select("*").eq("active",!0).eq("parent_id",B).order("name");A(T||[])}catch(T){console.error("Error loading subcategories:",T),A([])}},j=async()=>{try{const{data:B}=await pe.from("suppliers").select("id, name, cnpj, active").eq("active",!0).order("name");f(B||[])}catch(B){console.error("Error loading suppliers:",B)}},C=async()=>{try{const{data:B}=await pe.from("bank_accounts").select("id, account_name, bank_name, balance, active, is_default").eq("active",!0).order("is_default",{ascending:!1,nullsFirst:!1}).order("account_name",{ascending:!0});if(x(B||[]),B&&B.length>0&&!n){const T=B.find(w=>w.is_default);T&&p(w=>({...w,bank_account_id:T.id}))}}catch(B){console.error("Error loading bank accounts:",B)}},k=async()=>{var B,T,w;if(n)try{const{data:E}=await pe.from("finance_entries").select("*").eq("id",n).single();E&&p({descricao:E.descricao||"",valor:E.valor||0,tipo:E.tipo||"receita",status:E.status||"a_receber",data:((B=E.data)==null?void 0:B.split("T")[0])||"",data_vencimento:((T=E.data_vencimento)==null?void 0:T.split("T")[0])||"",customer_id:E.customer_id||"",supplier_id:E.supplier_id||"",categoria:E.categoria||"",category_id:E.category_id||"",subcategory_id:E.subcategory_id||"",forma_pagamento:E.forma_pagamento||"dinheiro",bank_account_id:E.bank_account_id||"",observacoes:E.observacoes||"",recorrente:E.recorrente||!1,frequencia_recorrencia:E.frequencia_recorrencia||"mensal",data_fim_recorrencia:((w=E.data_fim_recorrencia)==null?void 0:w.split("T")[0])||""})}catch(E){console.error("Error loading entry:",E)}},_=async()=>{try{if(!m.descricao||m.valor<=0){alert("Preencha a descrio e o valor!");return}i(!0);const B={descricao:m.descricao,valor:Number(m.valor),tipo:m.tipo,status:m.status,data:m.data,data_vencimento:m.data_vencimento||null,customer_id:m.customer_id||null,supplier_id:m.supplier_id||null,categoria:m.categoria||null,category_id:m.category_id||null,subcategory_id:m.subcategory_id||null,forma_pagamento:m.forma_pagamento,bank_account_id:m.bank_account_id||null,observacoes:m.observacoes||null};m.recorrente?(B.intervalo_recorrencia=m.frequencia_recorrencia,B.data_fim_recorrencia=m.data_fim_recorrencia||null):(B.intervalo_recorrencia=null,B.data_fim_recorrencia=null);let T;if(n?T=await pe.from("finance_entries").update(B).eq("id",n).select():T=await pe.from("finance_entries").insert([B]).select(),T.error)throw console.error("Database error:",T.error),new Error(T.error.message);alert(n?"Lanamento atualizado com sucesso!":"Lanamento criado com sucesso!"),r(),e()}catch(B){console.error("Error saving:",B),alert(`Erro ao salvar lanamento: ${B.message||"Erro desconhecido"}`)}finally{i(!1)}};return P.useEffect(()=>{m.tipo==="receita"?(m.status==="pago"||m.status==="a_pagar")&&p(B=>({...B,status:B.status==="pago"?"recebido":"a_receber"})):(m.status==="recebido"||m.status==="a_receber")&&p(B=>({...B,status:B.status==="recebido"?"pago":"a_pagar"}))},[m.tipo]),t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Lanamento":"Novo Lanamento"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Controle de receitas e despesas"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("label",{className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${m.tipo==="receita"?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"}`,children:[s.jsx("input",{type:"radio",checked:m.tipo==="receita",onChange:()=>p({...m,tipo:"receita"}),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jr,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Receita"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Entrada de dinheiro"})]})]})]})}),s.jsx("label",{className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${m.tipo==="despesa"?"border-red-500 bg-red-50":"border-gray-300 hover:border-red-300"}`,children:[s.jsx("input",{type:"radio",checked:m.tipo==="despesa",onChange:()=>p({...m,tipo:"despesa"}),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vl,{className:"h-6 w-6 text-red-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Despesa"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Sada de dinheiro"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio *"}),s.jsxs("div",{className:"relative",children:[s.jsx(mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:m.descricao,onChange:B=>p({...m,descricao:B.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pagamento de servio - OS #123"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valor *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"number",value:m.valor,onChange:B=>p({...m,valor:parseFloat(B.target.value)||0}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0,00",step:"0.01",min:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),s.jsx("select",{value:m.status,onChange:B=>p({...m,status:B.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:m.tipo==="receita"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"a_receber",children:"A Receber"}),s.jsx("option",{value:"recebido",children:"Recebido"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"a_pagar",children:"A Pagar"}),s.jsx("option",{value:"pago",children:"Pago"})]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Data ",m.status==="recebido"||m.status==="pago"?"do Pagamento":"de Lanamento"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",value:m.data,onChange:B=>p({...m,data:B.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Vencimento"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",value:m.data_vencimento,onChange:B=>p({...m,data_vencimento:B.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),m.tipo==="receita"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente (Opcional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m.customer_id,onChange:B=>p({...m,customer_id:B.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(B=>s.jsx("option",{value:B.id,children:B.nome_razao},B.id))]})]})]}),m.tipo==="despesa"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fornecedor (Opcional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m.supplier_id,onChange:B=>p({...m,supplier_id:B.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um fornecedor..."}),h.map(B=>s.jsxs("option",{value:B.id,children:[B.name," ",B.cnpj?`- ${B.cnpj}`:""]},B.id))]})]})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),s.jsxs("select",{value:m.category_id,onChange:B=>p({...m,category_id:B.target.value,subcategory_id:""}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma categoria..."}),c.filter(B=>B.type===m.tipo).map(B=>s.jsxs("option",{value:B.id,children:[B.icon," ",B.name]},B.id))]})]}),m.category_id&&u.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subcategoria"}),s.jsxs("select",{value:m.subcategory_id,onChange:B=>p({...m,subcategory_id:B.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma subcategoria..."}),u.map(B=>s.jsxs("option",{value:B.id,children:[B.icon," ",B.name]},B.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m.forma_pagamento,onChange:B=>p({...m,forma_pagamento:B.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),s.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"transferencia",children:"Transferncia"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Conta Bancria"]}),s.jsxs("select",{value:m.bank_account_id,onChange:B=>p({...m,bank_account_id:B.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{value:"",children:"Selecione uma conta..."}),g.map(B=>{var T;return s.jsxs("option",{value:B.id,children:[B.is_default?" ":"",B.bank_name," - ",B.account_name," (Saldo: R$ ",((T=B.balance)==null?void 0:T.toFixed(2))||"0,00",")"]},B.id)})]}),m.status==="pago"||m.status==="recebido"?s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" O saldo ser atualizado automaticamente"}):s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.find(B=>B.is_default)&&s.jsx("span",{children:" = Conta Padro  "}),"Selecione a conta para controlar o saldo"]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),s.jsx("textarea",{value:m.observacoes,onChange:B=>p({...m,observacoes:B.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais sobre este lanamento..."})]}),s.jsxs("div",{className:"md:col-span-2 border-t pt-4 mt-4",children:[s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:"recorrente",checked:m.recorrente,onChange:B=>p({...m,recorrente:B.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("label",{htmlFor:"recorrente",className:"block text-sm font-semibold text-blue-900 cursor-pointer",children:["Lanamento Recorrente / Provisionado ",s.jsx("span",{className:"text-blue-600",children:"(Opcional)"})]}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Marque esta opo se este lanamento se repete periodicamente (ex: aluguel, salrios) ou se deseja provisionar para o futuro"})]})]})}),m.recorrente&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6 border-l-2 border-blue-200",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequncia"}),s.jsxs("select",{value:m.frequencia_recorrencia,onChange:B=>p({...m,frequencia_recorrencia:B.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"semanal",children:"Semanal"}),s.jsx("option",{value:"quinzenal",children:"Quinzenal"}),s.jsx("option",{value:"mensal",children:"Mensal"}),s.jsx("option",{value:"bimestral",children:"Bimestral"}),s.jsx("option",{value:"trimestral",children:"Trimestral"}),s.jsx("option",{value:"semestral",children:"Semestral"}),s.jsx("option",{value:"anual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Fim da Recorrncia"}),s.jsx("input",{type:"date",value:m.data_fim_recorrencia,onChange:B=>p({...m,data_fim_recorrencia:B.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:m.data}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para recorrncia indefinida"})]})]})]})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:_,disabled:a,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:a?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5"}),"Salvar Lanamento"]})})]})]})}):null},K$e=()=>{const[t,e]=P.useState([]),[r,n]=P.useState({totalReceitas:0,totalDespesas:0,saldo:0,contasReceber:0,contasPagar:0,receitasMes:0,despesasMes:0,valorEstoque:0}),[a,i]=P.useState(!0),[o,l]=P.useState("all"),[c,d]=P.useState("all"),[u,A]=P.useState(""),[h,f]=P.useState("all"),[g,x]=P.useState(""),[m,p]=P.useState(""),[y,b]=P.useState(""),[N,j]=P.useState(""),[C,k]=P.useState("data"),[_,B]=P.useState("desc"),[T,w]=P.useState(1),[E,D]=P.useState([]),O=15,[L,U]=P.useState(!1),[M,Q]=P.useState(void 0);P.useEffect(()=>{J(),q()},[]),P.useEffect(()=>{J()},[C,_]);const q=async()=>{try{const{data:X,error:he}=await pe.from("financial_categories").select("*").eq("active",!0).order("name");if(he)throw he;D(X||[])}catch(X){console.error("Error loading categories:",X)}},J=async(X=!1)=>{try{i(!0);const{data:he,error:Me}=await pe.from("finance_entries").select("*").order(C,{ascending:_==="asc"});if(Me)throw Me;console.log("Loaded finance entries:",he==null?void 0:he.length),e(he||[]),await $(he||[])}catch(he){console.error("Error loading financial data:",he)}finally{i(!1)}},ee=async(X,he)=>{if(confirm(`Tem certeza que deseja excluir o lanamento "${he}"?

Esta ao  irreversvel e ter efeito cascata em registros relacionados.`))try{const{error:Me}=await pe.from("finance_entries").delete().eq("id",X);if(Me)throw Me;alert("Lanamento excludo com sucesso!"),await J()}catch(Me){console.error("Error deleting entry:",Me),alert("Erro ao excluir lanamento. Verifique se no h registros relacionados.")}},$=async X=>{const he=X.filter(Ee=>Ee.tipo==="receita"&&Ee.status==="recebido").reduce((Ee,ce)=>Ee+Number(ce.valor),0),Me=X.filter(Ee=>Ee.tipo==="despesa"&&Ee.status==="pago").reduce((Ee,ce)=>Ee+Number(ce.valor),0),Qe=X.filter(Ee=>Ee.tipo==="receita"&&Ee.status==="a_receber").reduce((Ee,ce)=>Ee+Number(ce.valor),0),ye=X.filter(Ee=>Ee.tipo==="despesa"&&Ee.status==="a_pagar").reduce((Ee,ce)=>Ee+Number(ce.valor),0),z=new Date,ke=z.getMonth(),Ie=z.getFullYear(),Pe=X.filter(Ee=>{const ce=new Date(Ee.data);return Ee.tipo==="receita"&&Ee.status==="recebido"&&ce.getMonth()===ke&&ce.getFullYear()===Ie}).reduce((Ee,ce)=>Ee+Number(ce.valor),0),Le=X.filter(Ee=>{const ce=new Date(Ee.data);return Ee.tipo==="despesa"&&Ee.status==="pago"&&ce.getMonth()===ke&&ce.getFullYear()===Ie}).reduce((Ee,ce)=>Ee+Number(ce.valor),0);let De=0;try{const{data:Ee,error:ce}=await pe.from("inventory_items").select("quantity, unit_price").eq("active",!0);!ce&&Ee&&(De=Ee.reduce((He,ge)=>He+Number(ge.quantity||0)*Number(ge.unit_price||0),0))}catch(Ee){console.error("Error calculating inventory value:",Ee)}n({totalReceitas:he,totalDespesas:Me,saldo:he-Me,contasReceber:Qe,contasPagar:ye,receitasMes:Pe,despesasMes:Le,valorEstoque:De})},R=X=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(X),K=X=>{const he=new Date(X),Me=new Date,Qe=he.getTime()-Me.getTime(),ye=Math.ceil(Qe/(1e3*60*60*24));return ye===0?"Hoje":ye===1?"Amanh":ye===-1?"Ontem":ye>0?`${ye} dias`:ye<0?`${Math.abs(ye)} dias atrs`:he.toLocaleDateString("pt-BR")},V=X=>{switch(X){case"recebido":case"pago":return s.jsx(On,{className:"h-4 w-4 text-green-600"});case"a_receber":case"a_pagar":return s.jsx(Mt,{className:"h-4 w-4 text-yellow-600"});default:return s.jsx(Kn,{className:"h-4 w-4 text-gray-400"})}},ae=X=>({recebido:"Recebido",pago:"Pago",a_receber:"A Receber",a_pagar:"A Pagar"})[X]||X,Ae=X=>X==="receita"?"Income":"Expense",ne=t.filter(X=>{var Le;const he=o==="all"||X.tipo===o,Me=c==="all"||X.status===c,Qe=!u||((Le=X.descricao)==null?void 0:Le.toLowerCase().includes(u.toLowerCase())),ye=h==="all"||X.categoria===h||X.category===h,z=new Date(X.data),ke=!g||z.getMonth()+1===parseInt(g),Ie=!m||z.getFullYear()===parseInt(m),Pe=(!y||X.data>=y)&&(!N||X.data<=N);return he&&Me&&Qe&&ye&&ke&&Ie&&Pe}),ie=Math.ceil(ne.length/O),le=ne.slice((T-1)*O,T*O);return a?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando dados financeiros..."})]})}):s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-8 w-8 text-green-600"}),"Gesto Financeira"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Receitas, despesas e DRE"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(so,{to:"/financial-integration",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Ver Dashboard Financeiro"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(jr,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Receitas"})]}),s.jsx("div",{className:"text-3xl font-bold",children:R(r.totalReceitas)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[R(r.receitasMes)," este ms"]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(vl,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Despesas"})]}),s.jsx("div",{className:"text-3xl font-bold",children:R(r.totalDespesas)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[R(r.despesasMes)," este ms"]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Xt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Saldo"})]}),s.jsx("div",{className:"text-3xl font-bold",children:R(r.saldo)}),s.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Resultado lquido"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Mt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Pendncias"})]}),s.jsx("div",{className:"text-3xl font-bold",children:R(r.contasReceber+r.contasPagar)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[" ",R(r.contasReceber)," |  ",R(r.contasPagar)]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(jt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Estoque"})]}),s.jsx("div",{className:"text-3xl font-bold",children:R(r.valorEstoque)}),s.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Valor total em materiais"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(aA,{className:"h-5 w-5"}),"Filtros Avanados"]}),s.jsx("button",{onClick:()=>{l("all"),d("all"),A(""),f("all"),x(""),p(""),b(""),j(""),k("data"),B("desc"),w(1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Limpar Filtros"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:u,onChange:X=>{A(X.target.value),w(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsxs("select",{value:o,onChange:X=>{l(X.target.value),w(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os tipos"}),s.jsx("option",{value:"receita",children:"Receitas"}),s.jsx("option",{value:"despesa",children:"Despesas"})]}),s.jsxs("select",{value:c,onChange:X=>{d(X.target.value),w(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os status"}),s.jsx("option",{value:"recebido",children:"Recebido"}),s.jsx("option",{value:"pago",children:"Pago"}),s.jsx("option",{value:"a_receber",children:"A Receber"}),s.jsx("option",{value:"a_pagar",children:"A Pagar"})]}),s.jsxs("select",{value:h,onChange:X=>{f(X.target.value),w(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todas as categorias"}),E.map(X=>s.jsx("option",{value:X.id,children:X.name},X.id))]}),s.jsxs("select",{value:g,onChange:X=>{x(X.target.value),w(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todos os meses"}),s.jsx("option",{value:"1",children:"Janeiro"}),s.jsx("option",{value:"2",children:"Fevereiro"}),s.jsx("option",{value:"3",children:"Maro"}),s.jsx("option",{value:"4",children:"Abril"}),s.jsx("option",{value:"5",children:"Maio"}),s.jsx("option",{value:"6",children:"Junho"}),s.jsx("option",{value:"7",children:"Julho"}),s.jsx("option",{value:"8",children:"Agosto"}),s.jsx("option",{value:"9",children:"Setembro"}),s.jsx("option",{value:"10",children:"Outubro"}),s.jsx("option",{value:"11",children:"Novembro"}),s.jsx("option",{value:"12",children:"Dezembro"})]}),s.jsxs("select",{value:m,onChange:X=>{p(X.target.value),w(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todos os anos"}),[2024,2025,2026].map(X=>s.jsx("option",{value:X,children:X},X))]}),s.jsx("input",{type:"date",value:y,onChange:X=>{b(X.target.value),w(1)},placeholder:"Data incio",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"date",value:N,onChange:X=>{j(X.target.value),w(1)},placeholder:"Data fim",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ordenar por:"}),s.jsxs("select",{value:C,onChange:X=>k(X.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[s.jsx("option",{value:"data",children:"Data"}),s.jsx("option",{value:"valor",children:"Valor"}),s.jsx("option",{value:"created_at",children:"Data de Criao"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>B("asc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${_==="asc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Crescente"}),s.jsx("button",{onClick:()=>B("desc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${_==="desc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Decrescente"})]})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Mostrando ",le.length," de ",ne.length," lanamentos"]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lanamentos"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4"}),"Exportar"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",title:"Atualizar dados",children:[s.jsx(ea,{className:"h-4 w-4"}),"Atualizar"]}),s.jsxs("button",{onClick:()=>{Q(void 0),U(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Novo Lanamento"]})]})]})]}),s.jsx("div",{className:"space-y-2",children:le.map(X=>s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:`p-3 rounded-lg ${X.tipo==="receita"?"bg-green-100":"bg-red-100"}`,children:s.jsx(mt,{className:`h-5 w-5 ${X.tipo==="receita"?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:X.descricao}),s.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${X.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Ae(X.tipo)})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[V(X.status),s.jsx("span",{className:"text-sm text-gray-600",children:ae(X.status)})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg font-bold ${X.tipo==="receita"?"text-green-600":"text-red-600"}`,children:[X.tipo==="receita"?"+":"-"," ",R(Number(X.valor))]}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 justify-end",children:[s.jsx(Jt,{className:"h-3 w-3"}),K(X.data)]})]}),s.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>{Q(X.id),U(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Editar lanamento",children:s.jsx(Rr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>ee(X.id,X.descricao),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir lanamento",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]})]})},X.id))}),ne.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum lanamento encontrado"})]}),ne.length>O&&s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",T," de ",ie]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>w(Math.max(1,T-1)),disabled:T===1,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:ie},(X,he)=>he+1).filter(X=>X===1||X===ie||X>=T-1&&X<=T+1).map((X,he,Me)=>s.jsxs("div",{className:"flex items-center",children:[he>0&&Me[he-1]!==X-1&&s.jsx("span",{className:"px-2 text-gray-400",children:"..."}),s.jsx("button",{onClick:()=>w(X),className:`px-3 py-2 rounded-lg ${T===X?"bg-blue-600 text-white":"border hover:bg-gray-50"}`,children:X})]},X))}),s.jsx("button",{onClick:()=>w(Math.min(ie,T+1)),disabled:T===ie,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prxima"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mt,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"ltima Sincronizao"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Agora"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:"Plano Atual: Premium"})})]}),s.jsx(V$e,{isOpen:L,onClose:()=>{U(!1),Q(void 0)},onSave:()=>{J(),U(!1),Q(void 0)},entryId:M})]})};cA.register(Cf,Bf,Ou,Zi,lf,xu,k2,P2,E2,S2);const W$e=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(null),[a,i]=P.useState(null),[o,l]=P.useState(""),[c,d]=P.useState(""),[u,A]=P.useState([]),[h,f]=P.useState(!1),[g,x]=P.useState({ebitda:0,ebitda_margin:0,gross_margin:0,operating_margin:0,net_margin:0,working_capital:0,current_ratio:0,roi:0,operating_cash_flow:0,net_cash_flow:0}),[m,p]=P.useState(null),[y,b]=P.useState(null),[N,j]=P.useState({total_revenue:0,total_expenses:0,net_result:0,cash_inflow:0,cash_outflow:0,net_cash_flow:0,accounts_receivable:0,accounts_payable:0}),[C,k]=P.useState([]),[_,B]=P.useState(!0),[T,w]=P.useState(!1);P.useEffect(()=>{E(),L()},[]),P.useEffect(()=>{o&&c&&D()},[o,c]),P.useEffect(()=>{h&&a&&O()},[h,a]),P.useEffect(()=>{r&&U()},[r]);const E=async()=>{try{const{data:ne,error:ie}=await pe.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!1});if(ie)throw ie;if(e(ne||[]),ne&&ne.length>0){const le=[...new Set(ne.map(ye=>ye.fiscal_year))].sort((ye,z)=>z-ye);A(le);const X=new Date,he=X.getFullYear(),Me=(X.getMonth()+1).toString().padStart(2,"0");d(he.toString()),l(Me);const Qe=ne.find(ye=>ye.fiscal_year===he&&ye.start_date.startsWith(`${he}-${Me}`));n(Qe||ne[0])}}catch(ne){console.error("Error loading periods:",ne)}finally{B(!1)}},D=()=>{if(!o||!c)return;const ne=t.find(ie=>ie.fiscal_year===parseInt(c)&&ie.start_date.startsWith(`${c}-${o}`));ne&&n(ne)},O=async()=>{var ne,ie,le,X,he,Me,Qe,ye,z,ke,Ie,Pe,Le,De,Ee,ce,He,ge,ue,se,fe,be,xe;if(a)try{const[Se,Ye,ve,Bt,We]=await Promise.all([pe.rpc("calculate_ebitda",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),pe.rpc("calculate_roi",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),pe.from("v_consolidated_financial_summary").select("*").eq("period_id",a.id).maybeSingle(),pe.from("v_margin_analysis").select("*").eq("period_id",a.id).maybeSingle(),pe.rpc("calculate_working_capital_consolidated",{p_period_id:a.id})]);p({ebitda:((ie=(ne=Se.data)==null?void 0:ne[0])==null?void 0:ie.ebitda)||0,ebitda_margin:((X=(le=Se.data)==null?void 0:le[0])==null?void 0:X.ebitda_margin)||0,gross_margin:((he=Bt.data)==null?void 0:he.gross_margin_percent)||0,operating_margin:((Me=Bt.data)==null?void 0:Me.operating_margin_percent)||0,net_margin:0,working_capital:((ye=(Qe=We.data)==null?void 0:Qe[0])==null?void 0:ye.working_capital)||0,current_ratio:((ke=(z=We.data)==null?void 0:z[0])==null?void 0:ke.current_ratio)||0,roi:((Pe=(Ie=Ye.data)==null?void 0:Ie[0])==null?void 0:Pe.roi_percent)||0,operating_cash_flow:((Le=ve.data)==null?void 0:Le.net_cash_flow)||0,net_cash_flow:((De=ve.data)==null?void 0:De.net_cash_flow)||0}),b({total_revenue:((Ee=ve.data)==null?void 0:Ee.total_revenue)||0,total_expenses:((ce=ve.data)==null?void 0:ce.total_expenses)||0,net_result:(((He=ve.data)==null?void 0:He.total_revenue)||0)-(((ge=ve.data)==null?void 0:ge.total_expenses)||0),cash_inflow:((ue=ve.data)==null?void 0:ue.total_revenue)||0,cash_outflow:((se=ve.data)==null?void 0:se.total_expenses)||0,net_cash_flow:((fe=ve.data)==null?void 0:fe.net_cash_flow)||0,accounts_receivable:((be=ve.data)==null?void 0:be.accounts_receivable)||0,accounts_payable:((xe=ve.data)==null?void 0:xe.accounts_payable)||0})}catch(Se){console.error("Error calculating comparison indicators:",Se)}},L=async()=>{try{const{data:ne,error:ie}=await pe.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!0}).limit(12);if(ie)throw ie;const le=await Promise.all((ne||[]).map(async X=>{const{data:he}=await pe.from("v_consolidated_financial_summary").select("*").eq("period_id",X.id).maybeSingle();return{...X,...he}}));k(le)}catch(ne){console.error("Error loading monthly data:",ne)}},U=async()=>{var ne,ie,le,X,he,Me,Qe,ye,z,ke,Ie,Pe,Le,De,Ee,ce,He,ge,ue,se,fe,be;if(r)try{w(!0);const[xe,Se,Ye,ve,Bt]=await Promise.all([pe.rpc("calculate_ebitda",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),pe.rpc("calculate_roi",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),pe.from("v_consolidated_financial_summary").select("*").eq("period_id",r.id).maybeSingle(),pe.from("v_margin_analysis").select("*").eq("period_id",r.id).maybeSingle(),pe.rpc("calculate_working_capital_consolidated",{p_period_id:r.id})]);x({ebitda:((ie=(ne=xe.data)==null?void 0:ne[0])==null?void 0:ie.ebitda)||0,ebitda_margin:((X=(le=xe.data)==null?void 0:le[0])==null?void 0:X.ebitda_margin)||0,gross_margin:((he=ve.data)==null?void 0:he.gross_margin_percent)||0,operating_margin:((Me=ve.data)==null?void 0:Me.operating_margin_percent)||0,net_margin:0,working_capital:((ye=(Qe=Bt.data)==null?void 0:Qe[0])==null?void 0:ye.working_capital)||0,current_ratio:((ke=(z=Bt.data)==null?void 0:z[0])==null?void 0:ke.current_ratio)||0,roi:((Pe=(Ie=Se.data)==null?void 0:Ie[0])==null?void 0:Pe.roi_percent)||0,operating_cash_flow:((Le=Ye.data)==null?void 0:Le.net_cash_flow)||0,net_cash_flow:((De=Ye.data)==null?void 0:De.net_cash_flow)||0}),j({total_revenue:((Ee=Ye.data)==null?void 0:Ee.total_revenue)||0,total_expenses:((ce=Ye.data)==null?void 0:ce.total_expenses)||0,net_result:((He=Ye.data)==null?void 0:He.net_result)||0,cash_inflow:((ge=Ye.data)==null?void 0:ge.cash_inflow)||0,cash_outflow:((ue=Ye.data)==null?void 0:ue.cash_outflow)||0,net_cash_flow:((se=Ye.data)==null?void 0:se.net_cash_flow)||0,accounts_receivable:((fe=Ye.data)==null?void 0:fe.accounts_receivable)||0,accounts_payable:((be=Ye.data)==null?void 0:be.accounts_payable)||0})}catch(xe){console.error("Error calculating indicators:",xe)}finally{w(!1)}},M=ne=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(ne),Q=ne=>`${ne.toFixed(1)}%`,q=ne=>ne>0?s.jsx(Xh,{className:"h-4 w-4 text-green-600"}):ne<0?s.jsx(J1,{className:"h-4 w-4 text-red-600"}):s.jsx(l0,{className:"h-4 w-4 text-gray-400"}),J=(ne,ie)=>ie==="margin"||ie==="ratio"?ne>=20?"text-green-600":ne>=10?"text-blue-600":ne>=0?"text-yellow-600":"text-red-600":ne>=0?"text-green-600":"text-red-600",ee={labels:C.map(ne=>{var ie;return((ie=ne.period_name)==null?void 0:ie.split("/")[0])||""}),datasets:[{label:"Receitas",data:C.map(ne=>ne.total_revenue||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:C.map(ne=>ne.total_expenses||0),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]},$={labels:C.map(ne=>{var ie;return((ie=ne.period_name)==null?void 0:ie.split("/")[0])||""}),datasets:[{label:"Resultado Lquido",data:C.map(ne=>ne.net_result||0),backgroundColor:C.map(ne=>(ne.net_result||0)>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)"),borderColor:C.map(ne=>(ne.net_result||0)>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)"),borderWidth:2}]},R={labels:C.map(ne=>{var ie;return((ie=ne.period_name)==null?void 0:ie.split("/")[0])||""}),datasets:[{label:"Entradas",data:C.map(ne=>ne.cash_inflow||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:2},{label:"Sadas",data:C.map(ne=>ne.cash_outflow||0),backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgb(168, 85, 247)",borderWidth:2}]},K={labels:["Receitas","Despesas"],datasets:[{data:[N.total_revenue,N.total_expenses],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(239, 68, 68)"],borderWidth:2}]},V={labels:["A Receber","A Pagar"],datasets:[{data:[N.accounts_receivable,N.accounts_payable],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(251, 146, 60)"],borderWidth:2}]},ae={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12}}},tooltip:{callbacks:{label:ne=>{let ie=ne.dataset.label||"";return ie&&(ie+=": "),ie+=M(ne.parsed.y||ne.parsed),ie}}}},scales:{y:{beginAtZero:!0,ticks:{callback:ne=>M(ne)}}}},Ae=({title:ne,value:ie,icon:le,type:X="currency",description:he})=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:s.jsx(le,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:ne}),he&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:he})]})]}),q(ie)]}),s.jsxs("div",{className:`text-3xl font-bold ${J(ie,X==="percent"?"margin":X)}`,children:[X==="currency"&&M(ie),X==="percent"&&Q(ie),X==="ratio"&&ie.toFixed(2)]})]});return _?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ea,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Carregando anlise financeira..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Gh,{className:"h-10 w-10 text-blue-600"}),"Anlise Financeira Avanada"]}),s.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Dados consolidados: Ordens de Servio, Estoque, Compras, Folha, Equipamentos e Lanamentos"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(so,{to:"/financial",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(fu,{className:"h-4 w-4"}),"Dashboard Integrado"]}),s.jsxs("button",{onClick:U,disabled:T,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(ea,{className:`h-4 w-4 ${T?"animate-spin":""}`}),"Recalcular"]}),s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4"}),"Exportar"]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jt,{className:"h-6 w-6 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Seleo de Perodo"})]}),s.jsx("button",{onClick:()=>f(!h),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h?"Modo Comparao Ativo":"Ativar Comparao"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Perodo Principal"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ms"}),s.jsxs("select",{value:o,onChange:ne=>l(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"01",children:"Janeiro"}),s.jsx("option",{value:"02",children:"Fevereiro"}),s.jsx("option",{value:"03",children:"Maro"}),s.jsx("option",{value:"04",children:"Abril"}),s.jsx("option",{value:"05",children:"Maio"}),s.jsx("option",{value:"06",children:"Junho"}),s.jsx("option",{value:"07",children:"Julho"}),s.jsx("option",{value:"08",children:"Agosto"}),s.jsx("option",{value:"09",children:"Setembro"}),s.jsx("option",{value:"10",children:"Outubro"}),s.jsx("option",{value:"11",children:"Novembro"}),s.jsx("option",{value:"12",children:"Dezembro"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ano"}),s.jsx("select",{value:c,onChange:ne=>d(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(ne=>s.jsx("option",{value:ne,children:ne},ne))})]})]}),r&&s.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["Analisando: ",s.jsx("span",{className:"font-semibold text-blue-700",children:r.period_name})]})]}),h&&s.jsxs("div",{className:"space-y-4 border-l-2 border-blue-200 pl-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comparar Com"}),s.jsxs("select",{value:(a==null?void 0:a.id)||"",onChange:ne=>{const ie=t.find(le=>le.id===ne.target.value);i(ie||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione um perodo"}),t.filter(ne=>ne.id!==(r==null?void 0:r.id)).map(ne=>s.jsx("option",{value:ne.id,children:ne.period_name},ne.id))]}),a&&s.jsxs("div",{className:"text-sm text-gray-600 bg-green-50 p-3 rounded-lg",children:["Comparando com: ",s.jsx("span",{className:"font-semibold text-green-700",children:a.period_name})]})]})]})]})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(jr,{className:"h-6 w-6 text-green-600"}),"Indicadores de Rentabilidade"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ae,{title:"EBITDA",value:g.ebitda,icon:Ll,type:"currency",description:"Lucro operacional"}),s.jsx(Ae,{title:"Margem EBITDA",value:g.ebitda_margin,icon:jr,type:"percent",description:"% sobre receita"}),s.jsx(Ae,{title:"Margem Bruta",value:g.gross_margin,icon:Ab,type:"percent",description:"Receita - Custos"}),s.jsx(Ae,{title:"Margem Operacional",value:g.operating_margin,icon:fu,type:"percent",description:"Eficincia operacional"})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-6 w-6 text-blue-600"}),"Capital de Giro e Performance"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ae,{title:"Capital de Giro",value:g.working_capital,icon:Gh,type:"currency",description:"Recursos para operao"}),s.jsx(Ae,{title:"Liquidez Corrente",value:g.current_ratio,icon:jr,type:"ratio",description:"Capacidade de pagamento"}),s.jsx(Ae,{title:"ROI",value:g.roi,icon:r2,type:"percent",description:"Retorno do investimento"}),s.jsx(Ae,{title:"Fluxo de Caixa",value:g.net_cash_flow,icon:Xt,type:"currency",description:"Variao do caixa"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(l9,{className:"h-5 w-5 text-blue-600"}),"Evoluo de Receitas e Despesas"]}),s.jsx("div",{className:"h-80",children:s.jsx(j0,{data:ee,options:ae})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(fu,{className:"h-5 w-5 text-green-600"}),"Resultado Lquido Mensal"]}),s.jsx("div",{className:"h-80",children:s.jsx(cf,{data:$,options:ae})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(fu,{className:"h-5 w-5 text-purple-600"}),"Fluxo de Caixa (Entradas vs Sadas)"]}),s.jsx("div",{className:"h-80",children:s.jsx(cf,{data:R,options:ae})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ab,{className:"h-5 w-5 text-orange-600"}),"Distribuio do Perodo"]}),s.jsx("div",{className:"h-80 flex items-center justify-center",children:s.jsx(jz,{data:K,options:{...ae,scales:void 0}})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ab,{className:"h-6 w-6 text-indigo-600"}),"Contas a Receber vs A Pagar"]}),s.jsx("div",{className:"h-96 flex items-center justify-center",children:s.jsx(Bb,{data:V,options:{...ae,scales:void 0}})})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-xl",children:s.jsx(Gh,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Sobre os Indicadores Financeiros"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:" EBITDA"}),s.jsx("p",{children:"Mede o desempenho operacional antes de custos financeiros e contbeis"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:" Margens"}),s.jsx("p",{children:"Indicam a eficincia na converso de receita em lucro"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:" Capital de Giro"}),s.jsx("p",{children:"Recursos disponveis para as operaes do dia a dia"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:" ROI"}),s.jsx("p",{children:"Eficincia dos investimentos realizados pela empresa"})]})]})]})]})})]})})},G$e=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState(!0),[o,l]=P.useState(!1),[c,d]=P.useState(null),[u,A]=P.useState({account_name:"",bank_name:"",account_number:"",balance:0,active:!0});P.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const{data:j,error:C}=await pe.from("bank_accounts").select("*").order("created_at",{ascending:!1});if(C)throw C;e(j||[])}catch(j){console.error("Error loading accounts:",j)}finally{n(!1)}},f=async()=>{try{if(!u.account_name||!u.bank_name||!u.account_number){alert("Preencha todos os campos obrigatrios");return}if(c){const{error:j}=await pe.from("bank_accounts").update(u).eq("id",c.id);if(j)throw j}else{const{error:j}=await pe.from("bank_accounts").insert([u]);if(j)throw j}alert(c?"Conta atualizada!":"Conta criada!"),y(),await h()}catch(j){console.error("Error saving account:",j),alert("Erro ao salvar conta")}},g=async(j,C)=>{if(confirm(`Excluir a conta "${C}"?

Esta ao  irreversvel!`))try{const{error:k}=await pe.from("bank_accounts").delete().eq("id",j);if(k)throw k;alert("Conta excluda!"),await h()}catch(k){console.error("Error deleting account:",k),alert("Erro ao excluir conta")}},x=async(j,C)=>{try{const{error:k}=await pe.from("bank_accounts").update({active:!C}).eq("id",j);if(k)throw k;alert(C?"Conta congelada!":"Conta ativada!"),await h()}catch(k){console.error("Error freezing account:",k),alert("Erro ao alterar status da conta")}},m=async j=>{try{const{error:C}=await pe.from("bank_accounts").update({is_default:!0}).eq("id",j);if(C)throw C;alert("Conta definida como padro!"),await h()}catch(C){console.error("Error setting default account:",C),alert("Erro ao definir conta padro")}},p=j=>{d(j),A({account_name:j.account_name,bank_name:j.bank_name,account_number:j.account_number,balance:j.balance,active:j.active}),l(!0)},y=()=>{l(!1),d(null),A({account_name:"",bank_name:"",account_number:"",balance:0,active:!0})},b=j=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j):"R$ ",N=t.filter(j=>j.active).reduce((j,C)=>j+Number(C.balance),0);return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 pt-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Rr,{className:"h-8 w-8 text-blue-600"}),"Contas Bancrias"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerenciar contas e saldos"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Nova Conta"]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-8 text-white shadow-lg mx-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Saldo Total"}),s.jsx("h2",{className:"text-4xl font-bold mt-2",children:b(N)})]}),s.jsx("button",{onClick:()=>i(!a),className:"p-3 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:a?s.jsx(xs,{className:"h-6 w-6"}):s.jsx(bE,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-300 mb-1",children:[s.jsx(jr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Este ms"})]}),s.jsx("p",{className:"text-xl font-semibold",children:"+R$ 12.450,00"})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-300 mb-1",children:[s.jsx(vl,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Sadas"})]}),s.jsx("p",{className:"text-xl font-semibold",children:"-R$ 8.320,00"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-6 pb-6",children:t.map((j,C)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-lg ${j.active?"bg-blue-100":"bg-gray-100"}`,children:s.jsx(yl,{className:`h-6 w-6 ${j.active?"text-blue-600":"text-gray-400"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:j.account_name}),j.is_default&&s.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full flex items-center gap-1",children:" Padro"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:j.bank_name}),!j.active&&s.jsxs("span",{className:"text-xs text-red-600 flex items-center gap-1 mt-1",children:[s.jsx(jT,{className:"h-3 w-3"}),"Congelada"]})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conta"}),s.jsx("p",{className:"font-mono text-gray-900",children:j.account_number})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Saldo Atual"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b(Number(j.balance))})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>p(j),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>x(j.id,j.active),className:`flex-1 px-3 py-2 rounded-lg transition-colors text-sm font-medium flex items-center justify-center gap-1 ${j.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:j.active?"Congelar conta":"Ativar conta",children:j.active?s.jsxs(s.Fragment,{children:[s.jsx(jT,{className:"h-4 w-4"})," Congelar"]}):s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"h-4 w-4"})," Ativar"]})}),s.jsx("button",{onClick:()=>g(j.id,j.account_name),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",title:"Excluir conta",children:s.jsx(Ct,{className:"h-4 w-4"})})]}),!j.is_default&&s.jsx("button",{onClick:()=>m(j.id),className:"w-full px-3 py-2 bg-gradient-to-r from-yellow-50 to-amber-50 text-yellow-700 rounded-lg hover:from-yellow-100 hover:to-amber-100 transition-all text-sm font-medium flex items-center justify-center gap-1 border border-yellow-200",children:" Definir como Padro"})]})]},j.id))}),t.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100 mx-6",children:[s.jsx(Rr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma conta cadastrada"}),s.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Primeira Conta"})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:c?"Editar Conta":"Nova Conta Bancria"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),s.jsx("input",{type:"text",value:u.account_name,onChange:j=>A({...u,account_name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Conta Corrente Principal"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco *"}),s.jsx("input",{type:"text",value:u.bank_name,onChange:j=>A({...u,bank_name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero da Conta *"}),s.jsx("input",{type:"text",value:u.account_number,onChange:j=>A({...u,account_number:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12345-6"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saldo Inicial (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:u.balance,onChange:j=>A({...u,balance:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:c?"Atualizar":"Criar Conta"}),s.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})]})},X$e=async()=>{const{data:t,error:e}=await pe.from("employees").select("*").eq("active",!0).order("name",{ascending:!0});if(e)throw e;return t||[]},Y$e=async t=>{const{data:e,error:r}=await pe.from("employees").insert([t]).select().single();if(r)throw r;return e},J$e=async(t,e)=>{const{data:r,error:n}=await pe.from("employees").update(e).eq("id",t).select().single();if(n)throw n;return r},Z$e=async t=>{const{error:e}=await pe.from("employees").update({active:!1}).eq("id",t);if(e)throw e},e9e=async()=>{const{data:t,error:e}=await pe.from("user_invitations").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},t9e=async t=>{const{data:e,error:r}=await pe.from("user_invitations").insert([t]).select().single();if(r)throw r;return e},r9e=async t=>{const{error:e}=await pe.from("user_invitations").update({status:"cancelled"}).eq("id",t);if(e)throw e},n9e=async()=>{const{error:t}=await pe.rpc("expire_old_invitations");if(t)throw t},H8=[{value:"driver_license",label:"CNH - Carteira de Habilitao"},{value:"certificate",label:"Certificado / Diploma"},{value:"training",label:"Comprovante de Treinamento"},{value:"contract",label:"Contrato de Trabalho"},{value:"other",label:"Outro Documento"}],s9e=({documents:t,onDocumentAdd:e,onDocumentRemove:r})=>{const[n,a]=P.useState("driver_license"),[i,o]=P.useState(""),[l,c]=P.useState(!1),d=async A=>{var f;const h=(f=A.target.files)==null?void 0:f[0];if(h){if(h.size>10*1024*1024){alert("Arquivo muito grande! Tamanho mximo: 10MB");return}c(!0);try{const g=new FileReader;g.onloadend=()=>{const x=g.result;e({document_type:n,file_name:h.name,file_url:x,file_size:h.size,notes:i||void 0}),o(""),A.target.value=""},g.readAsDataURL(h)}catch(g){console.error("Error uploading file:",g),alert("Erro ao fazer upload do arquivo")}finally{c(!1)}}},u=A=>{if(!A)return"0 KB";const h=A/1024;return h<1024?`${h.toFixed(1)} KB`:`${(h/1024).toFixed(1)} MB`};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Upload de Documento"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),s.jsx("select",{value:n,onChange:A=>a(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:H8.map(A=>s.jsx("option",{value:A.value,children:A.label},A.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes (opcional)"}),s.jsx("input",{type:"text",value:i,onChange:A=>o(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Vlida at 2026, Curso concludo em 2023..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo (PDF, JPG, PNG - Mx. 10MB)"}),s.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(Ag,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:l?"Enviando...":"Clique para selecionar arquivo"}),s.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:d,disabled:l})]})]})]})]}),t.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Documentos Anexados"}),s.jsx(it,{children:t.map((A,h)=>{var f;return s.jsxs(oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(wE,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:A.file_name}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx("span",{children:(f=H8.find(g=>g.value===A.document_type))==null?void 0:f.label}),s.jsx("span",{children:""}),s.jsx("span",{children:u(A.file_size)})]}),A.notes&&s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:A.notes})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("a",{href:A.file_url,download:A.file_name,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download",children:s.jsx(ps,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A.id&&r(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]},A.id||h)})})]})]})},q8=t=>t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),U5=t=>t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2"),a9e=t=>t.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),cl=t=>t.replace(/\D/g,""),i9e=t=>{const e=t.replace(/\D/g,"");if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let r=0;for(let a=0;a<9;a++)r+=parseInt(e.charAt(a))*(10-a);let n=11-r%11;if(n>=10&&(n=0),n!==parseInt(e.charAt(9)))return!1;r=0;for(let a=0;a<10;a++)r+=parseInt(e.charAt(a))*(11-a);return n=11-r%11,n>=10&&(n=0),n===parseInt(e.charAt(10))},o9e=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),l9e=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState(""),[o,l]=P.useState(!1),[c,d]=P.useState(null),[u,A]=P.useState("personal"),[h,f]=P.useState([]),[g,x]=P.useState(!1),[m,p]=P.useState({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""});P.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const E=await X$e();e(E)}catch(E){console.error("Error loading employees:",E)}finally{n(!1)}},b=E=>{E?(d(E),p(E)):(d(null),p({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""}),f([])),A("personal"),l(!0)},N=()=>{l(!1),d(null),f([])},j=async E=>{const D=cl(E);if(D.length===8){x(!0);try{const L=await(await fetch(`https://viacep.com.br/ws/${D}/json/`)).json();L.erro||p(U=>({...U,address_street:L.logradouro||U.address_street,address_neighborhood:L.bairro||U.address_neighborhood,address_city:L.localidade||U.address_city,address_state:L.uf||U.address_state}))}catch(O){console.error("Error fetching CEP:",O)}finally{x(!1)}}},C=async E=>{if(E.preventDefault(),!m.name){alert("Por favor, preencha o nome do funcionrio");return}if(m.cpf&&!i9e(m.cpf)){alert("CPF invlido");return}if(m.email&&!o9e(m.email)){alert("E-mail invlido");return}try{const D={...m,cpf:m.cpf?cl(m.cpf):void 0,phone:m.phone?cl(m.phone):void 0,address_zip_code:m.address_zip_code?cl(m.address_zip_code):void 0,emergency_contact_phone:m.emergency_contact_phone?cl(m.emergency_contact_phone):void 0,birth_date:m.birth_date||null,admission_date:m.admission_date||null,driver_license_expiry:m.driver_license_expiry||null};c!=null&&c.id?await J$e(c.id,D):await Y$e(D),await y(),N()}catch(D){console.error("Error saving employee:",D),alert("Erro ao salvar funcionrio")}},k=async E=>{if(confirm("Tem certeza que deseja desativar este funcionrio?"))try{await Z$e(E),await y()}catch(D){console.error("Error deleting employee:",D),alert("Erro ao desativar funcionrio")}},_=E=>{f(D=>[...D,{...E,id:Date.now().toString(),employee_id:(c==null?void 0:c.id)||"temp"}])},B=E=>{f(D=>D.filter(O=>O.id!==E))},T=t.filter(E=>{var D,O,L,U;return E.name.toLowerCase().includes(a.toLowerCase())||((D=E.email)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))||((O=E.role)==null?void 0:O.toLowerCase().includes(a.toLowerCase()))||((L=E.cpf)==null?void 0:L.includes(a))||((U=E.department)==null?void 0:U.toLowerCase().includes(a.toLowerCase()))}),w=[{id:"personal",label:"Dados Pessoais",icon:vn},{id:"address",label:"Endereo",icon:Ra},{id:"bank",label:"Dados Bancrios",icon:Rr},{id:"license",label:"CNH",icon:o9},{id:"emergency",label:"Emergncia",icon:ns},{id:"documents",label:"Documentos",icon:mt}];return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(kt,{className:"h-8 w-8 text-blue-600"}),"Gerenciamento de Funcionrios"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie a equipe da sua empresa"})]}),s.jsxs("button",{onClick:()=>b(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[s.jsx(xt,{className:"h-5 w-5"}),"Novo Funcionrio"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6 p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail, CPF, departamento...",value:a,onChange:E=>i(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando funcionrios..."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(it,{children:T.map(E=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(kt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.name}),E.role&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[s.jsx(Dse,{className:"h-3 w-3"}),s.jsx("span",{children:E.role})]}),E.department&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:E.department})]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${E.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.active?s.jsx(Aoe,{className:"h-3 w-3"}):s.jsx(goe,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[E.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(yn,{className:"h-4 w-4"}),s.jsx("span",{className:"truncate",children:E.email})]}),E.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(qn,{className:"h-4 w-4"}),s.jsx("span",{children:U5(E.phone)})]}),E.cpf&&s.jsxs("div",{className:"text-xs text-gray-500",children:["CPF: ",q8(E.cpf)]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>b(E),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Nie,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>E.id&&k(E.id),className:"px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]},E.id))})}),s.jsx(it,{children:o&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Editar Funcionrio":"Novo Funcionrio"}),s.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:w.map(E=>{const D=E.icon;return s.jsxs("button",{onClick:()=>A(E.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${u===E.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[s.jsx(D,{className:"h-4 w-4"}),E.label]},E.id)})}),s.jsxs("form",{onSubmit:C,className:"flex-1 overflow-y-auto p-6",children:[u==="personal"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Pessoais"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),s.jsx("input",{type:"text",value:m.name,onChange:E=>p(D=>({...D,name:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),s.jsx("input",{type:"text",value:m.cpf?q8(m.cpf):"",onChange:E=>p(D=>({...D,cpf:cl(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00",maxLength:14})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RG"}),s.jsx("input",{type:"text",value:m.rg||"",onChange:E=>p(D=>({...D,rg:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),s.jsx("input",{type:"date",value:m.birth_date||"",onChange:E=>p(D=>({...D,birth_date:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Admisso"}),s.jsx("input",{type:"date",value:m.admission_date||"",onChange:E=>p(D=>({...D,admission_date:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:m.email||"",onChange:E=>p(D=>({...D,email:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:m.phone?U5(m.phone):"",onChange:E=>p(D=>({...D,phone:cl(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo"}),s.jsx("input",{type:"text",value:m.role||"",onChange:E=>p(D=>({...D,role:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Tcnico, Supervisor..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:m.department||"",onChange:E=>p(D=>({...D,department:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Manuteno, Instalao..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salrio (R$)"}),s.jsx("input",{type:"number",value:m.salary||"",onChange:E=>p(D=>({...D,salary:parseFloat(E.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:m.active?"true":"false",onChange:E=>p(D=>({...D,active:E.target.value==="true"})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"true",children:"Ativo"}),s.jsx("option",{value:"false",children:"Inativo"})]})]})]})]}),u==="address"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Endereo Residencial"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:m.address_zip_code?a9e(m.address_zip_code):"",onChange:E=>{const D=cl(E.target.value);p(O=>({...O,address_zip_code:D})),D.length===8&&j(D)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000",maxLength:9}),g&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"})})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rua"}),s.jsx("input",{type:"text",value:m.address_street||"",onChange:E=>p(D=>({...D,address_street:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero"}),s.jsx("input",{type:"text",value:m.address_number||"",onChange:E=>p(D=>({...D,address_number:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),s.jsx("input",{type:"text",value:m.address_complement||"",onChange:E=>p(D=>({...D,address_complement:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Apto, bloco, casa..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:m.address_neighborhood||"",onChange:E=>p(D=>({...D,address_neighborhood:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsxs("select",{value:m.address_state||"",onChange:E=>p(D=>({...D,address_state:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"AC",children:"AC"}),s.jsx("option",{value:"AL",children:"AL"}),s.jsx("option",{value:"AP",children:"AP"}),s.jsx("option",{value:"AM",children:"AM"}),s.jsx("option",{value:"BA",children:"BA"}),s.jsx("option",{value:"CE",children:"CE"}),s.jsx("option",{value:"DF",children:"DF"}),s.jsx("option",{value:"ES",children:"ES"}),s.jsx("option",{value:"GO",children:"GO"}),s.jsx("option",{value:"MA",children:"MA"}),s.jsx("option",{value:"MT",children:"MT"}),s.jsx("option",{value:"MS",children:"MS"}),s.jsx("option",{value:"MG",children:"MG"}),s.jsx("option",{value:"PA",children:"PA"}),s.jsx("option",{value:"PB",children:"PB"}),s.jsx("option",{value:"PR",children:"PR"}),s.jsx("option",{value:"PE",children:"PE"}),s.jsx("option",{value:"PI",children:"PI"}),s.jsx("option",{value:"RJ",children:"RJ"}),s.jsx("option",{value:"RN",children:"RN"}),s.jsx("option",{value:"RS",children:"RS"}),s.jsx("option",{value:"RO",children:"RO"}),s.jsx("option",{value:"RR",children:"RR"}),s.jsx("option",{value:"SC",children:"SC"}),s.jsx("option",{value:"SP",children:"SP"}),s.jsx("option",{value:"SE",children:"SE"}),s.jsx("option",{value:"TO",children:"TO"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:m.address_city||"",onChange:E=>p(D=>({...D,address_city:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="bank"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Bancrias"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco"}),s.jsx("input",{type:"text",value:m.bank_name||"",onChange:E=>p(D=>({...D,bank_name:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil, Caixa Econmica..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:m.bank_agency||"",onChange:E=>p(D=>({...D,bank_agency:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:m.bank_account||"",onChange:E=>p(D=>({...D,bank_account:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Conta"}),s.jsxs("select",{value:m.bank_account_type||"checking",onChange:E=>p(D=>({...D,bank_account_type:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"checking",children:"Conta Corrente"}),s.jsx("option",{value:"savings",children:"Conta Poupana"}),s.jsx("option",{value:"salary",children:"Conta Salrio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chave PIX"}),s.jsx("input",{type:"text",value:m.pix_key||"",onChange:E=>p(D=>({...D,pix_key:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF, e-mail, telefone ou chave aleatria"})]})]})]}),u==="license"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Carteira de Habilitao (CNH)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero da CNH"}),s.jsx("input",{type:"text",value:m.driver_license_number||"",onChange:E=>p(D=>({...D,driver_license_number:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000000000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{value:m.driver_license_category||"",onChange:E=>p(D=>({...D,driver_license_category:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"A",children:"A - Moto"}),s.jsx("option",{value:"B",children:"B - Carro"}),s.jsx("option",{value:"C",children:"C - Caminho"}),s.jsx("option",{value:"D",children:"D - nibus"}),s.jsx("option",{value:"E",children:"E - Carreta"}),s.jsx("option",{value:"AB",children:"AB - Moto e Carro"}),s.jsx("option",{value:"AC",children:"AC - Moto e Caminho"}),s.jsx("option",{value:"AD",children:"AD - Moto e nibus"}),s.jsx("option",{value:"AE",children:"AE - Moto e Carreta"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Validade"}),s.jsx("input",{type:"date",value:m.driver_license_expiry||"",onChange:E=>p(D=>({...D,driver_license_expiry:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="emergency"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contato de Emergncia"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),s.jsx("input",{type:"text",value:m.emergency_contact_name||"",onChange:E=>p(D=>({...D,emergency_contact_name:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone do Contato"}),s.jsx("input",{type:"text",value:m.emergency_contact_phone?U5(m.emergency_contact_phone):"",onChange:E=>p(D=>({...D,emergency_contact_phone:cl(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ns,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Informao Importante"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Este contato ser acionado em caso de emergncias envolvendo o funcionrio. Certifique-se de que os dados esto corretos e atualizados."})]})]})})]}),u==="documents"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Anexados"}),s.jsx(s9e,{employeeId:c==null?void 0:c.id,documents:h,onDocumentAdd:_,onDocumentRemove:B})]})]}),s.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:N,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:C,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),"Salvar Funcionrio"]})]})]})})})]})})},c9e=()=>{const{user:t}=Zr(),[e,r]=P.useState([]),[n,a]=P.useState(!0),[i,o]=P.useState(!1),[l,c]=P.useState({email:"",role:"technician"});P.useEffect(()=>{d(),n9e()},[]);const d=async()=>{try{a(!0);const b=await e9e();r(b)}catch(b){console.error("Error loading invitations:",b)}finally{a(!1)}},u=async b=>{if(b.preventDefault(),!l.email){alert("Por favor, insira um email");return}try{await t9e({email:l.email,role:l.role,invited_by:t==null?void 0:t.id}),await d(),o(!1),c({email:"",role:"technician"})}catch(N){console.error("Error creating invitation:",N),alert("Erro ao criar convite. Verifique se o email j no foi convidado.")}},A=async b=>{if(confirm("Tem certeza que deseja cancelar este convite?"))try{await r9e(b),await d()}catch(N){console.error("Error canceling invitation:",N),alert("Erro ao cancelar convite")}},h=b=>{const N=`${window.location.origin}/register?token=${b}`;navigator.clipboard.writeText(N),alert("Link copiado para a rea de transferncia!")},f=b=>{switch(b){case"pending":return s.jsx(Mt,{className:"h-5 w-5 text-yellow-600"});case"accepted":return s.jsx(On,{className:"h-5 w-5 text-green-600"});case"expired":return s.jsx(ed,{className:"h-5 w-5 text-red-600"});case"cancelled":return s.jsx(Kn,{className:"h-5 w-5 text-gray-600"});default:return s.jsx(Mt,{className:"h-5 w-5 text-gray-600"})}},g=b=>{switch(b){case"pending":return"Pendente";case"accepted":return"Aceito";case"expired":return"Expirado";case"cancelled":return"Cancelado";default:return"Desconhecido"}},x=b=>{switch(b){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=b=>{switch(b){case"admin":return"Administrador";case"technician":return"Tcnico";case"external":return"Externo";default:return"Usurio"}},p=b=>{switch(b){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=b=>b?new Date(b).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(yn,{className:"h-8 w-8 text-blue-600"}),"Convites de Usurios"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Convide novos usurios para acessar o sistema"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[s.jsx(xt,{className:"h-5 w-5"}),"Novo Convite"]})]}),n?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando convites..."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expira em"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.jsx(it,{children:e.map(b=>s.jsxs(oe.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(b.role)}`,children:m(b.role)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[f(b.status),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(b.status)}`,children:g(b.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(b.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(b.expires_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("div",{className:"flex items-center justify-end gap-2",children:b.status==="pending"&&b.token&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>h(b.token),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Copiar link do convite",children:s.jsx(qu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(b.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Cancelar convite",children:s.jsx(dt,{className:"h-4 w-4"})})]})})})]},b.id))})})]})}),e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum convite encontrado"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Crie convites para novos usurios"})]})]})]}),s.jsx(it,{children:i&&s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>o(!1),children:s.jsxs(oe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:b=>b.stopPropagation(),className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(yi,{className:"h-6 w-6 text-blue-600"}),"Novo Convite"]}),s.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]})}),s.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email do Usurio *"}),s.jsx("input",{type:"email",required:!0,value:l.email,onChange:b=>c({...l,email:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"usuario@exemplo.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funo no Sistema *"}),s.jsxs("select",{value:l.role,onChange:b=>c({...l,role:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"technician",children:"Tcnico"}),s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"external",children:"Externo"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O convite expira em 7 dias"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(yi,{className:"h-4 w-4"}),"Enviar Convite"]})]})]})]})})})]})},d9e=()=>{const[t,e]=P.useState("users"),[r,n]=P.useState(!1),[a,i]=P.useState(!1),[o,l]=P.useState(null),[c,d]=P.useState(null),[u]=P.useState([{id:"view_dashboard",name:"Visualizar Dashboard",description:"Acesso ao painel principal",category:"Dashboard"},{id:"manage_orders",name:"Gerenciar OS",description:"Criar, editar e excluir ordens de servio",category:"Ordens de Servio"},{id:"view_orders",name:"Visualizar OS",description:"Apenas visualizar ordens de servio",category:"Ordens de Servio"},{id:"manage_clients",name:"Gerenciar Clientes",description:"Cadastrar e editar clientes",category:"Clientes"},{id:"view_clients",name:"Visualizar Clientes",description:"Apenas visualizar dados de clientes",category:"Clientes"},{id:"manage_inventory",name:"Gerenciar Estoque",description:"Controle total do estoque",category:"Estoque"},{id:"view_inventory",name:"Visualizar Estoque",description:"Consultar estoque sem alteraes",category:"Estoque"},{id:"manage_financial",name:"Gerenciar Financeiro",description:"Acesso total ao mdulo financeiro",category:"Financeiro"},{id:"view_financial",name:"Visualizar Financeiro",description:"Relatrios financeiros bsicos",category:"Financeiro"},{id:"manage_users",name:"Gerenciar Usurios",description:"Administrar contas de usurio",category:"Administrao"},{id:"system_settings",name:"Configuraes do Sistema",description:"Alterar configuraes globais",category:"Administrao"}]),[A,h]=P.useState([{id:"admin",name:"Administrador",description:"Acesso total ao sistema",level:10,permissions:u.map(E=>E.id),color:"from-red-500 to-pink-500",isSystem:!0},{id:"manager",name:"Gerente",description:"Gesto de operaes e equipe",level:8,permissions:["view_dashboard","manage_orders","manage_clients","manage_inventory","view_financial"],color:"from-blue-500 to-cyan-500",isSystem:!0},{id:"technician",name:"Tcnico",description:"Execuo de servios em campo",level:5,permissions:["view_dashboard","view_orders","view_clients","view_inventory"],color:"from-green-500 to-emerald-500",isSystem:!0},{id:"external",name:"Funcionrio Externo",description:"Acesso limitado para terceirizados",level:3,permissions:["view_orders","view_clients"],color:"from-yellow-500 to-orange-500",isSystem:!1}]),[f,g]=P.useState([{id:1,name:"Joo Silva",email:"joao@giartech.com",role:"admin",status:"active",lastLogin:"2024-01-20T10:30:00",isExternal:!1,department:"TI",permissions:[]},{id:2,name:"Maria Santos",email:"maria@giartech.com",role:"manager",status:"active",lastLogin:"2024-01-20T09:15:00",isExternal:!1,department:"Operaes",permissions:[]},{id:3,name:"Carlos Tcnico",email:"carlos@terceirizada.com",role:"external",status:"active",lastLogin:"2024-01-19T16:45:00",isExternal:!0,permissions:["view_orders"]}]),[x,m]=P.useState({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),[p,y]=P.useState({name:"",description:"",level:1,permissions:[]}),b=E=>{switch(E){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},N=E=>{switch(E){case"active":return"Ativo";case"inactive":return"Inativo";case"pending":return"Pendente";default:return"Desconhecido"}},j=E=>A.find(D=>D.id===E)||A[0],C=()=>{if(x.name.trim()&&x.email.trim()&&x.role){const E={id:Date.now(),name:x.name,email:x.email,role:x.role,status:"pending",lastLogin:"",isExternal:x.isExternal,department:x.department||void 0,permissions:x.permissions};g([...f,E]),m({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),n(!1),alert("Usurio criado com sucesso!")}},k=()=>{if(p.name.trim()&&p.description.trim()){const E={id:Date.now().toString(),name:p.name,description:p.description,level:p.level,permissions:p.permissions,color:"from-gray-500 to-gray-600",isSystem:!1};h([...A,E]),y({name:"",description:"",level:1,permissions:[]}),i(!1),alert("Perfil criado com sucesso!")}},_=E=>{g(f.map(D=>D.id===E?{...D,status:D.status==="active"?"inactive":"active"}:D))},B=E=>{const D=A.find(O=>O.id===E);if(D!=null&&D.isSystem){alert("No  possvel excluir perfis do sistema");return}confirm("Tem certeza que deseja excluir este perfil?")&&h(A.filter(O=>O.id!==E))},T=u.reduce((E,D)=>(E[D.category]||(E[D.category]=[]),E[D.category].push(D),E),{}),w={totalUsers:f.length,activeUsers:f.filter(E=>E.status==="active").length,externalUsers:f.filter(E=>E.isExternal).length,totalRoles:A.length};return s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Gesto de Acesso"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Controle de permisses e usurios"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(m9,{className:"h-3 w-3"}),s.jsx("span",{children:"Usurio"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(xt,{className:"h-3 w-3"}),s.jsx("span",{children:"Perfil"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Usurios",value:w.totalUsers,color:"from-blue-500 to-cyan-500",icon:kt},{label:"Ativos",value:w.activeUsers,color:"from-green-500 to-emerald-500",icon:Fr},{label:"Externos",value:w.externalUsers,color:"from-yellow-500 to-orange-500",icon:Bu},{label:"Perfis",value:w.totalRoles,color:"from-purple-500 to-pink-500",icon:Gr}].map((E,D)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-white rounded-xl p-3 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${E.color} rounded-lg flex items-center justify-center`,children:s.jsx(E.icon,{className:"h-4 w-4 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:E.value}),s.jsx("p",{className:"text-xs text-gray-600",children:E.label})]},E.label))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"users",label:"Usurios",icon:kt},{id:"roles",label:"Perfis",icon:Gr},{id:"permissions",label:"Permisses",icon:Yh}].map(E=>s.jsxs("button",{onClick:()=>e(E.id),className:`flex-1 flex items-center justify-center space-x-1 py-3 px-2 transition-colors ${t===E.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(E.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium text-xs",children:E.label})]},E.id))}),s.jsxs("div",{className:"p-3",children:[t==="users"&&s.jsx("div",{className:"space-y-3",children:f.map((E,D)=>{const O=j(E.role);return s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${E.isExternal?"bg-yellow-100":"bg-blue-100"}`,children:E.isExternal?s.jsx(Bu,{className:"h-5 w-5 text-yellow-600"}):s.jsx(vn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:E.name}),s.jsx("p",{className:"text-xs text-gray-600",children:E.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(E.status)}`,children:N(E.status)}),E.isExternal&&s.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Ext"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Perfil:"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:`w-2 h-2 bg-gradient-to-r ${O.color} rounded-full`}),s.jsx("span",{className:"font-medium",children:O.name})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Depto:"}),s.jsx("p",{className:"font-medium",children:E.department||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"ltimo Acesso:"}),s.jsx("p",{className:"font-medium",children:E.lastLogin?new Date(E.lastLogin).toLocaleDateString("pt-BR"):"Nunca"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Nvel:"}),s.jsxs("p",{className:"font-medium",children:["Nvel ",O.level]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>l(E),className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-1 text-xs",children:[s.jsx(xa,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>_(E.id),className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${E.status==="active"?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,children:[E.status==="active"?s.jsx(Yi,{className:"h-3 w-3"}):s.jsx(h9,{className:"h-3 w-3"}),s.jsx("span",{children:E.status==="active"?"Desativar":"Ativar"})]})]})]},E.id)})}),t==="roles"&&s.jsx("div",{className:"space-y-3",children:A.map((E,D)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${E.color} rounded-xl flex items-center justify-center`,children:E.isSystem?s.jsx(px,{className:"h-5 w-5 text-white"}):s.jsx(Gr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[E.name,E.isSystem&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Sistema"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:E.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Nvel"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:E.level})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:["Permisses (",E.permissions.length,")"]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.permissions.slice(0,3).map(O=>{const L=u.find(U=>U.id===O);return L?s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:L.name},O):null}),E.permissions.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",E.permissions.length-3]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>d(E),disabled:E.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${E.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[s.jsx(xa,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>B(E.id),disabled:E.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${E.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[s.jsx(Ct,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},E.id))}),t==="permissions"&&s.jsx("div",{className:"space-y-4",children:Object.entries(T).map(([E,D],O)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:E}),s.jsx("div",{className:"space-y-2",children:D.map(L=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-xs mb-1",children:L.name}),s.jsx("p",{className:"text-xs text-gray-600",children:L.description}),s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:L.id})]},L.id))})]},E))})]})]}),s.jsx(it,{children:r&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-sm shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Usurio"}),s.jsx("button",{onClick:()=>n(!1),children:s.jsx(dt,{className:"h-5 w-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:x.name,onChange:E=>m({...x,name:E.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do usurio"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:x.email,onChange:E=>m({...x,email:E.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil de Acesso"}),s.jsxs("select",{value:x.role,onChange:E=>m({...x,role:E.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um perfil"}),A.map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:x.department,onChange:E=>m({...x,department:E.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Departamento (opcional)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isExternal",checked:x.isExternal,onChange:E=>m({...x,isExternal:E.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"isExternal",className:"text-sm text-gray-700",children:"Funcionrio Externo"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx("button",{onClick:()=>n(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsxs("button",{onClick:C,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:[s.jsx(Qt,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})}),s.jsx(it,{children:a&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Perfil"}),s.jsx("button",{onClick:()=>i(!1),children:s.jsx(dt,{className:"h-5 w-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Perfil"}),s.jsx("input",{type:"text",value:p.name,onChange:E=>y({...p,name:E.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do perfil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nvel de Acesso"}),s.jsx("input",{type:"number",min:"1",max:"10",value:p.level,onChange:E=>y({...p,level:parseInt(E.target.value)||1}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:p.description,onChange:E=>y({...p,description:E.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrio do perfil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permisses"}),s.jsx("div",{className:"space-y-3",children:Object.entries(T).map(([E,D])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:E}),s.jsx("div",{className:"space-y-1",children:D.map(O=>s.jsxs("label",{className:"flex items-start space-x-2",children:[s.jsx("input",{type:"checkbox",checked:p.permissions.includes(O.id),onChange:L=>{L.target.checked?y({...p,permissions:[...p.permissions,O.id]}):y({...p,permissions:p.permissions.filter(U=>U!==O.id)})},className:"mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.name}),s.jsx("p",{className:"text-xs text-gray-600",children:O.description})]})]},O.id))})]},E))})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsxs("button",{onClick:k,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:shadow-lg text-sm",children:[s.jsx(Qt,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})})]})},u9e=()=>{var T;const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState(!1),[o,l]=P.useState(null),[c,d]=P.useState(null),[u,A]=P.useState("all"),[h,f]=P.useState(""),[g,x]=P.useState(new Set),[m,p]=P.useState({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:null,active:!0});P.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const{data:w,error:E}=await pe.from("financial_categories").select("*").order("name",{ascending:!0});if(E)throw E;const D=new Map;w==null||w.forEach(L=>{D.set(L.id,{...L,subcategories:[]})});const O=[];D.forEach(L=>{if(L.parent_id){const U=D.get(L.parent_id);U&&(U.subcategories=U.subcategories||[],U.subcategories.push(L))}else O.push(L)}),e(O)}catch(w){console.error("Error loading categories:",w)}finally{n(!1)}},b=async()=>{try{if(!m.name){alert("Nome  obrigatrio!");return}const w={name:m.name,type:m.type,color:m.color,icon:m.icon,parent_id:m.parent_id||null,active:m.active};if(o){const{error:E}=await pe.from("financial_categories").update({...w,updated_at:new Date().toISOString()}).eq("id",o.id);if(E)throw E}else{const{error:E}=await pe.from("financial_categories").insert([w]);if(E)throw E}y(),C()}catch(w){console.error("Error saving category:",w),alert("Erro ao salvar categoria!")}},N=async w=>{if(confirm("Tem certeza que deseja excluir esta categoria?"))try{const{error:E}=await pe.from("financial_categories").delete().eq("id",w);if(E)throw E;y()}catch(E){console.error("Error deleting category:",E),alert("Erro ao excluir categoria! Verifique se no existem lanamentos vinculados.")}},j=(w,E)=>{w?(l(w),p({name:w.name,type:w.type,color:w.color,icon:w.icon,parent_id:w.parent_id,active:w.active})):(l(null),p({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:E||null,active:!0})),i(!0)},C=()=>{i(!1),l(null),d(null)},k=w=>{const E=new Set(g);E.has(w)?E.delete(w):E.add(w),x(E)},_=t.filter(w=>{const E=u==="all"||w.type===u,D=w.name.toLowerCase().includes(h.toLowerCase());return E&&D}),B=[{value:"#10b981",label:"Verde"},{value:"#3b82f6",label:"Azul"},{value:"#ef4444",label:"Vermelho"},{value:"#f59e0b",label:"Laranja"},{value:"#8b5cf6",label:"Roxo"},{value:"#ec4899",label:"Rosa"},{value:"#06b6d4",label:"Ciano"},{value:"#6366f1",label:"ndigo"}];return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(xT,{className:"h-8 w-8 text-blue-600"}),"Categorias de Lanamento"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie categorias e subcategorias de receitas e despesas"})]}),s.jsxs("button",{onClick:()=>j(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Nova Categoria"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar categorias...",value:h,onChange:w=>f(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>A("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas"}),s.jsxs("button",{onClick:()=>A("receita"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="receita"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(jr,{className:"h-4 w-4"}),"Receitas"]}),s.jsxs("button",{onClick:()=>A("despesa"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="despesa"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(vl,{className:"h-4 w-4"}),"Despesas"]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(w=>s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${w.color}20`},children:w.type==="receita"?s.jsx(jr,{className:"h-6 w-6",style:{color:w.color}}):s.jsx(vl,{className:"h-6 w-6",style:{color:w.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.type==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:w.type==="receita"?"Receita":"Despesa"}),w.subcategories&&w.subcategories.length>0&&s.jsxs("span",{className:"text-xs text-gray-500",children:[w.subcategories.length," subcategorias"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>d(w),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar",children:s.jsx(xs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>j(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:s.jsx(Rr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>N(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]}),w.subcategories&&w.subcategories.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[s.jsxs("button",{onClick:()=>k(w.id),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(e2,{className:`h-4 w-4 transition-transform ${g.has(w.id)?"rotate-90":""}`}),"Ver subcategorias"]}),g.has(w.id)&&s.jsx("div",{className:"mt-2 space-y-2",children:w.subcategories.map(E=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u4,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:E.name})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>j(E),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:s.jsx(Rr,{className:"h-3 w-3"})}),s.jsx("button",{onClick:()=>N(E.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Excluir",children:s.jsx(Ct,{className:"h-3 w-3"})})]})]},E.id))})]}),s.jsxs("button",{onClick:()=>j(void 0,w.id),className:"mt-3 w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Tae,{className:"h-4 w-4"}),"Adicionar Subcategoria"]})]})},w.id))}),_.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[s.jsx(xT,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma categoria encontrada"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Crie sua primeira categoria de lanamento"}),s.jsxs("button",{onClick:()=>j(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Nova Categoria"]})]}),s.jsx(it,{children:a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:o?"Editar Categoria":"Nova Categoria"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:m.parent_id?"Criando subcategoria":"Categoria principal de lanamentos"})]}),s.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-200px)]",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome da Categoria ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:m.name,onChange:w=>p({...m,name:w.target.value}),placeholder:"Ex: Servios Prestados",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>p({...m,type:"receita"}),className:`p-4 border-2 rounded-lg transition-all ${m.type==="receita"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(jr,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"font-medium text-gray-900",children:"Receita"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Entrada de dinheiro"})]}),s.jsxs("button",{type:"button",onClick:()=>p({...m,type:"despesa"}),className:`p-4 border-2 rounded-lg transition-all ${m.type==="despesa"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(vl,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),s.jsx("p",{className:"font-medium text-gray-900",children:"Despesa"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Sada de dinheiro"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"grid grid-cols-8 gap-2",children:B.map(w=>s.jsx("button",{type:"button",onClick:()=>p({...m,color:w.value}),className:`w-10 h-10 rounded-lg transition-all ${m.color===w.value?"ring-2 ring-offset-2 ring-blue-500 scale-110":"hover:scale-105"}`,style:{backgroundColor:w.value},title:w.label},w.value))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"active",checked:m.active,onChange:w=>p({...m,active:w.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Categoria ativa"})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[s.jsx("button",{onClick:C,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),"Salvar Categoria"]})]})]})})}),s.jsx(it,{children:c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl",children:[s.jsx("div",{className:"p-6 border-b text-white",style:{background:`linear-gradient(135deg, ${c.color} 0%, ${c.color}dd 100%)`},children:s.jsxs("div",{className:"flex items-center gap-4",children:[c.type==="receita"?s.jsx(jr,{className:"h-12 w-12"}):s.jsx(vl,{className:"h-12 w-12"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:c.name}),s.jsx("p",{className:"text-white/80 text-sm",children:c.type==="receita"?"Categoria de Receita":"Categoria de Despesa"})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tipo"}),s.jsx("p",{className:"font-medium capitalize",children:c.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${c.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:c.active?"Ativa":"Inativa"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Cor"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:c.color}}),s.jsx("span",{className:"font-mono text-sm",children:c.color})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Subcategorias"}),s.jsx("p",{className:"font-medium",children:((T=c.subcategories)==null?void 0:T.length)||0})]})]}),c.subcategories&&c.subcategories.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Subcategorias:"}),s.jsx("div",{className:"space-y-2",children:c.subcategories.map(w=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center gap-2",children:[s.jsx(u4,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium",children:w.name})]},w.id))})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[s.jsx("button",{onClick:C,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar"}),s.jsxs("button",{onClick:()=>{j(c),d(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Editar"]})]})]})})})]})},AG=6048e5,A9e=864e5,z8=Symbol.for("constructDateFrom");function md(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&z8 in t?t[z8](e):t instanceof Date?new t.constructor(e):new Date(e)}function uo(t,e){return md(e||t,t)}let h9e={};function Bj(){return h9e}function ax(t,e){var l,c,d,u;const r=Bj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=uo(t,e==null?void 0:e.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function k1(t,e){return ax(t,{...e,weekStartsOn:1})}function hG(t,e){const r=uo(t,e==null?void 0:e.in),n=r.getFullYear(),a=md(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=k1(a),o=md(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=k1(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function V8(t){const e=uo(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function f9e(t,...e){const r=md.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function K8(t,e){const r=uo(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function m9e(t,e,r){const[n,a]=f9e(r==null?void 0:r.in,t,e),i=K8(n),o=K8(a),l=+i-V8(i),c=+o-V8(o);return Math.round((l-c)/A9e)}function p9e(t,e){const r=hG(t,e),n=md(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),k1(n)}function g9e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function x9e(t){return!(!g9e(t)&&typeof t!="number"||isNaN(+uo(t)))}function y9e(t,e){const r=uo(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const v9e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b9e=(t,e,r)=>{let n;const a=v9e[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function R5(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const w9e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j9e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N9e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_9e={date:R5({formats:w9e,defaultWidth:"full"}),time:R5({formats:j9e,defaultWidth:"full"}),dateTime:R5({formats:N9e,defaultWidth:"full"})},C9e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B9e=(t,e,r,n)=>C9e[t];function kp(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const S9e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E9e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k9e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P9e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F9e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T9e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O9e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},I9e={ordinalNumber:O9e,era:kp({values:S9e,defaultWidth:"wide"}),quarter:kp({values:E9e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:kp({values:k9e,defaultWidth:"wide"}),day:kp({values:P9e,defaultWidth:"wide"}),dayPeriod:kp({values:F9e,defaultWidth:"wide",formattingValues:T9e,defaultFormattingWidth:"wide"})};function Pp(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?L9e(l,A=>A.test(o)):D9e(l,A=>A.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function D9e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function L9e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function M9e(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const U9e=/^(\d+)(th|st|nd|rd)?/i,R9e=/\d+/i,Q9e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$9e={any:[/^b/i,/^(a|c)/i]},H9e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q9e={any:[/1/i,/2/i,/3/i,/4/i]},z9e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V9e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},K9e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W9e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G9e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},X9e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Y9e={ordinalNumber:M9e({matchPattern:U9e,parsePattern:R9e,valueCallback:t=>parseInt(t,10)}),era:Pp({matchPatterns:Q9e,defaultMatchWidth:"wide",parsePatterns:$9e,defaultParseWidth:"any"}),quarter:Pp({matchPatterns:H9e,defaultMatchWidth:"wide",parsePatterns:q9e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pp({matchPatterns:z9e,defaultMatchWidth:"wide",parsePatterns:V9e,defaultParseWidth:"any"}),day:Pp({matchPatterns:K9e,defaultMatchWidth:"wide",parsePatterns:W9e,defaultParseWidth:"any"}),dayPeriod:Pp({matchPatterns:G9e,defaultMatchWidth:"any",parsePatterns:X9e,defaultParseWidth:"any"})},J9e={code:"en-US",formatDistance:b9e,formatLong:_9e,formatRelative:B9e,localize:I9e,match:Y9e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z9e(t,e){const r=uo(t,e==null?void 0:e.in);return m9e(r,y9e(r))+1}function eHe(t,e){const r=uo(t,e==null?void 0:e.in),n=+k1(r)-+p9e(r);return Math.round(n/AG)+1}function fG(t,e){var u,A,h,f;const r=uo(t,e==null?void 0:e.in),n=r.getFullYear(),a=Bj(),i=(e==null?void 0:e.firstWeekContainsDate)??((A=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=md((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ax(o,e),c=md((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=ax(c,e);return+r>=+l?n+1:+r>=+d?n:n-1}function tHe(t,e){var l,c,d,u;const r=Bj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=fG(t,e),i=md((e==null?void 0:e.in)||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ax(i,e)}function rHe(t,e){const r=uo(t,e==null?void 0:e.in),n=+ax(r,e)-+tHe(r,e);return Math.round(n/AG)+1}function dr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const xc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return dr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):dr(r+1,2)},d(t,e){return dr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return dr(t.getHours()%12||12,e.length)},H(t,e){return dr(t.getHours(),e.length)},m(t,e){return dr(t.getMinutes(),e.length)},s(t,e){return dr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return dr(a,e.length)}},ch={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W8={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return xc.y(t,e)},Y:function(t,e,r,n){const a=fG(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return dr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):dr(i,e.length)},R:function(t,e){const r=hG(t);return dr(r,e.length)},u:function(t,e){const r=t.getFullYear();return dr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return dr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return dr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return xc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return dr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=rHe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):dr(a,e.length)},I:function(t,e,r){const n=eHe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):dr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):xc.d(t,e)},D:function(t,e,r){const n=Z9e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):dr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return dr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return dr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return dr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=ch.noon:n===0?a=ch.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=ch.evening:n>=12?a=ch.afternoon:n>=4?a=ch.morning:a=ch.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):xc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):dr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):dr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):xc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):xc.s(t,e)},S:function(t,e){return xc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return X8(n);case"XXXX":case"XX":return nu(n);case"XXXXX":case"XXX":default:return nu(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return X8(n);case"xxxx":case"xx":return nu(n);case"xxxxx":case"xxx":default:return nu(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+G8(n,":");case"OOOO":default:return"GMT"+nu(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+G8(n,":");case"zzzz":default:return"GMT"+nu(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return dr(n,e.length)},T:function(t,e,r){return dr(+t,e.length)}};function G8(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+dr(i,2)}function X8(t,e){return t%60===0?(t>0?"-":"+")+dr(Math.abs(t)/60,2):nu(t,e)}function nu(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=dr(Math.trunc(n/60),2),i=dr(n%60,2);return r+a+e+i}const Y8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nHe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Y8(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Y8(n,e)).replace("{{time}}",mG(a,e))},sHe={p:mG,P:nHe},aHe=/^D+$/,iHe=/^Y+$/,oHe=["D","DD","YY","YYYY"];function lHe(t){return aHe.test(t)}function cHe(t){return iHe.test(t)}function dHe(t,e,r){const n=uHe(t,e,r);if(console.warn(n),oHe.includes(t))throw new RangeError(n)}function uHe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AHe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hHe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fHe=/^'([^]*?)'?$/,mHe=/''/g,pHe=/[a-zA-Z]/;function qc(t,e,r){var u,A,h,f;const n=Bj(),a=n.locale??J9e,i=n.firstWeekContainsDate??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,o=n.weekStartsOn??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,l=uo(t,r==null?void 0:r.in);if(!x9e(l))throw new RangeError("Invalid time value");let c=e.match(hHe).map(g=>{const x=g[0];if(x==="p"||x==="P"){const m=sHe[x];return m(g,a.formatLong)}return g}).join("").match(AHe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:gHe(g)};if(W8[x])return{isToken:!0,value:g};if(x.match(pHe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const x=g.value;(cHe(x)||lHe(x))&&dHe(x,e,String(t));const m=W8[x[0]];return m(l,x,a.localize,d)}).join("")}function gHe(t){const e=t.match(fHe);return e?e[1].replace(mHe,"'"):t}const Fp={customers:"Clientes",service_orders:"Ordens de Servio",agenda:"Agenda",finance_entries:"Lanamentos Financeiros",employees:"Funcionrios",materials:"Materiais",service_catalog:"Catlogo de Servios",user_profiles:"Perfis de Usurios"},J8={INSERT:s.jsx(xt,{className:"w-4 h-4"}),UPDATE:s.jsx(Rr,{className:"w-4 h-4"}),DELETE:s.jsx(Ct,{className:"w-4 h-4"})},Z8={INSERT:"bg-green-100 text-green-700 border-green-200",UPDATE:"bg-blue-100 text-blue-700 border-blue-200",DELETE:"bg-red-100 text-red-700 border-red-200"},Q5={INSERT:"Criao",UPDATE:"Edio",DELETE:"Excluso"};function xHe(){const[t,e]=P.useState([]),[r,n]=P.useState([]),[a,i]=P.useState(!0),[o,l]=P.useState(null),[c,d]=P.useState({table:"",operation:"",user:"",dateFrom:"",dateTo:"",search:""});P.useEffect(()=>{u()},[c]);const u=async()=>{i(!0);try{let h=pe.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);c.table&&(h=h.eq("table_name",c.table)),c.operation&&(h=h.eq("operation",c.operation)),c.user&&(h=h.ilike("user_email",`%${c.user}%`)),c.dateFrom&&(h=h.gte("created_at",c.dateFrom)),c.dateTo&&(h=h.lte("created_at",c.dateTo));const{data:f}=await h,{data:g}=await pe.from("audit_summary_by_table").select("*");e(f||[]),n(g||[])}catch(h){console.error("Error loading audit data:",h)}finally{i(!1)}},A=()=>{const h=["Data/Hora","Tabela","Operao","Usurio","ID do Registro"],f=t.map(y=>[qc(new Date(y.created_at),"dd/MM/yyyy HH:mm:ss"),Fp[y.table_name]||y.table_name,Q5[y.operation],y.user_email||"Sistema",y.record_id]),g=[h.join(","),...f.map(y=>y.map(b=>`"${b}"`).join(","))].join(`
`),x=new Blob([g],{type:"text/csv"}),m=window.URL.createObjectURL(x),p=document.createElement("a");p.href=m,p.download=`auditoria_${qc(new Date,"yyyy-MM-dd_HHmmss")}.csv`,p.click()};return a?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Gr,{className:"w-8 h-8 text-blue-600"}),"Auditoria do Sistema"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Rastreamento completo de todas as operaes no sistema"})]}),s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ps,{className:"w-4 h-4"}),"Exportar CSV"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map(h=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:Fp[h.table_name]||h.table_name}),s.jsx(i0,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total:"}),s.jsx("span",{className:"font-semibold",children:h.total_operations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-600",children:"Criaes:"}),s.jsx("span",{className:"font-semibold text-green-600",children:h.inserts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-blue-600",children:"Edies:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:h.updates})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-red-600",children:"Excluses:"}),s.jsx("span",{className:"font-semibold text-red-600",children:h.deletes})]})]})]},h.table_name))}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(aA,{className:"w-5 h-5 text-gray-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tabela"}),s.jsxs("select",{value:c.table,onChange:h=>d({...c,table:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Todas"}),Object.entries(Fp).map(([h,f])=>s.jsx("option",{value:h,children:f},h))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operao"}),s.jsxs("select",{value:c.operation,onChange:h=>d({...c,operation:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Todas"}),s.jsx("option",{value:"INSERT",children:"Criao"}),s.jsx("option",{value:"UPDATE",children:"Edio"}),s.jsx("option",{value:"DELETE",children:"Excluso"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio"}),s.jsx("input",{type:"text",value:c.user,onChange:h=>d({...c,user:h.target.value}),placeholder:"Email do usurio",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:c.dateFrom,onChange:h=>d({...c,dateFrom:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:c.dateTo,onChange:h=>d({...c,dateTo:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(mt,{className:"w-5 h-5"}),"ltimas Atividades (",t.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tabela"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(h=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-4 h-4 text-gray-400"}),qc(new Date(h.created_at),"dd/MM/yyyy HH:mm:ss")]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md",children:Fp[h.table_name]||h.table_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md border ${Z8[h.operation]}`,children:[J8[h.operation],Q5[h.operation]]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vn,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:h.user_email||"Sistema"})]})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[h.operation==="UPDATE"&&h.changed_fields&&s.jsxs("span",{className:"text-blue-600",children:[h.changed_fields.length," campo(s) alterado(s)"]}),h.operation==="INSERT"&&s.jsx("span",{className:"text-green-600",children:"Novo registro"}),h.operation==="DELETE"&&s.jsx("span",{className:"text-red-600",children:"Registro excludo"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>l(h),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Ver Detalhes"})})]},h.id))})]})})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Detalhes da Auditoria"}),s.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(ed,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Operao"}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-2 rounded-lg border ${Z8[o.operation]}`,children:[J8[o.operation],Q5[o.operation]]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tabela"}),s.jsx("p",{className:"text-gray-900 font-medium",children:Fp[o.table_name]||o.table_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Usurio"}),s.jsx("p",{className:"text-gray-900",children:o.user_email||"Sistema"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data/Hora"}),s.jsx("p",{className:"text-gray-900",children:qc(new Date(o.created_at),"dd/MM/yyyy HH:mm:ss")})]})]}),o.operation==="UPDATE"&&o.changed_fields&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Campos Alterados"}),s.jsx("div",{className:"space-y-3",children:o.changed_fields.map((h,f)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("p",{className:"font-medium text-gray-900 mb-2",children:h.field}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"ANTES:"}),s.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-red-200",children:JSON.stringify(h.old_value,null,2)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"DEPOIS:"}),s.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-green-200",children:JSON.stringify(h.new_value,null,2)})]})]})]},f))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.old_data&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Anteriores"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.old_data,null,2)})]}),o.new_data&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Novos"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.new_data,null,2)})]})]})]})})]})})]})}const yHe=()=>{const{isAdmin:t}=Zr(),[e,r]=P.useState([]),[n,a]=P.useState(!0),[i,o]=P.useState(""),[l,c]=P.useState("all"),[d,u]=P.useState(!1),[A,h]=P.useState(null),[f,g]=P.useState({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0});P.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0);const{data:B,error:T}=await pe.from("crm_leads").select("*").order("created_at",{ascending:!1});if(T)throw T;r(B||[])}catch(B){console.error("Error loading leads:",B)}finally{a(!1)}},m=async()=>{try{if(A){const{error:B}=await pe.from("crm_leads").update(f).eq("id",A.id);if(B)throw B}else{const{error:B}=await pe.from("crm_leads").insert([f]);if(B)throw B}await x(),b()}catch(B){console.error("Error saving lead:",B),alert("Erro ao salvar lead")}},p=async B=>{if(confirm("Tem certeza que deseja excluir este lead?"))try{const{error:T}=await pe.from("crm_leads").delete().eq("id",B);if(T)throw T;await x()}catch(T){console.error("Error deleting lead:",T),alert("Erro ao excluir lead")}},y=B=>{h(B),g({name:B.name,email:B.email,phone:B.phone,company:B.company,source:B.source,status:B.status,score:B.score}),u(!0)},b=()=>{u(!1),h(null),g({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0})},N=async B=>{if(confirm("Converter este lead em cliente?"))try{const{error:T}=await pe.from("customers").insert([{tipo_pessoa:"juridica",nome_razao:B.company||B.name,nome_fantasia:B.company,email:B.email,telefone:B.phone,celular:B.phone}]);if(T)throw T;const{error:w}=await pe.from("crm_leads").update({status:"qualified"}).eq("id",B.id);if(w)throw w;alert("Lead convertido em cliente com sucesso!"),await x()}catch(T){console.error("Error converting lead:",T),alert("Erro ao converter lead")}},j=B=>{switch(B){case"new":return s.jsx(Mt,{className:"w-4 h-4 text-blue-500"});case"contacted":return s.jsx(qn,{className:"w-4 h-4 text-yellow-500"});case"qualified":return s.jsx(On,{className:"w-4 h-4 text-green-500"});case"proposal":return s.jsx(jr,{className:"w-4 h-4 text-purple-500"});default:return s.jsx(ed,{className:"w-4 h-4 text-gray-500"})}},C=B=>({new:"Novo",contacted:"Contatado",qualified:"Qualificado",proposal:"Proposta",lost:"Perdido"})[B]||B,k=e.filter(B=>{const T=B.name.toLowerCase().includes(i.toLowerCase())||B.email.toLowerCase().includes(i.toLowerCase())||B.company.toLowerCase().includes(i.toLowerCase()),w=l==="all"||B.status===l;return T&&w}),_={total:e.length,new:e.filter(B=>B.status==="new").length,contacted:e.filter(B=>B.status==="contacted").length,qualified:e.filter(B=>B.status==="qualified").length};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CRM - Leads"}),s.jsx("p",{className:"text-gray-600",children:"Gesto de leads e funil de vendas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Leads"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.total})]}),s.jsx(kt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Novos"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.new})]}),s.jsx(Mt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Contatados"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.contacted})]}),s.jsx(qn,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Qualificados"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.qualified})]}),s.jsx(On,{className:"w-10 h-10 text-green-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar leads...",value:i,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:B=>c(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"new",children:"Novos"}),s.jsx("option",{value:"contacted",children:"Contatados"}),s.jsx("option",{value:"qualified",children:"Qualificados"}),s.jsx("option",{value:"proposal",children:"Proposta"}),s.jsx("option",{value:"lost",children:"Perdidos"})]})]}),s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5"}),"Novo Lead"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origem"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(B=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:B.company})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yn,{className:"w-3 h-3"}),B.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qn,{className:"w-3 h-3"}),B.phone]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:B.source})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[j(B.status),s.jsx("span",{className:"text-sm text-gray-900",children:C(B.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${B.score}%`}})}),s.jsx("span",{className:"text-sm text-gray-600",children:B.score})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[B.status!=="qualified"&&s.jsx("button",{onClick:()=>N(B),className:"text-green-600 hover:text-green-900",title:"Converter em cliente",children:s.jsx(On,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(B),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Rr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>p(B.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Ct,{className:"w-5 h-5"})})]})})]},B.id))})]}),k.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(kt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum lead encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo lead."})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:A?"Editar Lead":"Novo Lead"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),s.jsx("input",{type:"text",value:f.name,onChange:B=>g({...f,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),s.jsx("input",{type:"text",value:f.company,onChange:B=>g({...f,company:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:f.email,onChange:B=>g({...f,email:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),s.jsx("input",{type:"tel",value:f.phone,onChange:B=>g({...f,phone:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origem"}),s.jsxs("select",{value:f.source,onChange:B=>g({...f,source:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:"Website"}),s.jsx("option",{value:"Google Ads",children:"Google Ads"}),s.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),s.jsx("option",{value:"Indicao",children:"Indicao"}),s.jsx("option",{value:"Telefone",children:"Telefone"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:f.status,onChange:B=>g({...f,status:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"new",children:"Novo"}),s.jsx("option",{value:"contacted",children:"Contatado"}),s.jsx("option",{value:"qualified",children:"Qualificado"}),s.jsx("option",{value:"proposal",children:"Proposta"}),s.jsx("option",{value:"lost",children:"Perdido"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Score (0-100)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:f.score,onChange:B=>g({...f,score:parseInt(B.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},vHe=()=>{const{isAdmin:t}=Zr(),[e,r]=P.useState([]),[n,a]=P.useState([]),[i,o]=P.useState(!0),[l,c]=P.useState(""),[d,u]=P.useState("all"),[A,h]=P.useState(!1),[f,g]=P.useState(null),[x,m]=P.useState({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""});P.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const[B,T]=await Promise.all([pe.from("contracts").select(`
            *,
            customer:customers(nome_razao)
          `).order("created_at",{ascending:!1}),pe.from("customers").select("id, nome_razao")]);if(B.error)throw B.error;if(T.error)throw T.error;r(B.data||[]),a(T.data||[])}catch(B){console.error("Error loading data:",B)}finally{o(!1)}},y=async()=>{try{if(!x.contract_number||!x.customer_id||!x.start_date){alert("Preencha os campos obrigatrios");return}if(f){const{error:B}=await pe.from("contracts").update(x).eq("id",f.id);if(B)throw B}else{const{error:B}=await pe.from("contracts").insert([x]);if(B)throw B}await p(),j()}catch(B){console.error("Error saving contract:",B),alert("Erro ao salvar contrato")}},b=async B=>{if(confirm("Tem certeza que deseja excluir este contrato?"))try{const{error:T}=await pe.from("contracts").delete().eq("id",B);if(T)throw T;await p()}catch(T){console.error("Error deleting contract:",T),alert("Erro ao excluir contrato")}},N=B=>{g(B),m({contract_number:B.contract_number,customer_id:B.customer_id,start_date:B.start_date,end_date:B.end_date,value:B.value,payment_frequency:B.payment_frequency,status:B.status,notes:B.notes||""}),h(!0)},j=()=>{h(!1),g(null),m({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""})},C=B=>{const T={active:{bg:"bg-green-100",text:"text-green-800",icon:On},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Mt},expired:{bg:"bg-red-100",text:"text-red-800",icon:Kn},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:Kn}},w=T[B]||T.pending,E=w.icon;return s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${w.bg} ${w.text}`,children:[s.jsx(E,{className:"w-3 h-3"}),B==="active"?"Ativo":B==="pending"?"Pendente":B==="expired"?"Expirado":"Cancelado"]})},k=e.filter(B=>{var E,D;const T=B.contract_number.toLowerCase().includes(l.toLowerCase())||((D=(E=B.customer)==null?void 0:E.nome_razao)==null?void 0:D.toLowerCase().includes(l.toLowerCase())),w=d==="all"||B.status===d;return T&&w}),_={total:e.length,active:e.filter(B=>B.status==="active").length,expiringSoon:e.filter(B=>{const T=Math.floor((new Date(B.end_date).getTime()-new Date().getTime())/864e5);return T<=30&&T>0}).length,totalValue:e.filter(B=>B.status==="active").reduce((B,T)=>B+Number(T.value),0)};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gesto de Contratos"}),s.jsx("p",{className:"text-gray-600",children:"Controle de contratos de manuteno e suporte"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Contratos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.total})]}),s.jsx(mt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.active})]}),s.jsx(On,{className:"w-10 h-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Expirando em 30 dias"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.expiringSoon})]}),s.jsx(Kn,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total Mensal"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.totalValue)})]}),s.jsx(Xt,{className:"w-10 h-10 text-blue-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar contratos...",value:l,onChange:B=>c(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:d,onChange:B=>u(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"active",children:"Ativos"}),s.jsx("option",{value:"pending",children:"Pendentes"}),s.jsx("option",{value:"expired",children:"Expirados"}),s.jsx("option",{value:"cancelled",children:"Cancelados"})]})]}),s.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5"}),"Novo Contrato"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perodo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(B=>{var T;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.contract_number})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:(T=B.customer)==null?void 0:T.nome_razao})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"Contrato"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:qc(new Date(B.start_date),"dd/MM/yyyy")}),s.jsxs("div",{className:"text-xs text-gray-500",children:["at ",qc(new Date(B.end_date),"dd/MM/yyyy")]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.value)}),s.jsx("div",{className:"text-xs text-gray-500",children:B.payment_frequency==="monthly"?"Mensal":B.payment_frequency==="quarterly"?"Trimestral":B.payment_frequency==="biannual"?"Semestral":"Anual"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C(B.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>N(B),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Rr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>b(B.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Ct,{className:"w-5 h-5"})})]})})]},B.id)})})]}),k.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum contrato encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo contrato."})]})]})]}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:f?"Editar Contrato":"Novo Contrato"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero do Contrato *"}),s.jsx("input",{type:"text",value:x.contract_number,onChange:B=>m({...x,contract_number:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),s.jsxs("select",{value:x.customer_id,onChange:B=>m({...x,customer_id:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente"}),n.map(B=>s.jsx("option",{value:B.id,children:B.nome_razao},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia de Pagamento"}),s.jsxs("select",{value:x.payment_frequency,onChange:B=>m({...x,payment_frequency:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Incio *"}),s.jsx("input",{type:"date",value:x.start_date,onChange:B=>m({...x,start_date:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim *"}),s.jsx("input",{type:"date",value:x.end_date,onChange:B=>m({...x,end_date:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:x.value,onChange:B=>m({...x,value:parseFloat(B.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},bHe=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState(null),[o,l]=P.useState({}),[c,d]=P.useState(!1);P.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const{data:x,error:m}=await pe.from("contract_templates").select("*").eq("active",!0).order("is_default",{ascending:!1}).order("name");if(m)throw console.error("Supabase error:",m),m;console.log("Templates loaded:",x),e(x||[])}catch(x){console.error("Error loading templates:",x),alert("Erro ao carregar templates: "+x.message)}finally{n(!1)}},A=x=>{i(x.id),l(x)},h=()=>{i(null),l({})},f=async()=>{if(a)try{d(!0),o.is_default&&await pe.from("contract_templates").update({is_default:!1}).neq("id",a);const{error:x}=await pe.from("contract_templates").update({name:o.name,contract_text:o.contract_text,contract_clauses:o.contract_clauses,warranty_terms:o.warranty_terms,payment_conditions:o.payment_conditions,bank_details_template:o.bank_details_template,is_default:o.is_default,updated_at:new Date().toISOString()}).eq("id",a);if(x)throw x;alert("Template salvo com sucesso!"),await u(),h()}catch(x){console.error("Error saving template:",x),alert("Erro ao salvar template")}finally{d(!1)}},g=async x=>{try{await pe.from("contract_templates").update({is_default:!1}).neq("id",x),await pe.from("contract_templates").update({is_default:!0}).eq("id",x),alert("Template definido como padro!"),await u()}catch(m){console.error("Error setting default:",m),alert("Erro ao definir padro")}};return r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(mt,{className:"h-8 w-8 text-blue-600"}),"Templates de Contrato"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie os modelos de contrato, termos de garantia e condies de pagamento"})]}),t.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 p-12 text-center",children:[s.jsx(mt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nenhum template encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No h templates de contrato cadastrados no momento."}),s.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Nota:"})," Os templates devem ser criados diretamente no banco de dados Supabase na tabela ",s.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"contract_templates"}),"."]})})]}):s.jsx("div",{className:"space-y-6",children:t.map(x=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b-2 border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(mt,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:x.name}),x.is_default&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold mt-1",children:[s.jsx(Ks,{className:"h-3 w-3"}),"Template Padro"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!x.is_default&&s.jsxs("button",{onClick:()=>g(x.id),className:"px-3 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-2",title:"Definir como padro",children:[s.jsx(Ks,{className:"h-4 w-4"}),"Definir Padro"]}),a===x.id?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:f,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Qt,{className:"h-4 w-4"}),c?"Salvando...":"Salvar"]}),s.jsxs("button",{onClick:h,disabled:c,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(dt,{className:"h-4 w-4"}),"Cancelar"]})]}):s.jsxs("button",{onClick:()=>A(x),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xa,{className:"h-4 w-4"}),"Editar"]})]})]})}),s.jsx("div",{className:"p-6",children:a===x.id?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("strong",{children:"Dica:"})," Use variveis como [NOME_CLIENTE], [VALOR_TOTAL], [NUMERO_OS] para substituio automtica"]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nome do Template"}),s.jsx("input",{type:"text",value:o.name||"",onChange:m=>l({...o,name:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Contrato Padro"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.is_default||!1,onChange:m=>l({...o,is_default:m.target.checked}),className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Definir como template padro para todas as novas OS"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Texto do Contrato Principal"}),s.jsx("textarea",{value:o.contract_text||"",onChange:m=>l({...o,contract_text:m.target.value}),rows:10,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o texto principal do contrato..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Clusulas Contratuais"}),s.jsx("textarea",{value:o.contract_clauses||"",onChange:m=>l({...o,contract_clauses:m.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as clusulas contratuais..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Termos de Garantia"}),s.jsx("textarea",{value:o.warranty_terms||"",onChange:m=>l({...o,warranty_terms:m.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite os termos de garantia..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Condies de Pagamento"}),s.jsx("textarea",{value:o.payment_conditions||"",onChange:m=>l({...o,payment_conditions:m.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as condies de pagamento..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Dados Bancrios (Template)"}),s.jsx("textarea",{value:o.bank_details_template||"",onChange:m=>l({...o,bank_details_template:m.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o template dos dados bancrios..."})]})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[s.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4"}),"Contrato Principal"]}),s.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap line-clamp-6",children:x.contract_text})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-200",children:[s.jsxs("h4",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4"}),"Clusulas"]}),s.jsx("p",{className:"text-sm text-purple-800 whitespace-pre-wrap line-clamp-6",children:x.contract_clauses})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("h4",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:[s.jsx(Fr,{className:"h-4 w-4"}),"Garantia"]}),s.jsx("p",{className:"text-sm text-green-800 whitespace-pre-wrap line-clamp-6",children:x.warranty_terms})]}),s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border-2 border-orange-200",children:[s.jsxs("h4",{className:"font-bold text-orange-900 mb-2 flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4"}),"Pagamento"]}),s.jsx("p",{className:"text-sm text-orange-800 whitespace-pre-wrap line-clamp-6",children:x.payment_conditions})]})]})})]},x.id))})]})},eR={contract:"Contrato",service_order:"Ordem de Servio",proposal:"Proposta",budget:"Oramento",receipt:"Recibo",invoice:"Nota Fiscal"},tR=[{id:"order_number",label:"Nmero da OS"},{id:"customer",label:"Cliente"},{id:"date",label:"Data"},{id:"services",label:"Servios"},{id:"materials",label:"Materiais"},{id:"team",label:"Equipe"},{id:"costs",label:"Custos"},{id:"total",label:"Total"},{id:"notes",label:"Observaes"},{id:"signature",label:"Assinatura"}],wHe=()=>{var B,T,w,E,D,O,L,U,M;const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState("service_order"),[o,l]=P.useState(null),[c,d]=P.useState({}),[u,A]=P.useState(!1),[h,f]=P.useState(!1),[g,x]=P.useState(!1);P.useEffect(()=>{m()},[a]);const m=async()=>{try{n(!0);const{data:Q,error:q}=await pe.from("os_templates").select("*").eq("template_type",a).eq("active",!0).order("is_default",{ascending:!1}).order("name");if(q)throw q;e(Q||[])}catch(Q){console.error("Error loading templates:",Q),alert("Erro ao carregar templates")}finally{n(!1)}},p=()=>{l("new"),d({name:"",template_type:a,is_default:!1,logo_url:"",header_text:"ORDEM DE SERVIO",footer_text:"Obrigado pela preferncia!",layout_config:{margins:{top:20,bottom:20,left:20,right:20},fontSize:10,lineHeight:1.2},field_order:["order_number","customer","date","services","materials","team","costs","total","signature"],show_fields:{order_number:!0,customer:!0,date:!0,services:!0,materials:!0,team:!0,costs:!0,total:!0,notes:!0,signature:!0},custom_styles:{primaryColor:"#2563eb",secondaryColor:"#64748b",headerBg:"#f8fafc",borderColor:"#e2e8f0"},active:!0})},y=Q=>{l(Q.id),d(Q)},b=async()=>{try{if(A(!0),!c.name||!c.template_type){alert("Preencha o nome do template");return}if(o==="new"){const{error:Q}=await pe.from("os_templates").insert([c]);if(Q)throw Q}else{const{error:Q}=await pe.from("os_templates").update(c).eq("id",o);if(Q)throw Q}await m(),l(null),d({})}catch(Q){console.error("Error saving template:",Q),alert("Erro ao salvar template")}finally{A(!1)}},N=async Q=>{if(confirm("Deseja excluir este template?"))try{const{error:q}=await pe.from("os_templates").update({active:!1}).eq("id",Q);if(q)throw q;await m()}catch(q){console.error("Error deleting template:",q),alert("Erro ao excluir template")}},j=async Q=>{try{const{error:q}=await pe.from("os_templates").update({is_default:!0}).eq("id",Q);if(q)throw q;await m()}catch(q){console.error("Error setting default:",q),alert("Erro ao definir como padro")}},C=async Q=>{var J;const q=(J=Q.target.files)==null?void 0:J[0];if(q)try{if(f(!0),!q.type.startsWith("image/")){alert("Por favor, selecione uma imagem");return}if(q.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB");return}const ee=new FileReader;ee.onload=$=>{var K;const R=(K=$.target)==null?void 0:K.result;d(V=>({...V,logo_url:R})),f(!1)},ee.onerror=()=>{alert("Erro ao carregar imagem"),f(!1)},ee.readAsDataURL(q)}catch(ee){console.error("Error uploading logo:",ee),alert("Erro ao fazer upload da logo"),f(!1)}},k=(Q,q)=>{const J=[...c.field_order||[]],ee=q==="up"?Q-1:Q+1;ee<0||ee>=J.length||([J[Q],J[ee]]=[J[ee],J[Q]],d($=>({...$,field_order:J})))},_=Q=>{d(q=>{var J;return{...q,show_fields:{...q.show_fields,[Q]:!((J=q.show_fields)!=null&&J[Q])}}})};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Templates de Documentos"}),s.jsx("p",{className:"text-gray-600",children:"Gerencie e personalize templates de documentos"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),Object.entries(eR).map(([Q,q])=>s.jsx("button",{onClick:()=>i(Q),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===Q?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:q},Q))]})}),!o&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("h2",{className:"font-semibold text-gray-900",children:["Templates de ",eR[a]]}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(xt,{className:"w-4 h-4"}),"Novo Template"]})]}),r?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando..."}):t.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(mt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"Nenhum template encontrado"]}):s.jsx("div",{className:"divide-y divide-gray-200",children:t.map(Q=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:Q.name}),Q.is_default&&s.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:[s.jsx(Ks,{className:"w-3 h-3 fill-current"}),"Padro"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Atualizado em ",new Date(Q.updated_at).toLocaleDateString("pt-BR")]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!Q.is_default&&s.jsx("button",{onClick:()=>j(Q.id),className:"p-2 text-gray-600 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"Definir como padro",children:s.jsx(Ks,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(Q),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:s.jsx(xa,{className:"w-5 h-5"})}),!Q.is_default&&s.jsx("button",{onClick:()=>N(Q.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:s.jsx(Ct,{className:"w-5 h-5"})})]})]})},Q.id))})]}),s.jsx(it,{children:o&&s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h2",{className:"font-semibold text-gray-900",children:o==="new"?"Novo Template":"Editar Template"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>x(!g),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(xs,{className:"w-4 h-4"}),g?"Editor":"Visualizar"]}),s.jsxs("button",{onClick:b,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(Qt,{className:"w-4 h-4"}),u?"Salvando...":"Salvar"]}),s.jsx("button",{onClick:()=>{l(null),d({})},className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(dt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Template"}),s.jsx("input",{type:"text",value:c.name||"",onChange:Q=>d(q=>({...q,name:Q.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Template Profissional OS"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo/Imagem"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer",children:[s.jsx(Ag,{className:"w-4 h-4"}),h?"Carregando...":"Fazer Upload",s.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",disabled:h})]}),c.logo_url&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-12 w-auto object-contain border border-gray-200 rounded"}),s.jsx("button",{onClick:()=>d(Q=>({...Q,logo_url:""})),className:"text-red-600 hover:text-red-700",children:s.jsx(dt,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formatos aceitos: JPG, PNG, GIF. Tamanho mximo: 2MB"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Cabealho"}),s.jsx("input",{type:"text",value:c.header_text||"",onChange:Q=>d(q=>({...q,header_text:Q.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: ORDEM DE SERVIO"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Rodap"}),s.jsx("input",{type:"text",value:c.footer_text||"",onChange:Q=>d(q=>({...q,footer_text:Q.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Obrigado pela preferncia!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem e Visibilidade dos Campos"}),s.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:(c.field_order||[]).map((Q,q)=>{var $;const J=tR.find(R=>R.id===Q);if(!J)return null;const ee=(($=c.show_fields)==null?void 0:$[Q])!==!1;return s.jsxs("div",{className:`p-3 flex items-center justify-between ${ee?"":"bg-gray-50 opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:q+1}),s.jsx("input",{type:"checkbox",checked:ee,onChange:()=>_(Q),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-900",children:J.label})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>k(q,"up"),disabled:q===0,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:s.jsx(Xh,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k(q,"down"),disabled:q===(c.field_order||[]).length-1,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:s.jsx(J1,{className:"w-4 h-4"})})]})]},Q)})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(t2,{className:"w-4 h-4 inline mr-1"}),"Cores Personalizadas"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Primria"}),s.jsx("input",{type:"color",value:((B=c.custom_styles)==null?void 0:B.primaryColor)||"#2563eb",onChange:Q=>d(q=>({...q,custom_styles:{...q.custom_styles,primaryColor:Q.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Secundria"}),s.jsx("input",{type:"color",value:((T=c.custom_styles)==null?void 0:T.secondaryColor)||"#64748b",onChange:Q=>d(q=>({...q,custom_styles:{...q.custom_styles,secondaryColor:Q.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor do Cabealho"}),s.jsx("input",{type:"color",value:((w=c.custom_styles)==null?void 0:w.headerBg)||"#f8fafc",onChange:Q=>d(q=>({...q,custom_styles:{...q.custom_styles,headerBg:Q.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor das Bordas"}),s.jsx("input",{type:"color",value:((E=c.custom_styles)==null?void 0:E.borderColor)||"#e2e8f0",onChange:Q=>d(q=>({...q,custom_styles:{...q.custom_styles,borderColor:Q.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]})]})]}),g&&s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto bg-white shadow-lg",children:[s.jsxs("div",{className:"p-6 text-center border-b-2",style:{backgroundColor:(D=c.custom_styles)==null?void 0:D.headerBg,borderColor:(O=c.custom_styles)==null?void 0:O.borderColor},children:[c.logo_url&&s.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-16 w-auto mx-auto mb-4 object-contain"}),s.jsx("h1",{className:"text-2xl font-bold",style:{color:(L=c.custom_styles)==null?void 0:L.primaryColor},children:c.header_text||"ORDEM DE SERVIO"})]}),s.jsx("div",{className:"p-6 space-y-4",children:(c.field_order||[]).map(Q=>{var ee,$,R;const q=tR.find(K=>K.id===Q),J=((ee=c.show_fields)==null?void 0:ee[Q])!==!1;return!q||!J?null:s.jsxs("div",{className:"flex items-center gap-2 py-2 border-b",style:{borderColor:($=c.custom_styles)==null?void 0:$.borderColor},children:[s.jsxs("span",{className:"font-medium",style:{color:(R=c.custom_styles)==null?void 0:R.primaryColor},children:[q.label,":"]}),s.jsx("span",{className:"text-gray-600",children:"[Contedo]"})]},Q)})}),s.jsx("div",{className:"p-4 text-center text-sm border-t-2",style:{borderColor:(U=c.custom_styles)==null?void 0:U.borderColor,color:(M=c.custom_styles)==null?void 0:M.secondaryColor},children:c.footer_text||"Obrigado pela preferncia!"})]})})]})]})})]})},jHe=()=>{const{isAdmin:t}=Zr(),[e,r]=P.useState([]),[n,a]=P.useState([]),[i,o]=P.useState([]),[l,c]=P.useState(!0),[d,u]=P.useState(""),[A,h]=P.useState("all"),[f,g]=P.useState(!1),[x,m]=P.useState(null),[p,y]=P.useState({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""});P.useEffect(()=>{b()},[]),P.useEffect(()=>{const w=p.amount+p.tax_amount;y(E=>({...E,total_amount:w}))},[p.amount,p.tax_amount]);const b=async()=>{try{c(!0);const[w,E,D]=await Promise.all([pe.from("finance_invoices").select(`
            *,
            customer:customers(nome_razao),
            service_order:service_orders(ordem_servico)
          `).order("created_at",{ascending:!1}),pe.from("customers").select("id, nome_razao"),pe.from("service_orders").select("id, ordem_servico")]);if(w.error)throw w.error;if(E.error)throw E.error;if(D.error)throw D.error;r(w.data||[]),a(E.data||[]),o(D.data||[])}catch(w){console.error("Error loading data:",w)}finally{c(!1)}},N=async()=>{try{if(!p.invoice_number||!p.customer_id){alert("Preencha os campos obrigatrios");return}if(x){const{error:w}=await pe.from("finance_invoices").update(p).eq("id",x.id);if(w)throw w}else{const{error:w}=await pe.from("finance_invoices").insert([p]);if(w)throw w}await b(),k()}catch(w){console.error("Error saving invoice:",w),alert("Erro ao salvar nota fiscal")}},j=async w=>{if(confirm("Tem certeza que deseja excluir esta nota fiscal?"))try{const{error:E}=await pe.from("finance_invoices").delete().eq("id",w);if(E)throw E;await b()}catch(E){console.error("Error deleting invoice:",E),alert("Erro ao excluir nota fiscal")}},C=w=>{m(w),y({invoice_number:w.invoice_number,customer_id:w.customer_id,service_order_id:w.service_order_id||"",issue_date:w.issue_date,due_date:w.due_date,amount:w.amount,tax_amount:w.tax_amount,total_amount:w.total_amount,status:w.status,notes:w.notes||""}),g(!0)},k=()=>{g(!1),m(null),y({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""})},_=w=>{const E={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Mt},issued:{bg:"bg-blue-100",text:"text-blue-800",icon:yi},paid:{bg:"bg-green-100",text:"text-green-800",icon:On},cancelled:{bg:"bg-red-100",text:"text-red-800",icon:ed},overdue:{bg:"bg-red-100",text:"text-red-800",icon:Kn}},D=E[w]||E.pending,O=D.icon;return s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${D.bg} ${D.text}`,children:[s.jsx(O,{className:"w-3 h-3"}),w==="pending"?"Pendente":w==="issued"?"Emitida":w==="paid"?"Paga":w==="cancelled"?"Cancelada":"Vencida"]})},B=e.filter(w=>{var O,L;const E=w.invoice_number.toLowerCase().includes(d.toLowerCase())||((L=(O=w.customer)==null?void 0:O.nome_razao)==null?void 0:L.toLowerCase().includes(d.toLowerCase())),D=A==="all"||w.status===A;return E&&D}),T={total:e.length,pending:e.filter(w=>w.status==="pending").length,issued:e.filter(w=>w.status==="issued").length,paid:e.filter(w=>w.status==="paid").length,totalValue:e.filter(w=>w.status==="paid").reduce((w,E)=>w+Number(E.total_amount),0)};return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notas Fiscais"}),s.jsx("p",{className:"text-gray-600",children:"Gesto e emisso de notas fiscais"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.total})]}),s.jsx(mt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pendentes"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T.pending})]}),s.jsx(Mt,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Emitidas"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.issued})]}),s.jsx(yi,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pagas"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.paid})]}),s.jsx(On,{className:"w-10 h-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),s.jsx("p",{className:"text-xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T.totalValue)})]})})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar notas fiscais...",value:d,onChange:w=>u(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:A,onChange:w=>h(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"pending",children:"Pendentes"}),s.jsx("option",{value:"issued",children:"Emitidas"}),s.jsx("option",{value:"paid",children:"Pagas"}),s.jsx("option",{value:"cancelled",children:"Canceladas"})]})]}),s.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5"}),"Nova NF"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emisso"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(w=>{var E,D;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.invoice_number})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:(E=w.customer)==null?void 0:E.nome_razao})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:((D=w.service_order)==null?void 0:D.ordem_servico)||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:qc(new Date(w.issue_date),"dd/MM/yyyy")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:qc(new Date(w.due_date),"dd/MM/yyyy")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w.total_amount)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_(w.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>C(w),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:s.jsx(Rr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>j(w.id),className:"text-red-600 hover:text-red-900",title:"Excluir",children:s.jsx(Ct,{className:"w-5 h-5"})})]})})]},w.id)})})]}),B.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma nota fiscal encontrada"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando uma nova nota fiscal."})]})]})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:x?"Editar Nota Fiscal":"Nova Nota Fiscal"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero NF *"}),s.jsx("input",{type:"text",value:p.invoice_number,onChange:w=>y({...p,invoice_number:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:p.status,onChange:w=>y({...p,status:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"issued",children:"Emitida"}),s.jsx("option",{value:"paid",children:"Paga"}),s.jsx("option",{value:"cancelled",children:"Cancelada"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),s.jsxs("select",{value:p.customer_id,onChange:w=>y({...p,customer_id:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente"}),n.map(w=>s.jsx("option",{value:w.id,children:w.nome_razao},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordem de Servio (opcional)"}),s.jsxs("select",{value:p.service_order_id,onChange:w=>y({...p,service_order_id:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Sem OS vinculada"}),i.map(w=>s.jsx("option",{value:w.id,children:w.ordem_servico},w.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Emisso"}),s.jsx("input",{type:"date",value:p.issue_date,onChange:w=>y({...p,issue_date:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Vencimento"}),s.jsx("input",{type:"date",value:p.due_date,onChange:w=>y({...p,due_date:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:p.amount,onChange:w=>y({...p,amount:parseFloat(w.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impostos (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:p.tax_amount,onChange:w=>y({...p,tax_amount:parseFloat(w.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:p.total_amount,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:p.notes,onChange:w=>y({...p,notes:w.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},NHe=()=>{const{isAdmin:t}=Zr(),[e,r]=P.useState(!0),[n,a]=P.useState(!1),[i,o]=P.useState({company_name:"",trade_name:"",cnpj:"",state_registration:"",municipal_registration:"",address:"",city:"",state:"",zip_code:"",phone:"",email:"",website:"",primary_color:"#3B82F6",secondary_color:"#10B981"});P.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const{data:d,error:u}=await pe.from("company_settings").select("*").limit(1).maybeSingle();if(u&&u.code!=="PGRST116")throw u;d&&o(d)}catch(d){console.error("Error loading company settings:",d)}finally{r(!1)}},c=async()=>{try{if(a(!0),i.id){const{error:d}=await pe.from("company_settings").update(i).eq("id",i.id);if(d)throw d}else{const{data:d,error:u}=await pe.from("company_settings").insert([i]).select().single();if(u)throw u;o(d)}alert("Configuraes salvas com sucesso!")}catch(d){console.error("Error saving company settings:",d),alert("Erro ao salvar configuraes")}finally{a(!1)}};return e?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configuraes da Empresa"}),s.jsx("p",{className:"text-gray-600",children:"Configure as informaes da sua empresa"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Bu,{className:"w-6 h-6"}),"Dados da Empresa"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razo Social *"}),s.jsx("input",{type:"text",value:i.company_name,onChange:d=>o({...i,company_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:i.trade_name,onChange:d=>o({...i,trade_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ *"}),s.jsx("input",{type:"text",value:i.cnpj,onChange:d=>o({...i,cnpj:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00.000.000/0000-00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrio Estadual"}),s.jsx("input",{type:"text",value:i.state_registration,onChange:d=>o({...i,state_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrio Municipal"}),s.jsx("input",{type:"text",value:i.municipal_registration,onChange:d=>o({...i,municipal_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Endereo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo Completo"}),s.jsx("input",{type:"text",value:i.address,onChange:d=>o({...i,address:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:i.city,onChange:d=>o({...i,city:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsx("input",{type:"text",value:i.state,onChange:d=>o({...i,state:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",maxLength:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),s.jsx("input",{type:"text",value:i.zip_code,onChange:d=>o({...i,zip_code:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:i.phone,onChange:d=>o({...i,phone:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),s.jsx("input",{type:"url",value:i.website,onChange:d=>o({...i,website:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Personalizao"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Primria"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Secundria"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-end",children:s.jsxs("button",{onClick:c,disabled:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Qt,{className:"w-5 h-5"}),n?"Salvando...":"Salvar Configuraes"]})})]})})]})},_He=()=>{const{isAdmin:t}=Zr(),[e,r]=P.useState([]),[n,a]=P.useState(!0),[i,o]=P.useState(""),[l,c]=P.useState("all"),[d,u]=P.useState(!1),[A,h]=P.useState(null),[f,g]=P.useState({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""});P.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0);const{data:_,error:B}=await pe.from("equipments").select("*").order("name",{ascending:!0});if(B)throw B;r(_||[])}catch(_){console.error("Error loading equipments:",_)}finally{a(!1)}},m=async()=>{try{if(!f.name||!f.brand||!f.model){alert("Preencha os campos obrigatrios");return}if(A){const{error:_}=await pe.from("equipments").update(f).eq("id",A.id);if(_)throw _}else{const{error:_}=await pe.from("equipments").insert([f]);if(_)throw _}await x(),b()}catch(_){console.error("Error saving equipment:",_),alert("Erro ao salvar equipamento")}},p=async _=>{if(confirm("Tem certeza que deseja excluir este equipamento?"))try{const{error:B}=await pe.from("equipments").delete().eq("id",_);if(B)throw B;await x()}catch(B){console.error("Error deleting equipment:",B),alert("Erro ao excluir equipamento")}},y=_=>{h(_),g({name:_.name,type:_.type,brand:_.brand,model:_.model,serial_number:_.serial_number||"",status:_.status||"active",location:_.location||"",notes:_.notes||""}),u(!0)},b=()=>{u(!1),h(null),g({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""})},N=_=>({ar_condicionado:"Ar Condicionado",refrigeracao:"Refrigerao",eletrica:"Eltrica",hidraulica:"Hidrulica",outros:"Outros"})[_]||_,j=e.filter(_=>{const B=_.name.toLowerCase().includes(i.toLowerCase())||_.brand.toLowerCase().includes(i.toLowerCase())||_.model.toLowerCase().includes(i.toLowerCase()),T=l==="all"||_.type===l;return B&&T}),C=["ar_condicionado","refrigeracao","eletrica","hidraulica","outros"],k={total:e.length,byCategory:C.reduce((_,B)=>(_[B]=e.filter(T=>T.type===B).length,_),{})};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catlogo de Equipamentos"}),s.jsx("p",{className:"text-gray-600",children:"Gesto de equipamentos e especificaes tcnicas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.total})]}),s.jsx(jt,{className:"w-10 h-10 text-blue-500"})]})}),C.slice(0,4).map(_=>s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:N(_)}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k.byCategory[_]||0})]})},_))]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar equipamentos...",value:i,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Categorias"}),C.map(_=>s.jsx("option",{value:_,children:N(_)},_))]})]}),s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5"}),"Novo Equipamento"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marca"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modelo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(_=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:N(_.type)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:_.brand})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:_.model})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:_.notes})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>y(_),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Rr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>p(_.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Ct,{className:"w-5 h-5"})})]})})]},_.id))})]}),j.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum equipamento encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo equipamento."})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:A?"Editar Equipamento":"Novo Equipamento"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),s.jsx("input",{type:"text",value:f.name,onChange:_=>g({...f,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria *"}),s.jsx("select",{value:f.type,onChange:_=>g({...f,type:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:C.map(_=>s.jsx("option",{value:_,children:N(_)},_))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),s.jsx("input",{type:"text",value:f.brand,onChange:_=>g({...f,brand:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),s.jsx("input",{type:"text",value:f.model,onChange:_=>g({...f,model:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero de Srie"}),s.jsx("input",{type:"text",value:f.serial_number,onChange:_=>g({...f,serial_number:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),s.jsx("input",{type:"text",value:f.location,onChange:_=>g({...f,location:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:f.notes,onChange:_=>g({...f,notes:_.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},CHe=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState(""),[o,l]=P.useState(!1),[c,d]=P.useState(null),[u,A]=P.useState("all"),[h,f]=P.useState(!1),[g,x]=P.useState(!1),[m,p]=P.useState(""),[y,b]=P.useState(""),[N,j]=P.useState({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""});P.useEffect(()=>{C()},[]);const C=async()=>{try{n(!0);const{data:U,error:M}=await pe.from("suppliers").select("*").order("name");if(M)throw M;e(U||[])}catch(U){console.error("Error loading suppliers:",U)}finally{n(!1)}},k=async()=>{try{if(!N.name){alert("Nome  obrigatrio!");return}const U={name:N.name,cnpj:N.cnpj||null,email:N.email||null,phone:N.phone||null,address:N.address||null,contact_person:N.contact_person||null,payment_terms:N.payment_terms||null,notes:N.notes||null,active:N.active};if(c){const{error:M}=await pe.from("suppliers").update(U).eq("id",c.id);if(M)throw M}else{const{error:M}=await pe.from("suppliers").insert([U]);if(M)throw M}l(!1),d(null),w(),C()}catch(U){console.error("Error saving supplier:",U),alert("Erro ao salvar fornecedor!")}},_=U=>{d(U),j({name:U.name,cnpj:U.cnpj||"",email:U.email||"",phone:U.phone||"",address:U.address||"",contact_person:U.contact_person||"",payment_terms:U.payment_terms||"",active:U.active,notes:U.notes||""}),l(!0)},B=async U=>{if(confirm("Deseja realmente excluir este fornecedor?"))try{const{error:M}=await pe.from("suppliers").delete().eq("id",U);if(M)throw M;C()}catch(M){console.error("Error deleting supplier:",M),alert("Erro ao excluir fornecedor!")}},T=async(U,M)=>{try{const{error:Q}=await pe.from("suppliers").update({active:!M}).eq("id",U);if(Q)throw Q;C()}catch(Q){console.error("Error updating status:",Q)}},w=()=>{j({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""}),p(""),b("")},E=async()=>{if(!N.cnpj){p("Digite um CNPJ");return}if(N.cnpj.replace(/\D/g,"").length!==14){p("CNPJ deve ter 14 dgitos");return}f(!0),p("");try{const M=await Nz(N.cnpj);M&&j(Q=>({...Q,name:M.nome_fantasia||M.razao_social||Q.name,email:M.email||Q.email,phone:M.telefone||Q.phone,address:M.logradouro?`${M.logradouro}, ${M.numero||"S/N"}`:Q.address}))}catch(M){p(M instanceof Error?M.message:"Erro ao buscar CNPJ")}finally{f(!1)}},D=U=>{const M=_z(U);j({...N,cnpj:M}),p("")},O=t.filter(U=>{var q;const M=U.name.toLowerCase().includes(a.toLowerCase())||((q=U.cnpj)==null?void 0:q.toLowerCase().includes(a.toLowerCase())),Q=u==="all"||u==="active"&&U.active||u==="inactive"&&!U.active;return M&&Q}),L={total:t.length,active:t.filter(U=>U.active).length,inactive:t.filter(U=>!U.active).length};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(yl,{className:"h-8 w-8 text-blue-600"}),"Gesto de Fornecedores"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie seus fornecedores e parceiros"})]}),s.jsxs("button",{onClick:()=>{d(null),w(),l(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Novo Fornecedor"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(yl,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.total})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(On,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.active})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:s.jsx(ed,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Inativos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.inactive})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar fornecedores...",value:a,onChange:U=>i(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:u,onChange:U=>A(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"active",children:"Ativos"}),s.jsx("option",{value:"inactive",children:"Inativos"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(U=>s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`p-6 rounded-xl border-2 transition-all ${U.active?"bg-white border-gray-200 hover:border-blue-300":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900 truncate",children:U.name}),U.name&&s.jsx("p",{className:"text-sm text-gray-600 truncate",children:U.name})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap ml-2 ${U.active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:U.active?"Ativo":"Inativo"})]}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[U.cnpj&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(yl,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:U.cnpj})]}),U.email&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(yn,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:U.email})]}),U.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(qn,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{children:U.phone})]}),U.address&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Ra,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:U.address})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>_(U),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>T(U.id,U.active),className:`px-3 py-2 rounded-lg transition-colors ${U.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:U.active?"Desativar":"Ativar",children:U.active?s.jsx(ed,{className:"h-4 w-4"}):s.jsx(On,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>B(U.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]},U.id))}),O.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yl,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum fornecedor encontrado"})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-3xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Editar Fornecedor":"Novo Fornecedor"}),s.jsx("button",{onClick:()=>{l(!1),d(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ed,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia *"}),s.jsx("input",{type:"text",value:N.name,onChange:U=>j({...N,name:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Materiais Premium Ltda"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:N.cnpj,onChange:U=>D(U.target.value),onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),E())},className:`w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m?"border-red-500":"border-gray-300"}`,placeholder:"00.000.000/0000-00",maxLength:18}),s.jsx("button",{type:"button",onClick:E,disabled:h||!N.cnpj,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar CNPJ",children:h?s.jsx(gx,{className:"w-5 h-5 animate-spin"}):s.jsx(zr,{className:"w-5 h-5"})})]}),m&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:N.email,onChange:U=>j({...N,email:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@fornecedor.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:N.phone,onChange:U=>j({...N,phone:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),s.jsx("input",{type:"text",value:N.contact_person,onChange:U=>j({...N,contact_person:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do responsvel"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo"}),s.jsx("input",{type:"text",value:N.address,onChange:U=>j({...N,address:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condies de Pagamento"}),s.jsx("input",{type:"text",value:N.payment_terms,onChange:U=>j({...N,payment_terms:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 30 dias,  vista, etc"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),s.jsx("textarea",{value:N.notes,onChange:U=>j({...N,notes:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais..."})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[s.jsx("input",{type:"checkbox",id:"ativo",checked:N.active,onChange:U=>j({...N,active:U.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"ativo",className:"text-sm font-medium text-gray-700",children:"Fornecedor ativo"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{l(!1),d(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:k,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(On,{className:"h-4 w-4"}),"Salvar"]})]})]})})]})},BHe=({isOpen:t,onClose:e,onSave:r,scheduleId:n})=>{const[a,i]=P.useState(!1),[o,l]=P.useState([]),[c,d]=P.useState({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""});P.useEffect(()=>{t&&(u(),n&&A())},[t,n]);const u=async()=>{try{const{data:p}=await pe.from("inventory_items").select("id, name, supplier_name, unit_cost, min_quantity").eq("active",!0).order("name");l(p||[])}catch(p){console.error("Error loading inventory:",p)}},A=async()=>{if(n)try{const{data:p,error:y}=await pe.from("purchase_schedules").select("*").eq("id",n).single();if(y)throw y;p&&d({schedule_name:p.schedule_name||"",inventory_id:p.inventory_id||"",supplier_name:p.supplier_name||"",frequency:p.frequency||"monthly",quantity:p.quantity||0,unit_price:p.unit_price||0,next_order_date:p.next_order_date||new Date().toISOString().split("T")[0],active:p.active!==!1,notes:p.notes||""})}catch(p){console.error("Error loading schedule:",p),alert("Erro ao carregar programao")}},h=p=>{const y=o.find(b=>b.id===p);y&&d(b=>({...b,inventory_id:p,supplier_name:y.supplier_name||"",unit_price:y.unit_cost||0,quantity:y.min_quantity*2||10,schedule_name:`Compra Recorrente - ${y.name}`}))},f=async p=>{try{const y=o.find(b=>b.id===p.inventory_id);if(!y)return;await pe.from("agenda_events").insert([{title:`Compra Programada: ${y.name}`,description:`Programao automtica de compra
Quantidade: ${p.quantity}
Fornecedor: ${p.supplier_name}
Valor: R$ ${(p.quantity*p.unit_price).toFixed(2)}`,start_date:p.next_order_date,end_date:p.next_order_date,type:"purchase",status:"pending",all_day:!0,color:"#f59e0b",metadata:{schedule_id:n,inventory_id:p.inventory_id,supplier:p.supplier_name,quantity:p.quantity,unit_price:p.unit_price}}])}catch(y){console.error("Error creating agenda event:",y)}},g=async()=>{if(!c.schedule_name||!c.inventory_id||c.quantity<=0){alert("Preencha todos os campos obrigatrios");return}i(!0);try{const p={schedule_name:c.schedule_name,inventory_id:c.inventory_id,supplier_name:c.supplier_name,frequency:c.frequency,quantity:c.quantity,unit_price:c.unit_price,next_order_date:c.next_order_date,active:c.active,notes:c.notes,updated_at:new Date().toISOString()};if(n){const{error:y}=await pe.from("purchase_schedules").update(p).eq("id",n);if(y)throw y}else{const{data:y,error:b}=await pe.from("purchase_schedules").insert([p]).select().single();if(b)throw b;await f(y)}alert("Programao salva com sucesso!"),r(),e(),x()}catch(p){console.error("Error saving schedule:",p),alert("Erro ao salvar programao")}finally{i(!1)}},x=()=>{d({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""})},m=[{value:"daily",label:"Diria"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?s.jsx(it,{children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ea,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold",children:[n?"Editar":"Nova"," Programao de Compra"]}),s.jsx("p",{className:"text-sm text-blue-100",children:"Compras automticas recorrentes"})]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Kn,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Programao Automtica"}),s.jsx("p",{children:"Esta compra ser criada automaticamente na agenda na data especificada e se repetir na frequncia escolhida."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(jt,{className:"inline h-4 w-4 mr-1"}),"Item do Estoque *"]}),s.jsxs("select",{value:c.inventory_id,onChange:p=>h(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um item..."}),o.map(p=>s.jsxs("option",{value:p.id,children:[p.name," - ",p.supplier_name||"Sem fornecedor"]},p.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programao *"}),s.jsx("input",{type:"text",value:c.schedule_name,onChange:p=>d(y=>({...y,schedule_name:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Compra Mensal de Cabos",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor *"}),s.jsx("input",{type:"text",value:c.supplier_name,onChange:p=>d(y=>({...y,supplier_name:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ea,{className:"inline h-4 w-4 mr-1"}),"Frequncia *"]}),s.jsx("select",{value:c.frequency,onChange:p=>d(y=>({...y,frequency:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:m.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade *"}),s.jsx("input",{type:"number",value:c.quantity,onChange:p=>d(y=>({...y,quantity:parseFloat(p.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Xt,{className:"inline h-4 w-4 mr-1"}),"Preo Unitrio (R$)"]}),s.jsx("input",{type:"number",value:c.unit_price,onChange:p=>d(y=>({...y,unit_price:parseFloat(p.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Jt,{className:"inline h-4 w-4 mr-1"}),"Prxima Compra *"]}),s.jsx("input",{type:"date",value:c.next_order_date,onChange:p=>d(y=>({...y,next_order_date:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.active,onChange:p=>d(y=>({...y,active:p.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Programao Ativa"})]})}),c.quantity>0&&c.unit_price>0&&s.jsx("div",{className:"md:col-span-2 bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Valor Total Estimado:"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",(c.quantity*c.unit_price).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),s.jsx("textarea",{value:c.notes,onChange:p=>d(y=>({...y,notes:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais sobre esta programao..."})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:g,disabled:a,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Qt,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programao"]})]})]})})}):null},SHe=({isOpen:t,onClose:e,onSave:r,scheduleId:n})=>{const[a,i]=P.useState(!1),[o,l]=P.useState([]),[c,d]=P.useState({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0});P.useEffect(()=>{t&&(u(),n&&A())},[t,n]);const u=async()=>{try{const{data:m}=await pe.from("customers").select("id, nome_razao, email, telefone").order("nome_razao");l(m||[])}catch(m){console.error("Error loading customers:",m)}},A=async()=>{if(n)try{const{data:m,error:p}=await pe.from("rental_schedules").select("*").eq("id",n).single();if(p)throw p;m&&d({schedule_name:m.schedule_name||"",customer_id:m.customer_id||"",equipment_name:m.equipment_name||"",frequency:m.frequency||"monthly",rental_value:m.rental_value||0,start_date:m.start_date||new Date().toISOString().split("T")[0],end_date:m.end_date||"",next_billing_date:m.next_billing_date||new Date().toISOString().split("T")[0],active:m.active!==!1,notes:m.notes||"",auto_generate_invoice:m.auto_generate_invoice!==!1})}catch(m){console.error("Error loading schedule:",m),alert("Erro ao carregar programao de locao")}},h=async m=>{try{const p=o.find(y=>y.id===m.customer_id);if(!p)return;await pe.from("agenda_events").insert([{title:`Locao: ${m.equipment_name}`,description:`Cliente: ${p.nome_razao}
Equipamento: ${m.equipment_name}
Valor: R$ ${m.rental_value.toFixed(2)}
Faturamento automtico: ${m.auto_generate_invoice?"Sim":"No"}`,start_date:m.next_billing_date,end_date:m.next_billing_date,type:"rental",status:"pending",all_day:!0,color:"#8b5cf6",customer_id:m.customer_id,metadata:{schedule_id:n,customer_id:m.customer_id,equipment_name:m.equipment_name,rental_value:m.rental_value,auto_generate_invoice:m.auto_generate_invoice}}])}catch(p){console.error("Error creating agenda event:",p)}},f=async()=>{if(!c.schedule_name||!c.customer_id||!c.equipment_name||c.rental_value<=0){alert("Preencha todos os campos obrigatrios");return}i(!0);try{const m={schedule_name:c.schedule_name,customer_id:c.customer_id,equipment_name:c.equipment_name,frequency:c.frequency,rental_value:c.rental_value,start_date:c.start_date,end_date:c.end_date||null,next_billing_date:c.next_billing_date,active:c.active,notes:c.notes,auto_generate_invoice:c.auto_generate_invoice,updated_at:new Date().toISOString()};if(n){const{error:p}=await pe.from("rental_schedules").update(m).eq("id",n);if(p)throw p}else{const{data:p,error:y}=await pe.from("rental_schedules").insert([m]).select().single();if(y)throw y;await h(p)}alert("Programao de locao salva com sucesso!"),r(),e(),g()}catch(m){console.error("Error saving rental schedule:",m),alert("Erro ao salvar programao de locao")}finally{i(!1)}},g=()=>{d({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0})},x=[{value:"daily",label:"Diria"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?s.jsx(it,{children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_E,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold",children:[n?"Editar":"Nova"," Programao de Locao"]}),s.jsx("p",{className:"text-sm text-purple-100",children:"Locaes e faturamentos recorrentes"})]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Kn,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-purple-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Faturamento Automtico"}),s.jsx("p",{children:"Esta locao ser lanada automaticamente na agenda e pode gerar receitas financeiras na data especificada."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programao *"}),s.jsx("input",{type:"text",value:c.schedule_name,onChange:m=>d(p=>({...p,schedule_name:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Locao Mensal - Escavadeira",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),s.jsxs("select",{value:c.customer_id,onChange:m=>d(p=>({...p,customer_id:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(m=>s.jsx("option",{value:m.id,children:m.nome_razao},m.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(jt,{className:"inline h-4 w-4 mr-1"}),"Equipamento/Servio *"]}),s.jsx("input",{type:"text",value:c.equipment_name,onChange:m=>d(p=>({...p,equipment_name:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Nome do equipamento ou servio locado",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ea,{className:"inline h-4 w-4 mr-1"}),"Frequncia *"]}),s.jsx("select",{value:c.frequency,onChange:m=>d(p=>({...p,frequency:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:x.map(m=>s.jsx("option",{value:m.value,children:m.label},m.value))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Xt,{className:"inline h-4 w-4 mr-1"}),"Valor da Locao (R$) *"]}),s.jsx("input",{type:"number",value:c.rental_value,onChange:m=>d(p=>({...p,rental_value:parseFloat(m.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Jt,{className:"inline h-4 w-4 mr-1"}),"Data de Incio *"]}),s.jsx("input",{type:"date",value:c.start_date,onChange:m=>d(p=>({...p,start_date:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Trmino (Opcional)"}),s.jsx("input",{type:"date",value:c.end_date,onChange:m=>d(p=>({...p,end_date:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prximo Faturamento *"}),s.jsx("input",{type:"date",value:c.next_billing_date,onChange:m=>d(p=>({...p,next_billing_date:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.active,onChange:m=>d(p=>({...p,active:m.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ativa"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.auto_generate_invoice,onChange:m=>d(p=>({...p,auto_generate_invoice:m.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gerar Receita"})]})]}),c.rental_value>0&&s.jsx("div",{className:"md:col-span-2 bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Valor por Perodo:"}),s.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["R$ ",c.rental_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),s.jsx("textarea",{value:c.notes,onChange:m=>d(p=>({...p,notes:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Informaes adicionais sobre esta locao..."})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:f,disabled:a,className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Qt,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programao"]})]})]})})}):null},EHe=()=>{const[t,e]=P.useState([]),[r,n]=P.useState([]),[a,i]=P.useState(!0),[o,l]=P.useState("all"),[c,d]=P.useState(""),[u,A]=P.useState("alerts"),[h,f]=P.useState(!1),[g,x]=P.useState(!1);P.useEffect(()=>{m()},[]);const m=async()=>{try{i(!0),await Promise.all([p(),y()])}catch(w){console.error("Error loading data:",w)}finally{i(!1)}},p=async()=>{const{data:w}=await pe.from("purchase_orders").select("*").order("created_at",{ascending:!1}).limit(100);e(w||[])},y=async()=>{try{const{data:w,error:E}=await pe.rpc("get_items_needing_purchase");if(E)throw E;n(w||[])}catch(w){console.error("Error loading low stock items:",w)}},b=w=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",ordered:"bg-purple-100 text-purple-800",partial:"bg-orange-100 text-orange-800",received:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[w]||"bg-gray-100 text-gray-800",N=w=>({draft:"Rascunho",pending:"Pendente",approved:"Aprovado",ordered:"Pedido Feito",partial:"Parcial",received:"Recebido",cancelled:"Cancelado"})[w]||w,j=w=>({low:"text-gray-500",normal:"text-blue-500",high:"text-orange-500",urgent:"text-red-500"})[w]||"text-gray-500",C=w=>({critical:"bg-red-600 text-white",urgent:"bg-orange-500 text-white",normal:"bg-yellow-500 text-white",low:"bg-blue-500 text-white"})[w]||"bg-gray-500 text-white",k=w=>({critical:"CRTICO",urgent:"URGENTE",normal:"NORMAL",low:"BAIXA"})[w]||w,_=t.filter(w=>{const E=w.order_number.toLowerCase().includes(c.toLowerCase())||w.supplier_name.toLowerCase().includes(c.toLowerCase()),D=o==="all"||w.status===o;return E&&D}),B={totalOrders:t.length,pendingOrders:t.filter(w=>w.status==="pending"||w.status==="approved").length,criticalItems:r.filter(w=>w.urgency==="critical").length,totalAlerts:r.length,pendingValue:t.filter(w=>w.status==="pending"||w.status==="approved").reduce((w,E)=>w+(E.final_amount||0),0)},T=async w=>{try{const{data:E}=await pe.rpc("generate_purchase_order_number"),D=E||`PO${Date.now()}`,O=w.supplier||"A Definir",L=w.unit_price||w.estimated_cost/w.recommended_order_qty,{data:U,error:M}=await pe.from("purchase_orders").insert([{order_number:D,supplier_name:O,status:"draft",priority:w.urgency==="critical"?"urgent":w.urgency==="urgent"?"high":"normal",order_date:new Date().toISOString().split("T")[0],notes:`Pedido automtico - ${w.item_name}
Categoria: ${w.category||"N/A"}
Localizao: ${w.location||"N/A"}
Estoque Atual: ${w.current_stock}
Estoque Mnimo: ${w.min_stock}
Dias at ruptura: ${w.days_until_stockout||"N/A"}`}]).select().single();if(M)throw M;const{error:Q}=await pe.from("purchase_order_items").insert([{purchase_order_id:U.id,inventory_id:w.inventory_id,item_name:w.item_name,quantity:w.recommended_order_qty,unit_price:L,urgency_level:w.urgency}]);if(Q)throw Q;alert(` Pedido ${D} criado com sucesso!

Fornecedor: ${O}
Quantidade: ${w.recommended_order_qty}
Valor: R$ ${w.estimated_cost.toFixed(2)}`),await m()}catch(E){console.error("Error creating purchase order:",E),alert("Erro ao criar pedido de compra")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Th,{className:"h-8 w-8 text-blue-600"}),"Departamento de Compras"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gesto completa de pedidos e alertas de estoque"})]}),s.jsxs("button",{onClick:()=>alert("Modal de novo pedido em desenvolvimento"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all",children:[s.jsx(xt,{className:"h-5 w-5"}),"Novo Pedido"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(mt,{className:"h-8 w-8 text-blue-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:B.totalOrders}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Pedidos"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(Mt,{className:"h-8 w-8 text-yellow-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:B.pendingOrders}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Pendentes"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(ns,{className:"h-8 w-8 text-red-500 animate-pulse mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-red-600",children:B.criticalItems}),s.jsx("p",{className:"text-sm text-gray-600",children:"Itens Crticos"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(jt,{className:"h-8 w-8 text-orange-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:B.totalAlerts}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Alertas"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(Xt,{className:"h-8 w-8 text-green-500 mb-2"}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["R$ ",B.pendingValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Pendente"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b",children:[s.jsxs("button",{onClick:()=>A("alerts"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="alerts"?"bg-red-50 text-red-600 border-b-2 border-red-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(ns,{className:"h-5 w-5"}),s.jsxs("span",{className:"font-medium",children:["Alertas de Estoque (",B.totalAlerts,")"]})]}),s.jsxs("button",{onClick:()=>A("orders"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="orders"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Th,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Pedidos de Compra"})]}),s.jsxs("button",{onClick:()=>A("schedules"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="schedules"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Mt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Programao"})]}),s.jsxs("button",{onClick:()=>A("quotes"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="quotes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(mt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Cotaes"})]})]}),s.jsxs("div",{className:"p-6",children:[u==="alerts"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(ns,{className:"h-6 w-6 text-red-600 animate-pulse"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-red-900",children:[B.criticalItems," ",B.criticalItems===1?"Item Crtico":"Itens Crticos"," Necessitando Ateno Imediata"]}),s.jsx("p",{className:"text-sm text-red-700",children:'Clique em "Criar Pedido" para gerar automaticamente um pedido de compra'})]})]}),r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Urgncia"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fornecedor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estoque"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Qtd. Recomendada"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Preo Unit."}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aes"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${C(w.urgency)}`,children:k(w.urgency)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:w.item_name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[w.category||"Sem categoria","  ",w.location||"Sem local"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:w.supplier||"A definir"}),w.last_purchase_date&&s.jsxs("div",{className:"text-xs text-gray-500",children:["ltima compra: ",new Date(w.last_purchase_date).toLocaleDateString("pt-BR")]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-red-600",children:w.current_stock})," ",s.jsxs("span",{className:"text-gray-500",children:["/ ",w.min_stock]})]}),w.days_until_stockout!==null&&w.days_until_stockout<30&&s.jsxs("div",{className:"text-xs text-orange-600 font-medium",children:[" ",w.days_until_stockout," dias"]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:w.recommended_order_qty}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["R$ ",(w.unit_price||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-green-600",children:["R$ ",w.estimated_cost.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("button",{onClick:()=>T(w),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2 ml-auto",children:[s.jsx(Th,{className:"h-4 w-4"}),"Criar Pedido"]})})]},w.inventory_id))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Do,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tudo Certo!"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum item necessitando compra no momento"})]})]}),u==="orders"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:w=>d(w.target.value),placeholder:"Buscar por nmero ou fornecedor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"draft",children:"Rascunho"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"approved",children:"Aprovado"}),s.jsx("option",{value:"ordered",children:"Pedido Feito"}),s.jsx("option",{value:"received",children:"Recebido"}),s.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),_.length>0?s.jsx("div",{className:"space-y-3",children:_.map(w=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.order_number}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b(w.status)}`,children:N(w.status)}),s.jsxs("span",{className:`text-sm font-medium ${j(w.priority)}`,children:[w.priority==="urgent"&&" URGENTE",w.priority==="high"&&" ALTA",w.priority==="normal"&&" NORMAL",w.priority==="low"&&" BAIXA"]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:["Fornecedor: ",s.jsx("span",{className:"font-medium text-gray-900",children:w.supplier_name})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{children:["Data: ",new Date(w.order_date).toLocaleDateString("pt-BR")]}),w.expected_delivery_date&&s.jsxs("span",{children:["Entrega Prevista: ",new Date(w.expected_delivery_date).toLocaleDateString("pt-BR")]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",w.final_amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("button",{className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1",children:[s.jsx(xs,{className:"h-4 w-4"}),"Ver Detalhes"]})]})]})},w.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Th,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),s.jsx("p",{className:"text-gray-600",children:"Crie seu primeiro pedido de compra"})]})]}),u==="schedules"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-8 border-2 border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:s.jsx(ea,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programao de Compra"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Compras recorrentes automticas"})]})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Configure compras automticas de materiais com base em perodos fixos. O sistema gerar pedidos automaticamente e criar eventos na agenda."}),s.jsxs("button",{onClick:()=>f(!0),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[s.jsx(xt,{className:"h-5 w-5"}),"Nova Programao de Compra"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-8 border-2 border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:s.jsx(_E,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programao de Locao"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Locaes e faturamentos recorrentes"})]})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Configure locaes de equipamentos com faturamento automtico. O sistema pode gerar receitas financeiras automaticamente na agenda."}),s.jsxs("button",{onClick:()=>x(!0),className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[s.jsx(xt,{className:"h-5 w-5"}),"Nova Programao de Locao"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Programaes Ativas"}),s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Mt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Nenhuma programao cadastrada ainda"}),s.jsx("p",{className:"text-sm",children:"Crie sua primeira programao usando os botes acima"})]})]})]}),u==="quotes"&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cotaes de Fornecedores"}),s.jsx("p",{className:"text-gray-600",children:"Compare preos e condies de diferentes fornecedores"}),s.jsx("button",{className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Nova Cotao"})]})]})]}),s.jsx(BHe,{isOpen:h,onClose:()=>f(!1),onSave:()=>{f(!1),m()}}),s.jsx(SHe,{isOpen:g,onClose:()=>x(!1),onSave:()=>{x(!1),m()}})]})},kHe=({onRouteSelect:t})=>{const[e,r]=P.useState([]),[n,a]=P.useState([]),[i,o]=P.useState(!0),[l,c]=P.useState(!1),[d,u]=P.useState(null),[A,h]=P.useState([]),[f,g]=P.useState("today"),[x,m]=P.useState({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""});P.useEffect(()=>{p(),y()},[f]);const p=async()=>{try{o(!0);let T=pe.from("routes").select(`
          *,
          route_stops(count)
        `).order("route_date",{ascending:!1}).order("created_at",{ascending:!1});if(f==="today"){const O=new Date().toISOString().split("T")[0];T=T.eq("route_date",O)}else f!=="all"&&(T=T.eq("status",f));const{data:w,error:E}=await T;if(E)throw E;const D=await Promise.all((w||[]).map(async O=>{var U,M;let L="No atribudo";if(O.assigned_employee_id){const{data:Q}=await pe.from("employees").select("name").eq("id",O.assigned_employee_id).single();Q&&(L=Q.name)}return{...O,employee_name:L,stop_count:((M=(U=O.route_stops)==null?void 0:U[0])==null?void 0:M.count)||0}}));r(D)}catch(T){console.error("Error loading routes:",T)}finally{o(!1)}},y=async()=>{try{const{data:T}=await pe.from("employees").select("id, name").eq("active",!0).order("name");a(T||[])}catch(T){console.error("Error loading employees:",T)}},b=async T=>{try{const{data:w,error:E}=await pe.from("route_stops").select("*").eq("route_id",T).order("stop_order");if(E)throw E;h(w||[])}catch(w){console.error("Error loading stops:",w)}},N=async()=>{if(!x.route_name){alert("Nome da rota  obrigatrio!");return}try{const{error:T}=await pe.from("routes").insert([x]);if(T)throw T;await p(),m({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""}),c(!1)}catch(T){console.error("Error creating route:",T),alert("Erro ao criar rota!")}},j=async(T,w)=>{var E;try{const D={status:w};if(w==="in_progress"&&!((E=e.find(L=>L.id===T))!=null&&E.start_time)&&(D.start_time=new Date().toISOString()),w==="completed"){D.end_time=new Date().toISOString();const L=e.find(U=>U.id===T);if(L!=null&&L.start_time){const U=new Date(L.start_time),M=new Date;D.actual_duration_minutes=Math.round((M.getTime()-U.getTime())/6e4)}}const{error:O}=await pe.from("routes").update(D).eq("id",T);if(O)throw O;await p()}catch(D){console.error("Error updating status:",D),alert("Erro ao atualizar status!")}},C=async T=>{if(confirm("Deseja realmente excluir esta rota?"))try{const{error:w}=await pe.from("routes").delete().eq("id",T);if(w)throw w;await p()}catch(w){console.error("Error deleting route:",w),alert("Erro ao excluir rota!")}},k=T=>{u(T===d?null:T),T!==d&&(b(T),t&&t(T))},_=T=>{switch(T){case"pending":return{label:"Pendente",icon:Mt,color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-800"};case"in_progress":return{label:"Em Andamento",icon:wT,color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-800"};case"completed":return{label:"Concluda",icon:Do,color:"green",bgColor:"bg-green-100",textColor:"text-green-800"};case"cancelled":return{label:"Cancelada",icon:sae,color:"red",bgColor:"bg-red-100",textColor:"text-red-800"};default:return{label:T,icon:Mt,color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-800"}}},B=T=>new Date(T).toLocaleDateString("pt-BR");return i?s.jsx("div",{className:"text-center py-8",children:"Carregando rotas..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gesto de Rotas"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Planeje e acompanhe as rotas da equipe"})]}),s.jsxs("button",{onClick:()=>c(!l),className:"px-6 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 flex items-center gap-2 transition-colors font-semibold",children:[s.jsx(xt,{className:"h-5 w-5"}),"Nova Rota"]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium",children:"Filtrar:"}),s.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="all"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Todas"}),s.jsx("button",{onClick:()=>g("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="today"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Hoje"}),s.jsx("button",{onClick:()=>g("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="pending"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Pendentes"}),s.jsx("button",{onClick:()=>g("in_progress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="in_progress"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Em Andamento"}),s.jsx("button",{onClick:()=>g("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="completed"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Concludas"})]})]}),s.jsx(it,{children:l&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(c0,{className:"h-5 w-5 text-blue-600"}),"Nova Rota"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Rota *"}),s.jsx("input",{type:"text",value:x.route_name,onChange:T=>m({...x,route_name:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rota Centro - Manh"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data"}),s.jsx("input",{type:"date",value:x.route_date,onChange:T=>m({...x,route_date:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funcionrio"}),s.jsxs("select",{value:x.assigned_employee_id,onChange:T=>m({...x,assigned_employee_id:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),n.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veculo/Placa"}),s.jsx("input",{type:"text",value:x.vehicle_id,onChange:T=>m({...x,vehicle_id:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: ABC-1234"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durao Estimada (minutos)"}),s.jsx("input",{type:"number",value:x.estimated_duration_minutes,onChange:T=>m({...x,estimated_duration_minutes:parseInt(T.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),s.jsx("textarea",{value:x.notes,onChange:T=>m({...x,notes:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Observaes sobre a rota..."})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Rota"})]})]})}),e.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(c0,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma rota encontrada"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Clique em "Nova Rota" para comear'})]}):s.jsx("div",{className:"space-y-4",children:e.map(T=>{const w=_(T.status),E=w.icon,D=d===T.id;return s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{onClick:()=>k(T.id),className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:T.route_name}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w.bgColor} ${w.textColor}`,children:[s.jsx(E,{className:"h-3 w-3 inline mr-1"}),w.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Ra,{className:"h-3 w-3"}),"Data:"]}),s.jsx("p",{className:"font-medium",children:B(T.route_date)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(vn,{className:"h-3 w-3"}),"Responsvel:"]}),s.jsx("p",{className:"font-medium",children:T.employee_name})]}),T.vehicle_id&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(o9,{className:"h-3 w-3"}),"Veculo:"]}),s.jsx("p",{className:"font-medium",children:T.vehicle_id})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Ra,{className:"h-3 w-3"}),"Paradas:"]}),s.jsx("p",{className:"font-medium",children:T.stop_count})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),"Distncia:"]}),s.jsxs("p",{className:"font-medium",children:[T.total_distance_km," km"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[T.status==="pending"&&s.jsx("button",{onClick:O=>{O.stopPropagation(),j(T.id,"in_progress")},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Iniciar rota",children:s.jsx(wT,{className:"h-5 w-5"})}),T.status==="in_progress"&&s.jsx("button",{onClick:O=>{O.stopPropagation(),j(T.id,"completed")},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Concluir rota",children:s.jsx(Do,{className:"h-5 w-5"})}),s.jsx("button",{onClick:O=>{O.stopPropagation(),C(T.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir rota",children:s.jsx(Ct,{className:"h-5 w-5"})})]})]})}),s.jsx(it,{children:D&&s.jsxs(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 bg-gray-50 p-6",children:[s.jsxs("h5",{className:"font-semibold mb-4",children:["Paradas da Rota (",A.length,")"]}),A.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma parada adicionada ainda"}):s.jsx("div",{className:"space-y-3",children:A.map((O,L)=>s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold",children:L+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h6",{className:"font-medium text-gray-900",children:O.customer_name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.address}),O.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:O.notes})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${_(O.status).bgColor} ${_(O.status).textColor}`,children:_(O.status).label})]})},O.id))})]})})]},T.id)})})]})},PHe=()=>{const[t,e]=P.useState(null);return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:s.jsx(c0,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rastreamento e Gesto de Rotas"}),s.jsx("p",{className:"text-gray-600",children:"Planeje, acompanhe e gerencie as rotas da equipe em tempo real"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rotas Hoje"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0"})]}),s.jsx(Ra,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Em Andamento"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"})]}),s.jsx(c0,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"KM Hoje"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0"})]}),s.jsx(jr,{className:"h-12 w-12 text-green-500 opacity-20"})]})})]}),s.jsx(kHe,{onRouteSelect:e}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Como funciona o rastreamento em tempo real?"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"1. Planejamento:"})," Crie rotas e adicione as paradas (ordens de servio) em sequncia"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2. Atribuio:"})," Designe um funcionrio e veculo para cada rota"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3. Rastreamento:"})," Quando a rota  iniciada, o sistema registra a localizao em tempo real"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"4. Otimizao:"})," Visualize o progresso, distncia percorrida e tempo estimado"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"5. Histrico:"})," Todo o trajeto fica registrado para anlise posterior"]})]})]}),s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:" Recursos Disponveis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-800",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Gesto de Rotas"}),s.jsx("p",{className:"text-purple-700",children:"Criar, editar e gerenciar rotas dirias"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Paradas Sequenciais"}),s.jsx("p",{className:"text-purple-700",children:"Adicionar ordens de servio em ordem"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Clculo de Distncia"}),s.jsx("p",{className:"text-purple-700",children:"Distncia total calculada automaticamente"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Status em Tempo Real"}),s.jsx("p",{className:"text-purple-700",children:"Acompanhe o progresso de cada rota"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Histrico Completo"}),s.jsx("p",{className:"text-purple-700",children:"Registros de todas as movimentaes"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:" Otimizao de Rotas"}),s.jsx("p",{className:"text-purple-700",children:"Sugestes de melhor sequncia"})]})]})]})]})})},FHe=(t,e)=>{const r=new ft,n=r.internal.pageSize.width,a=r.internal.pageSize.height;let i=20;const o=(u=20)=>i+u>a-20?(r.addPage(),i=20,!0):!1;r.setFillColor(41,128,185),r.rect(0,0,n,40,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.setFont("helvetica","bold"),r.text(t.title,15,25),i=50,r.setTextColor(0,0,0),r.setFillColor(245,245,245),r.rect(10,i-5,n-20,40,"F"),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Informaes do Documento",15,i+3),r.setFont("helvetica","normal"),r.setFontSize(9);const l=i+10;r.text(`Departamento: ${t.department}`,15,l),r.text(`Verso: ${t.version}`,n/2,l),t.category&&r.text(`Categoria: ${t.category}`,15,l+7),r.text(`Status: ${OHe(t.status)}`,n/2,l+7),r.text(`Criado em: ${new Date(t.createdAt).toLocaleDateString("pt-BR")}`,15,l+14),r.text(`Atualizado em: ${new Date(t.updatedAt).toLocaleDateString("pt-BR")}`,n/2,l+14),i+=48,t.description&&(o(20),r.setFontSize(11),r.setFont("helvetica","bold"),r.text("Descrio",15,i),i+=7,r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(t.description,n-30).forEach(A=>{o(),r.text(A,15,i),i+=5}),i+=5),t.tags&&t.tags.length>0&&(o(15),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Tags: ",15,i),r.setFont("helvetica","normal"),r.text(t.tags.join(", "),35,i),i+=10),o(20),r.setDrawColor(41,128,185),r.setLineWidth(.5),r.line(15,i,n-15,i),i+=10,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Contedo",15,i),i+=8,THe(t.content).forEach(u=>{o(u.height||15),u.type==="heading1"?(r.setFontSize(16),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=10):u.type==="heading2"?(r.setFontSize(14),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=8):u.type==="heading3"?(r.setFontSize(12),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=7):u.type==="paragraph"?(r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(u.text,n-30).forEach(h=>{o(),r.text(h,15,i),i+=5}),i+=3):u.type==="list"&&(r.setFontSize(10),r.setFont("helvetica","normal"),u.items.forEach(A=>{o(),r.text(" "+A,20,i),i+=5}),i+=3)}),i=a-30,r.setDrawColor(200,200,200),r.setLineWidth(.3),r.line(15,i,n-15,i),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Documento gerado em ${new Date().toLocaleString("pt-BR")}`,n/2,i+7,{align:"center"}),t.approvedBy&&t.approvedAt&&r.text(`Aprovado por: ${t.approvedBy} em ${new Date(t.approvedAt).toLocaleDateString("pt-BR")}`,n/2,i+12,{align:"center"});const d=r.getNumberOfPages();for(let u=1;u<=d;u++)r.setPage(u),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Pgina ${u} de ${d}`,n-15,a-10,{align:"right"});return r};function THe(t){const e=[],r=t.split(`
`);let n="",a=[];return r.forEach(i=>{const o=i.trim();o.startsWith("# ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading1",text:o.substring(2)})):o.startsWith("## ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading2",text:o.substring(3)})):o.startsWith("### ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading3",text:o.substring(4)})):o.startsWith("- ")||o.startsWith("* ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.push(o.substring(2))):o===""?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[])):(a.length>0&&(e.push({type:"list",items:a}),a=[]),n+=(n?" ":"")+o)}),n&&e.push({type:"paragraph",text:n.trim()}),a.length>0&&e.push({type:"list",items:a}),e}function OHe(t){return{draft:"Rascunho",review:"Em Reviso",approved:"Aprovado",archived:"Arquivado"}[t]||t}const IHe=()=>{const[t,e]=P.useState([]),[r,n]=P.useState([]),[a,i]=P.useState(!0),[o,l]=P.useState(""),[c,d]=P.useState("all"),[u,A]=P.useState("all"),[h,f]=P.useState(!1),[g,x]=P.useState(!1),[m,p]=P.useState(null),[y,b]=P.useState(null),[N,j]=P.useState({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""}),[C,k]=P.useState(""),_=["Operacional","Financeiro","Comercial","RH","TI","Geral"],B=[{value:"draft",label:"Rascunho",color:"gray",icon:Mt},{value:"review",label:"Em Reviso",color:"yellow",icon:xs},{value:"approved",label:"Aprovado",color:"green",icon:Do},{value:"archived",label:"Arquivado",color:"blue",icon:o4}];P.useEffect(()=>{T(),w()},[]);const T=async()=>{try{i(!0);const{data:R,error:K}=await pe.from("documents").select("*").order("updated_at",{ascending:!1});if(K)throw K;e(R||[])}catch(R){console.error("Erro ao carregar documentos:",R)}finally{i(!1)}},w=async()=>{try{const{data:R,error:K}=await pe.from("document_templates").select("*").eq("is_active",!0).order("name");if(K)throw K;n(R||[])}catch(R){console.error("Erro ao carregar templates:",R)}},E=R=>{j({...N,content:R.content_template,department:R.department,category:R.category||"",template_type:R.name}),x(!1),f(!0)},D=async()=>{try{if(m){const{error:R}=await pe.from("documents").update({title:N.title,description:N.description,content:N.content,department:N.department,category:N.category,status:N.status,tags:N.tags,updated_at:new Date().toISOString()}).eq("id",m.id);if(R)throw R}else{const{error:R}=await pe.from("documents").insert({title:N.title,description:N.description,content:N.content,department:N.department,category:N.category,status:N.status,tags:N.tags,template_type:N.template_type,version:1});if(R)throw R}await T(),M()}catch(R){console.error("Erro ao salvar documento:",R),alert("Erro ao salvar documento")}},O=R=>{p(R),j({title:R.title,description:R.description||"",content:R.content,department:R.department,category:R.category||"",status:R.status,tags:R.tags||[],template_type:R.template_type||""}),f(!0)},L=async R=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{const{error:K}=await pe.from("documents").delete().eq("id",R);if(K)throw K;await T()}catch(K){console.error("Erro ao excluir documento:",K),alert("Erro ao excluir documento")}},U=R=>{FHe({title:R.title,description:R.description,content:R.content,department:R.department,category:R.category,version:R.version,createdAt:R.created_at,updatedAt:R.updated_at,status:R.status,tags:R.tags}).save(`${R.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_v${R.version}.pdf`)},M=()=>{f(!1),p(null),j({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""})},Q=()=>{C.trim()&&!N.tags.includes(C.trim())&&(j({...N,tags:[...N.tags,C.trim()]}),k(""))},q=R=>{j({...N,tags:N.tags.filter(K=>K!==R)})},J=t.filter(R=>{var Ae;const K=R.title.toLowerCase().includes(o.toLowerCase())||((Ae=R.description)==null?void 0:Ae.toLowerCase().includes(o.toLowerCase()))||R.tags.some(ne=>ne.toLowerCase().includes(o.toLowerCase())),V=c==="all"||R.department===c,ae=u==="all"||R.status===u;return K&&V&&ae}),ee=R=>{const K=B.find(V=>V.value===R);return K?K.icon:Mt},$=R=>({draft:"bg-gray-100 text-gray-800",review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",archived:"bg-blue-100 text-blue-800"})[R]||"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Documentao"}),s.jsx("p",{className:"text-indigo-100",children:"Gerencie documentos departamentais e gere PDFs"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>x(!0),className:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-medium hover:bg-indigo-50 transition-colors flex items-center gap-2",children:[s.jsx(c4,{className:"h-5 w-5"}),"Usar Template"]}),s.jsxs("button",{onClick:()=>f(!0),className:"bg-indigo-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-400 transition-colors flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5"}),"Novo Documento"]})]})]})}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:o,onChange:R=>l(R.target.value),placeholder:"Buscar documentos, tags...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("select",{value:c,onChange:R=>d(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"Todos os Departamentos"}),_.map(R=>s.jsx("option",{value:R,children:R},R))]}),s.jsxs("select",{value:u,onChange:R=>A(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),B.map(R=>s.jsx("option",{value:R.value,children:R.label},R.value))]})]}),a?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando documentos..."})]}):J.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhum documento encontrado"}),s.jsx("button",{onClick:()=>f(!0),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Criar primeiro documento"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J.map(R=>{var V;const K=ee(R.status);return s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:R.title}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:R.description})]}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${$(R.status)}`,children:[s.jsx(K,{className:"h-3 w-3"}),(V=B.find(ae=>ae.value===R.status))==null?void 0:V.label]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mt,{className:"h-3 w-3"}),R.department]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(c4,{className:"h-3 w-3"}),"v",R.version]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),new Date(R.updated_at).toLocaleDateString("pt-BR")]})]}),R.tags&&R.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[R.tags.slice(0,3).map(ae=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:ae},ae)),R.tags.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",R.tags.length-3]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>b(R),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm flex items-center justify-center gap-1",children:[s.jsx(xs,{className:"h-4 w-4"}),"Ver"]}),s.jsxs("button",{onClick:()=>O(R),className:"flex-1 px-3 py-2 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors text-sm flex items-center justify-center gap-1",children:[s.jsx(xa,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>U(R),className:"px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:s.jsx(ps,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>L(R.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:s.jsx(Ct,{className:"h-4 w-4"})})]})]},R.id)})})]}),s.jsx(it,{children:g&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Selecionar Template"}),s.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Escolha um template para comear"})]}),s.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(R=>s.jsxs("div",{onClick:()=>E(R),className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-500 hover:shadow-md transition-all cursor-pointer",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:R.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:R.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:R.department}),R.category&&s.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded",children:R.category})]})]},R.id))})})]})})}),s.jsx(it,{children:h&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:m?"Editar Documento":"Novo Documento"}),s.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:m?"Atualize as informaes do documento":"Preencha as informaes do documento"})]}),s.jsx("button",{onClick:M,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo *"}),s.jsx("input",{type:"text",value:N.title,onChange:R=>j({...N,title:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Ttulo do documento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:N.description,onChange:R=>j({...N,description:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2,placeholder:"Breve descrio do documento"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento *"}),s.jsx("select",{value:N.department,onChange:R=>j({...N,department:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:_.map(R=>s.jsx("option",{value:R,children:R},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:N.category,onChange:R=>j({...N,category:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Relatrio, Procedimento, etc"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx("select",{value:N.status,onChange:R=>j({...N,status:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:B.map(R=>s.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:C,onChange:R=>k(R.target.value),onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),Q()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Adicionar tag..."}),s.jsx("button",{onClick:Q,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:s.jsx(u4,{className:"h-5 w-5"})})]}),N.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:N.tags.map(R=>s.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm flex items-center gap-2",children:[R,s.jsx("button",{onClick:()=>q(R),className:"hover:text-indigo-900",children:s.jsx(dt,{className:"h-3 w-3"})})]},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contedo * (suporta Markdown)"}),s.jsx("textarea",{value:N.content,onChange:R=>j({...N,content:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm",rows:15,placeholder:`# Ttulo do Documento

## Seo 1

Contedo da seo...

- Item 1
- Item 2`}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dicas: Use # para ttulos, ## para subttulos, - para listas"})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:M,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:D,disabled:!N.title||!N.content,className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Qt,{className:"h-5 w-5"}),m?"Atualizar Documento":"Criar Documento"]})]})]})})}),s.jsx(it,{children:y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:y.title}),s.jsxs("p",{className:"text-indigo-100 text-sm mt-1",children:[y.department,"  Verso ",y.version]})]}),s.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[y.description&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Descrio"}),s.jsx("p",{className:"text-gray-600",children:y.description})]}),s.jsx("div",{className:"prose max-w-none",children:y.content.split(`
`).map((R,K)=>R.startsWith("# ")?s.jsx("h1",{className:"text-3xl font-bold mt-6 mb-4",children:R.substring(2)},K):R.startsWith("## ")?s.jsx("h2",{className:"text-2xl font-bold mt-5 mb-3",children:R.substring(3)},K):R.startsWith("### ")?s.jsx("h3",{className:"text-xl font-bold mt-4 mb-2",children:R.substring(4)},K):R.startsWith("- ")?s.jsx("li",{className:"ml-6",children:R.substring(2)},K):R.trim()===""?s.jsx("br",{},K):s.jsx("p",{className:"mb-2",children:R},K))})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsxs("button",{onClick:()=>U(y),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"h-5 w-5"}),"Baixar PDF"]}),s.jsxs("button",{onClick:()=>{b(null),O(y)},className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(xa,{className:"h-5 w-5"}),"Editar"]})]})]})})})]})},DHe=()=>{const t=na(),[e,r]=P.useState([]),[n,a]=P.useState(!0),[i,o]=P.useState(!1),[l,c]=P.useState(null),[d,u]=P.useState(!1),[A,h]=P.useState({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0});P.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const{data:C,error:k}=await pe.from("email_accounts").select("*").order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(k)throw k;r(C||[])}catch(C){console.error("Error loading email accounts:",C)}finally{a(!1)}},g=async C=>{var k,_;C.preventDefault();try{if(l){const{error:B}=await pe.from("email_accounts").update(A).eq("id",l);if(B)throw B;alert(" Conta de email atualizada com sucesso!")}else{const{error:B}=await pe.from("email_accounts").insert([A]);if(B)throw B;alert(" Conta de email criada com sucesso!")}y(),f()}catch(B){console.error("Error saving email account:",B),(k=B==null?void 0:B.message)!=null&&k.includes("email_address")&&((_=B==null?void 0:B.message)!=null&&_.includes("already exists"))?alert(` ERRO: O email "${A.email_address}" j est cadastrado!

Para editar esta conta:
1. Feche este formulrio
2. Clique no cone de configurao () da conta existente
3. Faa as alteraes necessrias`):(B==null?void 0:B.code)==="23505"?alert(` ERRO: Esta conta de email j existe no sistema!

Verifique a lista de contas abaixo.`):alert(` Erro ao salvar conta de email:

${(B==null?void 0:B.message)||"Erro desconhecido"}`)}},x=C=>{h({account_name:C.account_name,email_address:C.email_address,smtp_host:C.smtp_host,smtp_port:C.smtp_port,smtp_user:C.smtp_user,smtp_password:C.smtp_password,smtp_secure:C.smtp_secure,imap_host:C.imap_host||"",imap_port:C.imap_port||993,imap_user:C.imap_user||"",imap_password:C.imap_password||"",imap_secure:C.imap_secure,sender_name:C.sender_name,signature:C.signature||"",is_default:C.is_default,is_active:C.is_active}),c(C.id),o(!0)},m=async(C,k)=>{if(confirm(`Deseja realmente excluir a conta ${k}?`))try{const{error:_}=await pe.from("email_accounts").delete().eq("id",C);if(_)throw _;f()}catch(_){console.error("Error deleting account:",_),alert("Erro ao excluir conta")}},p=async C=>{try{await pe.from("email_accounts").update({is_default:!1}).neq("id",C);const{error:k}=await pe.from("email_accounts").update({is_default:!0}).eq("id",C);if(k)throw k;f()}catch(k){console.error("Error setting default:",k)}},y=()=>{h({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0}),c(null),o(!1),u(!1)},b=()=>{h(C=>({...C,smtp_host:"smtp.gmail.com",smtp_port:587,imap_host:"imap.gmail.com",imap_port:993}))},N=()=>{h(C=>({...C,smtp_host:"smtp-mail.outlook.com",smtp_port:587,imap_host:"outlook.office365.com",imap_port:993}))},j=()=>{if(!A.email_address){alert("Por favor, preencha o endereo de email primeiro!");return}const C=A.email_address.split("@")[1],k=A.account_name||`Email Corporativo - ${A.email_address.split("@")[0]}`,_=A.sender_name||A.email_address.split("@")[0].charAt(0).toUpperCase()+A.email_address.split("@")[0].slice(1);h(B=>({...B,account_name:k,sender_name:_,smtp_host:`mail.${C}`,smtp_port:587,smtp_user:B.email_address,imap_host:`mail.${C}`,imap_port:993,imap_user:B.email_address,imap_password:B.smtp_password,smtp_secure:!0,imap_secure:!0,signature:`

---
Atenciosamente,
${_}
${C}`})),alert(` Configuraes Hostgator preenchidas!

Agora voc s precisa:
1. Verificar os dados
2. Preencher a senha
3. Salvar`)};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(ea,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(yn,{className:"h-8 w-8 text-blue-600"}),"Configuraes de Email"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure contas de email corporativo para envio e recebimento"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!i&&s.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5"}),"Nova Conta"]}),s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(Wl,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})]}),i&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:l?"Editar Conta":"Nova Conta de Email"}),s.jsx("button",{onClick:y,className:"text-gray-500 hover:text-gray-700",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("span",{className:"font-medium",children:"Configurao Rpida:"})," Selecione seu provedor de email"]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-lg text-sm hover:bg-orange-100 font-medium border border-orange-200",children:" Hostgator"}),s.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg text-sm hover:bg-red-100 font-medium border border-red-200",children:" Gmail"}),s.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 font-medium border border-blue-200",children:" Outlook"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" ",s.jsx("strong",{children:"Hostgator:"})," Preencha primeiro o email, depois clique no boto"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),s.jsx("input",{type:"text",required:!0,value:A.account_name,onChange:C=>h({...A,account_name:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Email Comercial"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo de Email *"}),s.jsx("input",{type:"email",required:!0,value:A.email_address,onChange:C=>h({...A,email_address:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@empresa.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Remetente *"}),s.jsx("input",{type:"text",required:!0,value:A.sender_name,onChange:C=>h({...A,sender_name:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Empresa LTDA"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configuraes de Envio (SMTP)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor SMTP *"}),s.jsx("input",{type:"text",required:!0,value:A.smtp_host,onChange:C=>h({...A,smtp_host:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"smtp.gmail.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta SMTP *"}),s.jsx("input",{type:"number",required:!0,value:A.smtp_port,onChange:C=>h({...A,smtp_port:parseInt(C.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio SMTP *"}),s.jsx("input",{type:"text",required:!0,value:A.smtp_user,onChange:C=>h({...A,smtp_user:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha SMTP *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:d?"text":"password",required:!0,value:A.smtp_password,onChange:C=>h({...A,smtp_password:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-2 top-2",children:d?s.jsx(bE,{className:"h-5 w-5 text-gray-400"}):s.jsx(xs,{className:"h-5 w-5 text-gray-400"})})]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:A.smtp_secure,onChange:C=>h({...A,smtp_secure:C.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Usar conexo segura (TLS/SSL)"})]})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configuraes de Recebimento (IMAP) - Opcional"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor IMAP"}),s.jsx("input",{type:"text",value:A.imap_host,onChange:C=>h({...A,imap_host:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"imap.gmail.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta IMAP"}),s.jsx("input",{type:"number",value:A.imap_port,onChange:C=>h({...A,imap_port:parseInt(C.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio IMAP"}),s.jsx("input",{type:"text",value:A.imap_user,onChange:C=>h({...A,imap_user:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha IMAP"}),s.jsx("input",{type:d?"text":"password",value:A.imap_password,onChange:C=>h({...A,imap_password:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assinatura de Email"}),s.jsx("textarea",{value:A.signature,onChange:C=>h({...A,signature:C.target.value}),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Atenciosamente,
Sua Empresa
Tel: (11) 1234-5678`})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:A.is_default,onChange:C=>h({...A,is_default:C.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Conta padro"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:A.is_active,onChange:C=>h({...A,is_active:C.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Conta ativa"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l?"Salvar Alteraes":"Criar Conta"}),s.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contas Configuradas"}),e.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(yn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Nenhuma conta de email configurada"}),s.jsx("p",{className:"text-sm mt-1",children:'Clique em "Nova Conta" para adicionar'})]}):s.jsx("div",{className:"space-y-3",children:e.map(C=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:C.account_name}),C.is_default&&s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:"Padro"}),!C.is_active&&s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Inativa"})]}),s.jsx("p",{className:"text-gray-600",children:C.email_address}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SMTP: ",C.smtp_host,":",C.smtp_port,C.imap_host&&` | IMAP: ${C.imap_host}:${C.imap_port}`]})]}),s.jsxs("div",{className:"flex gap-2",children:[!C.is_default&&s.jsx("button",{onClick:()=>p(C.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Definir como padro",children:s.jsx(Fr,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>x(C),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Editar",children:s.jsx(Vu,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>m(C.id,C.email_address),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir",children:s.jsx(Ct,{className:"h-5 w-5"})})]})]})},C.id))})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Dicas de Configurao"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:' Para Gmail: Ative "Acesso a apps menos seguros" ou use "Senhas de app"'}),s.jsx("li",{children:" Para Outlook/Hotmail: Use smtp-mail.outlook.com na porta 587"}),s.jsx("li",{children:" Para domnios prprios: Consulte seu provedor de hospedagem"}),s.jsx("li",{children:" Recomendamos sempre usar conexo segura (TLS/SSL)"})]})]})]})})},LHe=()=>{const t=na(),[e,r]=P.useState([]),[n,a]=P.useState(!0),[i,o]=P.useState("inbox"),[l,c]=P.useState(""),[d,u]=P.useState(null);P.useEffect(()=>{A()},[i]);const A=async()=>{try{a(!0);let y=pe.from("email_messages").select("*").order("created_at",{ascending:!1});i==="inbox"?y=y.eq("direction","received").eq("is_archived",!1):i==="sent"?y=y.eq("direction","sent"):i==="starred"?y=y.eq("is_starred",!0):i==="archived"&&(y=y.eq("is_archived",!0));const{data:b,error:N}=await y;if(N)throw N;r(b||[])}catch(y){console.error("Error loading messages:",y)}finally{a(!1)}},h=async(y,b)=>{try{const{error:N}=await pe.from("email_messages").update({is_read:b,read_at:b?new Date().toISOString():null}).eq("id",y);if(N)throw N;A()}catch(N){console.error("Error updating message:",N)}},f=async(y,b)=>{try{const{error:N}=await pe.from("email_messages").update({is_starred:!b}).eq("id",y);if(N)throw N;A()}catch(N){console.error("Error updating message:",N)}},g=async y=>{try{const{error:b}=await pe.from("email_messages").update({is_archived:!0}).eq("id",y);if(b)throw b;A(),u(null)}catch(b){console.error("Error archiving message:",b)}},x=async y=>{if(confirm("Deseja realmente excluir esta mensagem?"))try{const{error:b}=await pe.from("email_messages").delete().eq("id",y);if(b)throw b;A(),u(null)}catch(b){console.error("Error deleting message:",b)}},m=e.filter(y=>{var b,N,j;return((b=y.subject)==null?void 0:b.toLowerCase().includes(l.toLowerCase()))||((N=y.from_address)==null?void 0:N.toLowerCase().includes(l.toLowerCase()))||((j=y.from_name)==null?void 0:j.toLowerCase().includes(l.toLowerCase()))}),p=y=>{switch(y){case"inbox":return e.filter(b=>b.direction==="received"&&!b.is_archived).length;case"sent":return e.filter(b=>b.direction==="sent").length;case"starred":return e.filter(b=>b.is_starred).length;case"archived":return e.filter(b=>b.is_archived).length;default:return e.length}};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(ea,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"flex h-screen",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(so,{to:"/email/compose",className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 font-medium",children:[s.jsx(xt,{className:"h-5 w-5"}),"Novo Email"]})}),s.jsxs("nav",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>o("inbox"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="inbox"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Hae,{className:"h-5 w-5"}),s.jsx("span",{children:"Caixa de Entrada"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:p("inbox")})]}),s.jsxs("button",{onClick:()=>o("sent"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="sent"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(yi,{className:"h-5 w-5"}),s.jsx("span",{children:"Enviados"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:p("sent")})]}),s.jsxs("button",{onClick:()=>o("starred"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="starred"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Ks,{className:"h-5 w-5"}),s.jsx("span",{children:"Com Estrela"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:p("starred")})]}),s.jsxs("button",{onClick:()=>o("archived"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="archived"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(o4,{className:"h-5 w-5"}),s.jsx("span",{children:"Arquivados"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:p("archived")})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs(so,{to:"/email/settings",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-2",children:[s.jsx(yn,{className:"h-4 w-4"}),"Configuraes de Email"]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Pesquisar emails...",value:l,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{onClick:A,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Atualizar",children:s.jsx(ea,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(Wl,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[s.jsx(yn,{className:"h-16 w-16 mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg",children:"Nenhuma mensagem encontrada"}),s.jsxs("p",{className:"text-sm mt-1",children:[i==="inbox"&&"Sua caixa de entrada est vazia",i==="sent"&&"Voc ainda no enviou nenhum email",i==="starred"&&"Nenhuma mensagem marcada com estrela",i==="archived"&&"Nenhuma mensagem arquivada"]})]}):s.jsx("div",{className:"divide-y",children:m.map(y=>{var b;return s.jsx("div",{onClick:()=>{u(y),!y.is_read&&y.direction==="received"&&h(y.id,!0)},className:`p-4 cursor-pointer hover:bg-gray-100 transition-colors ${!y.is_read&&y.direction==="received"?"bg-blue-50":"bg-white"} ${(d==null?void 0:d.id)===y.id?"border-l-4 border-blue-600":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{onClick:N=>{N.stopPropagation(),f(y.id,y.is_starred)},className:"mt-1",children:s.jsx(Ks,{className:`h-5 w-5 ${y.is_starred?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:`font-medium truncate ${!y.is_read&&y.direction==="received"?"text-gray-900 font-semibold":"text-gray-700"}`,children:[y.direction==="sent"?"Para: ":"",y.from_name||y.from_address]}),s.jsx("p",{className:`text-sm truncate ${!y.is_read&&y.direction==="received"?"text-gray-900 font-medium":"text-gray-600"}`,children:y.subject})]}),s.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:new Date(y.created_at).toLocaleDateString("pt-BR")})]}),s.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[(b=y.body_text)==null?void 0:b.substring(0,100),"..."]})]})]})},y.id)})})})]}),d&&s.jsxs("div",{className:"w-2/5 bg-white border-l border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold truncate",children:d.subject}),s.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>g(d.id),className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2",children:[s.jsx(o4,{className:"h-4 w-4"}),"Arquivar"]}),s.jsxs("button",{onClick:()=>x(d.id),className:"px-3 py-1.5 text-sm bg-red-50 text-red-600 hover:bg-red-100 rounded-lg flex items-center gap-2",children:[s.jsx(Ct,{className:"h-4 w-4"}),"Excluir"]})]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"De:"})," ",s.jsxs("span",{className:"text-gray-600",children:[d.from_name," <",d.from_address,">"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Data:"})," ",s.jsx("span",{className:"text-gray-600",children:new Date(d.created_at).toLocaleString("pt-BR")})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.body_html?s.jsx("div",{dangerouslySetInnerHTML:{__html:d.body_html}}):s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:d.body_text})})]})]})})},MHe=()=>{const t=na(),[e,r]=P.useState(!1),[n,a]=P.useState([]),[i,o]=P.useState([]),[l,c]=P.useState({account_id:"",to:"",cc:"",bcc:"",subject:"",body_text:"",body_html:""});P.useEffect(()=>{d(),u()},[]);const d=async()=>{try{const{data:f,error:g}=await pe.from("email_accounts").select("id, account_name, email_address, sender_name").eq("is_active",!0).order("is_default",{ascending:!1});if(g)throw g;a(f||[]),f&&f.length>0&&c(x=>({...x,account_id:f[0].id}))}catch(f){console.error("Error loading accounts:",f)}},u=async()=>{try{const{data:f,error:g}=await pe.from("email_templates").select("id, name, subject, body_html, body_text").eq("is_active",!0).order("name");if(g)throw g;o(f||[])}catch(f){console.error("Error loading templates:",f)}},A=f=>{const g=i.find(x=>x.id===f);g&&c(x=>({...x,subject:g.subject,body_text:g.body_text,body_html:g.body_html}))},h=async f=>{if(f.preventDefault(),!l.to||!l.subject||!l.body_text&&!l.body_html){alert("Preencha todos os campos obrigatrios");return}r(!0);try{const p=await(await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/send-smtp-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({account_id:l.account_id,to:l.to.split(",").map(y=>y.trim()).filter(y=>y),cc:l.cc?l.cc.split(",").map(y=>y.trim()).filter(y=>y):void 0,bcc:l.bcc?l.bcc.split(",").map(y=>y.trim()).filter(y=>y):void 0,subject:l.subject,body_text:l.body_text,body_html:l.body_html})})).json();if(!p.success)throw new Error(p.error||"Erro ao enviar email");alert("Email enviado com sucesso!"),t("/email/inbox")}catch(g){console.error("Error sending email:",g),alert(`Erro ao enviar email: ${g.message}`)}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Email"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(Wl,{className:"h-5 w-5"}),"Voltar ao Sistema"]}),s.jsx("button",{onClick:()=>t("/email/inbox"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:s.jsx(dt,{className:"h-5 w-5"})})]})]})}),s.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"De (Conta de Email) *"}),s.jsxs("select",{required:!0,value:l.account_id,onChange:f=>c({...l,account_id:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),n.map(f=>s.jsxs("option",{value:f.id,children:[f.account_name," (",f.email_address,")"]},f.id))]}),n.length===0&&s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Nenhuma conta configurada. Configure em Configuraes de Email."})]}),i.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usar Template (Opcional)"}),s.jsxs("select",{onChange:f=>f.target.value&&A(f.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",defaultValue:"",children:[s.jsx("option",{value:"",children:"Nenhum template"}),i.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Para * ",s.jsx("span",{className:"text-xs text-gray-500",children:"(separe mltiplos emails com vrgula)"})]}),s.jsx("input",{type:"text",required:!0,value:l.to,onChange:f=>c({...l,to:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"destinatario@email.com, outro@email.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CC ",s.jsx("span",{className:"text-xs text-gray-500",children:"(cpia)"})]}),s.jsx("input",{type:"text",value:l.cc,onChange:f=>c({...l,cc:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia@email.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CCO ",s.jsx("span",{className:"text-xs text-gray-500",children:"(cpia oculta)"})]}),s.jsx("input",{type:"text",value:l.bcc,onChange:f=>c({...l,bcc:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia.oculta@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assunto *"}),s.jsx("input",{type:"text",required:!0,value:l.subject,onChange:f=>c({...l,subject:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Assunto do email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem *"}),s.jsx("textarea",{required:!0,value:l.body_text,onChange:f=>c({...l,body_text:f.target.value}),rows:12,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Digite a mensagem do email..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A assinatura configurada ser adicionada automaticamente"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{type:"submit",disabled:e||n.length===0,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2 font-medium",children:e?s.jsxs(s.Fragment,{children:[s.jsx(gx,{className:"h-5 w-5 animate-spin"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yi,{className:"h-5 w-5"}),"Enviar Email"]})}),s.jsx("button",{type:"button",onClick:()=>t("/email/inbox"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Dicas"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Use templates para agilizar o envio de emails recorrentes"}),s.jsx("li",{children:" Para enviar para mltiplos destinatrios, separe os emails com vrgula"}),s.jsx("li",{children:" A assinatura da conta ser adicionada automaticamente ao final"}),s.jsx("li",{children:" Verifique se a conta SMTP est configurada corretamente"})]})]})]})})};class UHe{async createConversation(e="Nova Conversa"){const{data:r,error:n}=await pe.from("chat_conversations").insert([{title:e}]).select().single();return n?(console.error("Erro ao criar conversa:",n),null):r}async getConversations(){const{data:e,error:r}=await pe.from("chat_conversations").select("*").order("updated_at",{ascending:!1});return r?(console.error("Erro ao buscar conversas:",r),[]):e||[]}async getMessages(e){const{data:r,error:n}=await pe.from("chat_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});return n?(console.error("Erro ao buscar mensagens:",n),[]):r||[]}async sendMessage(e,r){if(!await this.saveMessage(e,"user",r))return null;const a=await this.processMessage(r),i=await this.saveMessage(e,"assistant",a.text,a.metadata);return await this.updateConversationTimestamp(e),i}async saveMessage(e,r,n,a){const{data:i,error:o}=await pe.from("chat_messages").insert([{conversation_id:e,role:r,content:n,metadata:a||{}}]).select().single();return o?(console.error("Erro ao salvar mensagem:",o),null):i}async updateConversationTimestamp(e){await pe.from("chat_conversations").update({updated_at:new Date().toISOString()}).eq("id",e)}async processMessage(e){const r=e.toLowerCase().trim(),{data:n}=await pe.from("chat_intents").select("*").eq("active",!0);if(!n)return{text:"Desculpe, no consegui processar sua mensagem."};const a=this.findMatchingIntent(r,n);return a?await this.executeIntent(a,e):this.getDefaultResponse(r)}findMatchingIntent(e,r){for(const n of r)for(const a of n.keywords)if(e.includes(a.toLowerCase()))return n;return null}async executeIntent(e,r){try{const n=this.extractParameter(r,e);let a=e.query_template;n&&(a=a.replace("{param}",n));const{data:i,error:o}=await pe.rpc("execute_chatbot_query",{query_text:a});if(o){console.error("Erro ao executar query:",o);const{data:l}=await this.executeFallbackQuery(e.intent_name);return this.formatResponse(e,l||[])}return this.formatResponse(e,i||[])}catch(n){return console.error("Erro no processamento:",n),{text:"Desculpe, ocorreu um erro ao processar sua solicitao."}}}async executeFallbackQuery(e){switch(e){case"listar_os_abertas":return await pe.from("service_orders").select("id, order_number, customer_name, status, total_value").in("status",["pending","in_progress"]).order("created_at",{ascending:!1}).limit(10);case"estoque_baixo":const{data:r}=await pe.from("materials").select("name, quantity, min_quantity, unit, active").eq("active",!0).order("quantity",{ascending:!0});return{data:(r||[]).filter(i=>i.quantity<=i.min_quantity).slice(0,10)};case"agenda_hoje":const a=new Date().toISOString().split("T")[0];return await pe.from("agenda_events").select("title, start_time, end_time, location").gte("start_time",`${a}T00:00:00`).lt("start_time",`${a}T23:59:59`).order("start_time",{ascending:!0});case"ultimas_vendas":return await pe.from("service_orders").select("order_number, customer_name, total_value, completed_at").eq("status","completed").order("completed_at",{ascending:!1}).limit(10);case"materiais_mais_usados":return await pe.from("materials").select("name, unit, total_quantity_purchased").gt("total_quantity_purchased",0).order("total_quantity_purchased",{ascending:!1}).limit(10);default:return{data:[]}}}extractParameter(e,r){const n=e.split(" ");for(const o of r.keywords){o.toLowerCase().split(" ");const l=e.toLowerCase().indexOf(o.toLowerCase());if(l!==-1){const c=e.substring(l+o.length).trim();if(c)return c.split(" ")[0]}}const a=["o","a","os","as","de","do","da","em","para","com"],i=n.filter(o=>o.length>2&&!a.includes(o.toLowerCase()));return i[i.length-1]||""}formatResponse(e,r){const n=r.length;let a=e.response_template.replace("{count}",n.toString());if(n===0)return{text:this.getEmptyResponse(e.intent_name),metadata:{intent:e.intent_name,count:0}};switch(a+=`

`,e.intent_name){case"listar_os_abertas":a+=r.map(o=>` OS ${o.order_number} - ${o.customer_name}
   Status: ${this.translateStatus(o.status)} | Valor: R$ ${this.formatMoney(o.total_value)}`).join(`

`);break;case"estoque_baixo":a+=r.map(o=>` ${o.name}
   Estoque: ${o.quantity} ${o.unit} (Mnimo: ${o.min_quantity} ${o.unit})`).join(`

`);break;case"agenda_hoje":a+=r.map(o=>` ${o.title}
   Horrio: ${this.formatTime(o.start_time)} - ${this.formatTime(o.end_time)}
   Local: ${o.location||"No informado"}`).join(`

`);break;case"ultimas_vendas":a+=r.map(o=>` OS ${o.order_number} - ${o.customer_name}
   Valor: R$ ${this.formatMoney(o.total_value)} | Finalizado: ${this.formatDate(o.completed_at)}`).join(`

`);break;case"materiais_mais_usados":a+=r.map((o,l)=>`${l+1}. ${o.name} - ${o.total_quantity_purchased} ${o.unit} utilizados`).join(`
`);break;case"buscar_cliente":a+=r.map(o=>` ${o.name}
    ${o.email||"Sem email"}
    ${o.phone||"Sem telefone"}
    ${o.city||"Sem cidade"}`).join(`

`);break;case"resumo_financeiro":const i=r.reduce((o,l)=>o+parseFloat(l.total||0),0);a+=r.map(o=>` ${this.translateStatus(o.status)}: R$ ${this.formatMoney(o.total)} (${o.count} lanamentos)`).join(`
`),a+=`

 Total: R$ ${this.formatMoney(i)}`;break;default:a+=JSON.stringify(r,null,2)}return{text:a,metadata:{intent:e.intent_name,count:n,data:r}}}getEmptyResponse(e){return{listar_os_abertas:"No h ordens de servio abertas no momento. ",estoque_baixo:"Todos os materiais esto com estoque adequado! ",agenda_hoje:"Voc no tem compromissos agendados para hoje. ",ultimas_vendas:"Ainda no h vendas finalizadas. ",materiais_mais_usados:"Ainda no h dados sobre materiais utilizados. ",buscar_cliente:"No encontrei clientes com esse critrio. ",resumo_financeiro:"No h lanamentos financeiros no perodo. "}[e]||"No encontrei resultados para sua busca."}getDefaultResponse(e){return e.includes("ol")||e.includes("oi")?{text:` Ol! Como posso ajudar voc hoje?

Voc pode me perguntar sobre:
 Ordens de servio abertas
 Estoque de materiais
 Agenda do dia
 Informaes de clientes
 Resumo financeiro
 ltimas vendas`}:e.includes("ajuda")||e.includes("help")?{text:` Posso ajudar voc com:

 Ordens de Servio
    "OS abertas"
    "ltimas vendas"

 Estoque
    "Estoque baixo"
    "Materiais mais usados"

 Clientes
    "Buscar cliente [nome]"

 Agenda
    "Agenda hoje"

 Financeiro
    "Resumo financeiro"`}:{text:'Desculpe, no entendi sua pergunta. Digite "ajuda" para ver o que posso fazer! '}}translateStatus(e){return{pending:"Pendente",in_progress:"Em Andamento",completed:"Concludo",cancelled:"Cancelado",paid:"Pago",overdue:"Vencido"}[e]||e}formatMoney(e){return(typeof e=="string"?parseFloat(e):e).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}formatDate(e){return e?new Date(e).toLocaleDateString("pt-BR"):"Data no informada"}formatTime(e){return e?new Date(e).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"--:--"}async deleteConversation(e){const{error:r}=await pe.from("chat_conversations").delete().eq("id",e);return!r}}const Tp=new UHe;function RHe(){const[t,e]=P.useState(!1),[r,n]=P.useState([]),[a,i]=P.useState(null),[o,l]=P.useState([]),[c,d]=P.useState(""),[u,A]=P.useState(!1),h=P.useRef(null);P.useEffect(()=>{console.log(" AIChatbot montado e ativo!")},[]),P.useEffect(()=>{t&&g()},[t]),P.useEffect(()=>{a&&x(a.id)},[a]),P.useEffect(()=>{f()},[o]);const f=()=>{var N;(N=h.current)==null||N.scrollIntoView({behavior:"smooth"})},g=async()=>{const N=await Tp.getConversations();n(N),N.length>0&&!a&&i(N[0])},x=async N=>{const j=await Tp.getMessages(N);l(j)},m=async()=>{const N=await Tp.createConversation();N&&(n([N,...r]),i(N),l([]))},p=async()=>{if(!c.trim()||!a||u)return;const N=c.trim();d(""),A(!0),l(j=>[...j,{id:"temp-"+Date.now(),role:"user",content:N,created_at:new Date().toISOString()}]);try{await Tp.sendMessage(a.id,N)&&await x(a.id)}catch(j){console.error("Erro ao enviar mensagem:",j)}finally{A(!1)}},y=async N=>{if(!confirm("Deseja deletar esta conversa?"))return;if(await Tp.deleteConversation(N)){const C=r.filter(k=>k.id!==N);n(C),(a==null?void 0:a.id)===N&&(i(C[0]||null),l([]))}},b=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),p())};return t?s.jsxs("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-lg shadow-2xl flex flex-col border border-gray-200",style:{zIndex:9999},children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-t-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Su,{size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Assistente IA"}),s.jsx("p",{className:"text-xs text-blue-100",children:"Online"})]})]}),s.jsx("button",{onClick:()=>e(!1),className:"hover:bg-blue-800 rounded p-1 transition-colors",children:s.jsx(dt,{size:20})})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"w-24 bg-gray-50 border-r border-gray-200 overflow-y-auto",children:[s.jsx("button",{onClick:m,className:"w-full p-3 hover:bg-gray-200 border-b border-gray-200 flex items-center justify-center",title:"Nova conversa",children:s.jsx(xt,{size:18})}),r.map(N=>s.jsxs("button",{onClick:()=>i(N),className:`w-full p-3 hover:bg-gray-200 border-b border-gray-200 flex flex-col items-center gap-1 transition-colors ${(a==null?void 0:a.id)===N.id?"bg-blue-50 border-l-2 border-l-blue-600":""}`,title:N.title,children:[s.jsx(Su,{size:16,className:"text-gray-600"}),s.jsx("span",{className:"text-[10px] text-gray-500 text-center truncate w-full",children:new Date(N.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),s.jsx("button",{onClick:j=>{j.stopPropagation(),y(N.id)},className:"text-red-500 hover:text-red-700 mt-1",children:s.jsx(Ct,{size:12})})]},N.id))]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.length===0&&s.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[s.jsx(d9,{size:48,className:"mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-sm mb-2",children:" Ol! Sou seu assistente inteligente."}),s.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Pergunte-me sobre:"}),s.jsxs("div",{className:"text-xs text-left space-y-1 bg-gray-50 p-3 rounded",children:[s.jsx("p",{children:" Ordens de servio abertas"}),s.jsx("p",{children:" Estoque de materiais"}),s.jsx("p",{children:" Agenda do dia"}),s.jsx("p",{children:" Informaes de clientes"}),s.jsx("p",{children:" Resumo financeiro"})]})]}),o.map((N,j)=>s.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${N.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.content}),s.jsx("p",{className:`text-[10px] mt-1 ${N.role==="user"?"text-blue-100":"text-gray-500"}`,children:new Date(N.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},N.id||j)),u&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),s.jsx("div",{ref:h})]}),s.jsxs("div",{className:"border-t border-gray-200 p-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:c,onChange:N=>d(N.target.value),onKeyPress:b,placeholder:"Digite sua mensagem...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500",disabled:!a||u}),s.jsx("button",{onClick:p,disabled:!c.trim()||!a||u,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(yi,{size:18})})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-2 text-center",children:'Digite "ajuda" para ver comandos disponveis'})]})]})]})]}):s.jsx("button",{onClick:()=>{console.log(" Boto do chat clicado!"),e(!0)},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all duration-300 hover:scale-110",style:{zIndex:9999},title:"Assistente IA",children:s.jsx(Su,{size:24})})}const bt=({children:t})=>s.jsx(s.Fragment,{children:t});function QHe(){const[t,e]=P.useState(!0),[r,n]=P.useState(!1),[a,i]=P.useState(!1),[o,l]=P.useState(!1),[c,d]=P.useState(!1),[u,A]=P.useState(""),[h,f]=P.useState(""),[g]=P.useState("admin"),[x,m]=P.useState(!1),p=sA(),[y,b]=P.useState(!1);P.useEffect(()=>{const C=setTimeout(()=>{e(!1),!localStorage.getItem("os_system_tutorial_completed")&&n(!0)},1500);return()=>clearTimeout(C)},[]),P.useEffect(()=>{const C=async()=>{try{const B=await(await fetch("/version.json?t="+Date.now())).json(),T=localStorage.getItem("app_version");T&&T!==B.version?(console.log("Nova verso disponvel:",B.version),confirm(`Nova verso ${B.version} disponvel!

${B.description}

Deseja atualizar agora?`)&&(localStorage.setItem("app_version",B.version),window.location.reload())):T||localStorage.setItem("app_version",B.version)}catch(_){console.error("Erro ao verificar atualizaes:",_)}};C();const k=setInterval(C,5*60*1e3);return()=>clearInterval(k)},[]),P.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const N=C=>{A(C),i(!0),m(!0),setTimeout(()=>{m(!1)},1e4)},j=C=>{f(C),l(!0)};return t?s.jsx(koe,{}):s.jsxs(Lde,{children:[s.jsxs(it,{mode:"wait",children:[s.jsxs(jZ,{location:p,children:[s.jsx(At,{path:"/login",element:s.jsx(pwe,{})}),s.jsx(At,{path:"/pricing",element:s.jsx(xwe,{})}),s.jsx(At,{path:"/",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(HD,{})})})}),s.jsx(At,{path:"/home",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(qD,{})})})}),s.jsx(At,{path:"/dashboard-executivo",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(HD,{})})})}),s.jsx(At,{path:"/ordens-servico-kanban",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(lwe,{})})})}),s.jsx(At,{path:"/departmental-dashboard",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx($$e,{})})})}),s.jsx(At,{path:"/service-orders",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(Rde,{})})})}),s.jsx(At,{path:"/service-orders/create",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(mO,{})})})}),s.jsx(At,{path:"/service-orders/:id/view",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(kAe,{})})})}),s.jsx(At,{path:"/service-orders/:id",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(mO,{})})})}),s.jsx(At,{path:"/inventory",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(r0e,{})})})}),s.jsx(At,{path:"/inventory/:id",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(n0e,{})})})}),s.jsx(At,{path:"/inventory/create",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(s0e,{})})})}),s.jsx(At,{path:"/reports",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(Rbe,{})})})}),s.jsx(At,{path:"/settings",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(Qbe,{})})})}),s.jsx(At,{path:"/users",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx($be,{})})})}),s.jsx(At,{path:"/service-catalog",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(qbe,{})})})}),s.jsx(At,{path:"/financial",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(Kbe,{})})})}),s.jsx(At,{path:"/client-management",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(Xbe,{})})})}),s.jsx(At,{path:"/visual-customization",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(Ybe,{onPremiumFeature:N})})})}),s.jsx(At,{path:"/monitoring",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(Zbe,{onPremiumFeature:N,onEnterpriseFeature:j})})})}),s.jsx(At,{path:"/calendar",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(awe,{onPremiumFeature:N})})})}),s.jsx(At,{path:"/projects",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(iwe,{onPremiumFeature:N,onEnterpriseFeature:j})})})}),s.jsx(At,{path:"/profile",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(owe,{})})})}),s.jsx(At,{path:"/access-codes",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(gwe,{})})})}),s.jsx(At,{path:"/digital-library",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(H$e,{})})})}),s.jsx(At,{path:"/chat",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(q$e,{})})})}),s.jsx(At,{path:"/whatsapp-crm",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(z$e,{})})})}),s.jsx(At,{path:"/financial-management",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(K$e,{})})})}),s.jsx(At,{path:"/financial-analysis",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(W$e,{})})})}),s.jsx(At,{path:"/financial-categories",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(u9e,{})})})}),s.jsx(At,{path:"/email/settings",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(DHe,{})})})}),s.jsx(At,{path:"/email/compose",element:s.jsx(bt,{children:s.jsx(MHe,{})})}),s.jsx(At,{path:"/email/inbox",element:s.jsx(bt,{children:s.jsx(LHe,{})})}),s.jsx(At,{path:"/audit-logs",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(xHe,{})})})}),s.jsx(At,{path:"/bank-accounts",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(G$e,{})})})}),s.jsx(At,{path:"/access-management",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(d9e,{})})})}),s.jsx(At,{path:"/funcionarios",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(l9e,{})})})}),s.jsx(At,{path:"/convites-usuarios",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(c9e,{})})})}),s.jsx(At,{path:"/crm-leads",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(yHe,{})})})}),s.jsx(At,{path:"/contracts",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(vHe,{})})})}),s.jsx(At,{path:"/contract-templates",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(bHe,{})})})}),s.jsx(At,{path:"/document-templates",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(wHe,{})})})}),s.jsx(At,{path:"/invoices",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(jHe,{})})})}),s.jsx(At,{path:"/company-settings",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(NHe,{})})})}),s.jsx(At,{path:"/equipments",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(_He,{})})})}),s.jsx(At,{path:"/suppliers",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(CHe,{})})})}),s.jsx(At,{path:"/purchasing",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(EHe,{})})})}),s.jsx(At,{path:"/rotas",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(PHe,{})})})}),s.jsx(At,{path:"/documentos",element:s.jsx(bt,{children:s.jsx(St,{children:s.jsx(IHe,{})})})}),s.jsx(At,{path:"/homepage",element:s.jsx(cwe,{})}),s.jsx(At,{path:"/home",element:s.jsx(qD,{})}),s.jsx(At,{path:"/sobre",element:s.jsx(dwe,{})}),s.jsx(At,{path:"/servicos",element:s.jsx(uwe,{})}),s.jsx(At,{path:"/contato",element:s.jsx(Awe,{})})]},p.pathname),s.jsx(zbe,{isOpen:r,onComplete:()=>{n(!1),localStorage.setItem("os_system_tutorial_completed","true")}}),s.jsx(hwe,{isOpen:a,feature:u,onClose:()=>i(!1)}),s.jsx(mwe,{isOpen:o,feature:h,onClose:()=>l(!1)}),s.jsx(ywe,{isOpen:c,onClose:()=>d(!1),requiredRole:g}),x&&s.jsx(fwe,{feature:u})]}),s.jsx(RHe,{})]})}class $He extends P.Component{constructor(){super(...arguments);ot(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({error:r,errorInfo:n})}render(){var r;return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ops! Algo deu errado"}),s.jsx("p",{className:"text-gray-600",children:"Ocorreu um erro inesperado ao carregar o sistema."})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[s.jsx("h2",{className:"text-sm font-semibold text-red-800 mb-2",children:"Detalhes do erro:"}),s.jsx("pre",{className:"text-xs text-red-700 overflow-auto max-h-40",children:(r=this.state.error)==null?void 0:r.toString()})]}),this.state.errorInfo&&s.jsxs("details",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[s.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (clique para expandir)"}),s.jsx("pre",{className:"text-xs text-gray-700 overflow-auto max-h-60 mt-2",children:this.state.errorInfo.componentStack})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Recarregar Pgina"}),s.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null})},className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Tentar Novamente"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Dica:"})," Abra o console do navegador (F12) para ver mais detalhes do erro."]})})]})}):this.props.children}}H5.createRoot(document.getElementById("root")).render(s.jsx(we.StrictMode,{children:s.jsx($He,{children:s.jsx(PZ,{children:s.jsx(QHe,{})})})}));export{fr as _,Is as c,pr as g};
