var tX=Object.defineProperty;var rX=(t,e,r)=>e in t?tX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var it=(t,e,r)=>rX(t,typeof e!="symbol"?e+"":e,r);function nX(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sX(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var nR={exports:{}},F1={},sR={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx=Symbol.for("react.element"),aX=Symbol.for("react.portal"),iX=Symbol.for("react.fragment"),oX=Symbol.for("react.strict_mode"),lX=Symbol.for("react.profiler"),cX=Symbol.for("react.provider"),dX=Symbol.for("react.context"),uX=Symbol.for("react.forward_ref"),AX=Symbol.for("react.suspense"),hX=Symbol.for("react.memo"),fX=Symbol.for("react.lazy"),U6=Symbol.iterator;function mX(t){return t===null||typeof t!="object"?null:(t=U6&&t[U6]||t["@@iterator"],typeof t=="function"?t:null)}var aR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iR=Object.assign,oR={};function Yf(t,e,r){this.props=t,this.context=e,this.refs=oR,this.updater=r||aR}Yf.prototype.isReactComponent={};Yf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lR(){}lR.prototype=Yf.prototype;function HB(t,e,r){this.props=t,this.context=e,this.refs=oR,this.updater=r||aR}var zB=HB.prototype=new lR;zB.constructor=HB;iR(zB,Yf.prototype);zB.isPureReactComponent=!0;var R6=Array.isArray,cR=Object.prototype.hasOwnProperty,qB={current:null},dR={key:!0,ref:!0,__self:!0,__source:!0};function uR(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cR.call(e,n)&&!dR.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:nx,type:t,key:i,ref:o,props:a,_owner:qB.current}}function pX(t,e){return{$$typeof:nx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function VB(t){return typeof t=="object"&&t!==null&&t.$$typeof===nx}function gX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Q6=/\/+/g;function pN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gX(""+t.key):e.toString(36)}function Wv(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nx:case aX:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+pN(o,0):n,R6(a)?(r="",t!=null&&(r=t.replace(Q6,"$&/")+"/"),Wv(a,e,r,"",function(d){return d})):a!=null&&(VB(a)&&(a=pX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Q6,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",R6(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+pN(i,l);o+=Wv(i,e,r,c,a)}else if(c=mX(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+pN(i,l++),o+=Wv(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function by(t,e,r){if(t==null)return t;var n=[],a=0;return Wv(t,n,"","",function(i){return e.call(r,i,a++)}),n}function xX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ea={current:null},Gv={transition:null},yX={ReactCurrentDispatcher:ea,ReactCurrentBatchConfig:Gv,ReactCurrentOwner:qB};function AR(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:by,forEach:function(t,e,r){by(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return by(t,function(){e++}),e},toArray:function(t){return by(t,function(e){return e})||[]},only:function(t){if(!VB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=Yf;Ht.Fragment=iX;Ht.Profiler=lX;Ht.PureComponent=HB;Ht.StrictMode=oX;Ht.Suspense=AX;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yX;Ht.act=AR;Ht.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=iR({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qB.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)cR.call(e,c)&&!dR.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:nx,type:t.type,key:a,ref:i,props:n,_owner:o}};Ht.createContext=function(t){return t={$$typeof:dX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cX,_context:t},t.Consumer=t};Ht.createElement=uR;Ht.createFactory=function(t){var e=uR.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:uX,render:t}};Ht.isValidElement=VB;Ht.lazy=function(t){return{$$typeof:fX,_payload:{_status:-1,_result:t},_init:xX}};Ht.memo=function(t,e){return{$$typeof:hX,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=Gv.transition;Gv.transition={};try{t()}finally{Gv.transition=e}};Ht.unstable_act=AR;Ht.useCallback=function(t,e){return ea.current.useCallback(t,e)};Ht.useContext=function(t){return ea.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return ea.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return ea.current.useEffect(t,e)};Ht.useId=function(){return ea.current.useId()};Ht.useImperativeHandle=function(t,e,r){return ea.current.useImperativeHandle(t,e,r)};Ht.useInsertionEffect=function(t,e){return ea.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return ea.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return ea.current.useMemo(t,e)};Ht.useReducer=function(t,e,r){return ea.current.useReducer(t,e,r)};Ht.useRef=function(t){return ea.current.useRef(t)};Ht.useState=function(t){return ea.current.useState(t)};Ht.useSyncExternalStore=function(t,e,r){return ea.current.useSyncExternalStore(t,e,r)};Ht.useTransition=function(){return ea.current.useTransition()};Ht.version="18.3.1";sR.exports=Ht;var k=sR.exports;const be=fr(k),vX=nX({__proto__:null,default:be},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bX=k,wX=Symbol.for("react.element"),jX=Symbol.for("react.fragment"),NX=Object.prototype.hasOwnProperty,_X=bX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CX={key:!0,ref:!0,__self:!0,__source:!0};function hR(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)NX.call(e,n)&&!CX.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:wX,type:t,key:i,ref:o,props:a,_owner:_X.current}}F1.Fragment=jX;F1.jsx=hR;F1.jsxs=hR;nR.exports=F1;var s=nR.exports,H5={},fR={exports:{}},Ha={},mR={exports:{}},pR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,z){var Y=R.length;R.push(z);e:for(;0<Y;){var X=Y-1>>>1,$=R[X];if(0<a($,z))R[X]=z,R[Y]=$,Y=X;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var z=R[0],Y=R.pop();if(Y!==z){R[0]=Y;e:for(var X=0,$=R.length,M=$>>>1;X<M;){var G=2*(X+1)-1,V=R[G],ae=G+1,Ae=R[ae];if(0>a(V,Y))ae<$&&0>a(Ae,V)?(R[X]=Ae,R[ae]=Y,X=ae):(R[X]=V,R[G]=Y,X=G);else if(ae<$&&0>a(Ae,Y))R[X]=Ae,R[ae]=Y,X=ae;else break e}}return z}function a(R,z){var Y=R.sortIndex-z.sortIndex;return Y!==0?Y:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,A=null,h=3,f=!1,g=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var z=r(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=R)n(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(d)}}function S(R){if(x=!1,w(R),!g)if(r(c)!==null)g=!0,D(j);else{var z=r(d);z!==null&&U(S,z.startTime-R)}}function j(R,z){g=!1,x&&(x=!1,p(C),C=-1),f=!0;var Y=h;try{for(w(z),A=r(c);A!==null&&(!(A.expirationTime>z)||R&&!v());){var X=A.callback;if(typeof X=="function"){A.callback=null,h=A.priorityLevel;var $=X(A.expirationTime<=z);z=t.unstable_now(),typeof $=="function"?A.callback=$:A===r(c)&&n(c),w(z)}else n(c);A=r(c)}if(A!==null)var M=!0;else{var G=r(d);G!==null&&U(S,G.startTime-z),M=!1}return M}finally{A=null,h=Y,f=!1}}var _=!1,F=null,C=-1,E=5,T=-1;function v(){return!(t.unstable_now()-T<E)}function N(){if(F!==null){var R=t.unstable_now();T=R;var z=!0;try{z=F(!0,R)}finally{z?O():(_=!1,F=null)}}else _=!1}var O;if(typeof y=="function")O=function(){y(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Q=L.port2;L.port1.onmessage=N,O=function(){Q.postMessage(null)}}else O=function(){m(N,0)};function D(R){F=R,_||(_=!0,O())}function U(R,z){C=m(function(){R(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,D(j))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Y=h;h=z;try{return R()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=h;h=R;try{return z()}finally{h=Y}},t.unstable_scheduleCallback=function(R,z,Y){var X=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?X+Y:X):Y=X,R){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Y+$,R={id:u++,callback:z,priorityLevel:R,startTime:Y,expirationTime:$,sortIndex:-1},Y>X?(R.sortIndex=Y,e(d,R),r(c)===null&&R===r(d)&&(x?(p(C),C=-1):x=!0,U(S,Y-X))):(R.sortIndex=$,e(c,R),g||f||(g=!0,D(j))),R},t.unstable_shouldYield=v,t.unstable_wrapCallback=function(R){var z=h;return function(){var Y=h;h=z;try{return R.apply(this,arguments)}finally{h=Y}}}})(pR);mR.exports=pR;var SX=mR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BX=k,$a=SX;function Xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gR=new Set,Fg={};function eA(t,e){Af(t,e),Af(t+"Capture",e)}function Af(t,e){for(Fg[t]=e,t=0;t<e.length;t++)gR.add(e[t])}var Fl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z5=Object.prototype.hasOwnProperty,EX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$6={},H6={};function kX(t){return z5.call(H6,t)?!0:z5.call($6,t)?!1:EX.test(t)?H6[t]=!0:($6[t]=!0,!1)}function FX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PX(t,e,r,n){if(e===null||typeof e>"u"||FX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ta(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fs[t]=new ta(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fs[e]=new ta(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fs[t]=new ta(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fs[t]=new ta(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fs[t]=new ta(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fs[t]=new ta(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fs[t]=new ta(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fs[t]=new ta(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fs[t]=new ta(t,5,!1,t.toLowerCase(),null,!1,!1)});var KB=/[\-:]([a-z])/g;function WB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(KB,WB);fs[e]=new ta(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(KB,WB);fs[e]=new ta(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(KB,WB);fs[e]=new ta(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fs[t]=new ta(t,1,!1,t.toLowerCase(),null,!1,!1)});fs.xlinkHref=new ta("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fs[t]=new ta(t,1,!1,t.toLowerCase(),null,!0,!0)});function GB(t,e,r,n){var a=fs.hasOwnProperty(e)?fs[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PX(e,r,a,n)&&(r=null),n||a===null?kX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vl=BX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wy=Symbol.for("react.element"),mh=Symbol.for("react.portal"),ph=Symbol.for("react.fragment"),XB=Symbol.for("react.strict_mode"),q5=Symbol.for("react.profiler"),xR=Symbol.for("react.provider"),yR=Symbol.for("react.context"),YB=Symbol.for("react.forward_ref"),V5=Symbol.for("react.suspense"),K5=Symbol.for("react.suspense_list"),JB=Symbol.for("react.memo"),Nc=Symbol.for("react.lazy"),vR=Symbol.for("react.offscreen"),z6=Symbol.iterator;function Ym(t){return t===null||typeof t!="object"?null:(t=z6&&t[z6]||t["@@iterator"],typeof t=="function"?t:null)}var Xr=Object.assign,gN;function Pp(t){if(gN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gN=e&&e[1]||""}return`
`+gN+t}var xN=!1;function yN(t,e){if(!t||xN)return"";xN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{xN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Pp(t):""}function TX(t){switch(t.tag){case 5:return Pp(t.type);case 16:return Pp("Lazy");case 13:return Pp("Suspense");case 19:return Pp("SuspenseList");case 0:case 2:case 15:return t=yN(t.type,!1),t;case 11:return t=yN(t.type.render,!1),t;case 1:return t=yN(t.type,!0),t;default:return""}}function W5(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ph:return"Fragment";case mh:return"Portal";case q5:return"Profiler";case XB:return"StrictMode";case V5:return"Suspense";case K5:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yR:return(t.displayName||"Context")+".Consumer";case xR:return(t._context.displayName||"Context")+".Provider";case YB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JB:return e=t.displayName||null,e!==null?e:W5(t.type)||"Memo";case Nc:e=t._payload,t=t._init;try{return W5(t(e))}catch{}}return null}function OX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W5(e);case 8:return e===XB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function id(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IX(t){var e=bR(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jy(t){t._valueTracker||(t._valueTracker=IX(t))}function wR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bR(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function G5(t,e){var r=e.checked;return Xr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function q6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=id(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jR(t,e){e=e.checked,e!=null&&GB(t,"checked",e,!1)}function X5(t,e){jR(t,e);var r=id(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y5(t,e.type,r):e.hasOwnProperty("defaultValue")&&Y5(t,e.type,id(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function V6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Y5(t,e,r){(e!=="number"||Sb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Tp=Array.isArray;function Qh(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+id(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function J5(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Xe(91));return Xr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function K6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Xe(92));if(Tp(r)){if(1<r.length)throw Error(Xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:id(r)}}function NR(t,e){var r=id(e.value),n=id(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function W6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _R(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z5(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_R(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ny,CR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ny=Ny||document.createElement("div"),Ny.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ny.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LX=["Webkit","ms","Moz","O"];Object.keys(Gp).forEach(function(t){LX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gp[e]=Gp[t]})});function SR(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gp.hasOwnProperty(t)&&Gp[t]?(""+e).trim():e+"px"}function BR(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=SR(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var MX=Xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eC(t,e){if(e){if(MX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Xe(62))}}function tC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rC=null;function ZB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nC=null,$h=null,Hh=null;function G6(t){if(t=ix(t)){if(typeof nC!="function")throw Error(Xe(280));var e=t.stateNode;e&&(e=L1(e),nC(t.stateNode,t.type,e))}}function ER(t){$h?Hh?Hh.push(t):Hh=[t]:$h=t}function kR(){if($h){var t=$h,e=Hh;if(Hh=$h=null,G6(t),e)for(t=0;t<e.length;t++)G6(e[t])}}function FR(t,e){return t(e)}function PR(){}var vN=!1;function TR(t,e,r){if(vN)return t(e,r);vN=!0;try{return FR(t,e,r)}finally{vN=!1,($h!==null||Hh!==null)&&(PR(),kR())}}function Tg(t,e){var r=t.stateNode;if(r===null)return null;var n=L1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Xe(231,e,typeof r));return r}var sC=!1;if(Fl)try{var Jm={};Object.defineProperty(Jm,"passive",{get:function(){sC=!0}}),window.addEventListener("test",Jm,Jm),window.removeEventListener("test",Jm,Jm)}catch{sC=!1}function DX(t,e,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var Xp=!1,Bb=null,Eb=!1,aC=null,UX={onError:function(t){Xp=!0,Bb=t}};function RX(t,e,r,n,a,i,o,l,c){Xp=!1,Bb=null,DX.apply(UX,arguments)}function QX(t,e,r,n,a,i,o,l,c){if(RX.apply(this,arguments),Xp){if(Xp){var d=Bb;Xp=!1,Bb=null}else throw Error(Xe(198));Eb||(Eb=!0,aC=d)}}function tA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function OR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X6(t){if(tA(t)!==t)throw Error(Xe(188))}function $X(t){var e=t.alternate;if(!e){if(e=tA(t),e===null)throw Error(Xe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return X6(a),t;if(i===n)return X6(a),e;i=i.sibling}throw Error(Xe(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Xe(189))}}if(r.alternate!==n)throw Error(Xe(190))}if(r.tag!==3)throw Error(Xe(188));return r.stateNode.current===r?t:e}function IR(t){return t=$X(t),t!==null?LR(t):null}function LR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LR(t);if(e!==null)return e;t=t.sibling}return null}var MR=$a.unstable_scheduleCallback,Y6=$a.unstable_cancelCallback,HX=$a.unstable_shouldYield,zX=$a.unstable_requestPaint,hn=$a.unstable_now,qX=$a.unstable_getCurrentPriorityLevel,e3=$a.unstable_ImmediatePriority,DR=$a.unstable_UserBlockingPriority,kb=$a.unstable_NormalPriority,VX=$a.unstable_LowPriority,UR=$a.unstable_IdlePriority,P1=null,Po=null;function KX(t){if(Po&&typeof Po.onCommitFiberRoot=="function")try{Po.onCommitFiberRoot(P1,t,void 0,(t.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:XX,WX=Math.log,GX=Math.LN2;function XX(t){return t>>>=0,t===0?32:31-(WX(t)/GX|0)|0}var _y=64,Cy=4194304;function Op(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Op(l):(i&=o,i!==0&&(n=Op(i)))}else o=r&~a,o!==0?n=Op(o):i!==0&&(n=Op(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zi(e),a=1<<r,n|=t[r],e&=~a;return n}function YX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zi(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=YX(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function iC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RR(){var t=_y;return _y<<=1,!(_y&4194240)&&(_y=64),t}function bN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function sx(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zi(e),t[e]=r}function ZX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Zi(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function t3(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zi(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var hr=0;function QR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $R,r3,HR,zR,qR,oC=!1,Sy=[],qc=null,Vc=null,Kc=null,Og=new Map,Ig=new Map,Ec=[],eY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J6(t,e){switch(t){case"focusin":case"focusout":qc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":Kc=null;break;case"pointerover":case"pointerout":Og.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ig.delete(e.pointerId)}}function Zm(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=ix(e),e!==null&&r3(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function tY(t,e,r,n,a){switch(e){case"focusin":return qc=Zm(qc,t,e,r,n,a),!0;case"dragenter":return Vc=Zm(Vc,t,e,r,n,a),!0;case"mouseover":return Kc=Zm(Kc,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Og.set(i,Zm(Og.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ig.set(i,Zm(Ig.get(i)||null,t,e,r,n,a)),!0}return!1}function VR(t){var e=du(t.target);if(e!==null){var r=tA(e);if(r!==null){if(e=r.tag,e===13){if(e=OR(r),e!==null){t.blockedOn=e,qR(t.priority,function(){HR(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=lC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);rC=n,r.target.dispatchEvent(n),rC=null}else return e=ix(r),e!==null&&r3(e),t.blockedOn=r,!1;e.shift()}return!0}function Z6(t,e,r){Xv(t)&&r.delete(e)}function rY(){oC=!1,qc!==null&&Xv(qc)&&(qc=null),Vc!==null&&Xv(Vc)&&(Vc=null),Kc!==null&&Xv(Kc)&&(Kc=null),Og.forEach(Z6),Ig.forEach(Z6)}function ep(t,e){t.blockedOn===e&&(t.blockedOn=null,oC||(oC=!0,$a.unstable_scheduleCallback($a.unstable_NormalPriority,rY)))}function Lg(t){function e(a){return ep(a,t)}if(0<Sy.length){ep(Sy[0],t);for(var r=1;r<Sy.length;r++){var n=Sy[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qc!==null&&ep(qc,t),Vc!==null&&ep(Vc,t),Kc!==null&&ep(Kc,t),Og.forEach(e),Ig.forEach(e),r=0;r<Ec.length;r++)n=Ec[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ec.length&&(r=Ec[0],r.blockedOn===null);)VR(r),r.blockedOn===null&&Ec.shift()}var zh=Vl.ReactCurrentBatchConfig,Pb=!0;function nY(t,e,r,n){var a=hr,i=zh.transition;zh.transition=null;try{hr=1,n3(t,e,r,n)}finally{hr=a,zh.transition=i}}function sY(t,e,r,n){var a=hr,i=zh.transition;zh.transition=null;try{hr=4,n3(t,e,r,n)}finally{hr=a,zh.transition=i}}function n3(t,e,r,n){if(Pb){var a=lC(t,e,r,n);if(a===null)FN(t,e,n,Tb,r),J6(t,n);else if(tY(a,t,e,r,n))n.stopPropagation();else if(J6(t,n),e&4&&-1<eY.indexOf(t)){for(;a!==null;){var i=ix(a);if(i!==null&&$R(i),i=lC(t,e,r,n),i===null&&FN(t,e,n,Tb,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else FN(t,e,n,null,r)}}var Tb=null;function lC(t,e,r,n){if(Tb=null,t=ZB(n),t=du(t),t!==null)if(e=tA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=OR(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tb=t,null}function KR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qX()){case e3:return 1;case DR:return 4;case kb:case VX:return 16;case UR:return 536870912;default:return 16}default:return 16}}var Tc=null,s3=null,Yv=null;function WR(){if(Yv)return Yv;var t,e=s3,r=e.length,n,a="value"in Tc?Tc.value:Tc.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return Yv=a.slice(t,1<n?1-n:void 0)}function Jv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function By(){return!0}function eF(){return!1}function za(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?By:eF,this.isPropagationStopped=eF,this}return Xr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=By)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=By)},persist:function(){},isPersistent:By}),e}var Jf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a3=za(Jf),ax=Xr({},Jf,{view:0,detail:0}),aY=za(ax),wN,jN,tp,T1=Xr({},ax,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i3,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tp&&(tp&&t.type==="mousemove"?(wN=t.screenX-tp.screenX,jN=t.screenY-tp.screenY):jN=wN=0,tp=t),wN)},movementY:function(t){return"movementY"in t?t.movementY:jN}}),tF=za(T1),iY=Xr({},T1,{dataTransfer:0}),oY=za(iY),lY=Xr({},ax,{relatedTarget:0}),NN=za(lY),cY=Xr({},Jf,{animationName:0,elapsedTime:0,pseudoElement:0}),dY=za(cY),uY=Xr({},Jf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AY=za(uY),hY=Xr({},Jf,{data:0}),rF=za(hY),fY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pY[t])?!!e[t]:!1}function i3(){return gY}var xY=Xr({},ax,{key:function(t){if(t.key){var e=fY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i3,charCode:function(t){return t.type==="keypress"?Jv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yY=za(xY),vY=Xr({},T1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nF=za(vY),bY=Xr({},ax,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i3}),wY=za(bY),jY=Xr({},Jf,{propertyName:0,elapsedTime:0,pseudoElement:0}),NY=za(jY),_Y=Xr({},T1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CY=za(_Y),SY=[9,13,27,32],o3=Fl&&"CompositionEvent"in window,Yp=null;Fl&&"documentMode"in document&&(Yp=document.documentMode);var BY=Fl&&"TextEvent"in window&&!Yp,GR=Fl&&(!o3||Yp&&8<Yp&&11>=Yp),sF=" ",aF=!1;function XR(t,e){switch(t){case"keyup":return SY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gh=!1;function EY(t,e){switch(t){case"compositionend":return YR(e);case"keypress":return e.which!==32?null:(aF=!0,sF);case"textInput":return t=e.data,t===sF&&aF?null:t;default:return null}}function kY(t,e){if(gh)return t==="compositionend"||!o3&&XR(t,e)?(t=WR(),Yv=s3=Tc=null,gh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GR&&e.locale!=="ko"?null:e.data;default:return null}}var FY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FY[t.type]:e==="textarea"}function JR(t,e,r,n){ER(n),e=Ob(e,"onChange"),0<e.length&&(r=new a3("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Jp=null,Mg=null;function PY(t){cQ(t,0)}function O1(t){var e=vh(t);if(wR(e))return t}function TY(t,e){if(t==="change")return e}var ZR=!1;if(Fl){var _N;if(Fl){var CN="oninput"in document;if(!CN){var oF=document.createElement("div");oF.setAttribute("oninput","return;"),CN=typeof oF.oninput=="function"}_N=CN}else _N=!1;ZR=_N&&(!document.documentMode||9<document.documentMode)}function lF(){Jp&&(Jp.detachEvent("onpropertychange",eQ),Mg=Jp=null)}function eQ(t){if(t.propertyName==="value"&&O1(Mg)){var e=[];JR(e,Mg,t,ZB(t)),TR(PY,e)}}function OY(t,e,r){t==="focusin"?(lF(),Jp=e,Mg=r,Jp.attachEvent("onpropertychange",eQ)):t==="focusout"&&lF()}function IY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return O1(Mg)}function LY(t,e){if(t==="click")return O1(e)}function MY(t,e){if(t==="input"||t==="change")return O1(e)}function DY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var no=typeof Object.is=="function"?Object.is:DY;function Dg(t,e){if(no(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!z5.call(e,a)||!no(t[a],e[a]))return!1}return!0}function cF(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dF(t,e){var r=cF(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cF(r)}}function tQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rQ(){for(var t=window,e=Sb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sb(t.document)}return e}function l3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UY(t){var e=rQ(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&tQ(r.ownerDocument.documentElement,r)){if(n!==null&&l3(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=dF(r,i);var o=dF(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RY=Fl&&"documentMode"in document&&11>=document.documentMode,xh=null,cC=null,Zp=null,dC=!1;function uF(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dC||xh==null||xh!==Sb(n)||(n=xh,"selectionStart"in n&&l3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zp&&Dg(Zp,n)||(Zp=n,n=Ob(cC,"onSelect"),0<n.length&&(e=new a3("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xh)))}function Ey(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var yh={animationend:Ey("Animation","AnimationEnd"),animationiteration:Ey("Animation","AnimationIteration"),animationstart:Ey("Animation","AnimationStart"),transitionend:Ey("Transition","TransitionEnd")},SN={},nQ={};Fl&&(nQ=document.createElement("div").style,"AnimationEvent"in window||(delete yh.animationend.animation,delete yh.animationiteration.animation,delete yh.animationstart.animation),"TransitionEvent"in window||delete yh.transitionend.transition);function I1(t){if(SN[t])return SN[t];if(!yh[t])return t;var e=yh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in nQ)return SN[t]=e[r];return t}var sQ=I1("animationend"),aQ=I1("animationiteration"),iQ=I1("animationstart"),oQ=I1("transitionend"),lQ=new Map,AF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pd(t,e){lQ.set(t,e),eA(e,[t])}for(var BN=0;BN<AF.length;BN++){var EN=AF[BN],QY=EN.toLowerCase(),$Y=EN[0].toUpperCase()+EN.slice(1);pd(QY,"on"+$Y)}pd(sQ,"onAnimationEnd");pd(aQ,"onAnimationIteration");pd(iQ,"onAnimationStart");pd("dblclick","onDoubleClick");pd("focusin","onFocus");pd("focusout","onBlur");pd(oQ,"onTransitionEnd");Af("onMouseEnter",["mouseout","mouseover"]);Af("onMouseLeave",["mouseout","mouseover"]);Af("onPointerEnter",["pointerout","pointerover"]);Af("onPointerLeave",["pointerout","pointerover"]);eA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eA("onBeforeInput",["compositionend","keypress","textInput","paste"]);eA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ip="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ip));function hF(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,QX(n,e,void 0,t),t.currentTarget=null}function cQ(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;hF(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;hF(a,l,d),i=c}}}if(Eb)throw t=aC,Eb=!1,aC=null,t}function Pr(t,e){var r=e[mC];r===void 0&&(r=e[mC]=new Set);var n=t+"__bubble";r.has(n)||(dQ(e,t,2,!1),r.add(n))}function kN(t,e,r){var n=0;e&&(n|=4),dQ(r,t,n,e)}var ky="_reactListening"+Math.random().toString(36).slice(2);function Ug(t){if(!t[ky]){t[ky]=!0,gR.forEach(function(r){r!=="selectionchange"&&(HY.has(r)||kN(r,!1,t),kN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ky]||(e[ky]=!0,kN("selectionchange",!1,e))}}function dQ(t,e,r,n){switch(KR(e)){case 1:var a=nY;break;case 4:a=sY;break;default:a=n3}r=a.bind(null,e,r,t),a=void 0,!sC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function FN(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=du(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}TR(function(){var d=i,u=ZB(r),A=[];e:{var h=lQ.get(t);if(h!==void 0){var f=a3,g=t;switch(t){case"keypress":if(Jv(r)===0)break e;case"keydown":case"keyup":f=yY;break;case"focusin":g="focus",f=NN;break;case"focusout":g="blur",f=NN;break;case"beforeblur":case"afterblur":f=NN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=tF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=oY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=wY;break;case sQ:case aQ:case iQ:f=dY;break;case oQ:f=NY;break;case"scroll":f=aY;break;case"wheel":f=CY;break;case"copy":case"cut":case"paste":f=AY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nF}var x=(e&4)!==0,m=!x&&t==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var y=d,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,p!==null&&(S=Tg(y,p),S!=null&&x.push(Rg(y,S,w)))),m)break;y=y.return}0<x.length&&(h=new f(h,g,null,r,u),A.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==rC&&(g=r.relatedTarget||r.fromElement)&&(du(g)||g[Pl]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=d,g=g?du(g):null,g!==null&&(m=tA(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(x=tF,S="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=nF,S="onPointerLeave",p="onPointerEnter",y="pointer"),m=f==null?h:vh(f),w=g==null?h:vh(g),h=new x(S,y+"leave",f,r,u),h.target=m,h.relatedTarget=w,S=null,du(u)===d&&(x=new x(p,y+"enter",g,r,u),x.target=w,x.relatedTarget=m,S=x),m=S,f&&g)t:{for(x=f,p=g,y=0,w=x;w;w=$A(w))y++;for(w=0,S=p;S;S=$A(S))w++;for(;0<y-w;)x=$A(x),y--;for(;0<w-y;)p=$A(p),w--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=$A(x),p=$A(p)}x=null}else x=null;f!==null&&fF(A,h,f,x,!1),g!==null&&m!==null&&fF(A,m,g,x,!0)}}e:{if(h=d?vh(d):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var j=TY;else if(iF(h))if(ZR)j=MY;else{j=IY;var _=OY}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=LY);if(j&&(j=j(t,d))){JR(A,j,r,u);break e}_&&_(t,h,d),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Y5(h,"number",h.value)}switch(_=d?vh(d):window,t){case"focusin":(iF(_)||_.contentEditable==="true")&&(xh=_,cC=d,Zp=null);break;case"focusout":Zp=cC=xh=null;break;case"mousedown":dC=!0;break;case"contextmenu":case"mouseup":case"dragend":dC=!1,uF(A,r,u);break;case"selectionchange":if(RY)break;case"keydown":case"keyup":uF(A,r,u)}var F;if(o3)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else gh?XR(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(GR&&r.locale!=="ko"&&(gh||C!=="onCompositionStart"?C==="onCompositionEnd"&&gh&&(F=WR()):(Tc=u,s3="value"in Tc?Tc.value:Tc.textContent,gh=!0)),_=Ob(d,C),0<_.length&&(C=new rF(C,t,null,r,u),A.push({event:C,listeners:_}),F?C.data=F:(F=YR(r),F!==null&&(C.data=F)))),(F=BY?EY(t,r):kY(t,r))&&(d=Ob(d,"onBeforeInput"),0<d.length&&(u=new rF("onBeforeInput","beforeinput",null,r,u),A.push({event:u,listeners:d}),u.data=F))}cQ(A,e)})}function Rg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ob(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Tg(t,r),i!=null&&n.unshift(Rg(t,i,a)),i=Tg(t,e),i!=null&&n.push(Rg(t,i,a))),t=t.return}return n}function $A(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fF(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Tg(r,i),c!=null&&o.unshift(Rg(r,c,l))):a||(c=Tg(r,i),c!=null&&o.push(Rg(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var zY=/\r\n?/g,qY=/\u0000|\uFFFD/g;function mF(t){return(typeof t=="string"?t:""+t).replace(zY,`
`).replace(qY,"")}function Fy(t,e,r){if(e=mF(e),mF(t)!==e&&r)throw Error(Xe(425))}function Ib(){}var uC=null,AC=null;function hC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fC=typeof setTimeout=="function"?setTimeout:void 0,VY=typeof clearTimeout=="function"?clearTimeout:void 0,pF=typeof Promise=="function"?Promise:void 0,KY=typeof queueMicrotask=="function"?queueMicrotask:typeof pF<"u"?function(t){return pF.resolve(null).then(t).catch(WY)}:fC;function WY(t){setTimeout(function(){throw t})}function PN(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Lg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Lg(e)}function Wc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gF(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Zf=Math.random().toString(36).slice(2),Eo="__reactFiber$"+Zf,Qg="__reactProps$"+Zf,Pl="__reactContainer$"+Zf,mC="__reactEvents$"+Zf,GY="__reactListeners$"+Zf,XY="__reactHandles$"+Zf;function du(t){var e=t[Eo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pl]||r[Eo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=gF(t);t!==null;){if(r=t[Eo])return r;t=gF(t)}return e}t=r,r=t.parentNode}return null}function ix(t){return t=t[Eo]||t[Pl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Xe(33))}function L1(t){return t[Qg]||null}var pC=[],bh=-1;function gd(t){return{current:t}}function Mr(t){0>bh||(t.current=pC[bh],pC[bh]=null,bh--)}function Er(t,e){bh++,pC[bh]=t.current,t.current=e}var od={},Ms=gd(od),ya=gd(!1),Du=od;function hf(t,e){var r=t.type.contextTypes;if(!r)return od;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function va(t){return t=t.childContextTypes,t!=null}function Lb(){Mr(ya),Mr(Ms)}function xF(t,e,r){if(Ms.current!==od)throw Error(Xe(168));Er(Ms,e),Er(ya,r)}function uQ(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(Xe(108,OX(t)||"Unknown",a));return Xr({},r,n)}function Mb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||od,Du=Ms.current,Er(Ms,t),Er(ya,ya.current),!0}function yF(t,e,r){var n=t.stateNode;if(!n)throw Error(Xe(169));r?(t=uQ(t,e,Du),n.__reactInternalMemoizedMergedChildContext=t,Mr(ya),Mr(Ms),Er(Ms,t)):Mr(ya),Er(ya,r)}var ml=null,M1=!1,TN=!1;function AQ(t){ml===null?ml=[t]:ml.push(t)}function YY(t){M1=!0,AQ(t)}function xd(){if(!TN&&ml!==null){TN=!0;var t=0,e=hr;try{var r=ml;for(hr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ml=null,M1=!1}catch(a){throw ml!==null&&(ml=ml.slice(t+1)),MR(e3,xd),a}finally{hr=e,TN=!1}}return null}var wh=[],jh=0,Db=null,Ub=0,oi=[],li=0,Uu=null,gl=1,xl="";function Wd(t,e){wh[jh++]=Ub,wh[jh++]=Db,Db=t,Ub=e}function hQ(t,e,r){oi[li++]=gl,oi[li++]=xl,oi[li++]=Uu,Uu=t;var n=gl;t=xl;var a=32-Zi(n)-1;n&=~(1<<a),r+=1;var i=32-Zi(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,gl=1<<32-Zi(e)+a|r<<a|n,xl=i+t}else gl=1<<i|r<<a|n,xl=t}function c3(t){t.return!==null&&(Wd(t,1),hQ(t,1,0))}function d3(t){for(;t===Db;)Db=wh[--jh],wh[jh]=null,Ub=wh[--jh],wh[jh]=null;for(;t===Uu;)Uu=oi[--li],oi[li]=null,xl=oi[--li],oi[li]=null,gl=oi[--li],oi[li]=null}var Ua=null,Ma=null,Rr=!1,Gi=null;function fQ(t,e){var r=ui(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function vF(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ua=t,Ma=Wc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ua=t,Ma=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Uu!==null?{id:gl,overflow:xl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ui(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ua=t,Ma=null,!0):!1;default:return!1}}function gC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xC(t){if(Rr){var e=Ma;if(e){var r=e;if(!vF(t,e)){if(gC(t))throw Error(Xe(418));e=Wc(r.nextSibling);var n=Ua;e&&vF(t,e)?fQ(n,r):(t.flags=t.flags&-4097|2,Rr=!1,Ua=t)}}else{if(gC(t))throw Error(Xe(418));t.flags=t.flags&-4097|2,Rr=!1,Ua=t}}}function bF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ua=t}function Py(t){if(t!==Ua)return!1;if(!Rr)return bF(t),Rr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hC(t.type,t.memoizedProps)),e&&(e=Ma)){if(gC(t))throw mQ(),Error(Xe(418));for(;e;)fQ(t,e),e=Wc(e.nextSibling)}if(bF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ma=Wc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ma=null}}else Ma=Ua?Wc(t.stateNode.nextSibling):null;return!0}function mQ(){for(var t=Ma;t;)t=Wc(t.nextSibling)}function ff(){Ma=Ua=null,Rr=!1}function u3(t){Gi===null?Gi=[t]:Gi.push(t)}var JY=Vl.ReactCurrentBatchConfig;function rp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Xe(309));var n=r.stateNode}if(!n)throw Error(Xe(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Xe(284));if(!r._owner)throw Error(Xe(290,t))}return t}function Ty(t,e){throw t=Object.prototype.toString.call(e),Error(Xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wF(t){var e=t._init;return e(t._payload)}function pQ(t){function e(p,y){if(t){var w=p.deletions;w===null?(p.deletions=[y],p.flags|=16):w.push(y)}}function r(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function a(p,y){return p=Jc(p,y),p.index=0,p.sibling=null,p}function i(p,y,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<y?(p.flags|=2,y):w):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,y,w,S){return y===null||y.tag!==6?(y=RN(w,p.mode,S),y.return=p,y):(y=a(y,w),y.return=p,y)}function c(p,y,w,S){var j=w.type;return j===ph?u(p,y,w.props.children,S,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nc&&wF(j)===y.type)?(S=a(y,w.props),S.ref=rp(p,y,w),S.return=p,S):(S=ab(w.type,w.key,w.props,null,p.mode,S),S.ref=rp(p,y,w),S.return=p,S)}function d(p,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=QN(w,p.mode,S),y.return=p,y):(y=a(y,w.children||[]),y.return=p,y)}function u(p,y,w,S,j){return y===null||y.tag!==7?(y=_u(w,p.mode,S,j),y.return=p,y):(y=a(y,w),y.return=p,y)}function A(p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=RN(""+y,p.mode,w),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wy:return w=ab(y.type,y.key,y.props,null,p.mode,w),w.ref=rp(p,null,y),w.return=p,w;case mh:return y=QN(y,p.mode,w),y.return=p,y;case Nc:var S=y._init;return A(p,S(y._payload),w)}if(Tp(y)||Ym(y))return y=_u(y,p.mode,w,null),y.return=p,y;Ty(p,y)}return null}function h(p,y,w,S){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(p,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wy:return w.key===j?c(p,y,w,S):null;case mh:return w.key===j?d(p,y,w,S):null;case Nc:return j=w._init,h(p,y,j(w._payload),S)}if(Tp(w)||Ym(w))return j!==null?null:u(p,y,w,S,null);Ty(p,w)}return null}function f(p,y,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(w)||null,l(y,p,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wy:return p=p.get(S.key===null?w:S.key)||null,c(y,p,S,j);case mh:return p=p.get(S.key===null?w:S.key)||null,d(y,p,S,j);case Nc:var _=S._init;return f(p,y,w,_(S._payload),j)}if(Tp(S)||Ym(S))return p=p.get(w)||null,u(y,p,S,j,null);Ty(y,S)}return null}function g(p,y,w,S){for(var j=null,_=null,F=y,C=y=0,E=null;F!==null&&C<w.length;C++){F.index>C?(E=F,F=null):E=F.sibling;var T=h(p,F,w[C],S);if(T===null){F===null&&(F=E);break}t&&F&&T.alternate===null&&e(p,F),y=i(T,y,C),_===null?j=T:_.sibling=T,_=T,F=E}if(C===w.length)return r(p,F),Rr&&Wd(p,C),j;if(F===null){for(;C<w.length;C++)F=A(p,w[C],S),F!==null&&(y=i(F,y,C),_===null?j=F:_.sibling=F,_=F);return Rr&&Wd(p,C),j}for(F=n(p,F);C<w.length;C++)E=f(F,p,C,w[C],S),E!==null&&(t&&E.alternate!==null&&F.delete(E.key===null?C:E.key),y=i(E,y,C),_===null?j=E:_.sibling=E,_=E);return t&&F.forEach(function(v){return e(p,v)}),Rr&&Wd(p,C),j}function x(p,y,w,S){var j=Ym(w);if(typeof j!="function")throw Error(Xe(150));if(w=j.call(w),w==null)throw Error(Xe(151));for(var _=j=null,F=y,C=y=0,E=null,T=w.next();F!==null&&!T.done;C++,T=w.next()){F.index>C?(E=F,F=null):E=F.sibling;var v=h(p,F,T.value,S);if(v===null){F===null&&(F=E);break}t&&F&&v.alternate===null&&e(p,F),y=i(v,y,C),_===null?j=v:_.sibling=v,_=v,F=E}if(T.done)return r(p,F),Rr&&Wd(p,C),j;if(F===null){for(;!T.done;C++,T=w.next())T=A(p,T.value,S),T!==null&&(y=i(T,y,C),_===null?j=T:_.sibling=T,_=T);return Rr&&Wd(p,C),j}for(F=n(p,F);!T.done;C++,T=w.next())T=f(F,p,C,T.value,S),T!==null&&(t&&T.alternate!==null&&F.delete(T.key===null?C:T.key),y=i(T,y,C),_===null?j=T:_.sibling=T,_=T);return t&&F.forEach(function(N){return e(p,N)}),Rr&&Wd(p,C),j}function m(p,y,w,S){if(typeof w=="object"&&w!==null&&w.type===ph&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wy:e:{for(var j=w.key,_=y;_!==null;){if(_.key===j){if(j=w.type,j===ph){if(_.tag===7){r(p,_.sibling),y=a(_,w.props.children),y.return=p,p=y;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nc&&wF(j)===_.type){r(p,_.sibling),y=a(_,w.props),y.ref=rp(p,_,w),y.return=p,p=y;break e}r(p,_);break}else e(p,_);_=_.sibling}w.type===ph?(y=_u(w.props.children,p.mode,S,w.key),y.return=p,p=y):(S=ab(w.type,w.key,w.props,null,p.mode,S),S.ref=rp(p,y,w),S.return=p,p=S)}return o(p);case mh:e:{for(_=w.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(p,y.sibling),y=a(y,w.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else e(p,y);y=y.sibling}y=QN(w,p.mode,S),y.return=p,p=y}return o(p);case Nc:return _=w._init,m(p,y,_(w._payload),S)}if(Tp(w))return g(p,y,w,S);if(Ym(w))return x(p,y,w,S);Ty(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(p,y.sibling),y=a(y,w),y.return=p,p=y):(r(p,y),y=RN(w,p.mode,S),y.return=p,p=y),o(p)):r(p,y)}return m}var mf=pQ(!0),gQ=pQ(!1),Rb=gd(null),Qb=null,Nh=null,A3=null;function h3(){A3=Nh=Qb=null}function f3(t){var e=Rb.current;Mr(Rb),t._currentValue=e}function yC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function qh(t,e){Qb=t,A3=Nh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ma=!0),t.firstContext=null)}function vi(t){var e=t._currentValue;if(A3!==t)if(t={context:t,memoizedValue:e,next:null},Nh===null){if(Qb===null)throw Error(Xe(308));Nh=t,Qb.dependencies={lanes:0,firstContext:t}}else Nh=Nh.next=t;return e}var uu=null;function m3(t){uu===null?uu=[t]:uu.push(t)}function xQ(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,m3(e)):(r.next=a.next,a.next=r),e.interleaved=r,Tl(t,n)}function Tl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _c=!1;function p3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Yt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Tl(t,r)}return a=n.interleaved,a===null?(e.next=e,m3(n)):(e.next=a.next,a.next=e),n.interleaved=e,Tl(t,r)}function Zv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,t3(t,r)}}function jF(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function $b(t,e,r,n){var a=t.updateQueue;_c=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var A=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,f=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(h=e,f=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){A=g.call(f,A,h);break e}A=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(f,A,h):g,h==null)break e;A=Xr({},A,h);break e;case 2:_c=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=A):u=u.next=f,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=A),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);Qu|=o,t.lanes=o,t.memoizedState=A}}function NF(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Xe(191,a));a.call(n)}}}var ox={},To=gd(ox),$g=gd(ox),Hg=gd(ox);function Au(t){if(t===ox)throw Error(Xe(174));return t}function g3(t,e){switch(Er(Hg,e),Er($g,t),Er(To,ox),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z5(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Z5(e,t)}Mr(To),Er(To,e)}function pf(){Mr(To),Mr($g),Mr(Hg)}function vQ(t){Au(Hg.current);var e=Au(To.current),r=Z5(e,t.type);e!==r&&(Er($g,t),Er(To,r))}function x3(t){$g.current===t&&(Mr(To),Mr($g))}var qr=gd(0);function Hb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ON=[];function y3(){for(var t=0;t<ON.length;t++)ON[t]._workInProgressVersionPrimary=null;ON.length=0}var eb=Vl.ReactCurrentDispatcher,IN=Vl.ReactCurrentBatchConfig,Ru=0,Gr=null,Un=null,Jn=null,zb=!1,eg=!1,zg=0,ZY=0;function xs(){throw Error(Xe(321))}function v3(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!no(t[r],e[r]))return!1;return!0}function b3(t,e,r,n,a,i){if(Ru=i,Gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eb.current=t===null||t.memoizedState===null?nJ:sJ,t=r(n,a),eg){i=0;do{if(eg=!1,zg=0,25<=i)throw Error(Xe(301));i+=1,Jn=Un=null,e.updateQueue=null,eb.current=aJ,t=r(n,a)}while(eg)}if(eb.current=qb,e=Un!==null&&Un.next!==null,Ru=0,Jn=Un=Gr=null,zb=!1,e)throw Error(Xe(300));return t}function w3(){var t=zg!==0;return zg=0,t}function Co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?Gr.memoizedState=Jn=t:Jn=Jn.next=t,Jn}function bi(){if(Un===null){var t=Gr.alternate;t=t!==null?t.memoizedState:null}else t=Un.next;var e=Jn===null?Gr.memoizedState:Jn.next;if(e!==null)Jn=e,Un=t;else{if(t===null)throw Error(Xe(310));Un=t,t={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Jn===null?Gr.memoizedState=Jn=t:Jn=Jn.next=t}return Jn}function qg(t,e){return typeof e=="function"?e(t):e}function LN(t){var e=bi(),r=e.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=t;var n=Un,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ru&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var A={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=A,o=n):c=c.next=A,Gr.lanes|=u,Qu|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,no(n,e.memoizedState)||(ma=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Gr.lanes|=i,Qu|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function MN(t){var e=bi(),r=e.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);no(i,e.memoizedState)||(ma=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function bQ(){}function wQ(t,e){var r=Gr,n=bi(),a=e(),i=!no(n.memoizedState,a);if(i&&(n.memoizedState=a,ma=!0),n=n.queue,j3(_Q.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Jn!==null&&Jn.memoizedState.tag&1){if(r.flags|=2048,Vg(9,NQ.bind(null,r,n,a,e),void 0,null),rs===null)throw Error(Xe(349));Ru&30||jQ(r,e,a)}return a}function jQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Gr.updateQueue,e===null?(e={lastEffect:null,stores:null},Gr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function NQ(t,e,r,n){e.value=r,e.getSnapshot=n,CQ(e)&&SQ(t)}function _Q(t,e,r){return r(function(){CQ(e)&&SQ(t)})}function CQ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!no(t,r)}catch{return!0}}function SQ(t){var e=Tl(t,1);e!==null&&eo(e,t,1,-1)}function _F(t){var e=Co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:t},e.queue=t,t=t.dispatch=rJ.bind(null,Gr,t),[e.memoizedState,t]}function Vg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Gr.updateQueue,e===null?(e={lastEffect:null,stores:null},Gr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function BQ(){return bi().memoizedState}function tb(t,e,r,n){var a=Co();Gr.flags|=t,a.memoizedState=Vg(1|e,r,void 0,n===void 0?null:n)}function D1(t,e,r,n){var a=bi();n=n===void 0?null:n;var i=void 0;if(Un!==null){var o=Un.memoizedState;if(i=o.destroy,n!==null&&v3(n,o.deps)){a.memoizedState=Vg(e,r,i,n);return}}Gr.flags|=t,a.memoizedState=Vg(1|e,r,i,n)}function CF(t,e){return tb(8390656,8,t,e)}function j3(t,e){return D1(2048,8,t,e)}function EQ(t,e){return D1(4,2,t,e)}function kQ(t,e){return D1(4,4,t,e)}function FQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PQ(t,e,r){return r=r!=null?r.concat([t]):null,D1(4,4,FQ.bind(null,e,t),r)}function N3(){}function TQ(t,e){var r=bi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&v3(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function OQ(t,e){var r=bi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&v3(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function IQ(t,e,r){return Ru&21?(no(r,e)||(r=RR(),Gr.lanes|=r,Qu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ma=!0),t.memoizedState=r)}function eJ(t,e){var r=hr;hr=r!==0&&4>r?r:4,t(!0);var n=IN.transition;IN.transition={};try{t(!1),e()}finally{hr=r,IN.transition=n}}function LQ(){return bi().memoizedState}function tJ(t,e,r){var n=Yc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},MQ(t))DQ(e,r);else if(r=xQ(t,e,r,n),r!==null){var a=Xs();eo(r,t,n,a),UQ(r,e,n)}}function rJ(t,e,r){var n=Yc(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(MQ(t))DQ(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,no(l,o)){var c=e.interleaved;c===null?(a.next=a,m3(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=xQ(t,e,a,n),r!==null&&(a=Xs(),eo(r,t,n,a),UQ(r,e,n))}}function MQ(t){var e=t.alternate;return t===Gr||e!==null&&e===Gr}function DQ(t,e){eg=zb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function UQ(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,t3(t,r)}}var qb={readContext:vi,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},nJ={readContext:vi,useCallback:function(t,e){return Co().memoizedState=[t,e===void 0?null:e],t},useContext:vi,useEffect:CF,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,tb(4194308,4,FQ.bind(null,e,t),r)},useLayoutEffect:function(t,e){return tb(4194308,4,t,e)},useInsertionEffect:function(t,e){return tb(4,2,t,e)},useMemo:function(t,e){var r=Co();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Co();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=tJ.bind(null,Gr,t),[n.memoizedState,t]},useRef:function(t){var e=Co();return t={current:t},e.memoizedState=t},useState:_F,useDebugValue:N3,useDeferredValue:function(t){return Co().memoizedState=t},useTransition:function(){var t=_F(!1),e=t[0];return t=eJ.bind(null,t[1]),Co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Gr,a=Co();if(Rr){if(r===void 0)throw Error(Xe(407));r=r()}else{if(r=e(),rs===null)throw Error(Xe(349));Ru&30||jQ(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,CF(_Q.bind(null,n,i,t),[t]),n.flags|=2048,Vg(9,NQ.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Co(),e=rs.identifierPrefix;if(Rr){var r=xl,n=gl;r=(n&~(1<<32-Zi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=zg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ZY++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sJ={readContext:vi,useCallback:TQ,useContext:vi,useEffect:j3,useImperativeHandle:PQ,useInsertionEffect:EQ,useLayoutEffect:kQ,useMemo:OQ,useReducer:LN,useRef:BQ,useState:function(){return LN(qg)},useDebugValue:N3,useDeferredValue:function(t){var e=bi();return IQ(e,Un.memoizedState,t)},useTransition:function(){var t=LN(qg)[0],e=bi().memoizedState;return[t,e]},useMutableSource:bQ,useSyncExternalStore:wQ,useId:LQ,unstable_isNewReconciler:!1},aJ={readContext:vi,useCallback:TQ,useContext:vi,useEffect:j3,useImperativeHandle:PQ,useInsertionEffect:EQ,useLayoutEffect:kQ,useMemo:OQ,useReducer:MN,useRef:BQ,useState:function(){return MN(qg)},useDebugValue:N3,useDeferredValue:function(t){var e=bi();return Un===null?e.memoizedState=t:IQ(e,Un.memoizedState,t)},useTransition:function(){var t=MN(qg)[0],e=bi().memoizedState;return[t,e]},useMutableSource:bQ,useSyncExternalStore:wQ,useId:LQ,unstable_isNewReconciler:!1};function zi(t,e){if(t&&t.defaultProps){e=Xr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Xr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var U1={isMounted:function(t){return(t=t._reactInternals)?tA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xs(),a=Yc(t),i=Sl(n,a);i.payload=e,r!=null&&(i.callback=r),e=Gc(t,i,a),e!==null&&(eo(e,t,a,n),Zv(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xs(),a=Yc(t),i=Sl(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Gc(t,i,a),e!==null&&(eo(e,t,a,n),Zv(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xs(),n=Yc(t),a=Sl(r,n);a.tag=2,e!=null&&(a.callback=e),e=Gc(t,a,n),e!==null&&(eo(e,t,n,r),Zv(e,t,n))}};function SF(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dg(r,n)||!Dg(a,i):!0}function RQ(t,e,r){var n=!1,a=od,i=e.contextType;return typeof i=="object"&&i!==null?i=vi(i):(a=va(e)?Du:Ms.current,n=e.contextTypes,i=(n=n!=null)?hf(t,a):od),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=U1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function BF(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&U1.enqueueReplaceState(e,e.state,null)}function bC(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},p3(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=vi(i):(i=va(e)?Du:Ms.current,a.context=hf(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vC(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&U1.enqueueReplaceState(a,a.state,null),$b(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function gf(t,e){try{var r="",n=e;do r+=TX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function DN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var iJ=typeof WeakMap=="function"?WeakMap:Map;function QQ(t,e,r){r=Sl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Kb||(Kb=!0,PC=n),wC(t,e)},r}function $Q(t,e,r){r=Sl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){wC(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){wC(t,e),typeof n!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function EF(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new iJ;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=vJ.bind(null,t,e,r),e.then(t,t))}function kF(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FF(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sl(-1,1),e.tag=2,Gc(r,e,1))),r.lanes|=1),t)}var oJ=Vl.ReactCurrentOwner,ma=!1;function zs(t,e,r,n){e.child=t===null?gQ(e,null,r,n):mf(e,t.child,r,n)}function PF(t,e,r,n,a){r=r.render;var i=e.ref;return qh(e,a),n=b3(t,e,r,n,i,a),r=w3(),t!==null&&!ma?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ol(t,e,a)):(Rr&&r&&c3(e),e.flags|=1,zs(t,e,n,a),e.child)}function TF(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!P3(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,HQ(t,e,i,n,a)):(t=ab(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Dg,r(o,n)&&t.ref===e.ref)return Ol(t,e,a)}return e.flags|=1,t=Jc(i,n),t.ref=e.ref,t.return=e,e.child=t}function HQ(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Dg(i,n)&&t.ref===e.ref)if(ma=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(ma=!0);else return e.lanes=t.lanes,Ol(t,e,a)}return jC(t,e,r,n,a)}function zQ(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Ch,Ta),Ta|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Er(Ch,Ta),Ta|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Er(Ch,Ta),Ta|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Er(Ch,Ta),Ta|=n;return zs(t,e,a,r),e.child}function qQ(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jC(t,e,r,n,a){var i=va(r)?Du:Ms.current;return i=hf(e,i),qh(e,a),r=b3(t,e,r,n,i,a),n=w3(),t!==null&&!ma?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ol(t,e,a)):(Rr&&n&&c3(e),e.flags|=1,zs(t,e,r,a),e.child)}function OF(t,e,r,n,a){if(va(r)){var i=!0;Mb(e)}else i=!1;if(qh(e,a),e.stateNode===null)rb(t,e),RQ(e,r,n),bC(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=vi(d):(d=va(r)?Du:Ms.current,d=hf(e,d));var u=r.getDerivedStateFromProps,A=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&BF(e,o,n,d),_c=!1;var h=e.memoizedState;o.state=h,$b(e,n,o,a),c=e.memoizedState,l!==n||h!==c||ya.current||_c?(typeof u=="function"&&(vC(e,r,u,n),c=e.memoizedState),(l=_c||SF(e,r,l,n,h,c,d))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,yQ(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:zi(e.type,l),o.props=d,A=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vi(c):(c=va(r)?Du:Ms.current,c=hf(e,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==A||h!==c)&&BF(e,o,n,c),_c=!1,h=e.memoizedState,o.state=h,$b(e,n,o,a);var g=e.memoizedState;l!==A||h!==g||ya.current||_c?(typeof f=="function"&&(vC(e,r,f,n),g=e.memoizedState),(d=_c||SF(e,r,d,n,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return NC(t,e,r,n,i,a)}function NC(t,e,r,n,a,i){qQ(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&yF(e,r,!1),Ol(t,e,i);n=e.stateNode,oJ.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=mf(e,t.child,null,i),e.child=mf(e,null,l,i)):zs(t,e,l,i),e.memoizedState=n.state,a&&yF(e,r,!0),e.child}function VQ(t){var e=t.stateNode;e.pendingContext?xF(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xF(t,e.context,!1),g3(t,e.containerInfo)}function IF(t,e,r,n,a){return ff(),u3(a),e.flags|=256,zs(t,e,r,n),e.child}var _C={dehydrated:null,treeContext:null,retryLane:0};function CC(t){return{baseLanes:t,cachePool:null,transitions:null}}function KQ(t,e,r){var n=e.pendingProps,a=qr.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Er(qr,a&1),t===null)return xC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$1(o,n,0,null),t=_u(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=CC(r),e.memoizedState=_C,t):_3(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return lJ(t,e,o,n,l,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Jc(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Jc(l,i):(i=_u(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?CC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=_C,n}return i=t.child,t=i.sibling,n=Jc(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function _3(t,e){return e=$1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oy(t,e,r,n){return n!==null&&u3(n),mf(e,t.child,null,r),t=_3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lJ(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=DN(Error(Xe(422))),Oy(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=$1({mode:"visible",children:n.children},a,0,null),i=_u(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&mf(e,t.child,null,o),e.child.memoizedState=CC(o),e.memoizedState=_C,i);if(!(e.mode&1))return Oy(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Xe(419)),n=DN(i,n,void 0),Oy(t,e,o,n)}if(l=(o&t.childLanes)!==0,ma||l){if(n=rs,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Tl(t,a),eo(n,t,a,-1))}return F3(),n=DN(Error(Xe(421))),Oy(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=bJ.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Ma=Wc(a.nextSibling),Ua=e,Rr=!0,Gi=null,t!==null&&(oi[li++]=gl,oi[li++]=xl,oi[li++]=Uu,gl=t.id,xl=t.overflow,Uu=e),e=_3(e,n.children),e.flags|=4096,e)}function LF(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yC(t.return,e,r)}function UN(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function WQ(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(zs(t,e,n.children,r),n=qr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LF(t,r,e);else if(t.tag===19)LF(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Er(qr,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Hb(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),UN(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Hb(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}UN(e,!0,r,null,i);break;case"together":UN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ol(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Xe(153));if(e.child!==null){for(t=e.child,r=Jc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Jc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function cJ(t,e,r){switch(e.tag){case 3:VQ(e),ff();break;case 5:vQ(e);break;case 1:va(e.type)&&Mb(e);break;case 4:g3(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Er(Rb,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Er(qr,qr.current&1),e.flags|=128,null):r&e.child.childLanes?KQ(t,e,r):(Er(qr,qr.current&1),t=Ol(t,e,r),t!==null?t.sibling:null);Er(qr,qr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return WQ(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Er(qr,qr.current),n)break;return null;case 22:case 23:return e.lanes=0,zQ(t,e,r)}return Ol(t,e,r)}var GQ,SC,XQ,YQ;GQ=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};SC=function(){};XQ=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Au(To.current);var i=null;switch(r){case"input":a=G5(t,a),n=G5(t,n),i=[];break;case"select":a=Xr({},a,{value:void 0}),n=Xr({},n,{value:void 0}),i=[];break;case"textarea":a=J5(t,a),n=J5(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ib)}eC(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Pr("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};YQ=function(t,e,r,n){r!==n&&(e.flags|=4)};function np(t,e){if(!Rr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ys(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function dJ(t,e,r){var n=e.pendingProps;switch(d3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(e),null;case 1:return va(e.type)&&Lb(),ys(e),null;case 3:return n=e.stateNode,pf(),Mr(ya),Mr(Ms),y3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Py(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gi!==null&&(IC(Gi),Gi=null))),SC(t,e),ys(e),null;case 5:x3(e);var a=Au(Hg.current);if(r=e.type,t!==null&&e.stateNode!=null)XQ(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Xe(166));return ys(e),null}if(t=Au(To.current),Py(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Eo]=e,n[Qg]=i,t=(e.mode&1)!==0,r){case"dialog":Pr("cancel",n),Pr("close",n);break;case"iframe":case"object":case"embed":Pr("load",n);break;case"video":case"audio":for(a=0;a<Ip.length;a++)Pr(Ip[a],n);break;case"source":Pr("error",n);break;case"img":case"image":case"link":Pr("error",n),Pr("load",n);break;case"details":Pr("toggle",n);break;case"input":q6(n,i),Pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Pr("invalid",n);break;case"textarea":K6(n,i),Pr("invalid",n)}eC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fy(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fy(n.textContent,l,t),a=["children",""+l]):Fg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Pr("scroll",n)}switch(r){case"input":jy(n),V6(n,i,!0);break;case"textarea":jy(n),W6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ib)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_R(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Eo]=e,t[Qg]=n,GQ(t,e,!1,!1),e.stateNode=t;e:{switch(o=tC(r,n),r){case"dialog":Pr("cancel",t),Pr("close",t),a=n;break;case"iframe":case"object":case"embed":Pr("load",t),a=n;break;case"video":case"audio":for(a=0;a<Ip.length;a++)Pr(Ip[a],t);a=n;break;case"source":Pr("error",t),a=n;break;case"img":case"image":case"link":Pr("error",t),Pr("load",t),a=n;break;case"details":Pr("toggle",t),a=n;break;case"input":q6(t,n),a=G5(t,n),Pr("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Xr({},n,{value:void 0}),Pr("invalid",t);break;case"textarea":K6(t,n),a=J5(t,n),Pr("invalid",t);break;default:a=n}eC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?BR(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&CR(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Pg(t,c):typeof c=="number"&&Pg(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Pr("scroll",t):c!=null&&GB(t,i,c,o))}switch(r){case"input":jy(t),V6(t,n,!1);break;case"textarea":jy(t),W6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+id(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Qh(t,!!n.multiple,i,!1):n.defaultValue!=null&&Qh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Ib)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ys(e),null;case 6:if(t&&e.stateNode!=null)YQ(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Xe(166));if(r=Au(Hg.current),Au(To.current),Py(e)){if(n=e.stateNode,r=e.memoizedProps,n[Eo]=e,(i=n.nodeValue!==r)&&(t=Ua,t!==null))switch(t.tag){case 3:Fy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fy(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Eo]=e,e.stateNode=n}return ys(e),null;case 13:if(Mr(qr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rr&&Ma!==null&&e.mode&1&&!(e.flags&128))mQ(),ff(),e.flags|=98560,i=!1;else if(i=Py(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Xe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Xe(317));i[Eo]=e}else ff(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ys(e),i=!1}else Gi!==null&&(IC(Gi),Gi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||qr.current&1?Qn===0&&(Qn=3):F3())),e.updateQueue!==null&&(e.flags|=4),ys(e),null);case 4:return pf(),SC(t,e),t===null&&Ug(e.stateNode.containerInfo),ys(e),null;case 10:return f3(e.type._context),ys(e),null;case 17:return va(e.type)&&Lb(),ys(e),null;case 19:if(Mr(qr),i=e.memoizedState,i===null)return ys(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)np(i,!1);else{if(Qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hb(t),o!==null){for(e.flags|=128,np(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Er(qr,qr.current&1|2),e.child}t=t.sibling}i.tail!==null&&hn()>xf&&(e.flags|=128,n=!0,np(i,!1),e.lanes=4194304)}else{if(!n)if(t=Hb(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),np(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Rr)return ys(e),null}else 2*hn()-i.renderingStartTime>xf&&r!==1073741824&&(e.flags|=128,n=!0,np(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=hn(),e.sibling=null,r=qr.current,Er(qr,n?r&1|2:r&1),e):(ys(e),null);case 22:case 23:return k3(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ta&1073741824&&(ys(e),e.subtreeFlags&6&&(e.flags|=8192)):ys(e),null;case 24:return null;case 25:return null}throw Error(Xe(156,e.tag))}function uJ(t,e){switch(d3(e),e.tag){case 1:return va(e.type)&&Lb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pf(),Mr(ya),Mr(Ms),y3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x3(e),null;case 13:if(Mr(qr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Xe(340));ff()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mr(qr),null;case 4:return pf(),null;case 10:return f3(e.type._context),null;case 22:case 23:return k3(),null;case 24:return null;default:return null}}var Iy=!1,Bs=!1,AJ=typeof WeakSet=="function"?WeakSet:Set,ot=null;function _h(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sn(t,e,n)}else r.current=null}function BC(t,e,r){try{r()}catch(n){sn(t,e,n)}}var MF=!1;function hJ(t,e){if(uC=Pb,t=rQ(),l3(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,A=t,h=null;t:for(;;){for(var f;A!==r||a!==0&&A.nodeType!==3||(l=o+a),A!==i||n!==0&&A.nodeType!==3||(c=o+n),A.nodeType===3&&(o+=A.nodeValue.length),(f=A.firstChild)!==null;)h=A,A=f;for(;;){if(A===t)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===n&&(c=o),(f=A.nextSibling)!==null)break;A=h,h=A.parentNode}A=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(AC={focusedElem:t,selectionRange:r},Pb=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){e=ot;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,m=g.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:zi(e.type,x),m);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xe(163))}}catch(S){sn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}return g=MF,MF=!1,g}function tg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&BC(e,r,i)}a=a.next}while(a!==n)}}function R1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function EC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function JQ(t){var e=t.alternate;e!==null&&(t.alternate=null,JQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Eo],delete e[Qg],delete e[mC],delete e[GY],delete e[XY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZQ(t){return t.tag===5||t.tag===3||t.tag===4}function DF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ib));else if(n!==4&&(t=t.child,t!==null))for(kC(t,e,r),t=t.sibling;t!==null;)kC(t,e,r),t=t.sibling}function FC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(FC(t,e,r),t=t.sibling;t!==null;)FC(t,e,r),t=t.sibling}var ls=null,Vi=!1;function fc(t,e,r){for(r=r.child;r!==null;)e7(t,e,r),r=r.sibling}function e7(t,e,r){if(Po&&typeof Po.onCommitFiberUnmount=="function")try{Po.onCommitFiberUnmount(P1,r)}catch{}switch(r.tag){case 5:Bs||_h(r,e);case 6:var n=ls,a=Vi;ls=null,fc(t,e,r),ls=n,Vi=a,ls!==null&&(Vi?(t=ls,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ls.removeChild(r.stateNode));break;case 18:ls!==null&&(Vi?(t=ls,r=r.stateNode,t.nodeType===8?PN(t.parentNode,r):t.nodeType===1&&PN(t,r),Lg(t)):PN(ls,r.stateNode));break;case 4:n=ls,a=Vi,ls=r.stateNode.containerInfo,Vi=!0,fc(t,e,r),ls=n,Vi=a;break;case 0:case 11:case 14:case 15:if(!Bs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&BC(r,e,o),a=a.next}while(a!==n)}fc(t,e,r);break;case 1:if(!Bs&&(_h(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){sn(r,e,l)}fc(t,e,r);break;case 21:fc(t,e,r);break;case 22:r.mode&1?(Bs=(n=Bs)||r.memoizedState!==null,fc(t,e,r),Bs=n):fc(t,e,r);break;default:fc(t,e,r)}}function UF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new AJ),e.forEach(function(n){var a=wJ.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Mi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ls=l.stateNode,Vi=!1;break e;case 3:ls=l.stateNode.containerInfo,Vi=!0;break e;case 4:ls=l.stateNode.containerInfo,Vi=!0;break e}l=l.return}if(ls===null)throw Error(Xe(160));e7(i,o,a),ls=null,Vi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){sn(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)t7(e,t),e=e.sibling}function t7(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mi(e,t),bo(t),n&4){try{tg(3,t,t.return),R1(3,t)}catch(x){sn(t,t.return,x)}try{tg(5,t,t.return)}catch(x){sn(t,t.return,x)}}break;case 1:Mi(e,t),bo(t),n&512&&r!==null&&_h(r,r.return);break;case 5:if(Mi(e,t),bo(t),n&512&&r!==null&&_h(r,r.return),t.flags&32){var a=t.stateNode;try{Pg(a,"")}catch(x){sn(t,t.return,x)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&jR(a,i),tC(l,o);var d=tC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],A=c[o+1];u==="style"?BR(a,A):u==="dangerouslySetInnerHTML"?CR(a,A):u==="children"?Pg(a,A):GB(a,u,A,d)}switch(l){case"input":X5(a,i);break;case"textarea":NR(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Qh(a,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qh(a,!!i.multiple,i.defaultValue,!0):Qh(a,!!i.multiple,i.multiple?[]:"",!1))}a[Qg]=i}catch(x){sn(t,t.return,x)}}break;case 6:if(Mi(e,t),bo(t),n&4){if(t.stateNode===null)throw Error(Xe(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(x){sn(t,t.return,x)}}break;case 3:if(Mi(e,t),bo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lg(e.containerInfo)}catch(x){sn(t,t.return,x)}break;case 4:Mi(e,t),bo(t);break;case 13:Mi(e,t),bo(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(B3=hn())),n&4&&UF(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Bs=(d=Bs)||u,Mi(e,t),Bs=d):Mi(e,t),bo(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ot=t,u=t.child;u!==null;){for(A=ot=u;ot!==null;){switch(h=ot,f=h.child,h.tag){case 0:case 11:case 14:case 15:tg(4,h,h.return);break;case 1:_h(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){sn(n,r,x)}}break;case 5:_h(h,h.return);break;case 22:if(h.memoizedState!==null){QF(A);continue}}f!==null?(f.return=h,ot=f):QF(A)}u=u.sibling}e:for(u=null,A=t;;){if(A.tag===5){if(u===null){u=A;try{a=A.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=A.stateNode,c=A.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=SR("display",o))}catch(x){sn(t,t.return,x)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(x){sn(t,t.return,x)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Mi(e,t),bo(t),n&4&&UF(t);break;case 21:break;default:Mi(e,t),bo(t)}}function bo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ZQ(r)){var n=r;break e}r=r.return}throw Error(Xe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Pg(a,""),n.flags&=-33);var i=DF(t);FC(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=DF(t);kC(t,l,o);break;default:throw Error(Xe(161))}}catch(c){sn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fJ(t,e,r){ot=t,r7(t)}function r7(t,e,r){for(var n=(t.mode&1)!==0;ot!==null;){var a=ot,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Iy;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Bs;l=Iy;var d=Bs;if(Iy=o,(Bs=c)&&!d)for(ot=a;ot!==null;)o=ot,c=o.child,o.tag===22&&o.memoizedState!==null?$F(a):c!==null?(c.return=o,ot=c):$F(a);for(;i!==null;)ot=i,r7(i),i=i.sibling;ot=a,Iy=l,Bs=d}RF(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ot=i):RF(t)}}function RF(t){for(;ot!==null;){var e=ot;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bs||R1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Bs)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:zi(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&NF(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}NF(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&Lg(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xe(163))}Bs||e.flags&512&&EC(e)}catch(h){sn(e,e.return,h)}}if(e===t){ot=null;break}if(r=e.sibling,r!==null){r.return=e.return,ot=r;break}ot=e.return}}function QF(t){for(;ot!==null;){var e=ot;if(e===t){ot=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ot=r;break}ot=e.return}}function $F(t){for(;ot!==null;){var e=ot;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{R1(4,e)}catch(c){sn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){sn(e,a,c)}}var i=e.return;try{EC(e)}catch(c){sn(e,i,c)}break;case 5:var o=e.return;try{EC(e)}catch(c){sn(e,o,c)}}}catch(c){sn(e,e.return,c)}if(e===t){ot=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ot=l;break}ot=e.return}}var mJ=Math.ceil,Vb=Vl.ReactCurrentDispatcher,C3=Vl.ReactCurrentOwner,gi=Vl.ReactCurrentBatchConfig,Yt=0,rs=null,En=null,hs=0,Ta=0,Ch=gd(0),Qn=0,Kg=null,Qu=0,Q1=0,S3=0,rg=null,Aa=null,B3=0,xf=1/0,Al=null,Kb=!1,PC=null,Xc=null,Ly=!1,Oc=null,Wb=0,ng=0,TC=null,nb=-1,sb=0;function Xs(){return Yt&6?hn():nb!==-1?nb:nb=hn()}function Yc(t){return t.mode&1?Yt&2&&hs!==0?hs&-hs:JY.transition!==null?(sb===0&&(sb=RR()),sb):(t=hr,t!==0||(t=window.event,t=t===void 0?16:KR(t.type)),t):1}function eo(t,e,r,n){if(50<ng)throw ng=0,TC=null,Error(Xe(185));sx(t,r,n),(!(Yt&2)||t!==rs)&&(t===rs&&(!(Yt&2)&&(Q1|=r),Qn===4&&kc(t,hs)),ba(t,n),r===1&&Yt===0&&!(e.mode&1)&&(xf=hn()+500,M1&&xd()))}function ba(t,e){var r=t.callbackNode;JX(t,e);var n=Fb(t,t===rs?hs:0);if(n===0)r!==null&&Y6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Y6(r),e===1)t.tag===0?YY(HF.bind(null,t)):AQ(HF.bind(null,t)),KY(function(){!(Yt&6)&&xd()}),r=null;else{switch(QR(n)){case 1:r=e3;break;case 4:r=DR;break;case 16:r=kb;break;case 536870912:r=UR;break;default:r=kb}r=d7(r,n7.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function n7(t,e){if(nb=-1,sb=0,Yt&6)throw Error(Xe(327));var r=t.callbackNode;if(Vh()&&t.callbackNode!==r)return null;var n=Fb(t,t===rs?hs:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Gb(t,n);else{e=n;var a=Yt;Yt|=2;var i=a7();(rs!==t||hs!==e)&&(Al=null,xf=hn()+500,Nu(t,e));do try{xJ();break}catch(l){s7(t,l)}while(!0);h3(),Vb.current=i,Yt=a,En!==null?e=0:(rs=null,hs=0,e=Qn)}if(e!==0){if(e===2&&(a=iC(t),a!==0&&(n=a,e=OC(t,a))),e===1)throw r=Kg,Nu(t,0),kc(t,n),ba(t,hn()),r;if(e===6)kc(t,n);else{if(a=t.current.alternate,!(n&30)&&!pJ(a)&&(e=Gb(t,n),e===2&&(i=iC(t),i!==0&&(n=i,e=OC(t,i))),e===1))throw r=Kg,Nu(t,0),kc(t,n),ba(t,hn()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(Xe(345));case 2:Gd(t,Aa,Al);break;case 3:if(kc(t,n),(n&130023424)===n&&(e=B3+500-hn(),10<e)){if(Fb(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Xs(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=fC(Gd.bind(null,t,Aa,Al),e);break}Gd(t,Aa,Al);break;case 4:if(kc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-Zi(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mJ(n/1960))-n,10<n){t.timeoutHandle=fC(Gd.bind(null,t,Aa,Al),n);break}Gd(t,Aa,Al);break;case 5:Gd(t,Aa,Al);break;default:throw Error(Xe(329))}}}return ba(t,hn()),t.callbackNode===r?n7.bind(null,t):null}function OC(t,e){var r=rg;return t.current.memoizedState.isDehydrated&&(Nu(t,e).flags|=256),t=Gb(t,e),t!==2&&(e=Aa,Aa=r,e!==null&&IC(e)),t}function IC(t){Aa===null?Aa=t:Aa.push.apply(Aa,t)}function pJ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!no(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kc(t,e){for(e&=~S3,e&=~Q1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zi(e),n=1<<r;t[r]=-1,e&=~n}}function HF(t){if(Yt&6)throw Error(Xe(327));Vh();var e=Fb(t,0);if(!(e&1))return ba(t,hn()),null;var r=Gb(t,e);if(t.tag!==0&&r===2){var n=iC(t);n!==0&&(e=n,r=OC(t,n))}if(r===1)throw r=Kg,Nu(t,0),kc(t,e),ba(t,hn()),r;if(r===6)throw Error(Xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gd(t,Aa,Al),ba(t,hn()),null}function E3(t,e){var r=Yt;Yt|=1;try{return t(e)}finally{Yt=r,Yt===0&&(xf=hn()+500,M1&&xd())}}function $u(t){Oc!==null&&Oc.tag===0&&!(Yt&6)&&Vh();var e=Yt;Yt|=1;var r=gi.transition,n=hr;try{if(gi.transition=null,hr=1,t)return t()}finally{hr=n,gi.transition=r,Yt=e,!(Yt&6)&&xd()}}function k3(){Ta=Ch.current,Mr(Ch)}function Nu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,VY(r)),En!==null)for(r=En.return;r!==null;){var n=r;switch(d3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lb();break;case 3:pf(),Mr(ya),Mr(Ms),y3();break;case 5:x3(n);break;case 4:pf();break;case 13:Mr(qr);break;case 19:Mr(qr);break;case 10:f3(n.type._context);break;case 22:case 23:k3()}r=r.return}if(rs=t,En=t=Jc(t.current,null),hs=Ta=e,Qn=0,Kg=null,S3=Q1=Qu=0,Aa=rg=null,uu!==null){for(e=0;e<uu.length;e++)if(r=uu[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}uu=null}return t}function s7(t,e){do{var r=En;try{if(h3(),eb.current=qb,zb){for(var n=Gr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}zb=!1}if(Ru=0,Jn=Un=Gr=null,eg=!1,zg=0,C3.current=null,r===null||r.return===null){Qn=1,Kg=e,En=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=hs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=kF(o);if(f!==null){f.flags&=-257,FF(f,o,l,i,e),f.mode&1&&EF(i,d,e),e=f,c=d;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){EF(i,d,e),F3();break e}c=Error(Xe(426))}}else if(Rr&&l.mode&1){var m=kF(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),FF(m,o,l,i,e),u3(gf(c,l));break e}}i=c=gf(c,l),Qn!==4&&(Qn=2),rg===null?rg=[i]:rg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=QQ(i,c,e);jF(i,p);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xc===null||!Xc.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=$Q(i,l,e);jF(i,S);break e}}i=i.return}while(i!==null)}o7(r)}catch(j){e=j,En===r&&r!==null&&(En=r=r.return);continue}break}while(!0)}function a7(){var t=Vb.current;return Vb.current=qb,t===null?qb:t}function F3(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),rs===null||!(Qu&268435455)&&!(Q1&268435455)||kc(rs,hs)}function Gb(t,e){var r=Yt;Yt|=2;var n=a7();(rs!==t||hs!==e)&&(Al=null,Nu(t,e));do try{gJ();break}catch(a){s7(t,a)}while(!0);if(h3(),Yt=r,Vb.current=n,En!==null)throw Error(Xe(261));return rs=null,hs=0,Qn}function gJ(){for(;En!==null;)i7(En)}function xJ(){for(;En!==null&&!HX();)i7(En)}function i7(t){var e=c7(t.alternate,t,Ta);t.memoizedProps=t.pendingProps,e===null?o7(t):En=e,C3.current=null}function o7(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=uJ(r,e),r!==null){r.flags&=32767,En=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qn=6,En=null;return}}else if(r=dJ(r,e,Ta),r!==null){En=r;return}if(e=e.sibling,e!==null){En=e;return}En=e=t}while(e!==null);Qn===0&&(Qn=5)}function Gd(t,e,r){var n=hr,a=gi.transition;try{gi.transition=null,hr=1,yJ(t,e,r,n)}finally{gi.transition=a,hr=n}return null}function yJ(t,e,r,n){do Vh();while(Oc!==null);if(Yt&6)throw Error(Xe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Xe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(ZX(t,i),t===rs&&(En=rs=null,hs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ly||(Ly=!0,d7(kb,function(){return Vh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gi.transition,gi.transition=null;var o=hr;hr=1;var l=Yt;Yt|=4,C3.current=null,hJ(t,r),t7(r,t),UY(AC),Pb=!!uC,AC=uC=null,t.current=r,fJ(r),zX(),Yt=l,hr=o,gi.transition=i}else t.current=r;if(Ly&&(Ly=!1,Oc=t,Wb=a),i=t.pendingLanes,i===0&&(Xc=null),KX(r.stateNode),ba(t,hn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Kb)throw Kb=!1,t=PC,PC=null,t;return Wb&1&&t.tag!==0&&Vh(),i=t.pendingLanes,i&1?t===TC?ng++:(ng=0,TC=t):ng=0,xd(),null}function Vh(){if(Oc!==null){var t=QR(Wb),e=gi.transition,r=hr;try{if(gi.transition=null,hr=16>t?16:t,Oc===null)var n=!1;else{if(t=Oc,Oc=null,Wb=0,Yt&6)throw Error(Xe(331));var a=Yt;for(Yt|=4,ot=t.current;ot!==null;){var i=ot,o=i.child;if(ot.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ot=d;ot!==null;){var u=ot;switch(u.tag){case 0:case 11:case 15:tg(8,u,i)}var A=u.child;if(A!==null)A.return=u,ot=A;else for(;ot!==null;){u=ot;var h=u.sibling,f=u.return;if(JQ(u),u===d){ot=null;break}if(h!==null){h.return=f,ot=h;break}ot=f}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var m=x.sibling;x.sibling=null,x=m}while(x!==null)}}ot=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ot=o;else e:for(;ot!==null;){if(i=ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tg(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ot=p;break e}ot=i.return}}var y=t.current;for(ot=y;ot!==null;){o=ot;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ot=w;else e:for(o=y;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:R1(9,l)}}catch(j){sn(l,l.return,j)}if(l===o){ot=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ot=S;break e}ot=l.return}}if(Yt=a,xd(),Po&&typeof Po.onPostCommitFiberRoot=="function")try{Po.onPostCommitFiberRoot(P1,t)}catch{}n=!0}return n}finally{hr=r,gi.transition=e}}return!1}function zF(t,e,r){e=gf(r,e),e=QQ(t,e,1),t=Gc(t,e,1),e=Xs(),t!==null&&(sx(t,1,e),ba(t,e))}function sn(t,e,r){if(t.tag===3)zF(t,t,r);else for(;e!==null;){if(e.tag===3){zF(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xc===null||!Xc.has(n))){t=gf(r,t),t=$Q(e,t,1),e=Gc(e,t,1),t=Xs(),e!==null&&(sx(e,1,t),ba(e,t));break}}e=e.return}}function vJ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xs(),t.pingedLanes|=t.suspendedLanes&r,rs===t&&(hs&r)===r&&(Qn===4||Qn===3&&(hs&130023424)===hs&&500>hn()-B3?Nu(t,0):S3|=r),ba(t,e)}function l7(t,e){e===0&&(t.mode&1?(e=Cy,Cy<<=1,!(Cy&130023424)&&(Cy=4194304)):e=1);var r=Xs();t=Tl(t,e),t!==null&&(sx(t,e,r),ba(t,r))}function bJ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),l7(t,r)}function wJ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Xe(314))}n!==null&&n.delete(e),l7(t,r)}var c7;c7=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ya.current)ma=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ma=!1,cJ(t,e,r);ma=!!(t.flags&131072)}else ma=!1,Rr&&e.flags&1048576&&hQ(e,Ub,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;rb(t,e),t=e.pendingProps;var a=hf(e,Ms.current);qh(e,r),a=b3(null,e,n,t,a,r);var i=w3();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,va(n)?(i=!0,Mb(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,p3(e),a.updater=U1,e.stateNode=a,a._reactInternals=e,bC(e,n,t,r),e=NC(null,e,n,!0,i,r)):(e.tag=0,Rr&&i&&c3(e),zs(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(rb(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=NJ(n),t=zi(n,t),a){case 0:e=jC(null,e,n,t,r);break e;case 1:e=OF(null,e,n,t,r);break e;case 11:e=PF(null,e,n,t,r);break e;case 14:e=TF(null,e,n,zi(n.type,t),r);break e}throw Error(Xe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zi(n,a),jC(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zi(n,a),OF(t,e,n,a,r);case 3:e:{if(VQ(e),t===null)throw Error(Xe(387));n=e.pendingProps,i=e.memoizedState,a=i.element,yQ(t,e),$b(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=gf(Error(Xe(423)),e),e=IF(t,e,n,r,a);break e}else if(n!==a){a=gf(Error(Xe(424)),e),e=IF(t,e,n,r,a);break e}else for(Ma=Wc(e.stateNode.containerInfo.firstChild),Ua=e,Rr=!0,Gi=null,r=gQ(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ff(),n===a){e=Ol(t,e,r);break e}zs(t,e,n,r)}e=e.child}return e;case 5:return vQ(e),t===null&&xC(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,hC(n,a)?o=null:i!==null&&hC(n,i)&&(e.flags|=32),qQ(t,e),zs(t,e,o,r),e.child;case 6:return t===null&&xC(e),null;case 13:return KQ(t,e,r);case 4:return g3(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=mf(e,null,n,r):zs(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zi(n,a),PF(t,e,n,a,r);case 7:return zs(t,e,e.pendingProps,r),e.child;case 8:return zs(t,e,e.pendingProps.children,r),e.child;case 12:return zs(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Er(Rb,n._currentValue),n._currentValue=o,i!==null)if(no(i.value,o)){if(i.children===a.children&&!ya.current){e=Ol(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Sl(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),yC(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Xe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),yC(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zs(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,qh(e,r),a=vi(a),n=n(a),e.flags|=1,zs(t,e,n,r),e.child;case 14:return n=e.type,a=zi(n,e.pendingProps),a=zi(n.type,a),TF(t,e,n,a,r);case 15:return HQ(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zi(n,a),rb(t,e),e.tag=1,va(n)?(t=!0,Mb(e)):t=!1,qh(e,r),RQ(e,n,a),bC(e,n,a,r),NC(null,e,n,!0,t,r);case 19:return WQ(t,e,r);case 22:return zQ(t,e,r)}throw Error(Xe(156,e.tag))};function d7(t,e){return MR(t,e)}function jJ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,e,r,n){return new jJ(t,e,r,n)}function P3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NJ(t){if(typeof t=="function")return P3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===YB)return 11;if(t===JB)return 14}return 2}function Jc(t,e){var r=t.alternate;return r===null?(r=ui(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ab(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")P3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ph:return _u(r.children,a,i,e);case XB:o=8,a|=8;break;case q5:return t=ui(12,r,e,a|2),t.elementType=q5,t.lanes=i,t;case V5:return t=ui(13,r,e,a),t.elementType=V5,t.lanes=i,t;case K5:return t=ui(19,r,e,a),t.elementType=K5,t.lanes=i,t;case vR:return $1(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xR:o=10;break e;case yR:o=9;break e;case YB:o=11;break e;case JB:o=14;break e;case Nc:o=16,n=null;break e}throw Error(Xe(130,t==null?t:typeof t,""))}return e=ui(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function _u(t,e,r,n){return t=ui(7,t,n,e),t.lanes=r,t}function $1(t,e,r,n){return t=ui(22,t,n,e),t.elementType=vR,t.lanes=r,t.stateNode={isHidden:!1},t}function RN(t,e,r){return t=ui(6,t,null,e),t.lanes=r,t}function QN(t,e,r){return e=ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _J(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bN(0),this.expirationTimes=bN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bN(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function T3(t,e,r,n,a,i,o,l,c){return t=new _J(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ui(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p3(i),t}function CJ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mh,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function u7(t){if(!t)return od;t=t._reactInternals;e:{if(tA(t)!==t||t.tag!==1)throw Error(Xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(va(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Xe(171))}if(t.tag===1){var r=t.type;if(va(r))return uQ(t,r,e)}return e}function A7(t,e,r,n,a,i,o,l,c){return t=T3(r,n,!0,t,a,i,o,l,c),t.context=u7(null),r=t.current,n=Xs(),a=Yc(r),i=Sl(n,a),i.callback=e??null,Gc(r,i,a),t.current.lanes=a,sx(t,a,n),ba(t,n),t}function H1(t,e,r,n){var a=e.current,i=Xs(),o=Yc(a);return r=u7(r),e.context===null?e.context=r:e.pendingContext=r,e=Sl(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gc(a,e,o),t!==null&&(eo(t,a,o,i),Zv(t,a,o)),o}function Xb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O3(t,e){qF(t,e),(t=t.alternate)&&qF(t,e)}function SJ(){return null}var h7=typeof reportError=="function"?reportError:function(t){console.error(t)};function I3(t){this._internalRoot=t}z1.prototype.render=I3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Xe(409));H1(t,e,null,null)};z1.prototype.unmount=I3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$u(function(){H1(null,t,null,null)}),e[Pl]=null}};function z1(t){this._internalRoot=t}z1.prototype.unstable_scheduleHydration=function(t){if(t){var e=zR();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ec.length&&e!==0&&e<Ec[r].priority;r++);Ec.splice(r,0,t),r===0&&VR(t)}};function L3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function q1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VF(){}function BJ(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Xb(o);i.call(d)}}var o=A7(e,n,t,0,null,!1,!1,"",VF);return t._reactRootContainer=o,t[Pl]=o.current,Ug(t.nodeType===8?t.parentNode:t),$u(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Xb(c);l.call(d)}}var c=T3(t,0,!1,null,null,!1,!1,"",VF);return t._reactRootContainer=c,t[Pl]=c.current,Ug(t.nodeType===8?t.parentNode:t),$u(function(){H1(e,c,r,n)}),c}function V1(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Xb(o);l.call(c)}}H1(e,o,t,a)}else o=BJ(r,e,t,a,n);return Xb(o)}$R=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Op(e.pendingLanes);r!==0&&(t3(e,r|1),ba(e,hn()),!(Yt&6)&&(xf=hn()+500,xd()))}break;case 13:$u(function(){var n=Tl(t,1);if(n!==null){var a=Xs();eo(n,t,1,a)}}),O3(t,1)}};r3=function(t){if(t.tag===13){var e=Tl(t,134217728);if(e!==null){var r=Xs();eo(e,t,134217728,r)}O3(t,134217728)}};HR=function(t){if(t.tag===13){var e=Yc(t),r=Tl(t,e);if(r!==null){var n=Xs();eo(r,t,e,n)}O3(t,e)}};zR=function(){return hr};qR=function(t,e){var r=hr;try{return hr=t,e()}finally{hr=r}};nC=function(t,e,r){switch(e){case"input":if(X5(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=L1(n);if(!a)throw Error(Xe(90));wR(n),X5(n,a)}}}break;case"textarea":NR(t,r);break;case"select":e=r.value,e!=null&&Qh(t,!!r.multiple,e,!1)}};FR=E3;PR=$u;var EJ={usingClientEntryPoint:!1,Events:[ix,vh,L1,ER,kR,E3]},sp={findFiberByHostInstance:du,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kJ={bundleType:sp.bundleType,version:sp.version,rendererPackageName:sp.rendererPackageName,rendererConfig:sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IR(t),t===null?null:t.stateNode},findFiberByHostInstance:sp.findFiberByHostInstance||SJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var My=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!My.isDisabled&&My.supportsFiber)try{P1=My.inject(kJ),Po=My}catch{}}Ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EJ;Ha.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L3(e))throw Error(Xe(200));return CJ(t,e,null,r)};Ha.createRoot=function(t,e){if(!L3(t))throw Error(Xe(299));var r=!1,n="",a=h7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=T3(t,1,!1,null,null,r,!1,n,a),t[Pl]=e.current,Ug(t.nodeType===8?t.parentNode:t),new I3(e)};Ha.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Xe(188)):(t=Object.keys(t).join(","),Error(Xe(268,t)));return t=IR(e),t=t===null?null:t.stateNode,t};Ha.flushSync=function(t){return $u(t)};Ha.hydrate=function(t,e,r){if(!q1(e))throw Error(Xe(200));return V1(null,t,e,!0,r)};Ha.hydrateRoot=function(t,e,r){if(!L3(t))throw Error(Xe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=h7;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=A7(e,null,t,1,r??null,a,!1,i,o),t[Pl]=e.current,Ug(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new z1(e)};Ha.render=function(t,e,r){if(!q1(e))throw Error(Xe(200));return V1(null,t,e,!1,r)};Ha.unmountComponentAtNode=function(t){if(!q1(t))throw Error(Xe(40));return t._reactRootContainer?($u(function(){V1(null,null,t,!1,function(){t._reactRootContainer=null,t[Pl]=null})}),!0):!1};Ha.unstable_batchedUpdates=E3;Ha.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!q1(r))throw Error(Xe(200));if(t==null||t._reactInternals===void 0)throw Error(Xe(38));return V1(t,e,r,!1,n)};Ha.version="18.3.1-next-f1338f8080-20240426";function f7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f7)}catch(t){console.error(t)}}f7(),fR.exports=Ha;var FJ=fR.exports,KF=FJ;H5.createRoot=KF.createRoot,H5.hydrateRoot=KF.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wg.apply(this,arguments)}var Ic;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ic||(Ic={}));const WF="popstate";function PJ(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return LC("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Yb(a)}return OJ(e,r,null,t)}function Fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function m7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TJ(){return Math.random().toString(36).substr(2,8)}function GF(t,e){return{usr:t.state,key:t.key,idx:e}}function LC(t,e,r,n){return r===void 0&&(r=null),Wg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?em(e):e,{state:r,key:e&&e.key||n||TJ()})}function Yb(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function em(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function OJ(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ic.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Wg({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function A(){l=Ic.Pop;let m=u(),p=m==null?null:m-d;d=m,c&&c({action:l,location:x.location,delta:p})}function h(m,p){l=Ic.Push;let y=LC(x.location,m,p);d=u()+1;let w=GF(y,d),S=x.createHref(y);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(S)}i&&c&&c({action:l,location:x.location,delta:1})}function f(m,p){l=Ic.Replace;let y=LC(x.location,m,p);d=u();let w=GF(y,d),S=x.createHref(y);o.replaceState(w,"",S),i&&c&&c({action:l,location:x.location,delta:0})}function g(m){let p=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof m=="string"?m:Yb(m);return y=y.replace(/ $/,"%20"),Fn(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let x={get action(){return l},get location(){return t(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(WF,A),c=m,()=>{a.removeEventListener(WF,A),c=null}},createHref(m){return e(a,m)},createURL:g,encodeLocation(m){let p=g(m);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(m){return o.go(m)}};return x}var XF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XF||(XF={}));function IJ(t,e,r){return r===void 0&&(r="/"),LJ(t,e,r)}function LJ(t,e,r,n){let a=typeof e=="string"?em(e):e,i=M3(a.pathname||"/",r);if(i==null)return null;let o=p7(t);MJ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=GJ(i);l=VJ(o[c],d)}return l}function p7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Fn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Zc([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Fn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),p7(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:zJ(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of g7(i.path))a(i,o,c)}),e}function g7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=g7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function MJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:qJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const DJ=/^:[\w-]+$/,UJ=3,RJ=2,QJ=1,$J=10,HJ=-2,YF=t=>t==="*";function zJ(t,e){let r=t.split("/"),n=r.length;return r.some(YF)&&(n+=HJ),e&&(n+=RJ),r.filter(a=>!YF(a)).reduce((a,i)=>a+(DJ.test(i)?UJ:i===""?QJ:$J),n)}function qJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function VJ(t,e,r){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",A=KJ({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!A)return null;Object.assign(a,A.params),o.push({params:a,pathname:Zc([i,A.pathname]),pathnameBase:ZJ(Zc([i,A.pathnameBase])),route:h}),A.pathnameBase!=="/"&&(i=Zc([i,A.pathnameBase]))}return o}function KJ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=WJ(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,A)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let x=l[A]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[A];return f&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function WJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),m7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function GJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return m7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function M3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function XJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?em(t):t;return{pathname:r?r.startsWith("/")?r:YJ(r,e):e,search:eZ(n),hash:tZ(a)}}function YJ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $N(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function x7(t,e){let r=JJ(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function y7(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=em(t):(a=Wg({},t),Fn(!a.pathname||!a.pathname.includes("?"),$N("?","pathname","search",a)),Fn(!a.pathname||!a.pathname.includes("#"),$N("#","pathname","hash",a)),Fn(!a.search||!a.search.includes("#"),$N("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let A=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),A-=1;a.pathname=h.join("/")}l=A>=0?e[A]:"/"}let c=XJ(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Zc=t=>t.join("/").replace(/\/\/+/g,"/"),ZJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const v7=["post","put","patch","delete"];new Set(v7);const nZ=["get",...v7];new Set(nZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gg.apply(this,arguments)}const D3=k.createContext(null),sZ=k.createContext(null),rA=k.createContext(null),K1=k.createContext(null),Kl=k.createContext({outlet:null,matches:[],isDataRoute:!1}),b7=k.createContext(null);function aZ(t,e){let{relative:r}=e===void 0?{}:e;lx()||Fn(!1);let{basename:n,navigator:a}=k.useContext(rA),{hash:i,pathname:o,search:l}=j7(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Zc([n,o])),a.createHref({pathname:c,search:l,hash:i})}function lx(){return k.useContext(K1)!=null}function nA(){return lx()||Fn(!1),k.useContext(K1).location}function w7(t){k.useContext(rA).static||k.useLayoutEffect(t)}function ra(){let{isDataRoute:t}=k.useContext(Kl);return t?vZ():iZ()}function iZ(){lx()||Fn(!1);let t=k.useContext(D3),{basename:e,future:r,navigator:n}=k.useContext(rA),{matches:a}=k.useContext(Kl),{pathname:i}=nA(),o=JSON.stringify(x7(a,r.v7_relativeSplatPath)),l=k.useRef(!1);return w7(()=>{l.current=!0}),k.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let A=y7(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Zc([e,A.pathname])),(u.replace?n.replace:n.push)(A,u.state,u)},[e,n,o,i,t])}const oZ=k.createContext(null);function lZ(t){let e=k.useContext(Kl).outlet;return e&&k.createElement(oZ.Provider,{value:t},e)}function U3(){let{matches:t}=k.useContext(Kl),e=t[t.length-1];return e?e.params:{}}function j7(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=k.useContext(rA),{matches:a}=k.useContext(Kl),{pathname:i}=nA(),o=JSON.stringify(x7(a,n.v7_relativeSplatPath));return k.useMemo(()=>y7(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function cZ(t,e){return dZ(t,e)}function dZ(t,e,r,n){lx()||Fn(!1);let{navigator:a}=k.useContext(rA),{matches:i}=k.useContext(Kl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=nA(),u;if(e){var A;let m=typeof e=="string"?em(e):e;c==="/"||(A=m.pathname)!=null&&A.startsWith(c)||Fn(!1),u=m}else u=d;let h=u.pathname||"/",f=h;if(c!=="/"){let m=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=IJ(t,{pathname:f}),x=mZ(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Zc([c,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Zc([c,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r,n);return e&&x?k.createElement(K1.Provider,{value:{location:Gg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ic.Pop}},x):x}function uZ(){let t=yZ(),e=rZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:a},r):null,null)}const AZ=k.createElement(uZ,null);class hZ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(Kl.Provider,{value:this.props.routeContext},k.createElement(b7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fZ(t){let{routeContext:e,match:r,children:n}=t,a=k.useContext(D3);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Kl.Provider,{value:e},n)}function mZ(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(A=>A.route.id&&(l==null?void 0:l[A.route.id])!==void 0);u>=0||Fn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let A=o[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(d=u),A.route.id){let{loaderData:h,errors:f}=r,g=A.route.loader&&h[A.route.id]===void 0&&(!f||f[A.route.id]===void 0);if(A.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,A,h)=>{let f,g=!1,x=null,m=null;r&&(f=l&&A.route.id?l[A.route.id]:void 0,x=A.route.errorElement||AZ,c&&(d<0&&h===0?(bZ("route-fallback"),g=!0,m=null):d===h&&(g=!0,m=A.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,h+1)),y=()=>{let w;return f?w=x:g?w=m:A.route.Component?w=k.createElement(A.route.Component,null):A.route.element?w=A.route.element:w=u,k.createElement(fZ,{match:A,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:w})};return r&&(A.route.ErrorBoundary||A.route.errorElement||h===0)?k.createElement(hZ,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var N7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(N7||{}),_7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_7||{});function pZ(t){let e=k.useContext(D3);return e||Fn(!1),e}function gZ(t){let e=k.useContext(sZ);return e||Fn(!1),e}function xZ(t){let e=k.useContext(Kl);return e||Fn(!1),e}function C7(t){let e=xZ(),r=e.matches[e.matches.length-1];return r.route.id||Fn(!1),r.route.id}function yZ(){var t;let e=k.useContext(b7),r=gZ(),n=C7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function vZ(){let{router:t}=pZ(N7.UseNavigateStable),e=C7(_7.UseNavigateStable),r=k.useRef(!1);return w7(()=>{r.current=!0}),k.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Gg({fromRouteId:e},i)))},[t,e])}const JF={};function bZ(t,e,r){JF[t]||(JF[t]=!0)}function wZ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jZ(t){return lZ(t.context)}function ut(t){Fn(!1)}function NZ(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Ic.Pop,navigator:i,static:o=!1,future:l}=t;lx()&&Fn(!1);let c=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:i,static:o,future:Gg({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=em(n));let{pathname:u="/",search:A="",hash:h="",state:f=null,key:g="default"}=n,x=k.useMemo(()=>{let m=M3(u,c);return m==null?null:{location:{pathname:m,search:A,hash:h,state:f,key:g},navigationType:a}},[c,u,A,h,f,g,a]);return x==null?null:k.createElement(rA.Provider,{value:d},k.createElement(K1.Provider,{children:r,value:x}))}function _Z(t){let{children:e,location:r}=t;return cZ(MC(e),r)}new Promise(()=>{});function MC(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,a)=>{if(!k.isValidElement(n))return;let i=[...e,a];if(n.type===k.Fragment){r.push.apply(r,MC(n.props.children,i));return}n.type!==ut&&Fn(!1),!n.props.index||!n.props.children||Fn(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=MC(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DC.apply(this,arguments)}function CZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function SZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BZ(t,e){return t.button===0&&(!e||e==="_self")&&!SZ(t)}function UC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function EZ(t,e){let r=UC(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const kZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FZ="6";try{window.__reactRouterVersion=FZ}catch{}const PZ="startTransition",ZF=vX[PZ];function TZ(t){let{basename:e,children:r,future:n,window:a}=t,i=k.useRef();i.current==null&&(i.current=PJ({window:a,v5Compat:!0}));let o=i.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=k.useCallback(A=>{d&&ZF?ZF(()=>c(A)):c(A)},[c,d]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.useEffect(()=>wZ(n),[n]),k.createElement(NZ,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const OZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,so=k.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:A}=e,h=CZ(e,kZ),{basename:f}=k.useContext(rA),g,x=!1;if(typeof d=="string"&&IZ.test(d)&&(g=d,OZ))try{let w=new URL(window.location.href),S=d.startsWith("//")?new URL(w.protocol+d):new URL(d),j=M3(S.pathname,f);S.origin===w.origin&&j!=null?d=j+S.search+S.hash:x=!0}catch{}let m=aZ(d,{relative:a}),p=LZ(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:A});function y(w){n&&n(w),w.defaultPrevented||p(w)}return k.createElement("a",DC({},h,{href:g||m,onClick:x||i?n:y,ref:r,target:c}))});var eP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eP||(eP={}));var tP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tP||(tP={}));function LZ(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=ra(),d=nA(),u=j7(t,{relative:o});return k.useCallback(A=>{if(BZ(A,r)){A.preventDefault();let h=n!==void 0?n:Yb(d)===Yb(u);c(t,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,t,i,o,l])}function S7(t){let e=k.useRef(UC(t)),r=k.useRef(!1),n=nA(),a=k.useMemo(()=>EZ(n.search,r.current?null:e.current),[n.search]),i=ra(),o=k.useCallback((l,c)=>{const d=UC(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const R3=k.createContext({});function Q3(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const $3=typeof window<"u",B7=$3?k.useLayoutEffect:k.useEffect,W1=k.createContext(null);function H3(t,e){t.indexOf(e)===-1&&t.push(e)}function z3(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Il=(t,e,r)=>r>e?e:r<t?t:r;let q3=()=>{};const Ll={},E7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function k7(t){return typeof t=="object"&&t!==null}const F7=t=>/^0[^.\s]+$/u.test(t);function V3(t){let e;return()=>(e===void 0&&(e=t()),e)}const xi=t=>t,MZ=(t,e)=>r=>e(t(r)),cx=(...t)=>t.reduce(MZ),Xg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class K3{constructor(){this.subscriptions=[]}add(e){return H3(this.subscriptions,e),()=>z3(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oo=t=>t*1e3,Ai=t=>t/1e3;function P7(t,e){return e?t*(1e3/e):0}const T7=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,DZ=1e-7,UZ=12;function RZ(t,e,r,n,a){let i,o,l=0;do o=e+(r-e)/2,i=T7(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>DZ&&++l<UZ);return o}function dx(t,e,r,n){if(t===e&&r===n)return xi;const a=i=>RZ(i,0,1,t,r);return i=>i===0||i===1?i:T7(a(i),e,n)}const O7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,I7=t=>e=>1-t(1-e),L7=dx(.33,1.53,.69,.99),W3=I7(L7),M7=O7(W3),D7=t=>(t*=2)<1?.5*W3(t):.5*(2-Math.pow(2,-10*(t-1))),G3=t=>1-Math.sin(Math.acos(t)),U7=I7(G3),R7=O7(G3),QZ=dx(.42,0,1,1),$Z=dx(0,0,.58,1),Q7=dx(.42,0,.58,1),HZ=t=>Array.isArray(t)&&typeof t[0]!="number",$7=t=>Array.isArray(t)&&typeof t[0]=="number",zZ={linear:xi,easeIn:QZ,easeInOut:Q7,easeOut:$Z,circIn:G3,circInOut:R7,circOut:U7,backIn:W3,backInOut:M7,backOut:L7,anticipate:D7},qZ=t=>typeof t=="string",rP=t=>{if($7(t)){q3(t.length===4);const[e,r,n,a]=t;return dx(e,r,n,a)}else if(qZ(t))return zZ[t];return t},Dy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VZ(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,A=!1,h=!1)=>{const g=h&&a?r:n;return A&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const KZ=40;function H7(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Dy.reduce((w,S)=>(w[S]=VZ(i),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:A,preRender:h,render:f,postRender:g}=o,x=()=>{const w=Ll.useManualTiming?a.timestamp:performance.now();r=!1,Ll.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,KZ),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),A.process(a),h.process(a),f.process(a),g.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(x))},m=()=>{r=!0,n=!0,a.isProcessing||t(x)};return{schedule:Dy.reduce((w,S)=>{const j=o[S];return w[S]=(_,F=!1,C=!1)=>(r||m(),j.schedule(_,F,C)),w},{}),cancel:w=>{for(let S=0;S<Dy.length;S++)o[Dy[S]].cancel(w)},state:a,steps:o}}const{schedule:Qr,cancel:ld,state:cs,steps:HN}=H7(typeof requestAnimationFrame<"u"?requestAnimationFrame:xi,!0);let ib;function WZ(){ib=void 0}const pa={now:()=>(ib===void 0&&pa.set(cs.isProcessing||Ll.useManualTiming?cs.timestamp:performance.now()),ib),set:t=>{ib=t,queueMicrotask(WZ)}},z7=t=>e=>typeof e=="string"&&e.startsWith(t),X3=z7("--"),GZ=z7("var(--"),Y3=t=>GZ(t)?XZ.test(t.split("/*")[0].trim()):!1,XZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yg={...tm,transform:t=>Il(0,1,t)},Uy={...tm,default:1},sg=t=>Math.round(t*1e5)/1e5,J3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YZ(t){return t==null}const JZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z3=(t,e)=>r=>!!(typeof r=="string"&&JZ.test(r)&&r.startsWith(t)||e&&!YZ(r)&&Object.prototype.hasOwnProperty.call(r,e)),q7=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(J3);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ZZ=t=>Il(0,255,t),zN={...tm,transform:t=>Math.round(ZZ(t))},hu={test:Z3("rgb","red"),parse:q7("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+zN.transform(t)+", "+zN.transform(e)+", "+zN.transform(r)+", "+sg(Yg.transform(n))+")"};function eee(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const RC={test:Z3("#"),parse:eee,transform:hu.transform},ux=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vc=ux("deg"),Io=ux("%"),_t=ux("px"),tee=ux("vh"),ree=ux("vw"),nP={...Io,parse:t=>Io.parse(t)/100,transform:t=>Io.transform(t*100)},Sh={test:Z3("hsl","hue"),parse:q7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Io.transform(sg(e))+", "+Io.transform(sg(r))+", "+sg(Yg.transform(n))+")"},Sn={test:t=>hu.test(t)||RC.test(t)||Sh.test(t),parse:t=>hu.test(t)?hu.parse(t):Sh.test(t)?Sh.parse(t):RC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hu.transform(t):Sh.transform(t),getAnimatableNone:t=>{const e=Sn.parse(t);return e.alpha=0,Sn.transform(e)}},nee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function see(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(J3))==null?void 0:e.length)||0)+(((r=t.match(nee))==null?void 0:r.length)||0)>0}const V7="number",K7="color",aee="var",iee="var(",sP="${}",oee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jg(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(oee,c=>(Sn.test(c)?(n.color.push(i),a.push(K7),r.push(Sn.parse(c))):c.startsWith(iee)?(n.var.push(i),a.push(aee),r.push(c)):(n.number.push(i),a.push(V7),r.push(parseFloat(c))),++i,sP)).split(sP);return{values:r,split:l,indexes:n,types:a}}function W7(t){return Jg(t).values}function G7(t){const{split:e,types:r}=Jg(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===V7?i+=sg(a[o]):l===K7?i+=Sn.transform(a[o]):i+=a[o]}return i}}const lee=t=>typeof t=="number"?0:Sn.test(t)?Sn.getAnimatableNone(t):t;function cee(t){const e=W7(t);return G7(t)(e.map(lee))}const cd={test:see,parse:W7,createTransformer:G7,getAnimatableNone:cee};function qN(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function dee({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=qN(c,l,t+1/3),i=qN(c,l,t),o=qN(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Jb(t,e){return r=>r>0?e:t}const Vr=(t,e,r)=>t+(e-t)*r,VN=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},uee=[RC,hu,Sh],Aee=t=>uee.find(e=>e.test(t));function aP(t){const e=Aee(t);if(!e)return!1;let r=e.parse(t);return e===Sh&&(r=dee(r)),r}const iP=(t,e)=>{const r=aP(t),n=aP(e);if(!r||!n)return Jb(t,e);const a={...r};return i=>(a.red=VN(r.red,n.red,i),a.green=VN(r.green,n.green,i),a.blue=VN(r.blue,n.blue,i),a.alpha=Vr(r.alpha,n.alpha,i),hu.transform(a))},QC=new Set(["none","hidden"]);function hee(t,e){return QC.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function fee(t,e){return r=>Vr(t,e,r)}function eE(t){return typeof t=="number"?fee:typeof t=="string"?Y3(t)?Jb:Sn.test(t)?iP:gee:Array.isArray(t)?X7:typeof t=="object"?Sn.test(t)?iP:mee:Jb}function X7(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>eE(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function mee(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=eE(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function pee(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],l=t.values[o]??0;r[a]=l,n[i]++}return r}const gee=(t,e)=>{const r=cd.createTransformer(e),n=Jg(t),a=Jg(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?QC.has(t)&&!a.values.length||QC.has(e)&&!n.values.length?hee(t,e):cx(X7(pee(n,a),a.values),r):Jb(t,e)};function Y7(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Vr(t,e,r):eE(t)(t,e)}const xee=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Qr.update(e,r),stop:()=>ld(e),now:()=>cs.isProcessing?cs.timestamp:pa.now()}},J7=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Zb=2e4;function tE(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Zb;)e+=r,n=t.next(e);return e>=Zb?1/0:e}function yee(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(tE(n),Zb);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:Ai(a)}}const vee=5;function Z7(t,e,r){const n=Math.max(e-vee,0);return P7(r-t(n),e-n)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KN=.001;function bee({duration:t=nn.duration,bounce:e=nn.bounce,velocity:r=nn.velocity,mass:n=nn.mass}){let a,i,o=1-e;o=Il(nn.minDamping,nn.maxDamping,o),t=Il(nn.minDuration,nn.maxDuration,Ai(t)),o<1?(a=d=>{const u=d*o,A=u*t,h=u-r,f=$C(d,o),g=Math.exp(-A);return KN-h/f*g},i=d=>{const A=d*o*t,h=A*r+r,f=Math.pow(o,2)*Math.pow(d,2)*t,g=Math.exp(-A),x=$C(Math.pow(d,2),o);return(-a(d)+KN>0?-1:1)*((h-f)*g)/x}):(a=d=>{const u=Math.exp(-d*t),A=(d-r)*t+1;return-KN+u*A},i=d=>{const u=Math.exp(-d*t),A=(r-d)*(t*t);return u*A});const l=5/t,c=jee(a,i,l);if(t=Oo(t),isNaN(c))return{stiffness:nn.stiffness,damping:nn.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const wee=12;function jee(t,e,r){let n=r;for(let a=1;a<wee;a++)n=n-t(n)/e(n);return n}function $C(t,e){return t*Math.sqrt(1-e*e)}const Nee=["duration","bounce"],_ee=["stiffness","damping","mass"];function oP(t,e){return e.some(r=>t[r]!==void 0)}function Cee(t){let e={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...t};if(!oP(t,_ee)&&oP(t,Nee))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Il(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:nn.mass,stiffness:a,damping:i}}else{const r=bee(t);e={...e,...r,mass:nn.mass},e.isResolvedFromDuration=!0}return e}function ew(t=nn.visualDuration,e=nn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:A,velocity:h,isResolvedFromDuration:f}=Cee({...r,velocity:-Ai(r.velocity||0)}),g=h||0,x=d/(2*Math.sqrt(c*u)),m=o-i,p=Ai(Math.sqrt(c/u)),y=Math.abs(m)<5;n||(n=y?nn.restSpeed.granular:nn.restSpeed.default),a||(a=y?nn.restDelta.granular:nn.restDelta.default);let w;if(x<1){const j=$C(p,x);w=_=>{const F=Math.exp(-x*p*_);return o-F*((g+x*p*m)/j*Math.sin(j*_)+m*Math.cos(j*_))}}else if(x===1)w=j=>o-Math.exp(-p*j)*(m+(g+p*m)*j);else{const j=p*Math.sqrt(x*x-1);w=_=>{const F=Math.exp(-x*p*_),C=Math.min(j*_,300);return o-F*((g+x*p*m)*Math.sinh(C)+j*m*Math.cosh(C))/j}}const S={calculatedDuration:f&&A||null,next:j=>{const _=w(j);if(f)l.done=j>=A;else{let F=j===0?g:0;x<1&&(F=j===0?Oo(g):Z7(w,j,_));const C=Math.abs(F)<=n,E=Math.abs(o-_)<=a;l.done=C&&E}return l.value=l.done?o:_,l},toString:()=>{const j=Math.min(tE(S),Zb),_=J7(F=>S.next(j*F).value,j,30);return j+"ms "+_},toTransition:()=>{}};return S}ew.applyToOptions=t=>{const e=yee(t,100,ew);return t.ease=e.ease,t.duration=Oo(e.duration),t.type="keyframes",t};function HC({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const A=t[0],h={done:!1,value:A},f=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let x=r*e;const m=A+x,p=o===void 0?m:o(m);p!==m&&(x=p-A);const y=C=>-x*Math.exp(-C/n),w=C=>p+y(C),S=C=>{const E=y(C),T=w(C);h.done=Math.abs(E)<=d,h.value=h.done?p:T};let j,_;const F=C=>{f(h.value)&&(j=C,_=ew({keyframes:[h.value,g(h.value)],velocity:Z7(w,C,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return F(0),{calculatedDuration:null,next:C=>{let E=!1;return!_&&j===void 0&&(E=!0,S(C),F(C)),j!==void 0&&C>=j?_.next(C-j):(!E&&S(C),h)}}}function See(t,e,r){const n=[],a=r||Ll.mix||Y7,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||xi:e;l=cx(c,l)}n.push(l)}return n}function Bee(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(q3(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=See(e,n,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let A=0;if(c>1)for(;A<t.length-2&&!(u<t[A+1]);A++);const h=Xg(t[A],t[A+1],u);return l[A](h)};return r?u=>d(Il(t[0],t[i-1],u)):d}function Eee(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=Xg(0,e,n);t.push(Vr(r,1,a))}}function kee(t){const e=[0];return Eee(e,t.length-1),e}function Fee(t,e){return t.map(r=>r*e)}function Pee(t,e){return t.map(()=>e||Q7).splice(0,t.length-1)}function ag({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=HZ(n)?n.map(rP):rP(n),i={done:!1,value:e[0]},o=Fee(r&&r.length===e.length?r:kee(e),t),l=Bee(o,e,{ease:Array.isArray(a)?a:Pee(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Tee=t=>t!==null;function rE(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(Tee),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Oee={decay:HC,inertia:HC,tween:ag,keyframes:ag,spring:ew};function e$(t){typeof t.type=="string"&&(t.type=Oee[t.type])}class nE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Iee=t=>t/100;class sE extends nE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==pa.now()&&this.tick(pa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;e$(e);const{type:r=ag,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||ag;c!==ag&&typeof l[0]!="number"&&(this.mixKeyframes=cx(Iee,Y7(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=tE(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:A,repeatType:h,repeatDelay:f,type:g,onUpdate:x,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const p=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?p<0:p>a;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,S=n;if(A){const C=Math.min(this.currentTime,a)/l;let E=Math.floor(C),T=C%1;!T&&C>=1&&(T=1),T===1&&E--,E=Math.min(E,A+1),!!(E%2)&&(h==="reverse"?(T=1-T,f&&(T-=f/l)):h==="mirror"&&(S=o)),w=Il(0,1,T)*l}const j=y?{done:!1,value:u[0]}:S.next(w);i&&(j.value=i(j.value));let{done:_}=j;!y&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return F&&g!==HC&&(j.value=rE(u,this.options,m,this.speed)),x&&x(j.value),F&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(this.currentTime)}set time(e){var r;e=Oo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pa.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ai(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=xee,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Lee(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fu=t=>t*180/Math.PI,zC=t=>{const e=fu(Math.atan2(t[1],t[0]));return qC(e)},Mee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zC,rotateZ:zC,skewX:t=>fu(Math.atan(t[1])),skewY:t=>fu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qC=t=>(t=t%360,t<0&&(t+=360),t),lP=zC,cP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Dee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cP,scaleY:dP,scale:t=>(cP(t)+dP(t))/2,rotateX:t=>qC(fu(Math.atan2(t[6],t[5]))),rotateY:t=>qC(fu(Math.atan2(-t[2],t[0]))),rotateZ:lP,rotate:lP,skewX:t=>fu(Math.atan(t[4])),skewY:t=>fu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function VC(t){return t.includes("scale")?1:0}function KC(t,e){if(!t||t==="none")return VC(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Dee,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Mee,a=l}if(!a)return VC(e);const i=n[e],o=a[1].split(",").map(Ree);return typeof i=="function"?i(o):o[i]}const Uee=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return KC(r,e)};function Ree(t){return parseFloat(t.trim())}const rm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nm=new Set(rm),uP=t=>t===tm||t===_t,Qee=new Set(["x","y","z"]),$ee=rm.filter(t=>!Qee.has(t));function Hee(t){const e=[];return $ee.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Cu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>KC(e,"x"),y:(t,{transform:e})=>KC(e,"y")};Cu.translateX=Cu.x;Cu.translateY=Cu.y;const Su=new Set;let WC=!1,GC=!1,XC=!1;function t$(){if(GC){const t=Array.from(Su).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Hee(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}GC=!1,WC=!1,Su.forEach(t=>t.complete(XC)),Su.clear()}function r$(){Su.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(GC=!0)})}function zee(){XC=!0,r$(),t$(),XC=!1}class aE{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Su.add(this),WC||(WC=!0,Qr.read(r$),Qr.resolveKeyframes(t$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Lee(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Su.delete(this)}cancel(){this.state==="scheduled"&&(Su.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qee=t=>t.startsWith("--");function Vee(t,e,r){qee(e)?t.style.setProperty(e,r):t.style[e]=r}const Kee=V3(()=>window.ScrollTimeline!==void 0),Wee={};function Gee(t,e){const r=V3(t);return()=>Wee[e]??r()}const n$=Gee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,AP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lp([0,.65,.55,1]),circOut:Lp([.55,0,1,.45]),backIn:Lp([.31,.01,.66,-.59]),backOut:Lp([.33,1.53,.69,.99])};function s$(t,e){if(t)return typeof t=="function"?n$()?J7(t,e):"ease-out":$7(t)?Lp(t):Array.isArray(t)?t.map(r=>s$(r,e)||AP.easeOut):AP[t]}function Xee(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:r};c&&(u.offset=c);const A=s$(l,a);Array.isArray(A)&&(u.easing=A);const h={delay:n,duration:a,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),t.animate(u,h)}function a$(t){return typeof t=="function"&&"applyToOptions"in t}function Yee({type:t,...e}){return a$(t)&&n$()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Jee extends nE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,q3(typeof e.type!="string");const d=Yee(e);this.animation=Xee(r,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=rE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Vee(r,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Oo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Kee()?(this.animation.timeline=e,xi):r(this)}}const i$={anticipate:D7,backInOut:M7,circInOut:R7};function Zee(t){return t in i$}function ete(t){typeof t.ease=="string"&&Zee(t.ease)&&(t.ease=i$[t.ease])}const hP=10;class tte extends Jee{constructor(e){ete(e),e$(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new sE({...o,autoplay:!1}),c=Oo(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-hP).value,l.sample(c).value,hP),l.stop()}}const fP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cd.test(t)||t==="0")&&!t.startsWith("url("));function rte(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function nte(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=fP(a,e),l=fP(i,e);return!o||!l?!1:rte(t)||(r==="spring"||a$(r))&&n}function YC(t){t.duration=0,t.type="keyframes"}const ste=new Set(["opacity","clipPath","filter","transform"]),ate=V3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ite(t){var u;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return ate()&&r&&ste.has(r)&&(r!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const ote=40;class lte extends nE{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...A}){var g;super(),this.stop=()=>{var x,m;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(m=this.keyframeResolver)==null||m.cancel()},this.createdAt=pa.now();const h={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...A},f=(u==null?void 0:u.KeyframeResolver)||aE;this.keyframeResolver=new f(l,(x,m,p)=>this.onKeyframesResolved(x,m,h,!p),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=pa.now(),nte(e,i,o,l)||((Ll.instantAnimations||!c)&&(u==null||u(rE(e,n,r))),e[0]=e[e.length-1],YC(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ote?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},f=!d&&ite(h)?new tte({...h,element:h.motionValue.owner.current}):new sE(h);f.finished.then(()=>this.notifyFinished()).catch(xi),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),zee()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const cte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dte(t){const e=cte.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function o$(t,e,r=1){const[n,a]=dte(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return E7(o)?parseFloat(o):o}return Y3(a)?o$(a,e,r+1):a}function iE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const l$=new Set(["width","height","top","left","right","bottom",...rm]),ute={test:t=>t==="auto",parse:t=>t},c$=t=>e=>e.test(t),d$=[tm,_t,Io,vc,ree,tee,ute],mP=t=>d$.find(c$(t));function Ate(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||F7(t):!0}const hte=new Set(["brightness","contrast","saturate","opacity"]);function fte(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(J3)||[];if(!n)return t;const a=r.replace(n,"");let i=hte.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const mte=/\b([a-z-]*)\(.*?\)/gu,JC={...cd,getAnimatableNone:t=>{const e=t.match(mte);return e?e.map(fte).join(" "):t}},pP={...tm,transform:Math.round},pte={rotate:vc,rotateX:vc,rotateY:vc,rotateZ:vc,scale:Uy,scaleX:Uy,scaleY:Uy,scaleZ:Uy,skew:vc,skewX:vc,skewY:vc,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:Yg,originX:nP,originY:nP,originZ:_t},oE={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,backgroundPositionX:_t,backgroundPositionY:_t,...pte,zIndex:pP,fillOpacity:Yg,strokeOpacity:Yg,numOctaves:pP},gte={...oE,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:JC,WebkitFilter:JC},u$=t=>gte[t];function A$(t,e){let r=u$(t);return r!==JC&&(r=cd),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const xte=new Set(["auto","none","0"]);function yte(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!xte.has(i)&&Jg(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=A$(r,a)}class vte extends aE{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Y3(d))){const u=o$(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!l$.has(n)||e.length!==2)return;const[a,i]=e,o=mP(a),l=mP(i);if(o!==l)if(uP(o)&&uP(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Cu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||Ate(e[a]))&&n.push(a);n.length&&yte(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Cu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function bte(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const h$=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function f$(t){return k7(t)&&"offsetHeight"in t}const gP=30,wte=t=>!isNaN(parseFloat(t));class jte{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=pa.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=pa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new K3);const n=this.events[e].add(r);return e==="change"?()=>{n(),Qr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gP)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,gP);return P7(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yf(t,e){return new jte(t,e)}const{schedule:lE}=H7(queueMicrotask,!1),Hi={x:!1,y:!1};function m$(){return Hi.x||Hi.y}function Nte(t){return t==="x"||t==="y"?Hi[t]?null:(Hi[t]=!0,()=>{Hi[t]=!1}):Hi.x||Hi.y?null:(Hi.x=Hi.y=!0,()=>{Hi.x=Hi.y=!1})}function p$(t,e){const r=bte(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function xP(t){return!(t.pointerType==="touch"||m$())}function _te(t,e,r={}){const[n,a,i]=p$(t,r),o=l=>{if(!xP(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=A=>{xP(A)&&(d(A),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const g$=(t,e)=>e?t===e?!0:g$(t,e.parentElement):!1,cE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Cte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ste(t){return Cte.has(t.tagName)||t.tabIndex!==-1}const ob=new WeakSet;function yP(t){return e=>{e.key==="Enter"&&t(e)}}function WN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Bte=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=yP(()=>{if(ob.has(r))return;WN(r,"down");const a=yP(()=>{WN(r,"up")}),i=()=>WN(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function vP(t){return cE(t)&&!m$()}function Ete(t,e,r={}){const[n,a,i]=p$(t,r),o=l=>{const c=l.currentTarget;if(!vP(l))return;ob.add(c);const d=e(c,l),u=(f,g)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",h),ob.has(c)&&ob.delete(c),vP(f)&&typeof d=="function"&&d(f,{success:g})},A=f=>{u(f,c===window||c===document||r.useGlobalTarget||g$(c,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",A,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),f$(l)&&(l.addEventListener("focus",d=>Bte(d,a)),!Ste(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function x$(t){return k7(t)&&"ownerSVGElement"in t}function kte(t){return x$(t)&&t.tagName==="svg"}const Ts=t=>!!(t&&t.getVelocity),Fte=[...d$,Sn,cd],Pte=t=>Fte.find(c$(t)),dE=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function bP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Tte(...t){return e=>{let r=!1;const n=t.map(a=>{const i=bP(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():bP(t[a],null)}}}}function Ote(...t){return k.useCallback(Tte(...t),t)}class Ite extends k.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=f$(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Lte({children:t,isPresent:e,anchorX:r,root:n}){const a=k.useId(),i=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(dE),c=Ote(i,t==null?void 0:t.ref);return k.useInsertionEffect(()=>{const{width:d,height:u,top:A,left:h,right:f}=o.current;if(e||!i.current||!d||!u)return;const g=r==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=a;const x=document.createElement("style");l&&(x.nonce=l);const m=n??document.head;return m.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${A}px !important;
          }
        `),()=>{m.contains(x)&&m.removeChild(x)}},[e]),s.jsx(Ite,{isPresent:e,childRef:i,sizeRef:o,children:k.cloneElement(t,{ref:c})})}const Mte=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=Q3(Dte),u=k.useId();let A=!0,h=k.useMemo(()=>(A=!1,{id:u,initial:e,isPresent:r,custom:a,onExitComplete:f=>{d.set(f,!0);for(const g of d.values())if(!g)return;n&&n()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[r,d,n]);return i&&A&&(h={...h}),k.useMemo(()=>{d.forEach((f,g)=>d.set(g,!1))},[r]),k.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Lte,{isPresent:r,anchorX:l,root:c,children:t})),s.jsx(W1.Provider,{value:h,children:t})};function Dte(){return new Map}function y$(t=!0){const e=k.useContext(W1);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=k.useId();k.useEffect(()=>{if(t)return a(i)},[t]);const o=k.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const Ry=t=>t.key||"";function wP(t){const e=[];return k.Children.forEach(t,r=>{k.isValidElement(r)&&e.push(r)}),e}const at=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=y$(o),A=k.useMemo(()=>wP(t),[t]),h=o&&!d?[]:A.map(Ry),f=k.useRef(!0),g=k.useRef(A),x=Q3(()=>new Map),[m,p]=k.useState(A),[y,w]=k.useState(A);B7(()=>{f.current=!1,g.current=A;for(let _=0;_<y.length;_++){const F=Ry(y[_]);h.includes(F)?x.delete(F):x.get(F)!==!0&&x.set(F,!1)}},[y,h.length,h.join("-")]);const S=[];if(A!==m){let _=[...A];for(let F=0;F<y.length;F++){const C=y[F],E=Ry(C);h.includes(E)||(_.splice(F,0,C),S.push(C))}return i==="wait"&&S.length&&(_=S),w(wP(_)),p(A),null}const{forceRender:j}=k.useContext(R3);return s.jsx(s.Fragment,{children:y.map(_=>{const F=Ry(_),C=o&&!d?!1:A===y||h.includes(F),E=()=>{if(x.has(F))x.set(F,!0);else return;let T=!0;x.forEach(v=>{v||(T=!1)}),T&&(j==null||j(),w(g.current),o&&(u==null||u()),n&&n())};return s.jsx(Mte,{isPresent:C,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:C?void 0:E,anchorX:l,children:_},F)})})},v$=k.createContext({strict:!1}),jP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vf={};for(const t in jP)vf[t]={isEnabled:e=>jP[t].some(r=>!!e[r])};function Ute(t){for(const e in t)vf[e]={...vf[e],...t[e]}}const Rte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Rte.has(t)}let b$=t=>!tw(t);function Qte(t){typeof t=="function"&&(b$=e=>e.startsWith("on")?!tw(e):t(e))}try{Qte(require("@emotion/is-prop-valid").default)}catch{}function $te(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(b$(a)||r===!0&&tw(a)||!e&&!tw(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const G1=k.createContext({});function X1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zg(t){return typeof t=="string"||Array.isArray(t)}const uE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AE=["initial",...uE];function Y1(t){return X1(t.animate)||AE.some(e=>Zg(t[e]))}function w$(t){return!!(Y1(t)||t.variants)}function Hte(t,e){if(Y1(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Zg(r)?r:void 0,animate:Zg(n)?n:void 0}}return t.inherit!==!1?e:{}}function zte(t){const{initial:e,animate:r}=Hte(t,k.useContext(G1));return k.useMemo(()=>({initial:e,animate:r}),[NP(e),NP(r)])}function NP(t){return Array.isArray(t)?t.join(" "):t}const e0={};function qte(t){for(const e in t)e0[e]=t[e],X3(e)&&(e0[e].isCSSVariable=!0)}function j$(t,{layout:e,layoutId:r}){return nm.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!e0[t]||t==="opacity")}const Vte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kte=rm.length;function Wte(t,e,r){let n="",a=!0;for(let i=0;i<Kte;i++){const o=rm[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=h$(l,oE[o]);if(!c){a=!1;const u=Vte[o]||o;n+=`${u}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function hE(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(nm.has(c)){o=!0;continue}else if(X3(c)){a[c]=d;continue}else{const u=h$(d,oE[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(e.transform||(o||r?n.transform=Wte(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const fE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N$(t,e,r){for(const n in e)!Ts(e[n])&&!j$(n,r)&&(t[n]=e[n])}function Gte({transformTemplate:t},e){return k.useMemo(()=>{const r=fE();return hE(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Xte(t,e){const r=t.style||{},n={};return N$(n,r,t),Object.assign(n,Gte(t,e)),n}function Yte(t,e){const r={},n=Xte(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Jte={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zte={offset:"strokeDashoffset",array:"strokeDasharray"};function ere(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?Jte:Zte;t[i.offset]=_t.transform(-n);const o=_t.transform(e),l=_t.transform(r);t[i.array]=`${o} ${l}`}function _$(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(hE(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:A,style:h}=t;A.transform&&(h.transform=A.transform,delete A.transform),(h.transform||A.transformOrigin)&&(h.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete A.transformBox),e!==void 0&&(A.x=e),r!==void 0&&(A.y=r),n!==void 0&&(A.scale=n),a!==void 0&&ere(A,a,i,o,!1)}const C$=()=>({...fE(),attrs:{}}),S$=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tre(t,e,r,n){const a=k.useMemo(()=>{const i=C$();return _$(i,e,S$(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};N$(i,t.style,t),a.style={...i,...a.style}}return a}const rre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mE(t){return typeof t!="string"||t.includes("-")?!1:!!(rre.indexOf(t)>-1||/[A-Z]/u.test(t))}function nre(t,e,r,{latestValues:n},a,i=!1){const l=(mE(t)?tre:Yte)(e,n,a,t),c=$te(e,typeof t=="string",i),d=t!==k.Fragment?{...c,...l,ref:r}:{},{children:u}=e,A=k.useMemo(()=>Ts(u)?u.get():u,[u]);return k.createElement(t,{...d,children:A})}function _P(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function pE(t,e,r,n){if(typeof e=="function"){const[a,i]=_P(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=_P(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function lb(t){return Ts(t)?t.get():t}function sre({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:are(r,n,a,t),renderState:e()}}function are(t,e,r,n){const a={},i=n(t,{});for(const h in i)a[h]=lb(i[h]);let{initial:o,animate:l}=t;const c=Y1(t),d=w$(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const A=u?l:o;if(A&&typeof A!="boolean"&&!X1(A)){const h=Array.isArray(A)?A:[A];for(let f=0;f<h.length;f++){const g=pE(t,h[f]);if(g){const{transitionEnd:x,transition:m,...p}=g;for(const y in p){let w=p[y];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(a[y]=w)}for(const y in x)a[y]=x[y]}}}return a}const B$=t=>(e,r)=>{const n=k.useContext(G1),a=k.useContext(W1),i=()=>sre(t,e,n,a);return r?i():Q3(i)};function gE(t,e,r){var i;const{style:n}=t,a={};for(const o in n)(Ts(n[o])||e.style&&Ts(e.style[o])||j$(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const ire=B$({scrapeMotionValuesFromProps:gE,createRenderState:fE});function E$(t,e,r){const n=gE(t,e,r);for(const a in t)if(Ts(t[a])||Ts(e[a])){const i=rm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const ore=B$({scrapeMotionValuesFromProps:E$,createRenderState:C$}),lre=Symbol.for("motionComponentSymbol");function Bh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cre(t,e,r){return k.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Bh(r)&&(r.current=n))},[e])}const xE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dre="framerAppearId",k$="data-"+xE(dre),F$=k.createContext({});function ure(t,e,r,n,a){var x,m;const{visualElement:i}=k.useContext(G1),o=k.useContext(v$),l=k.useContext(W1),c=k.useContext(dE).reducedMotion,d=k.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,A=k.useContext(F$);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Are(d.current,r,a,A);const h=k.useRef(!1);k.useInsertionEffect(()=>{u&&h.current&&u.update(r,l)});const f=r[k$],g=k.useRef(!!f&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,f))&&((m=window.MotionHasOptimisedAnimation)==null?void 0:m.call(window,f)));return B7(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),k.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,f)}),g.current=!1),u.enteringChildren=void 0)}),u}function Are(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:P$(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Bh(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function P$(t){if(t)return t.options.allowProjection!==!1?t.projection:P$(t.parent)}function GN(t,{forwardMotionProps:e=!1}={},r,n){r&&Ute(r);const a=mE(t)?ore:ire;function i(l,c){let d;const u={...k.useContext(dE),...l,layoutId:hre(l)},{isStatic:A}=u,h=zte(l),f=a(l,A);if(!A&&$3){fre();const g=mre(u);d=g.MeasureLayout,h.visualElement=ure(t,f,u,n,g.ProjectionNode)}return s.jsxs(G1.Provider,{value:h,children:[d&&h.visualElement?s.jsx(d,{visualElement:h.visualElement,...u}):null,nre(t,l,cre(f,h.visualElement,c),f,A,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=k.forwardRef(i);return o[lre]=t,o}function hre({layoutId:t}){const e=k.useContext(R3).id;return e&&t!==void 0?e+"-"+t:t}function fre(t,e){k.useContext(v$).strict}function mre(t){const{drag:e,layout:r}=vf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function pre(t,e){if(typeof Proxy>"u")return GN;const r=new Map,n=(i,o)=>GN(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,GN(o,void 0,t,e)),r.get(o))})}function T$({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function gre({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xre(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function XN(t){return t===void 0||t===1}function ZC({scale:t,scaleX:e,scaleY:r}){return!XN(t)||!XN(e)||!XN(r)}function Xd(t){return ZC(t)||O$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function O$(t){return CP(t.x)||CP(t.y)}function CP(t){return t&&t!=="0%"}function rw(t,e,r){const n=t-r,a=e*n;return r+a}function SP(t,e,r,n,a){return a!==void 0&&(t=rw(t,a,n)),rw(t,r,n)+e}function e4(t,e=0,r=1,n,a){t.min=SP(t.min,e,r,n,a),t.max=SP(t.max,e,r,n,a)}function I$(t,{x:e,y:r}){e4(t.x,e.translate,e.scale,e.originPoint),e4(t.y,r.translate,r.scale,r.originPoint)}const BP=.999999999999,EP=1.0000000000001;function yre(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&kh(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,I$(t,o)),n&&Xd(i.latestValues)&&kh(t,i.latestValues))}e.x<EP&&e.x>BP&&(e.x=1),e.y<EP&&e.y>BP&&(e.y=1)}function Eh(t,e){t.min=t.min+e,t.max=t.max+e}function kP(t,e,r,n,a=.5){const i=Vr(t.min,t.max,a);e4(t,e,r,i,n)}function kh(t,e){kP(t.x,e.x,e.scaleX,e.scale,e.originX),kP(t.y,e.y,e.scaleY,e.scale,e.originY)}function L$(t,e){return T$(xre(t.getBoundingClientRect(),e))}function vre(t,e,r){const n=L$(t,r),{scroll:a}=e;return a&&(Eh(n.x,a.offset.x),Eh(n.y,a.offset.y)),n}const FP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fh=()=>({x:FP(),y:FP()}),PP=()=>({min:0,max:0}),un=()=>({x:PP(),y:PP()}),t4={current:null},M$={current:!1};function bre(){if(M$.current=!0,!!$3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>t4.current=t.matches;t.addEventListener("change",e),e()}else t4.current=!1}const wre=new WeakMap;function jre(t,e,r){for(const n in e){const a=e[n],i=r[n];if(Ts(a))t.addValue(n,a);else if(Ts(i))t.addValue(n,yf(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,yf(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const TP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nre{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=pa.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Qr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Y1(r),this.isVariantNode=w$(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...A}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in A){const f=A[h];c[h]!==void 0&&Ts(f)&&f.set(c[h])}}mount(e){var r;this.current=e,wre.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),M$.current||bre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:t4.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ld(this.notifyUpdate),ld(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=nm.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vf){const r=vf[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<TP.length;n++){const a=TP[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=jre(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=yf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(E7(n)||F7(n))?n=parseFloat(n):!Pte(n)&&cd.test(r)&&(n=A$(e,r)),this.setBaseTarget(e,Ts(n)?n.get():n)),Ts(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=pE(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ts(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new K3),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){lE.render(this.render)}}class D$ extends Nre{constructor(){super(...arguments),this.KeyframeResolver=vte}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ts(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function U$(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function _re(t){return window.getComputedStyle(t)}class Cre extends D${constructor(){super(...arguments),this.type="html",this.renderInstance=U$}readValueFromInstance(e,r){var n;if(nm.has(r))return(n=this.projection)!=null&&n.isProjecting?VC(r):Uee(e,r);{const a=_re(e),i=(X3(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return L$(e,r)}build(e,r,n){hE(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return gE(e,r,n)}}const R$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sre(t,e,r,n){U$(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(R$.has(a)?a:xE(a),e.attrs[a])}class Bre extends D${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(nm.has(r)){const n=u$(r);return n&&n.default||0}return r=R$.has(r)?r:xE(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return E$(e,r,n)}build(e,r,n){_$(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){Sre(e,r,n,a)}mount(e){this.isSVGTag=S$(e.tagName),super.mount(e)}}const Ere=(t,e)=>mE(t)?new Bre(e):new Cre(e,{allowProjection:t!==k.Fragment});function Kh(t,e,r){const n=t.getProps();return pE(n,e,r!==void 0?r:n.custom,t)}const r4=t=>Array.isArray(t);function kre(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,yf(r))}function Fre(t){return r4(t)?t[t.length-1]||0:t}function Pre(t,e){const r=Kh(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Fre(i[o]);kre(t,o,l)}}function Tre(t){return!!(Ts(t)&&t.add)}function n4(t,e){const r=t.getValue("willChange");if(Tre(r))return r.add(e);if(!r&&Ll.WillChange){const n=new Ll.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Q$(t){return t.props[k$]}const Ore=t=>t!==null;function Ire(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(Ore),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Lre={type:"spring",stiffness:500,damping:25,restSpeed:10},Mre=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Dre={type:"keyframes",duration:.8},Ure={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rre=(t,{keyframes:e})=>e.length>2?Dre:nm.has(t)?t.startsWith("scale")?Mre(e[1]):Lre:Ure;function Qre({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const yE=(t,e,r,n={},a,i)=>o=>{const l=iE(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Oo(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:h=>{e.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};Qre(l)||Object.assign(u,Rre(t,u)),u.duration&&(u.duration=Oo(u.duration)),u.repeatDelay&&(u.repeatDelay=Oo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let A=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(YC(u),u.delay===0&&(A=!0)),(Ll.instantAnimations||Ll.skipAnimations)&&(A=!0,YC(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,A&&!i&&e.get()!==void 0){const h=Ire(u.keyframes,l);if(h!==void 0){Qr.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new sE(u):new lte(u)};function $re({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function $$(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in l){const A=t.getValue(u,t.latestValues[u]??null),h=l[u];if(h===void 0||d&&$re(d,u))continue;const f={delay:r,...iE(i||{},u)},g=A.get();if(g!==void 0&&!A.isAnimating&&!Array.isArray(h)&&h===g&&!f.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const p=Q$(t);if(p){const y=window.MotionHandoffAnimation(p,u,Qr);y!==null&&(f.startTime=y,x=!0)}}n4(t,u),A.start(yE(u,A,h,t.shouldReduceMotion&&l$.has(u)?{type:!1}:f,t,x));const m=A.animation;m&&c.push(m)}return o&&Promise.all(c).then(()=>{Qr.update(()=>{o&&Pre(t,o)})}),c}function H$(t,e,r,n=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function s4(t,e,r={}){var c;const n=Kh(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all($$(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:A,staggerDirection:h}=a;return Hre(t,e,d,u,A,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function Hre(t,e,r=0,n=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(s4(c,e,{...o,delay:r+(typeof n=="function"?0:n)+H$(t.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function zre(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>s4(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=s4(t,e,r);else{const a=typeof e=="function"?Kh(t,e,r.custom):e;n=Promise.all($$(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function z$(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const qre=AE.length;function q$(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?q$(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<qre;r++){const n=AE[r],a=t.props[n];(Zg(a)||a===!1)&&(e[n]=a)}return e}const Vre=[...uE].reverse(),Kre=uE.length;function Wre(t){return e=>Promise.all(e.map(({animation:r,options:n})=>zre(t,r,n)))}function Gre(t){let e=Wre(t),r=OP(),n=!0;const a=c=>(d,u)=>{var h;const A=Kh(t,u,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(A){const{transition:f,transitionEnd:g,...x}=A;d={...d,...x,...g}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=q$(t.parent)||{},A=[],h=new Set;let f={},g=1/0;for(let m=0;m<Kre;m++){const p=Vre[m],y=r[p],w=d[p]!==void 0?d[p]:u[p],S=Zg(w),j=p===c?y.isActive:null;j===!1&&(g=m);let _=w===u[p]&&w!==d[p]&&S;if(_&&n&&t.manuallyAnimateOnMount&&(_=!1),y.protectedKeys={...f},!y.isActive&&j===null||!w&&!y.prevProp||X1(w)||typeof w=="boolean")continue;const F=Xre(y.prevProp,w);let C=F||p===c&&y.isActive&&!_&&S||m>g&&S,E=!1;const T=Array.isArray(w)?w:[w];let v=T.reduce(a(p),{});j===!1&&(v={});const{prevResolvedValues:N={}}=y,O={...N,...v},L=U=>{C=!0,h.has(U)&&(E=!0,h.delete(U)),y.needsAnimating[U]=!0;const R=t.getValue(U);R&&(R.liveStyle=!1)};for(const U in O){const R=v[U],z=N[U];if(f.hasOwnProperty(U))continue;let Y=!1;r4(R)&&r4(z)?Y=!z$(R,z):Y=R!==z,Y?R!=null?L(U):h.add(U):R!==void 0&&h.has(U)?L(U):y.protectedKeys[U]=!0}y.prevProp=w,y.prevResolvedValues=v,y.isActive&&(f={...f,...v}),n&&t.blockInitialAnimation&&(C=!1);const Q=_&&F;C&&(!Q||E)&&A.push(...T.map(U=>{const R={type:p};if(typeof U=="string"&&n&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:z}=t,Y=Kh(z,U);if(z.enteringChildren&&Y){const{delayChildren:X}=Y.transition||{};R.delay=H$(z.enteringChildren,t,X)}}return{animation:U,options:R}}))}if(h.size){const m={};if(typeof d.initial!="boolean"){const p=Kh(t,Array.isArray(d.initial)?d.initial[0]:d.initial);p&&p.transition&&(m.transition=p.transition)}h.forEach(p=>{const y=t.getBaseTarget(p),w=t.getValue(p);w&&(w.liveStyle=!0),m[p]=y??null}),A.push({animation:m})}let x=!!A.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(A):Promise.resolve()}function l(c,d){var A;if(r[c].isActive===d)return Promise.resolve();(A=t.variantChildren)==null||A.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=OP()}}}function Xre(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!z$(e,t):!1}function Dd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OP(){return{animate:Dd(!0),whileInView:Dd(),whileHover:Dd(),whileTap:Dd(),whileDrag:Dd(),whileFocus:Dd(),exit:Dd()}}class yd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Yre extends yd{constructor(e){super(e),e.animationState||(e.animationState=Gre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();X1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Jre=0;class Zre extends yd{constructor(){super(...arguments),this.id=Jre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ene={animation:{Feature:Yre},exit:{Feature:Zre}};function t0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Ax(t){return{point:{x:t.pageX,y:t.pageY}}}const tne=t=>e=>cE(e)&&t(e,Ax(e));function ig(t,e,r,n){return t0(t,e,tne(r),n)}const V$=1e-4,rne=1-V$,nne=1+V$,K$=.01,sne=0-K$,ane=0+K$;function qs(t){return t.max-t.min}function ine(t,e,r){return Math.abs(t-e)<=r}function IP(t,e,r,n=.5){t.origin=n,t.originPoint=Vr(e.min,e.max,t.origin),t.scale=qs(r)/qs(e),t.translate=Vr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=rne&&t.scale<=nne||isNaN(t.scale))&&(t.scale=1),(t.translate>=sne&&t.translate<=ane||isNaN(t.translate))&&(t.translate=0)}function og(t,e,r,n){IP(t.x,e.x,r.x,n?n.originX:void 0),IP(t.y,e.y,r.y,n?n.originY:void 0)}function LP(t,e,r){t.min=r.min+e.min,t.max=t.min+qs(e)}function one(t,e,r){LP(t.x,e.x,r.x),LP(t.y,e.y,r.y)}function MP(t,e,r){t.min=e.min-r.min,t.max=t.min+qs(e)}function lg(t,e,r){MP(t.x,e.x,r.x),MP(t.y,e.y,r.y)}function si(t){return[t("x"),t("y")]}const W$=({current:t})=>t?t.ownerDocument.defaultView:null,DP=(t,e)=>Math.abs(t-e);function lne(t,e){const r=DP(t.x,e.x),n=DP(t.y,e.y);return Math.sqrt(r**2+n**2)}class G${constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=JN(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=lne(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:x}=h,{timestamp:m}=cs;this.history.push({...x,timestamp:m});const{onStart:p,onMove:y}=this.handlers;f||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=YN(f,this.transformPagePoint),Qr.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=JN(h.type==="pointercancel"?this.lastMoveEventInfo:YN(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,p),x&&x(h,p)},!cE(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Ax(e),c=YN(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=cs;this.history=[{...d,timestamp:u}];const{onSessionStart:A}=r;A&&A(e,JN(c,this.history)),this.removeListeners=cx(ig(this.contextWindow,"pointermove",this.handlePointerMove),ig(this.contextWindow,"pointerup",this.handlePointerUp),ig(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ld(this.updatePoint)}}function YN(t,e){return e?{point:e(t.point)}:t}function UP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function JN({point:t},e){return{point:t,delta:UP(t,X$(e)),offset:UP(t,cne(e)),velocity:dne(e,.1)}}function cne(t){return t[0]}function X$(t){return t[t.length-1]}function dne(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=X$(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Oo(e)));)r--;if(!n)return{x:0,y:0};const i=Ai(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function une(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Vr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Vr(r,t,n.max):Math.min(t,r)),t}function RP(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Ane(t,{top:e,left:r,bottom:n,right:a}){return{x:RP(t.x,r,a),y:RP(t.y,e,n)}}function QP(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function hne(t,e){return{x:QP(t.x,e.x),y:QP(t.y,e.y)}}function fne(t,e){let r=.5;const n=qs(t),a=qs(e);return a>n?r=Xg(e.min,e.max-n,t.min):n>a&&(r=Xg(t.min,t.max-a,e.min)),Il(0,1,r)}function mne(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const a4=.35;function pne(t=a4){return t===!1?t=0:t===!0&&(t=a4),{x:$P(t,"left","right"),y:$P(t,"top","bottom")}}function $P(t,e,r){return{min:HP(t,e),max:HP(t,r)}}function HP(t,e){return typeof t=="number"?t:t[e]||0}const gne=new WeakMap;class xne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=A=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ax(A).point)},o=(A,h)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nte(f),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(p=>{let y=this.getAxisMotionValue(p).get()||0;if(Io.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[p];S&&(y=qs(S)*(parseFloat(y)/100))}}this.originPoint[p]=y}),x&&Qr.postRender(()=>x(A,h)),n4(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},l=(A,h)=>{this.latestPointerEvent=A,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:p}=h;if(g&&this.currentDirection===null){this.currentDirection=yne(p),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),m&&m(A,h)},c=(A,h)=>{this.latestPointerEvent=A,this.latestPanInfo=h,this.stop(A,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>si(A=>{var h;return this.getAnimationState(A)==="paused"&&((h=this.getAxisMotionValue(A).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new G$(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:W$(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Qr.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!Qy(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=une(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&Bh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Ane(n.layoutBox,e):this.constraints=!1,this.elastic=pne(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mne(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Bh(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=vre(n,a.root,this.visualElement.getTransformPagePoint());let o=hne(a.layout.layoutBox,i);if(r){const l=r(gre(o));this.hasMutatedConstraints=!!l,l&&(o=T$(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=si(u=>{if(!Qy(u,r,this.currentDirection))return;let A=c&&c[u]||{};o&&(A={min:0,max:0});const h=a?200:1e6,f=a?40:1e7,g={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...A};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n4(this.visualElement,e),n.start(yE(e,n,0,r,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){si(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){si(r=>{const{drag:n}=this.getProps();if(!Qy(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Vr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Bh(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=fne({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),si(o=>{if(!Qy(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Vr(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;gne.set(this.visualElement,this);const e=this.visualElement.current,r=ig(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Bh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Qr.read(n);const o=t0(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(si(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=c[u].translate,A.set(A.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=a4,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Qy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function yne(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class vne extends yd{constructor(e){super(e),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new xne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const zP=t=>(e,r)=>{t&&Qr.postRender(()=>t(e,r))};class bne extends yd{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(e){this.session=new G$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:zP(e),onStart:zP(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Qr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=ig(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ap={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_t.test(t))t=parseFloat(t);else return t;const r=qP(t,e.target.x),n=qP(t,e.target.y);return`${r}% ${n}%`}},wne={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=cd.parse(t);if(a.length>5)return n;const i=cd.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Vr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let ZN=!1;class jne extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;qte(Nne),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),ZN&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),cb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,ZN=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Qr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;ZN=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y$(t){const[e,r]=y$(),n=k.useContext(R3);return s.jsx(jne,{...t,layoutGroup:n,switchLayoutGroup:k.useContext(F$),isPresent:e,safeToRemove:r})}const Nne={borderRadius:{...ap,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ap,borderTopRightRadius:ap,borderBottomLeftRadius:ap,borderBottomRightRadius:ap,boxShadow:wne};function _ne(t,e,r){const n=Ts(t)?t:yf(t);return n.start(yE("",n,e,r)),n.animation}const Cne=(t,e)=>t.depth-e.depth;class Sne{constructor(){this.children=[],this.isDirty=!1}add(e){H3(this.children,e),this.isDirty=!0}remove(e){z3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Cne),this.isDirty=!1,this.children.forEach(e)}}function Bne(t,e){const r=pa.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(ld(n),t(i-e))};return Qr.setup(n,!0),()=>ld(n)}const J$=["TopLeft","TopRight","BottomLeft","BottomRight"],Ene=J$.length,VP=t=>typeof t=="string"?parseFloat(t):t,KP=t=>typeof t=="number"||_t.test(t);function kne(t,e,r,n,a,i){a?(t.opacity=Vr(0,r.opacity??1,Fne(n)),t.opacityExit=Vr(e.opacity??1,0,Pne(n))):i&&(t.opacity=Vr(e.opacity??1,r.opacity??1,n));for(let o=0;o<Ene;o++){const l=`border${J$[o]}Radius`;let c=WP(e,l),d=WP(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||KP(c)===KP(d)?(t[l]=Math.max(Vr(VP(c),VP(d),n),0),(Io.test(d)||Io.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Vr(e.rotate||0,r.rotate||0,n))}function WP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Fne=Z$(0,.5,U7),Pne=Z$(.5,.95,xi);function Z$(t,e,r){return n=>n<t?0:n>e?1:r(Xg(t,e,n))}function GP(t,e){t.min=e.min,t.max=e.max}function Za(t,e){GP(t.x,e.x),GP(t.y,e.y)}function XP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function YP(t,e,r,n,a){return t-=e,t=rw(t,1/r,n),a!==void 0&&(t=rw(t,1/a,n)),t}function Tne(t,e=0,r=1,n=.5,a,i=t,o=t){if(Io.test(e)&&(e=parseFloat(e),e=Vr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Vr(i.min,i.max,n);t===i&&(l-=e),t.min=YP(t.min,e,r,l,a),t.max=YP(t.max,e,r,l,a)}function JP(t,e,[r,n,a],i,o){Tne(t,e[r],e[n],e[a],e.scale,i,o)}const One=["x","scaleX","originX"],Ine=["y","scaleY","originY"];function ZP(t,e,r,n){JP(t.x,e,One,r?r.x:void 0,n?n.x:void 0),JP(t.y,e,Ine,r?r.y:void 0,n?n.y:void 0)}function eT(t){return t.translate===0&&t.scale===1}function e9(t){return eT(t.x)&&eT(t.y)}function tT(t,e){return t.min===e.min&&t.max===e.max}function Lne(t,e){return tT(t.x,e.x)&&tT(t.y,e.y)}function rT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function t9(t,e){return rT(t.x,e.x)&&rT(t.y,e.y)}function nT(t){return qs(t.x)/qs(t.y)}function sT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Mne{constructor(){this.members=[]}add(e){H3(this.members,e),e.scheduleRender()}remove(e){if(z3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dne(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:A,rotateY:h,skewX:f,skewY:g}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),A&&(n+=`rotateX(${A}deg) `),h&&(n+=`rotateY(${h}deg) `),f&&(n+=`skewX(${f}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const e_=["","X","Y","Z"],Une=1e3;let Rne=0;function t_(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function r9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Q$(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Qr,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&r9(n)}function n9({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Rne++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hne),this.nodes.forEach(Kne),this.nodes.forEach(Wne),this.nodes.forEach(zne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sne)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new K3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=x$(o)&&!kte(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,A=0;const h=()=>this.root.updateBlockedByResize=!1;Qr.read(()=>{A=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==A&&(A=f,this.root.updateBlockedByResize=!0,u&&u(),u=Bne(h,250),cb.hasAnimatedSinceResize&&(cb.hasAnimatedSinceResize=!1,this.nodes.forEach(oT)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:A,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Zne,{onLayoutAnimationStart:x,onLayoutAnimationComplete:m}=d.getProps(),p=!this.targetLayout||!t9(this.targetLayout,f),y=!A&&h;if(this.options.layoutRoot||this.resumeFrom||y||A&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...iE(g,"layout"),onPlay:x,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,y)}else A||oT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ld(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Vne),this.nodes.forEach(Qne),this.nodes.forEach($ne)):this.nodes.forEach(iT),this.clearAllSnapshots();const l=pa.now();cs.delta=Il(0,1e3/60,l-cs.timestamp),cs.timestamp=l,cs.isProcessing=!0,HN.update.process(cs),HN.preRender.process(cs),HN.render.process(cs),cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qne),this.sharedNodes.forEach(Xne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qs(this.snapshot.measuredBox.x)&&!qs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!e9(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Xd(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ese(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return un();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(tse))){const{scroll:u}=this.root;u&&(Eh(l.x,u.offset.x),Eh(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=un();if(Za(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:A,options:h}=u;u!==this.root&&A&&h.layoutScroll&&(A.wasRoot&&Za(l,o),Eh(l.x,A.offset.x),Eh(l.y,A.offset.y))}return l}applyTransform(o,l=!1){const c=un();Za(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&kh(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xd(u.latestValues)&&kh(c,u.latestValues)}return Xd(this.latestValues)&&kh(c,this.latestValues),c}removeTransform(o){const l=un();Za(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Xd(d.latestValues))continue;ZC(d.latestValues)&&d.updateSnapshot();const u=un(),A=d.measurePageBox();Za(u,A),ZP(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Xd(this.latestValues)&&ZP(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:A}=this.options;if(!(!this.layout||!(u||A))){if(this.resolvedRelativeTargetAt=cs.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),lg(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),one(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Za(this.target,this.layout.layoutBox),I$(this.target,this.targetDelta)):Za(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),lg(this.relativeTargetOrigin,this.target,f.target),Za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ZC(this.parent.latestValues)||O$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===cs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Za(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,h=this.treeScale.y;yre(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=un());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XP(this.prevProjectionDelta.x,this.projectionDelta.x),XP(this.prevProjectionDelta.y,this.projectionDelta.y)),og(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==h||!sT(this.projectionDelta.x,this.prevProjectionDelta.x)||!sT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fh(),this.projectionDelta=Fh(),this.projectionDeltaWithTransform=Fh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},A=Fh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=un(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=f!==g,m=this.getStack(),p=!m||m.members.length<=1,y=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(Jne));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const j=S/1e3;lT(A.x,o.x,j),lT(A.y,o.y,j),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yne(this.relativeTarget,this.relativeTargetOrigin,h,j),w&&Lne(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=un()),Za(w,this.relativeTarget)),x&&(this.animationValues=u,kne(u,d,this.latestValues,j,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ld(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qr.update(()=>{cb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yf(0)),this.currentAnimation=_ne(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Une),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&s9(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||un();const A=qs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+A;const h=qs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Za(l,c),kh(l,u),og(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mne),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&t_("z",o,d,this.animationValues);for(let u=0;u<e_.length;u++)t_(`rotate${e_[u]}`,o,d,this.animationValues),t_(`skew${e_[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=lb(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=lb(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Xd(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let A=Dne(this.projectionDeltaWithTransform,this.treeScale,u);c&&(A=c(u,A)),o.transform=A;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in e0){if(u[g]===void 0)continue;const{correct:x,applyTo:m,isCSSVariable:p}=e0[g],y=A==="none"?u[g]:x(u[g],d);if(m){const w=m.length;for(let S=0;S<w;S++)o[m[S]]=y}else p?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=d===this?lb(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(aT),this.root.sharedNodes.clear()}}}function Qne(t){t.updateLayout()}function $ne(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?si(A=>{const h=o?e.measuredBox[A]:e.layoutBox[A],f=qs(h);h.min=n[A].min,h.max=h.min+f}):s9(i,e.layoutBox,n)&&si(A=>{const h=o?e.measuredBox[A]:e.layoutBox[A],f=qs(n[A]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[A].max=t.relativeTarget[A].min+f)});const l=Fh();og(l,n,e.layoutBox);const c=Fh();o?og(c,t.applyTransform(a,!0),e.measuredBox):og(c,n,e.layoutBox);const d=!e9(l);let u=!1;if(!t.resumeFrom){const A=t.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:h,layout:f}=A;if(h&&f){const g=un();lg(g,e.layoutBox,h.layoutBox);const x=un();lg(x,n,f.layoutBox),t9(g,x)||(u=!0),A.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=A)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Hne(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qne(t){t.clearSnapshot()}function aT(t){t.clearMeasurements()}function iT(t){t.isLayoutDirty=!1}function Vne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kne(t){t.resolveTargetDelta()}function Wne(t){t.calcProjection()}function Gne(t){t.resetSkewAndRotation()}function Xne(t){t.removeLeadSnapshot()}function lT(t,e,r){t.translate=Vr(e.translate,0,r),t.scale=Vr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function cT(t,e,r,n){t.min=Vr(e.min,r.min,n),t.max=Vr(e.max,r.max,n)}function Yne(t,e,r,n){cT(t.x,e.x,r.x,n),cT(t.y,e.y,r.y,n)}function Jne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Zne={duration:.45,ease:[.4,0,.1,1]},dT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uT=dT("applewebkit/")&&!dT("chrome/")?Math.round:xi;function AT(t){t.min=uT(t.min),t.max=uT(t.max)}function ese(t){AT(t.x),AT(t.y)}function s9(t,e,r){return t==="position"||t==="preserve-aspect"&&!ine(nT(e),nT(r),.2)}function tse(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const rse=n9({attachResizeListener:(t,e)=>t0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),r_={current:void 0},a9=n9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!r_.current){const t=new rse({});t.mount(window),t.setOptions({layoutScroll:!0}),r_.current=t}return r_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nse={pan:{Feature:bne},drag:{Feature:vne,ProjectionNode:a9,MeasureLayout:Y$}};function hT(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Qr.postRender(()=>i(e,Ax(e)))}class sse extends yd{mount(){const{current:e}=this.node;e&&(this.unmount=_te(e,(r,n)=>(hT(this.node,n,"Start"),a=>hT(this.node,a,"End"))))}unmount(){}}class ase extends yd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cx(t0(this.node.current,"focus",()=>this.onFocus()),t0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fT(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Qr.postRender(()=>i(e,Ax(e)))}class ise extends yd{mount(){const{current:e}=this.node;e&&(this.unmount=Ete(e,(r,n)=>(fT(this.node,n,"Start"),(a,{success:i})=>fT(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const i4=new WeakMap,n_=new WeakMap,ose=t=>{const e=i4.get(t.target);e&&e(t)},lse=t=>{t.forEach(ose)};function cse({root:t,...e}){const r=t||document;n_.has(r)||n_.set(r,{});const n=n_.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(lse,{root:t,...e})),n[a]}function dse(t,e,r){const n=cse(e);return i4.set(t,r),n.observe(t),()=>{i4.delete(t),n.unobserve(t)}}const use={some:0,all:1};class Ase extends yd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:use[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),h=d?u:A;h&&h(c)};return dse(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(hse(e,r))&&this.startObserver()}unmount(){}}function hse({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const fse={inView:{Feature:Ase},tap:{Feature:ise},focus:{Feature:ase},hover:{Feature:sse}},mse={layout:{ProjectionNode:a9,MeasureLayout:Y$}},pse={...ene,...fse,...nse,...mse},oe=pre(pse,Ere);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xse=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),mT=t=>{const e=xse(t);return e.charAt(0).toUpperCase()+e.slice(1)},i9=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),yse=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>k.createElement("svg",{ref:c,...vse,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:i9("lucide",a),...!i&&!yse(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>k.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=k.forwardRef(({className:n,...a},i)=>k.createElement(bse,{ref:i,iconNode:e,className:i9(`lucide-${gse(mT(t))}`,`lucide-${t}`,n),...a}));return r.displayName=mT(t),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Wh=De("activity",wse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],o4=De("archive",jse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],vE=De("arrow-down-right",Nse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],J1=De("arrow-down",_se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wl=De("arrow-left",Cse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wi=De("arrow-right",Sse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Z1=De("arrow-up-right",Bse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Gh=De("arrow-up",Ese);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Fse=De("award",kse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tse=De("ban",Pse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],o9=De("bell",Ose);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Lse=De("book",Ise);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Dse=De("briefcase",Mse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],yl=De("building-2",Use);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Bu=De("building",Rse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],l4=De("calculator",Qse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jt=De("calendar",$se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],l9=De("car",Hse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],mu=De("chart-bar",zse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ys=De("chart-column",qse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]],pT=De("chart-gantt",Vse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],c9=De("chart-line",Kse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],db=De("chart-pie",Wse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kr=De("check",Gse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hu=De("chevron-down",Xse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nw=De("chevron-left",Yse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e2=De("chevron-right",Jse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],r0=De("chevron-up",Zse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zn=De("circle-alert",eae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lo=De("circle-check-big",tae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pn=De("circle-check",rae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d9=De("circle-play",nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aae=De("circle-question-mark",sae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oae=De("circle-x",iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ed=De("circle",lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Js=De("clipboard-list",cae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dt=De("clock",dae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],u9=De("cloud",uae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],hae=De("code",Aae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zu=De("copy",fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Dr=De("credit-card",mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hx=De("crown",pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],n0=De("database",gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xt=De("dollar-sign",xae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ls=De("download",yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],bae=De("ellipsis-vertical",vae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jae=De("external-link",wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bE=De("eye-off",Nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ds=De("eye",_ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],gT=De("facebook",Cae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],c4=De("file-check",Sae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],A9=De("file-down",Bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xt=De("file-text",Eae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],wE=De("file",kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ub=De("flag",Fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Tae=De("folder-kanban",Pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],$y=De("folder-open",Oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Lae=De("folder-plus",Iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],xT=De("folder",Mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jE=De("funnel",Dae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],yT=De("git-branch",Uae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sw=De("globe",Rae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],$ae=De("grip-vertical",Qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zae=De("heart",Hae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Vae=De("inbox",qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cg=De("info",Kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],vT=De("instagram",Wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xh=De("key",Gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Yae=De("layout-grid",Xae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Zae=De("library",Jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],sA=De("list-filter",eie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],s_=De("list",tie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],fx=De("loader",rie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],h9=De("lock-open",nie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xi=De("lock",sie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bT=De("log-out",aie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qn=De("mail",iie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ra=De("map-pin",oie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cie=De("menu",lie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],aw=De("message-circle",die);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],d4=De("message-square",uie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],hie=De("mic-off",Aie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],mie=De("mic",fie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["path",{d:"M5 12h14",key:"1ays0h"}]],s0=De("minus",pie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],xie=De("monitor",gie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],vie=De("moon",yie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],a0=De("navigation",bie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Nt=De("package",wie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],t2=De("palette",jie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],_ie=De("paperclip",Nie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Sie=De("pen",Cie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Eie=De("phone-off",Bie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],us=De("phone",kie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],wT=De("play",Fie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bt=De("plus",Pie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],i0=De("printer",Tie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zs=De("refresh-cw",Oie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Lie=De("rotate-ccw",Iie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qt=De("save",Mie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hr=De("search",Die);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],to=De("send",Uie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Qie=De("server",Rie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qu=De("settings",$ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Kr=De("shield",Hie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ph=De("shopping-cart",zie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],NE=De("smartphone",qie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Kie=De("smile",Vie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],jT=De("snowflake",Wie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],NT=De("sparkles",Gie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_T=De("square-check-big",Xie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ga=De("square-pen",Yie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vs=De("star",Jie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eoe=De("sun",Zie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],roe=De("table",toe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],soe=De("tablet",noe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],u4=De("tag",aoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],r2=De("target",ioe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bt=De("trash-2",ooe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vl=De("trending-down",loe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],br=De("trending-up",coe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ts=De("triangle-alert",doe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],_E=De("truck",uoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dg=De("upload",Aoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],foe=De("user-check",hoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],poe=De("user-cog",moe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],f9=De("user-plus",goe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],yoe=De("user-x",xoe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xn=De("user",voe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kt=De("users",boe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],a_=De("video",woe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],CT=De("video-off",joe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],_oe=De("volume-2",Noe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Soe=De("wallet",Coe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Eoe=De("wrench",Boe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dt=De("x",koe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ml=De("zap",Foe),Poe=()=>s.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 flex items-center justify-center z-50",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full blur-xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"text-center z-10",children:[s.jsx(oe.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut",type:"spring",stiffness:100},className:"flex items-center justify-center mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(oe.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:s.jsx(Js,{className:"h-10 w-10 text-white"})}),s.jsx(oe.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.5},className:"absolute -bottom-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center",children:s.jsx(Nt,{className:"h-4 w-4 text-white"})})]})}),s.jsx(oe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"text-4xl font-bold text-white mb-4",children:"Sistema OS"}),s.jsx(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"text-lg text-white/80 mb-8",children:"Gestão integrada de ordens de serviço"}),s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},className:"w-64 h-1 bg-white/20 rounded-full overflow-hidden mx-auto",children:s.jsx(oe.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:1.4,duration:1,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-pink-400 to-purple-400 rounded-full"})}),s.jsx(oe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6,duration:.4},className:"text-sm text-white/60 mt-4",children:"Carregando o sistema..."})]})]}),Toe="modulepreload",Ooe=function(t){return"/"+t},ST={},dd=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Ooe(c),c in ST)return;ST[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const A=document.createElement("link");if(A.rel=d?"stylesheet":Toe,d||(A.as="script"),A.crossOrigin="",A.href=c,l&&A.setAttribute("nonce",l),document.head.appendChild(A),d)return new Promise((h,f)=>{A.addEventListener("load",h),A.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Ioe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>dd(async()=>{const{default:n}=await Promise.resolve().then(()=>sm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class CE extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class BT extends CE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ET extends CE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kT extends CE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var A4;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(A4||(A4={}));var Loe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Moe{constructor(e,{headers:r={},customFetch:n,region:a=A4.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Ioe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Loe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let d={},{region:u}=n;u||(u=this.region);const A=new URL(`${this.url}/${r}`);u&&u!=="any"&&(d["x-region"]=u,A.searchParams.set("forceFunctionRegion",u));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(d["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(d["Content-Type"]="application/json",h=JSON.stringify(l)));const f=yield this.fetch(A.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:h,signal:c}).catch(p=>{throw p.name==="AbortError"?p:new BT(p)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new ET(f);if(!f.ok)throw new kT(f);let x=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),m;return x==="application/json"?m=yield f.json():x==="application/octet-stream"?m=yield f.blob():x==="text/event-stream"?m=f:x==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new BT(i)}:{data:null,error:i,response:i instanceof kT||i instanceof ET?i.context:void 0}}})}}var ha={},SE={},n2={},mx={},s2={},a2={},Doe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bf=Doe();const Uoe=bf.fetch,m9=bf.fetch.bind(bf),p9=bf.Headers,Roe=bf.Request,Qoe=bf.Response,sm=Object.freeze(Object.defineProperty({__proto__:null,Headers:p9,Request:Roe,Response:Qoe,default:m9,fetch:Uoe},Symbol.toStringTag,{value:"Module"})),$oe=sX(sm);var i2={};Object.defineProperty(i2,"__esModule",{value:!0});let Hoe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};i2.default=Hoe;var g9=Ps&&Ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(a2,"__esModule",{value:!0});const zoe=g9($oe),qoe=g9(i2);let Voe=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zoe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,A=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?A=y:A=JSON.parse(y))}const m=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(u={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,h=null,f=406,g="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(A=[],u=null,f=200,g="OK")}catch{i.status===404&&m===""?(f=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new qoe.default(u)}return{error:u,data:A,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};a2.default=Voe;var Koe=Ps&&Ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s2,"__esModule",{value:!0});const Woe=Koe(a2);let Goe=class extends Woe.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};s2.default=Goe;var Xoe=Ps&&Ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mx,"__esModule",{value:!0});const Yoe=Xoe(s2);let Joe=class extends Yoe.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};mx.default=Joe;var Zoe=Ps&&Ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n2,"__esModule",{value:!0});const ip=Zoe(mx);let ele=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,r){const{head:n=!1,count:a}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new ip.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ip.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new ip.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ip.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ip.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};n2.default=ele;var x9=Ps&&Ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(SE,"__esModule",{value:!0});const tle=x9(n2),rle=x9(mx);let nle=class y9{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new tle.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new y9(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([A,h])=>h!==void 0).map(([A,h])=>[A,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([A,h])=>{c.searchParams.append(A,h)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new rle.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};SE.default=nle;var am=Ps&&Ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ha,"__esModule",{value:!0});ha.PostgrestError=ha.PostgrestBuilder=ha.PostgrestTransformBuilder=ha.PostgrestFilterBuilder=ha.PostgrestQueryBuilder=ha.PostgrestClient=void 0;const v9=am(SE);ha.PostgrestClient=v9.default;const b9=am(n2);ha.PostgrestQueryBuilder=b9.default;const w9=am(mx);ha.PostgrestFilterBuilder=w9.default;const j9=am(s2);ha.PostgrestTransformBuilder=j9.default;const N9=am(a2);ha.PostgrestBuilder=N9.default;const _9=am(i2);ha.PostgrestError=_9.default;var sle=ha.default={PostgrestClient:v9.default,PostgrestQueryBuilder:b9.default,PostgrestFilterBuilder:w9.default,PostgrestTransformBuilder:j9.default,PostgrestBuilder:N9.default,PostgrestError:_9.default};const{PostgrestClient:ale,PostgrestQueryBuilder:WHe,PostgrestFilterBuilder:GHe,PostgrestTransformBuilder:XHe,PostgrestBuilder:YHe,PostgrestError:JHe}=sle;class ile{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ole="2.75.0",lle=`realtime-js/${ole}`,cle="1.0.0",h4=1e4,dle=1e3,ule=100;var ug;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ug||(ug={}));var Dn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dn||(Dn={}));var Ki;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ki||(Ki={}));var f4;(function(t){t.websocket="websocket"})(f4||(f4={}));var au;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(au||(au={}));class Ale{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class C9{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _r;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_r||(_r={}));const FT=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=hle(o,t,e,a),i),{}):{}},hle=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?S9(i,o):m4(o)},S9=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gle(e,r)}switch(t){case _r.bool:return fle(e);case _r.float4:case _r.float8:case _r.int2:case _r.int4:case _r.int8:case _r.numeric:case _r.oid:return mle(e);case _r.json:case _r.jsonb:return ple(e);case _r.timestamp:return xle(e);case _r.abstime:case _r.date:case _r.daterange:case _r.int4range:case _r.int8range:case _r.money:case _r.reltime:case _r.text:case _r.time:case _r.timestamptz:case _r.timetz:case _r.tsrange:case _r.tstzrange:return m4(e);default:return m4(e)}},m4=t=>t,fle=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mle=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ple=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gle=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>S9(e,l))}return t},xle=t=>typeof t=="string"?t.replace(" ","T"):t,B9=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class i_{constructor(e,r,n={},a=h4){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var PT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(PT||(PT={}));class Ag{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ag.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Ag.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ag.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const A=i[d];if(A){const h=u.map(m=>m.presence_ref),f=A.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),x=A.filter(m=>h.indexOf(m.presence_ref)<0);g.length>0&&(l[d]=g),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const A=e[l].map(f=>f.presence_ref),h=u.filter(f=>A.indexOf(f.presence_ref)<0);e[l].unshift(...h)}n(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(A=>A.presence_ref);d=d.filter(A=>u.indexOf(A.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var TT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(TT||(TT={}));var hg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hg||(hg={}));var hl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hl||(hl={}));class BE{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Dn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new i_(this,Ki.join,this.params,this.timeout),this.rejoinTimer=new C9(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ki.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Ag(this),this.broadcastEndpointURL=B9(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Dn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[hg.PRESENCE]&&this.bindings[hg.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,A={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(hl.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(hl.CLOSED)),this.updateJoinPayload(Object.assign({config:h},A)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e==null||e(hl.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,m=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,p=[];for(let y=0;y<m;y++){const w=x[y],{filter:{event:S,schema:j,table:_,filter:F}}=w,C=f&&f[y];if(C&&C.event===S&&C.schema===j&&C.table===_&&C.filter===F)p.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Dn.errored,e==null||e(hl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(hl.SUBSCRIBED);return}}).receive("error",f=>{this.state=Dn.errored,e==null||e(hl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Dn.joined&&e===hg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ki.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new i_(this,Ki.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new i_(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ule){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Ki;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var g,x,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(x=f.filter)===null||x===void 0?void 0:x.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,x,m,p,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,j=(g=f.filter)===null||g===void 0?void 0:g.event;return S&&((x=r.ids)===null||x===void 0?void 0:x.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const S=(y=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:m,commit_timestamp:p,type:y,errors:w}=g;h=Object.assign(Object.assign({},{schema:x,table:m,commit_timestamp:p,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(h,n)})}_isClosed(){return this.state===Dn.closed}_isJoined(){return this.state===Dn.joined}_isJoining(){return this.state===Dn.joining}_isLeaving(){return this.state===Dn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&BE.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ki.close,{},e)}_onError(e){this._on(Ki.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=FT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=FT(e.columns,e.old_record)),r}}const o_=()=>{},Hy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yle=[1e3,2e3,5e3,1e4],vle=1e4,ble=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wle{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=h4,this.transport=null,this.heartbeatIntervalMs=Hy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=o_,this.ref=0,this.reconnectTimer=null,this.logger=o_,this.conn=null,this.sendBuffer=[],this.serializer=new Ale,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>dd(async()=>{const{default:l}=await Promise.resolve().then(()=>sm);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${f4.websocket}`,this.httpEndpoint=B9(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ile.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cle}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ug.connecting:return au.Connecting;case ug.open:return au.Open;case ug.closing:return au.Closing;default:return au.Closed}}isConnected(){return this.connectionState()===au.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new BE(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(dle,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ki.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([ble],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:lle};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ki.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new C9(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:h4,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Hy.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:o_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:A=>yle[A-1]||vle,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(A,h)=>h(JSON.stringify(A)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class EE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jle extends EE{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class p4 extends EE{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Nle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const E9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>dd(async()=>{const{default:n}=await Promise.resolve().then(()=>sm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},_le=()=>Nle(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dd(()=>Promise.resolve().then(()=>sm),void 0)).Response:Response}),g4=t=>{if(Array.isArray(t))return t.map(r=>g4(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=g4(n)}),e},Cle=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var aA=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const l_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sle=(t,e,r)=>aA(void 0,void 0,void 0,function*(){const n=yield _le();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new jle(l_(a),i,o))}).catch(a=>{e(new p4(l_(a),a))}):e(new p4(l_(t),t))}),Ble=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(Cle(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function px(t,e,r,n,a,i){return aA(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Ble(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Sle(c,l,n))})})}function iw(t,e,r,n){return aA(this,void 0,void 0,function*(){return px(t,"GET",e,r,n)})}function So(t,e,r,n,a){return aA(this,void 0,void 0,function*(){return px(t,"POST",e,n,a,r)})}function x4(t,e,r,n,a){return aA(this,void 0,void 0,function*(){return px(t,"PUT",e,n,a,r)})}function Ele(t,e,r,n){return aA(this,void 0,void 0,function*(){return px(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function k9(t,e,r,n,a){return aA(this,void 0,void 0,function*(){return px(t,"DELETE",e,n,a,r)})}var kle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Fle{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return kle(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}})}}var Ple=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Tle{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new Fle(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return Ple(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}})}}var ca=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const Ole={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ile{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=E9(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return ca(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},OT),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),A=yield(e=="PUT"?x4:So)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:A.Id,fullPath:A.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ca(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return ca(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:OT.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const A=yield x4(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:A.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Cn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ca(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield So(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new EE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}update(e,r,n){return ca(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ca(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return ca(this,void 0,void 0,function*(){try{return{data:{path:(yield So(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return ca(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield So(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return ca(this,void 0,void 0,function*(){try{const a=yield So(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>iw(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Tle(c,this.shouldThrowOnError)}info(e){return ca(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield iw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:g4(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}exists(e){return ca(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ele(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n)&&n instanceof p4){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return ca(this,void 0,void 0,function*(){try{return{data:yield k9(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}list(e,r,n){return ca(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Ole),r),{prefix:e||""});return{data:yield So(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}listV2(e,r){return ca(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield So(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Lle="2.75.0",Mle={"X-Client-Info":`storage-js/${Lle}`};var HA=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Dle{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mle),r),this.fetch=E9(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return HA(this,void 0,void 0,function*(){try{return{data:yield iw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}})}getBucket(e){return HA(this,void 0,void 0,function*(){try{return{data:yield iw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}createBucket(e){return HA(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield So(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return HA(this,void 0,void 0,function*(){try{return{data:yield x4(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return HA(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return HA(this,void 0,void 0,function*(){try{return{data:yield k9(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}}class Ule extends Dle{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new Ile(this.url,this.headers,e,this.fetch)}}const Rle="2.75.0";let Mp="";typeof Deno<"u"?Mp="deno":typeof document<"u"?Mp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mp="react-native":Mp="node";const Qle={"X-Client-Info":`supabase-js-${Mp}/${Rle}`},$le={headers:Qle},Hle={schema:"public"},zle={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qle={};var Vle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const Kle=t=>{let e;return t?e=t:typeof fetch>"u"?e=m9:e=fetch,(...r)=>e(...r)},Wle=()=>typeof Headers>"u"?p9:Headers,Gle=(t,e,r)=>{const n=Kle(r),a=Wle();return(i,o)=>Vle(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var Xle=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function Yle(t){return t.endsWith("/")?t:t+"/"}function Jle(t,e){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:A}=e,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},A),l),{headers:Object.assign(Object.assign({},(r=A==null?void 0:A.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Xle(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Zle(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yle(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const F9="2.75.0",ch=30*1e3,y4=3,c_=y4*ch,ece="http://localhost:9999",tce="supabase.auth.token",rce={"X-Client-Info":`gotrue-js/${F9}`},v4="X-Supabase-Api-Version",P9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sce=10*60*1e3;class o0 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function gt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ace extends o0{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ice(t){return gt(t)&&t.name==="AuthApiError"}class iu extends o0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class vd extends o0{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class bc extends vd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oce(t){return gt(t)&&t.name==="AuthSessionMissingError"}class zA extends vd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zy extends vd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qy extends vd{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lce(t){return gt(t)&&t.name==="AuthImplicitGrantRedirectError"}class IT extends vd{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b4 extends vd{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function d_(t){return gt(t)&&t.name==="AuthRetryableFetchError"}class LT extends vd{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class w4 extends vd{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ow="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),MT=` 	
\r=`.split(""),cce=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<MT.length;e+=1)t[MT[e].charCodeAt(0)]=-2;for(let e=0;e<ow.length;e+=1)t[ow[e].charCodeAt(0)]=e;return t})();function DT(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ow[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ow[n]),e.queuedBits-=6}}function T9(t,e,r){const n=cce[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function UT(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Ace(o,n,r)};for(let o=0;o<t.length;o+=1)T9(t.charCodeAt(o),a,i);return e.join("")}function dce(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uce(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}dce(n,e)}}function Ace(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Yh(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)T9(t.charCodeAt(a),r,n);return new Uint8Array(e)}function hce(t){const e=[];return uce(t,r=>e.push(r)),new Uint8Array(e)}function pu(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>DT(a,r,n)),DT(null,r,n),e.join("")}function fce(t){return Math.round(Date.now()/1e3)+t}function mce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fa=()=>typeof window<"u"&&typeof document<"u",Ud={tested:!1,writable:!1},O9=()=>{if(!Fa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ud.tested)return Ud.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ud.tested=!0,Ud.writable=!0}catch{Ud.tested=!0,Ud.writable=!1}return Ud.writable};function pce(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const I9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>dd(async()=>{const{default:n}=await Promise.resolve().then(()=>sm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},gce=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Rd=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mc=async(t,e)=>{await t.removeItem(e)};class o2{constructor(){this.promise=new o2.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}o2.promiseConstructor=Promise;function u_(t){const e=t.split(".");if(e.length!==3)throw new w4("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!nce.test(e[n]))throw new w4("JWT not in base64url format");return{header:JSON.parse(UT(e[0])),payload:JSON.parse(UT(e[1])),signature:Yh(e[2]),raw:{header:e[0],payload:e[1]}}}async function xce(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yce(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function vce(t){return("0"+t.toString(16)).substr(-2)}function bce(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,vce).join("")}async function wce(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function jce(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wce(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qA(t,e,r=!1){const n=bce();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await dh(t,`${e}-code-verifier`,a);const i=await jce(n);return[i,n===i?"plain":"s256"]}const Nce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _ce(t){const e=t.headers.get(v4);if(!e||!e.match(Nce))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cce(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Sce(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function VA(t){if(!Bce.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function A_(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RT(t){return JSON.parse(JSON.stringify(t))}var Ece=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Yd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kce=[502,503,504];async function QT(t){var e;if(!gce(t))throw new b4(Yd(t),0);if(kce.includes(t.status))throw new b4(Yd(t),t.status);let r;try{r=await t.json()}catch(i){throw new iu(Yd(i),i)}let n;const a=_ce(t);if(a&&a.getTime()>=P9["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new LT(Yd(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new bc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new LT(Yd(r),t.status,r.weak_password.reasons);throw new ace(Yd(r),t.status||500,n)}const Fce=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function It(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[v4]||(i[v4]=P9["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Pce(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Pce(t,e,r,n,a,i){const o=Fce(e,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new b4(Yd(c),0)}if(l.ok||await QT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await QT(c)}}function Qi(t){var e;let r=null;Ice(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fce(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function $T(t){const e=Qi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Tce(t){return{data:t,error:null}}function Oce(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=Ece(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function HT(t){return t}function Ice(t){return t.access_token&&t.refresh_token&&t.expires_in}const h_=["global","local","others"];var Lce=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Mce{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=I9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=h_[0]){if(h_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${h_.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Lce(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Oce,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(gt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:HT});if(u.error)throw u.error;const A=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);d[`${m}Page`]=x}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},A),d),error:null}}catch(d){if(gt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){VA(e);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){VA(e);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Fc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){VA(e);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){VA(e.userId);try{const{data:r,error:n}=await It(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){VA(e.userId),VA(e.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await It(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:HT});if(u.error)throw u.error;const A=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);d[`${m}Page`]=x}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},A),d),error:null}}catch(d){if(gt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await It(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await It(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await It(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}}function zT(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const KA={debug:!!(globalThis&&O9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L9 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dce extends L9{}async function Uce(t,e,r){KA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),KA.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){KA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{KA.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw KA.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Dce(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(KA.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rce(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function M9(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Qce(t){return parseInt(t,16)}function $ce(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Hce(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:A,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=M9(t.address),g=u?`${u}://${n}`:n,x=t.statement?`${t.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${x}`;let p=`URI: ${A}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(p+=`
Expiration Time: ${a.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),d){let y=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}p+=y}return`${m}
${p}`}class _n extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class lw extends _n{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function zce({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _n({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _n({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _n({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _n({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _n({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _n({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new _n({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _n({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(U9(o)){if(i.rp.id!==o)return new _n({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _n({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _n({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _n({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _n({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function qce({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _n({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _n({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(U9(n)){if(r.rpId!==n)return new _n({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _n({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _n({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _n({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var D9=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Vce{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Kce=new Vce;function Wce(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=D9(t,["challenge","user","excludeCredentials"]),i=Yh(e).buffer,o=Object.assign(Object.assign({},r),{id:Yh(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Yh(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Gce(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=D9(t,["challenge","allowCredentials"]),a=Yh(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Yh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Xce(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:pu(new Uint8Array(t.response.attestationObject)),clientDataJSON:pu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yce(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:pu(new Uint8Array(a.authenticatorData)),clientDataJSON:pu(new Uint8Array(a.clientDataJSON)),signature:pu(new Uint8Array(a.signature)),userHandle:a.userHandle?pu(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function U9(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qT(){var t,e;return!!(Fa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Jce(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lw("Browser returned unexpected credential type",e)}:{data:null,error:new lw("Empty credential response",e)}}catch(e){return{data:null,error:zce({error:e,options:t})}}}async function Zce(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lw("Browser returned unexpected credential type",e)}:{data:null,error:new lw("Empty credential response",e)}}catch(e){return{data:null,error:qce({error:e,options:t})}}}const ede={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tde={userVerification:"preferred",hints:["security-key"]};function cw(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=cw(l,o):n[i]=cw(o)}else n[i]=o}return n}function rde(t,e){return cw(ede,t,e||{})}function nde(t,e){return cw(tde,t,e||{})}class sde{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=a??Kce.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=rde(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:A}=await Jce({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:A}}case"request":{const d=nde(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:A}=await Zce(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:A}}}}catch(o){return gt(o)?{data:null,error:o}:{data:null,error:new iu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new o0("rpId is required for WebAuthn authentication")};try{if(!qT())return{data:null,error:new iu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return gt(o)?{data:null,error:o}:{data:null,error:new iu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new o0("rpId is required for WebAuthn registration")};try{if(!qT())return{data:null,error:new iu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var A;return(A=u.data)===null||A===void 0?void 0:A.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return gt(o)?{data:null,error:o}:{data:null,error:new iu("Unexpected error in register",o)}}}}Rce();const ade={url:ece,storageKey:tce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function VT(t,e,r){return await r()}const WA={};class l0{get jwks(){var e,r;return(r=(e=WA[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){WA[this.storageKey]=Object.assign(Object.assign({},WA[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=WA[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){WA[this.storageKey]=Object.assign(Object.assign({},WA[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=l0.nextInstanceID,l0.nextInstanceID+=1,this.instanceID>0&&Fa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},ade),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Mce({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=I9(a.fetch),this.lock=a.lock||VT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Fa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Uce:this.lock=VT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sde(this)},this.persistSession?(a.storage?this.storage=a.storage:O9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=zT(this.memoryStorage)),Fa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${F9}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=pce(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fa()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lce(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return gt(r)?{error:r}:{error:new iu("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qi}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(gt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:u,password:A,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await qA(this.storage,this.storageKey)),i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:A,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Qi})}else if("phone"in e){const{phone:u,password:A,options:h}=e;i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:A,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qi})}else throw new zy("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(gt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$T})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$T})}else throw new zy("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zA}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,o,l,c,d,u,A,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:x,wallet:m,statement:p,options:y}=e;let w;if(Fa())if(typeof m=="object")w=m;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")w=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=M9(j[0]);let F=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!F){const E=await w.request({method:"eth_chainId"});F=Qce(E)}const C={domain:S.host,address:_,statement:p,uri:S.href,version:"1",chainId:F,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Hce(C),g=await w.request({method:"personal_sign",params:[$ce(f),_]})}try{const{data:x,error:m}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qi});if(m)throw m;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new zA}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:m})}catch(x){if(gt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var r,n,a,i,o,l,c,d,u,A,h,f;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:m,wallet:p,statement:y,options:w}=e;let S;if(Fa())if(typeof p=="object")S=p;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=p}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let F;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")F=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)F=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)g=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),x=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((A=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||A===void 0)&&A.length?["Resources",...w.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:m,error:p}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:pu(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Qi});if(p)throw p;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new zA}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:p})}catch(m){if(gt(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const r=await Rd(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qi});if(await mc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zA}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(gt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,l=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qi}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zA}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await qA(this.storage,this.storageKey));const{error:A}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:A}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new zy("You must provide either an email or phone number.")}catch(l){if(gt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Qi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(gt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qA(this.storage,this.storageKey)),await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Tce})}catch(i){if(gt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new bc;const{error:a}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(gt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await It(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:l}=await It(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new zy("You must provide either an email or phone number and a type")}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Rd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<c_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Rd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=A_()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fc}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bc}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Fc})})}catch(r){if(gt(r))return oce(r)&&(await this._removeSession(),await mc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new bc;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await qA(this.storage,this.storageKey));const{data:d,error:u}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Fc});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bc;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=u_(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(gt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new bc;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Fa())throw new qy("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qy(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new IT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qy("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new IT("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new qy("No session defined in URL");const u=Math.round(Date.now()/1e3),A=parseInt(l);let h=u+A;c&&(h=parseInt(c));const f=h-u;f*1e3<=ch&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${A}s`);const g=h-A;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:x,error:m}=await this._getUser(i);if(m)throw m;const p={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:A,expires_at:h,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(gt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Rd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(ice(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await mc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=mce(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await qA(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(gt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:A,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=A.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Fa()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(gt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,A=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qi}),{data:h,error:f}=A;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new zA}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(a){if(gt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yce(async a=>(a>0&&await xce(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qi})),(a,i)=>{const o=200*Math.pow(2,a);return i&&d_(i)&&Date.now()+o-n<ch})}catch(n){if(this._debug(r,"error",n),gt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Fa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Rd(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Rd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await dh(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:A_()}else if(a&&!a.user&&!a.user){const o=await Rd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await mc(this.storage,this.storageKey+"-user"),await dh(this.storage,this.storageKey,a)):a.user=A_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<c_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${c_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),d_(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new bc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new o2;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new bc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),gt(i)){const o={data:null,error:i};return d_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await dh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=RT(a);await dh(this.storage,this.storageKey,i)}else{const a=RT(r);await dh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await mc(this.storage,this.storageKey),await mc(this.storage,this.storageKey+"-code-verifier"),await mc(this.storage,this.storageKey+"-user"),this.userStorage&&await mc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ch);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/ch);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ch}ms, refresh threshold is ${y4} ticks`),a<=y4&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof L9)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await qA(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await It(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await It(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Xce(e.webauthn.credential_response):Yce(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Wce(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Gce(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=u_(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(A=>A.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+sce>a)return n;const{data:i,error:o}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=u_(n);r!=null&&r.allowExpired||Cce(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const u=Sce(a.alg),A=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,A,o,hce(`${l}.${c}`)))throw new w4("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}}l0.nextInstanceID=0;const ide=l0;class ode extends ide{constructor(e){super(e)}}var lde=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class cde{constructor(e,r,n){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Zle(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Hle,realtime:qle,auth:Object.assign(Object.assign({},zle),{storageKey:c}),global:$le},u=Jle(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(A,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Gle(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ale(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Ule(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Moe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return lde(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,A){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ode({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wle(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dde=(t,e,r)=>new cde(t,e,r);function ude(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ude()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function Ade(t){var r;const e=t.tipo_pessoa==="pj";return{id:t.id,name:t.nome_razao||"",email:t.email,phone:t.telefone,address:"",client_type:((r=t.tipo_pessoa)==null?void 0:r.toUpperCase())||"PF",document:e?t.cnpj:t.cpf,company_name:e?t.nome_razao:void 0,notes:t.observacoes,created_at:t.created_at,updated_at:t.updated_at||t.created_at}}function R9(t,e,r){let n="pending";if(t.status){const o=t.status.toLowerCase();o==="pending"||o.includes("aberta")||o.includes("pendente")?n="pending":o==="in_progress"||o.includes("execução")||o.includes("agendada")||o.includes("andamento")?n="in_progress":o==="completed"||o.includes("conclu")?n="completed":o==="cancelled"||o.includes("cancel")?n="cancelled":["pending","in_progress","completed","cancelled"].includes(o)&&(n=o)}const a=(r==null?void 0:r.find(o=>o.principal===!0))||(r==null?void 0:r[0]);let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{...t,id:t.id,order_number:t.order_number||t.id,client_id:t.customer_id,client_name:(e==null?void 0:e.nome_razao)||"",client_phone:(e==null?void 0:e.telefone)||"",client_email:e==null?void 0:e.email,client_address:i,client_city:(a==null?void 0:a.cidade)||"",client_state:(a==null?void 0:a.estado)||"",client_cep:(a==null?void 0:a.cep)||"",client_document:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.cnpj:e==null?void 0:e.cpf,client_company_name:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.nome_razao:void 0,description:t.description||"",status:n,created_at:t.opened_at,due_date:t.scheduled_at,scheduled_at:t.scheduled_at,estimated_value:t.total_value,actual_value:t.total_value,notes:t.notes||"",updated_at:t.opened_at}}function Q9(t,e,r){let n="pending";if(t.status){const o=t.status.toLowerCase();o==="aberta"||o==="pendente"?n="pending":o==="em andamento"||o==="execução"?n="in_progress":o==="concluida"||o==="finalizada"?n="completed":o==="cancelada"&&(n="cancelled")}const a=(r==null?void 0:r.find(o=>o.principal===!0))||(r==null?void 0:r[0]);let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{id:t.id,order_number:t.codigo||t.id,client_id:t.customer_id,client_name:(e==null?void 0:e.nome_razao)||"",client_phone:(e==null?void 0:e.telefone)||"",client_email:e==null?void 0:e.email,client_address:i,client_city:(a==null?void 0:a.cidade)||"",client_state:(a==null?void 0:a.estado)||"",client_cep:(a==null?void 0:a.cep)||"",client_document:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.cnpj:e==null?void 0:e.cpf,client_company_name:(e==null?void 0:e.tipo_pessoa)==="pj"?e==null?void 0:e.nome_razao:void 0,description:t.descricao||"",status:n,created_at:t.created_at,due_date:t.data,estimated_value:t.total,actual_value:t.total,notes:"",updated_at:t.created_at}}function kE(t){return{id:t.id,name:t.name,category:t.category,quantity:t.quantity||0,min_stock:t.min_quantity||0,price:t.unit_price||t.unit_cost||0,supplier:t.supplier_name||"",sku:t.code,location:t.location,description:t.description,created_at:t.created_at||new Date().toISOString(),updated_at:t.updated_at||new Date().toISOString()}}function $9(t){const e=()=>{const r=Date.now().toString(36),n=Math.random().toString(36).substring(2,7);return`INV-${r}-${n}`.toUpperCase()};return{name:t.name||"",description:t.description||void 0,code:t.sku&&t.sku.trim()!==""?t.sku:e(),category:t.category||void 0,quantity:t.quantity,min_quantity:t.min_stock,unit_price:t.price,unit_cost:t.cost||t.price,location:t.location||void 0,supplier_name:t.supplier||void 0,active:!0}}class hde{constructor(){it(this,"cache",new Map);it(this,"defaultTTL",5*60*1e3)}set(e,r,n=this.defaultTTL){this.cache.set(e,{data:r,timestamp:Date.now(),expiresIn:n})}get(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(e),null):r.data:null}invalidate(e){this.cache.delete(e)}invalidatePattern(e){const r=new RegExp(e);Array.from(this.cache.keys()).forEach(n=>{r.test(n)&&this.cache.delete(n)})}clear(){this.cache.clear()}getOrFetch(e,r,n){const a=this.get(e);return a!==null?Promise.resolve(a):r().then(i=>(this.set(e,i,n),i))}}const ao=new hde;class KT extends Error{constructor(e,r,n=500){super(e),this.code=r,this.statusCode=n,this.name="AppError"}}const Dl=t=>{if("code"in t&&"message"in t){const e=t,n={23505:"Este registro já existe no sistema",23503:"Não é possível excluir este registro pois existem dados vinculados",23502:"Campos obrigatórios não foram preenchidos","42P01":"Tabela não encontrada no banco de dados",PGRST116:"Nenhum registro encontrado",42501:"Você não tem permissão para realizar esta ação"}[e.code]||e.message;return new KT(n,e.code,400)}return new KT(t.message||"Erro desconhecido",void 0,500)},fde="https://hevvpugkhcmujiyncysq.supabase.co",mde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",ge=dde(fde,mde,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});let pde=[{id:"1",name:"Instalação de Ar Condicionado Split",category:"Instalação",description:"Instalação completa de ar condicionado split incluindo suporte, tubulação e testes",estimated_time:"3 horas",base_price:350,materials:[{name:"Suporte para Ar Condicionado",quantity:1},{name:"Tubulação de Cobre 3m",quantity:1},{name:"Cabo PP 3x2.5mm 5m",quantity:1}],instructions:["Verificar local de instalação","Instalar suporte da unidade externa","Fixar unidade interna","Conectar tubulação","Fazer conexão elétrica","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Manutenção Preventiva",category:"Manutenção",description:"Limpeza de filtros, verificação de gás e limpeza geral do equipamento",estimated_time:"1.5 horas",base_price:180,materials:[{name:"Produto de Limpeza",quantity:1},{name:"Filtro de Ar",quantity:1}],instructions:["Desligar equipamento","Remover e limpar filtros","Verificar nível de gás","Limpar serpentinas","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Reparo de Vazamento",category:"Reparo",description:"Identificação e reparo de vazamentos no sistema de refrigeração",estimated_time:"2 horas",base_price:250,materials:[{name:"Gás Refrigerante R410A",quantity:1},{name:"Vedante",quantity:1}],instructions:["Localizar vazamento","Reparar ponto de vazamento","Testar vedação","Recarregar gás","Testar pressão"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}],gde=[{id:"1",name:"João Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - São Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - São Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",company_name:"Empresa ABC Ltda",trade_name:"ABC Corp",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"},{id:"3",name:"Maria Santos",email:"maria@email.com",phone:"(11) 97777-9012",address:"Rua das Palmeiras, 456 - São Paulo, SP",client_type:"PF",document:"987.654.321-00",created_at:"2023-12-13T08:00:00",updated_at:"2023-12-13T08:00:00"}],xde=[{id:"OS-2023-001",order_number:"OS-2023-001",client_name:"João Silva",client_phone:"(11) 99999-1234",client_address:"Rua das Flores, 123",service_type:"Instalação de Ar Condicionado",description:"Instalação de ar condicionado split 12.000 BTUs no quarto principal",priority:"high",status:"in_progress",assigned_to:"Carlos Técnico",created_at:"2023-12-15T08:00:00",due_date:"2023-12-18",estimated_value:850,notes:"Cliente solicitou instalação urgente. Verificar voltagem antes da instalação.",updated_at:"2023-12-15T08:00:00"}],yde=[{id:"1",name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,min_stock:2,price:1800,supplier:"Fornecedor A",sku:"AC-12000-220",location:"Prateleira A3",description:"Ar condicionado split 12.000 BTUs, 220V",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Suporte para Ar Condicionado",category:"Acessórios",quantity:15,min_stock:5,price:50,supplier:"Fornecedor B",sku:"SUP-AC-001",location:"Prateleira B1",description:"Suporte universal para unidade externa",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Tubulação de Cobre 3m",category:"Materiais",quantity:8,min_stock:3,price:80,supplier:"Fornecedor C",sku:"TUB-CU-3M",location:"Prateleira C2",description:'Tubulação de cobre 1/4" x 3/8" - 3 metros',created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}];const vde=async t=>{try{const{data:e,error:r}=await ge.from("service_orders").insert([{order_number:t.order_number,client_id:t.client_id,client_name:t.client_name,client_phone:t.client_phone,client_address:t.client_address,service_type:t.service_type,description:t.description,priority:t.priority,status:t.status,assigned_to:t.assigned_to,due_date:t.due_date,estimated_value:t.estimated_value,notes:t.notes}]).select().single();if(r)throw Dl(r);return ao.invalidatePattern("service_orders"),e}catch(e){throw Dl(e)}},bde=async()=>ao.getOrFetch("service_orders_v2",async()=>{try{const[t,e,r]=await Promise.all([ge.from("orders").select("*").order("created_at",{ascending:!1}),ge.from("service_orders").select("*").order("created_at",{ascending:!1}),ge.from("customers").select("*")]),n=r.data||[],a=new Map(n.map(o=>[o.id,o])),i=[];return t.data&&t.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(Q9(o,l))}),e.data&&e.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(R9(o,l))}),i.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()),i}catch(t){return console.error("Error fetching service orders:",t),xde}},30*1e3),Ab=async t=>{try{const[e,r,n,a,i,o,l,c]=await Promise.all([ge.from("orders").select("*").eq("id",t).maybeSingle(),ge.from("service_orders").select("*").eq("id",t).maybeSingle(),ge.from("customers").select("*"),ge.from("customer_addresses").select("*"),ge.from("service_order_items").select("*, service_catalog:service_catalog_id(id, name, description, base_price)").eq("service_order_id",t),ge.from("service_order_materials").select("*, material:material_id(name, unit_of_measure)").eq("service_order_id",t),ge.from("service_order_labor").select("*, employee:staff_id(id, nome, nome_completo)").eq("service_order_id",t),ge.from("service_order_team").select("*, employee:employee_id(id, nome, nome_completo, especialidade)").eq("service_order_id",t)]),d=n.data||[],u=new Map(d.map(g=>[g.id,g])),A=a.data||[],h=new Map;A.forEach(g=>{h.has(g.customer_id)||h.set(g.customer_id,[]),h.get(g.customer_id).push(g)});let f=null;if(e.data){const g=e.data,x=g.customer_id?u.get(g.customer_id):void 0,m=g.customer_id?h.get(g.customer_id):void 0;f=Q9(g,x,m)}if(r.data){const g=r.data,x=g.customer_id?u.get(g.customer_id):void 0,m=g.customer_id?h.get(g.customer_id):void 0;f=R9(g,x,m)}if(f){const g=new Map,x=new Map;(o.data||[]).forEach(m=>{var y,w;const p=m.service_order_item_id;p&&(g.has(p)||g.set(p,[]),g.get(p).push({nome:m.material_name||m.nome_material||((y=m.material)==null?void 0:y.name)||"Material",quantidade:m.quantity||m.quantidade||0,unidade_medida:m.material_unit||((w=m.material)==null?void 0:w.unit_of_measure)||"un",preco_unitario:m.unit_sale_price||m.preco_venda||m.unit_price||0,valor_total:m.total_sale_price||m.valor_total||m.total_price||0}))}),(l.data||[]).forEach(m=>{var y,w;const p=m.service_order_item_id;p&&(x.has(p)||x.set(p,[]),x.get(p).push({nome:m.nome_funcionario||((y=m.employee)==null?void 0:y.nome)||((w=m.employee)==null?void 0:w.nome_completo)||"Funcionário",tempo_minutos:m.tempo_minutos||(m.hours?m.hours*60:0)||0,custo_hora:m.custo_hora||m.hourly_rate||0,custo_total:m.custo_total||m.total_cost||0}))}),f.items=(i.data||[]).map(m=>{var p,y,w,S,j,_;return{id:m.id,service_order_id:m.service_order_id,service_catalog_id:m.service_catalog_id,service_name:((p=m.service_catalog)==null?void 0:p.name)||"",descricao:m.notes||m.descricao||((y=m.service_catalog)==null?void 0:y.description)||((w=m.service_catalog)==null?void 0:w.name)||"",description:m.notes||((S=m.service_catalog)==null?void 0:S.description)||((j=m.service_catalog)==null?void 0:j.name)||"",name:((_=m.service_catalog)==null?void 0:_.name)||"",quantidade:m.quantity||m.quantidade||1,quantity:m.quantity||1,preco_unitario:m.unit_price||m.preco_unitario||0,unit_price:m.unit_price||0,preco_total:m.total_price||m.preco_total||0,total_price:m.total_price||0,tempo_estimado_minutos:m.estimated_duration||m.tempo_estimado_minutos||0,estimated_duration:m.estimated_duration||0,notes:m.notes||"",difficulty_level:m.difficulty_level||1,difficulty_multiplier:m.difficulty_multiplier||1,base_unit_price:m.base_unit_price||m.unit_price||0,materiais:g.get(m.id)||[],funcionarios:x.get(m.id)||[],created_at:m.created_at,updated_at:m.updated_at}}),f.materials=(o.data||[]).map(m=>({id:m.id,service_order_id:m.service_order_id,material_id:m.material_id,material_name:m.material_name,nome:m.material_name,quantity:m.quantity||0,quantidade:m.quantity||0,unit_price:m.unit_price||0,preco_compra_unitario:m.unit_price||0,total_price:m.total_price||0,custo_total:m.total_price||0,notes:m.notes||"",created_at:m.created_at,updated_at:m.updated_at})),f.team=(c.data||[]).map(m=>{var p,y,w,S,j,_,F,C;return{id:m.id,service_order_id:m.service_order_id,employee_id:m.employee_id,nome:((p=m.employee)==null?void 0:p.nome)||((y=m.employee)==null?void 0:y.nome_completo)||((w=m.employee)==null?void 0:w.name)||"Funcionário",name:((S=m.employee)==null?void 0:S.nome)||((j=m.employee)==null?void 0:j.nome_completo)||((_=m.employee)==null?void 0:_.name)||"Funcionário",role:m.role||((F=m.employee)==null?void 0:F.especialidade)||((C=m.employee)==null?void 0:C.role)||"",assigned_at:m.assigned_at,created_at:m.created_at}})}return f}catch(e){return console.error("Error fetching service order by ID:",e),null}},WT=async(t,e)=>{try{const{data:r,error:n}=await ge.from("service_orders").update(e).eq("id",t).select().single();if(n)throw Dl(n);return ao.invalidatePattern("service_orders"),r}catch(r){throw Dl(r)}},H9=async t=>{try{const{error:e}=await ge.from("service_orders").delete().eq("id",t);if(e)throw Dl(e);ao.invalidatePattern("service_orders")}catch(e){throw Dl(e)}},wde=async t=>{try{const e=$9(t),{data:r,error:n}=await ge.from("inventory_items").insert([e]).select().single();if(n)throw Dl(n);return ao.invalidatePattern("inventory"),kE(r)}catch(e){throw Dl(e)}},jde=async()=>ao.getOrFetch("inventory_items",async()=>{try{const{data:t,error:e}=await ge.from("inventory_items").select("*").order("name");if(e)throw Dl(e);return t.map(kE)}catch(t){return console.error("Error fetching inventory items:",t),yde}},5*60*1e3),Nde=async(t,e)=>{const r=$9(e),{data:n,error:a}=await ge.from("inventory_items").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating inventory item:",a),a;return ao.invalidatePattern("inventory"),kE(n)},_de=async t=>{const{error:e}=await ge.from("inventory_items").delete().eq("id",t);if(e)throw console.error("Error deleting inventory item:",e),e},Cde=async()=>{const{data:t,error:e}=await ge.from("customers").select("*").order("nome_razao");return e?(console.error("Error fetching clients:",e),gde):t.map(Ade)},Sde=async t=>{try{const{error:e}=await ge.from("customers").delete().eq("id",t);if(e)throw e.code==="23503"?new Error("Não é possível excluir este cliente pois existem registros vinculados (ordens de serviço, contratos, etc). Exclua os registros vinculados primeiro."):e;ao.invalidatePattern("clients"),ao.invalidatePattern("customers")}catch(e){throw console.error("Error deleting client:",e),e}},Bde=async t=>{let e=null;if(t.contract_type){const{data:i}=await ge.from("contract_types").select("id").eq("active",!0).limit(1).maybeSingle();i&&(e=i.id)}const r={customer_id:t.client_id||t.customer_id,contract_number:t.contract_number,start_date:t.start_date,end_date:t.end_date,value:t.value,status:t.status,payment_frequency:t.frequency,notes:t.notes||t.terms_and_conditions,contract_type_id:e},{data:n,error:a}=await ge.from("contracts").insert([r]).select().single();if(a)throw console.error("Error creating contract:",a),a;return n},Ede=async t=>{const{data:e,error:r}=await ge.from("contracts").select("*, customers(*)").eq("customer_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching client contracts:",r),[]):e},kde=async(t,e)=>{const r={...e,customer_id:e.client_id||e.customer_id};delete r.client_id;const{data:n,error:a}=await ge.from("contracts").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating contract:",a),a;return n},Fde=async t=>{const{error:e}=await ge.from("contracts").delete().eq("id",t);if(e)throw console.error("Error deleting contract:",e),e},Pde=async t=>{const e={name:t.name,description:t.description,category:t.category,base_price:t.base_price,active:t.is_active!==void 0?t.is_active:t.active!==void 0?t.active:!0};if(t.estimated_time){const a=parseFloat(t.estimated_time);isNaN(a)||(e.estimated_duration=a)}else t.estimated_duration&&(e.estimated_duration=t.estimated_duration);const{data:r,error:n}=await ge.from("service_catalog").insert([e]).select().single();if(n)throw console.error("Error creating service catalog item:",n),n;return r},Tde=async()=>{const{data:t,error:e}=await ge.from("service_catalog").select("*").eq("active",!0).order("name");return e?(console.error("Error fetching service catalog:",e),pde):t},Ode=async(t,e)=>{const r={};if(e.name!==void 0&&(r.name=e.name),e.description!==void 0&&(r.description=e.description),e.category!==void 0&&(r.category=e.category),e.base_price!==void 0&&(r.base_price=e.base_price),e.is_active!==void 0?r.active=e.is_active:e.active!==void 0&&(r.active=e.active),e.estimated_time){const i=parseFloat(e.estimated_time);isNaN(i)||(r.estimated_duration=i)}else e.estimated_duration!==void 0&&(r.estimated_duration=e.estimated_duration);const{data:n,error:a}=await ge.from("service_catalog").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating service catalog item:",a),a;return n},Ide=async t=>{const{error:e}=await ge.from("service_catalog").delete().eq("id",t);if(e)throw console.error("Error deleting service catalog item:",e),e},Lde=async()=>{const{data:t,error:e}=await ge.from("agenda_events").select("*").order("start_date",{ascending:!0});return e?(console.error("Error fetching agenda events:",e),[]):t},Mde=async t=>{const{data:e,error:r}=await ge.from("agenda_events").insert([t]).select().single();if(r)throw console.error("Error creating agenda event:",r),r;return e},f_=async(t,e)=>{const{data:r,error:n}=await ge.from("agenda_events").update(e).eq("id",t).select().single();if(n)throw console.error("Error updating agenda event:",n),n;return r},Dde=async t=>{const{error:e}=await ge.from("agenda_events").delete().eq("id",t);if(e)throw console.error("Error deleting agenda event:",e),e},z9=k.createContext(void 0),Yr=()=>{const t=k.useContext(z9);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},Ude=({children:t})=>{const[e,r]=k.useState(null),[n,a]=k.useState(null),[i,o]=k.useState(!0);k.useEffect(()=>{const m={id:"mock-admin-id",email:"admin@sistema.com",name:"Administrador",role:"admin",avatar:void 0,status:"active",department_id:void 0,phone:void 0},p={id:"mock-admin-id",email:"admin@sistema.com",aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),app_metadata:{},user_metadata:{}};a(m),r({...m,authUser:p}),o(!1)},[]);const l=(n==null?void 0:n.role)==="admin",c=(n==null?void 0:n.role)==="manager",d=(n==null?void 0:n.role)==="technician",u=(n==null?void 0:n.role)==="external",A=l||c,h=l,f=async(m,p)=>{console.log("Login simulado:",m)},g=async()=>{console.log("Logout simulado")},x=m=>{console.log("Premium feature requested:",m)};return s.jsx(z9.Provider,{value:{user:e,profile:n,isLoading:i,isAdmin:l,isManager:c,isTechnician:d,isExternal:u,isPremium:A,isEnterprise:h,login:f,logout:g,onPremiumFeature:x},children:t})},op=[{id:"inicio",path:"/",icon:mu,label:"Início",description:"Página inicial do sistema"},{id:"agenda",path:"/calendar",icon:Jt,label:"Agenda",description:"Compromissos e eventos"},{id:"clients",path:"/client-management",icon:kt,label:"Clientes",description:"Gestão de clientes PF/PJ"},{id:"fornecedores",path:"/suppliers",icon:yl,label:"Fornecedores",description:"Gestão de fornecedores"},{id:"compras",path:"/purchasing",icon:Ph,label:"Compras",description:"Pedidos e alertas de estoque"},{id:"service-orders",path:"/service-orders",icon:Js,label:"Ordens de Serviço",description:"Gestão de OS"},{id:"rotas",path:"/rotas",icon:a0,label:"Rotas",description:"Rastreamento e gestão de rotas"},{id:"financial",path:"/financial",icon:Xt,label:"Integração Financeira",description:"Dashboard financeiro integrado"},{id:"gestao-financeira",path:"/financial-management",icon:br,label:"Gestão Financeira",description:"Receitas, despesas e DRE"},{id:"analise-financeira",path:"/financial-analysis",icon:Wh,label:"Análise Financeira",description:"EBITDA, ROI, Margens e Gráficos"},{id:"categorias-financeiras",path:"/financial-categories",icon:Tae,label:"Categorias Financeiras",description:"Categorias e subcategorias"},{id:"contas-bancarias",path:"/bank-accounts",icon:Dr,label:"Contas Bancárias",description:"Gerenciar contas e saldos"},{id:"catalogo",path:"/service-catalog",icon:Eoe,label:"Catálogo de Serviços",description:"Serviços disponíveis"},{id:"inventory",path:"/inventory",icon:Nt,label:"Estoque",description:"Controle de materiais"},{id:"reports",path:"/reports",icon:db,label:"Relatórios",description:"Análises e dashboards"},{id:"whatsapp-crm",path:"/whatsapp-crm",icon:aw,label:"WhatsApp CRM",description:"Gestão de conversas"},{id:"email",path:"/email/inbox",icon:qn,label:"Email Corporativo",description:"Enviar e receber emails"},{id:"library",path:"/library",icon:Zae,label:"Biblioteca Digital",description:"Documentos e arquivos"},{id:"funcionarios",path:"/funcionarios",icon:poe,label:"Funcionários",description:"Gestão de funcionários"},{id:"users",path:"/users",icon:kt,label:"Usuários",description:"Gerenciar usuários"},{id:"access",path:"/access-management",icon:Xh,label:"Gestão de Acessos",description:"Controle de permissões"},{id:"audit",path:"/audit-logs",icon:Kr,label:"Auditoria",description:"Rastreamento de operações"},{id:"document-templates",path:"/document-templates",icon:xt,label:"Templates de Documentos",description:"Gerenciar templates de OS, contratos e propostas"},{id:"customization",path:"/visual-customization",icon:t2,label:"Personalização",description:"Customizar interface"},{id:"settings",path:"/settings",icon:qu,label:"Configurações",description:"Configurações gerais"}],Rde=({onCollapse:t})=>{var C;const e=nA(),{user:r,logout:n}=Yr(),[a,i]=k.useState(!1),[o,l]=k.useState(op),[c,d]=k.useState(null),[u,A]=k.useState(!1),[h,f]=k.useState(0);k.useEffect(()=>{m().catch(T=>{console.error("Failed to load menu order:",T)}),x();const E=setInterval(x,6e4);return()=>clearInterval(E)},[]);const g=()=>(r==null?void 0:r.email)||"default_user",x=async()=>{try{const{data:E,error:T}=await ge.rpc("get_critical_stock_count");!T&&E!==null&&f(E)}catch(E){console.error("Error loading stock alerts:",E)}},m=async()=>{try{const E=g(),{data:T,error:v}=await ge.from("user_menu_order").select("menu_items").eq("user_id",E).maybeSingle();if(v){console.warn("Error loading menu order, using defaults:",v);return}if(T&&T.menu_items&&Array.isArray(T.menu_items)){const N=T.menu_items,O=N.map(Q=>op.find(D=>D.id===Q)).filter(Q=>Q!==void 0),L=op.filter(Q=>!N.includes(Q.id));l([...O,...L])}}catch(E){console.error("Error loading menu order, using defaults:",E)}},p=async E=>{try{const T=g(),v=E.map(O=>O.id),{error:N}=await ge.from("user_menu_order").upsert({user_id:T,menu_items:v,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(N)throw N}catch(T){console.error("Error saving menu order:",T)}},y=(E,T)=>{u&&(d(T),E.dataTransfer.effectAllowed="move")},w=E=>{u&&(E.preventDefault(),E.dataTransfer.dropEffect="move")},S=(E,T)=>{if(!u||!c)return;E.preventDefault();const v=o.findIndex(Q=>Q.id===c),N=o.findIndex(Q=>Q.id===T);if(v===-1||N===-1)return;const O=[...o],[L]=O.splice(v,1);O.splice(N,0,L),l(O),p(O),d(null)},j=()=>{l(op),p(op)},_=()=>{const E=!a;i(E),t==null||t(E)},F=E=>e.pathname===E;return s.jsxs(oe.aside,{initial:{x:0},animate:{width:a?"80px":"280px"},transition:{duration:.3},className:"fixed left-0 top-0 bg-gradient-to-b from-gray-900 to-gray-800 text-white h-screen flex flex-col shadow-2xl z-40",children:[s.jsx("div",{className:"p-4 border-b border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[!a&&s.jsxs(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2",children:[s.jsx(mu,{className:"h-8 w-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"GiarTech"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Sistema Integrado"})]})]}),s.jsx("button",{onClick:_,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:a?s.jsx(e2,{className:"h-5 w-5"}):s.jsx(nw,{className:"h-5 w-5"})})]})}),!a&&s.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>A(!u),className:`text-xs px-3 py-1 rounded transition-colors ${u?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:u?"Salvar Ordem":"Editar Menu"}),u&&s.jsxs("button",{onClick:j,className:"text-xs px-3 py-1 rounded bg-gray-700 text-gray-300 hover:bg-gray-600 flex items-center gap-1",title:"Restaurar ordem padrão",children:[s.jsx(Lie,{className:"h-3 w-3"}),"Restaurar"]})]}),u&&s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Arraste os itens para reordenar"})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:o.map(E=>{const T=E.icon,v=F(E.path);return s.jsxs(so,{to:E.path,draggable:u,onDragStart:N=>y(N,E.id),onDragOver:w,onDrop:N=>S(N,E.id),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group relative ${v?"bg-blue-600 text-white shadow-lg":"hover:bg-gray-700 text-gray-300"} ${u?"cursor-move":"cursor-pointer"} ${c===E.id?"opacity-50":""}`,title:a?E.label:"",children:[u&&!a&&s.jsx($ae,{className:"h-4 w-4 text-gray-400"}),s.jsx(T,{className:`h-5 w-5 ${v?"text-white":"text-gray-400 group-hover:text-white"}`}),!a&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium truncate",children:E.label}),E.id==="compras"&&h>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse",children:h})]}),s.jsx("p",{className:"text-xs opacity-75 truncate",children:E.description})]}),E.id==="compras"&&h>0&&a&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse min-w-[20px] text-center",children:h}),v&&!a&&s.jsx(oe.div,{layoutId:"activeIndicator",className:"absolute right-0 top-0 bottom-0 w-1 bg-white rounded-l"})]},E.id)})}),s.jsx("div",{className:"p-4 border-t border-gray-700",children:a?s.jsx("button",{onClick:n,className:"w-full p-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",title:"Sair",children:s.jsx(bT,{className:"h-5 w-5 mx-auto"})}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-800 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold",children:((C=r==null?void 0:r.name)==null?void 0:C[0])||"U"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:(r==null?void 0:r.name)||"Usuário"}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:(r==null?void 0:r.email)||"user@example.com"})]})]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(bT,{className:"h-5 w-5"}),s.jsx("span",{children:"Sair"})]})]})})]})},St=({children:t})=>{const[e,r]=k.useState(!1),[n,a]=k.useState("calc(100% - 280px)"),[i,o]=k.useState("280px"),l=c=>{r(c)};return k.useEffect(()=>{e?(a("calc(100% - 80px)"),o("80px")):(a("calc(100% - 280px)"),o("280px"))},[e]),k.useEffect(()=>{const c=d=>{d.altKey&&d.key==="h"&&console.log("Quick access activated with Alt+H")};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Rde,{onCollapse:l}),s.jsx("main",{className:"min-h-screen transition-all duration-300",style:{marginLeft:i},children:t||s.jsx(jZ,{})})]})},m_="serviceOrderDraft",Qde=({isOpen:t,onClose:e,onSave:r,orderId:n})=>{const[a,i]=k.useState("dados"),[o,l]=k.useState(!1),[c,d]=k.useState(""),[u,A]=k.useState(""),[h,f]=k.useState(""),[g,x]=k.useState(null),[m,p]=k.useState({customer_id:"",description:"",scheduled_at:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,payment_method:"dinheiro",payment_installments:1,warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",estimated_hours:0,actual_hours:0}),[y,w]=k.useState([]),[S,j]=k.useState(null),[_,F]=k.useState([]),[C,E]=k.useState([]),[T,v]=k.useState([]),[N,O]=k.useState([]),[L,Q]=k.useState([]),[D,U]=k.useState([]),[R,z]=k.useState([]),[Y,X]=k.useState([]);k.useEffect(()=>{t?($(),n?M(n):V()):i("dados")},[t,n]),k.useEffect(()=>{t&&!n&&G()},[m,D,R,Y]),k.useEffect(()=>{if(m.customer_id&&y.length>0){const he=y.find($e=>$e.id===m.customer_id);j(he||null)}},[m.customer_id,y]);const $=async()=>{try{const[he,$e,pe,ue,se,le]=await Promise.all([ge.from("customers").select("*, customer_addresses(*)").order("nome_razao"),ge.from("materials").select("*").eq("active",!0).order("name"),ge.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),ge.from("bank_accounts").select("*").eq("active",!0).order("account_name"),ge.from("contract_templates").select("*").order("name"),ge.from("service_catalog").select("*, service_catalog_materials(*)").eq("active",!0).order("name")]);w(he.data||[]),F($e.data||[]),E(pe.data||[]),v(ue.data||[]),O(se.data||[]),Q(le.data||[])}catch(he){console.error("Error loading data:",he)}},M=async he=>{try{l(!0);const[$e,pe,ue,se]=await Promise.all([ge.from("service_orders").select("*").eq("id",he).single(),ge.from("service_order_items").select("*, service_catalog:service_catalog_id(*)").eq("service_order_id",he),ge.from("service_order_materials").select("*").eq("service_order_id",he),ge.from("service_order_team").select("*, employee:employee_id(*)").eq("service_order_id",he)]),le=$e.data;if(le){if(p({customer_id:le.customer_id||"",description:le.description||"",scheduled_at:le.scheduled_at||"",desconto_percentual:le.desconto_percentual||0,desconto_valor:le.desconto_valor||0,show_material_costs:le.show_material_costs||!1,payment_method:le.payment_method||"dinheiro",payment_installments:le.payment_installments||1,warranty_period:le.warranty_period||90,warranty_type:le.warranty_type||"days",warranty_terms:le.warranty_terms||"",bank_account_id:le.bank_account_id||"",contract_template_id:le.contract_template_id||"",contract_notes:le.contract_notes||"",notes:le.notes||"",estimated_hours:le.estimated_hours||0,actual_hours:le.actual_hours||0}),pe.data&&pe.data.length>0){const ve=pe.data.map(xe=>{var mt,Wt;const Se=((mt=xe.service_catalog)==null?void 0:mt.name)||"",et=((Wt=xe.service_catalog)==null?void 0:Wt.description)||"",ze=xe.notes||"",ft=Se||et||ze||"Serviço";return{id:xe.id,catalog_service_id:xe.service_catalog_id||"",descricao:ft,quantidade:xe.quantity||1,preco_unitario:xe.unit_price||0,preco_total:xe.total_price||0,tempo_estimado_minutos:xe.estimated_duration||0,materiais:[],funcionarios:[],custo_materiais:xe.material_cost||0,custo_mao_obra:xe.labor_cost||0,custo_total:(xe.material_cost||0)+(xe.labor_cost||0),lucro:(xe.total_price||0)-((xe.material_cost||0)+(xe.labor_cost||0)),margem_lucro:xe.total_price?(xe.total_price-(xe.material_cost||0)-(xe.labor_cost||0))/xe.total_price*100:0}});U(ve)}if(ue.data&&ue.data.length>0){const ve=ue.data.map(xe=>({id:xe.id,material_id:xe.material_id,nome:xe.material_name||"",quantidade:xe.quantity||0,unidade_medida:xe.unit||"un",preco_compra_unitario:xe.unit_cost||0,preco_venda_unitario:xe.unit_price||0,custo_total:(xe.unit_cost||0)*(xe.quantity||0),valor_total:(xe.unit_price||0)*(xe.quantity||0),lucro:((xe.unit_price||0)-(xe.unit_cost||0))*(xe.quantity||0)}));z(ve)}if(se.data&&se.data.length>0){const ve=se.data.map(xe=>{var Se;return{id:xe.id,staff_id:xe.employee_id,nome:((Se=xe.employee)==null?void 0:Se.name)||"",tempo_minutos:xe.hours_worked?xe.hours_worked*60:0,custo_hora:xe.hourly_rate||0,custo_total:(xe.hourly_rate||0)*(xe.hours_worked||0)}});X(ve)}}}catch($e){console.error("Error loading order:",$e),alert("Erro ao carregar dados da ordem de serviço")}finally{l(!1)}},G=()=>{try{const he={formData:m,serviceItems:D,globalMaterials:R,globalLabor:Y,timestamp:new Date().toISOString()};localStorage.setItem(m_,JSON.stringify(he))}catch(he){console.error("Error saving draft:",he)}},V=()=>{try{const he=localStorage.getItem(m_);if(he){const $e=JSON.parse(he);p($e.formData||m),U($e.serviceItems||[]),z($e.globalMaterials||[]),X($e.globalLabor||[])}}catch(he){console.error("Error loading draft:",he)}},ae=()=>{try{localStorage.removeItem(m_)}catch(he){console.error("Error clearing draft:",he)}},Ae=()=>{U([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0},...D])},re=he=>{U(D.filter($e=>$e.id!==he))},ie=(he,$e)=>{U(D.map(pe=>{var ue,se;if(pe.id===he){const le={...pe,...$e};return le.preco_total=le.quantidade*le.preco_unitario,le.custo_materiais=((ue=le.materiais)==null?void 0:ue.reduce((ve,xe)=>ve+xe.custo_total,0))||0,le.custo_mao_obra=((se=le.funcionarios)==null?void 0:se.reduce((ve,xe)=>ve+xe.custo_total,0))||0,le.custo_total=le.custo_materiais+le.custo_mao_obra,le.lucro=le.preco_total-le.custo_total,le.margem_lucro=le.custo_total>0?le.lucro/le.custo_total*100:0,le}return pe}))},ce=()=>{z([{id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0},...R])},Z=he=>{z(R.filter($e=>$e.id!==he))},me=(he,$e)=>{z(R.map(pe=>{if(pe.id===he){const ue={...pe,...$e};return ue.custo_total=ue.quantidade*ue.preco_compra_unitario,ue.valor_total=ue.quantidade*ue.preco_venda_unitario,ue.lucro=ue.valor_total-ue.custo_total,ue}return pe}))},Me=(he,$e)=>{const pe=_.find(ue=>ue.id===$e);pe&&(me(he,{material_id:$e,nome:pe.name,unidade_medida:pe.unit||"UN",preco_compra_unitario:Number(pe.unit_cost)||0,preco_venda_unitario:Number(pe.sale_price)||0}),d(""))},Re=()=>{X([{id:crypto.randomUUID(),staff_id:"",nome:"",tempo_minutos:60,custo_hora:0,custo_total:0},...Y])},ye=he=>{X(Y.filter($e=>$e.id!==he))},q=(he,$e)=>{X(Y.map(pe=>{if(pe.id===he){const ue={...pe,...$e},se=ue.tempo_minutos/60;return ue.custo_total=se*ue.custo_hora,ue}return pe}))},Ee=(he,$e)=>{const pe=C.find(ue=>ue.id===$e);pe&&(q(he,{staff_id:$e,nome:pe.name,custo_hora:Number(pe.custo_hora)||0}),A(""))},Oe=(he,$e)=>{const pe=L.find(ue=>ue.id===$e);pe&&(ie(he,{catalog_service_id:$e,descricao:pe.name,preco_unitario:Number(pe.base_price)||0,tempo_estimado_minutos:Number(pe.estimated_time_minutes)||0}),f(""),x(null))},ke=()=>{const he=D.reduce((ze,ft)=>ze+ft.preco_total,0),$e=m.desconto_valor||he*(m.desconto_percentual/100),pe=D.reduce((ze,ft)=>ze+ft.custo_materiais,0),ue=D.reduce((ze,ft)=>ze+ft.custo_mao_obra,0),se=R.reduce((ze,ft)=>ze+ft.custo_total,0),le=Y.reduce((ze,ft)=>ze+ft.custo_total,0),ve=pe+ue+se+le,xe=he-$e,Se=xe-ve,et=ve>0?Se/ve*100:0;return{subtotal:he,desconto:$e,total:xe,custo_total:ve,lucro_total:Se,margem_lucro:et,custo_total_materiais:pe+se,custo_total_mao_obra:ue+le,global_materiais:se,global_mao_obra:le}},Le=async()=>{try{if(!m.customer_id||D.length===0){alert("Selecione um cliente e adicione pelo menos um serviço!");return}l(!0);const he=ke(),$e=m.scheduled_at?new Date(new Date(m.scheduled_at).getTime()+m.warranty_period*(m.warranty_type==="days"?864e5:m.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,pe={customer_id:m.customer_id,description:m.description,scheduled_at:m.scheduled_at||null,status:"aberta",total_value:he.total,desconto_percentual:m.desconto_percentual,desconto_valor:m.desconto_valor,custo_total_materiais:he.custo_total_materiais,custo_total_mao_obra:he.custo_total_mao_obra,custo_total:he.custo_total,lucro_total:he.lucro_total,margem_lucro:he.margem_lucro,show_material_costs:m.show_material_costs,payment_method:m.payment_method,payment_installments:m.payment_installments,bank_account_id:m.bank_account_id||null,warranty_period:m.warranty_period,warranty_type:m.warranty_type,warranty_terms:m.warranty_terms,warranty_end_date:$e,contract_template_id:m.contract_template_id||null,contract_notes:m.contract_notes,subtotal:he.subtotal,discount_amount:he.desconto,final_total:he.total,notes:m.notes};let ue=n;if(n){const{error:se}=await ge.from("service_orders").update(pe).eq("id",n);if(se)throw se}else{const{data:se,error:le}=await ge.from("service_orders").insert([pe]).select().single();if(le)throw le;ue=se.id}ae(),r(),e()}catch(he){console.error("Error saving order:",he),alert("Erro ao salvar ordem de serviço!")}finally{l(!1)}},Ie=he=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(he),Be=ke();return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(xt,{className:"h-7 w-7"}),n?"Editar Ordem de Serviço":"Nova Ordem de Serviço"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Preencha os dados em cada aba - salvamento automático"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Básicos",icon:cg},{id:"servicos",label:"Serviços",icon:Nt},{id:"materiais",label:"Materiais",icon:Nt},{id:"mao-obra",label:"Mão de Obra",icon:kt},{id:"pagamento",label:"Pagamento",icon:Xt},{id:"garantia",label:"Garantia & Contrato",icon:Kr},{id:"resumo",label:"Resumo Financeiro",icon:l4}].map(he=>{const $e=he.icon;return s.jsxs("button",{onClick:()=>i(he.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===he.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx($e,{className:"h-4 w-4"}),he.label]},he.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(at,{mode:"wait",children:[a==="dados"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),s.jsxs("select",{value:m.customer_id,onChange:he=>p({...m,customer_id:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),y.map(he=>s.jsx("option",{value:he.id,children:he.nome_razao},he.id))]}),S&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"CPF/CNPJ:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:S.cpf_cnpj})]}),S.telefone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Telefone:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:S.telefone})]}),S.email&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Email:"}),s.jsx("span",{className:"text-blue-800 ml-2",children:S.email})]}),S.customer_addresses&&S.customer_addresses.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"font-semibold text-blue-900",children:"Endereço:"}),s.jsxs("span",{className:"text-blue-800 ml-2",children:[S.customer_addresses[0].logradouro,", ",S.customer_addresses[0].numero,S.customer_addresses[0].complemento&&`, ${S.customer_addresses[0].complemento}`," - ",S.customer_addresses[0].bairro,", ",S.customer_addresses[0].cidade," - ",S.customer_addresses[0].estado,", CEP: ",S.customer_addresses[0].cep]})]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),s.jsx("input",{type:"datetime-local",value:m.scheduled_at,onChange:he=>p({...m,scheduled_at:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição Geral"}),s.jsx("textarea",{value:m.description,onChange:he=>p({...m,description:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrição opcional da OS..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações Internas"}),s.jsx("textarea",{value:m.notes,onChange:he=>p({...m,notes:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Notas internas (não aparecem para o cliente)..."})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:"⏱️ Tempo de Execução"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-900",children:"Tempo Previsto (horas)"}),s.jsx("input",{type:"number",value:m.estimated_hours,onChange:he=>p({...m,estimated_hours:Number(he.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 4"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Tempo estimado total para execução da OS"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-green-900",children:"Tempo Real (horas)"}),s.jsx("input",{type:"number",value:m.actual_hours,onChange:he=>p({...m,actual_hours:Number(he.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: 3.5"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Tempo real gasto após conclusão"})]})]}),m.estimated_hours>0&&m.actual_hours>0&&s.jsx("div",{className:`mt-3 p-3 rounded-lg ${m.actual_hours<=m.estimated_hours?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:s.jsx("p",{className:`text-sm font-medium ${m.actual_hours<=m.estimated_hours?"text-green-800":"text-red-800"}`,children:m.actual_hours<=m.estimated_hours?"✓ Dentro do prazo estimado!":`⚠️ ${(m.actual_hours-m.estimated_hours).toFixed(1)}h acima do estimado`})})]})]},"dados"),a==="servicos"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Serviços da OS"}),s.jsxs("button",{onClick:Ae,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Adicionar Serviço"]})]}),D.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(Nt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum serviço adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Serviço" para começar'})]}),D.map((he,$e)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Serviço #",$e+1]}),s.jsx("button",{onClick:()=>re(he.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-3 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"🔍 Buscar no Catálogo de Serviços"}),s.jsx("input",{type:"text",value:g===he.id?h:"",onFocus:()=>x(he.id),onChange:pe=>{x(he.id),f(pe.target.value)},className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no catálogo..."}),g===he.id&&h&&L.filter(pe=>pe.name.toLowerCase().includes(h.toLowerCase())||pe.category&&pe.category.toLowerCase().includes(h.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:L.filter(pe=>pe.name.toLowerCase().includes(h.toLowerCase())||pe.category&&pe.category.toLowerCase().includes(h.toLowerCase())).map(pe=>s.jsxs("button",{type:"button",onClick:()=>Oe(he.id,pe.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:pe.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsx("span",{children:pe.category||"Sem categoria"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[Ie(Number(pe.base_price)||0)," - ",pe.estimated_time_minutes||0,"min"]})]})]},pe.id))})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição do Serviço *"}),s.jsx("input",{type:"text",value:he.descricao,onChange:pe=>ie(he.id,{descricao:pe.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalação de Ar Condicionado"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:he.quantidade,min:"1",onChange:pe=>ie(he.id,{quantidade:Number(pe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Unitário"}),s.jsx("input",{type:"number",value:he.preco_unitario,min:"0",step:"0.01",onChange:pe=>ie(he.id,{preco_unitario:Number(pe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (min)"}),s.jsx("input",{type:"number",value:he.tempo_estimado_minutos,min:"0",onChange:pe=>ie(he.id,{tempo_estimado_minutos:Number(pe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-blue-900",children:"Preço Total:"}),s.jsx("span",{className:"text-lg font-bold text-blue-900",children:Ie(he.preco_total)})]})})]},`${he.id}-${$e}`))]},"servicos"),a==="materiais"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Materiais da OS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Materiais que serão consumidos nesta ordem de serviço"})]}),s.jsxs("button",{onClick:ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Adicionar Material"]})]}),R.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(Nt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Material" para começar'})]}),R.map((he,$e)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",$e+1]}),s.jsx("button",{onClick:()=>Z(he.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"🔍 Buscar Material"}),s.jsx("input",{type:"text",value:c,onChange:pe=>d(pe.target.value),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no estoque..."}),c&&_.filter(pe=>pe.name.toLowerCase().includes(c.toLowerCase())||pe.sku&&pe.sku.toLowerCase().includes(c.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:_.filter(pe=>pe.name.toLowerCase().includes(c.toLowerCase())||pe.sku&&pe.sku.toLowerCase().includes(c.toLowerCase())).map(pe=>s.jsxs("button",{type:"button",onClick:()=>Me(he.id,pe.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:pe.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("span",{children:[pe.sku||"Sem SKU"," - ",pe.unit]}),s.jsxs("span",{className:"font-semibold text-blue-600",children:["Estoque: ",pe.quantity]})]})]},pe.id))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),s.jsx("input",{type:"text",value:he.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um material"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade *"}),s.jsx("input",{type:"number",value:he.quantidade,min:"0",step:"0.01",onChange:pe=>me(he.id,{quantidade:Number(pe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),s.jsx("input",{type:"text",value:he.unidade_medida,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unit. (Compra)"}),s.jsx("input",{type:"number",value:he.preco_compra_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Unit. (Venda)"}),s.jsx("input",{type:"number",value:he.preco_venda_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("span",{className:"text-xs text-red-700",children:"Custo Total:"}),s.jsx("p",{className:"text-lg font-bold text-red-700",children:Ie(he.custo_total)})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[s.jsx("span",{className:"text-xs text-green-700",children:"Valor Total:"}),s.jsx("p",{className:"text-lg font-bold text-green-700",children:Ie(he.valor_total)})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[s.jsx("span",{className:"text-xs text-blue-700",children:"Lucro:"}),s.jsx("p",{className:"text-lg font-bold text-blue-700",children:Ie(he.lucro)})]})]})]},`material-${he.id}-${$e}`))]},"materiais"),a==="mao-obra"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Mão de Obra da OS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Funcionários que trabalharão nesta ordem de serviço"})]}),s.jsxs("button",{onClick:Re,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Adicionar Funcionário"]})]}),Y.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(kt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum funcionário adicionado"}),s.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Funcionário" para começar'})]}),Y.map((he,$e)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Funcionário #",$e+1]}),s.jsx("button",{onClick:()=>ye(he.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"🔍 Buscar Funcionário"}),s.jsx("input",{type:"text",value:u,onChange:pe=>A(pe.target.value),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar..."}),u&&C.filter(pe=>pe.name.toLowerCase().includes(u.toLowerCase())||pe.role&&pe.role.toLowerCase().includes(u.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:C.filter(pe=>pe.name.toLowerCase().includes(u.toLowerCase())||pe.role&&pe.role.toLowerCase().includes(u.toLowerCase())).map(pe=>s.jsxs("button",{type:"button",onClick:()=>Ee(he.id,pe.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:pe.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsx("span",{children:pe.role||"Sem função"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:["R$ ",Number(pe.custo_hora||0).toFixed(2),"/h"]})]})]},pe.id))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Funcionário *"}),s.jsx("input",{type:"text",value:he.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um funcionário"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (minutos) *"}),s.jsx("input",{type:"number",value:he.tempo_minutos,min:"0",step:"10",onChange:pe=>q(he.id,{tempo_minutos:Number(pe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo/Hora"}),s.jsx("input",{type:"number",value:he.custo_hora,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Horas Trabalhadas"}),s.jsx("input",{type:"text",value:`${(he.tempo_minutos/60).toFixed(2)}h`,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-blue-50 text-blue-900 font-semibold"})]})]}),s.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-blue-900",children:"Custo Total:"}),s.jsx("span",{className:"text-lg font-bold text-blue-900",children:Ie(he.custo_total)})]})})]},`labor-${he.id}-${$e}`))]},"mao-obra"),a==="pagamento"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:m.payment_method,onChange:he=>p({...m,payment_method:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"debito",children:"Cartão de Débito"}),s.jsx("option",{value:"credito",children:"Cartão de Crédito"}),s.jsx("option",{value:"transferencia",children:"Transferência Bancária"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"cheque",children:"Cheque"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),s.jsxs("select",{value:m.payment_installments,onChange:he=>p({...m,payment_installments:Number(he.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"1",children:"À vista"}),[2,3,4,5,6,7,8,9,10,12].map(he=>s.jsxs("option",{value:he,children:[he,"x"]},he))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancária"}),s.jsxs("select",{value:m.bank_account_id,onChange:he=>p({...m,bank_account_id:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Padrão"}),T.map(he=>s.jsxs("option",{value:he.id,children:[he.account_name," - ",he.bank_name]},he.id))]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5"}),"Desconto (Opcional)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto Percentual (%)"}),s.jsx("input",{type:"number",value:m.desconto_percentual,min:"0",max:"100",step:"0.01",onChange:he=>p({...m,desconto_percentual:Number(he.target.value),desconto_valor:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 5"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em 0 se não houver desconto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto em Reais (R$)"}),s.jsx("input",{type:"number",value:m.desconto_valor,min:"0",step:"0.01",onChange:he=>p({...m,desconto_valor:Number(he.target.value),desconto_percentual:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 50.00"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ou defina um valor fixo"})]})]})]})]},"pagamento"),a==="garantia"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Período de Garantia"}),s.jsx("input",{type:"number",value:m.warranty_period,min:"0",onChange:he=>p({...m,warranty_period:Number(he.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Período"}),s.jsxs("select",{value:m.warranty_type,onChange:he=>p({...m,warranty_type:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"days",children:"Dias"}),s.jsx("option",{value:"months",children:"Meses"}),s.jsx("option",{value:"years",children:"Anos"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),s.jsx("textarea",{value:m.warranty_terms,onChange:he=>p({...m,warranty_terms:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condições da garantia..."})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),s.jsxs("select",{value:m.contract_template_id,onChange:he=>p({...m,contract_template_id:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Nenhum"}),N.map(he=>s.jsx("option",{value:he.id,children:he.name},he.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações do Contrato"}),s.jsx("textarea",{value:m.contract_notes,onChange:he=>p({...m,contract_notes:he.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observações adicionais..."})]})]})]})]},"garantia"),a==="resumo"&&s.jsx(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo da Ordem de Serviço"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Informações que serão apresentadas ao cliente"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Serviços Contratados"}),s.jsx("div",{className:"space-y-2",children:D.map((he,$e)=>s.jsxs("div",{className:"flex justify-between text-sm py-2 border-b last:border-0",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[$e+1,". ",he.descricao]}),s.jsxs("span",{className:"text-gray-600 ml-2",children:["(Qtd: ",he.quantidade,")"]})]}),s.jsx("span",{className:"font-bold text-blue-700",children:Ie(he.preco_total)})]},he.id))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informações de Pagamento"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Forma de Pagamento:"}),s.jsx("span",{className:"font-semibold capitalize",children:m.payment_method.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Parcelas:"}),s.jsx("span",{className:"font-semibold",children:m.payment_installments===1?"À vista":`${m.payment_installments}x`})]}),m.payment_installments>1&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Valor por Parcela:"}),s.jsx("span",{className:"font-semibold",children:Ie(Be.total/m.payment_installments)})]})]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[s.jsx("h4",{className:"font-semibold text-amber-900 mb-3",children:"Garantia"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Período de Garantia:"}),s.jsxs("span",{className:"font-semibold",children:[m.warranty_period," ",m.warranty_type==="days"?"dias":m.warranty_type==="months"?"meses":"anos"]})]}),m.warranty_terms&&s.jsxs("div",{className:"mt-2 p-3 bg-white rounded border",children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Termos de Garantia:"}),s.jsx("p",{className:"text-sm text-gray-700",children:m.warranty_terms})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg p-6 border-2 border-gray-300 shadow-sm",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-gray-700",children:"Subtotal dos Serviços:"}),s.jsx("span",{className:"font-bold",children:Ie(Be.subtotal)})]}),Be.desconto>0&&s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-gray-700",children:"Desconto Aplicado:"}),s.jsxs("span",{className:"font-bold text-red-600",children:["- ",Ie(Be.desconto)]})]}),s.jsxs("div",{className:"border-t-2 pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-xl text-gray-900",children:"VALOR TOTAL DA PROPOSTA:"}),s.jsx("span",{className:"font-bold text-3xl text-green-600",children:Ie(Be.total)})]})]})}),m.contract_notes&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Observações do Contrato"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:m.contract_notes})]})]})]})},"resumo")]})}),s.jsxs("div",{className:"border-t p-6 bg-gray-50 rounded-b-xl flex justify-between",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100",children:"Cancelar"}),s.jsxs("button",{onClick:Le,disabled:o,className:"px-8 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),o?"Salvando...":n?"Atualizar OS":"Salvar OS"]})]})]})}):null},$de=()=>{const{isAdmin:t}=Yr(),e=ra(),[r,n]=S7(),[a,i]=k.useState(""),[o,l]=k.useState("all"),[c,d]=k.useState("all"),[u,A]=k.useState([]),[h,f]=k.useState(!0),[g,x]=k.useState(null),[m,p]=k.useState(!1),[y,w]=k.useState(null),[S,j]=k.useState(!1),[_,F]=k.useState(!1),[C,E]=k.useState(void 0);k.useEffect(()=>{T()},[]),k.useEffect(()=>{const X=r.get("edit");X&&(E(X),F(!0),n({}))},[r]);const T=async()=>{try{f(!0);const X=await bde();A(X||[]),x(null)}catch(X){console.error("Error loading service orders:",X),x("Erro ao carregar ordens de serviço"),A([])}finally{f(!1)}},v=async X=>{try{if(confirm(`Deseja duplicar a OS ${X.order_number}?`)){const $={...X,id:void 0,order_number:`${X.order_number}-COPIA`,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await vde($),await T(),alert("OS duplicada com sucesso!")}}catch($){console.error("Error duplicating order:",$),alert("Erro ao duplicar OS")}},N=async(X,$)=>{try{A(M=>M.map(G=>G.id===X?{...G,status:$,updated_at:new Date().toISOString()}:G)),await WT(X,{status:$,updated_at:new Date().toISOString()}),ao.invalidate("service_orders_v2")}catch(M){console.error("Error updating status:",M),alert(`Erro ao atualizar status: ${M}`),await T()}},O=async X=>{try{const $=X.status==="pending"?"in_progress":X.status==="in_progress"?"completed":X.status;confirm(`Deseja ${$==="in_progress"?"iniciar":"concluir"} a OS ${X.order_number}?`)&&(A(M=>M.map(G=>G.id===X.id?{...G,status:$,updated_at:new Date().toISOString()}:G)),await WT(X.id,{status:$,updated_at:new Date().toISOString()}),ao.invalidate("service_orders_v2"),alert(`OS ${$==="in_progress"?"iniciada":"concluída"} com sucesso!`))}catch($){console.error("Error executing order:",$),alert("Erro ao executar ação"),await T()}},L=X=>{w(X),p(!0)},Q=async()=>{if(y)try{j(!0),await H9(y.id),await T(),p(!1),w(null),alert("Ordem de serviço excluída com sucesso!")}catch(X){console.error("Error deleting order:",X),alert("Erro ao excluir ordem de serviço. Verifique se não há dependências.")}finally{j(!1)}},D=()=>{p(!1),w(null)},U=u.filter(X=>{const $=X.order_number.toLowerCase().includes(a.toLowerCase())||X.client_name.toLowerCase().includes(a.toLowerCase())||X.service_type.toLowerCase().includes(a.toLowerCase()),M=o==="all"||X.status===o,G=c==="all"||X.priority===c;return $&&M&&G}),R=X=>{switch(X){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"on_hold":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=X=>{switch(X){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Y=X=>{switch(X){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return"Desconhecida"}};return s.jsxs("div",{className:"space-y-6",children:[g&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(zn,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:g})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ordens de Serviço"}),s.jsxs("button",{onClick:()=>{E(void 0),F(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Nova OS"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por número, cliente ou serviço...",value:a,onChange:X=>i(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sA,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:o,onChange:X=>l(X.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"in_progress",children:"Em Andamento"}),s.jsx("option",{value:"completed",children:"Concluída"}),s.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),s.jsxs("select",{value:c,onChange:X=>d(X.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Prioridades"}),s.jsx("option",{value:"high",children:"Alta"}),s.jsx("option",{value:"medium",children:"Média"}),s.jsx("option",{value:"low",children:"Baixa"})]})]})]})}),h?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando ordens..."})]}):s.jsx("div",{className:"space-y-4",children:U.length>0?U.map((X,$)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"h-5 w-5 text-white mx-auto mb-0.5"}),s.jsx("span",{className:"text-xs font-bold text-white/90",children:X.order_number})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:["OS-",X.order_number]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.service_type||"Sem descrição"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${z(X.priority)}`,children:Y(X.priority)}),s.jsxs("select",{value:X.status,onChange:M=>N(X.id,M.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 cursor-pointer ${R(X.status)}`,children:[s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"in_progress",children:"Em Andamento"}),s.jsx("option",{value:"on_hold",children:"Pausado"}),s.jsx("option",{value:"completed",children:"Concluído"}),s.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xn,{className:"h-4 w-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-900",children:X.client_name})]}),s.jsx("p",{className:"text-xs text-gray-600 ml-6",children:X.client_phone})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Responsável"}),s.jsx("p",{className:"text-sm text-gray-900",children:X.assigned_to})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Prazo"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-900",children:X.due_date?new Date(X.due_date).toLocaleDateString("pt-BR"):X.service_date?new Date(X.service_date).toLocaleDateString("pt-BR"):"Não definido"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:X.description}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:M=>{M.stopPropagation(),e(`/service-orders/${X.id}/view`)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar OS",children:s.jsx(Ds,{className:"h-4 w-4"})}),s.jsx("button",{onClick:M=>{M.stopPropagation(),E(X.id),F(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar OS",children:s.jsx(Dr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:M=>{M.stopPropagation(),O(X)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:X.status==="pending"?"Iniciar OS":X.status==="in_progress"?"Concluir OS":"OS Concluída",disabled:X.status==="completed",children:s.jsx(d9,{className:"h-4 w-4"})}),s.jsx("button",{onClick:M=>{M.stopPropagation(),v(X)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Duplicar OS",children:s.jsx(zu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:M=>{M.stopPropagation(),L(X)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir OS",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]})]},X.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(Js,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma ordem encontrada"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos ordens de serviço com os filtros selecionados."}),s.jsx("button",{onClick:()=>{i(""),l("all"),d("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Serviço"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Esta ação não pode ser desfeita"})]})]})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Você está prestes a excluir a seguinte OS:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Número:"})," ",y==null?void 0:y.order_number]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Cliente:"})," ",y==null?void 0:y.client_name]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Serviço:"})," ",y==null?void 0:y.service_type]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Valor:"})," R$ ",((y==null?void 0:y.total_cost)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:"⚠️ Atenção!"}),s.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados serão permanentemente removidos do sistema. Esta ação é irreversível."})]})]})}),s.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:D,disabled:S,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:Q,disabled:S,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"h-5 w-5"}),"Confirmar Exclusão"]})})]})]})]})}),s.jsx(Qde,{isOpen:_,onClose:()=>{F(!1),E(void 0)},onSave:()=>{T(),F(!1),E(void 0)},orderId:C})]})};function Ar(t){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}var ks=Uint8Array,Da=Uint16Array,FE=Int32Array,l2=new ks([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c2=new ks([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j4=new ks([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q9=function(t,e){for(var r=new Da(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new FE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},V9=q9(l2,2),K9=V9.b,N4=V9.r;K9[28]=258,N4[258]=28;var W9=q9(c2,0),Hde=W9.b,GT=W9.r,_4=new Da(32768);for(var Lr=0;Lr<32768;++Lr){var pc=(Lr&43690)>>1|(Lr&21845)<<1;pc=(pc&52428)>>2|(pc&13107)<<2,pc=(pc&61680)>>4|(pc&3855)<<4,_4[Lr]=((pc&65280)>>8|(pc&255)<<8)>>1}var Mo=function(t,e,r){for(var n=t.length,a=0,i=new Da(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new Da(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Da(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],A=o[t[a]-1]++<<u,h=A|(1<<u)-1;A<=h;++A)l[_4[A]>>c]=d}else for(l=new Da(n),a=0;a<n;++a)t[a]&&(l[a]=_4[o[t[a]-1]++]>>15-t[a]);return l},ud=new ks(288);for(var Lr=0;Lr<144;++Lr)ud[Lr]=8;for(var Lr=144;Lr<256;++Lr)ud[Lr]=9;for(var Lr=256;Lr<280;++Lr)ud[Lr]=7;for(var Lr=280;Lr<288;++Lr)ud[Lr]=8;var c0=new ks(32);for(var Lr=0;Lr<32;++Lr)c0[Lr]=5;var zde=Mo(ud,9,0),qde=Mo(ud,9,1),Vde=Mo(c0,5,0),Kde=Mo(c0,5,1),p_=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Di=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},g_=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},PE=function(t){return(t+7)/8|0},G9=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ks(t.subarray(e,r))},Wde=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qi=function(t,e,r){var n=new Error(e||Wde[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,qi),!r)throw n;return n},Gde=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new ks(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new ks(a*3));var d=function(Z){var me=r.length;if(Z>me){var Me=new ks(Math.max(me*2,Z));Me.set(r),r=Me}},u=e.f||0,A=e.p||0,h=e.b||0,f=e.l,g=e.d,x=e.m,m=e.n,p=a*8;do{if(!f){u=Di(t,A,1);var y=Di(t,A+1,3);if(A+=3,y)if(y==1)f=qde,g=Kde,x=9,m=5;else if(y==2){var _=Di(t,A,31)+257,F=Di(t,A+10,15)+4,C=_+Di(t,A+5,31)+1;A+=14;for(var E=new ks(C),T=new ks(19),v=0;v<F;++v)T[j4[v]]=Di(t,A+v*3,7);A+=F*3;for(var N=p_(T),O=(1<<N)-1,L=Mo(T,N,1),v=0;v<C;){var Q=L[Di(t,A,O)];A+=Q&15;var w=Q>>4;if(w<16)E[v++]=w;else{var D=0,U=0;for(w==16?(U=3+Di(t,A,3),A+=2,D=E[v-1]):w==17?(U=3+Di(t,A,7),A+=3):w==18&&(U=11+Di(t,A,127),A+=7);U--;)E[v++]=D}}var R=E.subarray(0,_),z=E.subarray(_);x=p_(R),m=p_(z),f=Mo(R,x,1),g=Mo(z,m,1)}else qi(1);else{var w=PE(A)+4,S=t[w-4]|t[w-3]<<8,j=w+S;if(j>a){c&&qi(0);break}l&&d(h+S),r.set(t.subarray(w,j),h),e.b=h+=S,e.p=A=j*8,e.f=u;continue}if(A>p){c&&qi(0);break}}l&&d(h+131072);for(var Y=(1<<x)-1,X=(1<<m)-1,$=A;;$=A){var D=f[g_(t,A)&Y],M=D>>4;if(A+=D&15,A>p){c&&qi(0);break}if(D||qi(2),M<256)r[h++]=M;else if(M==256){$=A,f=null;break}else{var G=M-254;if(M>264){var v=M-257,V=l2[v];G=Di(t,A,(1<<V)-1)+K9[v],A+=V}var ae=g[g_(t,A)&X],Ae=ae>>4;ae||qi(3),A+=ae&15;var z=Hde[Ae];if(Ae>3){var V=c2[Ae];z+=g_(t,A)&(1<<V)-1,A+=V}if(A>p){c&&qi(0);break}l&&d(h+131072);var re=h+G;if(h<z){var ie=i-z,ce=Math.min(z,re);for(ie+h<0&&qi(3);h<ce;++h)r[h]=n[ie+h]}for(;h<re;++h)r[h]=r[h-z]}}e.l=f,e.p=$,e.b=h,e.f=u,f&&(u=1,e.m=x,e.d=g,e.n=m)}while(!u);return h!=r.length&&o?G9(r,0,h):r.subarray(0,h)},sl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},lp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},x_=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:Y9,l:0};if(a==1){var o=new ks(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(j,_){return j.f-_.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,A=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[A].f?d++:A++],c=r[d!=u&&r[d].f<r[A].f?d++:A++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var f=new Da(h+1),g=C4(r[u-1],f,0);if(g>e){var n=0,x=0,m=g-e,p=1<<m;for(i.sort(function(_,F){return f[F.s]-f[_.s]||_.f-F.f});n<a;++n){var y=i[n].s;if(f[y]>e)x+=p-(1<<g-f[y]),f[y]=e;else break}for(x>>=m;x>0;){var w=i[n].s;f[w]<e?x-=1<<e-f[w]++-1:++n}for(;n>=0&&x;--n){var S=i[n].s;f[S]==e&&(--f[S],++x)}g=e}return{t:new ks(f),l:g}},C4=function(t,e,r){return t.s==-1?Math.max(C4(t.l,e,r+1),C4(t.r,e,r+1)):e[t.s]=r},XT=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Da(++e),n=0,a=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},cp=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},X9=function(t,e,r){var n=r.length,a=PE(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},YT=function(t,e,r,n,a,i,o,l,c,d,u){sl(e,u++,r),++a[256];for(var A=x_(a,15),h=A.t,f=A.l,g=x_(i,15),x=g.t,m=g.l,p=XT(h),y=p.c,w=p.n,S=XT(x),j=S.c,_=S.n,F=new Da(19),C=0;C<y.length;++C)++F[y[C]&31];for(var C=0;C<j.length;++C)++F[j[C]&31];for(var E=x_(F,7),T=E.t,v=E.l,N=19;N>4&&!T[j4[N-1]];--N);var O=d+5<<3,L=cp(a,ud)+cp(i,c0)+o,Q=cp(a,h)+cp(i,x)+o+14+3*N+cp(F,T)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&O<=L&&O<=Q)return X9(e,u,t.subarray(c,c+d));var D,U,R,z;if(sl(e,u,1+(Q<L)),u+=2,Q<L){D=Mo(h,f,0),U=h,R=Mo(x,m,0),z=x;var Y=Mo(T,v,0);sl(e,u,w-257),sl(e,u+5,_-1),sl(e,u+10,N-4),u+=14;for(var C=0;C<N;++C)sl(e,u+3*C,T[j4[C]]);u+=3*N;for(var X=[y,j],$=0;$<2;++$)for(var M=X[$],C=0;C<M.length;++C){var G=M[C]&31;sl(e,u,Y[G]),u+=T[G],G>15&&(sl(e,u,M[C]>>5&127),u+=M[C]>>12)}}else D=zde,U=ud,R=Vde,z=c0;for(var C=0;C<l;++C){var V=n[C];if(V>255){var G=V>>18&31;lp(e,u,D[G+257]),u+=U[G+257],G>7&&(sl(e,u,V>>23&31),u+=l2[G]);var ae=V&31;lp(e,u,R[ae]),u+=z[ae],ae>3&&(lp(e,u,V>>5&8191),u+=c2[ae])}else lp(e,u,D[V]),u+=U[V]}return lp(e,u,D[256]),u+U[256]},Xde=new FE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y9=new ks(0),Yde=function(t,e,r,n,a,i){var o=i.z||t.length,l=new ks(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var A=Xde[e-1],h=A>>13,f=A&8191,g=(1<<r)-1,x=i.p||new Da(32768),m=i.h||new Da(g+1),p=Math.ceil(r/3),y=2*p,w=function(Re){return(t[Re]^t[Re+1]<<p^t[Re+2]<<y)&g},S=new FE(25e3),j=new Da(288),_=new Da(32),F=0,C=0,E=i.i||0,T=0,v=i.w||0,N=0;E+2<o;++E){var O=w(E),L=E&32767,Q=m[O];if(x[L]=Q,m[O]=L,v<=E){var D=o-E;if((F>7e3||T>24576)&&(D>423||!d)){u=YT(t,c,0,S,j,_,C,T,N,E-N,u),T=F=C=0,N=E;for(var U=0;U<286;++U)j[U]=0;for(var U=0;U<30;++U)_[U]=0}var R=2,z=0,Y=f,X=L-Q&32767;if(D>2&&O==w(E-X))for(var $=Math.min(h,D)-1,M=Math.min(32767,E),G=Math.min(258,D);X<=M&&--Y&&L!=Q;){if(t[E+R]==t[E+R-X]){for(var V=0;V<G&&t[E+V]==t[E+V-X];++V);if(V>R){if(R=V,z=X,V>$)break;for(var ae=Math.min(X,V-2),Ae=0,U=0;U<ae;++U){var re=E-X+U&32767,ie=x[re],ce=re-ie&32767;ce>Ae&&(Ae=ce,Q=re)}}}L=Q,Q=x[L],X+=L-Q&32767}if(z){S[T++]=268435456|N4[R]<<18|GT[z];var Z=N4[R]&31,me=GT[z]&31;C+=l2[Z]+c2[me],++j[257+Z],++_[me],v=E+R,++F}else S[T++]=t[E],++j[t[E]]}}for(E=Math.max(E,v);E<o;++E)S[T++]=t[E],++j[t[E]];u=YT(t,c,d,S,j,_,C,T,N,E-N,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=m,i.p=x,i.i=E,i.w=v)}else{for(var E=i.w||0;E<o+d;E+=65535){var Me=E+65535;Me>=o&&(c[u/8|0]=d,Me=o),u=X9(c,u+1,t.subarray(E,Me))}i.i=o}return G9(l,0,n+PE(u)+a)},J9=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Jde=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new ks(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return Yde(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},Z9=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Zde=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=J9();a.p(e.dictionary),Z9(t,2,a.d())}},eue=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&qi(6,"invalid zlib data"),(t[1]>>5&1)==1&&qi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function S4(t,e){e||(e={});var r=J9();r.p(t);var n=Jde(t,e,e.dictionary?6:2,4);return Zde(n,e),Z9(n,n.length-4,r.d()),n}function tue(t,e){return Gde(t.subarray(eue(t),-4),{i:2},e,e)}var rue=typeof TextDecoder<"u"&&new TextDecoder,nue=0;try{rue.decode(Y9,{stream:!0}),nue=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function y_(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var vr={log:y_,warn:function(t){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):y_.call(null,arguments))},error:function(t){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):y_(t))}};function v_(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Jd(n.response,e,r)},n.onerror=function(){vr.error("could not download file")},n.send()}function JT(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Vy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var fg,B4,Jd=jt.saveAs||((typeof window>"u"?"undefined":Ar(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=jt.URL||jt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?JT(a.href)?v_(t,e,r):Vy(a,a.target="_blank"):Vy(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Vy(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(JT(t))v_(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Vy(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Ar(i)!=="object"&&(vr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return v_(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Ar(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(t)}else{var c=jt.URL||jt.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function b_(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=vs(r,n,a,i,e[0],7,-680876936),i=vs(i,r,n,a,e[1],12,-389564586),a=vs(a,i,r,n,e[2],17,606105819),n=vs(n,a,i,r,e[3],22,-1044525330),r=vs(r,n,a,i,e[4],7,-176418897),i=vs(i,r,n,a,e[5],12,1200080426),a=vs(a,i,r,n,e[6],17,-1473231341),n=vs(n,a,i,r,e[7],22,-45705983),r=vs(r,n,a,i,e[8],7,1770035416),i=vs(i,r,n,a,e[9],12,-1958414417),a=vs(a,i,r,n,e[10],17,-42063),n=vs(n,a,i,r,e[11],22,-1990404162),r=vs(r,n,a,i,e[12],7,1804603682),i=vs(i,r,n,a,e[13],12,-40341101),a=vs(a,i,r,n,e[14],17,-1502002290),r=bs(r,n=vs(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=bs(i,r,n,a,e[6],9,-1069501632),a=bs(a,i,r,n,e[11],14,643717713),n=bs(n,a,i,r,e[0],20,-373897302),r=bs(r,n,a,i,e[5],5,-701558691),i=bs(i,r,n,a,e[10],9,38016083),a=bs(a,i,r,n,e[15],14,-660478335),n=bs(n,a,i,r,e[4],20,-405537848),r=bs(r,n,a,i,e[9],5,568446438),i=bs(i,r,n,a,e[14],9,-1019803690),a=bs(a,i,r,n,e[3],14,-187363961),n=bs(n,a,i,r,e[8],20,1163531501),r=bs(r,n,a,i,e[13],5,-1444681467),i=bs(i,r,n,a,e[2],9,-51403784),a=bs(a,i,r,n,e[7],14,1735328473),r=ws(r,n=bs(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=ws(i,r,n,a,e[8],11,-2022574463),a=ws(a,i,r,n,e[11],16,1839030562),n=ws(n,a,i,r,e[14],23,-35309556),r=ws(r,n,a,i,e[1],4,-1530992060),i=ws(i,r,n,a,e[4],11,1272893353),a=ws(a,i,r,n,e[7],16,-155497632),n=ws(n,a,i,r,e[10],23,-1094730640),r=ws(r,n,a,i,e[13],4,681279174),i=ws(i,r,n,a,e[0],11,-358537222),a=ws(a,i,r,n,e[3],16,-722521979),n=ws(n,a,i,r,e[6],23,76029189),r=ws(r,n,a,i,e[9],4,-640364487),i=ws(i,r,n,a,e[12],11,-421815835),a=ws(a,i,r,n,e[15],16,530742520),r=js(r,n=ws(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=js(i,r,n,a,e[7],10,1126891415),a=js(a,i,r,n,e[14],15,-1416354905),n=js(n,a,i,r,e[5],21,-57434055),r=js(r,n,a,i,e[12],6,1700485571),i=js(i,r,n,a,e[3],10,-1894986606),a=js(a,i,r,n,e[10],15,-1051523),n=js(n,a,i,r,e[1],21,-2054922799),r=js(r,n,a,i,e[8],6,1873313359),i=js(i,r,n,a,e[15],10,-30611744),a=js(a,i,r,n,e[6],15,-1560198380),n=js(n,a,i,r,e[13],21,1309151649),r=js(r,n,a,i,e[4],6,-145523070),i=js(i,r,n,a,e[11],10,-1120210379),a=js(a,i,r,n,e[2],15,718787259),n=js(n,a,i,r,e[9],21,-343485551),t[0]=Lc(r,t[0]),t[1]=Lc(n,t[1]),t[2]=Lc(a,t[2]),t[3]=Lc(i,t[3])}function d2(t,e,r,n,a,i){return e=Lc(Lc(e,t),Lc(n,i)),Lc(e<<a|e>>>32-a,r)}function vs(t,e,r,n,a,i,o){return d2(e&r|~e&n,t,e,a,i,o)}function bs(t,e,r,n,a,i,o){return d2(e&n|r&~n,t,e,a,i,o)}function ws(t,e,r,n,a,i,o){return d2(e^r^n,t,e,a,i,o)}function js(t,e,r,n,a,i,o){return d2(r^(e|~n),t,e,a,i,o)}function tH(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)b_(n,sue(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(b_(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,b_(n,a),n}function sue(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}fg=jt.atob.bind(jt),B4=jt.btoa.bind(jt);var ZT="0123456789abcdef".split("");function aue(t){for(var e="",r=0;r<4;r++)e+=ZT[t>>8*r+4&15]+ZT[t>>8*r&15];return e}function iue(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function E4(t){return tH(t).map(iue).join("")}var oue=function(t){for(var e=0;e<t.length;e++)t[e]=aue(t[e]);return t.join("")}(tH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Lc(t,e){if(oue){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k4(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,n=l}else l=n;var A=e.length,h=0,f=0,g="";for(c=0;c<A;c++)f=(f+(u=l[h=(h+1)%256]))%256,l[h]=l[f],l[f]=u,o=l[(l[h]+l[f])%256],g+=String.fromCharCode(e.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var eO={print:4,modify:8,copy:16,"annot-forms":32};function uh(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(eO.perm!==void 0)throw new Error("Invalid permission: "+l);a+=eO[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=E4(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=k4(this.encryptionKey,this.padding)}function Ah(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function tO(t){if(Ar(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){jt.console&&vr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function dw(t){if(!(this instanceof dw))return new dw(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function rH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ou(t,e,r,n,a){if(!(this instanceof ou))return new ou(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,rH.call(this,n,a)}function Th(t,e,r,n,a){if(!(this instanceof Th))return new Th(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,rH.call(this,n,a)}function At(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;Ar(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var A=t.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=tO;var g="1.3",x=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(P){g=P};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var p=f.__private__.getPageFormat=function(P){return m[P]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function S(){this.saveGraphicsState(),q(new yt(Se,0,0,-Se,0,rc()*Se).toString()+" cm"),this.setFontSize(this.getFontSize()/Se),d="n",w=y.ADVANCED}function j(){this.restoreGraphicsState(),d="S",w=y.COMPAT}var _=f.__private__.combineFontStyleAndFontWeight=function(P,W){if(P=="bold"&&W=="normal"||P=="bold"&&W==400||P=="normal"&&W=="italic"||P=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(P=W==400||W==="normal"?P==="italic"?"italic":"normal":W!=700&&W!=="bold"||P!=="normal"?(W==700?"bold":W)+""+P:"bold"),P};f.advancedAPI=function(P){var W=w===y.COMPAT;return W&&S.call(this),typeof P!="function"||(P(this),W&&j.call(this)),this},f.compatAPI=function(P){var W=w===y.ADVANCED;return W&&j.call(this),typeof P!="function"||(P(this),W&&S.call(this)),this},f.isAdvancedAPI=function(){return w===y.ADVANCED};var F,C=function(P){if(w!==y.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(P,W){var fe=e||W;if(isNaN(P)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(fe).replace(/0+$/,"")};F=f.hpf=f.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return E(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return E(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return E(P,16)};var T=f.f2=f.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return E(P,2)},v=f.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return E(P,3)},N=f.scale=f.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?P*Se:w===y.ADVANCED?P:void 0},O=function(P){return w===y.COMPAT?rc()-P:w===y.ADVANCED?P:void 0},L=function(P){return N(O(P))};f.__private__.setPrecision=f.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var Q,D="00000000000000000000000000000000",U=f.__private__.getFileId=function(){return D},R=f.__private__.setFileId=function(P){return D=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():D.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ps=new uh(u.userPermissions,u.userPassword,u.ownerPassword,D)),D};f.setFileId=function(P){return R(P),this},f.getFileId=function(){return U()};var z=f.__private__.convertDateToPDFDate=function(P){var W=P.getTimezoneOffset(),fe=W<0?"+":"-",we=Math.floor(Math.abs(W/60)),Fe=Math.abs(W%60),Qe=[fe,G(we),"'",G(Fe),"'"].join("");return["D:",P.getFullYear(),G(P.getMonth()+1),G(P.getDate()),G(P.getHours()),G(P.getMinutes()),G(P.getSeconds()),Qe].join("")},Y=f.__private__.convertPDFDateToDate=function(P){var W=parseInt(P.substr(2,4),10),fe=parseInt(P.substr(6,2),10)-1,we=parseInt(P.substr(8,2),10),Fe=parseInt(P.substr(10,2),10),Qe=parseInt(P.substr(12,2),10),Ge=parseInt(P.substr(14,2),10);return new Date(W,fe,we,Fe,Qe,Ge,0)},X=f.__private__.setCreationDate=function(P){var W;if(P===void 0&&(P=new Date),P instanceof Date)W=z(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=P}return Q=W},$=f.__private__.getCreationDate=function(P){var W=Q;return P==="jsDate"&&(W=Y(Q)),W};f.setCreationDate=function(P){return X(P),this},f.getCreationDate=function(P){return $(P)};var M,G=f.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},V=f.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ae=0,Ae=[],re=[],ie=0,ce=[],Z=[],me=!1,Me=re,Re=function(){ae=0,ie=0,re=[],Ae=[],ce=[],Wo=yn(),Ei=yn()};f.__private__.setCustomOutputDestination=function(P){me=!0,Me=P};var ye=function(P){me||(Me=P)};f.__private__.resetCustomOutputDestination=function(){me=!1,Me=re};var q=f.__private__.out=function(P){return P=P.toString(),ie+=P.length+1,Me.push(P),Me},Ee=f.__private__.write=function(P){return q(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Oe=f.__private__.getArrayBuffer=function(P){for(var W=P.length,fe=new ArrayBuffer(W),we=new Uint8Array(fe);W--;)we[W]=P.charCodeAt(W);return fe},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ke};var Le=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(P){return Le=w===y.ADVANCED?P/Se:P,this};var Ie,Be=f.__private__.getFontSize=f.getFontSize=function(){return w===y.COMPAT?Le:Le*Se},he=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(P){return he=P,this},f.__private__.getR2L=f.getR2L=function(){return he};var $e,pe=f.__private__.setZoomMode=function(P){var W=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Ie=P;else if(isNaN(P)){if(W.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Ie=P}else Ie=parseInt(P,10)};f.__private__.getZoomMode=function(){return Ie};var ue,se=f.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');$e=P};f.__private__.getPageMode=function(){return $e};var le=f.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');ue=P};f.__private__.getLayoutMode=function(){return ue},f.__private__.setDisplayMode=f.setDisplayMode=function(P,W,fe){return pe(P),le(W),se(fe),this};var ve={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(P){if(Object.keys(ve).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ve[P]},f.__private__.getDocumentProperties=function(){return ve},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(P){for(var W in ve)ve.hasOwnProperty(W)&&P[W]&&(ve[W]=P[W]);return this},f.__private__.setDocumentProperty=function(P,W){if(Object.keys(ve).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ve[P]=W};var xe,Se,et,ze,ft,mt={},Wt={},ms=[],tr={},_d={},Jr={},Si={},Ko=null,Zr=0,Pt=[],rr=new tO(f),Cd=t.hotfixes||[],ss={},Ao={},ho=[],yt=function P(W,fe,we,Fe,Qe,Ge){if(!(this instanceof P))return new P(W,fe,we,Fe,Qe,Ge);isNaN(W)&&(W=1),isNaN(fe)&&(fe=0),isNaN(we)&&(we=0),isNaN(Fe)&&(Fe=1),isNaN(Qe)&&(Qe=0),isNaN(Ge)&&(Ge=0),this._matrix=[W,fe,we,Fe,Qe,Ge]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(P)},yt.prototype.multiply=function(P){var W=P.sx*this.sx+P.shy*this.shx,fe=P.sx*this.shy+P.shy*this.sy,we=P.shx*this.sx+P.sy*this.shx,Fe=P.shx*this.shy+P.sy*this.sy,Qe=P.tx*this.sx+P.ty*this.shx+this.tx,Ge=P.tx*this.shy+P.ty*this.sy+this.ty;return new yt(W,fe,we,Fe,Qe,Ge)},yt.prototype.decompose=function(){var P=this.sx,W=this.shy,fe=this.shx,we=this.sy,Fe=this.tx,Qe=this.ty,Ge=Math.sqrt(P*P+W*W),rt=(P/=Ge)*fe+(W/=Ge)*we;fe-=P*rt,we-=W*rt;var ht=Math.sqrt(fe*fe+we*we);return rt/=ht,P*(we/=ht)<W*(fe/=ht)&&(P=-P,W=-W,rt=-rt,Ge=-Ge),{scale:new yt(Ge,0,0,ht,0,0),translate:new yt(1,0,0,1,Fe,Qe),rotate:new yt(P,W,-W,P,0,0),skew:new yt(1,0,rt,1,0,0)}},yt.prototype.toString=function(P){return this.join(" ")},yt.prototype.inversed=function(){var P=this.sx,W=this.shy,fe=this.shx,we=this.sy,Fe=this.tx,Qe=this.ty,Ge=1/(P*we-W*fe),rt=we*Ge,ht=-W*Ge,Lt=-fe*Ge,Tt=P*Ge;return new yt(rt,ht,Lt,Tt,-rt*Fe-Lt*Qe,-ht*Fe-Tt*Qe)},yt.prototype.applyToPoint=function(P){var W=P.x*this.sx+P.y*this.shx+this.tx,fe=P.x*this.shy+P.y*this.sy+this.ty;return new CA(W,fe)},yt.prototype.applyToRectangle=function(P){var W=this.applyToPoint(P),fe=this.applyToPoint(new CA(P.x+P.w,P.y+P.h));return new Fm(W.x,W.y,fe.x-W.x,fe.y-W.y)},yt.prototype.clone=function(){var P=this.sx,W=this.shy,fe=this.shx,we=this.sy,Fe=this.tx,Qe=this.ty;return new yt(P,W,fe,we,Fe,Qe)},f.Matrix=yt;var Bi=f.matrixMult=function(P,W){return W.multiply(P)},fo=new yt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=fo;var na=function(P,W){if(!_d[P]){var fe=(W instanceof ou?"Sh":"P")+(Object.keys(tr).length+1).toString(10);W.id=fe,_d[P]=fe,tr[fe]=W,rr.publish("addPattern",W)}};f.ShadingPattern=ou,f.TilingPattern=Th,f.addShadingPattern=function(P,W){return C("addShadingPattern()"),na(P,W),this},f.beginTilingPattern=function(P){C("beginTilingPattern()"),Gx(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},f.endTilingPattern=function(P,W){C("endTilingPattern()"),W.stream=Z[M].join(`
`),na(P,W),rr.publish("endTilingPattern",W),ho.pop().restore()};var On=f.__private__.newObject=function(){var P=yn();return Na(P,!0),P},yn=f.__private__.newObjectDeferred=function(){return ae++,Ae[ae]=function(){return ie},ae},Na=function(P,W){return W=typeof W=="boolean"&&W,Ae[P]=ie,W&&q(P+" 0 obj"),P},hA=f.__private__.newAdditionalObject=function(){var P={objId:yn(),content:""};return ce.push(P),P},Wo=yn(),Ei=yn(),ki=f.__private__.decodeColorString=function(P){var W=P.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length===5&&(W[4]==="k"||W[4]==="K")&&(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var fe=parseFloat(W[0]);W=[fe,fe,fe,"r"]}for(var we="#",Fe=0;Fe<3;Fe++)we+=("0"+Math.floor(255*parseFloat(W[Fe])).toString(16)).slice(-2);return we},Fi=f.__private__.encodeColorString=function(P){var W;typeof P=="string"&&(P={ch1:P});var fe=P.ch1,we=P.ch2,Fe=P.ch3,Qe=P.ch4,Ge=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var rt=new eH(fe);if(rt.ok)fe=rt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var ht=parseInt(fe.substr(1),16);fe=ht>>16&255,we=ht>>8&255,Fe=255&ht}if(we===void 0||Qe===void 0&&fe===we&&we===Fe)if(typeof fe=="string")W=fe+" "+Ge[0];else switch(P.precision){case 2:W=T(fe/255)+" "+Ge[0];break;case 3:default:W=v(fe/255)+" "+Ge[0]}else if(Qe===void 0||Ar(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return W=["1.","1.","1.",Ge[1]].join(" ");if(typeof fe=="string")W=[fe,we,Fe,Ge[1]].join(" ");else switch(P.precision){case 2:W=[T(fe/255),T(we/255),T(Fe/255),Ge[1]].join(" ");break;default:case 3:W=[v(fe/255),v(we/255),v(Fe/255),Ge[1]].join(" ")}}else if(typeof fe=="string")W=[fe,we,Fe,Qe,Ge[2]].join(" ");else switch(P.precision){case 2:W=[T(fe),T(we),T(Fe),T(Qe),Ge[2]].join(" ");break;case 3:default:W=[v(fe),v(we),v(Fe),v(Qe),Ge[2]].join(" ")}return W},mo=f.__private__.getFilters=function(){return o},qa=f.__private__.putStream=function(P){var W=(P=P||{}).data||"",fe=P.filters||mo(),we=P.alreadyAppliedFilters||[],Fe=P.addLength1||!1,Qe=W.length,Ge=P.objectId,rt=function(gs){return gs};if(u!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(rt=ps.encryptor(Ge,0));var ht={};fe===!0&&(fe=["FlateEncode"]);var Lt=P.additionalKeyValues||[],Tt=(ht=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(W,fe):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(ht.data.length!==0&&(Lt.push({key:"Length",value:ht.data.length}),Fe===!0&&Lt.push({key:"Length1",value:Qe})),Tt.length!=0)if(Tt.split("/").length-1==1)Lt.push({key:"Filter",value:Tt});else{Lt.push({key:"Filter",value:"["+Tt+"]"});for(var Kt=0;Kt<Lt.length;Kt+=1)if(Lt[Kt].key==="DecodeParms"){for(var zr=[],en=0;en<ht.reverseChain.split("/").length-1;en+=1)zr.push("null");zr.push(Lt[Kt].value),Lt[Kt].value="["+zr.join(" ")+"]"}}q("<<");for(var vn=0;vn<Lt.length;vn++)q("/"+Lt[vn].key+" "+Lt[vn].value);q(">>"),ht.data.length!==0&&(q("stream"),q(rt(ht.data)),q("endstream"))},po=f.__private__.putPage=function(P){var W=P.number,fe=P.data,we=P.objId,Fe=P.contentsObjId;Na(we,!0),q("<</Type /Page"),q("/Parent "+P.rootDictionaryObjId+" 0 R"),q("/Resources "+P.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(F(P.mediaBox.bottomLeftX))+" "+parseFloat(F(P.mediaBox.bottomLeftY))+" "+F(P.mediaBox.topRightX)+" "+F(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&q("/CropBox ["+F(P.cropBox.bottomLeftX)+" "+F(P.cropBox.bottomLeftY)+" "+F(P.cropBox.topRightX)+" "+F(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&q("/BleedBox ["+F(P.bleedBox.bottomLeftX)+" "+F(P.bleedBox.bottomLeftY)+" "+F(P.bleedBox.topRightX)+" "+F(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&q("/TrimBox ["+F(P.trimBox.bottomLeftX)+" "+F(P.trimBox.bottomLeftY)+" "+F(P.trimBox.topRightX)+" "+F(P.trimBox.topRightY)+"]"),P.artBox!==null&&q("/ArtBox ["+F(P.artBox.bottomLeftX)+" "+F(P.artBox.bottomLeftY)+" "+F(P.artBox.topRightX)+" "+F(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&q("/UserUnit "+P.userUnit),rr.publish("putPage",{objId:we,pageContext:Pt[W],pageNumber:W,page:fe}),q("/Contents "+Fe+" 0 R"),q(">>"),q("endobj");var Qe=fe.join(`
`);return w===y.ADVANCED&&(Qe+=`
Q`),Na(Fe,!0),qa({data:Qe,filters:mo(),objectId:Fe}),q("endobj"),we},Sd=f.__private__.putPages=function(){var P,W,fe=[];for(P=1;P<=Zr;P++)Pt[P].objId=yn(),Pt[P].contentsObjId=yn();for(P=1;P<=Zr;P++)fe.push(po({number:P,data:Z[P],objId:Pt[P].objId,contentsObjId:Pt[P].contentsObjId,mediaBox:Pt[P].mediaBox,cropBox:Pt[P].cropBox,bleedBox:Pt[P].bleedBox,trimBox:Pt[P].trimBox,artBox:Pt[P].artBox,userUnit:Pt[P].userUnit,rootDictionaryObjId:Wo,resourceDictionaryObjId:Ei}));Na(Wo,!0),q("<</Type /Pages");var we="/Kids [";for(W=0;W<Zr;W++)we+=fe[W]+" 0 R ";q(we+"]"),q("/Count "+Zr),q(">>"),q("endobj"),rr.publish("postPutPages")},fA=function(P){rr.publish("putFont",{font:P,out:q,newObject:On,putStream:qa}),P.isAlreadyPutted!==!0&&(P.objectNumber=On(),q("<<"),q("/Type /Font"),q("/BaseFont /"+Ah(P.postScriptName)),q("/Subtype /Type1"),typeof P.encoding=="string"&&q("/Encoding /"+P.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},mA=function(){for(var P in mt)mt.hasOwnProperty(P)&&(A===!1||A===!0&&h.hasOwnProperty(P))&&fA(mt[P])},pA=function(P){P.objectNumber=On();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[F(P.x),F(P.y),F(P.x+P.width),F(P.y+P.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var fe=P.pages[1].join(`
`);qa({data:fe,additionalKeyValues:W,objectId:P.objectNumber}),q("endobj")},gA=function(){for(var P in ss)ss.hasOwnProperty(P)&&pA(ss[P])},Fx=function(P,W){var fe,we=[],Fe=1/(W-1);for(fe=0;fe<1;fe+=Fe)we.push(fe);if(we.push(1),P[0].offset!=0){var Qe={offset:0,color:P[0].color};P.unshift(Qe)}if(P[P.length-1].offset!=1){var Ge={offset:1,color:P[P.length-1].color};P.push(Ge)}for(var rt="",ht=0,Lt=0;Lt<we.length;Lt++){for(fe=we[Lt];fe>P[ht+1].offset;)ht++;var Tt=P[ht].offset,Kt=(fe-Tt)/(P[ht+1].offset-Tt),zr=P[ht].color,en=P[ht+1].color;rt+=V(Math.round((1-Kt)*zr[0]+Kt*en[0]).toString(16))+V(Math.round((1-Kt)*zr[1]+Kt*en[1]).toString(16))+V(Math.round((1-Kt)*zr[2]+Kt*en[2]).toString(16))}return rt.trim()},Bj=function(P,W){W||(W=21);var fe=On(),we=Fx(P.colors,W),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+W+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qa({data:we,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),q("endobj"),P.objectNumber=On(),q("<< /ShadingType "+P.type),q("/ColorSpace /DeviceRGB");var Qe="/Coords ["+F(parseFloat(P.coords[0]))+" "+F(parseFloat(P.coords[1]))+" ";P.type===2?Qe+=F(parseFloat(P.coords[2]))+" "+F(parseFloat(P.coords[3])):Qe+=F(parseFloat(P.coords[2]))+" "+F(parseFloat(P.coords[3]))+" "+F(parseFloat(P.coords[4]))+" "+F(parseFloat(P.coords[5])),q(Qe+="]"),P.matrix&&q("/Matrix ["+P.matrix.toString()+"]"),q("/Function "+fe+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},Ej=function(P,W){var fe=yn(),we=On();W.push({resourcesOid:fe,objectOid:we}),P.objectNumber=we;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+P.boundingBox.map(F).join(" ")+"]"}),Fe.push({key:"XStep",value:F(P.xStep)}),Fe.push({key:"YStep",value:F(P.yStep)}),Fe.push({key:"Resources",value:fe+" 0 R"}),P.matrix&&Fe.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),qa({data:P.stream,additionalKeyValues:Fe,objectId:P.objectNumber}),q("endobj")},xA=function(P){var W;for(W in tr)tr.hasOwnProperty(W)&&(tr[W]instanceof ou?Bj(tr[W]):tr[W]instanceof Th&&Ej(tr[W],P))},Px=function(P){for(var W in P.objectNumber=On(),q("<<"),P)switch(W){case"opacity":q("/ca "+T(P[W]));break;case"stroke-opacity":q("/CA "+T(P[W]))}q(">>"),q("endobj")},kj=function(){var P;for(P in Jr)Jr.hasOwnProperty(P)&&Px(Jr[P])},bm=function(){for(var P in q("/XObject <<"),ss)ss.hasOwnProperty(P)&&ss[P].objectNumber>=0&&q("/"+P+" "+ss[P].objectNumber+" 0 R");rr.publish("putXobjectDict"),q(">>")},Fj=function(){ps.oid=On(),q("<<"),q("/Filter /Standard"),q("/V "+ps.v),q("/R "+ps.r),q("/U <"+ps.toHexString(ps.U)+">"),q("/O <"+ps.toHexString(ps.O)+">"),q("/P "+ps.P),q(">>"),q("endobj")},Tx=function(){for(var P in q("/Font <<"),mt)mt.hasOwnProperty(P)&&(A===!1||A===!0&&h.hasOwnProperty(P))&&q("/"+P+" "+mt[P].objectNumber+" 0 R");q(">>")},Pj=function(){if(Object.keys(tr).length>0){for(var P in q("/Shading <<"),tr)tr.hasOwnProperty(P)&&tr[P]instanceof ou&&tr[P].objectNumber>=0&&q("/"+P+" "+tr[P].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),q(">>")}},yA=function(P){if(Object.keys(tr).length>0){for(var W in q("/Pattern <<"),tr)tr.hasOwnProperty(W)&&tr[W]instanceof f.TilingPattern&&tr[W].objectNumber>=0&&tr[W].objectNumber<P&&q("/"+W+" "+tr[W].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),q(">>")}},Tj=function(){if(Object.keys(Jr).length>0){var P;for(P in q("/ExtGState <<"),Jr)Jr.hasOwnProperty(P)&&Jr[P].objectNumber>=0&&q("/"+P+" "+Jr[P].objectNumber+" 0 R");rr.publish("putGStateDict"),q(">>")}},on=function(P){Na(P.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Tx(),Pj(),yA(P.objectOid),Tj(),bm(),q(">>"),q("endobj")},Ox=function(){var P=[];mA(),kj(),gA(),xA(P),rr.publish("putResources"),P.forEach(on),on({resourcesOid:Ei,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources")},Ix=function(){rr.publish("putAdditionalObjects");for(var P=0;P<ce.length;P++){var W=ce[P];Na(W.objId,!0),q(W.content),q("endobj")}rr.publish("postPutAdditionalObjects")},Lx=function(P){Wt[P.fontName]=Wt[P.fontName]||{},Wt[P.fontName][P.fontStyle]=P.id},wm=function(P,W,fe,we,Fe){var Qe={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:P,fontName:W,fontStyle:fe,encoding:we,isStandardFont:Fe||!1,metadata:{}};return rr.publish("addFont",{font:Qe,instance:this}),mt[Qe.id]=Qe,Lx(Qe),Qe.id},Oj=function(P){for(var W=0,fe=ke.length;W<fe;W++){var we=wm.call(this,P[W][0],P[W][1],P[W][2],ke[W][3],!0);A===!1&&(h[we]=!0);var Fe=P[W][0].split("-");Lx({id:we,fontName:Fe[0],fontStyle:Fe[1]||""})}rr.publish("addFonts",{fonts:mt,dictionary:Wt})},Pi=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(we){var W=we.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var fe="Error in function "+W.split(`
`)[0].split("<")[0]+": "+we.message;if(!jt.console)throw new Error(fe);jt.console.error(fe,we),jt.alert&&alert(fe)}},P.foo.bar=P,P.foo},vA=function(P,W){var fe,we,Fe,Qe,Ge,rt,ht,Lt,Tt;if(Fe=(W=W||{}).sourceEncoding||"Unicode",Ge=W.outputEncoding,(W.autoencode||Ge)&&mt[xe].metadata&&mt[xe].metadata[Fe]&&mt[xe].metadata[Fe].encoding&&(Qe=mt[xe].metadata[Fe].encoding,!Ge&&mt[xe].encoding&&(Ge=mt[xe].encoding),!Ge&&Qe.codePages&&(Ge=Qe.codePages[0]),typeof Ge=="string"&&(Ge=Qe[Ge]),Ge)){for(ht=!1,rt=[],fe=0,we=P.length;fe<we;fe++)(Lt=Ge[P.charCodeAt(fe)])?rt.push(String.fromCharCode(Lt)):rt.push(P[fe]),rt[fe].charCodeAt(0)>>8&&(ht=!0);P=rt.join("")}for(fe=P.length;ht===void 0&&fe!==0;)P.charCodeAt(fe-1)>>8&&(ht=!0),fe--;if(!ht)return P;for(rt=W.noBOM?[]:[254,255],fe=0,we=P.length;fe<we;fe++){if((Tt=(Lt=P.charCodeAt(fe))>>8)>>8)throw new Error("Character at position "+fe+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(Tt),rt.push(Lt-(Tt<<8))}return String.fromCharCode.apply(void 0,rt)},sa=f.__private__.pdfEscape=f.pdfEscape=function(P,W){return vA(P,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jm=f.__private__.beginPage=function(P){Z[++Zr]=[],Pt[Zr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Dx(Zr),ye(Z[M])},Mx=function(P,W){var fe,we,Fe;switch(r=W||r,typeof P=="string"&&(fe=p(P.toLowerCase()),Array.isArray(fe)&&(we=fe[0],Fe=fe[1])),Array.isArray(P)&&(we=P[0]*Se,Fe=P[1]*Se),isNaN(we)&&(we=a[0],Fe=a[1]),(we>14400||Fe>14400)&&(vr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Fe=Math.min(14400,Fe)),a=[we,Fe],r.substr(0,1)){case"l":Fe>we&&(a=[Fe,we]);break;case"p":we>Fe&&(a=[Fe,we])}jm(a),zx(Sm),q(Ti),Em!==0&&q(Em+" J"),km!==0&&q(km+" j"),rr.publish("addPage",{pageNumber:Zr})},Ij=function(P){P>0&&P<=Zr&&(Z.splice(P,1),Pt.splice(P,1),Zr--,M>Zr&&(M=Zr),this.setPage(M))},Dx=function(P){P>0&&P<=Zr&&(M=P)},Lj=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Z.length-1},Ux=function(P,W,fe){var we,Fe=void 0;return fe=fe||{},P=P!==void 0?P:mt[xe].fontName,W=W!==void 0?W:mt[xe].fontStyle,we=P.toLowerCase(),Wt[we]!==void 0&&Wt[we][W]!==void 0?Fe=Wt[we][W]:Wt[P]!==void 0&&Wt[P][W]!==void 0?Fe=Wt[P][W]:fe.disableWarning===!1&&vr.warn("Unable to look up font label for font '"+P+"', '"+W+"'. Refer to getFontList() for available fonts."),Fe||fe.noFallback||(Fe=Wt.times[W])==null&&(Fe=Wt.times.normal),Fe},Mj=f.__private__.putInfo=function(){var P=On(),W=function(we){return we};for(var fe in u!==null&&(W=ps.encryptor(P,0)),q("<<"),q("/Producer ("+sa(W("jsPDF "+At.version))+")"),ve)ve.hasOwnProperty(fe)&&ve[fe]&&q("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+sa(W(ve[fe]))+")");q("/CreationDate ("+sa(W(Q))+")"),q(">>"),q("endobj")},Nm=f.__private__.putCatalog=function(P){var W=(P=P||{}).rootDictionaryObjId||Wo;switch(On(),q("<<"),q("/Type /Catalog"),q("/Pages "+W+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+Ie;fe.substr(fe.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&q("/OpenAction [3 0 R /XYZ null null "+T(Ie)+"]")}switch(ue||(ue="continuous"),ue){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}$e&&q("/PageMode /"+$e),rr.publish("putCatalog"),q(">>"),q("endobj")},Dj=f.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(ae+1)),q("/Root "+ae+" 0 R"),q("/Info "+(ae-1)+" 0 R"),u!==null&&q("/Encrypt "+ps.oid+" 0 R"),q("/ID [ <"+D+"> <"+D+"> ]"),q(">>")},Uj=f.__private__.putHeader=function(){q("%PDF-"+g),q("%ºß¬à")},Rj=f.__private__.putXRef=function(){var P="0000000000";q("xref"),q("0 "+(ae+1)),q("0000000000 65535 f ");for(var W=1;W<=ae;W++)typeof Ae[W]=="function"?q((P+Ae[W]()).slice(-10)+" 00000 n "):Ae[W]!==void 0?q((P+Ae[W]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},Go=f.__private__.buildDocument=function(){Re(),ye(re),rr.publish("buildDocument"),Uj(),Sd(),Ix(),Ox(),u!==null&&Fj(),Mj(),Nm();var P=ie;return Rj(),Dj(),q("startxref"),q(""+P),q("%%EOF"),ye(Z[M]),re.join(`
`)},bA=f.__private__.getBlob=function(P){return new Blob([Oe(P)],{type:"application/pdf"})},wA=f.output=f.__private__.output=Pi(function(P,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",P){case void 0:return Go();case"save":f.save(W.filename);break;case"arraybuffer":return Oe(Go());case"blob":return bA(Go());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(bA(Go()))||void 0;vr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",we=Go();try{fe=B4(we)}catch{fe=B4(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+W.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Fe=W.pdfObjectUrl,Qe="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",rt=jt.open();return rt!==null&&rt.document.write(Ge),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',Lt=jt.open();if(Lt!==null){Lt.document.write(ht);var Tt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=W.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',zr=jt.open();if(zr!==null&&(zr.document.write(Kt),zr.document.title=W.filename),zr||typeof safari>"u")return zr;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",W);default:return null}}),Rx=function(P){return Array.isArray(Cd)===!0&&Cd.indexOf(P)>-1};switch(n){case"pt":Se=1;break;case"mm":Se=72/25.4;break;case"cm":Se=72/2.54;break;case"in":Se=72;break;case"px":Se=Rx("px_scaling")==1?.75:96/72;break;case"pc":case"em":Se=12;break;case"ex":Se=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Se=n}var ps=null;X(),R();var Qj=function(P){return u!==null?ps.encryptor(P,0):function(W){return W}},Qx=f.__private__.getPageInfo=f.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[P].objId,pageNumber:P,pageContext:Pt[P]}},Ft=f.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Pt)if(Pt[W].objId===P)break;return Qx(W)},$j=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Pt[M].objId,pageNumber:M,pageContext:Pt[M]}};f.addPage=function(){return Mx.apply(this,arguments),this},f.setPage=function(){return Dx.apply(this,arguments),ye.call(this,Z[M]),this},f.insertPage=function(P){return this.addPage(),this.movePage(M,P),this},f.movePage=function(P,W){var fe,we;if(P>W){fe=Z[P],we=Pt[P];for(var Fe=P;Fe>W;Fe--)Z[Fe]=Z[Fe-1],Pt[Fe]=Pt[Fe-1];Z[W]=fe,Pt[W]=we,this.setPage(W)}else if(P<W){fe=Z[P],we=Pt[P];for(var Qe=P;Qe<W;Qe++)Z[Qe]=Z[Qe+1],Pt[Qe]=Pt[Qe+1];Z[W]=fe,Pt[W]=we,this.setPage(W)}return this},f.deletePage=function(){return Ij.apply(this,arguments),this},f.__private__.text=f.text=function(P,W,fe,we,Fe){var Qe,Ge,rt,ht,Lt,Tt,Kt,zr,en,vn=(we=we||{}).scope||this;if(typeof P=="number"&&typeof W=="number"&&(typeof fe=="string"||Array.isArray(fe))){var gs=fe;fe=W,W=P,P=gs}if(arguments[3]instanceof yt?(C("The transform parameter of text() with a Matrix value"),en=Fe):(rt=arguments[4],ht=arguments[5],Ar(Kt=arguments[3])==="object"&&Kt!==null||(typeof rt=="string"&&(ht=rt,rt=null),typeof Kt=="string"&&(ht=Kt,Kt=null),typeof Kt=="number"&&(rt=Kt,Kt=null),we={flags:Kt,angle:rt,align:ht})),isNaN(W)||isNaN(fe)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return vn;var Kn="",Oi=!1,_a=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Ed,yo=vn.internal.scaleFactor;function Xx(jr){return jr=jr.split("	").join(Array(we.TabLen||9).join(" ")),sa(jr,Kt)}function Im(jr){for(var Nr,cn=jr.concat(),In=[],el=cn.length;el--;)typeof(Nr=cn.shift())=="string"?In.push(Nr):Array.isArray(jr)&&(Nr.length===1||Nr[1]===void 0&&Nr[2]===void 0)?In.push(Nr[0]):In.push([Nr[0],Nr[1],Nr[2]]);return In}function Lm(jr,Nr){var cn;if(typeof jr=="string")cn=Nr(jr)[0];else if(Array.isArray(jr)){for(var In,el,zm=jr.concat(),MA=[],ty=zm.length;ty--;)typeof(In=zm.shift())=="string"?MA.push(Nr(In)[0]):Array.isArray(In)&&typeof In[0]=="string"&&(el=Nr(In[0],In[1],In[2]),MA.push([el[0],el[1],el[2]]));cn=MA}return cn}var BA=!1,Mm=!0;if(typeof P=="string")BA=!0;else if(Array.isArray(P)){var Dm=P.concat();Ge=[];for(var EA,as=Dm.length;as--;)(typeof(EA=Dm.shift())!="string"||Array.isArray(EA)&&typeof EA[0]!="string")&&(Mm=!1);BA=Mm}if(BA===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var kA=Le/vn.internal.scaleFactor,FA=kA*(_a-1);switch(we.baseline){case"bottom":fe-=FA;break;case"top":fe+=kA-FA;break;case"hanging":fe+=kA-2*FA;break;case"middle":fe+=kA/2-FA}if((Tt=we.maxWidth||0)>0&&(typeof P=="string"?P=vn.splitTextToSize(P,Tt):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(jr,Nr){return jr.concat(vn.splitTextToSize(Nr,Tt))},[]))),Qe={text:P,x:W,y:fe,options:we,mutex:{pdfEscape:sa,activeFontKey:xe,fonts:mt,activeFontSize:Le}},rr.publish("preProcessText",Qe),P=Qe.text,rt=(we=Qe.options).angle,!(en instanceof yt)&&rt&&typeof rt=="number"){rt*=Math.PI/180,we.rotationDirection===0&&(rt=-rt),w===y.ADVANCED&&(rt=-rt);var PA=Math.cos(rt),Um=Math.sin(rt);en=new yt(PA,Um,-Um,PA,0,0)}else rt&&rt instanceof yt&&(en=rt);w!==y.ADVANCED||en||(en=fo),(Lt=we.charSpace||_A)!==void 0&&(Kn+=F(N(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zr=we.horizontalScale)!==void 0&&(Kn+=F(100*zr)+` Tz
`),we.lang;var aa=-1,Jj=we.renderingMode!==void 0?we.renderingMode:we.stroke,Rm=vn.internal.getCurrentPageInfo().pageContext;switch(Jj){case 0:case!1:case"fill":aa=0;break;case 1:case!0:case"stroke":aa=1;break;case 2:case"fillThenStroke":aa=2;break;case 3:case"invisible":aa=3;break;case 4:case"fillAndAddForClipping":aa=4;break;case 5:case"strokeAndAddPathForClipping":aa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":aa=6;break;case 7:case"addToPathForClipping":aa=7}var Yx=Rm.usedRenderingMode!==void 0?Rm.usedRenderingMode:-1;aa!==-1?Kn+=aa+` Tr
`:Yx!==-1&&(Kn+=`0 Tr
`),aa!==-1&&(Rm.usedRenderingMode=aa),ht=we.align||"left";var Va,TA=Le*_a,Jx=vn.internal.pageSize.getWidth(),Zx=mt[xe];Lt=we.charSpace||_A,Tt=we.maxWidth||0,Kt=Object.assign({autoencode:!0,noBOM:!0},we.flags);var nc=[],Pd=function(jr){return vn.getStringUnitWidth(jr,{font:Zx,charSpace:Lt,fontSize:Le,doKerning:!1})*Le/yo};if(Object.prototype.toString.call(P)==="[object Array]"){var ia;Ge=Im(P),ht!=="left"&&(Va=Ge.map(Pd));var Rs,sc=0;if(ht==="right"){W-=Va[0],P=[],as=Ge.length;for(var Yo=0;Yo<as;Yo++)Yo===0?(Rs=xo(W),ia=Xo(fe)):(Rs=N(sc-Va[Yo]),ia=-TA),P.push([Ge[Yo],Rs,ia]),sc=Va[Yo]}else if(ht==="center"){W-=Va[0]/2,P=[],as=Ge.length;for(var Jo=0;Jo<as;Jo++)Jo===0?(Rs=xo(W),ia=Xo(fe)):(Rs=N((sc-Va[Jo])/2),ia=-TA),P.push([Ge[Jo],Rs,ia]),sc=Va[Jo]}else if(ht==="left"){P=[],as=Ge.length;for(var OA=0;OA<as;OA++)P.push(Ge[OA])}else if(ht==="justify"&&Zx.encoding==="Identity-H"){P=[],as=Ge.length,Tt=Tt!==0?Tt:Jx;for(var Zo=0,ln=0;ln<as;ln++)if(ia=ln===0?Xo(fe):-TA,Rs=ln===0?xo(W):Zo,ln<as-1){var Qm=N((Tt-Va[ln])/(Ge[ln].split(" ").length-1)),Qs=Ge[ln].split(" ");P.push([Qs[0]+" ",Rs,ia]),Zo=0;for(var Ka=1;Ka<Qs.length;Ka++){var IA=(Pd(Qs[Ka-1]+" "+Qs[Ka])-Pd(Qs[Ka]))*yo+Qm;Ka==Qs.length-1?P.push([Qs[Ka],IA,0]):P.push([Qs[Ka]+" ",IA,0]),Zo-=IA}}else P.push([Ge[ln],Rs,ia]);P.push(["",Zo,0])}else{if(ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],as=Ge.length,Tt=Tt!==0?Tt:Jx,ln=0;ln<as;ln++)ia=ln===0?Xo(fe):-TA,Rs=ln===0?xo(W):0,ln<as-1?nc.push(F(N((Tt-Va[ln])/(Ge[ln].split(" ").length-1)))):nc.push(0),P.push([Ge[ln],Rs,ia])}}var ey=typeof we.R2L=="boolean"?we.R2L:he;ey===!0&&(P=Lm(P,function(jr,Nr,cn){return[jr.split("").reverse().join(""),Nr,cn]})),Qe={text:P,x:W,y:fe,options:we,mutex:{pdfEscape:sa,activeFontKey:xe,fonts:mt,activeFontSize:Le}},rr.publish("postProcessText",Qe),P=Qe.text,Oi=Qe.mutex.isHex||!1;var $m=mt[xe].encoding;$m!=="WinAnsiEncoding"&&$m!=="StandardEncoding"||(P=Lm(P,function(jr,Nr,cn){return[Xx(jr),Nr,cn]})),Ge=Im(P),P=[];for(var Td,Od,ac,Id=0,LA=1,Ld=Array.isArray(Ge[0])?LA:Id,ic="",Hm=function(jr,Nr,cn){var In="";return cn instanceof yt?(cn=typeof we.angle=="number"?Bi(cn,new yt(1,0,0,1,jr,Nr)):Bi(new yt(1,0,0,1,jr,Nr),cn),w===y.ADVANCED&&(cn=Bi(new yt(1,0,0,-1,0,0),cn)),In=cn.join(" ")+` Tm
`):In=F(jr)+" "+F(Nr)+` Td
`,In},Wa=0;Wa<Ge.length;Wa++){switch(ic="",Ld){case LA:ac=(Oi?"<":"(")+Ge[Wa][0]+(Oi?">":")"),Td=parseFloat(Ge[Wa][1]),Od=parseFloat(Ge[Wa][2]);break;case Id:ac=(Oi?"<":"(")+Ge[Wa]+(Oi?">":")"),Td=xo(W),Od=Xo(fe)}nc!==void 0&&nc[Wa]!==void 0&&(ic=nc[Wa]+` Tw
`),Wa===0?P.push(ic+Hm(Td,Od,en)+ac):Ld===Id?P.push(ic+ac):Ld===LA&&P.push(ic+Hm(Td,Od,en)+ac)}P=Ld===Id?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Ga=`BT
/`;return Ga+=xe+" "+Le+` Tf
`,Ga+=F(Le*_a)+` TL
`,Ga+=kd+`
`,Ga+=Kn,Ga+=P,q(Ga+="ET"),h[xe]=!0,vn};var Hj=f.__private__.clip=f.clip=function(P){return q(P==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Hj("evenodd")},f.__private__.discardPath=f.discardPath=function(){return q("n"),this};var go=f.__private__.isValidStyle=function(P){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(W=!0),W};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(P){return go(P)&&(d=P),this};var $x=f.__private__.getStyle=f.getStyle=function(P){var W=d;switch(P){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=P}return W},Hx=f.close=function(){return q("h"),this};f.stroke=function(){return q("S"),this},f.fill=function(P){return jA("f",P),this},f.fillEvenOdd=function(P){return jA("f*",P),this},f.fillStroke=function(P){return jA("B",P),this},f.fillStrokeEvenOdd=function(P){return jA("B*",P),this};var jA=function(P,W){Ar(W)==="object"?qj(W,P):q(P)},_m=function(P){P===null||w===y.ADVANCED&&P===void 0||(P=$x(P),q(P))};function zj(P,W,fe,we,Fe){var Qe=new Th(W||this.boundingBox,fe||this.xStep,we||this.yStep,this.gState,Fe||this.matrix);Qe.stream=this.stream;var Ge=P+"$$"+this.cloneIndex+++"$$";return na(Ge,Qe),Qe}var qj=function(P,W){var fe=_d[P.key],we=tr[fe];if(we instanceof ou)q("q"),q(Vj(W)),we.gState&&f.setGState(we.gState),q(P.matrix.toString()+" cm"),q("/"+fe+" sh"),q("Q");else if(we instanceof Th){var Fe=new yt(1,0,0,-1,0,rc());P.matrix&&(Fe=Fe.multiply(P.matrix||fo),fe=zj.call(we,P.key,P.boundingBox,P.xStep,P.yStep,Fe).id),q("q"),q("/Pattern cs"),q("/"+fe+" scn"),we.gState&&f.setGState(we.gState),q(W),q("Q")}},Vj=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Cm=f.moveTo=function(P,W){return q(F(N(P))+" "+F(L(W))+" m"),this},Bd=f.lineTo=function(P,W){return q(F(N(P))+" "+F(L(W))+" l"),this},ec=f.curveTo=function(P,W,fe,we,Fe,Qe){return q([F(N(P)),F(L(W)),F(N(fe)),F(L(we)),F(N(Fe)),F(L(Qe)),"c"].join(" ")),this};f.__private__.line=f.line=function(P,W,fe,we,Fe){if(isNaN(P)||isNaN(W)||isNaN(fe)||isNaN(we)||!go(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[fe-P,we-W]],P,W,[1,1],Fe||"S"):this.lines([[fe-P,we-W]],P,W,[1,1]).stroke()},f.__private__.lines=f.lines=function(P,W,fe,we,Fe,Qe){var Ge,rt,ht,Lt,Tt,Kt,zr,en,vn,gs,Kn,Oi;if(typeof P=="number"&&(Oi=fe,fe=W,W=P,P=Oi),we=we||[1,1],Qe=Qe||!1,isNaN(W)||isNaN(fe)||!Array.isArray(P)||!Array.isArray(we)||!go(Fe)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cm(W,fe),Ge=we[0],rt=we[1],Lt=P.length,gs=W,Kn=fe,ht=0;ht<Lt;ht++)(Tt=P[ht]).length===2?(gs=Tt[0]*Ge+gs,Kn=Tt[1]*rt+Kn,Bd(gs,Kn)):(Kt=Tt[0]*Ge+gs,zr=Tt[1]*rt+Kn,en=Tt[2]*Ge+gs,vn=Tt[3]*rt+Kn,gs=Tt[4]*Ge+gs,Kn=Tt[5]*rt+Kn,ec(Kt,zr,en,vn,gs,Kn));return Qe&&Hx(),_m(Fe),this},f.path=function(P){for(var W=0;W<P.length;W++){var fe=P[W],we=fe.c;switch(fe.op){case"m":Cm(we[0],we[1]);break;case"l":Bd(we[0],we[1]);break;case"c":ec.apply(this,we);break;case"h":Hx()}}return this},f.__private__.rect=f.rect=function(P,W,fe,we,Fe){if(isNaN(P)||isNaN(W)||isNaN(fe)||isNaN(we)||!go(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(we=-we),q([F(N(P)),F(L(W)),F(N(fe)),F(N(we)),"re"].join(" ")),_m(Fe),this},f.__private__.triangle=f.triangle=function(P,W,fe,we,Fe,Qe,Ge){if(isNaN(P)||isNaN(W)||isNaN(fe)||isNaN(we)||isNaN(Fe)||isNaN(Qe)||!go(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-P,we-W],[Fe-fe,Qe-we],[P-Fe,W-Qe]],P,W,[1,1],Ge,!0),this},f.__private__.roundedRect=f.roundedRect=function(P,W,fe,we,Fe,Qe,Ge){if(isNaN(P)||isNaN(W)||isNaN(fe)||isNaN(we)||isNaN(Fe)||isNaN(Qe)||!go(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*fe),Qe=Math.min(Qe,.5*we),this.lines([[fe-2*Fe,0],[Fe*rt,0,Fe,Qe-Qe*rt,Fe,Qe],[0,we-2*Qe],[0,Qe*rt,-Fe*rt,Qe,-Fe,Qe],[2*Fe-fe,0],[-Fe*rt,0,-Fe,-Qe*rt,-Fe,-Qe],[0,2*Qe-we],[0,-Qe*rt,Fe*rt,-Qe,Fe,-Qe]],P+Fe,W,[1,1],Ge,!0),this},f.__private__.ellipse=f.ellipse=function(P,W,fe,we,Fe){if(isNaN(P)||isNaN(W)||isNaN(fe)||isNaN(we)||!go(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*fe,Ge=4/3*(Math.SQRT2-1)*we;return Cm(P+fe,W),ec(P+fe,W-Ge,P+Qe,W-we,P,W-we),ec(P-Qe,W-we,P-fe,W-Ge,P-fe,W),ec(P-fe,W+Ge,P-Qe,W+we,P,W+we),ec(P+Qe,W+we,P+fe,W+Ge,P+fe,W),_m(Fe),this},f.__private__.circle=f.circle=function(P,W,fe,we){if(isNaN(P)||isNaN(W)||isNaN(fe)||!go(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,W,fe,fe,we)},f.setFont=function(P,W,fe){return fe&&(W=_(W,fe)),xe=Ux(P,W,{disableWarning:!1}),this};var Kj=f.__private__.getFont=f.getFont=function(){return mt[Ux.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var P,W,fe={};for(P in Wt)if(Wt.hasOwnProperty(P))for(W in fe[P]=[],Wt[P])Wt[P].hasOwnProperty(W)&&fe[P].push(W);return fe},f.addFont=function(P,W,fe,we,Fe){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(fe=_(fe,we)),Fe=Fe||"Identity-H",wm.call(this,P,W,fe,Fe)};var Ed,Sm=t.lineWidth||.200025,NA=f.__private__.getLineWidth=f.getLineWidth=function(){return Sm},zx=f.__private__.setLineWidth=f.setLineWidth=function(P){return Sm=P,q(F(N(P))+" w"),this};f.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(P,W){if(P=P||[],W=W||0,isNaN(W)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(fe){return F(N(fe))}).join(" "),W=F(N(W)),q("["+P+"] "+W+" d"),this};var qx=f.__private__.getLineHeight=f.getLineHeight=function(){return Le*Ed};f.__private__.getLineHeight=f.getLineHeight=function(){return Le*Ed};var Vx=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Ed=P),this},Kx=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ed};Vx(t.lineHeight);var xo=f.__private__.getHorizontalCoordinate=function(P){return N(P)},Xo=f.__private__.getVerticalCoordinate=function(P){return w===y.ADVANCED?P:Pt[M].mediaBox.topRightY-Pt[M].mediaBox.bottomLeftY-N(P)},Wj=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(P){return F(xo(P))},tc=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(P){return F(Xo(P))},Ti=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ki(Ti)},f.__private__.setStrokeColor=f.setDrawColor=function(P,W,fe,we){return Ti=Fi({ch1:P,ch2:W,ch3:fe,ch4:we,pdfColorType:"draw",precision:2}),q(Ti),this};var Bm=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ki(Bm)},f.__private__.setFillColor=f.setFillColor=function(P,W,fe,we){return Bm=Fi({ch1:P,ch2:W,ch3:fe,ch4:we,pdfColorType:"fill",precision:2}),q(Bm),this};var kd=t.textColor||"0 g",Gj=f.__private__.getTextColor=f.getTextColor=function(){return ki(kd)};f.__private__.setTextColor=f.setTextColor=function(P,W,fe,we){return kd=Fi({ch1:P,ch2:W,ch3:fe,ch4:we,pdfColorType:"text",precision:3}),this};var _A=t.charSpace,Xj=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(_A||0)};f.__private__.setCharSpace=f.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _A=P,this};var Em=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(P){var W=f.CapJoinStyles[P];if(W===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Em=W,q(W+" J"),this};var km=0;f.__private__.setLineJoin=f.setLineJoin=function(P){var W=f.CapJoinStyles[P];if(W===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return km=W,q(W+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(F(N(P))+" M"),this},f.GState=dw,f.setGState=function(P){(P=typeof P=="string"?Jr[Si[P]]:Wx(null,P)).equals(Ko)||(q("/"+P.id+" gs"),Ko=P)};var Wx=function(P,W){if(!P||!Si[P]){var fe=!1;for(var we in Jr)if(Jr.hasOwnProperty(we)&&Jr[we].equals(W)){fe=!0;break}if(fe)W=Jr[we];else{var Fe="GS"+(Object.keys(Jr).length+1).toString(10);Jr[Fe]=W,W.id=Fe}return P&&(Si[P]=W.id),rr.publish("addGState",W),W}};f.addGState=function(P,W){return Wx(P,W),this},f.saveGraphicsState=function(){return q("q"),ms.push({key:xe,size:Le,color:kd}),this},f.restoreGraphicsState=function(){q("Q");var P=ms.pop();return xe=P.key,Le=P.size,kd=P.color,Ko=null,this},f.setCurrentTransformationMatrix=function(P){return q(P.toString()+" cm"),this},f.comment=function(P){return q("#"+P),this};var CA=function(P,W){var fe=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Qe){isNaN(Qe)||(fe=parseFloat(Qe))}});var we=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Qe){isNaN(Qe)||(we=parseFloat(Qe))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Qe){Fe=Qe.toString()}}),this},Fm=function(P,W,fe,we){CA.call(this,P,W),this.type="rect";var Fe=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(Ge){isNaN(Ge)||(Fe=parseFloat(Ge))}});var Qe=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(Ge){isNaN(Ge)||(Qe=parseFloat(Ge))}}),this},Pm=function(){this.page=Zr,this.currentPage=M,this.pages=Z.slice(0),this.pagesContext=Pt.slice(0),this.x=et,this.y=ze,this.matrix=ft,this.width=Fd(M),this.height=rc(M),this.outputDestination=Me,this.id="",this.objectNumber=-1};Pm.prototype.restore=function(){Zr=this.page,M=this.currentPage,Pt=this.pagesContext,Z=this.pages,et=this.x,ze=this.y,ft=this.matrix,Tm(M,this.width),Om(M,this.height),Me=this.outputDestination};var Gx=function(P,W,fe,we,Fe){ho.push(new Pm),Zr=M=0,Z=[],et=P,ze=W,ft=Fe,jm([fe,we])},Yj=function(P){if(Ao[P])ho.pop().restore();else{var W=new Pm,fe="Xo"+(Object.keys(ss).length+1).toString(10);W.id=fe,Ao[P]=fe,ss[fe]=W,rr.publish("addFormObject",W),ho.pop().restore()}};for(var SA in f.beginFormObject=function(P,W,fe,we,Fe){return Gx(P,W,fe,we,Fe),this},f.endFormObject=function(P){return Yj(P),this},f.doFormObject=function(P,W){var fe=ss[Ao[P]];return q("q"),q(W.toString()+" cm"),q("/"+fe.id+" Do"),q("Q"),this},f.getFormObject=function(P){var W=ss[Ao[P]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},f.save=function(P,W){return P=P||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(Jd(bA(Go()),P),typeof Jd.unload=="function"&&jt.setTimeout&&setTimeout(Jd.unload,911),this):new Promise(function(fe,we){try{var Fe=Jd(bA(Go()),P);typeof Jd.unload=="function"&&jt.setTimeout&&setTimeout(Jd.unload,911),fe(Fe)}catch(Qe){we(Qe.message)}})},At.API)At.API.hasOwnProperty(SA)&&(SA==="events"&&At.API.events.length?function(P,W){var fe,we,Fe;for(Fe=W.length-1;Fe!==-1;Fe--)fe=W[Fe][0],we=W[Fe][1],P.subscribe.apply(P,[fe].concat(typeof we=="function"?[we]:we))}(rr,At.API.events):f[SA]=At.API[SA]);var Fd=f.getPageWidth=function(P){return(Pt[P=P||M].mediaBox.topRightX-Pt[P].mediaBox.bottomLeftX)/Se},Tm=f.setPageWidth=function(P,W){Pt[P].mediaBox.topRightX=W*Se+Pt[P].mediaBox.bottomLeftX},rc=f.getPageHeight=function(P){return(Pt[P=P||M].mediaBox.topRightY-Pt[P].mediaBox.bottomLeftY)/Se},Om=f.setPageHeight=function(P,W){Pt[P].mediaBox.topRightY=W*Se+Pt[P].mediaBox.bottomLeftY};return f.internal={pdfEscape:sa,getStyle:$x,getFont:Kj,getFontSize:Be,getCharSpace:Xj,getTextColor:Gj,getLineHeight:qx,getLineHeightFactor:Kx,getLineWidth:NA,write:Ee,getHorizontalCoordinate:xo,getVerticalCoordinate:Xo,getCoordinateString:Wj,getVerticalCoordinateString:tc,collections:{},newObject:On,newAdditionalObject:hA,newObjectDeferred:yn,newObjectDeferredBegin:Na,getFilters:mo,putStream:qa,events:rr,scaleFactor:Se,pageSize:{getWidth:function(){return Fd(M)},setWidth:function(P){Tm(M,P)},getHeight:function(){return rc(M)},setHeight:function(P){Om(M,P)}},encryptionOptions:u,encryption:ps,getEncryptor:Qj,output:wA,getNumberOfPages:Lj,pages:Z,out:q,f2:T,f3:v,getPageInfo:Qx,getPageInfoByObjId:Ft,getCurrentPageInfo:$j,getPDFVersion:x,Point:CA,Rectangle:Fm,Matrix:yt,hasHotfix:Rx},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Fd(M)},set:function(P){Tm(M,P)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return rc(M)},set:function(P){Om(M,P)},enumerable:!0,configurable:!0}),Oj.call(f,ke),xe="F1",Mx(a,r),rr.publish("initialized"),f}uh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},uh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uh.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},uh.prototype.processOwnerPassword=function(t,e){return k4(E4(e).substr(0,5),t)},uh.prototype.encryptor=function(t,e){var r=E4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return k4(r,n)}},dw.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ar(t)!==Ar(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},At.API={events:[]},At.version="2.5.2";var rn=At.API,TE=1,iA=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},GA=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},gc=function(t){return t.toFixed(5)};rn.__acroform__={};var wa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rO=function(t){return t*TE},No=function(t){var e=new sH,r=ct.internal.getHeight(t)||0,n=ct.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(n)),Number(Ot(r))],e},lue=rn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},cue=rn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},due=rn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},fn=rn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return due(t,e-1)},mn=rn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lue(t,e-1)},pn=rn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cue(t,e-1)},uue=rn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Ot(c.lowerLeft_X)),Number(Ot(c.lowerLeft_Y)),Number(Ot(c.upperRight_X)),Number(Ot(c.upperRight_Y))]},Aue=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=F4(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Ot(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=No(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},F4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(v){return v.split(`
`)}):a.map(function(v){return[v]});var i=r,o=ct.internal.getHeight(t)||0;o=o<0?-o:o;var l=ct.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(v,N,O){if(v+1<a.length){var L=N+" "+a[v+1][0];return Ky(L,t,O).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,A=Ky("3",t,i).height,h=t.multiline?o-i:(o-A)/2,f=h+=2,g=0,x=0,m=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ky(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var p="",y=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var S=!1;if(a[w].length!==1&&m!==a[w].length-1){if((A+2)*(y+2)+2>o)continue e;p+=a[w][m],S=!0,x=w,w--}else{p=(p+=a[w][m]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var j=parseInt(w),_=c(j,p,i),F=w>=a.length-1;if(_&&!F){p+=" ",m=0;continue}if(_||F){if(F)x=j;else if(t.multiline&&(A+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(A+2)*(y+2)+2>o)continue e;x=j}}for(var C="",E=g;E<=x;E++){var T=a[E];if(t.multiline){if(E===x){C+=T[m]+" ",m=(m+1)%T.length;continue}if(E===g){C+=T[T.length-1]+" ";continue}}C+=T[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=Ky(C,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}e+=Ot(d)+" "+Ot(f)+` Td
`,e+="("+iA(C)+`) Tj
`,e+=-Ot(d)+` 0 Td
`,f=-(i+2),u=0,g=S?x:x+1,y++,p=""}break}return n.text=e,n.fontSize=i,n},Ky=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},hue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fue=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},mue=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Ar(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},pue=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(io.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(hue)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new aH,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&fue(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=uue(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ct.createDefaultAppearanceStream(l),Ar(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Aue(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var A="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var f=l.appearanceStreamContent[h];if(A+="/"+h+" ",A+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(a,l)),A+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(a,l)),A+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&mue(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},nH=rn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Ar(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+iA(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w_=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+iA(n(t))+")"},ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ko.prototype.toString=function(){return this.objId+" 0 R"},ko.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ko.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:nH(a,this.objId,this.scope)}):a instanceof ko?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var sH=function(){ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};wa(sH,ko);var aH=function(){ko.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+iA(r(t))+")"}},set:function(r){t=r}})};wa(aH,ko);var io=function t(){ko.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');e=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fn(e,3)},set:function(p){p?this.F=mn(e,3):this.F=pn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');r=p}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(p){n=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(p){n[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(p){n[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(p){n[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(p){n[3]=p}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof uw)return;i="FieldObject"+t.FieldNum++}var p=function(y){return y};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+iA(p(i))+")"},set:function(p){i=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(p){i=p}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(p){c=p}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/TE:d},set:function(p){d=p}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(p){u=p}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof uw||this instanceof Eu))return w_(A,this.objId,this.scope)},set:function(p){p=p.toString(),A=p}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Zn?h:w_(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=this instanceof Zn?p:p.substr(0,1)==="("?GA(p.substr(1,p.length-2)):GA(p)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zn?GA(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof Zn?"/"+p:p}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Zn?f:w_(f,this.objId,this.scope)},set:function(p){p=p.toString(),f=this instanceof Zn?p:p.substr(0,1)==="("?GA(p.substr(1,p.length-2)):GA(p)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zn?GA(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof Zn?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(p){p=!!p,x=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(p){g=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,1)},set:function(p){p?this.Ff=mn(this.Ff,1):this.Ff=pn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,2)},set:function(p){p?this.Ff=mn(this.Ff,2):this.Ff=pn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,3)},set:function(p){p?this.Ff=mn(this.Ff,3):this.Ff=pn(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');m=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(m){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};wa(io,ko);var Jh=function(){io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nH(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,18)},set:function(r){r?this.Ff=mn(this.Ff,18):this.Ff=pn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mn(this.Ff,19):this.Ff=pn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,20)},set:function(r){r?(this.Ff=mn(this.Ff,20),e.sort()):this.Ff=pn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,22)},set:function(r){r?this.Ff=mn(this.Ff,22):this.Ff=pn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,23)},set:function(r){r?this.Ff=mn(this.Ff,23):this.Ff=pn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,27)},set:function(r){r?this.Ff=mn(this.Ff,27):this.Ff=pn(this.Ff,27)}}),this.hasAppearanceStream=!1};wa(Jh,io);var Zh=function(){Jh.call(this),this.fontName="helvetica",this.combo=!1};wa(Zh,Jh);var ef=function(){Zh.call(this),this.combo=!0};wa(ef,Zh);var hb=function(){ef.call(this),this.edit=!0};wa(hb,ef);var Zn=function(){io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,15)},set:function(r){r?this.Ff=mn(this.Ff,15):this.Ff=pn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,16)},set:function(r){r?this.Ff=mn(this.Ff,16):this.Ff=pn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,17)},set:function(r){r?this.Ff=mn(this.Ff,17):this.Ff=pn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,26)},set:function(r){r?this.Ff=mn(this.Ff,26):this.Ff=pn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+iA(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ar(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};wa(Zn,io);var fb=function(){Zn.call(this),this.pushButton=!0};wa(fb,Zn);var tf=function(){Zn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};wa(tf,Zn);var uw=function(){var t,e;io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+iA(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Ar(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wa(uw,io),tf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},tf.prototype.createOption=function(t){var e=new uw;return e.Parent=this,e.optionName=t,this.Kids.push(e),gue.call(this.scope,e),e};var mb=function(){Zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};wa(mb,Zn);var Eu=function(){io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,13)},set:function(e){e?this.Ff=mn(this.Ff,13):this.Ff=pn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,21)},set:function(e){e?this.Ff=mn(this.Ff,21):this.Ff=pn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,23)},set:function(e){e?this.Ff=mn(this.Ff,23):this.Ff=pn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,24)},set:function(e){e?this.Ff=mn(this.Ff,24):this.Ff=pn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,25)},set:function(e){e?this.Ff=mn(this.Ff,25):this.Ff=pn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,26)},set:function(e){e?this.Ff=mn(this.Ff,26):this.Ff=pn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wa(Eu,io);var pb=function(){Eu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,14)},set:function(t){t?this.Ff=mn(this.Ff,14):this.Ff=pn(this.Ff,14)}}),this.password=!0};wa(pb,Eu);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=F4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ot(ct.internal.getWidth(t))+" "+Ot(ct.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ot(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=No(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=ct.internal.getHeight(t),o=ct.internal.getWidth(t),l=F4(t,t.caption);return a.push("1 g"),a.push("0 0 "+Ot(o)+" "+Ot(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ot(o-1)+" "+Ot(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ot(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(ct.internal.getWidth(t))+" "+Ot(ct.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Circle.YesNormal,e.D[t]=ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=No(t);e.scope=t.scope;var r=[],n=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=ct.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+gc(ct.internal.getWidth(t)/2)+" "+gc(ct.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[],n=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ct.internal.Bezier_C).toFixed(5)),o=Number((n*ct.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gc(ct.internal.getWidth(t)/2)+" "+gc(ct.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+gc(ct.internal.getWidth(t)/2)+" "+gc(ct.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[],n=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ct.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gc(ct.internal.getWidth(t)/2)+" "+gc(ct.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Cross.YesNormal,e.D[t]=ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=No(t);e.scope=t.scope;var r=[],n=ct.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ot(ct.internal.getWidth(t)-2)+" "+Ot(ct.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),r.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),r.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),r.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=No(t);e.scope=t.scope;var r=ct.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(ct.internal.getWidth(t))+" "+Ot(ct.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ot(ct.internal.getWidth(t)-2)+" "+Ot(ct.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),n.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),n.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),n.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=No(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(ct.internal.getWidth(t))+" "+Ot(ct.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ct.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ct.internal.getWidth(t),r=ct.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ct.internal.getWidth=function(t){var e=0;return Ar(t)==="object"&&(e=rO(t.Rect[2])),e},ct.internal.getHeight=function(t){var e=0;return Ar(t)==="object"&&(e=rO(t.Rect[3])),e};var gue=rn.addField=function(t){if(pue(this,t),!(t instanceof io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};rn.AcroFormChoiceField=Jh,rn.AcroFormListBox=Zh,rn.AcroFormComboBox=ef,rn.AcroFormEditBox=hb,rn.AcroFormButton=Zn,rn.AcroFormPushButton=fb,rn.AcroFormRadioButton=tf,rn.AcroFormCheckBox=mb,rn.AcroFormTextField=Eu,rn.AcroFormPasswordField=pb,rn.AcroFormAppearance=ct,rn.AcroForm={ChoiceField:Jh,ListBox:Zh,ComboBox:ef,EditBox:hb,Button:Zn,PushButton:fb,RadioButton:tf,CheckBox:mb,TextField:Eu,PasswordField:pb,Appearance:ct},At.AcroForm={ChoiceField:Jh,ListBox:Zh,ComboBox:ef,EditBox:hb,Button:Zn,PushButton:fb,RadioButton:tf,CheckBox:mb,TextField:Eu,PasswordField:pb,Appearance:ct};At.AcroForm;function iH(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(v,N){var O,L,Q,D,U,R=e;if((N=N||e)==="RGBA"||v.data!==void 0&&v.data instanceof Uint8ClampedArray&&"height"in v&&"width"in v)return"RGBA";if(_(v))for(U in r)for(Q=r[U],O=0;O<Q.length;O+=1){for(D=!0,L=0;L<Q[O].length;L+=1)if(Q[O][L]!==void 0&&Q[O][L]!==v[L]){D=!1;break}if(D===!0){R=U;break}}else for(U in r)for(Q=r[U],O=0;O<Q.length;O+=1){for(D=!0,L=0;L<Q[O].length;L+=1)if(Q[O][L]!==void 0&&Q[O][L]!==v.charCodeAt(L)){D=!1;break}if(D===!0){R=U;break}}return R===e&&N!==e&&(R=N),R},a=function v(N){for(var O=this.internal.write,L=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var D=[];if(D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Image"}),D.push({key:"Width",value:N.width}),D.push({key:"Height",value:N.height}),N.colorSpace===m.INDEXED?D.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(D.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===m.DEVICE_CMYK&&D.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),D.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&D.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var U="",R=0,z=N.transparency.length;R<z;R++)U+=N.transparency[R]+" "+N.transparency[R]+" ";D.push({key:"Mask",value:"["+U+"]"})}N.sMask!==void 0&&D.push({key:"SMask",value:N.objectId+1+" 0 R"});var Y=N.filter!==void 0?["/"+N.filter]:void 0;if(L({data:N.data,additionalKeyValues:D,alreadyAppliedFilters:Y,objectId:N.objectId}),O("endobj"),"sMask"in N&&N.sMask!==void 0){var X="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,$={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:X,data:N.sMask};"filter"in N&&($.filter=N.filter),v.call(this,$)}if(N.colorSpace===m.INDEXED){var M=this.internal.newObject();L({data:C(new Uint8Array(N.palette)),objectId:M}),O("endobj")}},i=function(){var v=this.internal.collections.addImage_images;for(var N in v)a.call(this,v[N])},o=function(){var v,N=this.internal.collections.addImage_images,O=this.internal.write;for(var L in N)O("/I"+(v=N[L]).index,v.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var v=this.internal.collections.addImage_images;return l.call(this),v},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(v){return typeof t["process"+v.toUpperCase()]=="function"},A=function(v){return Ar(v)==="object"&&v.nodeType===1},h=function(v,N){if(v.nodeName==="IMG"&&v.hasAttribute("src")){var O=""+v.getAttribute("src");if(O.indexOf("data:image/")===0)return fg(unescape(O).split("base64,").pop());var L=t.loadFile(O,!0);if(L!==void 0)return L}if(v.nodeName==="CANVAS"){if(v.width===0||v.height===0)throw new Error("Given canvas must have data. Canvas width: "+v.width+", height: "+v.height);var Q;switch(N){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;case"JPEG":case"JPG":default:Q="image/jpeg"}return fg(v.toDataURL(Q,1).split("base64,").pop())}},f=function(v){var N=this.internal.collections.addImage_images;if(N){for(var O in N)if(v===N[O].alias)return N[O]}},g=function(v,N,O){return v||N||(v=-96,N=-96),v<0&&(v=-1*O.width*72/v/this.internal.scaleFactor),N<0&&(N=-1*O.height*72/N/this.internal.scaleFactor),v===0&&(v=N*O.width/O.height),N===0&&(N=v*O.height/O.width),[v,N]},x=function(v,N,O,L,Q,D){var U=g.call(this,O,L,Q),R=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,Y=c.call(this);if(O=U[0],L=U[1],Y[Q.index]=Q,D){D*=Math.PI/180;var X=Math.cos(D),$=Math.sin(D),M=function(V){return V.toFixed(4)},G=[M(X),M($),M(-1*$),M(X),0,0,"cm"]}this.internal.write("q"),D?(this.internal.write([1,"0","0",1,R(v),z(N+L),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([R(O),"0","0",R(L),"0","0","cm"].join(" "))):this.internal.write([R(O),"0","0",R(L),R(v),z(N+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},m=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var p=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(v){var N,O,L=0;if(typeof v=="string")for(O=v.length,N=0;N<O;N++)L=(L<<5)-L+v.charCodeAt(N),L|=0;else if(_(v))for(O=v.byteLength/2,N=0;N<O;N++)L=(L<<5)-L+v[N],L|=0;return L},w=t.__addimage__.validateStringAsBase64=function(v){(v=v||"").toString().trim();var N=!0;return v.length===0&&(N=!1),v.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(v.substr(0,v.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(v.substr(-2))===!1&&(N=!1),N},S=t.__addimage__.extractImageFromDataUrl=function(v){var N=(v=v||"").split("base64,"),O=null;if(N.length===2){var L=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(N[0]);Array.isArray(L)&&(O={mimeType:L[1],charset:L[2],data:N[1]})}return O},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(v){return j()&&v instanceof ArrayBuffer};var _=t.__addimage__.isArrayBufferView=function(v){return j()&&typeof Uint32Array<"u"&&(v instanceof Int8Array||v instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&v instanceof Uint8ClampedArray||v instanceof Int16Array||v instanceof Uint16Array||v instanceof Int32Array||v instanceof Uint32Array||v instanceof Float32Array||v instanceof Float64Array)},F=t.__addimage__.binaryStringToUint8Array=function(v){for(var N=v.length,O=new Uint8Array(N),L=0;L<N;L++)O[L]=v.charCodeAt(L);return O},C=t.__addimage__.arrayBufferToBinaryString=function(v){for(var N="",O=_(v)?v:new Uint8Array(v),L=0;L<O.length;L+=8192)N+=String.fromCharCode.apply(null,O.subarray(L,L+8192));return N};t.addImage=function(){var v,N,O,L,Q,D,U,R,z;if(typeof arguments[1]=="number"?(N=e,O=arguments[1],L=arguments[2],Q=arguments[3],D=arguments[4],U=arguments[5],R=arguments[6],z=arguments[7]):(N=arguments[1],O=arguments[2],L=arguments[3],Q=arguments[4],D=arguments[5],U=arguments[6],R=arguments[7],z=arguments[8]),Ar(v=arguments[0])==="object"&&!A(v)&&"imageData"in v){var Y=v;v=Y.imageData,N=Y.format||N||e,O=Y.x||O||0,L=Y.y||L||0,Q=Y.w||Y.width||Q,D=Y.h||Y.height||D,U=Y.alias||U,R=Y.compression||R,z=Y.rotation||Y.angle||z}var X=this.internal.getFilters();if(R===void 0&&X.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN(O)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=E.call(this,v,N,U,R);return x.call(this,O,L,Q,D,$,z),this};var E=function(v,N,O,L){var Q,D,U;if(typeof v=="string"&&n(v)===e){v=unescape(v);var R=T(v,!1);(R!==""||(R=t.loadFile(v,!0))!==void 0)&&(v=R)}if(A(v)&&(v=h(v,N)),N=n(v,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((U=O)==null||U.length===0)&&(O=function(z){return typeof z=="string"||_(z)?y(z):_(z.data)?y(z.data):null}(v)),(Q=f.call(this,O))||(j()&&(v instanceof Uint8Array||N==="RGBA"||(D=v,v=F(v))),Q=this["process"+N.toUpperCase()](v,d.call(this),O,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in t.image_compression?z:p.NONE}(L),D)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},T=t.__addimage__.convertBase64ToBinaryString=function(v,N){var O;N=typeof N!="boolean"||N;var L,Q="";if(typeof v=="string"){L=(O=S(v))!==null?O.data:v;try{Q=fg(L)}catch(D){if(N)throw w(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+D.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};t.getImageProperties=function(v){var N,O,L="";if(A(v)&&(v=h(v)),typeof v=="string"&&n(v)===e&&((L=T(v,!1))===""&&(L=t.loadFile(v)||""),v=L),O=n(v),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!j()||v instanceof Uint8Array||(v=F(v)),!(N=this["process"+O.toUpperCase()](v)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=O,N}})(At.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};At.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,A=0;A<d.length&&!u;A++)switch((n=d[A]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<d.length;h++){n=d[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(x.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(p(n.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(p(y))+") >>",x.content=i;var w=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(x.objId,"0 R",m.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var _=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(At.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length==4},A=t.__arabicParser__.resolveLigatures=function(x){var m=0,p=r,y="",w=0;for(m=0;m<x.length;m+=1)p[x.charCodeAt(m)]!==void 0?(w++,typeof(p=p[x.charCodeAt(m)])=="number"&&(y+=String.fromCharCode(p),p=r,w=0),m===x.length-1&&(p=r,y+=x.charAt(m-(w-1)),m-=w-1,w=0)):(p=r,y+=x.charAt(m-w),m-=w,w=0);return y};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(x,m,p){return o(x)?i(x)===!1?-1:!d(x)||!o(m)&&!o(p)||!o(p)&&l(m)||l(x)&&!o(m)||l(x)&&c(m)||l(x)&&l(m)?0:u(x)&&o(m)&&!l(m)&&o(p)&&d(p)?3:l(x)||!o(p)?1:2:-1},f=function(x){var m=0,p=0,y=0,w="",S="",j="",_=(x=x||"").split("\\s+"),F=[];for(m=0;m<_.length;m+=1){for(F.push(""),p=0;p<_[m].length;p+=1)w=_[m][p],S=_[m][p-1],j=_[m][p+1],o(w)?(y=h(w,S,j),F[m]+=y!==-1?String.fromCharCode(e[w.charCodeAt(0)][y]):w):F[m]+=w;F[m]=A(F[m])}return F.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var x,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(m)){var y=0;for(p=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?p.push([f(m[y][0]),m[y][1],m[y][2]]):p.push([f(m[y])]);x=p}else x=f(m);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",g])}(At.API),At.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(x){g=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),h=d.scaleFactor||this.internal.scaleFactor,f=0,g=0,x=0,m=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var p=d.maxWidth;p>0?typeof c=="string"?c=this.splitTextToSize(c,p):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,S){return w.concat(m.splitTextToSize(S,p))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)f<(x=this.getStringUnitWidth(c[y],{font:A})*u)&&(f=x);return f!==0&&(g=c.length),{w:f/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,f&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,A,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,x,m,p=[],y=[],w=[],S={},j={},_=[],F=[],C=(h=h||{}).autoSize||!1,E=h.printHeaders!==!1,T=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,v=h.margins||Object.assign({width:this.getPageWidth()},e),N=typeof h.padding=="number"?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",L=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=v,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=L,this.setFontSize(T),A==null)y=p=Object.keys(u[0]),w=p.map(function(){return"left"});else if(Array.isArray(A)&&Ar(A[0])==="object")for(p=A.map(function(Y){return Y.name}),y=A.map(function(Y){return Y.prompt||Y.name||""}),w=A.map(function(Y){return Y.align||"left"}),f=0;f<A.length;f+=1)j[A[f].name]=A[f].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(y=p=A,w=p.map(function(){return"left"}));if(C||Array.isArray(A)&&typeof A[0]=="string")for(f=0;f<p.length;f+=1){for(S[m=p[f]]=u.map(function(Y){return Y[m]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=S[m],this.setFont(void 0,"normal"),x=0;x<g.length;x+=1)_.push(this.getTextDimensions(g[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[m]=Math.max.apply(null,_)+N+N,_=[]}if(E){var Q={};for(f=0;f<p.length;f+=1)Q[p[f]]={},Q[p[f]].text=y[f],Q[p[f]].align=w[f];var D=l.call(this,Q,j);F=p.map(function(Y){return new i(c,d,j[Y],D,Q[Y].text,void 0,Q[Y].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var U=A.reduce(function(Y,X){return Y[X.name]=X.align,Y},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var R=l.call(this,u[f],j);for(x=0;x<p.length;x+=1){var z=u[f][p[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:x,data:z},this),o.call(this,new i(c,d,j[p[x]],R,z,f+2,U[p[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(f){var g=c[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*A/h+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(At.API);var oH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],P4=iH(lH),cH=[100,200,300,400,500,600,700,800,900],xue=iH(cH);function T4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return oH[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof P4[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function nO(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var yue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aO(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function vue(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},yue,r.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(a[(i=T4(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+aO(i)+"' and default family '"+n+"'.");if(o=function(c,d){if(d[c])return d[c];var u=P4[c],A=u<=P4.normal?-1:1,h=nO(d,lH,u,A);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,d){if(d[c])return d[c];for(var u=oH[c],A=0;A<u.length;++A)if(d[u[A]])return d[u[A]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=xue[c],A=nO(d,cH,u,c<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+c);return A}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+aO(i)+"'.");return o}function iO(t){return t.trimLeft()}function bue(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function wue(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Wy,oO,lO,j_=["times"];(function(t){var e,r,n,a,i,o,l,c,d,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var A=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=$;Object.defineProperty(this,"pdf",{get:function(){return M}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ye){G=!!ye}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(ye){V=!!ye}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(ye){isNaN(ye)||(ae=ye)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(ye){isNaN(ye)||(Ae=ye)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ye){var q;typeof ye=="number"?q=[ye,ye,ye,ye]:((q=new Array(4))[0]=ye[0],q[1]=ye.length>=2?ye[1]:q[0],q[2]=ye.length>=3?ye[2]:q[0],q[3]=ye.length>=4?ye[3]:q[1]),d.margin=q}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(ye){re=ye}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ye){ie=ye}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(ye){ce=ye}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ye){ye instanceof u&&(d=ye)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ye){d.path=ye}});var Z=[];Object.defineProperty(this,"ctxStack",{get:function(){return Z},set:function(ye){Z=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var q;q=h(ye),this.ctx.fillStyle=q.style,this.ctx.isFillTransparent=q.a===0,this.ctx.fillOpacity=q.a,this.pdf.setFillColor(q.r,q.g,q.b,{a:q.a}),this.pdf.setTextColor(q.r,q.g,q.b,{a:q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var q=h(ye);this.ctx.strokeStyle=q.style,this.ctx.isStrokeTransparent=q.a===0,this.ctx.strokeOpacity=q.a,q.a===0?this.pdf.setDrawColor(255,255,255):(q.a,this.pdf.setDrawColor(q.r,q.g,q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var me=null;function Me(ye,q){if(me===null){var Ee=function(Oe){var ke=[];return Object.keys(Oe).forEach(function(Le){Oe[Le].forEach(function(Ie){var Be=null;switch(Ie){case"bold":Be={family:Le,weight:"bold"};break;case"italic":Be={family:Le,style:"italic"};break;case"bolditalic":Be={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Be={family:Le}}Be!==null&&(Be.ref={name:Le,style:Ie},ke.push(Be))})}),ke}(ye.getFontList());me=function(Oe){for(var ke={},Le=0;Le<Oe.length;++Le){var Ie=T4(Oe[Le]),Be=Ie.family,he=Ie.stretch,$e=Ie.style,pe=Ie.weight;ke[Be]=ke[Be]||{},ke[Be][he]=ke[Be][he]||{},ke[Be][he][$e]=ke[Be][he][$e]||{},ke[Be][he][$e][pe]=Ie}return ke}(Ee.concat(q))}return me}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(ye){me=null,Re=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var q;if(this.ctx.font=ye,(q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Ee=q[1],Oe=(q[2],q[3]),ke=q[4],Le=(q[5],q[6]),Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Ie==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Be=function(ve){var xe,Se,et=[],ze=ve.trim();if(ze==="")return j_;if(ze in sO)return[sO[ze]];for(;ze!=="";){switch(Se=null,xe=(ze=iO(ze)).charAt(0)){case'"':case"'":Se=bue(ze.substring(1),xe);break;default:Se=wue(ze)}if(Se===null||(et.push(Se[0]),(ze=iO(Se[1]))!==""&&ze.charAt(0)!==","))return j_;ze=ze.replace(/^,/,"")}return et}(Le);if(this.fontFaces){var he=vue(Me(this.pdf,this.fontFaces),Be.map(function(ve){return{family:ve,stretch:"normal",weight:Oe,style:Ee}}));this.pdf.setFont(he.ref.name,he.ref.style)}else{var $e="";(Oe==="bold"||parseInt(Oe,10)>=700||Ee==="bold")&&($e="bold"),Ee==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var pe="",ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},se=0;se<Be.length;se++){if(this.pdf.internal.getFont(Be[se],$e,{noFallback:!0,disableWarning:!0})!==void 0){pe=Be[se];break}if($e==="bolditalic"&&this.pdf.internal.getFont(Be[se],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pe=Be[se],$e="bold";else if(this.pdf.internal.getFont(Be[se],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pe=Be[se],$e="normal";break}}if(pe===""){for(var le=0;le<Be.length;le++)if(ue[Be[le]]){pe=ue[Be[le]];break}}pe=pe===""?"Times":pe,this.pdf.setFont(pe,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};A.prototype.setLineDash=function($){this.lineDash=$},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){S.call(this,"fill",!1)},A.prototype.stroke=function(){S.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function($,M){if(isNaN($)||isNaN(M))throw vr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o($,M));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o($,M)},A.prototype.closePath=function(){var $=new o(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Ar(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){$=new o(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},A.prototype.lineTo=function($,M){if(isNaN($)||isNaN(M))throw vr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o($,M));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},A.prototype.quadraticCurveTo=function($,M,G,V){if(isNaN(G)||isNaN(V)||isNaN($)||isNaN(M))throw vr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(G,V)),Ae=this.ctx.transform.applyToPoint(new o($,M));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},A.prototype.bezierCurveTo=function($,M,G,V,ae,Ae){if(isNaN(ae)||isNaN(Ae)||isNaN($)||isNaN(M)||isNaN(G)||isNaN(V))throw vr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new o(ae,Ae)),ie=this.ctx.transform.applyToPoint(new o($,M)),ce=this.ctx.transform.applyToPoint(new o(G,V));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:ce.x,y2:ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},A.prototype.arc=function($,M,G,V,ae,Ae){if(isNaN($)||isNaN(M)||isNaN(G)||isNaN(V)||isNaN(ae))throw vr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new o($,M));$=re.x,M=re.y;var ie=this.ctx.transform.applyToPoint(new o(0,G)),ce=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(ie.x-ce.x,2)+Math.pow(ie.y-ce.y,2))}Math.abs(ae-V)>=2*Math.PI&&(V=0,ae=2*Math.PI),this.path.push({type:"arc",x:$,y:M,radius:G,startAngle:V,endAngle:ae,counterclockwise:Ae})},A.prototype.arcTo=function($,M,G,V,ae){throw new Error("arcTo not implemented.")},A.prototype.rect=function($,M,G,V){if(isNaN($)||isNaN(M)||isNaN(G)||isNaN(V))throw vr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,M),this.lineTo($+G,M),this.lineTo($+G,M+V),this.lineTo($,M+V),this.lineTo($,M),this.lineTo($+G,M),this.lineTo($,M)},A.prototype.fillRect=function($,M,G,V){if(isNaN($)||isNaN(M)||isNaN(G)||isNaN(V))throw vr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,M,G,V),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},A.prototype.strokeRect=function($,M,G,V){if(isNaN($)||isNaN(M)||isNaN(G)||isNaN(V))throw vr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,M,G,V),this.stroke())},A.prototype.clearRect=function($,M,G,V){if(isNaN($)||isNaN(M)||isNaN(G)||isNaN(V))throw vr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,M,G,V))},A.prototype.save=function($){$=typeof $!="boolean"||$;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},A.prototype.restore=function($){$=typeof $!="boolean"||$;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(M),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function($){var M,G,V,ae;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))M=0,G=0,V=0,ae=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(Ae!==null)M=parseInt(Ae[1]),G=parseInt(Ae[2]),V=parseInt(Ae[3]),ae=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)M=parseInt(Ae[1]),G=parseInt(Ae[2]),V=parseInt(Ae[3]),ae=parseFloat(Ae[4]);else{if(ae=1,typeof $=="string"&&$.charAt(0)!=="#"){var re=new eH($);$=re.ok?re.toHex():"#000000"}$.length===4?(M=$.substring(1,2),M+=M,G=$.substring(2,3),G+=G,V=$.substring(3,4),V+=V):(M=$.substring(1,3),G=$.substring(3,5),V=$.substring(5,7)),M=parseInt(M,16),G=parseInt(G,16),V=parseInt(V,16)}}return{r:M,g:G,b:V,a:ae,style:$}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function($,M,G,V){if(isNaN(M)||isNaN(G)||typeof $!="string")throw vr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!f.call(this)){var ae=R(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;N.call(this,{text:$,x:M,y:G,scale:Ae,angle:ae,align:this.textAlign,maxWidth:V})}},A.prototype.strokeText=function($,M,G,V){if(isNaN(M)||isNaN(G)||typeof $!="string")throw vr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){V=isNaN(V)?void 0:V;var ae=R(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;N.call(this,{text:$,x:M,y:G,scale:Ae,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:V})}},A.prototype.measureText=function($){if(typeof $!="string")throw vr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,G=this.pdf.internal.scaleFactor,V=M.internal.getFontSize(),ae=M.getStringUnitWidth($)*V/M.internal.scaleFactor,Ae=function(re){var ie=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new Ae({width:ae*=Math.round(96*G/72*1e4)/1e4})},A.prototype.scale=function($,M){if(isNaN($)||isNaN(M))throw vr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c($,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.rotate=function($){if(isNaN($))throw vr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},A.prototype.translate=function($,M){if(isNaN($)||isNaN(M))throw vr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,$,M);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.transform=function($,M,G,V,ae,Ae){if(isNaN($)||isNaN(M)||isNaN(G)||isNaN(V)||isNaN(ae)||isNaN(Ae))throw vr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new c($,M,G,V,ae,Ae);this.ctx.transform=this.ctx.transform.multiply(re)},A.prototype.setTransform=function($,M,G,V,ae,Ae){$=isNaN($)?1:$,M=isNaN(M)?0:M,G=isNaN(G)?0:G,V=isNaN(V)?1:V,ae=isNaN(ae)?0:ae,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c($,M,G,V,ae,Ae)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function($,M,G,V,ae,Ae,re,ie,ce){var Z=this.pdf.getImageProperties($),me=1,Me=1,Re=1,ye=1;V!==void 0&&ie!==void 0&&(Re=ie/V,ye=ce/ae,me=Z.width/V*ie/V,Me=Z.height/ae*ce/ae),Ae===void 0&&(Ae=M,re=G,M=0,G=0),V!==void 0&&ie===void 0&&(ie=V,ce=ae),V===void 0&&ie===void 0&&(ie=Z.width,ce=Z.height);for(var q,Ee=this.ctx.transform.decompose(),Oe=R(Ee.rotate.shx),ke=new c,Le=(ke=(ke=(ke=ke.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new l(Ae-M*Re,re-G*ye,V*me,ae*Me)),Ie=m.call(this,Le),Be=[],he=0;he<Ie.length;he+=1)Be.indexOf(Ie[he])===-1&&Be.push(Ie[he]);if(w(Be),this.autoPaging)for(var $e=Be[0],pe=Be[Be.length-1],ue=$e;ue<pe+1;ue++){this.pdf.setPage(ue);var se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],le=ue===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=ue===1?0:ve+(ue-2)*xe;if(this.ctx.clip_path.length!==0){var et=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(q,this.posX+this.margin[3],-Se+le+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=et}var ze=JSON.parse(JSON.stringify(Le));ze=y([ze],this.posX+this.margin[3],-Se+le+this.ctx.prevPageLastElemOffset)[0];var ft=(ue>$e||ue<pe)&&x.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],se,xe,null).clip().discardPath()),this.pdf.addImage($,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Oe),ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Oe)};var m=function($,M,G){var V=[];M=M||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":V.push(Math.floor(($.y+ae)/G)+1);break;case"arc":V.push(Math.floor(($.y+ae-$.radius)/G)+1),V.push(Math.floor(($.y+ae+$.radius)/G)+1);break;case"qct":var Ae=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);V.push(Math.floor((Ae.y+ae)/G)+1),V.push(Math.floor((Ae.y+Ae.h+ae)/G)+1);break;case"bct":var re=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);V.push(Math.floor((re.y+ae)/G)+1),V.push(Math.floor((re.y+re.h+ae)/G)+1);break;case"rect":V.push(Math.floor(($.y+ae)/G)+1),V.push(Math.floor(($.y+$.h+ae)/G)+1)}for(var ie=0;ie<V.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<V[ie];)p.call(this);return V},p=function(){var $=this.fillStyle,M=this.strokeStyle,G=this.font,V=this.lineCap,ae=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=M,this.font=G,this.lineCap=V,this.lineWidth=ae,this.lineJoin=Ae},y=function($,M,G){for(var V=0;V<$.length;V++)switch($[V].type){case"bct":$[V].x2+=M,$[V].y2+=G;case"qct":$[V].x1+=M,$[V].y1+=G;case"mt":case"lt":case"arc":default:$[V].x+=M,$[V].y+=G}return $},w=function($){return $.sort(function(M,G){return M-G})},S=function($,M){for(var G,V,ae=this.fillStyle,Ae=this.strokeStyle,re=this.lineCap,ie=this.lineWidth,ce=Math.abs(ie*this.ctx.transform.scaleX),Z=this.lineJoin,me=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Re=[],ye=0;ye<Me.length;ye++)if(Me[ye].x!==void 0)for(var q=m.call(this,Me[ye]),Ee=0;Ee<q.length;Ee+=1)Re.indexOf(q[Ee])===-1&&Re.push(q[Ee]);for(var Oe=0;Oe<Re.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<Re[Oe];)p.call(this);if(w(Re),this.autoPaging)for(var ke=Re[0],Le=Re[Re.length-1],Ie=ke;Ie<Le+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=ae,this.strokeStyle=Ae,this.lineCap=re,this.lineWidth=ce,this.lineJoin=Z;var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],he=Ie===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ue=Ie===1?0:$e+(Ie-2)*pe;if(this.ctx.clip_path.length!==0){var se=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-ue+he+this.ctx.prevPageLastElemOffset),j.call(this,$,!0),this.path=se}if(V=JSON.parse(JSON.stringify(me)),this.path=y(V,this.posX+this.margin[3],-ue+he+this.ctx.prevPageLastElemOffset),M===!1||Ie===0){var le=(Ie>ke||Ie<Le)&&x.call(this);le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,pe,null).clip().discardPath()),j.call(this,$,M),le&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=ce,j.call(this,$,M),this.lineWidth=ie;this.path=me},j=function($,M){if(($!=="stroke"||M||!g.call(this))&&($==="stroke"||M||!f.call(this))){for(var G,V,ae=[],Ae=this.path,re=0;re<Ae.length;re++){var ie=Ae[re];switch(ie.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ie,deltas:[],abs:[]});break;case"lt":var ce=ae.length;if(Ae[re-1]&&!isNaN(Ae[re-1].x)&&(G=[ie.x-Ae[re-1].x,ie.y-Ae[re-1].y],ce>0)){for(;ce>=0;ce--)if(ae[ce-1].close!==!0&&ae[ce-1].begin!==!0){ae[ce-1].deltas.push(G),ae[ce-1].abs.push(ie);break}}break;case"bct":G=[ie.x1-Ae[re-1].x,ie.y1-Ae[re-1].y,ie.x2-Ae[re-1].x,ie.y2-Ae[re-1].y,ie.x-Ae[re-1].x,ie.y-Ae[re-1].y],ae[ae.length-1].deltas.push(G);break;case"qct":var Z=Ae[re-1].x+2/3*(ie.x1-Ae[re-1].x),me=Ae[re-1].y+2/3*(ie.y1-Ae[re-1].y),Me=ie.x+2/3*(ie.x1-ie.x),Re=ie.y+2/3*(ie.y1-ie.y),ye=ie.x,q=ie.y;G=[Z-Ae[re-1].x,me-Ae[re-1].y,Me-Ae[re-1].x,Re-Ae[re-1].y,ye-Ae[re-1].x,q-Ae[re-1].y],ae[ae.length-1].deltas.push(G);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ie)}}V=M?null:$==="stroke"?"stroke":"fill";for(var Ee=!1,Oe=0;Oe<ae.length;Oe++)if(ae[Oe].arc)for(var ke=ae[Oe].abs,Le=0;Le<ke.length;Le++){var Ie=ke[Le];Ie.type==="arc"?C.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,M,!Ee):O.call(this,Ie.x,Ie.y),Ee=!0}else if(ae[Oe].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(ae[Oe].begin!==!0){var Be=ae[Oe].start.x,he=ae[Oe].start.y;L.call(this,ae[Oe].deltas,Be,he),Ee=!0}V&&E.call(this,V),M&&T.call(this)}},_=function($){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-G;case"top":return $+M-G;case"hanging":return $+M-2*G;case"middle":return $+M/2-G;case"ideographic":return $;case"alphabetic":default:return $}},F=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(M,G){this.colorStops.push([M,G])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function($,M,G,V,ae,Ae,re,ie,ce){for(var Z=D.call(this,G,V,ae,Ae),me=0;me<Z.length;me++){var Me=Z[me];me===0&&(ce?v.call(this,Me.x1+$,Me.y1+M):O.call(this,Me.x1+$,Me.y1+M)),Q.call(this,$,M,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}ie?T.call(this):E.call(this,re)},E=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},v=function($,M){this.pdf.internal.out(r($)+" "+n(M)+" m")},N=function($){var M;switch($.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var G=this.pdf.getTextDimensions($.text),V=_.call(this,$.y),ae=F.call(this,V)-G.h,Ae=this.ctx.transform.applyToPoint(new o($.x,V)),re=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var ce,Z,me,Me=this.ctx.transform.applyToRectangle(new l($.x,V,G.w,G.h)),Re=ie.applyToRectangle(new l($.x,ae,G.w,G.h)),ye=m.call(this,Re),q=[],Ee=0;Ee<ye.length;Ee+=1)q.indexOf(ye[Ee])===-1&&q.push(ye[Ee]);if(w(q),this.autoPaging)for(var Oe=q[0],ke=q[q.length-1],Le=Oe;Le<ke+1;Le++){this.pdf.setPage(Le);var Ie=Le===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],he=this.pdf.internal.pageSize.height-this.margin[2],$e=he-this.margin[0],pe=this.pdf.internal.pageSize.width-this.margin[1],ue=pe-this.margin[3],se=Le===1?0:Be+(Le-2)*$e;if(this.ctx.clip_path.length!==0){var le=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ce,this.posX+this.margin[3],-1*se+Ie),j.call(this,"fill",!0),this.path=le}var ve=y([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-se+Ie+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*$.scale),me=this.lineWidth,this.lineWidth=me*$.scale);var xe=this.autoPaging!=="text";if(xe||ve.y+ve.h<=he){if(xe||ve.y>=Ie&&ve.x<=pe){var Se=xe?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||pe-ve.x)[0],et=y([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-se+Ie+this.ctx.prevPageLastElemOffset)[0],ze=xe&&(Le>Oe||Le<ke)&&x.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ue,$e,null).clip().discardPath()),this.pdf.text(Se,et.x,et.y,{angle:$.angle,align:M,renderingMode:$.renderingMode}),ze&&this.pdf.restoreGraphicsState()}}else ve.y<he&&(this.ctx.prevPageLastElemOffset+=he-ve.y);$.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=me)}else $.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*$.scale),me=this.lineWidth,this.lineWidth=me*$.scale),this.pdf.text($.text,Ae.x+this.posX,Ae.y+this.posY,{angle:$.angle,align:M,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=me)},O=function($,M,G,V){G=G||0,V=V||0,this.pdf.internal.out(r($+G)+" "+n(M+V)+" l")},L=function($,M,G){return this.pdf.lines($,M,G,null,null)},Q=function($,M,G,V,ae,Ae,re,ie){this.pdf.internal.out([e(a(G+$)),e(i(V+M)),e(a(ae+$)),e(i(Ae+M)),e(a(re+$)),e(i(ie+M)),"c"].join(" "))},D=function($,M,G,V){for(var ae=2*Math.PI,Ae=Math.PI/2;M>G;)M-=ae;var re=Math.abs(G-M);re<ae&&V&&(re=ae-re);for(var ie=[],ce=V?-1:1,Z=M;re>1e-5;){var me=Z+ce*Math.min(re,Ae);ie.push(U.call(this,$,Z,me)),re-=Math.abs(me-Z),Z=me}return ie},U=function($,M,G){var V=(G-M)/2,ae=$*Math.cos(V),Ae=$*Math.sin(V),re=ae,ie=-Ae,ce=re*re+ie*ie,Z=ce+re*ae+ie*Ae,me=4/3*(Math.sqrt(2*ce*Z)-Z)/(re*Ae-ie*ae),Me=re-me*ie,Re=ie+me*re,ye=Me,q=-Re,Ee=V+M,Oe=Math.cos(Ee),ke=Math.sin(Ee);return{x1:$*Math.cos(M),y1:$*Math.sin(M),x2:Me*Oe-Re*ke,y2:Me*ke+Re*Oe,x3:ye*Oe-q*ke,y3:ye*ke+q*Oe,x4:$*Math.cos(G),y4:$*Math.sin(G)}},R=function($){return 180*$/Math.PI},z=function($,M,G,V,ae,Ae){var re=$+.5*(G-$),ie=M+.5*(V-M),ce=ae+.5*(G-ae),Z=Ae+.5*(V-Ae),me=Math.min($,ae,re,ce),Me=Math.max($,ae,re,ce),Re=Math.min(M,Ae,ie,Z),ye=Math.max(M,Ae,ie,Z);return new l(me,Re,Me-me,ye-Re)},Y=function($,M,G,V,ae,Ae,re,ie){var ce,Z,me,Me,Re,ye,q,Ee,Oe,ke,Le,Ie,Be,he,$e=G-$,pe=V-M,ue=ae-G,se=Ae-V,le=re-ae,ve=ie-Ae;for(Z=0;Z<41;Z++)Oe=(q=(me=$+(ce=Z/40)*$e)+ce*((Re=G+ce*ue)-me))+ce*(Re+ce*(ae+ce*le-Re)-q),ke=(Ee=(Me=M+ce*pe)+ce*((ye=V+ce*se)-Me))+ce*(ye+ce*(Ae+ce*ve-ye)-Ee),Z==0?(Le=Oe,Ie=ke,Be=Oe,he=ke):(Le=Math.min(Le,Oe),Ie=Math.min(Ie,ke),Be=Math.max(Be,Oe),he=Math.max(he,ke));return new l(Math.round(Le),Math.round(Ie),Math.round(Be-Le),Math.round(he-Ie))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,M,G=($=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:M}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(At.API),function(t){var e=function(i){var o,l,c,d,u,A,h,f,g,x;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(A=(u=((u=((u=((u=(u-(x=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,l.push(A+33,h+33,f+33,g+33,x+33)):l.push(122);return function(m,p){for(var y=p;y>0;y--)m.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,d,u,A=String,h="length",f=255,g="charCodeAt",x="slice",m="replace";for(i[x](-2),i=i[x](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),c=[],d=0,u=(i+=o="uuuuu"[x](i[h]%5||5))[h];u>d;d+=5)l=52200625*(i[g](d)-33)+614125*(i[g](d+1)-33)+7225*(i[g](d+2)-33)+85*(i[g](d+3)-33)+(i[g](d+4)-33),c.push(f&l>>24,f&l>>16,f&l>>8,f&l);return function(p,y){for(var w=y;w>0;w--)p.pop()}(c,o[h]),A.fromCharCode.apply(A,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=S4(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(At.API),function(t){t.loadFile=function(e,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var A=new XMLHttpRequest,h=0,f=function(g){var x=g.length,m=[],p=String.fromCharCode;for(h=0;h<x;h+=1)m.push(p(255&g.charCodeAt(h)));return m.join("")};if(A.open("GET",c,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?u(f(this.responseText)):u(void 0)}),A.send(null),d&&A.status===200)return f(A.responseText)}(a,i,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(At.API),function(t){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):dd(()=>Promise.resolve().then(()=>t0e),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):dd(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Ar(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var A=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),h=d.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||A.appendChild(c(h,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(A.width=d.width,A.height=d.height,A.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(A.value=d.value),A.addEventListener("load",function(){A.scrollTop=d.scrollTop,A.scrollLeft=d.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var f=d[h],g=f.src.find(function(x){return x.format==="truetype"});g&&c.addFont(g.url,f.ref.name,f.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,c.context2d.save(!0),l(this.prop.container,A)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(A){return c.updateProgress(null,d),A}).then(d,u).then(function(A){return c.updateProgress(1),A})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,At.getPageSize=function(o,l,c){if(Ar(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,A=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var f,g=0,x=0;if(h.hasOwnProperty(A))g=h[A][1]/u,x=h[A][0]/u;else try{g=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>g&&(f=x,x=g,g=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>x&&(f=x,x=g,g=f)}return{width:x,height:g,unit:l,k:u,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(T4):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(At.API),At.API.addJS=function(t){return lO=t,this.internal.events.subscribe("postPutResources",function(){Wy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),oO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lO+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Wy!==void 0&&oO!==void 0&&this.internal.out("/Names <</JavaScript "+Wy+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var A=r.internal.newObject();u.push(A);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(At.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(A){for(var h,f=256*A.charCodeAt(4)+A.charCodeAt(5),g=A.length,x={width:0,height:0,numcomponents:1},m=4;m<g;m+=2){if(m+=f,e.indexOf(A.charCodeAt(m+1))!==-1){h=256*A.charCodeAt(m+5)+A.charCodeAt(m+6),x={width:256*A.charCodeAt(m+7)+A.charCodeAt(m+8),height:h,numcomponents:A.charCodeAt(m+9)};break}f=256*A.charCodeAt(m+2)+A.charCodeAt(m+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(At.API);var XA,Gy,cO,dO,uO,jue=function(){var t,e,r;function n(i){var o,l,c,d,u,A,h,f,g,x,m,p,y,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(o=this.readUInt32(),g=(function(){var S,j;for(j=[],S=0;S<4;++S)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,A.delay=1e3*u/d,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),i=(A!=null?A.data:void 0)||this.imgData,p=0;0<=o?p<o:p>o;0<=o?++p:--p)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(y=0;0<=x?y<x:y>x;0<=x?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(m=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,m.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,m.slice(h+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(A,h,f,g){var x,m,p,y,w,S,j,_,F,C,E,T,v,N,O,L,Q,D,U,R,z,Y=Math.ceil((d.width-A)/f),X=Math.ceil((d.height-h)/g),$=d.width==Y&&d.height==X;for(N=o*Y,T=$?l:new Uint8Array(N*X),S=i.length,v=0,m=0;v<X&&c<S;){switch(i[c++]){case 0:for(y=Q=0;Q<N;y=Q+=1)T[m++]=i[c++];break;case 1:for(y=D=0;D<N;y=D+=1)x=i[c++],w=y<o?0:T[m-o],T[m++]=(x+w)%256;break;case 2:for(y=U=0;U<N;y=U+=1)x=i[c++],p=(y-y%o)/o,O=v&&T[(v-1)*N+p*o+y%o],T[m++]=(O+x)%256;break;case 3:for(y=R=0;R<N;y=R+=1)x=i[c++],p=(y-y%o)/o,w=y<o?0:T[m-o],O=v&&T[(v-1)*N+p*o+y%o],T[m++]=(x+Math.floor((w+O)/2))%256;break;case 4:for(y=z=0;z<N;y=z+=1)x=i[c++],p=(y-y%o)/o,w=y<o?0:T[m-o],v===0?O=L=0:(O=T[(v-1)*N+p*o+y%o],L=p&&T[(v-1)*N+(p-1)*o+y%o]),j=w+O-L,_=Math.abs(j-w),C=Math.abs(j-O),E=Math.abs(j-L),F=_<=C&&_<=E?w:C<=E?O:L,T[m++]=(x+F)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!$){var M=((h+v*g)*d.width+A)*o,G=v*N;for(y=0;y<Y;y+=1){for(var V=0;V<o;V+=1)l[M++]=T[G++];M+=(f-1)*o}}v++}}return i=tue(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,d,u,A,h,f;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,i=0,o=A=0,h=l.length;A<h;o=A+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(f=u[i++])!=null?f:255;return d},n.prototype.copyToImageData=function(i,o){var l,c,d,u,A,h,f,g,x,m,p;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(p=this._decodedPalette)!=null?p:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(d=i.data||i).length,A=x||o,u=h=0,c===1)for(;u<g;)f=x?4*o[u/4]:h,m=A[f++],d[u++]=m,d[u++]=m,d[u++]=m,d[u++]=l?A[f++]:255,h=f;else for(;u<g;)f=x?4*o[u/4]:h,d[u++]=A[f++],d[u++]=A[f++],d[u++]=A[f++],d[u++]=l?A[f++]:255,h=f},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{e=jt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,d,u,A,h,f;if(this.animation){for(f=[],l=u=0,A=(h=this.animation.frames).length;u<A;l=++u)o=h[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,f.push(o.image=t(c));return f}},n.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,d,u,A,h=this;return l=0,A=this.animation,d=A.numFrames,c=A.frames,u=A.numPlays,(o=function(){var f,g;if(f=l++%d,g=c[f],h.renderFrame(i,f),d>1&&l/d<u)return h.animation._timeout=setTimeout(o,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Nue(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],A=0,h=null,f=0,g=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((v=t[e++])>=0))throw Error("Invalid block size");if(v===0)break;e+=v}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];A=t[e++]|t[e++]<<8,h=t[e++],!(1&x)&&(h=null),f=x>>2&7,e++;break;case 254:for(;;){if(!((v=t[e++])>=0))throw Error("Invalid block size");if(v===0)break;e+=v}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++],j=S>>6&1,_=1<<(7&S)+1,F=l,C=c,E=!1;S>>7&&(E=!0,F=e,C=_,e+=3*_);var T=e;for(e++;;){var v;if(!((v=t[e++])>=0))throw Error("Invalid block size");if(v===0)break;e+=v}u.push({x:m,y:p,width:y,height:w,has_local_palette:E,palette_offset:F,palette_size:C,data_offset:T,data_length:e-T,transparent_index:h,interlaced:!!j,delay:A,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,O){var L=this.frameInfo(N),Q=L.width*L.height,D=new Uint8Array(Q);AO(t,L.data_offset,D,Q);var U=L.palette_offset,R=L.transparent_index;R===null&&(R=256);var z=L.width,Y=r-z,X=z,$=4*(L.y*r+L.x),M=4*((L.y+L.height)*r+L.x),G=$,V=4*Y;L.interlaced===!0&&(V+=4*r*7);for(var ae=8,Ae=0,re=D.length;Ae<re;++Ae){var ie=D[Ae];if(X===0&&(X=z,(G+=V)>=M&&(V=4*Y+4*r*(ae-1),G=$+(z+Y)*(ae<<1),ae>>=1)),ie===R)G+=4;else{var ce=t[U+3*ie],Z=t[U+3*ie+1],me=t[U+3*ie+2];O[G++]=me,O[G++]=Z,O[G++]=ce,O[G++]=255}--X}},this.decodeAndBlitFrameRGBA=function(N,O){var L=this.frameInfo(N),Q=L.width*L.height,D=new Uint8Array(Q);AO(t,L.data_offset,D,Q);var U=L.palette_offset,R=L.transparent_index;R===null&&(R=256);var z=L.width,Y=r-z,X=z,$=4*(L.y*r+L.x),M=4*((L.y+L.height)*r+L.x),G=$,V=4*Y;L.interlaced===!0&&(V+=4*r*7);for(var ae=8,Ae=0,re=D.length;Ae<re;++Ae){var ie=D[Ae];if(X===0&&(X=z,(G+=V)>=M&&(V=4*Y+4*r*(ae-1),G=$+(z+Y)*(ae<<1),ae>>=1)),ie===R)G+=4;else{var ce=t[U+3*ie],Z=t[U+3*ie+1],me=t[U+3*ie+2];O[G++]=ce,O[G++]=Z,O[G++]=me,O[G++]=255}--X}}}function AO(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,A=0,h=0,f=t[e++],g=new Int32Array(4096),x=null;;){for(;u<16&&f!==0;)A|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<c)break;var m=A&d;if(A>>=c,u-=c,m!==i){if(m===o)break;for(var p=m<l?m:x,y=0,w=p;w>i;)w=g[w]>>8,++y;var S=w;if(h+y+(p!==m?1:0)>n)return void vr.log("Warning, gif stream longer than expected.");r[h++]=S;var j=h+=y;for(p!==m&&(r[h++]=S),w=p;y--;)w=g[w],r[--j]=255&w,w>>=8;x!==null&&l<4096&&(g[l++]=x<<8|S,l>=d+1&&c<12&&(++c,d=d<<1|1)),x=m}else l=o+1,d=(1<<(c=a+1))-1,x=null}return h!==n&&vr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N_(t){var e,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),A=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),x=[],m=0,p=7,y=new Array(64),w=new Array(64),S=new Array(64),j=new Array(256),_=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],v=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function D($,M){for(var G=0,V=0,ae=new Array,Ae=1;Ae<=16;Ae++){for(var re=1;re<=$[Ae];re++)ae[M[V]]=[],ae[M[V]][0]=G,ae[M[V]][1]=Ae,V++,G++;G*=2}return ae}function U($){for(var M=$[0],G=$[1]-1;G>=0;)M&1<<G&&(m|=1<<p),G--,--p<0&&(m==255?(R(255),R(0)):R(m),p=7,m=0)}function R($){x.push($)}function z($){R($>>8&255),R(255&$)}function Y($,M,G,V,ae){for(var Ae,re=ae[0],ie=ae[240],ce=function(ke,Le){var Ie,Be,he,$e,pe,ue,se,le,ve,xe,Se=0;for(ve=0;ve<8;++ve){Ie=ke[Se],Be=ke[Se+1],he=ke[Se+2],$e=ke[Se+3],pe=ke[Se+4],ue=ke[Se+5],se=ke[Se+6];var et=Ie+(le=ke[Se+7]),ze=Ie-le,ft=Be+se,mt=Be-se,Wt=he+ue,ms=he-ue,tr=$e+pe,_d=$e-pe,Jr=et+tr,Si=et-tr,Ko=ft+Wt,Zr=ft-Wt;ke[Se]=Jr+Ko,ke[Se+4]=Jr-Ko;var Pt=.707106781*(Zr+Si);ke[Se+2]=Si+Pt,ke[Se+6]=Si-Pt;var rr=.382683433*((Jr=_d+ms)-(Zr=mt+ze)),Cd=.5411961*Jr+rr,ss=1.306562965*Zr+rr,Ao=.707106781*(Ko=ms+mt),ho=ze+Ao,yt=ze-Ao;ke[Se+5]=yt+Cd,ke[Se+3]=yt-Cd,ke[Se+1]=ho+ss,ke[Se+7]=ho-ss,Se+=8}for(Se=0,ve=0;ve<8;++ve){Ie=ke[Se],Be=ke[Se+8],he=ke[Se+16],$e=ke[Se+24],pe=ke[Se+32],ue=ke[Se+40],se=ke[Se+48];var Bi=Ie+(le=ke[Se+56]),fo=Ie-le,na=Be+se,On=Be-se,yn=he+ue,Na=he-ue,hA=$e+pe,Wo=$e-pe,Ei=Bi+hA,ki=Bi-hA,Fi=na+yn,mo=na-yn;ke[Se]=Ei+Fi,ke[Se+32]=Ei-Fi;var qa=.707106781*(mo+ki);ke[Se+16]=ki+qa,ke[Se+48]=ki-qa;var po=.382683433*((Ei=Wo+Na)-(mo=On+fo)),Sd=.5411961*Ei+po,fA=1.306562965*mo+po,mA=.707106781*(Fi=Na+On),pA=fo+mA,gA=fo-mA;ke[Se+40]=gA+Sd,ke[Se+24]=gA-Sd,ke[Se+8]=pA+fA,ke[Se+56]=pA-fA,Se++}for(ve=0;ve<64;++ve)xe=ke[ve]*Le[ve],f[ve]=xe>0?xe+.5|0:xe-.5|0;return f}($,M),Z=0;Z<64;++Z)g[F[Z]]=ce[Z];var me=g[0]-G;G=g[0],me==0?U(V[0]):(U(V[h[Ae=32767+me]]),U(A[Ae]));for(var Me=63;Me>0&&g[Me]==0;)Me--;if(Me==0)return U(re),G;for(var Re,ye=1;ye<=Me;){for(var q=ye;g[ye]==0&&ye<=Me;)++ye;var Ee=ye-q;if(Ee>=16){Re=Ee>>4;for(var Oe=1;Oe<=Re;++Oe)U(ie);Ee&=15}Ae=32767+g[ye],U(ae[(Ee<<4)+h[Ae]]),U(A[Ae]),ye++}return Me!=63&&U(re),G}function X($){$=Math.min(Math.max($,1),100),i!=$&&(function(M){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var ae=o((G[V]*M+50)/100);ae=Math.min(Math.max(ae,1),255),l[F[V]]=ae}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var ie=o((Ae[re]*M+50)/100);ie=Math.min(Math.max(ie,1),255),c[F[re]]=ie}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Z=0,me=0;me<8;me++)for(var Me=0;Me<8;Me++)d[Z]=1/(l[F[Z]]*ce[me]*ce[Me]*8),u[Z]=1/(c[F[Z]]*ce[me]*ce[Me]*8),Z++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,M){M&&X(M),x=new Array,m=0,p=7,z(65496),z(65504),z(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),z(1),z(1),R(0),R(0),function(){z(65499),z(132),R(0);for(var Be=0;Be<64;Be++)R(l[Be]);R(1);for(var he=0;he<64;he++)R(c[he])}(),function(Be,he){z(65472),z(17),R(8),z(he),z(Be),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}($.width,$.height),function(){z(65476),z(418),R(0);for(var Be=0;Be<16;Be++)R(C[Be+1]);for(var he=0;he<=11;he++)R(E[he]);R(16);for(var $e=0;$e<16;$e++)R(T[$e+1]);for(var pe=0;pe<=161;pe++)R(v[pe]);R(1);for(var ue=0;ue<16;ue++)R(N[ue+1]);for(var se=0;se<=11;se++)R(O[se]);R(17);for(var le=0;le<16;le++)R(L[le+1]);for(var ve=0;ve<=161;ve++)R(Q[ve])}(),z(65498),z(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var G=0,V=0,ae=0;m=0,p=7,this.encode.displayName="_encode_";for(var Ae,re,ie,ce,Z,me,Me,Re,ye,q=$.data,Ee=$.width,Oe=$.height,ke=4*Ee,Le=0;Le<Oe;){for(Ae=0;Ae<ke;){for(Z=ke*Le+Ae,Me=-1,Re=0,ye=0;ye<64;ye++)me=Z+(Re=ye>>3)*ke+(Me=4*(7&ye)),Le+Re>=Oe&&(me-=ke*(Le+1+Re-Oe)),Ae+Me>=ke&&(me-=Ae+Me-ke+4),re=q[me++],ie=q[me++],ce=q[me++],y[ye]=(_[re]+_[ie+256>>0]+_[ce+512>>0]>>16)-128,w[ye]=(_[re+768>>0]+_[ie+1024>>0]+_[ce+1280>>0]>>16)-128,S[ye]=(_[re+1280>>0]+_[ie+1536>>0]+_[ce+1792>>0]>>16)-128;G=Y(y,d,G,e,n),V=Y(w,u,V,r,a),ae=Y(S,u,ae,r,a),Ae+=32}Le+=8}if(p>=0){var Ie=[];Ie[1]=p+1,Ie[0]=(1<<p+1)-1,U(Ie)}return z(65497),new Uint8Array(x)},t=t||50,function(){for(var $=String.fromCharCode,M=0;M<256;M++)j[M]=$(M)}(),e=D(C,E),r=D(N,O),n=D(T,v),a=D(L,Q),function(){for(var $=1,M=2,G=1;G<=15;G++){for(var V=$;V<M;V++)h[32767+V]=G,A[32767+V]=[],A[32767+V][1]=G,A[32767+V][0]=V;for(var ae=-(M-1);ae<=-$;ae++)h[32767+ae]=G,A[32767+ae]=[],A[32767+ae][1]=G,A[32767+ae][0]=M-1+ae;$<<=1,M<<=1}}(),function(){for(var $=0;$<256;$++)_[$]=19595*$,_[$+256>>0]=38470*$,_[$+512>>0]=7471*$+32768,_[$+768>>0]=-11059*$,_[$+1024>>0]=-21709*$,_[$+1280>>0]=32768*$+8421375,_[$+1536>>0]=-27439*$,_[$+1792>>0]=-5329*$}(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ui(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hO(t){function e(C){if(!C)throw Error("assert :P")}function r(C,E,T){for(var v=0;4>v;v++)if(C[E+v]!=T.charCodeAt(v))return!0;return!1}function n(C,E,T,v,N){for(var O=0;O<N;O++)C[E+O]=T[v+O]}function a(C,E,T,v){for(var N=0;N<v;N++)C[E+N]=T}function i(C){return new Int32Array(C)}function o(C,E){for(var T=[],v=0;v<C;v++)T.push(new E);return T}function l(C,E){var T=[];return function v(N,O,L){for(var Q=L[O],D=0;D<Q&&(N.push(L.length>O+1?[]:new E),!(L.length<O+1));D++)v(N[D],O+1,L)}(T,0,C),T}var c=function(){var C=this;function E(b,B){for(var I=1<<B-1>>>0;b&I;)I>>>=1;return I?(b&I-1)+I:b}function T(b,B,I,H,K){e(!(H%I));do b[B+(H-=I)]=K;while(0<H)}function v(b,B,I,H,K){if(e(2328>=K),512>=K)var J=i(512);else if((J=i(K))==null)return 0;return function(ee,te,ne,de,je,Pe){var Te,Ce,Ke=te,Ue=1<<ne,Ne=i(16),_e=i(16);for(e(je!=0),e(de!=null),e(ee!=null),e(0<ne),Ce=0;Ce<je;++Ce){if(15<de[Ce])return 0;++Ne[de[Ce]]}if(Ne[0]==je)return 0;for(_e[1]=0,Te=1;15>Te;++Te){if(Ne[Te]>1<<Te)return 0;_e[Te+1]=_e[Te]+Ne[Te]}for(Ce=0;Ce<je;++Ce)Te=de[Ce],0<de[Ce]&&(Pe[_e[Te]++]=Ce);if(_e[15]==1)return(de=new N).g=0,de.value=Pe[0],T(ee,Ke,1,Ue,de),Ue;var qe,We=-1,Ve=Ue-1,nt=0,Je=1,pt=1,Ze=1<<ne;for(Ce=0,Te=1,je=2;Te<=ne;++Te,je<<=1){if(Je+=pt<<=1,0>(pt-=Ne[Te]))return 0;for(;0<Ne[Te];--Ne[Te])(de=new N).g=Te,de.value=Pe[Ce++],T(ee,Ke+nt,je,Ze,de),nt=E(nt,Te)}for(Te=ne+1,je=2;15>=Te;++Te,je<<=1){if(Je+=pt<<=1,0>(pt-=Ne[Te]))return 0;for(;0<Ne[Te];--Ne[Te]){if(de=new N,(nt&Ve)!=We){for(Ke+=Ze,qe=1<<(We=Te)-ne;15>We&&!(0>=(qe-=Ne[We]));)++We,qe<<=1;Ue+=Ze=1<<(qe=We-ne),ee[te+(We=nt&Ve)].g=qe+ne,ee[te+We].value=Ke-te-We}de.g=Te-ne,de.value=Pe[Ce++],T(ee,Ke+(nt>>ne),je,Ze,de),nt=E(nt,Te)}}return Je!=2*_e[15]-1?0:Ue}(b,B,I,H,K,J)}function N(){this.value=this.g=0}function O(){this.value=this.g=0}function L(){this.G=o(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(as,O)}function Q(b,B,I,H){e(b!=null),e(B!=null),e(2147483648>H),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=B,b.pa=I,b.Jd=B,b.Yc=I+H,b.Zc=4<=H?I+H-4+1:I,Ae(b)}function D(b,B){for(var I=0;0<B--;)I|=ie(b,128)<<B;return I}function U(b,B){var I=D(b,B);return re(b)?-I:I}function R(b,B,I,H){var K,J=0;for(e(b!=null),e(B!=null),e(4294967288>H),b.Sb=H,b.Ra=0,b.u=0,b.h=0,4<H&&(H=4),K=0;K<H;++K)J+=B[I+K]<<8*K;b.Ra=J,b.bb=H,b.oa=B,b.pa=I}function z(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<PA-8>>>0,++b.bb,b.u-=8;G(b)&&(b.h=1,b.u=0)}function Y(b,B){if(e(0<=B),!b.h&&B<=FA){var I=M(b)&kA[B];return b.u+=B,z(b),I}return b.h=1,b.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(b){return b.Ra>>>(b.u&PA-1)>>>0}function G(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>PA}function V(b,B){b.u=B,b.h=G(b)}function ae(b){b.u>=Um&&(e(b.u>=Um),z(b))}function Ae(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function re(b){return D(b,1)}function ie(b,B){var I=b.Ca;0>b.b&&Ae(b);var H=b.b,K=I*B>>>8,J=(b.I>>>H>K)+0;for(J?(I-=K,b.I-=K+1<<H>>>0):I=K+1,H=I,K=0;256<=H;)K+=8,H>>=8;return H=7^K+aa[H],b.b-=H,b.Ca=(I<<H)-1,J}function ce(b,B,I){b[B+0]=I>>24&255,b[B+1]=I>>16&255,b[B+2]=I>>8&255,b[B+3]=I>>0&255}function Z(b,B){return b[B+0]<<0|b[B+1]<<8}function me(b,B){return Z(b,B)|b[B+2]<<16}function Me(b,B){return Z(b,B)|Z(b,B+2)<<16}function Re(b,B){var I=1<<B;return e(b!=null),e(0<B),b.X=i(I),b.X==null?0:(b.Mb=32-B,b.Xa=B,1)}function ye(b,B){e(b!=null),e(B!=null),e(b.Xa==B.Xa),n(B.X,0,b.X,0,1<<B.Xa)}function q(){this.X=[],this.Xa=this.Mb=0}function Ee(b,B,I,H){e(I!=null),e(H!=null);var K=I[0],J=H[0];return K==0&&(K=(b*J+B/2)/B),J==0&&(J=(B*K+b/2)/b),0>=K||0>=J?0:(I[0]=K,H[0]=J,1)}function Oe(b,B){return b+(1<<B)-1>>>B}function ke(b,B){return((4278255360&b)+(4278255360&B)>>>0&4278255360)+((16711935&b)+(16711935&B)>>>0&16711935)>>>0}function Le(b,B){C[B]=function(I,H,K,J,ee,te,ne){var de;for(de=0;de<ee;++de){var je=C[b](te[ne+de-1],K,J+de);te[ne+de]=ke(I[H+de],je)}}}function Ie(){this.ud=this.hd=this.jd=0}function Be(b,B){return((4278124286&(b^B))>>>1)+(b&B)>>>0}function he(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function $e(b,B){return he(b+(b-B+.5>>1))}function pe(b,B,I){return Math.abs(B-I)-Math.abs(b-I)}function ue(b,B,I,H,K,J,ee){for(H=J[ee-1],I=0;I<K;++I)J[ee+I]=H=ke(b[B+I],H)}function se(b,B,I,H,K){var J;for(J=0;J<I;++J){var ee=b[B+J],te=ee>>8&255,ne=16711935&(ne=(ne=16711935&ee)+((te<<16)+te));H[K+J]=(4278255360&ee)+ne>>>0}}function le(b,B){B.jd=b>>0&255,B.hd=b>>8&255,B.ud=b>>16&255}function ve(b,B,I,H,K,J){var ee;for(ee=0;ee<H;++ee){var te=B[I+ee],ne=te>>>8,de=te,je=255&(je=(je=te>>>16)+((b.jd<<24>>24)*(ne<<24>>24)>>>5));de=255&(de=(de=de+((b.hd<<24>>24)*(ne<<24>>24)>>>5))+((b.ud<<24>>24)*(je<<24>>24)>>>5)),K[J+ee]=(4278255360&te)+(je<<16)+de}}function xe(b,B,I,H,K){C[B]=function(J,ee,te,ne,de,je,Pe,Te,Ce){for(ne=Pe;ne<Te;++ne)for(Pe=0;Pe<Ce;++Pe)de[je++]=K(te[H(J[ee++])])},C[b]=function(J,ee,te,ne,de,je,Pe){var Te=8>>J.b,Ce=J.Ea,Ke=J.K[0],Ue=J.w;if(8>Te)for(J=(1<<J.b)-1,Ue=(1<<Te)-1;ee<te;++ee){var Ne,_e=0;for(Ne=0;Ne<Ce;++Ne)Ne&J||(_e=H(ne[de++])),je[Pe++]=K(Ke[_e&Ue]),_e>>=Te}else C["VP8LMapColor"+I](ne,de,Ke,Ue,je,Pe,ee,te,Ce)}}function Se(b,B,I,H,K){for(I=B+I;B<I;){var J=b[B++];H[K++]=J>>16&255,H[K++]=J>>8&255,H[K++]=J>>0&255}}function et(b,B,I,H,K){for(I=B+I;B<I;){var J=b[B++];H[K++]=J>>16&255,H[K++]=J>>8&255,H[K++]=J>>0&255,H[K++]=J>>24&255}}function ze(b,B,I,H,K){for(I=B+I;B<I;){var J=(ee=b[B++])>>16&240|ee>>12&15,ee=ee>>0&240|ee>>28&15;H[K++]=J,H[K++]=ee}}function ft(b,B,I,H,K){for(I=B+I;B<I;){var J=(ee=b[B++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;H[K++]=J,H[K++]=ee}}function mt(b,B,I,H,K){for(I=B+I;B<I;){var J=b[B++];H[K++]=J>>0&255,H[K++]=J>>8&255,H[K++]=J>>16&255}}function Wt(b,B,I,H,K,J){if(J==0)for(I=B+I;B<I;)ce(H,((J=b[B++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),K+=32;else n(H,K,b,B,I)}function ms(b,B){C[B][0]=C[b+"0"],C[B][1]=C[b+"1"],C[B][2]=C[b+"2"],C[B][3]=C[b+"3"],C[B][4]=C[b+"4"],C[B][5]=C[b+"5"],C[B][6]=C[b+"6"],C[B][7]=C[b+"7"],C[B][8]=C[b+"8"],C[B][9]=C[b+"9"],C[B][10]=C[b+"10"],C[B][11]=C[b+"11"],C[B][12]=C[b+"12"],C[B][13]=C[b+"13"],C[B][14]=C[b+"0"],C[B][15]=C[b+"0"]}function tr(b){return b==tN||b==rN||b==oy||b==nN}function _d(){this.eb=[],this.size=this.A=this.fb=0}function Jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Si(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _d,this.f.kb=new Jr,this.sd=null}function Ko(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function rr(b,B){var I=b.T,H=B.ba.f.RGBA,K=H.eb,J=H.fb+b.ka*H.A,ee=Ya[B.ba.S],te=b.y,ne=b.O,de=b.f,je=b.N,Pe=b.ea,Te=b.W,Ce=B.cc,Ke=B.dc,Ue=B.Mc,Ne=B.Nc,_e=b.ka,qe=b.ka+b.T,We=b.U,Ve=We+1>>1;for(_e==0?ee(te,ne,null,null,de,je,Pe,Te,de,je,Pe,Te,K,J,null,null,We):(ee(B.ec,B.fc,te,ne,Ce,Ke,Ue,Ne,de,je,Pe,Te,K,J-H.A,K,J,We),++I);_e+2<qe;_e+=2)Ce=de,Ke=je,Ue=Pe,Ne=Te,je+=b.Rc,Te+=b.Rc,J+=2*H.A,ee(te,(ne+=2*b.fa)-b.fa,te,ne,Ce,Ke,Ue,Ne,de,je,Pe,Te,K,J-H.A,K,J,We);return ne+=b.fa,b.j+qe<b.o?(n(B.ec,B.fc,te,ne,We),n(B.cc,B.dc,de,je,Ve),n(B.Mc,B.Nc,Pe,Te,Ve),I--):1&qe||ee(te,ne,null,null,de,je,Pe,Te,de,je,Pe,Te,K,J+H.A,null,null,We),I}function Cd(b,B,I){var H=b.F,K=[b.J];if(H!=null){var J=b.U,ee=B.ba.S,te=ee==iy||ee==oy;B=B.ba.f.RGBA;var ne=[0],de=b.ka;ne[0]=b.T,b.Kb&&(de==0?--ne[0]:(--de,K[0]-=b.width),b.j+b.ka+b.T==b.o&&(ne[0]=b.o-b.j-de));var je=B.eb;de=B.fb+de*B.A,b=Nr(H,K[0],b.width,J,ne,je,de+(te?0:3),B.A),e(I==ne),b&&tr(ee)&&Ga(je,de,te,J,ne,B.A)}return 0}function ss(b){var B=b.ma,I=B.ba.S,H=11>I,K=I==sy||I==ay||I==iy||I==eN||I==12||tr(I);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!Mm(B.Oa,b,K?11:12))return 0;if(K&&tr(I)&&Ge(),b.da)alert("todo:use_scaling");else{if(H){if(B.Ib=Pt,b.Kb){if(I=b.U+1>>1,B.memory=i(b.U+2*I),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+b.U,B.Mc=B.cc,B.Nc=B.dc+I,B.Ib=rr,Ge()}}else alert("todo:EmitYUV");K&&(B.Jb=Cd,H&&Fe())}if(H&&!b6){for(b=0;256>b;++b)LG[b]=89858*(b-128)+cy>>ly,UG[b]=-22014*(b-128)+cy,DG[b]=-45773*(b-128),MG[b]=113618*(b-128)+cy>>ly;for(b=Vm;b<iN;++b)B=76283*(b-16)+cy>>ly,RG[b-Vm]=_a(B,255),QG[b-Vm]=_a(B+8>>4,15);b6=1}return 1}function Ao(b){var B=b.ma,I=b.U,H=b.T;return e(!(1&b.ka)),0>=I||0>=H?0:(I=B.Ib(b,B),B.Jb!=null&&B.Jb(b,B,I),B.Dc+=I,1)}function ho(b){b.ma.memory=null}function yt(b,B,I,H){return Y(b,8)!=47?0:(B[0]=Y(b,14)+1,I[0]=Y(b,14)+1,H[0]=Y(b,1),Y(b,3)!=0?0:!b.h)}function Bi(b,B){if(4>b)return b+1;var I=b-2>>1;return(2+(1&b)<<I)+Y(B,I)+1}function fo(b,B){return 120<B?B-120:1<=(I=((I=wG[B-1])>>4)*b+(8-(15&I)))?I:1;var I}function na(b,B,I){var H=M(I),K=b[B+=255&H].g-8;return 0<K&&(V(I,I.u+8),H=M(I),B+=b[B].value,B+=H&(1<<K)-1),V(I,I.u+b[B].g),b[B].value}function On(b,B,I){return I.g+=b.g,I.value+=b.value<<B>>>0,e(8>=I.g),b.g}function yn(b,B,I){var H=b.xc;return e((B=H==0?0:b.vc[b.md*(I>>H)+(B>>H)])<b.Wb),b.Ya[B]}function Na(b,B,I,H){var K=b.ab,J=b.c*B,ee=b.C;B=ee+B;var te=I,ne=H;for(H=b.Ta,I=b.Ua;0<K--;){var de=b.gc[K],je=ee,Pe=B,Te=te,Ce=ne,Ke=(ne=H,te=I,de.Ea);switch(e(je<Pe),e(Pe<=de.nc),de.hc){case 2:Yx(Te,Ce,(Pe-je)*Ke,ne,te);break;case 0:var Ue=je,Ne=Pe,_e=ne,qe=te,We=(Ze=de).Ea;Ue==0&&(Jj(Te,Ce,null,null,1,_e,qe),ue(Te,Ce+1,0,0,We-1,_e,qe+1),Ce+=We,qe+=We,++Ue);for(var Ve=1<<Ze.b,nt=Ve-1,Je=Oe(We,Ze.b),pt=Ze.K,Ze=Ze.w+(Ue>>Ze.b)*Je;Ue<Ne;){var er=pt,ir=Ze,Gt=1;for(Rm(Te,Ce,_e,qe-We,1,_e,qe);Gt<We;){var zt=(Gt&~nt)+Ve;zt>We&&(zt=We),(0,nc[er[ir++]>>8&15])(Te,Ce+ +Gt,_e,qe+Gt-We,zt-Gt,_e,qe+Gt),Gt=zt}Ce+=We,qe+=We,++Ue&nt||(Ze+=Je)}Pe!=de.nc&&n(ne,te-Ke,ne,te+(Pe-je-1)*Ke,Ke);break;case 1:for(Ke=Te,Ne=Ce,We=(Te=de.Ea)-(qe=Te&~(_e=(Ce=1<<de.b)-1)),Ue=Oe(Te,de.b),Ve=de.K,de=de.w+(je>>de.b)*Ue;je<Pe;){for(nt=Ve,Je=de,pt=new Ie,Ze=Ne+qe,er=Ne+Te;Ne<Ze;)le(nt[Je++],pt),Pd(pt,Ke,Ne,Ce,ne,te),Ne+=Ce,te+=Ce;Ne<er&&(le(nt[Je++],pt),Pd(pt,Ke,Ne,We,ne,te),Ne+=We,te+=We),++je&_e||(de+=Ue)}break;case 3:if(Te==ne&&Ce==te&&0<de.b){for(Ne=ne,Te=Ke=te+(Pe-je)*Ke-(qe=(Pe-je)*Oe(de.Ea,de.b)),Ce=ne,_e=te,Ue=[],qe=(We=qe)-1;0<=qe;--qe)Ue[qe]=Ce[_e+qe];for(qe=We-1;0<=qe;--qe)Ne[Te+qe]=Ue[qe];Va(de,je,Pe,ne,Ke,ne,te)}else Va(de,je,Pe,Te,Ce,ne,te)}te=H,ne=I}ne!=I&&n(H,I,te,ne,J)}function hA(b,B){var I=b.V,H=b.Ba+b.c*b.C,K=B-b.C;if(e(B<=b.l.o),e(16>=K),0<K){var J=b.l,ee=b.Ta,te=b.Ua,ne=J.width;if(Na(b,K,I,H),K=te=[te],e((I=b.C)<(H=B)),e(J.v<J.va),H>J.o&&(H=J.o),I<J.j){var de=J.j-I;I=J.j,K[0]+=de*ne}if(I>=H?I=0:(K[0]+=4*J.v,J.ka=I-J.j,J.U=J.va-J.v,J.T=H-I,I=1),I){if(te=te[0],11>(I=b.ca).S){var je=I.f.RGBA,Pe=(H=I.S,K=J.U,J=J.T,de=je.eb,je.A),Te=J;for(je=je.fb+b.Ma*je.A;0<Te--;){var Ce=ee,Ke=te,Ue=K,Ne=de,_e=je;switch(H){case ny:ia(Ce,Ke,Ue,Ne,_e);break;case sy:Rs(Ce,Ke,Ue,Ne,_e);break;case tN:Rs(Ce,Ke,Ue,Ne,_e),Ga(Ne,_e,0,Ue,1,0);break;case A6:Jo(Ce,Ke,Ue,Ne,_e);break;case ay:Wt(Ce,Ke,Ue,Ne,_e,1);break;case rN:Wt(Ce,Ke,Ue,Ne,_e,1),Ga(Ne,_e,0,Ue,1,0);break;case iy:Wt(Ce,Ke,Ue,Ne,_e,0);break;case oy:Wt(Ce,Ke,Ue,Ne,_e,0),Ga(Ne,_e,1,Ue,1,0);break;case eN:sc(Ce,Ke,Ue,Ne,_e);break;case nN:sc(Ce,Ke,Ue,Ne,_e),jr(Ne,_e,Ue,1,0);break;case h6:Yo(Ce,Ke,Ue,Ne,_e);break;default:e(0)}te+=ne,je+=Pe}b.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=I.height)}}b.C=B,e(b.C<=b.i)}function Wo(b){var B;if(0<b.ua)return 0;for(B=0;B<b.Wb;++B){var I=b.Ya[B].G,H=b.Ya[B].H;if(0<I[1][H[1]+0].g||0<I[2][H[2]+0].g||0<I[3][H[3]+0].g)return 0}return 1}function Ei(b,B,I,H,K,J){if(b.Z!=0){var ee=b.qd,te=b.rd;for(e(lc[b.Z]!=null);B<I;++B)lc[b.Z](ee,te,H,K,H,K,J),ee=H,te=K,K+=J;b.qd=ee,b.rd=te}}function ki(b,B){var I=b.l.ma,H=I.Z==0||I.Z==1?b.l.j:b.C;if(H=b.C<H?H:b.C,e(B<=b.l.o),B>H){var K=b.l.width,J=I.ca,ee=I.tb+K*H,te=b.V,ne=b.Ba+b.c*H,de=b.gc;e(b.ab==1),e(de[0].hc==3),Jx(de[0],H,B,te,ne,J,ee),Ei(I,H,B,J,ee,K)}b.C=b.Ma=B}function Fi(b,B,I,H,K,J,ee){var te=b.$/H,ne=b.$%H,de=b.m,je=b.s,Pe=I+b.$,Te=Pe;K=I+H*K;var Ce=I+H*J,Ke=280+je.ua,Ue=b.Pb?te:16777216,Ne=0<je.ua?je.Wa:null,_e=je.wc,qe=Pe<Ce?yn(je,ne,te):null;e(b.C<J),e(Ce<=K);var We=!1;e:for(;;){for(;We||Pe<Ce;){var Ve=0;if(te>=Ue){var nt=Pe-I;e((Ue=b).Pb),Ue.wd=Ue.m,Ue.xd=nt,0<Ue.s.ua&&ye(Ue.s.Wa,Ue.s.vb),Ue=te+NG}if(ne&_e||(qe=yn(je,ne,te)),e(qe!=null),qe.Qb&&(B[Pe]=qe.qb,We=!0),!We)if(ae(de),qe.jc){Ve=de,nt=B;var Je=Pe,pt=qe.pd[M(Ve)&as-1];e(qe.jc),256>pt.g?(V(Ve,Ve.u+pt.g),nt[Je]=pt.value,Ve=0):(V(Ve,Ve.u+pt.g-256),e(256<=pt.value),Ve=pt.value),Ve==0&&(We=!0)}else Ve=na(qe.G[0],qe.H[0],de);if(de.h)break;if(We||256>Ve){if(!We)if(qe.nd)B[Pe]=(qe.qb|Ve<<8)>>>0;else{if(ae(de),We=na(qe.G[1],qe.H[1],de),ae(de),nt=na(qe.G[2],qe.H[2],de),Je=na(qe.G[3],qe.H[3],de),de.h)break;B[Pe]=(Je<<24|We<<16|Ve<<8|nt)>>>0}if(We=!1,++Pe,++ne>=H&&(ne=0,++te,ee!=null&&te<=J&&!(te%16)&&ee(b,te),Ne!=null))for(;Te<Pe;)Ve=B[Te++],Ne.X[(506832829*Ve&4294967295)>>>Ne.Mb]=Ve}else if(280>Ve){if(Ve=Bi(Ve-256,de),nt=na(qe.G[4],qe.H[4],de),ae(de),nt=fo(H,nt=Bi(nt,de)),de.h)break;if(Pe-I<nt||K-Pe<Ve)break e;for(Je=0;Je<Ve;++Je)B[Pe+Je]=B[Pe+Je-nt];for(Pe+=Ve,ne+=Ve;ne>=H;)ne-=H,++te,ee!=null&&te<=J&&!(te%16)&&ee(b,te);if(e(Pe<=K),ne&_e&&(qe=yn(je,ne,te)),Ne!=null)for(;Te<Pe;)Ve=B[Te++],Ne.X[(506832829*Ve&4294967295)>>>Ne.Mb]=Ve}else{if(!(Ve<Ke))break e;for(We=Ve-280,e(Ne!=null);Te<Pe;)Ve=B[Te++],Ne.X[(506832829*Ve&4294967295)>>>Ne.Mb]=Ve;Ve=Pe,e(!(We>>>(nt=Ne).Xa)),B[Ve]=nt.X[We],We=!0}We||e(de.h==G(de))}if(b.Pb&&de.h&&Pe<K)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ye(b.s.vb,b.s.Wa);else{if(de.h)break e;ee!=null&&ee(b,te>J?J:te),b.a=0,b.$=Pe-I}return 1}return b.a=3,0}function mo(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var B=b.Wa;B!=null&&(B.X=null),b.vb=null,e(b!=null)}function qa(){var b=new Yj;return b==null?null:(b.a=0,b.xb=p6,ms("Predictor","VP8LPredictors"),ms("Predictor","VP8LPredictors_C"),ms("PredictorAdd","VP8LPredictorsAdd"),ms("PredictorAdd","VP8LPredictorsAdd_C"),Yx=se,Pd=ve,ia=Se,Rs=et,sc=ze,Yo=ft,Jo=mt,C.VP8LMapColor32b=TA,C.VP8LMapColor8b=Zx,b)}function po(b,B,I,H,K){var J=1,ee=[b],te=[B],ne=H.m,de=H.s,je=null,Pe=0;e:for(;;){if(I)for(;J&&Y(ne,1);){var Te=ee,Ce=te,Ke=H,Ue=1,Ne=Ke.m,_e=Ke.gc[Ke.ab],qe=Y(Ne,2);if(Ke.Oc&1<<qe)J=0;else{switch(Ke.Oc|=1<<qe,_e.hc=qe,_e.Ea=Te[0],_e.nc=Ce[0],_e.K=[null],++Ke.ab,e(4>=Ke.ab),qe){case 0:case 1:_e.b=Y(Ne,3)+2,Ue=po(Oe(_e.Ea,_e.b),Oe(_e.nc,_e.b),0,Ke,_e.K),_e.K=_e.K[0];break;case 3:var We,Ve=Y(Ne,8)+1,nt=16<Ve?0:4<Ve?1:2<Ve?2:3;if(Te[0]=Oe(_e.Ea,nt),_e.b=nt,We=Ue=po(Ve,1,0,Ke,_e.K)){var Je,pt=Ve,Ze=_e,er=1<<(8>>Ze.b),ir=i(er);if(ir==null)We=0;else{var Gt=Ze.K[0],zt=Ze.w;for(ir[0]=Ze.K[0][0],Je=1;Je<1*pt;++Je)ir[Je]=ke(Gt[zt+Je],ir[Je-1]);for(;Je<4*er;++Je)ir[Je]=0;Ze.K[0]=null,Ze.K[0]=ir,We=1}}Ue=We;break;case 2:break;default:e(0)}J=Ue}}if(ee=ee[0],te=te[0],J&&Y(ne,1)&&!(J=1<=(Pe=Y(ne,4))&&11>=Pe)){H.a=3;break e}var yr;if(yr=J)t:{var pr,Mt,bn,oa=H,wn=ee,la=te,or=Pe,Sa=I,Ba=oa.m,Wn=oa.s,is=[null],$s=1,Ja=0,vo=jG[or];r:for(;;){if(Sa&&Y(Ba,1)){var Gn=Y(Ba,3)+2,rl=Oe(wn,Gn),Md=Oe(la,Gn),DA=rl*Md;if(!po(rl,Md,0,oa,is))break r;for(is=is[0],Wn.xc=Gn,pr=0;pr<DA;++pr){var cc=is[pr]>>8&65535;is[pr]=cc,cc>=$s&&($s=cc+1)}}if(Ba.h)break r;for(Mt=0;5>Mt;++Mt){var tn=f6[Mt];!Mt&&0<or&&(tn+=1<<or),Ja<tn&&(Ja=tn)}var oN=o($s*vo,N),N6=$s,_6=o(N6,L);if(_6==null)var uy=null;else e(65536>=N6),uy=_6;var Km=i(Ja);if(uy==null||Km==null||oN==null){oa.a=1;break r}var Ay=oN;for(pr=bn=0;pr<$s;++pr){var Li=uy[pr],UA=Li.G,RA=Li.H,C6=0,hy=1,S6=0;for(Mt=0;5>Mt;++Mt){tn=f6[Mt],UA[Mt]=Ay,RA[Mt]=bn,!Mt&&0<or&&(tn+=1<<or);s:{var fy,lN=tn,my=oa,Wm=Km,zG=Ay,qG=bn,cN=0,dc=my.m,VG=Y(dc,1);if(a(Wm,0,0,lN),VG){var KG=Y(dc,1)+1,WG=Y(dc,1),B6=Y(dc,WG==0?1:8);Wm[B6]=1,KG==2&&(Wm[B6=Y(dc,8)]=1);var py=1}else{var E6=i(19),k6=Y(dc,4)+4;if(19<k6){my.a=3;var gy=0;break s}for(fy=0;fy<k6;++fy)E6[bG[fy]]=Y(dc,3);var dN=void 0,Gm=void 0,F6=my,GG=E6,xy=lN,P6=Wm,uN=0,uc=F6.m,T6=8,O6=o(128,N);n:for(;v(O6,0,7,GG,19);){if(Y(uc,1)){var XG=2+2*Y(uc,3);if((dN=2+Y(uc,XG))>xy)break n}else dN=xy;for(Gm=0;Gm<xy&&dN--;){ae(uc);var I6=O6[0+(127&M(uc))];V(uc,uc.u+I6.g);var QA=I6.value;if(16>QA)P6[Gm++]=QA,QA!=0&&(T6=QA);else{var YG=QA==16,L6=QA-16,JG=yG[L6],M6=Y(uc,xG[L6])+JG;if(Gm+M6>xy)break n;for(var ZG=YG?T6:0;0<M6--;)P6[Gm++]=ZG}}uN=1;break n}uN||(F6.a=3),py=uN}(py=py&&!dc.h)&&(cN=v(zG,qG,8,Wm,lN)),py&&cN!=0?gy=cN:(my.a=3,gy=0)}if(gy==0)break r;if(hy&&vG[Mt]==1&&(hy=Ay[bn].g==0),C6+=Ay[bn].g,bn+=gy,3>=Mt){var Xm,AN=Km[0];for(Xm=1;Xm<tn;++Xm)Km[Xm]>AN&&(AN=Km[Xm]);S6+=AN}}if(Li.nd=hy,Li.Qb=0,hy&&(Li.qb=(UA[3][RA[3]+0].value<<24|UA[1][RA[1]+0].value<<16|UA[2][RA[2]+0].value)>>>0,C6==0&&256>UA[0][RA[0]+0].value&&(Li.Qb=1,Li.qb+=UA[0][RA[0]+0].value<<8)),Li.jc=!Li.Qb&&6>S6,Li.jc){var yy,nl=Li;for(yy=0;yy<as;++yy){var Ac=yy,hc=nl.pd[Ac],vy=nl.G[0][nl.H[0]+Ac];256<=vy.value?(hc.g=vy.g+256,hc.value=vy.value):(hc.g=0,hc.value=0,Ac>>=On(vy,8,hc),Ac>>=On(nl.G[1][nl.H[1]+Ac],16,hc),Ac>>=On(nl.G[2][nl.H[2]+Ac],0,hc),On(nl.G[3][nl.H[3]+Ac],24,hc))}}}Wn.vc=is,Wn.Wb=$s,Wn.Ya=uy,Wn.yc=oN,yr=1;break t}yr=0}if(!(J=yr)){H.a=3;break e}if(0<Pe){if(de.ua=1<<Pe,!Re(de.Wa,Pe)){H.a=1,J=0;break e}}else de.ua=0;var hN=H,D6=ee,eX=te,fN=hN.s,mN=fN.xc;if(hN.c=D6,hN.i=eX,fN.md=Oe(D6,mN),fN.wc=mN==0?-1:(1<<mN)-1,I){H.xb=FG;break e}if((je=i(ee*te))==null){H.a=1,J=0;break e}J=(J=Fi(H,je,0,ee,te,te,null))&&!ne.h;break e}return J?(K!=null?K[0]=je:(e(je==null),e(I)),H.$=0,I||mo(de)):mo(de),J}function Sd(b,B){var I=b.c*b.i,H=I+B+16*B;return e(b.c<=B),b.V=i(H),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+I+B,1)}function fA(b,B){var I=b.C,H=B-I,K=b.V,J=b.Ba+b.c*I;for(e(B<=b.l.o);0<H;){var ee=16<H?16:H,te=b.l.ma,ne=b.l.width,de=ne*ee,je=te.ca,Pe=te.tb+ne*I,Te=b.Ta,Ce=b.Ua;Na(b,ee,K,J),cn(Te,Ce,je,Pe,de),Ei(te,I,I+ee,je,Pe,ne),H-=ee,K+=ee*b.c,I+=ee}e(I==B),b.C=b.Ma=B}function mA(){this.ub=this.yd=this.td=this.Rb=0}function pA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gA(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Fx(){this.Yb=function(){var b=[];return function B(I,H,K){for(var J=K[H],ee=0;ee<J&&(I.push(K.length>H+1?[]:0),!(K.length<H+1));ee++)B(I[ee],H+1,K)}(b,0,[3,11]),b}()}function Bj(){this.jb=i(3),this.Wc=l([4,8],Fx),this.Xc=l([4,17],Fx)}function Ej(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function xA(){this.ld=this.La=this.dd=this.tc=0}function Px(){this.Na=this.la=0}function kj(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bm(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fj(){this.uc=this.M=this.Nb=0,this.wa=Array(new xA),this.Y=0,this.ya=Array(new bm),this.aa=0,this.l=new yA}function Tx(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Pj(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new mA,this.Kc=new pA,this.ed=new Ej,this.Qa=new gA,this.Ic=this.$c=this.Aa=0,this.D=new Fj,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,X),this.ia=0,this.pb=o(4,kj),this.Pa=new Bj,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Tx),this.Hd=0,this.rb=Array(new Px),this.sb=0,this.wa=Array(new xA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bm),this.L=this.aa=0,this.gd=l([4,2],xA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Tj(){var b=new Pj;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,qm||(qm=Lx)),b}function on(b,B,I){return b.a==0&&(b.a=B,b.sc=I,b.cb=0),0}function Ox(b,B,I){return 3<=I&&b[B+0]==157&&b[B+1]==1&&b[B+2]==42}function Ix(b,B){if(b==null)return 0;if(b.a=0,b.sc="OK",B==null)return on(b,2,"null VP8Io passed to VP8GetHeaders()");var I=B.data,H=B.w,K=B.ha;if(4>K)return on(b,7,"Truncated header.");var J=I[H+0]|I[H+1]<<8|I[H+2]<<16,ee=b.Od;if(ee.Rb=!(1&J),ee.td=J>>1&7,ee.yd=J>>4&1,ee.ub=J>>5,3<ee.td)return on(b,3,"Incorrect keyframe parameters.");if(!ee.yd)return on(b,4,"Frame not displayable.");H+=3,K-=3;var te=b.Kc;if(ee.Rb){if(7>K)return on(b,7,"cannot parse picture header");if(!Ox(I,H,K))return on(b,3,"Bad code word");te.c=16383&(I[H+4]<<8|I[H+3]),te.Td=I[H+4]>>6,te.i=16383&(I[H+6]<<8|I[H+5]),te.Ud=I[H+6]>>6,H+=7,K-=7,b.za=te.c+15>>4,b.Ub=te.i+15>>4,B.width=te.c,B.height=te.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,a((J=b.Pa).jb,0,255,J.jb.length),e((J=b.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,a(J.Zb,0,0,J.Zb.length),a(J.Lb,0,0,J.Lb)}if(ee.ub>K)return on(b,7,"bad partition length");Q(J=b.m,I,H,ee.ub),H+=ee.ub,K-=ee.ub,ee.Rb&&(te.Ld=re(J),te.Kd=re(J)),te=b.Qa;var ne,de=b.Pa;if(e(J!=null),e(te!=null),te.Cb=re(J),te.Cb){if(te.Bb=re(J),re(J)){for(te.Fb=re(J),ne=0;4>ne;++ne)te.Zb[ne]=re(J)?U(J,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=re(J)?U(J,6):0}if(te.Bb)for(ne=0;3>ne;++ne)de.jb[ne]=re(J)?D(J,8):255}else te.Bb=0;if(J.Ka)return on(b,3,"cannot parse segment header");if((te=b.ed).zd=re(J),te.Tb=D(J,6),te.wb=D(J,3),te.Pc=re(J),te.Pc&&re(J)){for(de=0;4>de;++de)re(J)&&(te.vd[de]=U(J,6));for(de=0;4>de;++de)re(J)&&(te.od[de]=U(J,6))}if(b.L=te.Tb==0?0:te.zd?1:2,J.Ka)return on(b,3,"cannot parse filter header");var je=K;if(K=ne=H,H=ne+je,te=je,b.Xb=(1<<D(b.m,2))-1,je<3*(de=b.Xb))I=7;else{for(ne+=3*de,te-=3*de,je=0;je<de;++je){var Pe=I[K+0]|I[K+1]<<8|I[K+2]<<16;Pe>te&&(Pe=te),Q(b.Jc[+je],I,ne,Pe),ne+=Pe,te-=Pe,K+=3}Q(b.Jc[+de],I,ne,te),I=ne<H?0:5}if(I!=0)return on(b,I,"cannot parse partitions");for(I=D(ne=b.m,7),K=re(ne)?U(ne,4):0,H=re(ne)?U(ne,4):0,te=re(ne)?U(ne,4):0,de=re(ne)?U(ne,4):0,ne=re(ne)?U(ne,4):0,je=b.Qa,Pe=0;4>Pe;++Pe){if(je.Cb){var Te=je.Zb[Pe];je.Fb||(Te+=I)}else{if(0<Pe){b.pb[Pe]=b.pb[0];continue}Te=I}var Ce=b.pb[Pe];Ce.Sc[0]=sN[_a(Te+K,127)],Ce.Sc[1]=aN[_a(Te+0,127)],Ce.Eb[0]=2*sN[_a(Te+H,127)],Ce.Eb[1]=101581*aN[_a(Te+te,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=sN[_a(Te+de,117)],Ce.Qc[1]=aN[_a(Te+ne,127)],Ce.lc=Te+ne}if(!ee.Rb)return on(b,4,"Not a key frame.");for(re(J),ee=b.Pa,I=0;4>I;++I){for(K=0;8>K;++K)for(H=0;3>H;++H)for(te=0;11>te;++te)de=ie(J,EG[I][K][H][te])?D(J,8):SG[I][K][H][te],ee.Wc[I][K].Yb[H][te]=de;for(K=0;17>K;++K)ee.Xc[I][K]=ee.Wc[I][kG[K]]}return b.kc=re(J),b.kc&&(b.Bd=D(J,8)),b.cb=1}function Lx(b,B,I,H,K,J,ee){var te=B[K].Yb[I];for(I=0;16>K;++K){if(!ie(b,te[I+0]))return K;for(;!ie(b,te[I+1]);)if(te=B[++K].Yb[0],I=0,K==16)return 16;var ne=B[K+1].Yb;if(ie(b,te[I+2])){var de=b,je=0;if(ie(de,(Te=te)[(Pe=I)+3]))if(ie(de,Te[Pe+6])){for(te=0,Pe=2*(je=ie(de,Te[Pe+8]))+(Te=ie(de,Te[Pe+9+je])),je=0,Te=_G[Pe];Te[te];++te)je+=je+ie(de,Te[te]);je+=3+(8<<Pe)}else ie(de,Te[Pe+7])?(je=7+2*ie(de,165),je+=ie(de,145)):je=5+ie(de,159);else je=ie(de,Te[Pe+4])?3+ie(de,Te[Pe+5]):2;te=ne[2]}else je=1,te=ne[1];ne=ee+CG[K],0>(de=b).b&&Ae(de);var Pe,Te=de.b,Ce=(Pe=de.Ca>>1)-(de.I>>Te)>>31;--de.b,de.Ca+=Ce,de.Ca|=1,de.I-=(Pe+1&Ce)<<Te,J[ne]=((je^Ce)-Ce)*H[(0<K)+0]}return 16}function wm(b){var B=b.rb[b.sb-1];B.la=0,B.Na=0,a(b.zc,0,0,b.zc.length),b.ja=0}function Oj(b,B){if(b==null)return 0;if(B==null)return on(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Ix(b,B))return 0;if(e(b.cb),B.ac==null||B.ac(B)){B.ob&&(b.L=0);var I=dy[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=B.v-I>>4,b.zb=B.j-I>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=B.o+15+I>>4,b.Hb=B.va+15+I>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var H=b.ed;for(I=0;4>I;++I){var K;if(b.Qa.Cb){var J=b.Qa.Lb[I];b.Qa.Fb||(J+=H.Tb)}else J=H.Tb;for(K=0;1>=K;++K){var ee=b.gd[I][K],te=J;if(H.Pc&&(te+=H.vd[0],K&&(te+=H.od[0])),0<(te=0>te?0:63<te?63:te)){var ne=te;0<H.wb&&(ne=4<H.wb?ne>>2:ne>>1)>9-H.wb&&(ne=9-H.wb),1>ne&&(ne=1),ee.dd=ne,ee.tc=2*te+ne,ee.ld=40<=te?2:15<=te?1:0}else ee.tc=0;ee.La=K}}}I=0}else on(b,6,"Frame setup failed"),I=b.a;if(I=I==0){if(I){b.$c=0,0<b.Aa||(b.Ic=HG);e:{I=b.Ic,H=4*(ne=b.za);var de=32*ne,je=ne+1,Pe=0<b.L?ne*(0<b.Aa?2:1):0,Te=(b.Aa==2?2:1)*ne;if((ee=H+832+(K=3*(16*I+dy[b.L])/2*de)+(J=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=ee)I=0;else{if(ee>b.Vb){if(b.Vb=0,b.Ec=i(ee),b.Fc=0,b.Ec==null){I=on(b,1,"no memory during frame initialization.");break e}b.Vb=ee}ee=b.Ec,te=b.Fc,b.Ac=ee,b.Bc=te,te+=H,b.Gd=o(de,Tx),b.Hd=0,b.rb=o(je+1,Px),b.sb=1,b.wa=Pe?o(Pe,xA):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=ne),e(!0),b.oc=ee,b.pc=te,te+=832,b.ya=o(Te,bm),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=ne),b.R=16*ne,b.B=8*ne,ne=(de=dy[b.L])*b.R,de=de/2*b.B,b.sa=ee,b.ta=te+ne,b.qa=b.sa,b.ra=b.ta+16*I*b.R+de,b.Ha=b.qa,b.Ia=b.ra+8*I*b.B+de,b.$c=0,te+=K,b.mb=J?ee:null,b.nb=J?te:null,e(te+J<=b.Fc+b.Vb),wm(b),a(b.Ac,b.Bc,0,H),I=1}}if(I){if(B.ka=0,B.y=b.sa,B.O=b.ta,B.f=b.qa,B.N=b.ra,B.ea=b.Ha,B.Vd=b.Ia,B.fa=b.R,B.Rc=b.B,B.F=null,B.J=0,!ty){for(I=-255;255>=I;++I)In[255+I]=0>I?-I:I;for(I=-1020;1020>=I;++I)el[1020+I]=-128>I?-128:127<I?127:I;for(I=-112;112>=I;++I)zm[112+I]=-16>I?-16:15<I?15:I;for(I=-255;510>=I;++I)MA[255+I]=0>I?0:255<I?255:I;ty=1}OA=Mj,Zo=Ij,Qm=Dx,Qs=Lj,Ka=Ux,ln=Mx,IA=Bm,ey=kd,$m=Xj,Td=Em,Od=Gj,ac=_A,Id=km,LA=Wx,Ld=Kx,ic=xo,Hm=Xo,Wa=Wj,Ii[0]=go,Ii[1]=Dj,Ii[2]=$j,Ii[3]=Hj,Ii[4]=$x,Ii[5]=jA,Ii[6]=Hx,Ii[7]=_m,Ii[8]=qj,Ii[9]=zj,oc[0]=Rx,oc[1]=Rj,oc[2]=Go,oc[3]=bA,oc[4]=ps,oc[5]=Qj,oc[6]=Qx,tl[0]=ec,tl[1]=Uj,tl[2]=Vj,tl[3]=Cm,tl[4]=Ed,tl[5]=Kj,tl[6]=Sm,I=1}else I=0}I&&(I=function(Ce,Ke){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var Ue,Ne=Ce.Jc[Ce.M&Ce.Xb],_e=Ce.m,qe=Ce;for(Ue=0;Ue<qe.za;++Ue){var We=_e,Ve=qe,nt=Ve.Ac,Je=Ve.Bc+4*Ue,pt=Ve.zc,Ze=Ve.ya[Ve.aa+Ue];if(Ve.Qa.Bb?Ze.$b=ie(We,Ve.Pa.jb[0])?2+ie(We,Ve.Pa.jb[2]):ie(We,Ve.Pa.jb[1]):Ze.$b=0,Ve.kc&&(Ze.Ad=ie(We,Ve.Bd)),Ze.Za=!ie(We,145)+0,Ze.Za){var er=Ze.Ob,ir=0;for(Ve=0;4>Ve;++Ve){var Gt,zt=pt[0+Ve];for(Gt=0;4>Gt;++Gt){zt=BG[nt[Je+Gt]][zt];for(var yr=m6[ie(We,zt[0])];0<yr;)yr=m6[2*yr+ie(We,zt[yr])];zt=-yr,nt[Je+Gt]=zt}n(er,ir,nt,Je,4),ir+=4,pt[0+Ve]=zt}}else zt=ie(We,156)?ie(We,128)?1:3:ie(We,163)?2:0,Ze.Ob[0]=zt,a(nt,Je,zt,4),a(pt,0,zt,4);Ze.Dd=ie(We,142)?ie(We,114)?ie(We,183)?1:3:2:0}if(qe.m.Ka)return on(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(qe=Ne,We=(_e=Ce).rb[_e.sb-1],nt=_e.rb[_e.sb+_e.ja],Ue=_e.ya[_e.aa+_e.ja],Je=_e.kc?Ue.Ad:0)We.la=nt.la=0,Ue.Za||(We.Na=nt.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var pr,Mt;if(We=nt,nt=qe,Je=_e.Pa.Xc,pt=_e.ya[_e.aa+_e.ja],Ze=_e.pb[pt.$b],Ve=pt.ad,er=0,ir=_e.rb[_e.sb-1],zt=Gt=0,a(Ve,er,0,384),pt.Za)var bn=0,oa=Je[3];else{yr=i(16);var wn=We.Na+ir.Na;if(wn=qm(nt,Je[1],wn,Ze.Eb,0,yr,0),We.Na=ir.Na=(0<wn)+0,1<wn)OA(yr,0,Ve,er);else{var la=yr[0]+3>>3;for(yr=0;256>yr;yr+=16)Ve[er+yr]=la}bn=1,oa=Je[0]}var or=15&We.la,Sa=15&ir.la;for(yr=0;4>yr;++yr){var Ba=1&Sa;for(la=Mt=0;4>la;++la)or=or>>1|(Ba=(wn=qm(nt,oa,wn=Ba+(1&or),Ze.Sc,bn,Ve,er))>bn)<<7,Mt=Mt<<2|(3<wn?3:1<wn?2:Ve[er+0]!=0),er+=16;or>>=4,Sa=Sa>>1|Ba<<7,Gt=(Gt<<8|Mt)>>>0}for(oa=or,bn=Sa>>4,pr=0;4>pr;pr+=2){for(Mt=0,or=We.la>>4+pr,Sa=ir.la>>4+pr,yr=0;2>yr;++yr){for(Ba=1&Sa,la=0;2>la;++la)wn=Ba+(1&or),or=or>>1|(Ba=0<(wn=qm(nt,Je[2],wn,Ze.Qc,0,Ve,er)))<<3,Mt=Mt<<2|(3<wn?3:1<wn?2:Ve[er+0]!=0),er+=16;or>>=2,Sa=Sa>>1|Ba<<5}zt|=Mt<<4*pr,oa|=or<<4<<pr,bn|=(240&Sa)<<pr}We.la=oa,ir.la=bn,pt.Hc=Gt,pt.Gc=zt,pt.ia=43690&zt?0:Ze.ia,Je=!(Gt|zt)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Ue.$b][Ue.Za],_e.wa[_e.Y+_e.ja].La|=!Je),qe.Ka)return on(Ce,7,"Premature end-of-file encountered.")}if(wm(Ce),_e=Ke,qe=1,Ue=(Ne=Ce).D,We=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(Ue.M=Ne.M,Ue.uc=We,Lm(Ne,Ue),qe=1,Ue=(Mt=Ne.D).Nb,We=(zt=dy[Ne.L])*Ne.R,nt=zt/2*Ne.B,yr=16*Ue*Ne.R,la=8*Ue*Ne.B,Je=Ne.sa,pt=Ne.ta-We+yr,Ze=Ne.qa,Ve=Ne.ra-nt+la,er=Ne.Ha,ir=Ne.Ia-nt+la,Sa=(or=Mt.M)==0,Gt=or>=Ne.Va-1,Ne.Aa==2&&Lm(Ne,Mt),Mt.uc)for(Ba=(wn=Ne).D.M,e(wn.D.uc),Mt=wn.yb;Mt<wn.Hb;++Mt){bn=Mt,oa=Ba;var Wn=(is=(tn=wn).D).Nb;pr=tn.R;var is=is.wa[is.Y+bn],$s=tn.sa,Ja=tn.ta+16*Wn*pr+16*bn,vo=is.dd,Gn=is.tc;if(Gn!=0)if(e(3<=Gn),tn.L==1)0<bn&&ic($s,Ja,pr,Gn+4),is.La&&Wa($s,Ja,pr,Gn),0<oa&&Ld($s,Ja,pr,Gn+4),is.La&&Hm($s,Ja,pr,Gn);else{var rl=tn.B,Md=tn.qa,DA=tn.ra+8*Wn*rl+8*bn,cc=tn.Ha,tn=tn.Ia+8*Wn*rl+8*bn;Wn=is.ld,0<bn&&(ey($s,Ja,pr,Gn+4,vo,Wn),Td(Md,DA,cc,tn,rl,Gn+4,vo,Wn)),is.La&&(ac($s,Ja,pr,Gn,vo,Wn),LA(Md,DA,cc,tn,rl,Gn,vo,Wn)),0<oa&&(IA($s,Ja,pr,Gn+4,vo,Wn),$m(Md,DA,cc,tn,rl,Gn+4,vo,Wn)),is.La&&(Od($s,Ja,pr,Gn,vo,Wn),Id(Md,DA,cc,tn,rl,Gn,vo,Wn))}}if(Ne.ia&&alert("todo:DitherRow"),_e.put!=null){if(Mt=16*or,or=16*(or+1),Sa?(_e.y=Ne.sa,_e.O=Ne.ta+yr,_e.f=Ne.qa,_e.N=Ne.ra+la,_e.ea=Ne.Ha,_e.W=Ne.Ia+la):(Mt-=zt,_e.y=Je,_e.O=pt,_e.f=Ze,_e.N=Ve,_e.ea=er,_e.W=ir),Gt||(or-=zt),or>_e.o&&(or=_e.o),_e.F=null,_e.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Mt<or&&(_e.J=Om(Ne,_e,Mt,or-Mt),_e.F=Ne.mb,_e.F==null&&_e.F.length==0)){qe=on(Ne,3,"Could not decode alpha data.");break e}Mt<_e.j&&(zt=_e.j-Mt,Mt=_e.j,e(!(1&zt)),_e.O+=Ne.R*zt,_e.N+=Ne.B*(zt>>1),_e.W+=Ne.B*(zt>>1),_e.F!=null&&(_e.J+=_e.width*zt)),Mt<or&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Mt-_e.j,_e.U=_e.va-_e.v,_e.T=or-Mt,qe=_e.put(_e))}Ue+1!=Ne.Ic||Gt||(n(Ne.sa,Ne.ta-We,Je,pt+16*Ne.R,We),n(Ne.qa,Ne.ra-nt,Ze,Ve+8*Ne.B,nt),n(Ne.Ha,Ne.Ia-nt,er,ir+8*Ne.B,nt))}if(!qe)return on(Ce,6,"Output aborted.")}return 1}(b,B)),B.bc!=null&&B.bc(B),I&=1}return I?(b.cb=0,I):0}function Pi(b,B,I,H,K){K=b[B+I+32*H]+(K>>3),b[B+I+32*H]=-256&K?0>K?0:255:K}function vA(b,B,I,H,K,J){Pi(b,B,0,I,H+K),Pi(b,B,1,I,H+J),Pi(b,B,2,I,H-J),Pi(b,B,3,I,H-K)}function sa(b){return(20091*b>>16)+b}function jm(b,B,I,H){var K,J=0,ee=i(16);for(K=0;4>K;++K){var te=b[B+0]+b[B+8],ne=b[B+0]-b[B+8],de=(35468*b[B+4]>>16)-sa(b[B+12]),je=sa(b[B+4])+(35468*b[B+12]>>16);ee[J+0]=te+je,ee[J+1]=ne+de,ee[J+2]=ne-de,ee[J+3]=te-je,J+=4,B++}for(K=J=0;4>K;++K)te=(b=ee[J+0]+4)+ee[J+8],ne=b-ee[J+8],de=(35468*ee[J+4]>>16)-sa(ee[J+12]),Pi(I,H,0,0,te+(je=sa(ee[J+4])+(35468*ee[J+12]>>16))),Pi(I,H,1,0,ne+de),Pi(I,H,2,0,ne-de),Pi(I,H,3,0,te-je),J++,H+=32}function Mx(b,B,I,H){var K=b[B+0]+4,J=35468*b[B+4]>>16,ee=sa(b[B+4]),te=35468*b[B+1]>>16;vA(I,H,0,K+ee,b=sa(b[B+1]),te),vA(I,H,1,K+J,b,te),vA(I,H,2,K-J,b,te),vA(I,H,3,K-ee,b,te)}function Ij(b,B,I,H,K){jm(b,B,I,H),K&&jm(b,B+16,I,H+4)}function Dx(b,B,I,H){Zo(b,B+0,I,H,1),Zo(b,B+32,I,H+128,1)}function Lj(b,B,I,H){var K;for(b=b[B+0]+4,K=0;4>K;++K)for(B=0;4>B;++B)Pi(I,H,B,K,b)}function Ux(b,B,I,H){b[B+0]&&Qs(b,B+0,I,H),b[B+16]&&Qs(b,B+16,I,H+4),b[B+32]&&Qs(b,B+32,I,H+128),b[B+48]&&Qs(b,B+48,I,H+128+4)}function Mj(b,B,I,H){var K,J=i(16);for(K=0;4>K;++K){var ee=b[B+0+K]+b[B+12+K],te=b[B+4+K]+b[B+8+K],ne=b[B+4+K]-b[B+8+K],de=b[B+0+K]-b[B+12+K];J[0+K]=ee+te,J[8+K]=ee-te,J[4+K]=de+ne,J[12+K]=de-ne}for(K=0;4>K;++K)ee=(b=J[0+4*K]+3)+J[3+4*K],te=J[1+4*K]+J[2+4*K],ne=J[1+4*K]-J[2+4*K],de=b-J[3+4*K],I[H+0]=ee+te>>3,I[H+16]=de+ne>>3,I[H+32]=ee-te>>3,I[H+48]=de-ne>>3,H+=64}function Nm(b,B,I){var H,K=B-32,J=Ca,ee=255-b[K-1];for(H=0;H<I;++H){var te,ne=J,de=ee+b[B-1];for(te=0;te<I;++te)b[B+te]=ne[de+b[K+te]];B+=32}}function Dj(b,B){Nm(b,B,4)}function Uj(b,B){Nm(b,B,8)}function Rj(b,B){Nm(b,B,16)}function Go(b,B){var I;for(I=0;16>I;++I)n(b,B+32*I,b,B-32,16)}function bA(b,B){var I;for(I=16;0<I;--I)a(b,B,b[B-1],16),B+=32}function wA(b,B,I){var H;for(H=0;16>H;++H)a(B,I+32*H,b,16)}function Rx(b,B){var I,H=16;for(I=0;16>I;++I)H+=b[B-1+32*I]+b[B+I-32];wA(H>>5,b,B)}function ps(b,B){var I,H=8;for(I=0;16>I;++I)H+=b[B-1+32*I];wA(H>>4,b,B)}function Qj(b,B){var I,H=8;for(I=0;16>I;++I)H+=b[B+I-32];wA(H>>4,b,B)}function Qx(b,B){wA(128,b,B)}function Ft(b,B,I){return b+2*B+I+2>>2}function $j(b,B){var I,H=B-32;for(H=new Uint8Array([Ft(b[H-1],b[H+0],b[H+1]),Ft(b[H+0],b[H+1],b[H+2]),Ft(b[H+1],b[H+2],b[H+3]),Ft(b[H+2],b[H+3],b[H+4])]),I=0;4>I;++I)n(b,B+32*I,H,0,H.length)}function Hj(b,B){var I=b[B-1],H=b[B-1+32],K=b[B-1+64],J=b[B-1+96];ce(b,B+0,16843009*Ft(b[B-1-32],I,H)),ce(b,B+32,16843009*Ft(I,H,K)),ce(b,B+64,16843009*Ft(H,K,J)),ce(b,B+96,16843009*Ft(K,J,J))}function go(b,B){var I,H=4;for(I=0;4>I;++I)H+=b[B+I-32]+b[B-1+32*I];for(H>>=3,I=0;4>I;++I)a(b,B+32*I,H,4)}function $x(b,B){var I=b[B-1+0],H=b[B-1+32],K=b[B-1+64],J=b[B-1-32],ee=b[B+0-32],te=b[B+1-32],ne=b[B+2-32],de=b[B+3-32];b[B+0+96]=Ft(H,K,b[B-1+96]),b[B+1+96]=b[B+0+64]=Ft(I,H,K),b[B+2+96]=b[B+1+64]=b[B+0+32]=Ft(J,I,H),b[B+3+96]=b[B+2+64]=b[B+1+32]=b[B+0+0]=Ft(ee,J,I),b[B+3+64]=b[B+2+32]=b[B+1+0]=Ft(te,ee,J),b[B+3+32]=b[B+2+0]=Ft(ne,te,ee),b[B+3+0]=Ft(de,ne,te)}function Hx(b,B){var I=b[B+1-32],H=b[B+2-32],K=b[B+3-32],J=b[B+4-32],ee=b[B+5-32],te=b[B+6-32],ne=b[B+7-32];b[B+0+0]=Ft(b[B+0-32],I,H),b[B+1+0]=b[B+0+32]=Ft(I,H,K),b[B+2+0]=b[B+1+32]=b[B+0+64]=Ft(H,K,J),b[B+3+0]=b[B+2+32]=b[B+1+64]=b[B+0+96]=Ft(K,J,ee),b[B+3+32]=b[B+2+64]=b[B+1+96]=Ft(J,ee,te),b[B+3+64]=b[B+2+96]=Ft(ee,te,ne),b[B+3+96]=Ft(te,ne,ne)}function jA(b,B){var I=b[B-1+0],H=b[B-1+32],K=b[B-1+64],J=b[B-1-32],ee=b[B+0-32],te=b[B+1-32],ne=b[B+2-32],de=b[B+3-32];b[B+0+0]=b[B+1+64]=J+ee+1>>1,b[B+1+0]=b[B+2+64]=ee+te+1>>1,b[B+2+0]=b[B+3+64]=te+ne+1>>1,b[B+3+0]=ne+de+1>>1,b[B+0+96]=Ft(K,H,I),b[B+0+64]=Ft(H,I,J),b[B+0+32]=b[B+1+96]=Ft(I,J,ee),b[B+1+32]=b[B+2+96]=Ft(J,ee,te),b[B+2+32]=b[B+3+96]=Ft(ee,te,ne),b[B+3+32]=Ft(te,ne,de)}function _m(b,B){var I=b[B+0-32],H=b[B+1-32],K=b[B+2-32],J=b[B+3-32],ee=b[B+4-32],te=b[B+5-32],ne=b[B+6-32],de=b[B+7-32];b[B+0+0]=I+H+1>>1,b[B+1+0]=b[B+0+64]=H+K+1>>1,b[B+2+0]=b[B+1+64]=K+J+1>>1,b[B+3+0]=b[B+2+64]=J+ee+1>>1,b[B+0+32]=Ft(I,H,K),b[B+1+32]=b[B+0+96]=Ft(H,K,J),b[B+2+32]=b[B+1+96]=Ft(K,J,ee),b[B+3+32]=b[B+2+96]=Ft(J,ee,te),b[B+3+64]=Ft(ee,te,ne),b[B+3+96]=Ft(te,ne,de)}function zj(b,B){var I=b[B-1+0],H=b[B-1+32],K=b[B-1+64],J=b[B-1+96];b[B+0+0]=I+H+1>>1,b[B+2+0]=b[B+0+32]=H+K+1>>1,b[B+2+32]=b[B+0+64]=K+J+1>>1,b[B+1+0]=Ft(I,H,K),b[B+3+0]=b[B+1+32]=Ft(H,K,J),b[B+3+32]=b[B+1+64]=Ft(K,J,J),b[B+3+64]=b[B+2+64]=b[B+0+96]=b[B+1+96]=b[B+2+96]=b[B+3+96]=J}function qj(b,B){var I=b[B-1+0],H=b[B-1+32],K=b[B-1+64],J=b[B-1+96],ee=b[B-1-32],te=b[B+0-32],ne=b[B+1-32],de=b[B+2-32];b[B+0+0]=b[B+2+32]=I+ee+1>>1,b[B+0+32]=b[B+2+64]=H+I+1>>1,b[B+0+64]=b[B+2+96]=K+H+1>>1,b[B+0+96]=J+K+1>>1,b[B+3+0]=Ft(te,ne,de),b[B+2+0]=Ft(ee,te,ne),b[B+1+0]=b[B+3+32]=Ft(I,ee,te),b[B+1+32]=b[B+3+64]=Ft(H,I,ee),b[B+1+64]=b[B+3+96]=Ft(K,H,I),b[B+1+96]=Ft(J,K,H)}function Vj(b,B){var I;for(I=0;8>I;++I)n(b,B+32*I,b,B-32,8)}function Cm(b,B){var I;for(I=0;8>I;++I)a(b,B,b[B-1],8),B+=32}function Bd(b,B,I){var H;for(H=0;8>H;++H)a(B,I+32*H,b,8)}function ec(b,B){var I,H=8;for(I=0;8>I;++I)H+=b[B+I-32]+b[B-1+32*I];Bd(H>>4,b,B)}function Kj(b,B){var I,H=4;for(I=0;8>I;++I)H+=b[B+I-32];Bd(H>>3,b,B)}function Ed(b,B){var I,H=4;for(I=0;8>I;++I)H+=b[B-1+32*I];Bd(H>>3,b,B)}function Sm(b,B){Bd(128,b,B)}function NA(b,B,I){var H=b[B-I],K=b[B+0],J=3*(K-H)+Zj[1020+b[B-2*I]-b[B+I]],ee=ry[112+(J+4>>3)];b[B-I]=Ca[255+H+ry[112+(J+3>>3)]],b[B+0]=Ca[255+K-ee]}function zx(b,B,I,H){var K=b[B+0],J=b[B+I];return Xa[255+b[B-2*I]-b[B-I]]>H||Xa[255+J-K]>H}function qx(b,B,I,H){return 4*Xa[255+b[B-I]-b[B+0]]+Xa[255+b[B-2*I]-b[B+I]]<=H}function Vx(b,B,I,H,K){var J=b[B-3*I],ee=b[B-2*I],te=b[B-I],ne=b[B+0],de=b[B+I],je=b[B+2*I],Pe=b[B+3*I];return 4*Xa[255+te-ne]+Xa[255+ee-de]>H?0:Xa[255+b[B-4*I]-J]<=K&&Xa[255+J-ee]<=K&&Xa[255+ee-te]<=K&&Xa[255+Pe-je]<=K&&Xa[255+je-de]<=K&&Xa[255+de-ne]<=K}function Kx(b,B,I,H){var K=2*H+1;for(H=0;16>H;++H)qx(b,B+H,I,K)&&NA(b,B+H,I)}function xo(b,B,I,H){var K=2*H+1;for(H=0;16>H;++H)qx(b,B+H*I,1,K)&&NA(b,B+H*I,1)}function Xo(b,B,I,H){var K;for(K=3;0<K;--K)Kx(b,B+=4*I,I,H)}function Wj(b,B,I,H){var K;for(K=3;0<K;--K)xo(b,B+=4,I,H)}function tc(b,B,I,H,K,J,ee,te){for(J=2*J+1;0<K--;){if(Vx(b,B,I,J,ee))if(zx(b,B,I,te))NA(b,B,I);else{var ne=b,de=B,je=I,Pe=ne[de-2*je],Te=ne[de-je],Ce=ne[de+0],Ke=ne[de+je],Ue=ne[de+2*je],Ne=27*(qe=Zj[1020+3*(Ce-Te)+Zj[1020+Pe-Ke]])+63>>7,_e=18*qe+63>>7,qe=9*qe+63>>7;ne[de-3*je]=Ca[255+ne[de-3*je]+qe],ne[de-2*je]=Ca[255+Pe+_e],ne[de-je]=Ca[255+Te+Ne],ne[de+0]=Ca[255+Ce-Ne],ne[de+je]=Ca[255+Ke-_e],ne[de+2*je]=Ca[255+Ue-qe]}B+=H}}function Ti(b,B,I,H,K,J,ee,te){for(J=2*J+1;0<K--;){if(Vx(b,B,I,J,ee))if(zx(b,B,I,te))NA(b,B,I);else{var ne=b,de=B,je=I,Pe=ne[de-je],Te=ne[de+0],Ce=ne[de+je],Ke=ry[112+((Ue=3*(Te-Pe))+4>>3)],Ue=ry[112+(Ue+3>>3)],Ne=Ke+1>>1;ne[de-2*je]=Ca[255+ne[de-2*je]+Ne],ne[de-je]=Ca[255+Pe+Ue],ne[de+0]=Ca[255+Te-Ke],ne[de+je]=Ca[255+Ce-Ne]}B+=H}}function Bm(b,B,I,H,K,J){tc(b,B,I,1,16,H,K,J)}function kd(b,B,I,H,K,J){tc(b,B,1,I,16,H,K,J)}function Gj(b,B,I,H,K,J){var ee;for(ee=3;0<ee;--ee)Ti(b,B+=4*I,I,1,16,H,K,J)}function _A(b,B,I,H,K,J){var ee;for(ee=3;0<ee;--ee)Ti(b,B+=4,1,I,16,H,K,J)}function Xj(b,B,I,H,K,J,ee,te){tc(b,B,K,1,8,J,ee,te),tc(I,H,K,1,8,J,ee,te)}function Em(b,B,I,H,K,J,ee,te){tc(b,B,1,K,8,J,ee,te),tc(I,H,1,K,8,J,ee,te)}function km(b,B,I,H,K,J,ee,te){Ti(b,B+4*K,K,1,8,J,ee,te),Ti(I,H+4*K,K,1,8,J,ee,te)}function Wx(b,B,I,H,K,J,ee,te){Ti(b,B+4,1,K,8,J,ee,te),Ti(I,H+4,1,K,8,J,ee,te)}function CA(){this.ba=new Si,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fm(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pm(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gx(){this.ua=0,this.Wa=new q,this.vb=new q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new N}function Yj(){this.xb=this.a=0,this.l=new yA,this.ca=new Si,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gx,this.ab=0,this.gc=o(4,Pm),this.Oc=0}function SA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fd(b,B,I,H,K,J,ee){for(b=b==null?0:b[B+0],B=0;B<ee;++B)K[J+B]=b+I[H+B]&255,b=K[J+B]}function Tm(b,B,I,H,K,J,ee){var te;if(b==null)Fd(null,null,I,H,K,J,ee);else for(te=0;te<ee;++te)K[J+te]=b[B+te]+I[H+te]&255}function rc(b,B,I,H,K,J,ee){if(b==null)Fd(null,null,I,H,K,J,ee);else{var te,ne=b[B+0],de=ne,je=ne;for(te=0;te<ee;++te)de=je+(ne=b[B+te])-de,je=I[H+te]+(-256&de?0>de?0:255:de)&255,de=ne,K[J+te]=je}}function Om(b,B,I,H){var K=B.width,J=B.o;if(e(b!=null&&B!=null),0>I||0>=H||I+H>J)return null;if(!b.Cc){if(b.ga==null){var ee;if(b.ga=new SA,(ee=b.ga==null)||(ee=B.width*B.o,e(b.Gb.length==0),b.Gb=i(ee),b.Uc=0,b.Gb==null?ee=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ee=1),ee=!ee),!ee){ee=b.ga;var te=b.Fa,ne=b.P,de=b.qc,je=b.mb,Pe=b.nb,Te=ne+1,Ce=de-1,Ke=ee.l;if(e(te!=null&&je!=null&&B!=null),lc[0]=null,lc[1]=Fd,lc[2]=Tm,lc[3]=rc,ee.ca=je,ee.tb=Pe,ee.c=B.width,ee.i=B.height,e(0<ee.c&&0<ee.i),1>=de)B=0;else if(ee.$a=te[ne+0]>>0&3,ee.Z=te[ne+0]>>2&3,ee.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ne)B=0;else if(Ke.put=Ao,Ke.ac=ss,Ke.bc=ho,Ke.ma=ee,Ke.width=B.width,Ke.height=B.height,Ke.Da=B.Da,Ke.v=B.v,Ke.va=B.va,Ke.j=B.j,Ke.o=B.o,ee.$a)e:{e(ee.$a==1),B=qa();t:for(;;){if(B==null){B=0;break e}if(e(ee!=null),ee.mc=B,B.c=ee.c,B.i=ee.i,B.l=ee.l,B.l.ma=ee,B.l.width=ee.c,B.l.height=ee.i,B.a=0,R(B.m,te,Te,Ce),!po(ee.c,ee.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&Wo(B.s)?(ee.ic=1,te=B.c*B.i,B.Ta=null,B.Ua=0,B.V=i(te),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(ee.ic=0,B=Sd(B,ee.c)),!B))break t;B=1;break e}ee.mc=null,B=0}else B=Ce>=ee.c*ee.i;ee=!B}if(ee)return null;b.ga.Lc!=1?b.Ga=0:H=J-I}e(b.ga!=null),e(I+H<=J);e:{if(B=(te=b.ga).c,J=te.l.o,te.$a==0){if(Te=b.rc,Ce=b.Vc,Ke=b.Fa,ne=b.P+1+I*B,de=b.mb,je=b.nb+I*B,e(ne<=b.P+b.qc),te.Z!=0)for(e(lc[te.Z]!=null),ee=0;ee<H;++ee)lc[te.Z](Te,Ce,Ke,ne,de,je,B),Te=de,Ce=je,je+=B,ne+=B;else for(ee=0;ee<H;++ee)n(de,je,Ke,ne,B),Te=de,Ce=je,je+=B,ne+=B;b.rc=Te,b.Vc=Ce}else{if(e(te.mc!=null),B=I+H,e((ee=te.mc)!=null),e(B<=ee.i),ee.C>=B)B=1;else if(te.ic||Fe(),te.ic){te=ee.V,Te=ee.Ba,Ce=ee.c;var Ue=ee.i,Ne=(Ke=1,ne=ee.$/Ce,de=ee.$%Ce,je=ee.m,Pe=ee.s,ee.$),_e=Ce*Ue,qe=Ce*B,We=Pe.wc,Ve=Ne<qe?yn(Pe,de,ne):null;e(Ne<=_e),e(B<=Ue),e(Wo(Pe));t:for(;;){for(;!je.h&&Ne<qe;){if(de&We||(Ve=yn(Pe,de,ne)),e(Ve!=null),ae(je),256>(Ue=na(Ve.G[0],Ve.H[0],je)))te[Te+Ne]=Ue,++Ne,++de>=Ce&&(de=0,++ne<=B&&!(ne%16)&&ki(ee,ne));else{if(!(280>Ue)){Ke=0;break t}Ue=Bi(Ue-256,je);var nt,Je=na(Ve.G[4],Ve.H[4],je);if(ae(je),!(Ne>=(Je=fo(Ce,Je=Bi(Je,je)))&&_e-Ne>=Ue)){Ke=0;break t}for(nt=0;nt<Ue;++nt)te[Te+Ne+nt]=te[Te+Ne+nt-Je];for(Ne+=Ue,de+=Ue;de>=Ce;)de-=Ce,++ne<=B&&!(ne%16)&&ki(ee,ne);Ne<qe&&de&We&&(Ve=yn(Pe,de,ne))}e(je.h==G(je))}ki(ee,ne>B?B:ne);break t}!Ke||je.h&&Ne<_e?(Ke=0,ee.a=je.h?5:3):ee.$=Ne,B=Ke}else B=Fi(ee,ee.V,ee.Ba,ee.c,ee.i,B,fA);if(!B){H=0;break e}}I+H>=J&&(b.Cc=1),H=1}if(!H)return null;if(b.Cc&&((H=b.ga)!=null&&(H.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+I*K}function P(b,B,I,H,K,J){for(;0<K--;){var ee,te=b,ne=B+(I?1:0),de=b,je=B+(I?0:3);for(ee=0;ee<H;++ee){var Pe=de[je+4*ee];Pe!=255&&(Pe*=32897,te[ne+4*ee+0]=te[ne+4*ee+0]*Pe>>23,te[ne+4*ee+1]=te[ne+4*ee+1]*Pe>>23,te[ne+4*ee+2]=te[ne+4*ee+2]*Pe>>23)}B+=J}}function W(b,B,I,H,K){for(;0<H--;){var J;for(J=0;J<I;++J){var ee=b[B+2*J+0],te=15&(de=b[B+2*J+1]),ne=4369*te,de=(240&de|de>>4)*ne>>16;b[B+2*J+0]=(240&ee|ee>>4)*ne>>16&240|(15&ee|ee<<4)*ne>>16>>4&15,b[B+2*J+1]=240&de|te}B+=K}}function fe(b,B,I,H,K,J,ee,te){var ne,de,je=255;for(de=0;de<K;++de){for(ne=0;ne<H;++ne){var Pe=b[B+ne];J[ee+4*ne]=Pe,je&=Pe}B+=I,ee+=te}return je!=255}function we(b,B,I,H,K){var J;for(J=0;J<K;++J)I[H+J]=b[B+J]>>8}function Fe(){Ga=P,jr=W,Nr=fe,cn=we}function Qe(b,B,I){C[b]=function(H,K,J,ee,te,ne,de,je,Pe,Te,Ce,Ke,Ue,Ne,_e,qe,We){var Ve,nt=We-1>>1,Je=te[ne+0]|de[je+0]<<16,pt=Pe[Te+0]|Ce[Ke+0]<<16;e(H!=null);var Ze=3*Je+pt+131074>>2;for(B(H[K+0],255&Ze,Ze>>16,Ue,Ne),J!=null&&(Ze=3*pt+Je+131074>>2,B(J[ee+0],255&Ze,Ze>>16,_e,qe)),Ve=1;Ve<=nt;++Ve){var er=te[ne+Ve]|de[je+Ve]<<16,ir=Pe[Te+Ve]|Ce[Ke+Ve]<<16,Gt=Je+er+pt+ir+524296,zt=Gt+2*(er+pt)>>3;Ze=zt+Je>>1,Je=(Gt=Gt+2*(Je+ir)>>3)+er>>1,B(H[K+2*Ve-1],255&Ze,Ze>>16,Ue,Ne+(2*Ve-1)*I),B(H[K+2*Ve-0],255&Je,Je>>16,Ue,Ne+(2*Ve-0)*I),J!=null&&(Ze=Gt+pt>>1,Je=zt+ir>>1,B(J[ee+2*Ve-1],255&Ze,Ze>>16,_e,qe+(2*Ve-1)*I),B(J[ee+2*Ve+0],255&Je,Je>>16,_e,qe+(2*Ve+0)*I)),Je=er,pt=ir}1&We||(Ze=3*Je+pt+131074>>2,B(H[K+We-1],255&Ze,Ze>>16,Ue,Ne+(We-1)*I),J!=null&&(Ze=3*pt+Je+131074>>2,B(J[ee+We-1],255&Ze,Ze>>16,_e,qe+(We-1)*I)))}}function Ge(){Ya[ny]=PG,Ya[sy]=g6,Ya[A6]=TG,Ya[ay]=x6,Ya[iy]=y6,Ya[eN]=v6,Ya[h6]=OG,Ya[tN]=g6,Ya[rN]=x6,Ya[oy]=y6,Ya[nN]=v6}function rt(b){return b&-16384?0>b?0:255:b>>IG}function ht(b,B){return rt((19077*b>>8)+(26149*B>>8)-14234)}function Lt(b,B,I){return rt((19077*b>>8)-(6419*B>>8)-(13320*I>>8)+8708)}function Tt(b,B){return rt((19077*b>>8)+(33050*B>>8)-17685)}function Kt(b,B,I,H,K){H[K+0]=ht(b,I),H[K+1]=Lt(b,B,I),H[K+2]=Tt(b,B)}function zr(b,B,I,H,K){H[K+0]=Tt(b,B),H[K+1]=Lt(b,B,I),H[K+2]=ht(b,I)}function en(b,B,I,H,K){var J=Lt(b,B,I);B=J<<3&224|Tt(b,B)>>3,H[K+0]=248&ht(b,I)|J>>5,H[K+1]=B}function vn(b,B,I,H,K){var J=240&Tt(b,B)|15;H[K+0]=240&ht(b,I)|Lt(b,B,I)>>4,H[K+1]=J}function gs(b,B,I,H,K){H[K+0]=255,Kt(b,B,I,H,K+1)}function Kn(b,B,I,H,K){zr(b,B,I,H,K),H[K+3]=255}function Oi(b,B,I,H,K){Kt(b,B,I,H,K),H[K+3]=255}function _a(b,B){return 0>b?0:b>B?B:b}function yo(b,B,I){C[b]=function(H,K,J,ee,te,ne,de,je,Pe){for(var Te=je+(-2&Pe)*I;je!=Te;)B(H[K+0],J[ee+0],te[ne+0],de,je),B(H[K+1],J[ee+0],te[ne+0],de,je+I),K+=2,++ee,++ne,je+=2*I;1&Pe&&B(H[K+0],J[ee+0],te[ne+0],de,je)}}function Xx(b,B,I){return I==0?b==0?B==0?6:5:B==0?4:0:I}function Im(b,B,I,H,K){switch(b>>>30){case 3:Zo(B,I,H,K,0);break;case 2:ln(B,I,H,K);break;case 1:Qs(B,I,H,K)}}function Lm(b,B){var I,H,K=B.M,J=B.Nb,ee=b.oc,te=b.pc+40,ne=b.oc,de=b.pc+584,je=b.oc,Pe=b.pc+600;for(I=0;16>I;++I)ee[te+32*I-1]=129;for(I=0;8>I;++I)ne[de+32*I-1]=129,je[Pe+32*I-1]=129;for(0<K?ee[te-1-32]=ne[de-1-32]=je[Pe-1-32]=129:(a(ee,te-32-1,127,21),a(ne,de-32-1,127,9),a(je,Pe-32-1,127,9)),H=0;H<b.za;++H){var Te=B.ya[B.aa+H];if(0<H){for(I=-1;16>I;++I)n(ee,te+32*I-4,ee,te+32*I+12,4);for(I=-1;8>I;++I)n(ne,de+32*I-4,ne,de+32*I+4,4),n(je,Pe+32*I-4,je,Pe+32*I+4,4)}var Ce=b.Gd,Ke=b.Hd+H,Ue=Te.ad,Ne=Te.Hc;if(0<K&&(n(ee,te-32,Ce[Ke].y,0,16),n(ne,de-32,Ce[Ke].f,0,8),n(je,Pe-32,Ce[Ke].ea,0,8)),Te.Za){var _e=ee,qe=te-32+16;for(0<K&&(H>=b.za-1?a(_e,qe,Ce[Ke].y[15],4):n(_e,qe,Ce[Ke+1].y,0,4)),I=0;4>I;I++)_e[qe+128+I]=_e[qe+256+I]=_e[qe+384+I]=_e[qe+0+I];for(I=0;16>I;++I,Ne<<=2)_e=ee,qe=te+w6[I],Ii[Te.Ob[I]](_e,qe),Im(Ne,Ue,16*+I,_e,qe)}else if(_e=Xx(H,K,Te.Ob[0]),oc[_e](ee,te),Ne!=0)for(I=0;16>I;++I,Ne<<=2)Im(Ne,Ue,16*+I,ee,te+w6[I]);for(I=Te.Gc,_e=Xx(H,K,Te.Dd),tl[_e](ne,de),tl[_e](je,Pe),Ne=Ue,_e=ne,qe=de,255&(Te=I>>0)&&(170&Te?Qm(Ne,256,_e,qe):Ka(Ne,256,_e,qe)),Te=je,Ne=Pe,255&(I>>=8)&&(170&I?Qm(Ue,320,Te,Ne):Ka(Ue,320,Te,Ne)),K<b.Ub-1&&(n(Ce[Ke].y,0,ee,te+480,16),n(Ce[Ke].f,0,ne,de+224,8),n(Ce[Ke].ea,0,je,Pe+224,8)),I=8*J*b.B,Ce=b.sa,Ke=b.ta+16*H+16*J*b.R,Ue=b.qa,Te=b.ra+8*H+I,Ne=b.Ha,_e=b.Ia+8*H+I,I=0;16>I;++I)n(Ce,Ke+I*b.R,ee,te+32*I,16);for(I=0;8>I;++I)n(Ue,Te+I*b.B,ne,de+32*I,8),n(Ne,_e+I*b.B,je,Pe+32*I,8)}}function BA(b,B,I,H,K,J,ee,te,ne){var de=[0],je=[0],Pe=0,Te=ne!=null?ne.kd:0,Ce=ne??new Fm;if(b==null||12>I)return 7;Ce.data=b,Ce.w=B,Ce.ha=I,B=[B],I=[I],Ce.gb=[Ce.gb];e:{var Ke=B,Ue=I,Ne=Ce.gb;if(e(b!=null),e(Ue!=null),e(Ne!=null),Ne[0]=0,12<=Ue[0]&&!r(b,Ke[0],"RIFF")){if(r(b,Ke[0]+8,"WEBP")){Ne=3;break e}var _e=Me(b,Ke[0]+4);if(12>_e||4294967286<_e){Ne=3;break e}if(Te&&_e>Ue[0]-8){Ne=7;break e}Ne[0]=_e,Ke[0]+=12,Ue[0]-=12}Ne=0}if(Ne!=0)return Ne;for(_e=0<Ce.gb[0],I=I[0];;){e:{var qe=b;Ue=B,Ne=I;var We=de,Ve=je,nt=Ke=[0];if((Ze=Pe=[Pe])[0]=0,8>Ne[0])Ne=7;else{if(!r(qe,Ue[0],"VP8X")){if(Me(qe,Ue[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var Je=Me(qe,Ue[0]+8),pt=1+me(qe,Ue[0]+12);if(2147483648<=pt*(qe=1+me(qe,Ue[0]+15))){Ne=3;break e}nt!=null&&(nt[0]=Je),We!=null&&(We[0]=pt),Ve!=null&&(Ve[0]=qe),Ue[0]+=18,Ne[0]-=18,Ze[0]=1}Ne=0}}if(Pe=Pe[0],Ke=Ke[0],Ne!=0)return Ne;if(Ue=!!(2&Ke),!_e&&Pe)return 3;if(J!=null&&(J[0]=!!(16&Ke)),ee!=null&&(ee[0]=Ue),te!=null&&(te[0]=0),ee=de[0],Ke=je[0],Pe&&Ue&&ne==null){Ne=0;break}if(4>I){Ne=7;break}if(_e&&Pe||!_e&&!Pe&&!r(b,B[0],"ALPH")){I=[I],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Je=b,Ne=B,_e=I;var Ze=Ce.gb;We=Ce.na,Ve=Ce.P,nt=Ce.Sa,pt=22,e(Je!=null),e(_e!=null),qe=Ne[0];var er=_e[0];for(e(We!=null),e(nt!=null),We[0]=null,Ve[0]=null,nt[0]=0;;){if(Ne[0]=qe,_e[0]=er,8>er){Ne=7;break e}var ir=Me(Je,qe+4);if(4294967286<ir){Ne=3;break e}var Gt=8+ir+1&-2;if(pt+=Gt,0<Ze&&pt>Ze){Ne=3;break e}if(!r(Je,qe,"VP8 ")||!r(Je,qe,"VP8L")){Ne=0;break e}if(er[0]<Gt){Ne=7;break e}r(Je,qe,"ALPH")||(We[0]=Je,Ve[0]=qe+8,nt[0]=ir),qe+=Gt,er-=Gt}}if(I=I[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Ne!=0)break}I=[I],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Ze=b,Ne=B,_e=I,We=Ce.gb[0],Ve=Ce.Ja,nt=Ce.xa,Je=Ne[0],qe=!r(Ze,Je,"VP8 "),pt=!r(Ze,Je,"VP8L"),e(Ze!=null),e(_e!=null),e(Ve!=null),e(nt!=null),8>_e[0])Ne=7;else{if(qe||pt){if(Ze=Me(Ze,Je+4),12<=We&&Ze>We-12){Ne=3;break e}if(Te&&Ze>_e[0]-8){Ne=7;break e}Ve[0]=Ze,Ne[0]+=8,_e[0]-=8,nt[0]=pt}else nt[0]=5<=_e[0]&&Ze[Je+0]==47&&!(Ze[Je+4]>>5),Ve[0]=_e[0];Ne=0}if(I=I[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],B=B[0],Ne!=0)break;if(4294967286<Ce.Ja)return 3;if(te==null||Ue||(te[0]=Ce.xa?2:1),ee=[ee],Ke=[Ke],Ce.xa){if(5>I){Ne=7;break}te=ee,Te=Ke,Ue=J,b==null||5>I?b=0:5<=I&&b[B+0]==47&&!(b[B+4]>>5)?(_e=[0],Ze=[0],We=[0],R(Ve=new $,b,B,I),yt(Ve,_e,Ze,We)?(te!=null&&(te[0]=_e[0]),Te!=null&&(Te[0]=Ze[0]),Ue!=null&&(Ue[0]=We[0]),b=1):b=0):b=0}else{if(10>I){Ne=7;break}te=Ke,b==null||10>I||!Ox(b,B+3,I-3)?b=0:(Te=b[B+0]|b[B+1]<<8|b[B+2]<<16,Ue=16383&(b[B+7]<<8|b[B+6]),b=16383&(b[B+9]<<8|b[B+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Ce.Ja||!Ue||!b?b=0:(ee&&(ee[0]=Ue),te&&(te[0]=b),b=1))}if(!b||(ee=ee[0],Ke=Ke[0],Pe&&(de[0]!=ee||je[0]!=Ke)))return 3;ne!=null&&(ne[0]=Ce,ne.offset=B-ne.w,e(4294967286>B-ne.w),e(ne.offset==ne.ha-I));break}return Ne==0||Ne==7&&Pe&&ne==null?(J!=null&&(J[0]|=Ce.na!=null&&0<Ce.na.length),H!=null&&(H[0]=ee),K!=null&&(K[0]=Ke),0):Ne}function Mm(b,B,I){var H=B.width,K=B.height,J=0,ee=0,te=H,ne=K;if(B.Da=b!=null&&0<b.Da,B.Da&&(te=b.cd,ne=b.bd,J=b.v,ee=b.j,11>I||(J&=-2,ee&=-2),0>J||0>ee||0>=te||0>=ne||J+te>H||ee+ne>K))return 0;if(B.v=J,B.j=ee,B.va=J+te,B.o=ee+ne,B.U=te,B.T=ne,B.da=b!=null&&0<b.da,B.da){if(!Ee(te,ne,I=[b.ib],J=[b.hb]))return 0;B.ib=I[0],B.hb=J[0]}return B.ob=b!=null&&b.ob,B.Kb=b==null||!b.Sd,B.da&&(B.ob=B.ib<3*H/4&&B.hb<3*K/4,B.Kb=0),1}function Dm(b){if(b==null)return 2;if(11>b.S){var B=b.f.RGBA;B.fb+=(b.height-1)*B.A,B.A=-B.A}else B=b.f.kb,b=b.height,B.O+=(b-1)*B.fa,B.fa=-B.fa,B.N+=(b-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(b-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(b-1)*B.lb,B.lb=-B.lb);return 0}function EA(b,B,I,H){if(H==null||0>=b||0>=B)return 2;if(I!=null){if(I.Da){var K=I.cd,J=I.bd,ee=-2&I.v,te=-2&I.j;if(0>ee||0>te||0>=K||0>=J||ee+K>b||te+J>B)return 2;b=K,B=J}if(I.da){if(!Ee(b,B,K=[I.ib],J=[I.hb]))return 2;b=K[0],B=J[0]}}H.width=b,H.height=B;e:{var ne=H.width,de=H.height;if(b=H.S,0>=ne||0>=de||!(b>=ny&&13>b))b=2;else{if(0>=H.Rd&&H.sd==null){ee=J=K=B=0;var je=(te=ne*j6[b])*de;if(11>b||(J=(de+1)/2*(B=(ne+1)/2),b==12&&(ee=(K=ne)*de)),(de=i(je+2*J+ee))==null){b=1;break e}H.sd=de,11>b?((ne=H.f.RGBA).eb=de,ne.fb=0,ne.A=te,ne.size=je):((ne=H.f.kb).y=de,ne.O=0,ne.fa=te,ne.Fd=je,ne.f=de,ne.N=0+je,ne.Ab=B,ne.Cd=J,ne.ea=de,ne.W=0+je+J,ne.Db=B,ne.Ed=J,b==12&&(ne.F=de,ne.J=0+je+2*J),ne.Tc=ee,ne.lb=K)}if(B=1,K=H.S,J=H.width,ee=H.height,K>=ny&&13>K)if(11>K)b=H.f.RGBA,B&=(te=Math.abs(b.A))*(ee-1)+J<=b.size,B&=te>=J*j6[K],B&=b.eb!=null;else{b=H.f.kb,te=(J+1)/2,je=(ee+1)/2,ne=Math.abs(b.fa),de=Math.abs(b.Ab);var Pe=Math.abs(b.Db),Te=Math.abs(b.lb),Ce=Te*(ee-1)+J;B&=ne*(ee-1)+J<=b.Fd,B&=de*(je-1)+te<=b.Cd,B=(B&=Pe*(je-1)+te<=b.Ed)&ne>=J&de>=te&Pe>=te,B&=b.y!=null,B&=b.f!=null,B&=b.ea!=null,K==12&&(B&=Te>=J,B&=Ce<=b.Tc,B&=b.F!=null)}else B=0;b=B?0:2}}return b!=0||I!=null&&I.fd&&(b=Dm(H)),b}var as=64,kA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],FA=24,PA=32,Um=8,aa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(b){return b},C.Predictor2=function(b,B,I){return B[I+0]},C.Predictor3=function(b,B,I){return B[I+1]},C.Predictor4=function(b,B,I){return B[I-1]},C.Predictor5=function(b,B,I){return Be(Be(b,B[I+1]),B[I+0])},C.Predictor6=function(b,B,I){return Be(b,B[I-1])},C.Predictor7=function(b,B,I){return Be(b,B[I+0])},C.Predictor8=function(b,B,I){return Be(B[I-1],B[I+0])},C.Predictor9=function(b,B,I){return Be(B[I+0],B[I+1])},C.Predictor10=function(b,B,I){return Be(Be(b,B[I-1]),Be(B[I+0],B[I+1]))},C.Predictor11=function(b,B,I){var H=B[I+0];return 0>=pe(H>>24&255,b>>24&255,(B=B[I-1])>>24&255)+pe(H>>16&255,b>>16&255,B>>16&255)+pe(H>>8&255,b>>8&255,B>>8&255)+pe(255&H,255&b,255&B)?H:b},C.Predictor12=function(b,B,I){var H=B[I+0];return(he((b>>24&255)+(H>>24&255)-((B=B[I-1])>>24&255))<<24|he((b>>16&255)+(H>>16&255)-(B>>16&255))<<16|he((b>>8&255)+(H>>8&255)-(B>>8&255))<<8|he((255&b)+(255&H)-(255&B)))>>>0},C.Predictor13=function(b,B,I){var H=B[I-1];return($e((b=Be(b,B[I+0]))>>24&255,H>>24&255)<<24|$e(b>>16&255,H>>16&255)<<16|$e(b>>8&255,H>>8&255)<<8|$e(b>>0&255,H>>0&255))>>>0};var Jj=C.PredictorAdd0;C.PredictorAdd1=ue,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Rm=C.PredictorAdd2;xe("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Yx,Va=C.ColorIndexInverseTransform,TA=C.MapARGB,Jx=C.VP8LColorIndexInverseTransformAlpha,Zx=C.MapAlpha,nc=C.VP8LPredictorsAdd=[];nc.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Pd,ia,Rs,sc,Yo,Jo,OA,Zo,ln,Qm,Qs,Ka,IA,ey,$m,Td,Od,ac,Id,LA,Ld,ic,Hm,Wa,Ga,jr,Nr,cn,In=i(511),el=i(2041),zm=i(225),MA=i(767),ty=0,Zj=el,ry=zm,Ca=MA,Xa=In,ny=0,sy=1,A6=2,ay=3,iy=4,eN=5,h6=6,tN=7,rN=8,oy=9,nN=10,xG=[2,3,7],yG=[3,3,11],f6=[280,256,256,256,40],vG=[0,1,1,1,0],bG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jG=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],NG=8,sN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],aN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qm=null,_G=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],CG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],m6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],SG=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],BG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],EG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oc=[],Ii=[],tl=[],FG=1,p6=2,lc=[],Ya=[];Qe("UpsampleRgbLinePair",Kt,3),Qe("UpsampleBgrLinePair",zr,3),Qe("UpsampleRgbaLinePair",Oi,4),Qe("UpsampleBgraLinePair",Kn,4),Qe("UpsampleArgbLinePair",gs,4),Qe("UpsampleRgba4444LinePair",vn,2),Qe("UpsampleRgb565LinePair",en,2);var PG=C.UpsampleRgbLinePair,TG=C.UpsampleBgrLinePair,g6=C.UpsampleRgbaLinePair,x6=C.UpsampleBgraLinePair,y6=C.UpsampleArgbLinePair,v6=C.UpsampleRgba4444LinePair,OG=C.UpsampleRgb565LinePair,ly=16,cy=1<<ly-1,Vm=-227,iN=482,IG=6,b6=0,LG=i(256),MG=i(256),DG=i(256),UG=i(256),RG=i(iN-Vm),QG=i(iN-Vm);yo("YuvToRgbRow",Kt,3),yo("YuvToBgrRow",zr,3),yo("YuvToRgbaRow",Oi,4),yo("YuvToBgraRow",Kn,4),yo("YuvToArgbRow",gs,4),yo("YuvToRgba4444Row",vn,2),yo("YuvToRgb565Row",en,2);var w6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dy=[0,2,8],$G=[8,7,6,4,4,2,2,2,1,1,1,1],HG=1;this.WebPDecodeRGBA=function(b,B,I,H,K){var J=sy,ee=new CA,te=new Si;ee.ba=te,te.S=J,te.width=[te.width],te.height=[te.height];var ne=te.width,de=te.height,je=new Ko;if(je==null||b==null)var Pe=2;else e(je!=null),Pe=BA(b,B,I,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Pe!=0?ne=0:(ne!=null&&(ne[0]=je.width[0]),de!=null&&(de[0]=je.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],H!=null&&(H[0]=te.width),K!=null&&(K[0]=te.height);e:{if(H=new yA,(K=new Fm).data=b,K.w=B,K.ha=I,K.kd=1,B=[0],e(K!=null),((b=BA(K.data,K.w,K.ha,null,null,null,B,null,K))==0||b==7)&&B[0]&&(b=4),(B=b)==0){if(e(ee!=null),H.data=K.data,H.w=K.w+K.offset,H.ha=K.ha-K.offset,H.put=Ao,H.ac=ss,H.bc=ho,H.ma=ee,K.xa){if((b=qa())==null){ee=1;break e}if(function(Te,Ce){var Ke=[0],Ue=[0],Ne=[0];t:for(;;){if(Te==null)return 0;if(Ce==null)return Te.a=2,0;if(Te.l=Ce,Te.a=0,R(Te.m,Ce.data,Ce.w,Ce.ha),!yt(Te.m,Ke,Ue,Ne)){Te.a=3;break t}if(Te.xb=p6,Ce.width=Ke[0],Ce.height=Ue[0],!po(Ke[0],Ue[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(b,H)){if(H=(B=EA(H.width,H.height,ee.Oa,ee.ba))==0){t:{H=b;r:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((I=H.l)!=null),e((K=I.ma)!=null),H.xb!=0){if(H.ca=K.ba,H.tb=K.tb,e(H.ca!=null),!Mm(K.Oa,I,ay)){H.a=2;break r}if(!Sd(H,I.width)||I.da)break r;if((I.da||tr(H.ca.S))&&Fe(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Fe()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Re(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!Fi(H,H.V,H.Ba,H.c,H.i,I.o,hA))break r;K.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(B=b.a)}else B=b.a}else{if((b=new Tj)==null){ee=1;break e}if(b.Fa=K.na,b.P=K.P,b.qc=K.Sa,Ix(b,H)){if((B=EA(H.width,H.height,ee.Oa,ee.ba))==0){if(b.Aa=0,I=ee.Oa,e((K=b)!=null),I!=null){if(0<(ne=0>(ne=I.Md)?0:100<ne?255:255*ne/100)){for(de=je=0;4>de;++de)12>(Pe=K.pb[de]).lc&&(Pe.ia=ne*$G[0>Pe.lc?0:Pe.lc]>>3),je|=Pe.ia;je&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=I.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}Oj(b,H)||(B=b.a)}}else B=b.a}B==0&&ee.Oa!=null&&ee.Oa.fd&&(B=Dm(ee.ba))}ee=B}J=ee!=0?null:11>J?te.f.RGBA.eb:te.f.kb.y}else J=null;return J};var j6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,E){for(var T="",v=0;v<4;v++)T+=String.fromCharCode(C[E++]);return T}function u(C,E){return(C[E+0]<<0|C[E+1]<<8|C[E+2]<<16)>>>0}function A(C,E){return(C[E+0]<<0|C[E+1]<<8|C[E+2]<<16|C[E+3]<<24)>>>0}new c;var h=[0],f=[0],g=[],x=new c,m=t,p=function(C,E){var T={},v=0,N=!1,O=0,L=0;if(T.frames=[],!function(M,G,V,ae){for(var Ae=0;Ae<ae;Ae++)if(M[G+Ae]!=V.charCodeAt(Ae))return!0;return!1}(C,E,"RIFF",4)){var Q,D;for(A(C,E+=4),E+=8;E<C.length;){var U=d(C,E),R=A(C,E+=4);E+=4;var z=R+(1&R);switch(U){case"VP8 ":case"VP8L":T.frames[v]===void 0&&(T.frames[v]={}),($=T.frames[v]).src_off=N?L:E-8,$.src_size=O+R+8,v++,N&&(N=!1,O=0,L=0);break;case"VP8X":($=T.header={}).feature_flags=C[E];var Y=E+4;$.canvas_width=1+u(C,Y),Y+=3,$.canvas_height=1+u(C,Y),Y+=3;break;case"ALPH":N=!0,O=z+8,L=E-8;break;case"ANIM":($=T.header).bgcolor=A(C,E),Y=E+4,$.loop_count=(Q=C)[(D=Y)+0]<<0|Q[D+1]<<8,Y+=2;break;case"ANMF":var X,$;($=T.frames[v]={}).offset_x=2*u(C,E),E+=3,$.offset_y=2*u(C,E),E+=3,$.width=1+u(C,E),E+=3,$.height=1+u(C,E),E+=3,$.duration=u(C,E),E+=3,X=C[E++],$.dispose=1&X,$.blend=X>>1&1}U!="ANMF"&&(E+=z)}return T}}(m,0);p.response=m,p.rgbaoutput=!0,p.dataurl=!1;var y=p.header?p.header:null,w=p.frames?p.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],f=[y.canvas_width];for(var S=0;S<w.length&&w[S].blend!=0;S++);}var j=w[0],_=x.WebPDecodeRGBA(m,j.src_off,j.src_size,f,h);j.rgba=_,j.imgwidth=f[0],j.imgheight=h[0];for(var F=0;F<f[0]*h[0]*4;F++)g[F]=_[F];return this.width=f,this.height=h,this.data=g,this}(function(t){var e=function(){return typeof S4=="function"},r=function(h,f,g,x){var m=4,p=o;switch(x){case t.image_compression.FAST:m=1,p=i;break;case t.image_compression.MEDIUM:m=6,p=l;break;case t.image_compression.SLOW:m=9,p=c}h=n(h,f,g,p);var y=S4(h,{level:m});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(h,f,g,x){for(var m,p,y,w=h.length/f,S=new Uint8Array(h.length+w),j=u(),_=0;_<w;_+=1){if(y=_*f,m=h.subarray(y,y+f),x)S.set(x(m,g,p),y+_);else{for(var F,C=j.length,E=[];F<C;F+=1)E[F]=j[F](m,g,p);var T=A(E.concat());S.set(E[T],y+_)}p=m}return S},a=function(h){var f=Array.apply([],h);return f.unshift(0),f},i=function(h,f){var g,x=[],m=h.length;x[0]=1;for(var p=0;p<m;p+=1)g=h[p-f]||0,x[p+1]=h[p]-g+256&255;return x},o=function(h,f,g){var x,m=[],p=h.length;m[0]=2;for(var y=0;y<p;y+=1)x=g&&g[y]||0,m[y+1]=h[y]-x+256&255;return m},l=function(h,f,g){var x,m,p=[],y=h.length;p[0]=3;for(var w=0;w<y;w+=1)x=h[w-f]||0,m=g&&g[w]||0,p[w+1]=h[w]+256-(x+m>>>1)&255;return p},c=function(h,f,g){var x,m,p,y,w=[],S=h.length;w[0]=4;for(var j=0;j<S;j+=1)x=h[j-f]||0,m=g&&g[j]||0,p=g&&g[j-f]||0,y=d(x,m,p),w[j+1]=h[j]-y+256&255;return w},d=function(h,f,g){if(h===f&&f===g)return h;var x=Math.abs(f-g),m=Math.abs(h-g),p=Math.abs(h+f-g-g);return x<=m&&x<=p?h:m<=p?f:g},u=function(){return[a,i,o,l,c]},A=function(h){var f=h.map(function(g){return g.reduce(function(x,m){return x+Math.abs(m)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(h,f,g,x){var m,p,y,w,S,j,_,F,C,E,T,v,N,O,L,Q=this.decode.FLATE_DECODE,D="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new jue(h)).imgData,p=y.bits,m=y.colorSpace,S=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){C=(F=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,T=new Uint8Array(C*y.colors),E=new Uint8Array(C);var U,R=y.pixelBitlength-y.bits;for(O=0,L=0;O<C;O++){for(N=F[O],U=0;U<R;)T[L++]=N>>>U&255,U+=y.bits;E[O]=N>>>U&255}}if(y.bits===16){C=(F=new Uint32Array(y.decodePixels().buffer)).length,T=new Uint8Array(C*(32/y.pixelBitlength)*y.colors),E=new Uint8Array(C*(32/y.pixelBitlength)),v=y.colors>1,O=0,L=0;for(var z=0;O<C;)N=F[O++],T[L++]=N>>>0&255,v&&(T[L++]=N>>>16&255,N=F[O++],T[L++]=N>>>0&255),E[z++]=N>>>16&255;p=8}x!==t.image_compression.NONE&&e()?(h=r(T,y.width*y.colors,y.colors,x),_=r(E,y.width,1,x)):(h=T,_=E,Q=void 0)}if(y.colorType===3&&(m=this.color_spaces.INDEXED,j=y.palette,y.transparency.indexed)){var Y=y.transparency.indexed,X=0;for(O=0,C=Y.length;O<C;++O)X+=Y[O];if((X/=255)===C-1&&Y.indexOf(0)!==-1)w=[Y.indexOf(0)];else if(X!==C){for(F=y.decodePixels(),E=new Uint8Array(F.length),O=0,C=F.length;O<C;O++)E[O]=Y[F[O]];_=r(E,y.width,1)}}var $=function(M){var G;switch(M){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(x);return Q===this.decode.FLATE_DECODE&&(D="/Predictor "+$+" "),D+="/Colors "+S+" /BitsPerComponent "+p+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:g,data:h,index:f,filter:Q,decodeParameters:D,transparency:w,palette:j,sMask:_,predictor:$,width:y.width,height:y.height,bitsPerComponent:p,colorSpace:m}}}})(At.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new Nue(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new N_(100).encode(d,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A}(At.API),Ui.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ui.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){vr.log("bit decode error:"+r)}},Ui.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ui.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ui.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ui.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},Ui.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},Ui.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ui.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Ui.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new Ui(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new N_(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}(At.API),hO.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new hO(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new N_(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}(At.API),At.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],A=n[d+1],h=n[d+2],f=n[d+3];i[l++]=u,i[l++]=A,i[l++]=h,o[c++]=f}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},At.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},XA=At.API,Gy=XA.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,A=e.doKerning!==!1,h=0,f=t.length,g=0,x=l[0]||c,m=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?m.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=A&&Ar(d[n])==="object"&&!isNaN(parseInt(d[n][g],10))?d[n][g]/u:0,m.push((l[n]||x)/c+h)),g=n;return m},cO=XA.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return XA.processArabic&&(t=XA.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Gy.apply(this,arguments).reduce(function(i,o){return i+o},0)},dO=function(t,e,r,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},uO=function(t,e,r){r||(r={});var n,a,i,o,l,c,d,u=[],A=[u],h=r.textIndent||0,f=0,g=0,x=t.split(" "),m=Gy.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var p=Array(c).join(" "),y=[];x.map(function(S){(S=S.split(/\s*\n/)).length>1?y=y.concat(S.map(function(j,_){return(_&&j.length?`
`:"")+j})):y.push(S[0])}),x=y,c=cO.apply(this,[p,r])}for(i=0,o=x.length;i<o;i++){var w=0;if(n=x[i],c&&n[0]==`
`&&(n=n.substr(1),w=1),h+f+(g=(a=Gy.apply(this,[n,r])).reduce(function(S,j){return S+j},0))>e||w){if(g>e){for(l=dO.apply(this,[n,a,e-(h+f),e]),u.push(l.shift()),u=[l.pop()];l.length;)A.push([l.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(S,j){return S+j},0)}else u=[n];A.push(u),h=g+c,f=m}else u.push(n),h+=f+g,f=m}return d=c?function(S,j){return(j?p:"")+S.join(" ")}:function(S){return S.join(" ")},A.map(d)},XA.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(uO.apply(this,[n[l],o,i]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(A){return"0x"+parseInt(A,10).toString(16)},o=t.__fontmetrics__.compress=function(A){var h,f,g,x,m=["{"];for(var p in A){if(h=A[p],isNaN(parseInt(p,10))?f="'"+p+"'":(p=parseInt(p,10),f=(f=i(p).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),x="-"):(g=i(h).slice(2),x=""),g=x+g.slice(0,-1)+n[g.slice(-1)];else{if(Ar(h)!=="object")throw new Error("Don't know what to do with value type "+Ar(h)+".");g=o(h)}m.push(f+g)}return m.push("}"),m.join("")},l=t.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,g,x,m={},p=1,y=m,w=[],S="",j="",_=A.length-1,F=1;F<_;F+=1)(x=A[F])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(w.push([y,g]),y={},g=void 0):x=="}"?((f=w.pop())[0][f[1]]=y,g=void 0,y=f[0]):x=="-"?p=-1:g===void 0?r.hasOwnProperty(x)?(S+=r[x],g=parseInt(S,16)*p,p=1,S=""):S+=x:r.hasOwnProperty(x)?(j+=r[x],y[g]=parseInt(j,16)*p,p=1,g=void 0,j=""):j+=x;return m},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(A){var h=A.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(At.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(fg(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(At),function(t){function e(){return(jt.canvg?Promise.resolve(jt.canvg):dd(()=>import("./index.es-D4ydIVHM.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}At.API.addSvgAsImage=function(r,n,a,i,o,l,c,d){if(isNaN(n)||isNaN(a))throw vr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw vr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var A=u.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(g){return g.fromString(A,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,a,i,o,c,d)})}}(),At.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},At.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,A=0;function h(g,x){var m,p=!1;for(m=0;m<g.length;m+=1)g[m]===x&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(A=0;A<f;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(Ar(t)==="object"){for(a in t)if(i=t[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,x=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?x.push("/"+g+" /"+r[g].value):x.push("/"+g+" "+r[g].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],A=0,h=i.length;A<h;++A){if(l=o.metadata.characterToGlyph(i.charCodeAt(A)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,A,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,h=(l=Object.keys(i).sort(function(f,g){return f-g})).length;A<h;A++)o=l[A],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var x=d();u({data:f,addLength1:!0,objectId:x}),c("endobj");var m=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var p=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Ah(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Ah(l.fontName)),c("/FontDescriptor "+p+" 0 R"),c("/W "+t.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+m+" 0 R"),c("/BaseFont /"+Ah(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,h="",f=0;f<A.length;f++)h+=String.fromCharCode(A[f]);var g=d();u({data:h,addLength1:!0,objectId:g}),c("endobj");var x=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var m=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Ah(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var p=0;p<l.metadata.hmtx.widths.length;p++)l.metadata.hmtx.widths[p]=parseInt(l.metadata.hmtx.widths[p]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Ah(l.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},A=i.mutex||{},h=A.pdfEscape,f=A.activeFontKey,g=A.fonts,x=f,m="",p=0,y="",w=g[x].encoding;if(g[x].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:A};for(y=l,x=f,Array.isArray(l)&&(y=l[0]),p=0;p<y.length;p+=1)g[x].metadata.hasOwnProperty("cmap")&&(o=g[x].metadata.cmap.unicode.codeMap[y[p].charCodeAt(0)]),o||y[p].charCodeAt(0)<256&&g[x].metadata.hasOwnProperty("Unicode")?m+=y[p]:m+="";var S="";return parseInt(x.slice(1))<14||w==="WinAnsiEncoding"?S=h(m,x).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(S=r(m,g[x])),A.isHex=!0,{text:S,x:c,y:d,options:u,mutex:A}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(At),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(At.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,d,u,A=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var S=function(v){var N=v.charCodeAt(),O=N>>8,L=x[O];return L!==void 0?A[256*L+(255&N)]:O===252||O===253?"AL":p.test(O)?"L":O===8?"R":"N"},j=function(v){for(var N,O=0;O<v.length;O++){if((N=S(v.charAt(O)))==="L")return!1;if(N==="R")return!0}return!1},_=function(v,N,O,L){var Q,D,U,R,z=N[L];switch(z){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(z="AN");break;case"AL":y=!0,z="R";break;case"WS":z="N";break;case"CS":L<1||L+1>=N.length||(Q=O[L-1])!=="EN"&&Q!=="AN"||(D=N[L+1])!=="EN"&&D!=="AN"?z="N":y&&(D="AN"),z=D===Q?D:"N";break;case"ES":z=(Q=L>0?O[L-1]:"B")==="EN"&&L+1<N.length&&N[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&O[L-1]==="EN"){z="EN";break}if(y){z="N";break}for(U=L+1,R=N.length;U<R&&N[U]==="ET";)U++;z=U<R&&N[U]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(R=N.length,U=L+1;U<R&&N[U]==="NSM";)U++;if(U<R){var Y=v[L],X=Y>=1425&&Y<=2303||Y===64286;if(Q=N[U],X&&(Q==="R"||Q==="AL")){z="R";break}}}z=L<1||(Q=N[L-1])==="B"?"N":O[L-1];break;case"B":y=!1,a=!0,z=w;break;case"S":i=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":z="N"}return z},F=function(v,N,O){var L=v.split("");return O&&C(L,O,{hiLevel:w}),L.reverse(),N&&N.reverse(),L.join("")},C=function(v,N,O){var L,Q,D,U,R,z=-1,Y=v.length,X=0,$=[],M=w?f:h,G=[];for(y=!1,a=!1,i=!1,Q=0;Q<Y;Q++)G[Q]=S(v[Q]);for(D=0;D<Y;D++){if(R=X,$[D]=_(v,G,$,D),L=240&(X=M[R][g[$[D]]]),X&=15,N[D]=U=M[X][5],L>0)if(L===16){for(Q=z;Q<D;Q++)N[Q]=1;z=-1}else z=-1;if(M[X][6])z===-1&&(z=D);else if(z>-1){for(Q=z;Q<D;Q++)N[Q]=U;z=-1}G[D]==="B"&&(N[D]=0),O.hiLevel|=U}i&&function(V,ae,Ae){for(var re=0;re<Ae;re++)if(V[re]==="S"){ae[re]=w;for(var ie=re-1;ie>=0&&V[ie]==="WS";ie--)ae[ie]=w}}(G,N,Y)},E=function(v,N,O,L,Q){if(!(Q.hiLevel<v)){if(v===1&&w===1&&!a)return N.reverse(),void(O&&O.reverse());for(var D,U,R,z,Y=N.length,X=0;X<Y;){if(L[X]>=v){for(R=X+1;R<Y&&L[R]>=v;)R++;for(z=X,U=R-1;z<U;z++,U--)D=N[z],N[z]=N[U],N[U]=D,O&&(D=O[z],O[z]=O[U],O[U]=D);X=R}X++}}},T=function(v,N,O){var L=v.split(""),Q={hiLevel:w};return O||(O=[]),C(L,O,Q),function(D,U,R){if(R.hiLevel!==0&&u)for(var z,Y=0;Y<D.length;Y++)U[Y]===1&&(z=m.indexOf(D[Y]))>=0&&(D[Y]=m[z+1])}(L,O,Q),E(2,L,N,O,Q),E(1,L,N,O,Q),L.join("")};return this.__bidiEngine__.doBidiReorder=function(v,N,O){if(function(Q,D){if(D)for(var U=0;U<Q.length;U++)D[U]=U;l===void 0&&(l=j(Q)),d===void 0&&(d=j(Q))}(v,N),o||!c||d)if(o&&c&&l^d)w=l?1:0,v=F(v,N,O);else if(!o&&c&&d)w=l?1:0,v=T(v,N,O),v=F(v,N);else if(!o||l||c||d){if(o&&!c&&l^d)v=F(v,N),l?(w=0,v=T(v,N,O)):(w=1,v=T(v,N,O),v=F(v,N));else if(o&&l&&!c&&d)w=1,v=T(v,N,O),v=F(v,N);else if(!o&&!c&&l^d){var L=u;l?(w=1,v=T(v,N,O),w=0,u=!1,v=T(v,N,O),u=L):(w=0,v=T(v,N,O),v=F(v,N),w=1,u=!1,v=T(v,N,O),u=L,v=F(v,N))}}else w=0,v=T(v,N,O);else w=l?1:0,v=T(v,N,O);return v},this.__bidiEngine__.setOptions=function(v){v&&(o=v.isInputVisual,c=v.isOutputVisual,l=v.isInputRtl,d=v.isOutputRtl,u=v.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ad(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Uue(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _ue(this.contents),this.head=new Sue(this),this.name=new Pue(this),this.cmap=new dH(this),this.toUnicode={},this.hhea=new Bue(this),this.maxp=new Tue(this),this.hmtx=new Oue(this),this.post=new kue(this),this.os2=new Eue(this),this.loca=new Due(this),this.glyf=new Iue(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var oo,Ad=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),_ue=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,l,c,d,u,A,h,f,g,x;for(x in f=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(f)/c),o=Math.floor(A/c),u=16*f-A,(a=new Ad).writeInt(this.scalarType),a.writeShort(f),a.writeShort(A),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,g=[],r)for(h=r[x],a.writeString(x),a.writeInt(t(h)),a.writeInt(d),a.writeInt(h.length),g=g.concat(h),x==="head"&&(l=d),d+=h.length;d%4;)g.push(0),d++;return a.write(g),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=uH.call(r);r.length%4;)r.push(0);for(i=new Ad(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),Cue={}.hasOwnProperty,$o=function(t,e){for(var r in e)Cue.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};oo=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Sue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Ad).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),fO=function(){function t(e,r){var n,a,i,o,l,c,d,u,A,h,f,g,x,m,p,y,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,i=function(){var S,j;for(j=[],c=S=0;0<=h?S<h:S>h;c=0<=h?++S:--S)j.push(e.readUInt16());return j}(),e.pos+=2,x=function(){var S,j;for(j=[],c=S=0;0<=h?S<h:S>h;c=0<=h?++S:--S)j.push(e.readUInt16());return j}(),d=function(){var S,j;for(j=[],c=S=0;0<=h?S<h:S>h;c=0<=h?++S:--S)j.push(e.readUInt16());return j}(),u=function(){var S,j;for(j=[],c=S=0;0<=h?S<h:S>h;c=0<=h?++S:--S)j.push(e.readUInt16());return j}(),a=(this.length-e.pos+this.offset)/2,l=function(){var S,j;for(j=[],c=S=0;0<=a?S<a:S>a;c=0<=a?++S:--S)j.push(e.readUInt16());return j}(),c=p=0,w=i.length;p<w;c=++p)for(m=i[c],n=y=g=x[c];g<=m?y<=m:y>=m;n=g<=m?++y:--y)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-g)-(h-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=A}return t.encode=function(e,r){var n,a,i,o,l,c,d,u,A,h,f,g,x,m,p,y,w,S,j,_,F,C,E,T,v,N,O,L,Q,D,U,R,z,Y,X,$,M,G,V,ae,Ae,re,ie,ce,Z,me;switch(L=new Ad,o=Object.keys(e).sort(function(Me,Re){return Me-Re}),r){case"macroman":for(x=0,m=function(){var Me=[];for(g=0;g<256;++g)Me.push(0);return Me}(),y={0:0},i={},Q=0,z=o.length;Q<z;Q++)y[ie=e[a=o[Q]]]==null&&(y[ie]=++x),i[a]={old:e[a],new:y[e[a]]},m[a]=y[e[a]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(m),{charMap:i,subtable:L.data,maxGlyphID:x+1};case"unicode":for(N=[],A=[],w=0,y={},n={},p=d=null,D=0,Y=o.length;D<Y;D++)y[j=e[a=o[D]]]==null&&(y[j]=++w),n[a]={old:j,new:y[j]},l=y[j]-a,p!=null&&l===d||(p&&A.push(p),N.push(a),d=l),p=a;for(p&&A.push(p),A.push(65535),N.push(65535),T=2*(E=N.length),C=2*Math.pow(Math.log(E)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,F=2*E-C,c=[],_=[],f=[],g=U=0,X=N.length;U<X;g=++U){if(v=N[g],u=A[g],v===65535){c.push(0),_.push(0);break}if(v-(O=n[v].new)>=32768)for(c.push(0),_.push(2*(f.length+E-g)),a=R=v;v<=u?R<=u:R>=u;a=v<=u?++R:--R)f.push(n[a].new);else c.push(O-v),_.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*E+2*f.length),L.writeUInt16(0),L.writeUInt16(T),L.writeUInt16(C),L.writeUInt16(h),L.writeUInt16(F),Ae=0,$=A.length;Ae<$;Ae++)a=A[Ae],L.writeUInt16(a);for(L.writeUInt16(0),re=0,M=N.length;re<M;re++)a=N[re],L.writeUInt16(a);for(ce=0,G=c.length;ce<G;ce++)l=c[ce],L.writeUInt16(l);for(Z=0,V=_.length;Z<V;Z++)S=_[Z],L.writeUInt16(S);for(me=0,ae=f.length;me<ae;me++)x=f[me],L.writeUInt16(x);return{charMap:n,subtable:L.data,maxGlyphID:w+1}}},t}(),dH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new fO(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=fO.encode(r,n),(i=new Ad).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),Bue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),Eue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),kue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},e}(),Fue=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Pue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,o,l,c,d,u,A,h,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},o=A=0,h=a.length;A<h;o=++A)i=a[o],r.pos=i.offset,u=r.readString(i.length),l=new Fue(u,i),d[f=i.nameID]==null&&(d[f]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),Tue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),Oue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,o,l,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)A.push(r.readInt16());return A}(),this.widths=(function(){var u,A,h,f;for(f=[],u=0,A=(h=this.metrics).length;u<A;u++)o=h[u],f.push(o.advance);return f}).call(this),a=this.widths[this.widths.length-1],d=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),uH=[].slice,Iue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,o,l,c,d,u,A,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Ad(n.read(i))).readShort(),u=c.readShort(),h=c.readShort(),d=c.readShort(),A=c.readShort(),this.cache[r]=l===-1?new Mue(c,u,h,d,A):new Lue(c,l,u,h,d,A),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},e}(),Lue=function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Mue=function(){function t(e,r,n,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ad(uH.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Due=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $o(e,oo),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var u=new Array(4*a.length),A=0;A<a.length;++A)u[4*A+3]=255&a[A],u[4*A+2]=(65280&a[A])>>8,u[4*A+1]=(16711680&a[A])>>16,u[4*A]=(4278190080&a[A])>>24;return u},e}(),Uue=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,l,c,d,u,A,h,f,g,x,m,p;for(a in n=dH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},p=n.charMap)f[(c=p[a]).old]=c.new;for(g in h=n.maxGlyphID,o)g in f||(f[g]=h++);return u=function(y){var w,S;for(w in S={},y)S[y[w]]=w;return S}(f),A=Object.keys(u).sort(function(y,w){return y-w}),x=function(){var y,w,S;for(S=[],y=0,w=A.length;y<w;y++)l=A[y],S.push(u[l]);return S}(),i=this.font.glyf.encode(o,x,f),d=this.font.loca.encode(i.offsets,x),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},t}();At.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e}();function AH(t,e,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,d=l*c,u=/\r\n|\r|\n/g,A="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(A=typeof t=="string"?t.split(u):t,h=A.length||1),r+=l*(2-i),n.valign==="middle"?r-=h/2*d:n.valign==="bottom"&&(r-=h*d),n.halign==="center"||n.halign==="right"){var f=l;if(n.halign==="center"&&(f*=.5),A&&h>=1){for(var g=0;g<A.length;g++)a.text(A[g],e-a.getStringUnitWidth(A[g])*f,r),r+=d;return a}e-=a.getStringUnitWidth(t)*f}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var mO={},rf=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:mO=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=t.unifyColor(e.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return mO||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),O4=function(t,e){return O4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},O4(t,e)};function hH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");O4(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fH=function(t){hH(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function Rue(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Que(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Aw(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function mH(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var o=pH(a,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function pH(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function u2(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function gH(t,e){var r=u2(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function $ue(t,e,r,n,a){var i={},o=1.3333333333333333,l=__(e,function(w){return a.getComputedStyle(w).backgroundColor});l!=null&&(i.fillColor=l);var c=__(e,function(w){return a.getComputedStyle(w).color});c!=null&&(i.textColor=c);var d=zue(n,r);d&&(i.cellPadding=d);var u="borderTopColor",A=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/A;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/A,right:(parseFloat(n.borderRightWidth)||0)/A,bottom:(parseFloat(n.borderBottomWidth)||0)/A,left:(parseFloat(n.borderLeftWidth)||0)/A},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=__(e,function(w){return a.getComputedStyle(w)[u]});g!=null&&(i.lineColor=g);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var m=parseInt(n.fontSize||"");isNaN(m)||(i.fontSize=m/o);var p=Hue(n);p&&(i.fontStyle=p);var y=(n.fontFamily||"").toLowerCase();return t.indexOf(y)!==-1&&(i.font=y),i}function Hue(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function __(t,e){var r=xH(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function xH(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:xH(t.parentElement,e):r}function zue(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=u2(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function yH(t,e,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],A=[],h=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:A,foot:h};for(var f=0;f<l.rows.length;f++){var g=l.rows[f],x=(o=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),m=que(c,d,r,g,n,a);m&&(x==="thead"?u.push(m):x==="tfoot"?h.push(m):A.push(m))}return{head:u,body:A,foot:h}}function que(t,e,r,n,a,i){for(var o=new fH(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;i&&(u=$ue(t,c,e,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:Vue(c)})}}var A=r.getComputedStyle(n);if(o.length>0&&(a||A.display!=="none"))return o}function Vue(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Kue(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function bl(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function vH(t,e){var r=new rf(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();Kue(a,n,e);var i=bl({},a,n,e),o;typeof window<"u"&&(o=window);var l=Wue(a,n,e),c=Gue(a,n,e),d=Xue(r,i),u=Jue(r,i,o);return{id:e.tableId,content:u,hooks:c,styles:l,settings:d}}function Wue(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=t[c],u=e[c],A=r[c];n.columnStyles=bl({},d,u,A)}else{var h=[t,e,r],f=h.map(function(g){return g[c]||{}});n[c]=bl({},f[0],f[1],f[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];a(l)}return n}function Gue(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Xue(t,e){var r,n,a,i,o,l,c,d,u,A,h,f,g=u2(e.margin,40/t.scaleFactor()),x=(r=Yue(t,e.startY))!==null&&r!==void 0?r:g.top,m;e.showFoot===!0?m="everyPage":e.showFoot===!1?m="never":m=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var p;e.showHead===!0?p="everyPage":e.showHead===!1?p="never":p=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var y=(i=e.useCss)!==null&&i!==void 0?i:!1,w=e.theme||(y?"plain":"striped"),S=!!e.horizontalPageBreak,j=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:y,theme:w,startY:x,margin:g,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:p,showFoot:m,tableLineWidth:(A=e.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:S,horizontalPageBreakRepeat:j,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Yue(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Jue(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=yH(t,e.html,r,o,e.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Zue(n,a,i);return{columns:c,head:n,body:a,foot:i}}function Zue(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(n)?d=a.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var I4=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),eAe=function(t){hH(e,t);function e(r,n,a,i,o,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return e}(I4),tAe=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new eAe(e,this,n,a,i,o),A=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],A)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new I4(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new I4(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),bH=function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof fH&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>a?d:a},0)},t}(),wH=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=u2(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),rAe=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function nAe(t,e){sAe(t,e);var r=[],n=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=L4(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=L4(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),iAe(e),oAe(e,t),aAe(e)}function sAe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=gH(t,e);e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=e.hooks.didParseCell;e.callCellHooks(t,u,d,i,c,null);var A=d.padding("horizontal");d.contentWidth=Aw(d.text,d.styles,t)+A;var h=Aw(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=h+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var f=10/r;d.minWidth=d.styles.minCellWidth||f,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},A=u.cellWidth||u.minCellWidth;A&&typeof A=="number"&&(c.minWidth=A,c.wrappedWidth=A)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function L4(t,e,r){for(var n=e,a=t.reduce(function(f,g){return f+g.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/a,c=n*l,d=o.width+c,u=r(o),A=d<u?u:d;e-=A-o.width,o.width=A}if(e=Math.round(e*1e10)/1e10,e){var h=t.filter(function(f){return e<0?f.width>r(f):!0});h.length&&(e=L4(h,e,r))}return e}function aAe(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var A=n.length-a,h=u.rowSpan>A?A:u.rowSpan;e[c.index]={cell:u,left:h,row:i}}}}}function iAe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+i}else{var d=n.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){a=d,i+=c.width;continue}d.width=c.width+i}}}function oAe(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){e.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,u+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=pO(d.text,u,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=pO(d.text,u,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,u);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<h*d.rowSpan?r={height:h,count:d.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function pO(t,e,r,n,a){return t.map(function(i){return lAe(i,e,r,n,a)})}function lAe(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Aw(t,r,n))return t;for(;e<Aw(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function jH(t,e){var r=new rf(t),n=cAe(e,r.scaleFactor()),a=new tAe(e,n);return nAe(r,a),r.applyStyles(r.userStyles),a}function cAe(t,e){var r=t.content,n=uAe(r.columns);if(r.head.length===0){var a=gO(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=gO(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,o=t.styles;return{columns:n,head:C_("head",r.head,n,o,i,e),body:C_("body",r.body,n,o,i,e),foot:C_("foot",r.foot,n,o,i,e)}}function C_(t,e,r,n,a,i){var o={},l=e.map(function(c,d){for(var u=0,A={},h=0,f=0,g=0,x=r;g<x.length;g++){var m=x[g];if(o[m.index]==null||o[m.index].left===0)if(f===0){var p=void 0;Array.isArray(c)?p=c[m.index-h-u]:p=c[m.dataKey];var y={};typeof p=="object"&&!Array.isArray(p)&&(y=(p==null?void 0:p.styles)||{});var w=AAe(t,m,d,a,n,i,y),S=new wH(p,w,t);A[m.dataKey]=S,A[m.index]=S,f=S.colSpan-1,o[m.index]={left:S.rowSpan-1,times:f}}else f--,h++;else o[m.index].left--,f=o[m.index].times,u++}return new bH(c,d,t,A)});return l}function gO(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=dAe(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function dAe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function uAe(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new rAe(a,e,r)})}function AAe(t,e,r,n,a,i,o){var l=Que(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var d=bl({},l.table,l[t],a.styles,c),u=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},A=t==="body"?u:{},h=t==="body"&&r%2===0?bl({},l.alternateRow,a.alternateRowStyles):{},f=Rue(i),g=bl({},f,d,h,A);return bl(g,o)}function hAe(t,e,r){var n;r===void 0&&(r={});var a=gH(t,e),i=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var f=e.columns.find(function(g){return g.dataKey===h||g.index===h});f&&!i.has(f.index)&&(i.set(f.index,!0),o.push(f.index),l.push(e.columns[f.index]),a-=f.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(i.has(u)){u++;continue}var A=e.columns[u].wrappedWidth;if(d||a>=A)d=!1,o.push(u),l.push(e.columns[u]),a-=A;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function fAe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=hAe(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function NH(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(h,f){return h+f.height},0);l+=d}var u=new rf(t);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(CH(u),i.y=a.top),e.callWillDrawPageHooks(u,i);var A=bl({},i);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?mAe(u,e,A,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(h){return Ul(u,e,h,i,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(h,f){var g=f===e.body.length-1;hw(u,e,h,g,A,i,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(h){return Ul(u,e,h,i,e.columns)})),mH(u,e,A,i),e.callEndPageHooks(u,i),e.finalY=i.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function mAe(t,e,r,n){var a=fAe(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?mg(t,e,r,n,d.columns,!0):xO(t,e,n,d.columns),pAe(t,e,r,n,d.columns),S_(t,e,n,d.columns)});else for(var o=-1,l=a[0],c=function(){var d=o;if(l){t.applyStyles(t.userStyles);var u=l.columns;o>=0?mg(t,e,r,n,u,!0):xO(t,e,n,u),d=yO(t,e,o+1,n,u),S_(t,e,n,u)}var A=d-o;a.slice(1).forEach(function(h){t.applyStyles(t.userStyles),mg(t,e,r,n,h.columns,!0),yO(t,e,o+1,n,h.columns,A),S_(t,e,n,h.columns)}),o=d};o<e.body.length-1;)c()}function xO(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Ul(t,e,i,r,n)})}function pAe(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var l=o===e.body.length-1;hw(t,e,i,l,r,n,a)})}function yO(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,d){var u=r+d===e.body.length-1,A=_H(t,e,u,n);c.canEntireRowFit(A,a)&&(Ul(t,e,c,n,a),l=r+d)}),l}function S_(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Ul(t,e,i,r,n)})}function gAe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function xAe(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new wH(d.raw,d.styles,d.section);u=bl(u,d),u.text=[];var A=gAe(d,e,n);d.text.length>A&&(u.text=d.text.splice(A,d.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(h,f),d.contentHeight>=e&&(d.contentHeight=e,u.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(h,f),u.contentHeight>i&&(i=u.contentHeight),a[c.index]=u}}var g=new bH(t.raw,-1,t.section,a,!0);g.height=i;for(var x=0,m=r.columns;x<m.length;x++){var c=m[x],u=g.cells[c.index];u&&(u.height=g.height);var d=t.cells[c.index];d&&(d.height=t.height)}return g}function yAe(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=a-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=e.hasRowSpan(n.columns),A=e.getMaxCellHeight(n.columns)>l;return A?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function hw(t,e,r,n,a,i,o){var l=_H(t,e,n,i);if(r.canEntireRowFit(l,o))Ul(t,e,r,i,o);else if(yAe(t,r,l,e)){var c=xAe(r,l,e,t);Ul(t,e,r,i,o),mg(t,e,a,i,o),hw(t,e,c,n,a,i,o)}else mg(t,e,a,i,o),hw(t,e,r,n,a,i,o)}function Ul(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}vAe(t,c,n);var u=c.getTextPos();AH(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function vAe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=pH(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),bAe(t,e,r,n.lineWidth))}function bAe(t,e,r,n){var a,i,o,l;n.top&&(a=r.x,i=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,o,l)),n.bottom&&(a=r.x,i=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,o,l)),n.left&&(a=r.x,i=r.y,o=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,o,l)),n.right&&(a=r.x+e.width,i=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,o,l));function c(d,u,A,h,f){t.getDocument().setLineWidth(d),t.getDocument().line(u,A,h,f,"S")}}function _H(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function mg(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Ul(t,e,l,n,a)}),e.callEndPageHooks(t,n);var o=e.settings.margin;mH(t,e,r,n),CH(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Ul(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function CH(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function wAe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=vH(this,n),i=jH(this,a);return NH(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){AH(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return rf.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){rf.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new rf(this),i=yH(a,e,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var B_;function Xy(t,e){var r=vH(t,e),n=jH(t,r);NH(t,n)}try{if(typeof window<"u"&&window){var vO=window,bO=vO.jsPDF||((B_=vO.jspdf)===null||B_===void 0?void 0:B_.jsPDF);bO&&wAe(bO)}}catch(t){console.error("Could not apply autoTable plugin",t)}const jn={name:"Giartech Soluções",cnpj:"37.509.897/0001-93",address:"Rua Quito, 14",neighborhood:"Nossa Sra do Ó",city:"São Paulo",state:"SP",zip:"02734-010",phone:"(11) 5555-2560",email:"diretor@giartechsolucoes.com.br",website:"giartechsolucoes.com.br",instagram:"@giartech.soluções",pix:"37.509.897/0001-93",owner:"Tiago Bruno Giaquinto",whatsapp:"(35) 1511-9666",bank_name:"CORA",bank_agency:"0001",bank_account:"1412009-3",account_type:"Corrente"},A2=async()=>{try{const{data:t}=await ge.from("company_settings").select("*").limit(1).maybeSingle();if(t){const e=[t.address_street,t.address_number].filter(Boolean).join(", "),r=[t.address_street,t.address_number,t.address_neighborhood,t.address_city,t.address_state,t.address_zip&&`CEP: ${t.address_zip}`].filter(Boolean).join(", ");return{name:t.company_name||jn.name,cnpj:t.cnpj||jn.cnpj,address:e||jn.address,neighborhood:t.address_neighborhood||jn.neighborhood,city:t.address_city||jn.city,state:t.address_state||jn.state,zip:t.address_zip||jn.zip,phone:t.phone||jn.phone,email:t.email||jn.email,website:t.website||jn.website,instagram:t.instagram||jn.instagram,pix:t.pix_key||jn.pix,fullAddress:r,owner:t.owner_name||jn.owner,whatsapp:t.whatsapp||jn.whatsapp,bank_name:t.bank_name||jn.bank_name,bank_agency:t.bank_agency||jn.bank_agency,bank_account:t.bank_account||jn.bank_account,account_type:t.account_type||jn.account_type}}return jn}catch(t){return console.error("Error loading company info:",t),jn}},wO=async(t,e)=>{var N;const r=await A2(),n=e||{company_name:r.name,cnpj:r.cnpj,address_street:r.address.split(",")[0],address_number:(N=r.address.split(",")[1])==null?void 0:N.trim(),address_neighborhood:r.neighborhood,address_city:r.city,address_state:r.state,address_zipcode:r.zip,phone:r.phone,email:r.email,website:r.website,instagram:r.instagram},a=new At,i=a.internal.pageSize.getWidth(),o=a.internal.pageSize.getHeight(),l=15;let c=20;const d=[41,128,185],u=[52,73,94],A=[236,240,241],h=[243,156,18],f=[46,204,113],g=O=>c+O>o-l-25?(a.addPage(),c=l,!0):!1;a.setFillColor(...d),a.rect(0,0,i,45,"F"),a.setFillColor(255,255,255),a.roundedRect(l,10,40,25,3,3,"F"),a.setFontSize(16),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("GT",l+13,25),a.setTextColor(255,255,255),a.setFontSize(18),a.setFont("helvetica","bold"),a.text(n.company_name||"Empresa",l+50,18),a.setFontSize(8),a.setFont("helvetica","normal");let x=25;n.cnpj&&(a.text(`CNPJ: ${n.cnpj}`,l+50,x),x+=3),n.address_street&&(a.text(`${n.address_street}, ${n.address_number||""}`,l+50,x),x+=3),n.address_city&&(a.text(`${n.address_neighborhood||""}, ${n.address_city}-${n.address_state||""}`,l+50,x),x+=3),a.setTextColor(255,255,255);let m=18;n.email&&(a.text(`✉ ${n.email}`,i-l,m,{align:"right"}),m+=3),n.phone&&(a.text(`☎ ${n.phone}`,i-l,m,{align:"right"}),m+=3),n.whatsapp&&(a.text(`📱 ${n.whatsapp}`,i-l,m,{align:"right"}),m+=3),a.setFontSize(9),a.text(new Date(t.created_at).toLocaleDateString("pt-BR"),i-l,40,{align:"right"}),c=50,n.slogan&&(a.setFontSize(9),a.setTextColor(...u),a.setFont("helvetica","italic"),a.text(n.slogan,i/2,c,{align:"center"}),c+=10),a.setFillColor(...d),a.rect(l,c,i-2*l,20,"F"),a.setTextColor(255,255,255),a.setFontSize(16),a.setFont("helvetica","bold"),a.text("ORDEM DE SERVIÇO",i/2,c+8,{align:"center"}),a.setFontSize(14),a.text(`Nº ${t.order_number}`,i/2,c+15,{align:"center"}),c+=25;const p={pending:[243,156,18],in_progress:[41,128,185],completed:[46,204,113],cancelled:[231,76,60]},y={pending:"AGUARDANDO",in_progress:"EM ANDAMENTO",completed:"CONCLUÍDA",cancelled:"CANCELADA"},w={low:[149,165,166],medium:[243,156,18],high:[231,76,60],urgent:[192,57,43]},S={low:"BAIXA",medium:"MÉDIA",high:"ALTA",urgent:"URGENTE"},j=p[t.status]||[149,165,166];if(a.setFillColor(...j),a.roundedRect(l,c,50,10,2,2,"F"),a.setTextColor(255,255,255),a.setFontSize(9),a.setFont("helvetica","bold"),a.text(y[t.status]||t.status.toUpperCase(),l+25,c+6.5,{align:"center"}),t.priority){const O=w[t.priority]||[149,165,166];a.setFillColor(...O),a.roundedRect(l+55,c,50,10,2,2,"F"),a.setTextColor(255,255,255),a.text(S[t.priority]||t.priority.toUpperCase(),l+80,c+6.5,{align:"center"})}if(t.service_type&&(a.setFillColor(...A),a.roundedRect(l+110,c,50,10,2,2,"F"),a.setTextColor(...u),a.text(t.service_type.toUpperCase(),l+135,c+6.5,{align:"center"})),c+=15,g(40),a.setFillColor(...A),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(12),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("DADOS DO CLIENTE",l+2,c+5.5),c+=12,a.setFontSize(10),a.setTextColor(...u),a.setFont("helvetica","bold"),a.text("Nome/Empresa:",l,c),a.setFont("helvetica","normal"),a.text(t.client.company_name||t.client.name,l+35,c),c+=6,t.client.phone&&(a.setFont("helvetica","bold"),a.text("Telefone:",l,c),a.setFont("helvetica","normal"),a.text(t.client.phone,l+35,c),c+=6),t.client.email&&(a.setFont("helvetica","bold"),a.text("E-mail:",l,c),a.setFont("helvetica","normal"),a.text(t.client.email,l+35,c),c+=6),t.client.address){a.setFont("helvetica","bold"),a.text("Endereço:",l,c),a.setFont("helvetica","normal");const O=`${t.client.address}${t.client.address_city?", "+t.client.address_city:""}`;a.text(O,l+35,c),c+=8}else c+=3;if(t.equipment&&(g(35),a.setFillColor(...A),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(12),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("DADOS DO EQUIPAMENTO",l+2,c+5.5),c+=12,a.setFontSize(10),a.setTextColor(...u),a.setFont("helvetica","bold"),a.text("Equipamento:",l,c),a.setFont("helvetica","normal"),a.text(t.equipment,l+35,c),c+=6,t.brand&&(a.setFont("helvetica","bold"),a.text("Marca:",l,c),a.setFont("helvetica","normal"),a.text(t.brand,l+35,c),t.model&&(a.setFont("helvetica","bold"),a.text("Modelo:",l+80,c),a.setFont("helvetica","normal"),a.text(t.model,l+100,c)),c+=6),t.serial_number?(a.setFont("helvetica","bold"),a.text("Nº Série:",l,c),a.setFont("helvetica","normal"),a.text(t.serial_number,l+35,c),c+=8):c+=3),t.reported_issue){g(30),a.setFillColor(...A),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(12),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("PROBLEMA RELATADO",l+2,c+5.5),c+=12,a.setFontSize(9),a.setTextColor(...u),a.setFont("helvetica","normal");const O=a.splitTextToSize(t.reported_issue,i-2*l-4);a.text(O,l+2,c),c+=O.length*4+5}if(t.technician_notes){g(30),a.setFillColor(...A),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(12),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("DIAGNÓSTICO E SERVIÇOS REALIZADOS",l+2,c+5.5),c+=12,a.setFontSize(9),a.setTextColor(...u),a.setFont("helvetica","normal");const O=a.splitTextToSize(t.technician_notes,i-2*l-4);a.text(O,l+2,c),c+=O.length*4+5}if(t.parts_used&&t.parts_used.length>0){g(40),a.setFillColor(...A),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(12),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("PEÇAS E MATERIAIS UTILIZADOS",l+2,c+5.5),c+=12;const O=t.parts_used.map(L=>[L.name||L.item_name||"Item",L.quantity||1,`R$ ${(L.unit_price||L.price||0).toFixed(2)}`,`R$ ${((L.quantity||1)*(L.unit_price||L.price||0)).toFixed(2)}`]);a.autoTable({startY:c,head:[["Descrição","Qtd.","Preço Unit.","Total"]],body:O,theme:"grid",headStyles:{fillColor:d,textColor:[255,255,255],fontSize:9,fontStyle:"bold",halign:"center"},columnStyles:{0:{cellWidth:110},1:{halign:"center",cellWidth:20},2:{halign:"right",cellWidth:30},3:{halign:"right",cellWidth:30,fontStyle:"bold"}},styles:{fontSize:9,cellPadding:3},margin:{left:l,right:l}}),c=a.lastAutoTable.finalY+5}if(g(25),a.setFillColor(...A),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(12),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("PRAZOS",l+2,c+5.5),c+=12,a.setFontSize(10),a.setTextColor(...u),t.scheduled_date&&(a.setFont("helvetica","bold"),a.text("Agendado para:",l,c),a.setFont("helvetica","normal"),a.text(new Date(t.scheduled_date).toLocaleDateString("pt-BR"),l+40,c),c+=6),t.completion_date?(a.setFont("helvetica","bold"),a.text("Conclusão:",l,c),a.setFont("helvetica","normal"),a.text(new Date(t.completion_date).toLocaleDateString("pt-BR"),l+40,c),c+=8):c+=3,g(35),a.setFillColor(...A),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(12),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("VALORES",l+2,c+5.5),c+=12,a.setFontSize(10),a.setTextColor(...u),t.estimated_cost&&(a.setFont("helvetica","bold"),a.text("Custo Estimado:",l,c),a.setFont("helvetica","normal"),a.text(`R$ ${t.estimated_cost.toFixed(2)}`,l+40,c),c+=6),t.final_cost&&(a.setFont("helvetica","bold"),a.text("Custo Final:",l,c),a.setFont("helvetica","normal"),a.setFontSize(12),a.setTextColor(...f),a.text(`R$ ${t.final_cost.toFixed(2)}`,l+40,c),c+=6,a.setFontSize(10),a.setTextColor(...u)),t.payment_status){const O={pending:"PENDENTE",partial:"PARCIAL",paid:"PAGO"},Q={pending:h,partial:[243,156,18],paid:f}[t.payment_status]||h;a.setFont("helvetica","bold"),a.text("Status Pagamento:",l,c),a.setTextColor(...Q),a.text(O[t.payment_status]||t.payment_status.toUpperCase(),l+50,c),c+=8}if(t.warranty_terms||n.warranty_period){g(30),a.setFillColor(...A),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(12),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text("GARANTIA",l+2,c+5.5),c+=12,a.setFontSize(9),a.setTextColor(...u),a.setFont("helvetica","normal");const O=t.warranty_terms||`Garantia de ${n.warranty_period||"90 dias"} para o serviço realizado.`,L=a.splitTextToSize(O,i-2*l-4);a.text(L,l+2,c),c+=L.length*4+8}g(40),a.setFillColor(255,243,205),a.rect(l,c,i-2*l,8,"F"),a.setFontSize(11),a.setTextColor(133,100,4),a.setFont("helvetica","bold"),a.text("TERMOS E CONDIÇÕES",l+2,c+5.5),c+=12,a.setFontSize(8),a.setTextColor(133,100,4),a.setFont("helvetica","normal"),["1. Esta ordem de serviço é válida apenas para os serviços descritos acima.","2. O cliente é responsável por fornecer acesso adequado ao local de trabalho.","3. Serviços adicionais não previstos nesta OS serão orçados separadamente.","4. O prazo de garantia inicia-se na data de conclusão do serviço.","5. A garantia cobre defeitos de execução, não incluindo mau uso ou desgaste natural."].forEach(O=>{const L=a.splitTextToSize(O,i-2*l-4);g(L.length*3+2),a.text(L,l+2,c),c+=L.length*3+2}),c+=10,g(40),a.setFontSize(9),a.setTextColor(...u),a.setFont("helvetica","normal");const F=t.completion_date?new Date(t.completion_date).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"}):new Date().toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"});a.text(`${n.address_city||"São Paulo"}, ${F}`,i/2,c,{align:"center"}),c+=15;const C=70,E=l+10,T=i-l-C-10;a.setLineWidth(.5),a.line(E,c,E+C,c),a.setFont("helvetica","bold"),a.setFontSize(9),a.text(n.company_name||"Empresa",E+C/2,c+5,{align:"center"}),a.setFont("helvetica","normal"),a.setFontSize(8),a.text("Responsável Técnico",E+C/2,c+9,{align:"center"}),a.setLineWidth(.5),a.line(T,c,T+C,c),a.setFont("helvetica","bold"),a.setFontSize(9),a.text(t.client.company_name||t.client.name,T+C/2,c+5,{align:"center"}),a.setFont("helvetica","normal"),a.setFontSize(8),a.text("Cliente",T+C/2,c+9,{align:"center"});const v=a.internal.getNumberOfPages();for(let O=1;O<=v;O++){a.setPage(O),a.setFontSize(7),a.setTextColor(150,150,150),a.setFont("helvetica","normal");let L=o-15;const Q=[n.company_name||"",n.cnpj?`CNPJ: ${n.cnpj}`:"",n.phone?`Tel: ${n.phone}`:"",n.email?`Email: ${n.email}`:""].filter(Boolean).join(" | ");if(a.text(Q,i/2,L,{align:"center"}),n.instagram||n.website){const D=[n.instagram?`Instagram: ${n.instagram}`:"",n.website?`Site: ${n.website}`:""].filter(Boolean).join(" | ");a.text(D,i/2,L+3,{align:"center"})}a.text(`Página ${O}/${v}`,i-l,o-8,{align:"right"}),a.text(`OS: ${t.order_number}`,l,o-8)}return a},jAe=async(t,e)=>{const r=await A2(),n=e||{name:r.name,cnpj:r.cnpj,address:r.address,city:r.city,state:r.state,zip:r.zip,phone:r.phone,email:r.email,website:r.website},a=new At,i=a.internal.pageSize.getWidth(),o=a.internal.pageSize.getHeight(),l=15;let c=l;const d=[37,99,235],u=[34,197,94],A=[31,41,55],h=[243,244,246];(()=>{a.setFillColor(...d),a.rect(0,0,i,35,"F"),a.setFillColor(147,51,234),a.setGState(new a.GState({opacity:.3})),a.rect(i*.6,0,i*.4,35,"F"),a.setGState(new a.GState({opacity:1}))})(),a.setTextColor(255,255,255),a.setFontSize(24),a.setFont("helvetica","bold"),a.text(n.name.toUpperCase(),l,15),a.setFontSize(9),a.setFont("helvetica","normal"),a.text(`CNPJ: ${n.cnpj}`,l,21),a.text(`${n.phone} | ${n.email}`,l,26),a.text(`${n.website}`,l,31),a.setFontSize(16),a.setFont("helvetica","bold");const g=`OS #${t.order_number}`;a.text(g,i-l,18,{align:"right"}),a.setFontSize(9),a.setFont("helvetica","normal");const x=new Date(t.created_at).toLocaleDateString("pt-BR");a.text(`Emitida em: ${x}`,i-l,25,{align:"right"}),c=45,a.setFillColor(...h),a.rect(l,c,i-2*l,12,"F"),a.setTextColor(...d),a.setFontSize(16),a.setFont("helvetica","bold"),a.text("ORDEM DE SERVIÇO",i/2,c+8,{align:"center"}),c+=20,a.setFillColor(...d),a.rect(l,c,i-2*l,8,"F"),a.setTextColor(255,255,255),a.setFontSize(11),a.setFont("helvetica","bold"),a.text("DADOS DO CLIENTE",l+3,c+5.5),c+=12,a.setTextColor(...A),a.setFontSize(10),a.setFont("helvetica","bold"),a.text("Razão Social / Nome:",l,c),a.setFont("helvetica","normal"),a.text(t.customer.nome_razao||"Não informado",l+45,c),c+=6,a.setFont("helvetica","bold"),a.text("CNPJ / CPF:",l,c),a.setFont("helvetica","normal"),a.text(t.customer.cnpj_cpf||"Não informado",l+45,c),a.setFont("helvetica","bold"),a.text("Telefone:",i/2,c),a.setFont("helvetica","normal"),a.text(t.customer.telefone||"Não informado",i/2+20,c),c+=6,a.setFont("helvetica","bold"),a.text("Email:",l,c),a.setFont("helvetica","normal"),a.text(t.customer.email||"Não informado",l+45,c),c+=6,a.setFont("helvetica","bold"),a.text("Endereço:",l,c),a.setFont("helvetica","normal");const m=`${t.customer.endereco||""}, ${t.customer.cidade||""} - ${t.customer.estado||""}, CEP: ${t.customer.cep||""}`;if(a.text(m,l+45,c),c+=12,t.prazo_execucao_dias||t.data_inicio_execucao){a.setFillColor(255,243,205),a.rect(l,c,i-2*l,12,"F"),a.setDrawColor(255,193,7),a.rect(l,c,i-2*l,12,"S"),c+=4,a.setTextColor(180,83,9),a.setFontSize(10),a.setFont("helvetica","bold");let v="";if(t.data_inicio_execucao&&t.data_fim_execucao){const N=new Date(t.data_inicio_execucao).toLocaleDateString("pt-BR"),O=new Date(t.data_fim_execucao).toLocaleDateString("pt-BR");v=`PRAZO DE EXECUÇÃO: ${t.prazo_execucao_dias} dias úteis (${N} até ${O})`}else t.prazo_execucao_dias&&(v=`PRAZO DE EXECUÇÃO: ${t.prazo_execucao_dias} dias úteis`);a.text(v,i/2,c+4,{align:"center"}),c+=12}c+=3,a.setFillColor(...d),a.rect(l,c,i-2*l,8,"F"),a.setTextColor(255,255,255),a.setFontSize(11),a.setFont("helvetica","bold"),a.text("DESCRIÇÃO DOS SERVIÇOS",l+3,c+5.5),c+=12,a.setTextColor(...A),a.setFontSize(10),a.setFont("helvetica","normal");const p=a.splitTextToSize(t.description,i-2*l-10);a.text(p,l+5,c),c+=p.length*5+5,t.items&&t.items.length>0&&(c+=5,a.setFillColor(...d),a.rect(l,c,i-2*l,8,"F"),a.setTextColor(255,255,255),a.setFontSize(11),a.setFont("helvetica","bold"),a.text("DETALHAMENTO DOS SERVIÇOS",l+3,c+5.5),c+=12,t.items.forEach((v,N)=>{c>o-60&&(a.addPage(),c=l),a.setFillColor(249,250,251),a.setDrawColor(229,231,235),a.rect(l,c,i-2*l,8,"FD"),c+=5,a.setTextColor(...d),a.setFontSize(11),a.setFont("helvetica","bold"),a.text(`${N+1}. ${v.descricao}`,l+3,c),c+=7,a.setTextColor(...A),a.setFontSize(9),a.setFont("helvetica","normal"),a.text(`Quantidade: ${v.quantidade}`,l+5,c),a.text(`Preço Unit.: ${Ea(v.preco_unitario)}`,l+50,c),a.text(`Total: ${Ea(v.preco_total)}`,l+100,c),v.tempo_estimado_minutos&&a.text(`Tempo: ${v.tempo_estimado_minutos} min`,l+145,c),c+=5,v.materiais&&v.materiais.length>0&&(c+=3,a.setTextColor(34,197,94),a.setFont("helvetica","bold"),a.text("📦 Materiais:",l+5,c),c+=5,a.setTextColor(...A),a.setFont("helvetica","normal"),a.setFontSize(8),v.materiais.forEach(O=>{c>o-40&&(a.addPage(),c=l);const L=`• ${O.nome} - ${O.quantidade} ${O.unidade_medida} - ${Ea(O.valor_total)}`;a.text(L,l+8,c),c+=4})),v.funcionarios&&v.funcionarios.length>0&&(c+=3,a.setTextColor(147,51,234),a.setFontSize(9),a.setFont("helvetica","bold"),a.text("👷 Mão de Obra:",l+5,c),c+=5,a.setTextColor(...A),a.setFont("helvetica","normal"),a.setFontSize(8),v.funcionarios.forEach(O=>{c>o-40&&(a.addPage(),c=l);const L=`• ${O.nome} - ${O.tempo_minutos} min - ${Ea(O.custo_total)}`;a.text(L,l+8,c),c+=4})),c+=5})),c>o-80&&(a.addPage(),c=l);const y=t.additional_costs,w=y&&(y.deslocamento||y.estacionamento||y.pedagio||y.outros);if(w){if(c+=5,a.setFillColor(220,38,38),a.rect(l,c,i-2*l,8,"F"),a.setTextColor(255,255,255),a.setFontSize(11),a.setFont("helvetica","bold"),a.text("CUSTOS ADICIONAIS (DEDUZIDOS)",l+3,c+5.5),c+=12,a.setTextColor(220,38,38),a.setFontSize(10),y.deslocamento&&(a.setFont("helvetica","bold"),a.text("🚗 Deslocamento:",l+5,c),a.setFont("helvetica","normal"),a.text("-"+Ea(y.deslocamento),i-l-30,c),c+=6),y.estacionamento&&(a.setFont("helvetica","bold"),a.text("🅿️ Estacionamento:",l+5,c),a.setFont("helvetica","normal"),a.text("-"+Ea(y.estacionamento),i-l-30,c),c+=6),y.pedagio&&(a.setFont("helvetica","bold"),a.text("🛣️ Pedágio:",l+5,c),a.setFont("helvetica","normal"),a.text("-"+Ea(y.pedagio),i-l-30,c),c+=6),y.outros){a.setFont("helvetica","bold");const v=y.descricao_outros||"Outros";a.text(`💰 ${v}:`,l+5,c),a.setFont("helvetica","normal"),a.text("-"+Ea(y.outros),i-l-30,c),c+=6}c+=5}c>o-60&&(a.addPage(),c=l),c+=5,a.setFillColor(...u),a.rect(l,c,i-2*l,8,"F"),a.setTextColor(255,255,255),a.setFontSize(11),a.setFont("helvetica","bold"),a.text("RESUMO FINANCEIRO",l+3,c+5.5),c+=12;const S=i-2*l,j=l;if(a.setFillColor(249,250,251),a.setDrawColor(...u),a.setLineWidth(.5),a.rect(j,c,S,35,"FD"),c+=8,a.setTextColor(...A),a.setFontSize(11),a.setFont("helvetica","normal"),a.text("Subtotal dos Serviços:",j+5,c),a.setFont("helvetica","bold"),a.text(Ea(t.subtotal),i-l-5,c,{align:"right"}),c+=7,w){const v=(y.deslocamento||0)+(y.estacionamento||0)+(y.pedagio||0)+(y.outros||0);a.setTextColor(220,38,38),a.setFont("helvetica","normal"),a.text("Custos Adicionais (Deduzidos):",j+5,c),a.setFont("helvetica","bold"),a.text("-"+Ea(v),i-l-5,c,{align:"right"}),a.setTextColor(...A),c+=7}t.discount_amount>0&&(a.setTextColor(220,38,38),a.setFont("helvetica","normal"),a.text("Desconto:",j+5,c),a.setFont("helvetica","bold"),a.text(`- ${Ea(t.discount_amount)}`,i-l-5,c,{align:"right"}),c+=7),a.setDrawColor(...u),a.setLineWidth(.8),a.line(j+5,c-2,i-l-5,c-2),c+=3,a.setTextColor(...u),a.setFontSize(14),a.setFont("helvetica","bold"),a.text("VALOR TOTAL:",j+5,c),a.text(Ea(t.final_total),i-l-5,c,{align:"right"}),c+=15,c>o-50&&(a.addPage(),c=l),a.setFillColor(...d),a.rect(l,c,i-2*l,8,"F"),a.setTextColor(255,255,255),a.setFontSize(11),a.setFont("helvetica","bold"),a.text("CONDIÇÕES COMERCIAIS",l+3,c+5.5),c+=12,a.setTextColor(...A),a.setFontSize(10),a.setFont("helvetica","bold"),a.text("Forma de Pagamento:",l+5,c),a.setFont("helvetica","normal");const _=t.payment_method.replace(/_/g," ").toUpperCase();if(a.text(_,l+60,c),c+=6,t.payment_installments>1){a.setFont("helvetica","bold"),a.text("Parcelamento:",l+5,c),a.setFont("helvetica","normal");const v=t.final_total/t.payment_installments;a.text(`${t.payment_installments}x de ${Ea(v)} sem juros`,l+60,c),c+=6}a.setFont("helvetica","bold"),a.text("Garantia:",l+5,c),a.setFont("helvetica","normal");const F=`${t.warranty_period} ${t.warranty_type==="days"?"dias":t.warranty_type==="months"?"meses":"anos"}`;if(a.text(F,l+60,c),c+=10,t.notes){c>o-40&&(a.addPage(),c=l),a.setFillColor(...h),a.rect(l,c,i-2*l,8,"F"),a.setTextColor(...d),a.setFontSize(11),a.setFont("helvetica","bold"),a.text("OBSERVAÇÕES",l+3,c+5.5),c+=12,a.setTextColor(...A),a.setFontSize(9),a.setFont("helvetica","normal");const v=a.splitTextToSize(t.notes,i-2*l-10);a.text(v,l+5,c),c+=v.length*4+5}const C=(v,N)=>{const O=o-20;a.setDrawColor(...d),a.setLineWidth(.5),a.line(l,O,i-l,O),a.setTextColor(100,116,139),a.setFontSize(8),a.setFont("helvetica","normal"),a.text(`${n.address}, ${n.city} - ${n.state}, CEP: ${n.zip}`,i/2,O+5,{align:"center"}),a.text(`Tel: ${n.phone} | Email: ${n.email} | ${n.website}`,i/2,O+9,{align:"center"}),a.setTextColor(...d),a.setFont("helvetica","bold"),a.text(`Página ${v} de ${N}`,i-l,O+9,{align:"right"})},E=a.internal.getNumberOfPages();for(let v=1;v<=E;v++)a.setPage(v),C(v,E);const T=`OS-${t.order_number}-${new Date().getTime()}.pdf`;a.save(T)},Ea=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t||0),jO=()=>{var ue;const t=ra(),{id:e}=U3(),[r]=S7(),n=r.get("edit")||e,a=!!n,[i,o]=k.useState(!1),[l,c]=k.useState([]),[d,u]=k.useState(null),[A,h]=k.useState([]),[f,g]=k.useState([]),[x,m]=k.useState([]),[p,y]=k.useState([]),[w,S]=k.useState([]),[j,_]=k.useState([]),[F,C]=k.useState(!1),[E,T]=k.useState(""),[v,N]=k.useState(""),[O,L]=k.useState(!1),[Q,D]=k.useState(""),[U,R]=k.useState({customer_id:"",description:"",scheduled_at:"",prazo_execucao_dias:7,data_inicio_execucao:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,show_value:!0,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",payment_method:"dinheiro",payment_installments:1,warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",custo_deslocamento:0,custo_estacionamento:0,custo_pedagio:0,custo_outros:0,descricao_outros:""}),[z,Y]=k.useState([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}]),[X,$]=k.useState({subtotal:0,desconto:0,total:0,custo_total_materiais:0,custo_total_mao_obra:0,custo_total:0,lucro_total:0,margem_lucro:0}),[M,G]=k.useState({});k.useEffect(()=>{re(),a&&n&&V(n)},[n]),k.useEffect(()=>{Oe()},[z,U.desconto_percentual,U.desconto_valor]);const V=async se=>{try{o(!0);const le=await Ab(se);if(le&&(R({customer_id:le.client_id||"",description:le.description||"",scheduled_at:le.due_date?new Date(le.due_date).toISOString().slice(0,16):le.scheduled_at?new Date(le.scheduled_at).toISOString().slice(0,16):"",prazo_execucao_dias:le.prazo_execucao_dias||7,data_inicio_execucao:le.data_inicio_execucao?new Date(le.data_inicio_execucao).toISOString().split("T")[0]:"",desconto_percentual:le.desconto_percentual||le.discount_percentage||0,desconto_valor:le.desconto_valor||le.discount_amount||le.discount_value||0,show_material_costs:le.show_material_costs||!1,show_value:le.show_value!==!1,relatorio_tecnico:le.relatorio_tecnico||"",orientacoes_servico:le.orientacoes_servico||"",escopo_detalhado:le.escopo_detalhado||"",payment_method:le.payment_method||"dinheiro",payment_installments:le.payment_installments||1,warranty_period:le.warranty_period||90,warranty_type:le.warranty_type||"days",warranty_terms:le.warranty_terms||"",bank_account_id:le.bank_account_id||"",contract_template_id:le.contract_template_id||"",contract_notes:le.contract_notes||"",notes:le.notes||"",custo_deslocamento:le.custo_deslocamento||0,custo_estacionamento:le.custo_estacionamento||0,custo_pedagio:le.custo_pedagio||0,custo_outros:le.custo_outros||0,descricao_outros:le.descricao_outros||""}),D(le.order_number||""),le.client_id&&ae(le.client_id),le.items&&le.items.length>0)){const ve=le.items.map(xe=>{var Se;return{id:xe.id||crypto.randomUUID(),descricao:xe.descricao||xe.description||xe.service_name||((Se=xe.service_catalog)==null?void 0:Se.name)||"",quantidade:xe.quantidade||xe.quantity||1,preco_unitario:xe.preco_unitario||xe.unit_price||0,preco_total:xe.preco_total||xe.total_price||0,tempo_estimado_minutos:xe.tempo_estimado_minutos||xe.estimated_time||0,materiais:xe.materiais||xe.materials||[],funcionarios:xe.funcionarios||xe.labor||[],custo_materiais:xe.custo_materiais||xe.cost_materials||0,custo_mao_obra:xe.custo_mao_obra||xe.cost_labor||0,custo_total:xe.custo_total||xe.total_cost||0,lucro:xe.lucro||xe.profit||0,margem_lucro:xe.margem_lucro||xe.profit_margin||0}});Y(ve)}}catch(le){console.error("Error loading order data:",le)}finally{o(!1)}},ae=async se=>{try{const[le,ve]=await Promise.all([ge.from("customers").select("*").eq("id",se).single(),ge.from("customer_addresses").select("*").eq("customer_id",se).eq("principal",!0).maybeSingle()]);if(le.data){const xe={...le.data,address:ve.data};u(xe),ve.data&&T(le.data.email||"")}}catch(le){console.error("Error loading customer details:",le)}},Ae=se=>{R({...U,customer_id:se}),se?ae(se):u(null)},re=async()=>{try{const[se,le,ve,xe,Se,et,ze]=await Promise.all([ge.from("customers").select("*").order("nome_razao"),ge.from("materials").select("*").eq("active",!0).order("name"),ge.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),ge.from("bank_accounts").select("*").eq("active",!0).order("account_name"),ge.from("contract_templates").select("*").order("name"),ge.from("service_catalog").select(`
          *,
          service_catalog_materials (
            id,
            material_id,
            quantity,
            material_name,
            material_unit,
            unit_cost_at_time,
            unit_sale_price
          )
        `).order("name"),ge.from("inventory").select("*").order("name")]);c(se.data||[]),h(le.data||[]),g(ve.data||[]),m(xe.data||[]),y(Se.data||[]),S(et.data||[]),_(ze.data||[])}catch(se){console.error("Error loading data:",se)}},ie=()=>{Y([...z,{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}])},ce=se=>{Y(z.filter(le=>le.id!==se))},Z=(se,le)=>{Y(ve=>ve.map(xe=>{if(xe.id===se){const Se={...xe,...le};return Se.preco_total=Se.quantidade*Se.preco_unitario,Se.custo_materiais=Se.materiais.reduce((et,ze)=>et+ze.custo_total,0),Se.custo_mao_obra=Se.funcionarios.reduce((et,ze)=>et+ze.custo_total,0),Se.custo_total=Se.custo_materiais+Se.custo_mao_obra,Se.lucro=Se.preco_total-Se.custo_total,Se.margem_lucro=Se.preco_total>0?Se.lucro/Se.preco_total*100:0,Se}return xe}))},me=se=>{const le=z.find(xe=>xe.id===se);if(!le)return;const ve={id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,preco_compra:0,preco_venda:0,custo_total:0,valor_total:0,lucro:0};Z(se,{materiais:[...le.materiais,ve]})},Me=(se,le)=>{const ve=z.find(xe=>xe.id===se);ve&&Z(se,{materiais:ve.materiais.filter(xe=>xe.id!==le)})},Re=(se,le,ve)=>{const xe=z.find(et=>et.id===se);if(!xe)return;const Se=xe.materiais.map(et=>{if(et.id===le){const ze={...et,...ve},ft=ze.preco_compra_unitario||0,mt=ze.preco_venda_unitario||0;return ze.custo_total=ze.quantidade*ft,ze.valor_total=ze.quantidade*mt,ze.lucro=ze.valor_total-ze.custo_total,ze}return et});Z(se,{materiais:Se})},ye=(se,le,ve)=>{const xe=A.find(ft=>ft.id===ve);if(!xe)return;const Se=Number(xe.unit_cost)||0,et=Number(xe.sale_price)||0,ze=xe.unit||"UN";Re(se,le,{material_id:ve,nome:xe.name,unidade_medida:ze,preco_compra_unitario:Se,preco_venda_unitario:et,preco_compra:Se,preco_venda:et})},q=(se,le)=>{const ve=z.find(xe=>xe.id===se);ve&&Z(se,{funcionarios:ve.funcionarios.filter(xe=>xe.id!==le)})},Ee=(se,le,ve)=>{const xe=z.find(et=>et.id===se);if(!xe)return;const Se=xe.funcionarios.map(et=>{if(et.id===le){const ze={...et,...ve};return ze.custo_total=ze.tempo_minutos/60*ze.custo_hora,ze}return et});Z(se,{funcionarios:Se})},Oe=()=>{const se=z.reduce((Wt,ms)=>Wt+ms.preco_total,0),le=(U.custo_deslocamento||0)+(U.custo_estacionamento||0)+(U.custo_pedagio||0)+(U.custo_outros||0),ve=U.desconto_valor||se*(U.desconto_percentual/100),xe=se-le-ve,Se=z.reduce((Wt,ms)=>Wt+ms.custo_materiais,0),et=z.reduce((Wt,ms)=>Wt+ms.custo_mao_obra,0),ze=Se+et+le,ft=xe-ze,mt=xe>0?ft/xe*100:0;$({subtotal:se,desconto:ve,total:xe,custo_total_materiais:Se,custo_total_mao_obra:et,custo_total:ze,lucro_total:ft,margem_lucro:mt})},ke=async()=>{try{if(!U.customer_id||z.length===0){alert("Selecione um cliente e adicione pelo menos um serviço!");return}o(!0);const se=U.scheduled_at?new Date(new Date(U.scheduled_at).getTime()+U.warranty_period*(U.warranty_type==="days"?864e5:U.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,le={client_id:U.customer_id||null,customer_id:U.customer_id||null,description:U.description,scheduled_at:U.scheduled_at||null,due_date:U.scheduled_at||null,prazo_execucao_dias:U.prazo_execucao_dias,data_inicio_execucao:U.data_inicio_execucao||null,status:"aberta",total_value:X.total,subtotal_value:X.subtotal,discount_value:X.desconto,desconto_percentual:U.desconto_percentual,desconto_valor:U.desconto_valor,custo_total_materiais:X.custo_total_materiais,custo_total_mao_obra:X.custo_total_mao_obra,custo_total:X.custo_total,lucro_total:X.lucro_total,margem_lucro:X.margem_lucro,show_material_costs:U.show_material_costs,show_value:U.show_value,relatorio_tecnico:U.relatorio_tecnico,orientacoes_servico:U.orientacoes_servico,escopo_detalhado:U.escopo_detalhado,payment_method:U.payment_method,payment_installments:U.payment_installments,bank_account_id:U.bank_account_id||null,warranty_period:U.warranty_period,warranty_type:U.warranty_type,warranty_terms:U.warranty_terms,warranty_end_date:se,contract_template_id:U.contract_template_id||null,contract_notes:U.contract_notes,notes:U.notes,subtotal:X.subtotal,discount_amount:X.desconto,final_total:X.total};let ve;if(a&&n){const{data:xe,error:Se}=await ge.from("service_orders").update(le).eq("id",n).select().single();if(Se)throw Se;ve=xe,await ge.from("service_order_items").delete().eq("service_order_id",n),await ge.from("service_order_materials").delete().eq("service_order_id",n),await ge.from("service_order_labor").delete().eq("service_order_id",n)}else{const{data:xe,error:Se}=await ge.from("service_orders").insert([le]).select().single();if(Se)throw Se;ve=xe}if(!ve)throw new Error("Erro ao salvar ordem");for(const xe of z){const{data:Se,error:et}=await ge.from("service_order_items").insert([{service_order_id:ve.id,descricao:xe.descricao,quantidade:xe.quantidade,preco_unitario:xe.preco_unitario,preco_total:xe.preco_total,tempo_estimado_minutos:xe.tempo_estimado_minutos,custo_materiais:xe.custo_materiais,custo_mao_obra:xe.custo_mao_obra,custo_total:xe.custo_total,lucro:xe.lucro,margem_lucro:xe.margem_lucro}]).select().single();if(et)throw et;if(xe.materiais.length>0){const ze=xe.materiais.map(mt=>({service_order_item_id:Se.id,material_id:mt.material_id,nome_material:mt.nome,quantidade:mt.quantidade,preco_compra:mt.preco_compra,preco_venda:mt.preco_venda,custo_total:mt.custo_total,valor_total:mt.valor_total,lucro:mt.lucro})),{error:ft}=await ge.from("service_order_materials").insert(ze);if(ft)throw ft}if(xe.funcionarios.length>0){const ze=xe.funcionarios.map(mt=>({service_order_item_id:Se.id,staff_id:mt.staff_id,nome_funcionario:mt.nome,tempo_minutos:mt.tempo_minutos,custo_hora:mt.custo_hora,custo_total:mt.custo_total})),{error:ft}=await ge.from("service_order_labor").insert(ze);if(ft)throw ft}}alert(a?"Ordem de Serviço atualizada com sucesso!":"Ordem de Serviço criada com sucesso!"),t("/service-orders")}catch(se){console.error("Error saving:",se),alert(`Erro ao ${a?"atualizar":"salvar"} ordem de serviço!`)}finally{o(!1)}},Le=async()=>{var se;try{const le=d||l.find(ze=>ze.id===U.customer_id);if(!le){alert("Cliente não encontrado!");return}const ve=await A2(),xe=le.address||{},Se=[xe.logradouro,xe.numero,xe.complemento,xe.bairro].filter(Boolean).join(", "),et={order_number:Q||"TEMP-"+Date.now(),created_at:new Date().toISOString(),status:"aberta",customer:{nome_razao:le.nome_razao||le.name||"Cliente",cnpj_cpf:le.cnpj_cpf||le.cnpj||le.cpf||"",email:le.email||"",telefone:le.telefone||le.phone||"",endereco:Se||le.endereco||le.address||"",cidade:xe.cidade||le.cidade||le.city||"",estado:xe.estado||le.estado||le.state||"",cep:xe.cep||le.cep||le.zip_code||""},description:U.description,scheduled_at:U.scheduled_at,items:z.map(ze=>({descricao:ze.descricao,quantidade:ze.quantidade,preco_unitario:ze.preco_unitario,preco_total:ze.preco_total,tempo_estimado_minutos:ze.tempo_estimado_minutos,materiais:ze.materiais.map(ft=>({nome:ft.nome,quantidade:ft.quantidade,unidade_medida:ft.unidade_medida,preco_venda_unitario:ft.preco_venda_unitario,valor_total:ft.valor_total})),funcionarios:ze.funcionarios.map(ft=>({nome:ft.nome,tempo_minutos:ft.tempo_minutos,custo_total:ft.custo_total}))})),payment_method:U.payment_method,payment_installments:U.payment_installments,bank_account:((se=x.find(ze=>ze.id===U.bank_account_id))==null?void 0:se.account_name)||"",warranty_period:U.warranty_period,warranty_type:U.warranty_type,warranty_terms:U.warranty_terms,contract_notes:U.contract_notes,subtotal:X.subtotal,desconto_percentual:U.desconto_percentual,desconto_valor:U.desconto_valor,discount_amount:X.desconto,final_total:X.total,custo_total:X.custo_total,lucro_total:X.lucro_total,margem_lucro:X.margem_lucro,notes:U.notes,prazo_execucao_dias:U.prazo_execucao_dias,data_inicio_execucao:U.data_inicio_execucao,data_fim_execucao:U.data_inicio_execucao&&U.prazo_execucao_dias?new Date(new Date(U.data_inicio_execucao).getTime()+U.prazo_execucao_dias*864e5).toISOString().split("T")[0]:null,additional_costs:{deslocamento:U.custo_deslocamento,estacionamento:U.custo_estacionamento,pedagio:U.custo_pedagio,outros:U.custo_outros,descricao_outros:U.descricao_outros}};jAe(et,ve),alert("PDF gerado com sucesso!")}catch(le){console.error("Erro ao gerar PDF:",le),alert("Erro ao gerar PDF!")}},Ie=se=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se),Be=async()=>{if(!n){alert("Salve a ordem de serviço antes de imprimir!");return}try{o(!0);const se=await Ab(n);if(!se)throw new Error("OS não encontrada");const le=l.find(Se=>Se.id===se.customer_id),ve=await ge.from("company_settings").select("*").maybeSingle(),xe={...se,client:{name:(le==null?void 0:le.nome_razao)||"Cliente não encontrado",email:(le==null?void 0:le.email)||"",phone:(le==null?void 0:le.telefone)||"",address:(le==null?void 0:le.endereco)||""}};await wO(xe,(ve==null?void 0:ve.data)||{})}catch(se){console.error("Error printing:",se),alert("Erro ao gerar PDF!")}finally{o(!1)}},he=async()=>{if(!n){alert("Salve a ordem de serviço antes de baixar!");return}try{o(!0);const se=await Ab(n);if(!se)throw new Error("OS não encontrada");const le=l.find(Se=>Se.id===se.customer_id),ve=await ge.from("company_settings").select("*").maybeSingle(),xe={...se,client:{name:(le==null?void 0:le.nome_razao)||"Cliente não encontrado",email:(le==null?void 0:le.email)||"",phone:(le==null?void 0:le.telefone)||"",address:(le==null?void 0:le.endereco)||""}};await wO(xe,(ve==null?void 0:ve.data)||{})}catch(se){console.error("Error downloading:",se),alert("Erro ao baixar PDF!")}finally{o(!1)}},$e=()=>{if(!n){alert("Salve a ordem de serviço antes de enviar!");return}const se=l.find(le=>le.id===U.customer_id);T((se==null?void 0:se.email)||""),N(`Olá, segue em anexo a Ordem de Serviço ${Q||n}.`),C(!0)},pe=async()=>{if(!E){alert("Digite um email válido!");return}try{L(!0),alert(`Email enviado para: ${E}

Nota: A funcionalidade de envio real requer configuração do servidor de email.`),C(!1)}catch(se){console.error("Error sending email:",se),alert("Erro ao enviar email!")}finally{L(!1)}};return s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen pb-24",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(xt,{className:"h-8 w-8 text-blue-600"}),a?"Editar Ordem de Serviço":"Nova Ordem de Serviço Detalhada"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Sistema completo com múltiplos serviços, materiais e funcionários"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(xn,{className:"h-5 w-5 text-blue-600"}),"Informações Básicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),s.jsxs("select",{value:U.customer_id,onChange:se=>Ae(se.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),l.map(se=>s.jsx("option",{value:se.id,children:se.nome_razao},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),s.jsx("input",{type:"datetime-local",value:U.scheduled_at,onChange:se=>R({...U,scheduled_at:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Início Execução"}),s.jsx("input",{type:"date",value:U.data_inicio_execucao,onChange:se=>R({...U,data_inicio_execucao:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execução (dias)"}),s.jsx("input",{type:"number",value:U.prazo_execucao_dias,min:"1",onChange:se=>R({...U,prazo_execucao_dias:Number(se.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição Geral"}),s.jsx("textarea",{value:U.description,onChange:se=>R({...U,description:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrição opcional da OS..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado do Serviço"}),s.jsx("textarea",{value:U.escopo_detalhado,onChange:se=>R({...U,escopo_detalhado:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva em detalhes tudo que será executado no serviço..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatório Técnico"}),s.jsx("textarea",{value:U.relatorio_tecnico,onChange:se=>R({...U,relatorio_tecnico:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatório técnico detalhado (diagnóstico, análise, etc)..."})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientações de Serviço"}),s.jsx("textarea",{value:U.orientacoes_servico,onChange:se=>R({...U,orientacoes_servico:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Instruções e orientações para a equipe executar o serviço..."})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:U.show_value,onChange:se=>R({...U,show_value:se.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Exibir valores na proposta (desmarque para enviar ao cliente sem valores ou para funcionários)"})]})})]}),d&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(xn,{className:"h-4 w-4"}),"Dados do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Nome/Razão Social:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.nome_razao})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"CPF/CNPJ:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.cpf||d.cnpj||"Não informado"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Telefone:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.telefone||"Não informado"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.email||"Não informado"})]}),d.address&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("span",{className:"text-gray-600",children:"Endereço:"}),s.jsx("p",{className:"font-medium text-gray-900",children:[d.address.logradouro,d.address.numero,d.address.complemento,d.address.bairro,d.address.cidade,d.address.estado,d.address.cep&&`CEP: ${d.address.cep}`].filter(Boolean).join(", ")})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-green-600"}),"Pagamento e Financeiro"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:U.payment_method,onChange:se=>R({...U,payment_method:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"debito",children:"Cartão de Débito"}),s.jsx("option",{value:"credito",children:"Cartão de Crédito"}),s.jsx("option",{value:"transferencia",children:"Transferência Bancária"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"cheque",children:"Cheque"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),s.jsxs("select",{value:U.payment_installments,onChange:se=>R({...U,payment_installments:Number(se.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"1",children:"À vista"}),[2,3,4,5,6,7,8,9,10,12].map(se=>s.jsxs("option",{value:se,children:[se,"x"]},se))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancária"}),s.jsxs("select",{value:U.bank_account_id,onChange:se=>R({...U,bank_account_id:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Padrão"}),x.map(se=>s.jsxs("option",{value:se.id,children:[se.account_name," - ",se.bank_name]},se.id))]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Dt,{className:"h-5 w-5 text-amber-600"}),"Garantia"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Período de Garantia"}),s.jsx("input",{type:"number",value:U.warranty_period,min:"0",onChange:se=>R({...U,warranty_period:Number(se.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Período"}),s.jsxs("select",{value:U.warranty_type,onChange:se=>R({...U,warranty_type:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"days",children:"Dias"}),s.jsx("option",{value:"months",children:"Meses"}),s.jsx("option",{value:"years",children:"Anos"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),s.jsx("textarea",{value:U.warranty_terms,onChange:se=>R({...U,warranty_terms:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condições da garantia: cobertura, exclusões, prazos..."})]}),s.jsx("div",{className:"md:col-span-2 bg-amber-50 border border-amber-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-amber-800",children:[s.jsx("strong",{children:"Garantia:"})," ",U.warranty_period," ",U.warranty_type==="days"?"dias":U.warranty_type==="months"?"meses":"anos"," ",U.scheduled_at&&`(válida até ${new Date(new Date(U.scheduled_at).getTime()+U.warranty_period*(U.warranty_type==="days"?864e5:U.warranty_type==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR")})`]})})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 shadow-md border-2 border-red-300",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-red-600"}),"💸 Custos Adicionais (Deduzidos do Total)"]}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[s.jsx(zn,{className:"h-4 w-4"}),s.jsx("strong",{children:"⚠️ Atenção:"})," Estes custos serão DEDUZIDOS (subtraídos) do valor total da OS, não adicionados."]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:"🚗 Deslocamento"}),s.jsx("input",{type:"number",value:U.custo_deslocamento,min:"0",step:"0.01",onChange:se=>R({...U,custo_deslocamento:Number(se.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:"🅿️ Estacionamento"}),s.jsx("input",{type:"number",value:U.custo_estacionamento,min:"0",step:"0.01",onChange:se=>R({...U,custo_estacionamento:Number(se.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:"🛣️ Pedágio"}),s.jsx("input",{type:"number",value:U.custo_pedagio,min:"0",step:"0.01",onChange:se=>R({...U,custo_pedagio:Number(se.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:"💵 Outros Custos"}),s.jsx("input",{type:"number",value:U.custo_outros,min:"0",step:"0.01",onChange:se=>R({...U,custo_outros:Number(se.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrição dos Outros Custos"}),s.jsx("input",{type:"text",value:U.descricao_outros,onChange:se=>R({...U,descricao_outros:se.target.value}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"Ex: Alimentação, hospedagem, materiais extras..."})]}),(U.custo_deslocamento>0||U.custo_estacionamento>0||U.custo_pedagio>0||U.custo_outros>0)&&s.jsxs("div",{className:"md:col-span-2 bg-red-100 border-2 border-red-400 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:"💸 Total de Custos a Deduzir:"}),s.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["-",Ie((U.custo_deslocamento||0)+(U.custo_estacionamento||0)+(U.custo_pedagio||0)+(U.custo_outros||0))]}),s.jsx("p",{className:"text-xs text-red-700 mt-1 font-semibold",children:"⚠️ Este valor será DEDUZIDO do total da OS"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-blue-600"}),"Contrato"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),s.jsxs("select",{value:U.contract_template_id,onChange:se=>R({...U,contract_template_id:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Sem contrato"}),p.map(se=>s.jsx("option",{value:se.id,children:se.name},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações do Contrato"}),s.jsx("textarea",{value:U.contract_notes,onChange:se=>R({...U,contract_notes:se.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Cláusulas especiais, condições particulares..."})]})]})]}),z.map((se,le)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Serviço #",le+1]}),z.length>1&&s.jsx("button",{onClick:()=>ce(se.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"🔍 Buscar do Catálogo de Serviços"}),s.jsxs("select",{onChange:ve=>{const xe=w.find(Se=>Se.id===ve.target.value);if(xe){const et=(xe.service_catalog_materials||[]).map(ze=>({id:crypto.randomUUID(),material_id:ze.material_id||"",nome:ze.material_name||"",quantidade:Number(ze.quantity)||1,preco_compra:Number(ze.unit_cost_at_time)||0,preco_venda:Number(ze.unit_sale_price)||0,unidade_medida:ze.material_unit||"UN",custo_total:(Number(ze.quantity)||1)*(Number(ze.unit_cost_at_time)||0),valor_total:(Number(ze.quantity)||1)*(Number(ze.unit_sale_price)||0),lucro:(Number(ze.quantity)||1)*(Number(ze.unit_sale_price)||0)-(Number(ze.quantity)||1)*(Number(ze.unit_cost_at_time)||0)}));Z(se.id,{descricao:xe.name,preco_unitario:Number(xe.base_price)||0,tempo_estimado_minutos:Number(xe.estimated_duration)||0,materiais:et,funcionarios:[]}),ve.target.value=""}},className:"w-full px-4 py-2 border-2 border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{value:"",children:"Selecione um serviço do catálogo..."}),w.map(ve=>{var Se;const xe=((Se=ve.service_catalog_materials)==null?void 0:Se.length)||0;return s.jsxs("option",{value:ve.id,children:[ve.name," - R$ ",Number(ve.base_price||0).toFixed(2)," - ",ve.estimated_duration||0," min | ",xe," materiais"]},ve.id)})]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"✨ Preenche automaticamente: Descrição, Preço, Tempo e Materiais. Adicione funcionários manualmente abaixo."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição do Serviço *"}),s.jsx("input",{type:"text",value:se.descricao,onChange:ve=>Z(se.id,{descricao:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalação de Ar Condicionado 12k BTU"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (min)"}),s.jsx("input",{type:"number",value:se.tempo_estimado_minutos,onChange:ve=>Z(se.id,{tempo_estimado_minutos:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:se.quantidade,min:"1",onChange:ve=>Z(se.id,{quantidade:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Unitário"}),s.jsx("input",{type:"number",value:se.preco_unitario,step:"0.01",onChange:ve=>Z(se.id,{preco_unitario:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Total"}),s.jsx("input",{type:"text",value:Ie(se.preco_total),disabled:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 font-bold"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Materiais"]}),s.jsx("button",{onClick:()=>me(se.id),className:"px-3 py-1 text-sm bg-green-50 text-green-600 rounded-lg hover:bg-green-100",children:"+ Material"})]}),se.materiais.length>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"🔍 Buscar do Inventário/Estoque"}),s.jsxs("select",{onChange:ve=>{const xe=j.find(Se=>Se.id===ve.target.value);if(xe&&se.materiais.length>0){const Se=se.materiais[se.materiais.length-1];Se.material_id||Re(se.id,Se.id,{material_id:xe.id,nome:xe.name,quantidade:1,preco_compra:Number(xe.purchase_price)||0,preco_venda:Number(xe.sale_price)||0,unidade_medida:xe.unit||"UN"})}ve.target.value=""},className:"w-full px-4 py-2 border-2 border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white",children:[s.jsx("option",{value:"",children:"Selecione um item do estoque..."}),j.map(ve=>s.jsxs("option",{value:ve.id,children:[ve.name," - Estoque: ",ve.quantity||0," ",ve.unit||"UN"," - R$ ",Number(ve.sale_price||0).toFixed(2)]},ve.id))]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Preenche o último material vazio adicionado"})]}),se.materiais.length===0&&s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhum material adicionado"}),se.materiais.map(ve=>s.jsxs("div",{className:"border rounded-lg p-3 mb-3 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[s.jsxs("select",{value:ve.material_id,onChange:xe=>ye(se.id,ve.id,xe.target.value),className:"col-span-3 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Selecione o material..."}),A.map(xe=>s.jsxs("option",{value:xe.id,children:[xe.name," - ",Ie(Number(xe.sale_price))," (",xe.unit||"UN",")"]},xe.id))]}),s.jsxs("div",{className:"col-span-2 relative",children:[s.jsx("input",{type:"number",value:ve.quantidade,min:"0.01",step:"0.01",onChange:xe=>Re(se.id,ve.id,{quantidade:Number(xe.target.value)}),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",placeholder:"Qtd"}),ve.unidade_medida&&s.jsx("span",{className:"absolute right-3 top-2 text-xs text-gray-500 font-semibold",children:ve.unidade_medida})]}),s.jsx("button",{onClick:()=>Me(se.id,ve.id),className:"px-3 py-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),ve.material_id&&s.jsxs("div",{className:"space-y-3 mt-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Custo Unitário:"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-orange-500"}),s.jsx("input",{type:"number",value:ve.preco_compra_unitario||"",onChange:xe=>Re(se.id,ve.id,{preco_compra_unitario:Number(xe.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-orange-500",step:"0.01",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Preço de Venda:"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-green-500"}),s.jsx("input",{type:"number",value:ve.preco_venda_unitario||"",onChange:xe=>Re(se.id,ve.id,{preco_venda_unitario:Number(xe.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-green-500",step:"0.01",placeholder:"0.00"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 bg-gray-50 rounded p-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Custo Total:"}),s.jsx("p",{className:"font-bold text-orange-700",children:Ie(ve.custo_total||0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Venda Total:"}),s.jsx("p",{className:"font-bold text-green-700",children:Ie(ve.valor_total||0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Lucro:"}),s.jsx("p",{className:`font-bold ${(ve.lucro||0)>=0?"text-green-600":"text-red-600"}`,children:Ie(ve.lucro||0)})]})]})]})]},ve.id))]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-purple-900",children:"Mão de Obra"})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl p-4 mb-4",children:[s.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(Hr,{className:"h-4 w-4"}),"🔍 Buscar e Adicionar Funcionário"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:M[se.id]||"",onChange:ve=>G({...M,[se.id]:ve.target.value}),className:"w-full px-4 py-3 border-2 border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-sm",placeholder:"Digite o nome do funcionário..."}),M[se.id]&&s.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-purple-200 rounded-xl shadow-2xl max-h-64 overflow-y-auto",children:[f.filter(ve=>{const xe=(ve.name||ve.nome||"").toLowerCase(),Se=(ve.role||ve.cargo||"").toLowerCase(),et=M[se.id].toLowerCase();return xe.includes(et)||Se.includes(et)}).map(ve=>s.jsx("button",{onClick:()=>{const xe={id:crypto.randomUUID(),staff_id:ve.id,nome:ve.name||ve.nome||"Funcionário",tempo_minutos:60,custo_hora:Number(ve.hourly_rate||ve.custo_hora||0),custo_total:1*Number(ve.hourly_rate||ve.custo_hora||0)};Z(se.id,{funcionarios:[...se.funcionarios,xe]}),G({...M,[se.id]:""})},className:"w-full px-4 py-3 hover:bg-purple-50 transition-colors text-left border-b border-purple-100 last:border-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-purple-900",children:ve.name||ve.nome}),s.jsx("p",{className:"text-xs text-gray-600",children:ve.role||ve.cargo||"N/A"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",Number(ve.hourly_rate||ve.custo_hora||0).toFixed(2),"/h"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Clique para adicionar"})]})]})},ve.id)),f.filter(ve=>{const xe=(ve.name||ve.nome||"").toLowerCase(),Se=(ve.role||ve.cargo||"").toLowerCase(),et=M[se.id].toLowerCase();return xe.includes(et)||Se.includes(et)}).length===0&&s.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[s.jsx(kt,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm",children:"Nenhum funcionário encontrado"})]})]})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-2 flex items-center gap-1",children:"✨ Digite para buscar e adicionar funcionários instantaneamente"})]}),se.funcionarios.length>0&&s.jsx("div",{className:"space-y-3",children:se.funcionarios.map((ve,xe)=>s.jsxs(oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white border-2 border-purple-100 rounded-xl p-4 hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-bold text-sm",children:xe+1})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-purple-900",children:ve.nome}),s.jsxs("p",{className:"text-xs text-gray-500",children:["R$ ",ve.custo_hora.toFixed(2),"/hora"]})]})]}),s.jsx("button",{onClick:()=>q(se.id,ve.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover funcionário",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"⏱️ Tempo de Trabalho"}),s.jsx("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[10,30,60,120,240,480].map(Se=>s.jsx("button",{type:"button",onClick:()=>Ee(se.id,ve.id,{tempo_minutos:Se}),className:`px-2 py-1 rounded-lg text-xs font-semibold transition-all ${ve.tempo_minutos===Se?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Se<60?`${Se}m`:`${Se/60}h`},Se))}),s.jsx("select",{value:ve.tempo_minutos,onChange:Se=>Ee(se.id,ve.id,{tempo_minutos:Number(Se.target.value)}),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Array.from({length:96},(Se,et)=>(et+1)*10).map(Se=>s.jsx("option",{value:Se,children:Se<60?`${Se} minutos`:Se===60?"1 hora":Se%60===0?`${Se/60} horas`:`${Math.floor(Se/60)}h ${Se%60}m`},Se))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"💵 Custo/Hora"}),s.jsx("input",{type:"text",value:Ie(ve.custo_hora),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-blue-50 font-bold text-blue-700 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"💰 Custo Total"}),s.jsx("input",{type:"text",value:Ie(ve.custo_total),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-green-50 font-bold text-green-700 text-sm"})]})]})]})]},ve.id))}),se.funcionarios.length===0&&s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[s.jsx(kt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nenhum funcionário adicionado"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Use a busca acima para adicionar"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 grid grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Custo Materiais:"}),s.jsx("p",{className:"font-bold text-orange-600",children:Ie(se.custo_materiais)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Custo Mão Obra:"}),s.jsx("p",{className:"font-bold text-blue-600",children:Ie(se.custo_mao_obra)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Lucro:"}),s.jsx("p",{className:"font-bold text-green-600",children:Ie(se.lucro)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Margem:"}),s.jsxs("p",{className:"font-bold text-purple-600",children:[se.margem_lucro.toFixed(1),"%"]})]})]})]})]},se.id)),s.jsxs("button",{onClick:ie,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-gray-600 hover:text-blue-600",children:[s.jsx(bt,{className:"h-5 w-5"}),"Adicionar Outro Serviço"]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border sticky top-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal Serviços:"}),s.jsx("span",{className:"font-semibold",children:Ie(X.subtotal)})]}),(U.custo_deslocamento||0)+(U.custo_estacionamento||0)+(U.custo_pedagio||0)+(U.custo_outros||0)>0&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-lg p-3 space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-700 flex items-center gap-1",children:"💸 Custos Adicionais (Deduzidos)"}),U.custo_deslocamento>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:"🚗 Deslocamento:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",Ie(U.custo_deslocamento)]})]}),U.custo_estacionamento>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:"🅿️ Estacionamento:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",Ie(U.custo_estacionamento)]})]}),U.custo_pedagio>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-600",children:"🛣️ Pedágio:"}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",Ie(U.custo_pedagio)]})]}),U.custo_outros>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-orange-600",children:["💵 ",U.descricao_outros||"Outros",":"]}),s.jsxs("span",{className:"font-semibold text-orange-700",children:["-",Ie(U.custo_outros)]})]}),s.jsxs("div",{className:"pt-2 border-t border-orange-300 flex justify-between",children:[s.jsx("span",{className:"font-bold text-orange-700",children:"Total Deduzido:"}),s.jsxs("span",{className:"font-bold text-red-700",children:["-",Ie((U.custo_deslocamento||0)+(U.custo_estacionamento||0)+(U.custo_pedagio||0)+(U.custo_outros||0))]})]})]})}),s.jsxs("div",{className:"border-t pt-3",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3 text-red-600",children:"💰 Desconto"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto Percentual (%)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:U.desconto_percentual,step:"0.1",min:"0",max:"100",onChange:se=>R({...U,desconto_percentual:Number(se.target.value),desconto_valor:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"}),s.jsx("span",{className:"text-red-700 font-bold text-lg",children:"%"})]})]}),s.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:"— OU —"}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[s.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto em Valor (R$)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-red-700 font-bold text-lg",children:"R$"}),s.jsx("input",{type:"number",value:U.desconto_valor,step:"0.01",min:"0",onChange:se=>R({...U,desconto_valor:Number(se.target.value),desconto_percentual:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]})]})]}),s.jsxs("div",{className:"bg-red-100 border-2 border-red-300 rounded-lg p-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-red-700 font-semibold",children:"Desconto Aplicado:"}),s.jsxs("span",{className:"text-red-700 font-bold text-xl",children:["-",Ie(X.desconto)]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"TOTAL:"}),s.jsx("span",{className:"text-blue-600",children:Ie(X.total)})]}),s.jsxs("div",{className:"border-t pt-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:U.show_material_costs,onChange:se=>R({...U,show_material_costs:se.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700",children:"Mostrar custos dos materiais no documento"})]}),s.jsx("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:"Se desmarcado, apenas os preços de venda serão exibidos"})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[s.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4 text-green-600"}),"Informações de Pagamento"]}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-4 border-2 border-green-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Forma:"}),s.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:U.payment_method==="dinheiro"?"Dinheiro":U.payment_method==="pix"?"PIX":U.payment_method==="debito"?"Débito":U.payment_method==="credito"?"Crédito":U.payment_method==="transferencia"?"Transferência":U.payment_method==="boleto"?"Boleto":"Cheque"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Parcelas:"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[U.payment_installments,"x ",U.payment_installments>1&&`de ${Ie(X.total/U.payment_installments)}`]})]}),U.bank_account_id&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Conta:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:((ue=x.find(se=>se.id===U.bank_account_id))==null?void 0:ue.account_name)||"Padrão"})]}),U.warranty_period>0&&s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),"Garantia:"]}),s.jsxs("span",{className:"font-semibold text-amber-700",children:[U.warranty_period," ",U.warranty_type==="days"?"dias":U.warranty_type==="months"?"meses":"anos"]})]})]})})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Análise de Custos"}),s.jsx("div",{className:"bg-orange-50 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-700",children:"Custo Materiais:"}),s.jsx("span",{className:"font-bold text-orange-700",children:Ie(X.custo_total_materiais)})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-blue-700",children:"Custo Mão de Obra:"}),s.jsx("span",{className:"font-bold text-blue-700",children:Ie(X.custo_total_mao_obra)})]})}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),s.jsx("span",{className:"font-bold text-gray-900",children:Ie(X.custo_total)})]})}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-green-700 font-semibold",children:"Lucro:"}),s.jsx("span",{className:"font-bold text-green-700 text-lg",children:Ie(X.lucro_total)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-600 text-sm",children:"Margem:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[X.margem_lucro.toFixed(1),"%"]})]})]})]})]})})]}),F&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(to,{className:"h-5 w-5 text-blue-600"}),"Enviar Ordem de Serviço"]}),s.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email do Destinatário"}),s.jsx("input",{type:"email",value:E,onChange:se=>T(se.target.value),placeholder:"cliente@email.com",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mensagem"}),s.jsx("textarea",{value:v,onChange:se=>N(se.target.value),placeholder:"Digite uma mensagem...",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{onClick:()=>C(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:pe,disabled:O,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:O?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(to,{className:"h-4 w-4"}),"Enviar"]})})]})]})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4 z-40",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[a&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:Be,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Imprimir OS",children:[s.jsx(i0,{className:"h-4 w-4"}),"Imprimir"]}),s.jsxs("button",{onClick:he,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Baixar PDF",children:[s.jsx(Ls,{className:"h-4 w-4"}),"Download"]}),s.jsxs("button",{onClick:$e,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Enviar por Email",children:[s.jsx(to,{className:"h-4 w-4"}),"Enviar"]})]}),s.jsxs("button",{onClick:Le,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 flex items-center gap-2 shadow-md",title:"Gerar PDF Profissional",children:[s.jsx(A9,{className:"h-4 w-4"}),"Gerar PDF"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>t("/service-orders"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Cancelar"]}),s.jsxs("button",{onClick:ke,disabled:i,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2 shadow-md",children:[s.jsx(Qt,{className:"h-4 w-4"}),i?"Salvando...":a?"Atualizar OS":"Salvar OS"]})]})]})})]})},NAe=async(t,e)=>{const r=await A2(),n=e||{name:r.name,cnpj:r.cnpj,address:r.address,city:r.city,state:r.state,zip:r.zip,phone:r.phone,email:r.email,website:r.website},a=new At,i=[37,99,235],o=[100,116,139],l=[34,197,94],c=[243,244,246],d=[31,41,55];let u=20;a.setFillColor(...i),a.rect(0,0,210,42,"F"),a.setFillColor(...l),a.rect(0,40,210,2,"F");try{const v=new Image;v.src="/8.jpg",await new Promise((N,O)=>{v.onload=N,v.onerror=()=>{console.log("Logo 8.jpg não encontrada, tentando image.png..."),v.src="/image.png"},setTimeout(O,3e3)}),a.addImage(v,"JPEG",10,4,34,34)}catch{console.log("Logo não carregada")}a.setTextColor(255,255,255),a.setFontSize(28),a.setFont("helvetica","bold"),a.text(n.name.toUpperCase(),48,15),a.setFontSize(8),a.setFont("helvetica","normal");let A=22;if(n.cnpj&&(a.text(`CNPJ: ${n.cnpj}`,48,A),A+=3.5),n.address){const v=`${n.address}${n.city?", "+n.city:""}${n.state?" - "+n.state:""}`;a.text(v,48,A),A+=3.5}if(n.phone||n.email){const v=[n.phone,n.email].filter(Boolean).join(" | ");a.text(v,48,A)}a.setFillColor(255,255,255),a.roundedRect(143,5,62,32,2,2,"F"),a.setDrawColor(...l),a.setLineWidth(1.5),a.roundedRect(143,5,62,32,2,2,"S"),a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(...i),a.text("ORDEM DE SERVIÇO",174,12,{align:"center"}),a.setFontSize(22),a.setFont("helvetica","bold"),a.setTextColor(...l),a.text(`#${t.order_number}`,174,22,{align:"center"});const h=28,g={pending:[251,191,36],in_progress:[59,130,246],completed:[34,197,94],cancelled:[239,68,68]}[t.status]||o;a.setFillColor(...g),a.roundedRect(149,h,50,7,2,2,"F"),a.setFontSize(7),a.setFont("helvetica","bold"),a.setTextColor(255,255,255);const x=t.status==="completed"?"CONCLUÍDA":t.status==="in_progress"?"EM ANDAMENTO":t.status==="pending"?"PENDENTE":t.status==="cancelled"?"CANCELADA":t.status.toUpperCase();a.text(x,174,h+4.5,{align:"center"}),u=50,a.setFillColor(...c),a.rect(15,u,180,8,"F"),a.setTextColor(...d),a.setFontSize(12),a.setFont("helvetica","bold"),a.text("DADOS DO CLIENTE",17,u+5.5),u+=12,a.setFontSize(10),a.setFont("helvetica","bold"),a.setTextColor(...i),a.text("Cliente:",17,u),a.setFont("helvetica","normal"),a.setTextColor(...d);const m=t.customer.nome_razao||t.customer.name||"Cliente";a.text(m,35,u),u+=6;const p=[];t.customer.cnpj_cpf&&p.push(`CNPJ/CPF: ${t.customer.cnpj_cpf}`);const y=t.customer.telefone||t.customer.phone;y&&p.push(`Tel: ${y}`),t.customer.email&&p.push(`Email: ${t.customer.email}`),p.length>0&&(a.setFontSize(9),a.setTextColor(...o),a.text(p.join(" | "),17,u),u+=5);const w=t.customer.endereco||t.customer.address;if(w){a.text(`Endereço: ${w}`,17,u),u+=4;const v=t.customer.cidade||t.customer.city,N=t.customer.estado||t.customer.state,O=t.customer.cep||t.customer.zip_code;if(v||N){const L=[v,N,O].filter(Boolean).join(" - ");a.text(L,17,u),u+=5}}u+=3,a.setFillColor(...c),a.rect(15,u,180,8,"F"),a.setTextColor(...d),a.setFontSize(12),a.setFont("helvetica","bold"),a.text("INFORMAÇÕES DA ORDEM",17,u+5.5),u+=12,a.setFontSize(9),a.setFont("helvetica","normal"),a.setTextColor(...o);const S=[];if(t.created_at&&S.push(`Emissão: ${new Date(t.created_at).toLocaleDateString("pt-BR")}`),t.scheduled_at&&S.push(`Agendado: ${new Date(t.scheduled_at).toLocaleDateString("pt-BR")}`),t.status&&S.push(`Status: ${t.status.toUpperCase()}`),a.text(S.join(" | "),17,u),u+=6,t.description){a.setFont("helvetica","bold"),a.setTextColor(...d),a.text("Descrição:",17,u),a.setFont("helvetica","normal"),a.setTextColor(...o);const v=a.splitTextToSize(t.description,160);a.text(v,17,u+4),u+=4+v.length*4}u+=5,a.setFillColor(...c),a.rect(15,u,180,8,"F"),a.setTextColor(...d),a.setFontSize(12),a.setFont("helvetica","bold"),a.text("SERVIÇOS",17,u+5.5),u+=10,t.items.forEach((v,N)=>{u>250&&(a.addPage(),u=20),a.setFillColor(235,240,255),a.rect(15,u,180,7,"F"),a.setFontSize(10),a.setFont("helvetica","bold"),a.setTextColor(...i);const O=v.descricao||v.description||v.name||"Serviço";a.text(`${N+1}. ${O}`,17,u+5),u+=9;const L=v.quantidade||v.quantity||1,Q=v.preco_unitario||v.unit_price||0,D=v.preco_total||v.total_price||Q*L,U=v.tempo_estimado_minutos||v.estimated_duration||0,R=[];if(R.push(["Quantidade",L.toString()]),R.push(["Preço Unit.",`R$ ${Q.toFixed(2)}`]),R.push(["Tempo Est.",`${U} min`]),R.push(["Total",`R$ ${D.toFixed(2)}`]),Xy(a,{startY:u,head:[],body:R,theme:"plain",styles:{fontSize:9,cellPadding:2},columnStyles:{0:{fontStyle:"bold",textColor:o,cellWidth:30},1:{textColor:d,cellWidth:35}},margin:{left:20}}),u=a.lastAutoTable.finalY+3,v.materiais&&v.materiais.length>0){a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(...d),a.text("Materiais:",20,u),u+=4;const z=v.materiais.map(Y=>[Y.nome,`${Y.quantidade} ${Y.unidade_medida}`,`R$ ${(Y.preco_venda||Y.preco_unitario||0).toFixed(2)}`,`R$ ${Y.valor_total.toFixed(2)}`]);Xy(a,{startY:u,head:[["Material","Qtd.","Unit.","Total"]],body:z,theme:"striped",headStyles:{fillColor:i,fontSize:8,fontStyle:"bold"},styles:{fontSize:8,cellPadding:2},columnStyles:{0:{cellWidth:80},1:{cellWidth:30,halign:"center"},2:{cellWidth:30,halign:"right"},3:{cellWidth:30,halign:"right"}},margin:{left:25}}),u=a.lastAutoTable.finalY+3}if(v.funcionarios&&v.funcionarios.length>0){u>250&&(a.addPage(),u=20),a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(...d),a.text("Mão de Obra:",20,u),u+=4;const z=v.funcionarios.map(Y=>[Y.nome,`${Y.tempo_minutos} min`,`R$ ${Y.custo_total.toFixed(2)}`]);Xy(a,{startY:u,head:[["Profissional","Tempo","Custo"]],body:z,theme:"striped",headStyles:{fillColor:l,fontSize:8,fontStyle:"bold"},styles:{fontSize:8,cellPadding:2},columnStyles:{0:{cellWidth:100},1:{cellWidth:35,halign:"center"},2:{cellWidth:35,halign:"right"}},margin:{left:25}}),u=a.lastAutoTable.finalY+5}u+=2}),t.team&&t.team.length>0&&(u>230&&(a.addPage(),u=20),u+=5,a.setFillColor(...c),a.rect(15,u,180,8,"F"),a.setTextColor(...d),a.setFontSize(12),a.setFont("helvetica","bold"),a.text("EQUIPE DESIGNADA",17,u+5.5),u+=12,a.setFontSize(9),a.setFont("helvetica","normal"),a.setTextColor(...o),t.team.forEach(v=>{const N=v.nome||"Funcionário",O=v.role?` - ${v.role}`:"";a.text(`• ${N}${O}`,17,u),u+=4}),u+=3),u>230&&(a.addPage(),u=20),u+=5,a.setFillColor(...i),a.rect(15,u,180,8,"F"),a.setTextColor(255,255,255),a.setFontSize(12),a.setFont("helvetica","bold"),a.text("RESUMO FINANCEIRO",17,u+5.5),u+=12;const j=[],_=t.subtotal||t.total_value||0;j.push(["Subtotal",`R$ ${_.toFixed(2)}`]);const F=t.discount_amount||t.desconto_valor||0;if(F>0){let v=`R$ ${F.toFixed(2)}`;t.desconto_percentual&&t.desconto_percentual>0&&(v+=` (${t.desconto_percentual}%)`),j.push(["Desconto",v])}const C=t.final_total||t.total_value||_-F;if(j.push(["TOTAL",`R$ ${C.toFixed(2)}`]),Xy(a,{startY:u,head:[],body:j,theme:"plain",styles:{fontSize:11,cellPadding:3},columnStyles:{0:{fontStyle:"bold",textColor:o,cellWidth:140,halign:"right"},1:{fontStyle:"bold",textColor:i,cellWidth:40,halign:"right",fontSize:12}},margin:{left:15,right:15}}),u=a.lastAutoTable.finalY+5,t.payment_method||t.warranty_period){if(u>240&&(a.addPage(),u=20),u+=3,a.setFillColor(...c),a.rect(15,u,180,8,"F"),a.setTextColor(...d),a.setFontSize(12),a.setFont("helvetica","bold"),a.text("CONDIÇÕES",17,u+5.5),u+=12,a.setFontSize(9),a.setFont("helvetica","normal"),a.setTextColor(...o),t.payment_method){let O=`Pagamento: ${{dinheiro:"Dinheiro",pix:"PIX",debito:"Cartão de Débito",credito:"Cartão de Crédito",transferencia:"Transferência Bancária",boleto:"Boleto Bancário",cheque:"Cheque"}[t.payment_method]||t.payment_method}`;if(t.payment_installments&&t.payment_installments>1){const L=t.final_total/t.payment_installments;O+=` - ${t.payment_installments}x de R$ ${L.toFixed(2)}`}a.setFont("helvetica","bold"),a.text(O,17,u),u+=5}if(t.warranty_period&&t.warranty_type){const N={days:"dias",months:"meses",years:"anos"}[t.warranty_type]||t.warranty_type;if(a.setFont("helvetica","bold"),a.text(`Garantia: ${t.warranty_period} ${N}`,17,u),u+=5,t.warranty_terms){a.setFont("helvetica","normal");const O=a.splitTextToSize(t.warranty_terms,170);a.text(O,17,u),u+=O.length*4+3}}}if(t.notes){u>250&&(a.addPage(),u=20),u+=3,a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(...d),a.text("Observações:",17,u),u+=4,a.setFont("helvetica","normal"),a.setTextColor(...o);const v=a.splitTextToSize(t.notes,170);a.text(v,17,u),u+=v.length*4+5}const E=a.getNumberOfPages();for(let v=1;v<=E;v++)a.setPage(v),a.setDrawColor(...o),a.setLineWidth(.5),a.line(15,287,195,287),a.setFontSize(8),a.setTextColor(...o),a.setFont("helvetica","normal"),a.text(`${n.name} | ${n.phone||""} | ${n.email||""}`,105,291,{align:"center"}),a.text(`Página ${v} de ${E}`,195,291,{align:"right"});const T=`OS_${t.order_number.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`;return a.save(T),T},_Ae=async(t,e)=>{var r;try{const{data:n,error:a}=await ge.from("contract_templates").select("*").eq("id",t).single();if(a||!n)return console.error("Template not found:",a),null;const{data:i,error:o}=await ge.from("service_orders").select(`
        *,
        customers (
          id,
          name,
          cpf_cnpj,
          email,
          phone,
          customer_addresses (
            street,
            number,
            complement,
            neighborhood,
            city,
            state,
            zip_code
          )
        )
      `).eq("id",e.serviceOrderId).single();if(o||!i)return console.error("Service order not found:",o),null;const{data:l}=await ge.from("service_order_items").select("service_name, description, quantity, unit_price, total_price").eq("service_order_id",e.serviceOrderId),{data:c}=await ge.from("company_settings").select("*").limit(1).single(),{data:d}=await ge.from("bank_accounts").select("*").eq("is_default",!0).limit(1).maybeSingle(),u=i.customers,A=(r=u==null?void 0:u.customer_addresses)==null?void 0:r[0],h=A?`${A.street}, ${A.number}${A.complement?" - "+A.complement:""}, ${A.neighborhood}, ${A.city}/${A.state}, CEP: ${A.zip_code}`:"Endereço não cadastrado",f=(l==null?void 0:l.map(F=>`- ${F.service_name}${F.description?": "+F.description:""} (${F.quantity}x R$ ${F.unit_price.toFixed(2)} = R$ ${F.total_price.toFixed(2)})`).join(`
`))||"Serviços conforme OS",g=i.payment_method==="cash"?"Dinheiro":i.payment_method==="credit_card"?"Cartão de Crédito":i.payment_method==="debit_card"?"Cartão de Débito":i.payment_method==="pix"?"PIX":i.payment_method==="bank_transfer"?"Transferência Bancária":i.payment_method==="bank_slip"?"Boleto Bancário":i.payment_method==="promissory_note"?"Nota Promissória":"A definir",x=i.warranty_period||90,m=i.warranty_type||"days",p=m==="days"?`${x} dias`:m==="months"?`${x} meses`:`${x} anos`,y=i.scheduled_at?new Date(i.scheduled_at).toLocaleDateString("pt-BR"):"A definir",w=i.completed_at?new Date(i.completed_at).toLocaleDateString("pt-BR"):"A definir",S=i.scheduled_at&&x?new Date(new Date(i.scheduled_at).getTime()+x*(m==="days"?864e5:m==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR"):"A calcular",j={"[NOME_CLIENTE]":(u==null?void 0:u.name)||"Cliente não informado","[CPF_CNPJ_CLIENTE]":(u==null?void 0:u.cpf_cnpj)||"Não informado","[EMAIL_CLIENTE]":(u==null?void 0:u.email)||"Não informado","[TELEFONE_CLIENTE]":(u==null?void 0:u.phone)||"Não informado","[ENDERECO_CLIENTE]":h,"[NUMERO_OS]":i.order_number||i.id.substring(0,8),"[DATA_OS]":y,"[DATA_CONCLUSAO]":w,"[VALOR_TOTAL]":`R$ ${(i.total_amount||0).toFixed(2)}`,"[VALOR_SUBTOTAL]":`R$ ${(i.subtotal||0).toFixed(2)}`,"[DESCONTO]":`R$ ${(i.discount_amount||0).toFixed(2)}`,"[DESCRICAO_SERVICOS]":f,"[PRAZO_EXECUCAO]":`${i.estimated_duration||0} horas`,"[GARANTIA_PERIODO]":p,"[GARANTIA_ATE]":S,"[FORMA_PAGAMENTO]":g,"[CONDICOES_PAGAMENTO]":g,"[NOME_EMPRESA]":(c==null?void 0:c.company_name)||"Nome da Empresa","[CNPJ_EMPRESA]":(c==null?void 0:c.cnpj)||"CNPJ não informado","[ENDERECO_EMPRESA]":(c==null?void 0:c.address)||"Endereço não informado","[TELEFONE_EMPRESA]":(c==null?void 0:c.phone)||"Telefone não informado","[EMAIL_EMPRESA]":(c==null?void 0:c.email)||"E-mail não informado","[CIDADE]":(c==null?void 0:c.city)||(A==null?void 0:A.city)||"Cidade não informada","[ESTADO]":(c==null?void 0:c.state)||(A==null?void 0:A.state)||"Estado não informado","[BANCO]":(d==null?void 0:d.bank_name)||"Banco não informado","[AGENCIA]":(d==null?void 0:d.agency)||"0000","[CONTA]":(d==null?void 0:d.account_number)||"00000-0","[TIPO_CONTA]":(d==null?void 0:d.account_type)==="checking"?"Conta Corrente":"Conta Poupança","[TITULAR]":(d==null?void 0:d.account_holder)||(c==null?void 0:c.company_name)||"Titular não informado","[CPF_CNPJ_TITULAR]":(c==null?void 0:c.cnpj)||"Não informado","[CHAVE_PIX]":(d==null?void 0:d.pix_key)||"Não informado","[TIPO_CHAVE_PIX]":(d==null?void 0:d.pix_key_type)==="cpf"?"CPF":(d==null?void 0:d.pix_key_type)==="cnpj"?"CNPJ":(d==null?void 0:d.pix_key_type)==="email"?"E-mail":(d==null?void 0:d.pix_key_type)==="phone"?"Telefone":(d==null?void 0:d.pix_key_type)==="random"?"Chave Aleatória":"Não informado","[EMAIL_COMPROVANTE]":(c==null?void 0:c.email)||"Email não informado","[WHATSAPP_CONTATO]":(c==null?void 0:c.phone)||"WhatsApp não informado","[DADOS_BANCARIOS]":d?`Banco: ${d.bank_name}
Agência: ${d.agency}
Conta: ${d.account_number}
PIX: ${d.pix_key||"Não disponível"}`:"Dados bancários não cadastrados","[VALOR_ENTRADA]":`R$ ${((i.total_amount||0)*.3).toFixed(2)}`,"[NUMERO_PARCELAS]":"3","[VALOR_PARCELA]":`R$ ${((i.total_amount||0)*.7/3).toFixed(2)}`,"[DIA_VENCIMENTO]":"10"},_=F=>{let C=F;return Object.entries(j).forEach(([E,T])=>{C=C.replace(new RegExp(E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),T)}),C};return{contract_text:_(n.contract_text||""),contract_clauses:_(n.contract_clauses||""),warranty_terms:_(n.warranty_terms||""),payment_conditions:_(n.payment_conditions||""),bank_details_template:_(n.bank_details_template||"")}}catch(n){return console.error("Error filling contract:",n),null}},CAe=async()=>{try{const{data:t,error:e}=await ge.from("contract_templates").select("*").eq("is_default",!0).eq("active",!0).single();if(e||!t){const{data:r}=await ge.from("contract_templates").select("*").eq("active",!0).limit(1).single();return r}return t}catch(t){return console.error("Error getting default template:",t),null}},SAe=({isOpen:t,onClose:e,serviceOrderId:r,templateId:n})=>{const[a,i]=k.useState(!0),[o,l]=k.useState(null);k.useEffect(()=>{t&&r&&c()},[t,r,n]);const c=async()=>{try{i(!0);let A=n;if(!A){const f=await CAe();A=f==null?void 0:f.id}if(!A){alert("Nenhum template de contrato disponível"),e();return}const h=await _Ae(A,{serviceOrderId:r});if(!h){alert("Erro ao preencher contrato"),e();return}l(h)}catch(A){console.error("Error loading contract:",A),alert("Erro ao carregar contrato")}finally{i(!1)}},d=()=>{if(!o)return;const A=new At,h=15,f=A.internal.pageSize.width,g=A.internal.pageSize.height,x=f-2*h;let m=h;const p=(w,S=10,j=!1)=>{A.setFontSize(S),A.setFont("helvetica",j?"bold":"normal"),A.splitTextToSize(w,x).forEach(F=>{m>g-h&&(A.addPage(),m=h),A.text(F,h,m),m+=S*.5}),m+=3};A.setFontSize(16),A.setFont("helvetica","bold"),A.text("CONTRATO DE PRESTAÇÃO DE SERVIÇOS",f/2,m,{align:"center"}),m+=15,o.contract_text&&(p(o.contract_text,10),m+=5),o.contract_clauses&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.text("CLÁUSULAS CONTRATUAIS",h,m),m+=7,p(o.contract_clauses,10),m+=5),o.warranty_terms&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.text("TERMOS DE GARANTIA",h,m),m+=7,p(o.warranty_terms,10),m+=5),o.payment_conditions&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.text("CONDIÇÕES DE PAGAMENTO",h,m),m+=7,p(o.payment_conditions,10),m+=5),o.bank_details_template&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.text("DADOS BANCÁRIOS",h,m),m+=7,p(o.bank_details_template,10),m+=10),m>g-50&&(A.addPage(),m=h),m+=10,A.setFontSize(10),A.text("_________________________________________",h,m),A.text("CONTRATANTE",h+30,m+5),A.text("_________________________________________",f/2+10,m),A.text("CONTRATADA",f/2+40,m+5),m+=15;const y=new Date().toLocaleDateString("pt-BR");A.setFontSize(9),A.text(`Data: ${y}`,f/2,m,{align:"center"}),A.save(`contrato-${r.substring(0,8)}.pdf`)},u=()=>{window.print()};return t?s.jsx(at,{children:s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:s.jsxs(oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:A=>A.stopPropagation(),children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xt,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-xl font-bold",children:"Contrato de Prestação de Serviços"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})})]}),a?s.jsxs("div",{className:"p-12 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando contrato..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)] print:overflow-visible print:max-h-none",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border-2 border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-blue-600"}),"Contrato Principal"]}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-800",children:o.contract_text})]}),o.contract_clauses&&s.jsxs("div",{className:"bg-purple-50 rounded-lg p-6 mb-6 border-2 border-purple-200",children:[s.jsx("h3",{className:"text-lg font-bold text-purple-900 mb-4",children:"Cláusulas Contratuais"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-purple-800",children:o.contract_clauses})]}),o.warranty_terms&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6 border-2 border-green-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[s.jsx(kr,{className:"h-5 w-5"}),"Termos de Garantia"]}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-green-800",children:o.warranty_terms})]}),o.payment_conditions&&s.jsxs("div",{className:"bg-orange-50 rounded-lg p-6 mb-6 border-2 border-orange-200",children:[s.jsx("h3",{className:"text-lg font-bold text-orange-900 mb-4",children:"Condições de Pagamento"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-orange-800",children:o.payment_conditions})]}),o.bank_details_template&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-2 border-blue-200",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Dados Bancários"}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-blue-800",children:o.bank_details_template})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t-2 border-gray-300",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATANTE"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATADA"})]})]}),s.jsxs("p",{className:"text-center text-xs text-gray-500 mt-6",children:["Data: ",new Date().toLocaleDateString("pt-BR")]})]})]})}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t print:hidden",children:[s.jsxs("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[s.jsx(i0,{className:"h-4 w-4"}),"Imprimir"]}),s.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Ls,{className:"h-4 w-4"}),"Baixar PDF"]}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Fechar"})]})]}):s.jsx("div",{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Erro ao carregar contrato"})})]})})}):null},BAe=t=>{const e=new At,r=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),a=15;let i=20;const o=[23,162,184],l=[52,58,64],c=[248,249,250],d=v=>i+v>n-25?(u(),e.addPage(),i=a,!0):!1,u=()=>{const v=e.getCurrentPageInfo().pageNumber;e.setDrawColor(...c),e.setLineWidth(.5),e.line(a,n-5,r-a,n-5),e.setFont("helvetica","normal"),e.setFontSize(7),e.setTextColor(...l),e.text(`Página ${v}`,r/2,n-2,{align:"center"})};e.setFillColor(...o),e.rect(0,0,r,55,"F"),e.setFillColor(255,255,255),e.circle(25,25,12,"F"),e.setFontSize(20),e.setFont("helvetica","bold"),e.setTextColor(...o);const A=t.company.name.charAt(0).toUpperCase();e.text(A,25,30,{align:"center"}),e.setFont("helvetica","bold"),e.setFontSize(18),e.setTextColor(255,255,255),e.text(t.company.name,42,20),e.setFont("helvetica","normal"),e.setFontSize(8);let h=26;e.text(t.company.owner,42,h),h+=3.5,e.text(`CNPJ: ${t.company.cnpj}`,42,h),h+=3.5,e.text(t.company.address,42,h),h+=3.5,e.text(`${t.company.city}-${t.company.state}${t.company.cep?" • CEP "+t.company.cep:""}`,42,h);const f=r-a;if(e.text(new Date(t.date).toLocaleDateString("pt-BR"),f,15,{align:"right"}),h=26,e.text(t.company.email,f,h,{align:"right"}),h+=3.5,t.company.phones.forEach(v=>{e.text(v,f,h,{align:"right"}),h+=3.5}),t.company.tagline&&(e.setFont("helvetica","italic"),e.setFontSize(8),e.text(t.company.tagline,r/2,52,{align:"center"})),i=65,e.setFillColor(...o),e.rect(a,i,r-2*a,t.title?18:12,"F"),e.setFont("helvetica","bold"),e.setFontSize(16),e.setTextColor(255,255,255),e.text(`PROPOSTA ${t.order_number}`,r/2,i+8,{align:"center"}),t.title?(e.setFontSize(11),e.setFont("helvetica","normal"),e.text(t.title,r/2,i+14,{align:"center"}),i+=24):i+=18,e.setFillColor(...c),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...o),e.text(`Cliente: ${t.client.name}`,a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(9),e.setTextColor(...l),t.client.company_name&&(e.text(t.client.company_name,a+3,i),i+=4),t.client.cnpj&&(e.text(`CNPJ: ${t.client.cnpj}`,a+3,i),i+=4),t.client.address){const v=[t.client.address,t.client.city&&t.client.state?`${t.client.city}-${t.client.state}`:null,t.client.cep?`CEP ${t.client.cep}`:null].filter(Boolean).join(", "),N=e.splitTextToSize(v,r-2*a-6);e.text(N,a+3,i),i+=N.length*4}t.client.phone&&(e.text(`☎ ${t.client.phone}`,a+3,i),i+=4),t.client.email&&(e.text(`✉ ${t.client.email}`,a+3,i),i+=4),i+=4,d(30),e.setFillColor(...c),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...o),e.text("Informações do Serviço",a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(9),e.setTextColor(...l),e.text(`Prazo: ${t.basic_info.deadline}`,a+3,i),i+=4,t.basic_info.brand&&(e.text(`Marca: ${t.basic_info.brand}`,a+3,i),i+=4),t.basic_info.model&&(e.text(`Modelo: ${t.basic_info.model}`,a+3,i),i+=4),t.basic_info.equipment&&(e.text(`Equipamento: ${t.basic_info.equipment}`,a+3,i),i+=4),i+=4,d(40),e.setFillColor(...c),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...o),e.text("Serviços e Produtos",a+3,i+5.5),i+=12;const g=t.items.map(v=>{const N=[v.description+(v.scope?`
${v.scope}`:""),v.unit,v.quantity.toString()];return t.show_value!==!1&&N.push(`R$ ${v.unit_price.toFixed(2)}`,`R$ ${v.total_price.toFixed(2)}`),N}),x=t.show_value!==!1?["Descrição","Un.","Qtd","Preço Unit.","Total"]:["Descrição","Un.","Qtd"];if(e.autoTable({startY:i,head:[x],body:g,theme:"grid",styles:{fontSize:9,cellPadding:3,textColor:l},headStyles:{fillColor:o,textColor:[255,255,255],fontStyle:"bold",halign:"center"},columnStyles:t.show_value!==!1?{0:{cellWidth:80},1:{cellWidth:20,halign:"center"},2:{cellWidth:20,halign:"center"},3:{cellWidth:30,halign:"right"},4:{cellWidth:35,halign:"right"}}:{0:{cellWidth:130},1:{cellWidth:25,halign:"center"},2:{cellWidth:25,halign:"center"}},margin:{left:a,right:a}}),i=e.lastAutoTable.finalY+5,t.show_value!==!1){const v=r-a-50;if(e.setFont("helvetica","normal"),e.setFontSize(10),e.setTextColor(...l),e.text("Subtotal:",v,i,{align:"right"}),e.text(`R$ ${t.subtotal.toFixed(2)}`,r-a,i,{align:"right"}),i+=5,t.discount>0||t.discount_amount){const N=t.discount_amount||t.discount;e.setTextColor(231,76,60),e.text("Desconto:",v,i,{align:"right"}),e.text(`- R$ ${N.toFixed(2)}`,r-a,i,{align:"right"}),i+=5}e.setDrawColor(...l),e.setLineWidth(1),e.line(v-10,i,r-a,i),i+=7,e.setFillColor(...o),e.rect(v-15,i-5,r-v+15-a,10,"F"),e.setFont("helvetica","bold"),e.setFontSize(12),e.setTextColor(255,255,255),e.text("TOTAL:",v,i+2,{align:"right"}),e.text(`R$ ${(t.final_total||t.total).toFixed(2)}`,r-a-3,i+2,{align:"right"}),i+=15}if(t.escopo_detalhado){d(50),e.setFillColor(219,234,254),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(30,64,175),e.text("Escopo Detalhado do Serviço",a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(8),e.setTextColor(...l);const v=e.splitTextToSize(t.escopo_detalhado,r-2*a-6);e.text(v,a+3,i),i+=v.length*3.5+8}if(t.relatorio_tecnico){d(50),e.setFillColor(254,243,199),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(146,64,14),e.text("Relatório Técnico",a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(8),e.setTextColor(...l);const v=e.splitTextToSize(t.relatorio_tecnico,r-2*a-6);e.text(v,a+3,i),i+=v.length*3.5+8}if(t.orientacoes_servico){d(50),e.setFillColor(220,252,231),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(20,83,45),e.text("Orientações de Serviço",a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(8),e.setTextColor(...l);const v=e.splitTextToSize(t.orientacoes_servico,r-2*a-6);e.text(v,a+3,i),i+=v.length*3.5+8}i>n-100&&(u(),e.addPage(),i=a),e.setFillColor(...c),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...o),e.text("Forma de Pagamento",a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(9),e.setTextColor(...l),e.text(`Métodos: ${t.payment.methods}`,a+3,i),i+=5,t.payment.pix&&(e.text(`PIX: ${t.payment.pix}`,a+3,i),i+=5);const m=t.payment.bank_details||t.payment.bank;if(m){e.setFont("helvetica","bold"),e.text("Dados bancários:",a+3,i),i+=5,e.setFont("helvetica","normal");const v="name"in m?m.name:m.bank,N=m.agency,O=m.account,L="type"in m?m.type:m.account_type,Q=m.holder;e.text(`Banco: ${v} | Ag: ${N} | Conta: ${O}`,a+3,i),i+=4,e.text(`Tipo: ${L} | Titular: ${Q}`,a+3,i),i+=5}e.setFont("helvetica","bold"),e.text("Condições:",a+3,i),i+=5,e.setFont("helvetica","normal");const p=e.splitTextToSize(t.payment.conditions,r-2*a-6);e.text(p,a+3,i),i+=p.length*4+8,d(50),e.setFillColor(...c),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...o),e.text("Garantia",a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(8),e.setTextColor(...l),t.warranty.period&&(e.text(`Período: ${t.warranty.period}`,a+3,i),i+=6);const y=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",w=e.splitTextToSize(y,r-2*a-6);if(e.text(w,a+3,i),i+=w.length*3.5+10,d(60),e.setFillColor(...c),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...o),e.text("Contrato de Prestação de Serviços",a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(8),e.setTextColor(...l),typeof t.contract_clauses=="string"){const v=e.splitTextToSize(t.contract_clauses,r-2*a-6);e.text(v,a+3,i),i+=v.length*3.5}else Array.isArray(t.contract_clauses)&&t.contract_clauses.forEach(v=>{d(20),e.setFont("helvetica","bold"),e.text(v.title,a+3,i),i+=5,e.setFont("helvetica","normal"),v.items.forEach(N=>{const O=e.splitTextToSize(`• ${N}`,r-2*a-6);e.text(O,a+3,i),i+=O.length*3.5}),i+=3});i+=8;const S=t.additional_notes||t.additional_info;if(S){d(30),e.setFillColor(...c),e.rect(a,i,r-2*a,8,"F"),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...o),e.text("Observações",a+3,i+5.5),i+=12,e.setFont("helvetica","normal"),e.setFontSize(9),e.setTextColor(...l);const v=e.splitTextToSize(S,r-2*a-6);e.text(v,a+3,i),i+=v.length*4+8}d(40),e.setFont("helvetica","normal"),e.setFontSize(9),e.setTextColor(...l);const j=i;e.text(`${t.company.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,r/2,j,{align:"center"}),i+=25;const _=a+10,F=r/2-10;e.line(_,i,F,i),i+=5,e.setFont("helvetica","bold"),e.text(t.company.name,(_+F)/2,i,{align:"center"}),i+=4,e.setFont("helvetica","normal"),e.text(t.company.owner,(_+F)/2,i,{align:"center"});const C=r/2+10,E=r-a-10;i-=9,e.line(C,i,E,i),i+=5,e.setFont("helvetica","bold"),e.text(t.client.name,(C+E)/2,i,{align:"center"}),i+=4,e.setFont("helvetica","normal"),t.client.cnpj&&e.text(`CNPJ ${t.client.cnpj}`,(C+E)/2,i,{align:"center"}),u();const T=e.getNumberOfPages();for(let v=1;v<=T;v++)e.setPage(v),e.setFont("helvetica","normal"),e.setFontSize(7),e.setTextColor(...l),e.text(`Página ${v} de ${T}`,r/2,n-2,{align:"center"});e.save(`Proposta_${t.order_number}.pdf`)};function EAe({isOpen:t,onClose:e,data:r}){var o,l,c,d,u,A,h,f,g,x;if(!t)return null;const n=()=>{try{BAe(r)}catch(m){console.error("Erro ao gerar PDF:",m),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},a=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m),i=m=>new Date(m).toLocaleDateString("pt-BR");return s.jsx(at,{children:s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xt,{className:"h-6 w-6 text-white"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Proposta"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:n,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",children:[s.jsx(Ls,{className:"h-4 w-4"}),s.jsx("span",{children:"Baixar PDF"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-teal-800 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-5 w-5 text-white"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg my-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-teal-700 to-teal-800 px-8 py-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-white p-3 rounded-lg",children:s.jsx(yl,{className:"h-12 w-12 text-teal-700"})}),s.jsxs("div",{className:"text-white",children:[s.jsx("h1",{className:"text-2xl font-bold",children:r.company.name}),s.jsx("p",{className:"text-teal-100 text-sm mt-1",children:r.company.owner}),s.jsxs("p",{className:"text-teal-100 text-sm",children:["CNPJ: ",r.company.cnpj]}),s.jsx("p",{className:"text-teal-100 text-sm",children:r.company.address}),s.jsxs("p",{className:"text-teal-100 text-sm",children:[r.company.city,"-",r.company.state]})]})]}),s.jsxs("div",{className:"text-right text-white",children:[s.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[s.jsx(Jt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:i(r.date)})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[s.jsx(qn,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.email})]}),r.company.phones.map((m,p)=>s.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[s.jsx(us,{className:"h-4 w-4"}),s.jsx("span",{children:m})]},p))]})]}),r.company.tagline&&s.jsx("p",{className:"text-center text-teal-100 text-sm mt-4 italic",children:r.company.tagline}),r.company.social&&s.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-3",children:[r.company.social.instagram&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(vT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(gT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&s.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[s.jsx(sw,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.website})]})]})]}),s.jsxs("div",{className:"bg-teal-700 px-8 py-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Orçamento ",r.order_number]}),r.title&&s.jsx("p",{className:"text-teal-100",children:r.title})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-3",children:["Cliente: ",r.client.name]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[r.client.company_name&&s.jsx("p",{className:"text-gray-700",children:r.client.company_name}),r.client.cnpj&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",r.client.cnpj]}),r.client.address&&s.jsx("p",{className:"text-sm text-gray-600",children:r.client.address}),r.client.city&&s.jsxs("p",{className:"text-sm text-gray-600",children:[r.client.city,"-",r.client.state]}),r.client.cep&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",r.client.cep]})]}),s.jsxs("div",{className:"space-y-2",children:[r.client.email&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx(qn,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{children:r.client.email})]}),r.client.phone&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx(us,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{children:r.client.phone})]})]})]})]}),s.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informações básicas"}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Prazo de execução"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Marca"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Modelo"}),s.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Serviços"}),s.jsx("div",{className:"space-y-6",children:r.items.map((m,p)=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:`grid ${r.show_value!==!1?"grid-cols-12":"grid-cols-8"} gap-4 mb-3`,children:[s.jsxs("div",{className:r.show_value!==!1?"col-span-5":"col-span-6",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:m.description}),m.scope&&s.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-line mt-2",children:m.scope})]}),s.jsxs("div",{className:"col-span-1 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Unidade"}),s.jsx("p",{className:"text-sm text-gray-700",children:m.unit})]}),s.jsxs("div",{className:"col-span-1 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Qtd."}),s.jsx("p",{className:"text-sm text-gray-700",children:m.quantity})]}),r.show_value!==!1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"col-span-2 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preço unitário"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:a(m.unit_price)})]}),s.jsxs("div",{className:"col-span-2 text-right",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preço"}),s.jsx("p",{className:"text-sm font-bold text-teal-700",children:a(m.total_price)})]})]})]})},p))}),r.show_value!==!1&&s.jsxs("div",{className:"mt-6 bg-teal-700 text-white px-6 py-4 rounded-lg flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-bold",children:"Total"}),s.jsx("span",{className:"text-2xl font-bold",children:a(r.total||r.final_total||0)})]})]}),r.escopo_detalhado&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-blue-50",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Escopo Detalhado do Serviço"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.escopo_detalhado})]}),r.relatorio_tecnico&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-amber-50",children:[s.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:"Relatório Técnico"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.relatorio_tecnico})]}),r.orientacoes_servico&&s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-green-50",children:[s.jsx("h3",{className:"text-lg font-bold text-green-900 mb-4",children:"Orientações de Serviço"}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.orientacoes_servico})]}),s.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Pagamento"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Meios de pagamento"}),s.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),r.payment.pix&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"PIX"}),s.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix})]}),(r.payment.bank||r.payment.bank_details)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Dados bancários"}),s.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-1 text-sm",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Banco:"})," ",((o=r.payment.bank)==null?void 0:o.name)||((l=r.payment.bank_details)==null?void 0:l.bank)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Agência:"})," ",((c=r.payment.bank)==null?void 0:c.agency)||((d=r.payment.bank_details)==null?void 0:d.agency)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Conta:"})," ",((u=r.payment.bank)==null?void 0:u.account)||((A=r.payment.bank_details)==null?void 0:A.account)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Tipo de conta:"})," ",((h=r.payment.bank)==null?void 0:h.type)||((f=r.payment.bank_details)==null?void 0:f.account_type)]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Titular da conta (CPF/CNPJ):"})," ",((g=r.payment.bank)==null?void 0:g.holder)||((x=r.payment.bank_details)==null?void 0:x.holder)]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Condições de pagamento"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:r.payment.conditions})]})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center space-x-2",children:[s.jsx(Kr,{className:"h-5 w-5"}),s.jsx("span",{children:"Garantia"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Condições da garantia"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),s.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Cláusulas contratuais"}),s.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.contract_clauses=="string"?r.contract_clauses:Array.isArray(r.contract_clauses)?r.contract_clauses.map((m,p)=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:m.title}),s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:m.items.map((y,w)=>s.jsx("li",{children:y},w))})]},p)):""})]}),(r.additional_notes||r.additional_info)&&s.jsxs("div",{className:"px-8 py-6 bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informações adicionais"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:r.additional_notes||r.additional_info}),s.jsxs("p",{className:"text-center text-gray-600 italic mt-4",children:[r.company.city,", ",i(r.date)]})]}),s.jsx("div",{className:"px-8 py-8 bg-white",children:s.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900",children:r.company.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.company.owner}),s.jsx("p",{className:"text-xs text-gray-500",children:"diretor técnico"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[s.jsx("p",{className:"font-bold text-gray-900",children:r.client.name}),r.client.cnpj&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ ",r.client.cnpj]})]})})]})}),s.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(qn,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.email})]}),r.company.phones.map((m,p)=>s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(us,{className:"h-4 w-4"}),s.jsx("span",{children:m})]},p))]}),r.company.social&&s.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-sm text-gray-600",children:[r.company.social.instagram&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(vT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(gT,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(sw,{className:"h-4 w-4"}),s.jsx("span",{children:r.company.social.website})]})]})]})]})})]})})})}const kAe=()=>{var v;const{id:t}=U3(),e=ra(),[r,n]=k.useState(!0),[a,i]=k.useState(null),[o,l]=k.useState(null),[c,d]=k.useState(!1),[u,A]=k.useState(!1),[h,f]=k.useState(!1),[g,x]=k.useState(!1),[m,p]=k.useState([]),[y,w]=k.useState(null);k.useEffect(()=>{t&&S()},[t]);const S=async()=>{try{n(!0);const N=await Ab(t);if(N){i(N);const{data:O}=await ge.from("customers").select(`
            *,
            customer_addresses(
              logradouro,
              numero,
              complemento,
              bairro,
              cidade,
              estado,
              cep
            )
          `).eq("id",N.client_id).single();l(O);const{data:L}=await ge.from("service_order_items").select("*, service_catalog:service_catalog_id(id, name, description, base_price, category)").eq("service_order_id",t),{data:Q}=await ge.from("service_order_materials").select(`
            *,
            material:material_id(name, unit_of_measure)
          `).eq("service_order_id",t),{data:D}=await ge.from("service_order_labor").select(`
            *,
            employee:staff_id(id, nome, nome_completo)
          `).eq("service_order_id",t),{data:U}=await ge.from("service_order_team").select(`
            *,
            employee:employee_id(id, nome, nome_completo, especialidade)
          `).eq("service_order_id",t);if(L&&L.length>0){const Y=L.map(X=>{var G,V,ae,Ae;const $=(Q||[]).filter(re=>re.service_order_item_id===X.id).map(re=>{var ie,ce;return{nome:re.material_name||re.nome_material||((ie=re.material)==null?void 0:ie.name)||"Material",quantidade:re.quantity||re.quantidade||0,unidade_medida:re.material_unit||((ce=re.material)==null?void 0:ce.unit_of_measure)||"un",preco_unitario:re.unit_price||re.preco_venda||0,valor_total:re.total_price||re.valor_total||0}}),M=(D||[]).filter(re=>re.service_order_item_id===X.id).map(re=>{var ie,ce;return{nome:re.nome_funcionario||((ie=re.employee)==null?void 0:ie.nome)||((ce=re.employee)==null?void 0:ce.nome_completo)||"Funcionário",tempo_minutos:re.tempo_minutos||(re.hours?re.hours*60:0)||0,custo_hora:re.custo_hora||re.hourly_rate||0,custo_total:re.custo_total||re.total_cost||0}});return{id:X.id,service_catalog_id:X.service_catalog_id,description:X.notes||X.descricao||((G=X.service_catalog)==null?void 0:G.description)||((V=X.service_catalog)==null?void 0:V.name)||"",name:((ae=X.service_catalog)==null?void 0:ae.name)||X.descricao||"",descricao:X.descricao||X.notes||((Ae=X.service_catalog)==null?void 0:Ae.name)||"",quantity:X.quantity||X.quantidade||1,quantidade:X.quantidade||X.quantity||1,unit_price:X.unit_price||X.preco_unitario||0,preco_unitario:X.preco_unitario||X.unit_price||0,total_price:X.total_price||X.preco_total||0,preco_total:X.preco_total||X.total_price||0,estimated_duration:X.estimated_duration||X.tempo_estimado_minutos||0,tempo_estimado_minutos:X.tempo_estimado_minutos||X.estimated_duration||0,materiais:$,funcionarios:M}});i({...N,items:Y,team:(U||[]).map(X=>{var $,M,G;return{id:X.id,employee_id:X.employee_id,nome:(($=X.employee)==null?void 0:$.nome)||((M=X.employee)==null?void 0:M.nome_completo)||"Funcionário",role:X.role||((G=X.employee)==null?void 0:G.especialidade)||"",assigned_at:X.assigned_at}})})}const{data:R}=await ge.from("bank_accounts").select("*").eq("is_default",!0).maybeSingle();R&&p([R]);const{data:z}=await ge.from("company_settings").select("*").maybeSingle();w(z)}}catch(N){console.error("Error loading order:",N),alert("Erro ao carregar ordem de serviço")}finally{n(!1)}},j=async()=>{var N;if(!a||!o){alert("Dados incompletos para gerar PDF");return}try{const{data:O}=await ge.from("company_settings").select("*").maybeSingle(),L=O?{name:O.company_name||"Sua Empresa",cnpj:O.cnpj||"00.000.000/0000-00",address:O.address||"Rua Exemplo, 123",city:O.city||"São Paulo",state:O.state||"SP",zip:O.zip_code||"00000-000",phone:O.phone||"(11) 0000-0000",email:O.email||"contato@empresa.com.br",website:O.website||"www.empresa.com.br"}:{name:"Sua Empresa",cnpj:"00.000.000/0000-00",address:"Rua Exemplo, 123",city:"São Paulo",state:"SP",zip:"00000-000",phone:"(11) 0000-0000",email:"contato@empresa.com.br",website:"www.empresa.com.br"},Q=(N=o.customer_addresses)==null?void 0:N[0],D={order_number:a.order_number||"N/A",created_at:a.created_at,status:a.status,customer:{nome_razao:o.nome_razao||o.name||"Cliente",name:o.name||o.nome_razao||"Cliente",cnpj_cpf:o.cnpj_cpf||"",email:o.email||"",telefone:o.telefone||o.phone||"",phone:o.phone||o.telefone||"",endereco:(Q==null?void 0:Q.logradouro)||o.endereco||o.address||"",address:(Q==null?void 0:Q.logradouro)||o.address||o.endereco||"",cidade:(Q==null?void 0:Q.cidade)||o.cidade||o.city||"",city:(Q==null?void 0:Q.cidade)||o.city||o.cidade||"",estado:(Q==null?void 0:Q.estado)||o.estado||o.state||"",state:(Q==null?void 0:Q.estado)||o.state||o.estado||"",cep:(Q==null?void 0:Q.cep)||o.cep||o.zip_code||"",zip_code:(Q==null?void 0:Q.cep)||o.zip_code||o.cep||""},description:a.description||"",scheduled_at:a.due_date||a.service_date,service_date:a.service_date||a.due_date,completion_date:a.completion_date,items:a.items||[],team:a.team||[],payment_method:a.payment_method||"",payment_installments:a.payment_installments||1,warranty_period:a.warranty_period||0,warranty_type:a.warranty_type||"days",warranty_terms:a.warranty_terms||"",subtotal:a.subtotal||a.total_value||0,total_value:a.total_value||0,discount_amount:a.discount_amount||a.desconto_valor||0,desconto_valor:a.desconto_valor||a.discount_amount||0,final_total:a.final_total||a.total_value||0,notes:a.notes||""};await NAe(D,L),alert("PDF gerado com sucesso!")}catch(O){console.error("Erro ao gerar PDF:",O),alert("Erro ao gerar PDF!")}},_=N=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N),F=N=>new Date(N).toLocaleDateString("pt-BR"),C=()=>{d(!0)},E=async()=>{if(t)try{A(!0),await H9(t),alert("Ordem de serviço excluída com sucesso!"),e("/service-orders")}catch(N){console.error("Error deleting order:",N),alert("Erro ao excluir ordem de serviço. Verifique se não há dependências.")}finally{A(!1)}},T=()=>{d(!1)};return r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a?s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/service-orders"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wl,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Visualizar Ordem de Serviço"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["OS #",a.order_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg hover:from-teal-700 hover:to-teal-800 flex items-center gap-2 shadow-lg",children:[s.jsx(Ds,{className:"h-4 w-4"}),"Ver Proposta"]}),s.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 flex items-center gap-2 shadow-lg",children:[s.jsx(xt,{className:"h-4 w-4"}),"Ver Contrato"]}),s.jsxs("button",{onClick:j,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 flex items-center gap-2 shadow-lg",children:[s.jsx(A9,{className:"h-4 w-4"}),"Gerar PDF OS"]}),s.jsxs("button",{onClick:()=>e(`/service-orders?edit=${t}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Editar"]}),s.jsxs("button",{onClick:C,className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 flex items-center gap-2 shadow-lg",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Excluir"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(xn,{className:"h-5 w-5 text-blue-600"}),"Informações do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.nome_razao)||(o==null?void 0:o.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.telefone)||(o==null?void 0:o.phone)||"N/A"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:(o==null?void 0:o.email)||"N/A"})]}),((o==null?void 0:o.endereco)||(o==null?void 0:o.address))&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço"}),s.jsxs("p",{className:"text-gray-900",children:[(o==null?void 0:o.endereco)||(o==null?void 0:o.address),((o==null?void 0:o.cidade)||(o==null?void 0:o.city))&&`, ${(o==null?void 0:o.cidade)||(o==null?void 0:o.city)}`,((o==null?void 0:o.estado)||(o==null?void 0:o.state))&&` - ${(o==null?void 0:o.estado)||(o==null?void 0:o.state)}`,((o==null?void 0:o.cep)||(o==null?void 0:o.zip_code))&&` - CEP: ${(o==null?void 0:o.cep)||(o==null?void 0:o.zip_code)}`]})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-blue-600"}),"Detalhes da Ordem"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("p",{className:"text-gray-900",children:a.description||"Sem descrição"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Criação"}),s.jsx("p",{className:"text-gray-900",children:F(a.created_at)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista"}),s.jsx("p",{className:"text-gray-900",children:a.due_date?F(a.due_date):a.service_date?F(a.service_date):"Não definida"})]})]})]})]}),a.items&&a.items.length>0&&s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Nt,{className:"h-5 w-5 text-blue-600"}),"Serviços"]}),s.jsx("div",{className:"space-y-4",children:a.items.map((N,O)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:N.descricao||N.description||N.service_name||"Serviço"}),(N.scope||N.escopo)&&s.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line mt-2",children:N.scope||N.escopo})]}),s.jsx("span",{className:"text-lg font-bold text-green-600 ml-4",children:_(N.preco_total||N.total_price||(N.preco_unitario||N.unit_price||0)*(N.quantidade||N.quantity||1))})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm text-gray-600 mt-3",children:[s.jsxs("div",{children:["Quantidade: ",N.quantidade||N.quantity||1]}),s.jsxs("div",{children:["Preço Unit.: ",_(N.preco_unitario||N.unit_price||0)]}),s.jsxs("div",{children:["Tempo: ",N.tempo_estimado_minutos||N.estimated_time||0," min"]})]}),N.materiais&&N.materiais.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Materiais:"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:N.materiais.map((L,Q)=>s.jsxs("li",{children:["• ",L.nome," - ",L.quantidade," ",L.unidade_medida," - ",_(L.valor_total)]},Q))})]}),N.funcionarios&&N.funcionarios.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Mão de Obra:"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:N.funcionarios.map((L,Q)=>s.jsxs("li",{children:["• ",L.nome," - ",L.tempo_minutos," min - ",_(L.custo_total)]},Q))})]})]},O))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),s.jsxs("div",{className:"space-y-3",children:[a.items&&a.items.length>0&&s.jsx("div",{className:"space-y-2 pb-3 border-b",children:a.items.map((N,O)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 flex-1 mr-2",children:N.descricao||N.description||N.service_name||"Serviço"}),s.jsx("span",{className:"font-medium whitespace-nowrap",children:_(N.total_price||N.total||(N.unit_price||N.price||0)*(N.quantity||1))})]},O))}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),s.jsx("span",{className:"font-semibold",children:_(a.subtotal_value||a.total_value||0)})]}),a.discount_value>0&&s.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[s.jsx("span",{children:"Desconto:"}),s.jsxs("span",{className:"font-semibold",children:["-",_(a.discount_value)]})]}),s.jsx("div",{className:"pt-3 border-t",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:_(a.total_value||0)})]})})]})]}),s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Status Atual:"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="in_progress"?"bg-blue-100 text-blue-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status==="completed"?"Concluída":a.status==="in_progress"?"Em Andamento":a.status==="pending"?"Pendente":a.status})})]})})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Serviço"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Esta ação não pode ser desfeita"})]})]})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Você está prestes a excluir a seguinte OS:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Número:"})," ",a==null?void 0:a.order_number]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Cliente:"})," ",(o==null?void 0:o.nome_razao)||(o==null?void 0:o.name)]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Serviço:"})," ",a==null?void 0:a.service_type]}),s.jsxs("p",{className:"text-red-800",children:[s.jsx("span",{className:"font-bold",children:"Valor:"})," ",_((a==null?void 0:a.total_cost)||0)]})]})]})]})}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:"⚠️ Atenção!"}),s.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados serão permanentemente removidos do sistema. Esta ação é irreversível."})]})]})}),s.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:T,disabled:u,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:E,disabled:u,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"h-5 w-5"}),"Confirmar Exclusão"]})})]})]})]})}),s.jsx(SAe,{isOpen:h,onClose:()=>f(!1),serviceOrderId:t||""}),a&&o&&s.jsx(EAe,{isOpen:g,onClose:()=>x(!1),data:{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.description||"",client:{name:o.nome_razao||o.name||"Cliente",company_name:o.nome_razao,cnpj:o.cnpj_cpf,address:(()=>{var O;const N=(O=o.customer_addresses)==null?void 0:O[0];return N?`${N.logradouro}${N.numero?", "+N.numero:""}${N.complemento?" - "+N.complemento:""}`:o.address_street?`${o.address_street}${o.address_number?", "+o.address_number:""}${o.address_complement?" - "+o.address_complement:""}`:o.endereco||o.address})(),city:(()=>{var O;const N=(O=o.customer_addresses)==null?void 0:O[0];return(N==null?void 0:N.cidade)||o.address_city||o.cidade||o.city})(),state:(()=>{var O;const N=(O=o.customer_addresses)==null?void 0:O[0];return(N==null?void 0:N.estado)||o.address_state||o.estado||o.state})(),cep:(()=>{var O;const N=(O=o.customer_addresses)==null?void 0:O[0];return(N==null?void 0:N.cep)||o.address_zip_code||o.cep||o.zip_code})(),email:o.email,phone:o.telefone||o.phone},company:{name:(y==null?void 0:y.company_name)||"Giartech Soluções",owner:(y==null?void 0:y.owner_name)||"Tiago Bruno Giaquinto",cnpj:(y==null?void 0:y.cnpj)||"375.098.970",address:(y==null?void 0:y.address)||"Rua Quito 14, 14",city:(y==null?void 0:y.city)||"São Paulo",state:(y==null?void 0:y.state)||"SP",cep:y==null?void 0:y.zip_code,email:(y==null?void 0:y.email)||"giartechsolucoes@gmail.com",phones:y!=null&&y.phone?[y.phone]:["+351 511 966 617","+351 511 943 985"],social:{instagram:"@tg.arconnection",facebook:"@tgarconnection",website:"tgarconnection.com.br"},tagline:"Sua satisfação é o que motiva a nossa dedicação"},basic_info:{deadline:a.estimated_hours?`${a.estimated_hours} horas`:"3 DIAS",brand:a.equipment_brand,model:a.equipment_model},items:(a.items||[]).map(N=>{var O,L;return{description:((O=N.service_catalog)==null?void 0:O.name)||N.service_name||N.name||N.descricao||N.description||"Serviço",scope:N.notes||((L=N.service_catalog)==null?void 0:L.description)||N.scope||N.description||"",unit:N.unit||"un.",unit_price:N.unit_price||N.preco_unitario||N.price||0,quantity:N.quantity||N.quantidade||1,total_price:N.total_price||N.preco_total||(N.unit_price||N.preco_unitario||N.price||0)*(N.quantity||N.quantidade||1)}}),subtotal:a.subtotal_value||a.total_value||0,discount:a.discount_value||a.desconto_valor||0,total:a.total_value||0,show_value:a.show_value!==!1,relatorio_tecnico:a.relatorio_tecnico,orientacoes_servico:a.orientacoes_servico,escopo_detalhado:a.escopo_detalhado,payment:{methods:a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Cartão de Crédito":a.payment_method==="cartao_debito"?"Cartão de Débito":a.payment_method==="transferencia"?"Transferência Bancária":"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",pix:((v=m[0])==null?void 0:v.pix_key)||(y==null?void 0:y.cnpj),bank_details:m[0]?{bank:m[0].bank_name,agency:m[0].agency,account:m[0].account_number,account_type:m[0].account_type==="checking"?"Corrente":"Poupança",holder:m[0].account_holder}:void 0,conditions:a.payment_installments&&a.payment_installments>1?`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Cartão de Crédito":a.payment_method==="cartao_debito"?"Cartão de Débito":a.payment_method==="transferencia"?"Transferência":"Diversos"}
Parcelas: ${a.payment_installments}x
LINK DE PAGAMENTO EM ${a.payment_installments}X SEM JUROS / DEMAIS PARCELAS INCIDÊNCIA DE JUROS DA MÁQUINA
À VISTA 5% DE DESCONTO`:`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Cartão de Crédito":a.payment_method==="cartao_debito"?"Cartão de Débito":a.payment_method==="transferencia"?"Transferência":"À Vista"}
Pagamento à vista com 5% de desconto`},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":"meses"}`:"90 dias",conditions:a.warranty_terms||`Garantias referentes à sistemas de novo em tubulações antigas, só serão válidas, com os processos de descontaminação das tubulações antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, só são válidas com manutenção semestral comprovada COM LAUDO TÉCNICO.

Garantias extendidas pela nossa empresa, são concedidas em caso de compra das máquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter até 12 meses de acordo com o tipo e capacidade do sistema, mediante a manutenção dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:`1. Obrigações do Cliente
1.1. O cliente deve fornecer todas as informações necessárias para a execução adequada dos serviços contratados, incluindo, mas não se limitando a, especificações técnicas, localização e horários preferenciais para a realização dos serviços, como também a planta do imóvel e projeto arquitetônico.
1.2. O cliente deve garantir o acesso seguro e adequado às instalações onde os serviços serão realizados.
1.3. O cliente deve comunicar prontamente qualquer problema ou defeito observado nos serviços prestados.
1.4. É de responsabilidade do cliente o destelhamento e reinstalação do telhado.

2. Obrigações do Contratante
2.1. O contratante deve realizar os serviços de acordo com as especificações técnicas fornecidas pelo cliente e de acordo com os padrões da indústria.
2.2. O contratante deve cumprir todos os prazos acordados para a execução dos serviços.
2.3. O contratante deve manter o cliente informado sobre o progresso dos serviços e quaisquer problemas ou atrasos que possam surgir.

3. Regras de Rescisão
3.1. Ambas as partes têm o direito de rescindir o contrato a qualquer momento, com um aviso prévio de 30 dias.
3.2. Em caso de violação de qualquer uma das obrigações estabelecidas neste contrato, a parte não infratora tem o direito de rescindir o contrato imediatamente, sem necessidade de aviso prévio.

4. Regras Gerais
4.1. Este contrato não cria qualquer relação de parceria, joint venture, emprego ou agência entre as partes.
4.2. Nenhuma das partes pode ceder ou transferir seus direitos ou obrigações sob este contrato sem o consentimento prévio por escrito da outra parte.
4.3. Este contrato constitui o acordo completo entre as partes e substitui todos os acordos anteriores, escritos ou orais, relacionados ao seu objeto.`,additional_info:a.notes||`Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiança

obrigado pela confiança, estaremos à disposição.`}})]}):s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Ordem de serviço não encontrada"}),s.jsx("button",{onClick:()=>e("/service-orders"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M4=function(t,e){return M4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},M4(t,e)};function lo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");M4(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var D4=function(){return D4=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},D4.apply(this,arguments)};function Hs(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,[])).next())})}function Ns(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Yy(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var Rl=function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),h2=function(t,e){return Rl.fromClientRect(t,e.getBoundingClientRect())},FAe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Rl(0,0,n,a)},f2=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},An=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},NO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jy=0;Jy<NO.length;Jy++)PAe[NO.charCodeAt(Jy)]=Jy;var _O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zy=0;Zy<_O.length;Zy++)Dp[_O.charCodeAt(Zy)]=Zy;var TAe=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=Dp[t.charCodeAt(n)],o=Dp[t.charCodeAt(n+1)],l=Dp[t.charCodeAt(n+2)],c=Dp[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},OAe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},IAe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ku=5,OE=11,E_=2,LAe=OE-ku,SH=65536>>ku,MAe=1<<ku,k_=MAe-1,DAe=1024>>ku,UAe=SH+DAe,RAe=UAe,QAe=32,$Ae=RAe+QAe,HAe=65536>>OE,zAe=1<<LAe,qAe=zAe-1,CO=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},VAe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},KAe=function(t,e){var r=TAe(t),n=Array.isArray(r)?IAe(r):new Uint32Array(r),a=Array.isArray(r)?OAe(r):new Uint16Array(r),i=24,o=CO(a,i/2,n[4]/2),l=n[5]===2?CO(a,(i+n[4])/2):VAe(n,Math.ceil((i+n[4])/4));return new WAe(n[0],n[1],n[2],n[3],o,l)},WAe=function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ku],r=(r<<E_)+(e&k_),this.data[r];if(e<=65535)return r=this.index[SH+(e-55296>>ku)],r=(r<<E_)+(e&k_),this.data[r];if(e<this.highStart)return r=$Ae-HAe+(e>>OE),r=this.index[r],r+=e>>ku&qAe,r=this.index[r],r=(r<<E_)+(e&k_),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),SO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ev=0;ev<SO.length;ev++)GAe[SO.charCodeAt(ev)]=ev;var XAe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",BO=50,YAe=1,BH=2,EH=3,JAe=4,ZAe=5,EO=7,kH=8,kO=9,Mc=10,U4=11,FO=12,R4=13,ehe=14,Up=15,Q4=16,tv=17,dp=18,the=19,PO=20,$4=21,up=22,F_=23,YA=24,ka=25,Rp=26,Qp=27,JA=28,rhe=29,lu=30,nhe=31,rv=32,nv=33,H4=34,z4=35,q4=36,d0=37,V4=38,gb=39,xb=40,P_=41,FH=42,she=43,ahe=[9001,65288],PH="!",qt="×",sv="÷",K4=KAe(XAe),al=[lu,q4],W4=[YAe,BH,EH,ZAe],TH=[Mc,kH],TO=[Qp,Rp],ihe=W4.concat(TH),OO=[V4,gb,xb,H4,z4],ohe=[Up,R4],lhe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(i,o){var l=K4.get(i);if(l>BO?(a.push(!0),l-=BO):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(Q4);if(l===JAe||l===U4){if(o===0)return n.push(o),r.push(lu);var c=r[o-1];return ihe.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(lu))}if(n.push(o),l===nhe)return r.push(e==="strict"?$4:d0);if(l===FH||l===rhe)return r.push(lu);if(l===she)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(d0):r.push(lu);r.push(l)}),[n,r,a]},T_=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===e)return!0;if(o!==Mc)break}if(a===Mc)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==Mc)break}if(l!==Mc)break}return!1},IO=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Mc)r--;else return n}return 0},che=function(t,e,r,n,a){if(r[n]===0)return qt;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return qt;var o=i-1,l=i+1,c=e[i],d=o>=0?e[o]:0,u=e[l];if(c===BH&&u===EH)return qt;if(W4.indexOf(c)!==-1)return PH;if(W4.indexOf(u)!==-1||TH.indexOf(u)!==-1)return qt;if(IO(i,e)===kH)return sv;if(K4.get(t[i])===U4||(c===rv||c===nv)&&K4.get(t[l])===U4||c===EO||u===EO||c===kO||[Mc,R4,Up].indexOf(c)===-1&&u===kO||[tv,dp,the,YA,JA].indexOf(u)!==-1||IO(i,e)===up||T_(F_,up,i,e)||T_([tv,dp],$4,i,e)||T_(FO,FO,i,e))return qt;if(c===Mc)return sv;if(c===F_||u===F_)return qt;if(u===Q4||c===Q4)return sv;if([R4,Up,$4].indexOf(u)!==-1||c===ehe||d===q4&&ohe.indexOf(c)!==-1||c===JA&&u===q4||u===PO||al.indexOf(u)!==-1&&c===ka||al.indexOf(c)!==-1&&u===ka||c===Qp&&[d0,rv,nv].indexOf(u)!==-1||[d0,rv,nv].indexOf(c)!==-1&&u===Rp||al.indexOf(c)!==-1&&TO.indexOf(u)!==-1||TO.indexOf(c)!==-1&&al.indexOf(u)!==-1||[Qp,Rp].indexOf(c)!==-1&&(u===ka||[up,Up].indexOf(u)!==-1&&e[l+1]===ka)||[up,Up].indexOf(c)!==-1&&u===ka||c===ka&&[ka,JA,YA].indexOf(u)!==-1)return qt;if([ka,JA,YA,tv,dp].indexOf(u)!==-1)for(var A=i;A>=0;){var h=e[A];if(h===ka)return qt;if([JA,YA].indexOf(h)!==-1)A--;else break}if([Qp,Rp].indexOf(u)!==-1)for(var A=[tv,dp].indexOf(c)!==-1?o:i;A>=0;){var h=e[A];if(h===ka)return qt;if([JA,YA].indexOf(h)!==-1)A--;else break}if(V4===c&&[V4,gb,H4,z4].indexOf(u)!==-1||[gb,H4].indexOf(c)!==-1&&[gb,xb].indexOf(u)!==-1||[xb,z4].indexOf(c)!==-1&&u===xb||OO.indexOf(c)!==-1&&[PO,Rp].indexOf(u)!==-1||OO.indexOf(u)!==-1&&c===Qp||al.indexOf(c)!==-1&&al.indexOf(u)!==-1||c===YA&&al.indexOf(u)!==-1||al.concat(ka).indexOf(c)!==-1&&u===up&&ahe.indexOf(t[l])===-1||al.concat(ka).indexOf(u)!==-1&&c===dp)return qt;if(c===P_&&u===P_){for(var f=r[i],g=1;f>0&&(f--,e[f]===P_);)g++;if(g%2!==0)return qt}return c===rv&&u===nv?qt:sv},dhe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=lhe(t,e.lineBreak),n=r[0],a=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[ka,lu,FH].indexOf(l)!==-1?d0:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},uhe=function(){function t(e,r,n,a){this.codePoints=e,this.required=r===PH,this.start=n,this.end=a}return t.prototype.slice=function(){return An.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Ahe=function(t,e){var r=f2(t),n=dhe(r,e),a=n[0],i=n[1],o=n[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=qt;d<l&&(u=che(r,i,a,++d,o))===qt;);if(u!==qt||d===l){var A=new uhe(r,u,c,d);return c=d,{value:A,done:!1}}return{done:!0,value:null}}}},hhe=1,fhe=2,gx=4,LO=8,fw=10,MO=47,pg=92,mhe=9,phe=32,av=34,Ap=61,ghe=35,xhe=36,yhe=37,iv=39,ov=40,hp=41,vhe=95,ua=45,bhe=33,whe=60,jhe=62,Nhe=64,_he=91,Che=93,She=61,Bhe=123,lv=63,Ehe=125,DO=124,khe=126,Fhe=128,UO=65533,O_=42,gu=43,Phe=44,The=58,Ohe=59,u0=46,Ihe=0,Lhe=8,Mhe=11,Dhe=14,Uhe=31,Rhe=127,wo=-1,OH=48,IH=97,LH=101,Qhe=102,$he=117,Hhe=122,MH=65,DH=69,UH=70,zhe=85,qhe=90,Ss=function(t){return t>=OH&&t<=57},Vhe=function(t){return t>=55296&&t<=57343},ZA=function(t){return Ss(t)||t>=MH&&t<=UH||t>=IH&&t<=Qhe},Khe=function(t){return t>=IH&&t<=Hhe},Whe=function(t){return t>=MH&&t<=qhe},Ghe=function(t){return Khe(t)||Whe(t)},Xhe=function(t){return t>=Fhe},cv=function(t){return t===fw||t===mhe||t===phe},mw=function(t){return Ghe(t)||Xhe(t)||t===vhe},RO=function(t){return mw(t)||Ss(t)||t===ua},Yhe=function(t){return t>=Ihe&&t<=Lhe||t===Mhe||t>=Dhe&&t<=Uhe||t===Rhe},Cc=function(t,e){return t!==pg?!1:e!==fw},dv=function(t,e,r){return t===ua?mw(e)||Cc(e,r):mw(t)?!0:!!(t===pg&&Cc(t,e))},I_=function(t,e,r){return t===gu||t===ua?Ss(e)?!0:e===u0&&Ss(r):Ss(t===u0?e:t)},Jhe=function(t){var e=0,r=1;(t[e]===gu||t[e]===ua)&&(t[e]===ua&&(r=-1),e++);for(var n=[];Ss(t[e]);)n.push(t[e++]);var a=n.length?parseInt(An.apply(void 0,n),10):0;t[e]===u0&&e++;for(var i=[];Ss(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(An.apply(void 0,i),10):0;(t[e]===DH||t[e]===LH)&&e++;var c=1;(t[e]===gu||t[e]===ua)&&(t[e]===ua&&(c=-1),e++);for(var d=[];Ss(t[e]);)d.push(t[e++]);var u=d.length?parseInt(An.apply(void 0,d),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},Zhe={type:2},efe={type:3},tfe={type:4},rfe={type:13},nfe={type:8},sfe={type:21},afe={type:9},ife={type:10},ofe={type:11},lfe={type:12},cfe={type:14},uv={type:23},dfe={type:1},ufe={type:25},Afe={type:24},hfe={type:26},ffe={type:27},mfe={type:28},pfe={type:29},gfe={type:31},G4={type:32},RH=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(f2(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==G4;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case av:return this.consumeStringToken(av);case ghe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(RO(r)||Cc(n,a)){var i=dv(r,n,a)?fhe:hhe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case xhe:if(this.peekCodePoint(0)===Ap)return this.consumeCodePoint(),rfe;break;case iv:return this.consumeStringToken(iv);case ov:return Zhe;case hp:return efe;case O_:if(this.peekCodePoint(0)===Ap)return this.consumeCodePoint(),cfe;break;case gu:if(I_(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Phe:return tfe;case ua:var l=e,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(I_(l,c,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(dv(l,c,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===ua&&d===jhe)return this.consumeCodePoint(),this.consumeCodePoint(),Afe;break;case u0:if(I_(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case MO:if(this.peekCodePoint(0)===O_)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===O_&&(u=this.consumeCodePoint(),u===MO))return this.consumeToken();if(u===wo)return this.consumeToken()}break;case The:return hfe;case Ohe:return ffe;case whe:if(this.peekCodePoint(0)===bhe&&this.peekCodePoint(1)===ua&&this.peekCodePoint(2)===ua)return this.consumeCodePoint(),this.consumeCodePoint(),ufe;break;case Nhe:var A=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(dv(A,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case _he:return mfe;case pg:if(Cc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Che:return pfe;case She:if(this.peekCodePoint(0)===Ap)return this.consumeCodePoint(),nfe;break;case Bhe:return ofe;case Ehe:return lfe;case $he:case zhe:var g=this.peekCodePoint(0),x=this.peekCodePoint(1);return g===gu&&(ZA(x)||x===lv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case DO:if(this.peekCodePoint(0)===Ap)return this.consumeCodePoint(),afe;if(this.peekCodePoint(0)===DO)return this.consumeCodePoint(),sfe;break;case khe:if(this.peekCodePoint(0)===Ap)return this.consumeCodePoint(),ife;break;case wo:return G4}return cv(e)?(this.consumeWhiteSpace(),gfe):Ss(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):mw(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:An(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();ZA(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===lv&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(An.apply(void 0,e.map(function(c){return c===lv?OH:c})),16),i=parseInt(An.apply(void 0,e.map(function(c){return c===lv?UH:c})),16);return{type:30,start:a,end:i}}var o=parseInt(An.apply(void 0,e),16);if(this.peekCodePoint(0)===ua&&ZA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];ZA(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(An.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ov?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ov?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===wo)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===iv||r===av){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===wo||this.peekCodePoint(0)===hp)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),uv)}for(;;){var a=this.consumeCodePoint();if(a===wo||a===hp)return{type:22,value:An.apply(void 0,e)};if(cv(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===wo||this.peekCodePoint(0)===hp?(this.consumeCodePoint(),{type:22,value:An.apply(void 0,e)}):(this.consumeBadUrlRemnants(),uv);if(a===av||a===iv||a===ov||Yhe(a))return this.consumeBadUrlRemnants(),uv;if(a===pg)if(Cc(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),uv;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;cv(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===hp||e===wo)return;Cc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=An.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===wo||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===fw)return this._value.splice(0,n),dfe;if(a===pg){var i=this._value[n+1];i!==wo&&i!==void 0&&(i===fw?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Cc(a,i)&&(r+=this.consumeStringSlice(n),r+=An(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=gx,n=this.peekCodePoint(0);for((n===gu||n===ua)&&e.push(this.consumeCodePoint());Ss(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===u0&&Ss(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=LO;Ss(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===DH||n===LH)&&((a===gu||a===ua)&&Ss(i)||Ss(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=LO;Ss(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Jhe(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(dv(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===yhe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ZA(e)){for(var r=An(e);ZA(this.peekCodePoint(0))&&r.length<6;)r+=An(this.consumeCodePoint());cv(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Vhe(n)||n>1114111?UO:n}return e===wo?UO:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(RO(r))e+=An(r);else if(Cc(r,this.peekCodePoint(0)))e+=An(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),QH=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new RH;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||yfe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?G4:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),xx=function(t){return t.type===15},im=function(t){return t.type===17},xr=function(t){return t.type===20},xfe=function(t){return t.type===0},X4=function(t,e){return xr(t)&&t.value===e},$H=function(t){return t.type!==31},wf=function(t){return t.type!==31&&t.type!==4},Ho=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},yfe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},hd=function(t){return t.type===17||t.type===15},Bn=function(t){return t.type===16||hd(t)},HH=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},As={type:17,number:0,flags:gx},IE={type:16,number:50,flags:gx},Dc={type:16,number:100,flags:gx},$p=function(t,e,r){var n=t[0],a=t[1];return[Br(n,e),Br(typeof a<"u"?a:n,r)]},Br=function(t,e){if(t.type===16)return t.number/100*e;if(xx(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},zH="deg",qH="grad",VH="rad",KH="turn",m2={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case zH:return Math.PI*e.number/180;case qH:return Math.PI/200*e.number;case VH:return e.number;case KH:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},WH=function(t){return t.type===15&&(t.unit===zH||t.unit===qH||t.unit===VH||t.unit===KH)},GH=function(t){var e=t.filter(xr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[As,As];case"to top":case"bottom":return hi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[As,Dc];case"to right":case"left":return hi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Dc,Dc];case"to bottom":case"top":return hi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Dc,As];case"to left":case"right":return hi(270)}return 0},hi=function(t){return Math.PI*t/180},td={name:"color",parse:function(t,e){if(e.type===18){var r=vfe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return Uc(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return Uc(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return Uc(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return Uc(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=Bl[e.value.toUpperCase()];if(typeof l<"u")return l}return Bl.TRANSPARENT}},rd=function(t){return(255&t)===0},Xn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},Uc=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},QO=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},$O=function(t,e){var r=e.filter(wf);if(r.length===3){var n=r.map(QO),a=n[0],i=n[1],o=n[2];return Uc(a,i,o,1)}if(r.length===4){var l=r.map(QO),a=l[0],i=l[1],o=l[2],c=l[3];return Uc(a,i,o,c)}return 0};function L_(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var HO=function(t,e){var r=e.filter(wf),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?hi(n.number):m2.parse(t,n))/(Math.PI*2),c=Bn(a)?a.number/100:0,d=Bn(i)?i.number/100:0,u=typeof o<"u"&&Bn(o)?Br(o,1):1;if(c===0)return Uc(d*255,d*255,d*255,1);var A=d<=.5?d*(c+1):d+c-d*c,h=d*2-A,f=L_(h,A,l+1/3),g=L_(h,A,l),x=L_(h,A,l-1/3);return Uc(f*255,g*255,x*255,u)},vfe={hsl:HO,hsla:HO,rgb:$O,rgba:$O},gg=function(t,e){return td.parse(t,QH.create(e).parseComponentValue())},Bl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},bfe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(xr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wfe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},p2=function(t,e){var r=td.parse(t,e[0]),n=e[1];return n&&Bn(n)?{color:r,stop:n}:{color:r,stop:null}},zO=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=As),n.stop===null&&(n.stop=Dc);for(var a=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=Br(l,e);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var A=o-d,h=a[d-1],f=(u-h)/(A+1),g=1;g<=A;g++)a[d+g-1]=f*g;d=null}}return t.map(function(x,m){var p=x.color;return{color:p,stop:Math.max(Math.min(1,a[m]/e),0)}})},jfe=function(t,e,r){var n=e/2,a=r/2,i=Br(t[0],e)-n,o=a-Br(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Nfe=function(t,e,r){var n=typeof t=="number"?t:jfe(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},$i=function(t,e){return Math.sqrt(t*t+e*e)},qO=function(t,e,r,n,a){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=$i(r-c,n-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},_fe=function(t,e,r,n,a){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)i=o=Math.min($i(e,r),$i(e,r-a),$i(e-n,r),$i(e-n,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=qO(n,a,e,r,!0),d=c[0],u=c[1];i=$i(d-e,(u-r)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)i=o=Math.max($i(e,r),$i(e,r-a),$i(e-n,r),$i(e-n,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),A=qO(n,a,e,r,!1),d=A[0],u=A[1];i=$i(d-e,(u-r)/l),o=l*i}break}return Array.isArray(t.size)&&(i=Br(t.size[0],n),o=t.size.length===2?Br(t.size[1],a):i),[i,o]},Cfe=function(t,e){var r=hi(180),n=[];return Ho(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=GH(a);return}else if(WH(o)){r=m2.parse(t,o);return}}var l=p2(t,a);n.push(l)}),{angle:r,stops:n,type:1}},Av=function(t,e){var r=hi(180),n=[];return Ho(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=GH(a);return}else if(WH(o)){r=(m2.parse(t,o)+hi(270))%hi(360);return}}var l=p2(t,a);n.push(l)}),{angle:r,stops:n,type:1}},Sfe=function(t,e){var r=hi(180),n=[],a=1,i=0,o=3,l=[];return Ho(e).forEach(function(c,d){var u=c[0];if(d===0){if(xr(u)&&u.value==="linear"){a=1;return}else if(xr(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var A=td.parse(t,u.values[0]);n.push({stop:As,color:A})}else if(u.name==="to"){var A=td.parse(t,u.values[0]);n.push({stop:Dc,color:A})}else if(u.name==="color-stop"){var h=u.values.filter(wf);if(h.length===2){var A=td.parse(t,h[1]),f=h[0];im(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:A})}}}}),a===1?{angle:(r+hi(180))%hi(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},XH="closest-side",YH="farthest-side",JH="closest-corner",ZH="farthest-corner",ez="circle",tz="ellipse",rz="cover",nz="contain",Bfe=function(t,e){var r=0,n=3,a=[],i=[];return Ho(e).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(A,h){if(d)if(xr(h))switch(h.value){case"center":return i.push(IE),A;case"top":case"left":return i.push(As),A;case"right":case"bottom":return i.push(Dc),A}else(Bn(h)||hd(h))&&i.push(h);else if(xr(h))switch(h.value){case ez:return r=0,!1;case tz:return r=1,!1;case"at":return d=!0,!1;case XH:return n=0,!1;case rz:case YH:return n=1,!1;case nz:case JH:return n=2,!1;case ZH:return n=3,!1}else if(hd(h)||Bn(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return A},c)}if(c){var u=p2(t,o);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},hv=function(t,e){var r=0,n=3,a=[],i=[];return Ho(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,A){if(xr(A))switch(A.value){case"center":return i.push(IE),!1;case"top":case"left":return i.push(As),!1;case"right":case"bottom":return i.push(Dc),!1}else if(Bn(A)||hd(A))return i.push(A),!1;return u},c):l===1&&(c=o.reduce(function(u,A){if(xr(A))switch(A.value){case ez:return r=0,!1;case tz:return r=1,!1;case nz:case XH:return n=0,!1;case YH:return n=1,!1;case JH:return n=2,!1;case rz:case ZH:return n=3,!1}else if(hd(A)||Bn(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return u},c)),c){var d=p2(t,o);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},Efe=function(t){return t.type===1},kfe=function(t){return t.type===2},LE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=sz[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Ffe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!sz[t.name])}var sz={"linear-gradient":Cfe,"-moz-linear-gradient":Av,"-ms-linear-gradient":Av,"-o-linear-gradient":Av,"-webkit-linear-gradient":Av,"radial-gradient":Bfe,"-moz-radial-gradient":hv,"-ms-radial-gradient":hv,"-o-radial-gradient":hv,"-webkit-radial-gradient":hv,"-webkit-gradient":Sfe},Pfe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return wf(n)&&Ffe(n)}).map(function(n){return LE.parse(t,n)})}},Tfe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(xr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ofe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Ho(e).map(function(r){return r.filter(Bn)}).map(HH)}},Ife={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Ho(e).map(function(r){return r.filter(xr).map(function(n){return n.value}).join(" ")}).map(Lfe)}},Lfe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},nf;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(nf||(nf={}));var Mfe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Ho(e).map(function(r){return r.filter(Dfe)})}},Dfe=function(t){return xr(t)||Bn(t)},g2=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ufe=g2("top"),Rfe=g2("right"),Qfe=g2("bottom"),$fe=g2("left"),x2=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return HH(r.filter(Bn))}}},Hfe=x2("top-left"),zfe=x2("top-right"),qfe=x2("bottom-right"),Vfe=x2("bottom-left"),y2=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Kfe=y2("top"),Wfe=y2("right"),Gfe=y2("bottom"),Xfe=y2("left"),v2=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return xx(r)?r.number:0}}},Yfe=v2("top"),Jfe=v2("right"),Zfe=v2("bottom"),eme=v2("left"),tme={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},rme={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},nme={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(xr).reduce(function(r,n){return r|sme(n.value)},0)}},sme=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ame={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ime={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},pw;(function(t){t.NORMAL="normal",t.STRICT="strict"})(pw||(pw={}));var ome={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return pw.STRICT;case"normal":default:return pw.NORMAL}}},lme={name:"line-height",initialValue:"normal",prefix:!1,type:4},VO=function(t,e){return xr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Bn(t)?Br(t,e):e},cme={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:LE.parse(t,e)}},dme={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Y4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},b2=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},ume=b2("top"),Ame=b2("right"),hme=b2("bottom"),fme=b2("left"),mme={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(xr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},pme={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},w2=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},gme=w2("top"),xme=w2("right"),yme=w2("bottom"),vme=w2("left"),bme={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},wme={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},jme={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&X4(e[0],"none")?[]:Ho(e).map(function(r){for(var n={color:Bl.TRANSPARENT,offsetX:As,offsetY:As,blur:As},a=0,i=0;i<r.length;i++){var o=r[i];hd(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=td.parse(t,o)}return n})}},Nme={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_me={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=Bme[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Cme=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Sme=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,a,i,o,l]:null},Bme={matrix:Cme,matrix3d:Sme},KO={type:16,number:50,flags:gx},Eme=[KO,KO],kme={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Bn);return r.length!==2?Eme:[r[0],r[1]]}},Fme={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},xg;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(xg||(xg={}));var Pme={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return xg.BREAK_ALL;case"keep-all":return xg.KEEP_ALL;case"normal":default:return xg.NORMAL}}},Tme={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(im(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},az={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Ome={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return im(e)?e.number:1}},Ime={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lme={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(xr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Mme={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Dme={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ume={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(im(e))return e.number;if(xr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Rme={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(xr).map(function(r){return r.value})}},Qme={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Rn=function(t,e){return(t&e)!==0},$me={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Hme={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter($H),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&im(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},zme={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter($H),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(xr(i)&&i.value!=="none"){var l=o&&im(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},qme={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(xx).map(function(r){return az.parse(t,r)})}},Vme={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(xfe);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},WO=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},Kme={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&X4(e[0],"none")?[]:Ho(e).map(function(r){for(var n={color:255,offsetX:As,offsetY:As,blur:As,spread:As,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];X4(o,"inset")?n.inset=!0:hd(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=td.parse(t,o)}return n})}},Wme={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(xr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},Gme={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Xme={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return xx(e)?e.number:0}},Yme=function(){function t(e,r){var n,a;this.animationDuration=st(e,qme,r.animationDuration),this.backgroundClip=st(e,bfe,r.backgroundClip),this.backgroundColor=st(e,wfe,r.backgroundColor),this.backgroundImage=st(e,Pfe,r.backgroundImage),this.backgroundOrigin=st(e,Tfe,r.backgroundOrigin),this.backgroundPosition=st(e,Ofe,r.backgroundPosition),this.backgroundRepeat=st(e,Ife,r.backgroundRepeat),this.backgroundSize=st(e,Mfe,r.backgroundSize),this.borderTopColor=st(e,Ufe,r.borderTopColor),this.borderRightColor=st(e,Rfe,r.borderRightColor),this.borderBottomColor=st(e,Qfe,r.borderBottomColor),this.borderLeftColor=st(e,$fe,r.borderLeftColor),this.borderTopLeftRadius=st(e,Hfe,r.borderTopLeftRadius),this.borderTopRightRadius=st(e,zfe,r.borderTopRightRadius),this.borderBottomRightRadius=st(e,qfe,r.borderBottomRightRadius),this.borderBottomLeftRadius=st(e,Vfe,r.borderBottomLeftRadius),this.borderTopStyle=st(e,Kfe,r.borderTopStyle),this.borderRightStyle=st(e,Wfe,r.borderRightStyle),this.borderBottomStyle=st(e,Gfe,r.borderBottomStyle),this.borderLeftStyle=st(e,Xfe,r.borderLeftStyle),this.borderTopWidth=st(e,Yfe,r.borderTopWidth),this.borderRightWidth=st(e,Jfe,r.borderRightWidth),this.borderBottomWidth=st(e,Zfe,r.borderBottomWidth),this.borderLeftWidth=st(e,eme,r.borderLeftWidth),this.boxShadow=st(e,Kme,r.boxShadow),this.color=st(e,tme,r.color),this.direction=st(e,rme,r.direction),this.display=st(e,nme,r.display),this.float=st(e,ame,r.cssFloat),this.fontFamily=st(e,Mme,r.fontFamily),this.fontSize=st(e,Dme,r.fontSize),this.fontStyle=st(e,Qme,r.fontStyle),this.fontVariant=st(e,Rme,r.fontVariant),this.fontWeight=st(e,Ume,r.fontWeight),this.letterSpacing=st(e,ime,r.letterSpacing),this.lineBreak=st(e,ome,r.lineBreak),this.lineHeight=st(e,lme,r.lineHeight),this.listStyleImage=st(e,cme,r.listStyleImage),this.listStylePosition=st(e,dme,r.listStylePosition),this.listStyleType=st(e,Y4,r.listStyleType),this.marginTop=st(e,ume,r.marginTop),this.marginRight=st(e,Ame,r.marginRight),this.marginBottom=st(e,hme,r.marginBottom),this.marginLeft=st(e,fme,r.marginLeft),this.opacity=st(e,Ome,r.opacity);var i=st(e,mme,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=st(e,pme,r.overflowWrap),this.paddingTop=st(e,gme,r.paddingTop),this.paddingRight=st(e,xme,r.paddingRight),this.paddingBottom=st(e,yme,r.paddingBottom),this.paddingLeft=st(e,vme,r.paddingLeft),this.paintOrder=st(e,Wme,r.paintOrder),this.position=st(e,wme,r.position),this.textAlign=st(e,bme,r.textAlign),this.textDecorationColor=st(e,Ime,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=st(e,Lme,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=st(e,jme,r.textShadow),this.textTransform=st(e,Nme,r.textTransform),this.transform=st(e,_me,r.transform),this.transformOrigin=st(e,kme,r.transformOrigin),this.visibility=st(e,Fme,r.visibility),this.webkitTextStrokeColor=st(e,Gme,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=st(e,Xme,r.webkitTextStrokeWidth),this.wordBreak=st(e,Pme,r.wordBreak),this.zIndex=st(e,Tme,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return rd(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Rn(this.display,4)||Rn(this.display,33554432)||Rn(this.display,268435456)||Rn(this.display,536870912)||Rn(this.display,67108864)||Rn(this.display,134217728)},t}(),Jme=function(){function t(e,r){this.content=st(e,$me,r.content),this.quotes=st(e,Vme,r.quotes)}return t}(),GO=function(){function t(e,r){this.counterIncrement=st(e,Hme,r.counterIncrement),this.counterReset=st(e,zme,r.counterReset)}return t}(),st=function(t,e,r){var n=new RH,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var i=new QH(n.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,xr(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return m2.parse(t,i.parseComponentValue());case"color":return td.parse(t,i.parseComponentValue());case"image":return LE.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return hd(l)?l:As;case"length-percentage":var c=i.parseComponentValue();return Bn(c)?c:As;case"time":return az.parse(t,i.parseComponentValue())}break}},Zme="data-html2canvas-debug",epe=function(t){var e=t.getAttribute(Zme);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},J4=function(t,e){var r=epe(t);return r===1||e===r},zo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,J4(r,3))debugger;this.styles=new Yme(e,window.getComputedStyle(r,null)),tS(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=h2(this.context,r),J4(r,4)&&(this.flags|=16)}return t}(),tpe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",XO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fv=0;fv<XO.length;fv++)Hp[XO.charCodeAt(fv)]=fv;var rpe=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=Hp[t.charCodeAt(n)],o=Hp[t.charCodeAt(n+1)],l=Hp[t.charCodeAt(n+2)],c=Hp[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},npe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},spe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Fu=5,ME=11,M_=2,ape=ME-Fu,iz=65536>>Fu,ipe=1<<Fu,D_=ipe-1,ope=1024>>Fu,lpe=iz+ope,cpe=lpe,dpe=32,upe=cpe+dpe,Ape=65536>>ME,hpe=1<<ape,fpe=hpe-1,YO=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},mpe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},ppe=function(t,e){var r=rpe(t),n=Array.isArray(r)?spe(r):new Uint32Array(r),a=Array.isArray(r)?npe(r):new Uint16Array(r),i=24,o=YO(a,i/2,n[4]/2),l=n[5]===2?YO(a,(i+n[4])/2):mpe(n,Math.ceil((i+n[4])/4));return new gpe(n[0],n[1],n[2],n[3],o,l)},gpe=function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Fu],r=(r<<M_)+(e&D_),this.data[r];if(e<=65535)return r=this.index[iz+(e-55296>>Fu)],r=(r<<M_)+(e&D_),this.data[r];if(e<this.highStart)return r=upe-Ape+(e>>ME),r=this.index[r],r+=e>>Fu&fpe,r=this.index[r],r=(r<<M_)+(e&D_),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),JO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mv=0;mv<JO.length;mv++)xpe[JO.charCodeAt(mv)]=mv;var ype=1,U_=2,R_=3,ZO=4,eI=5,vpe=7,tI=8,Q_=9,$_=10,rI=11,nI=12,sI=13,aI=14,H_=15,bpe=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},wpe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},jpe=ppe(tpe),ai="×",z_="÷",Npe=function(t){return jpe.get(t)},_pe=function(t,e,r){var n=r-2,a=e[n],i=e[r-1],o=e[r];if(i===U_&&o===R_)return ai;if(i===U_||i===R_||i===ZO||o===U_||o===R_||o===ZO)return z_;if(i===tI&&[tI,Q_,rI,nI].indexOf(o)!==-1||(i===rI||i===Q_)&&(o===Q_||o===$_)||(i===nI||i===$_)&&o===$_||o===sI||o===eI||o===vpe||i===ype)return ai;if(i===sI&&o===aI){for(;a===eI;)a=e[--n];if(a===aI)return ai}if(i===H_&&o===H_){for(var l=0;a===H_;)l++,a=e[--n];if(l%2===0)return ai}return z_},Cpe=function(t){var e=bpe(t),r=e.length,n=0,a=0,i=e.map(Npe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=ai;n<r&&(o=_pe(e,i,++n))===ai;);if(o!==ai||n===r){var l=wpe.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},Spe=function(t){for(var e=Cpe(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Bpe=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(n),i===e)return!0}}return!1},Epe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=f2(n.data).map(function(c){return An(c)}),i=0,o={},l=a.every(function(c,d){r.setStart(n,i),r.setEnd(n,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var A=u.x>o.x||u.y>o.y;return o=u,d===0?!0:A});return t.body.removeChild(e),l},kpe=function(){return typeof new Image().crossOrigin<"u"},Fpe=function(){return typeof new XMLHttpRequest().responseType=="string"},Ppe=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},iI=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Tpe=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=e.toDataURL();a.src=i;var o=Z4(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),oI(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",iI(c)?oI(Z4(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),iI(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Z4=function(t,e,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},oI=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ds={get SUPPORT_RANGE_BOUNDS(){var t=Bpe(document);return Object.defineProperty(ds,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ds.SUPPORT_RANGE_BOUNDS&&Epe(document);return Object.defineProperty(ds,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Ppe(document);return Object.defineProperty(ds,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Tpe(document):Promise.resolve(!1);return Object.defineProperty(ds,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=kpe();return Object.defineProperty(ds,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Fpe();return Object.defineProperty(ds,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ds,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ds,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},yg=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Ope=function(t,e,r,n){var a=Mpe(e,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(ds.SUPPORT_RANGE_BOUNDS){var c=lI(n,o,l.length).getClientRects();if(c.length>1){var d=DE(l),u=0;d.forEach(function(h){i.push(new yg(h,Rl.fromDOMRectList(t,lI(n,u+o,h.length).getClientRects()))),u+=h.length})}else i.push(new yg(l,Rl.fromDOMRectList(t,c)))}else{var A=n.splitText(l.length);i.push(new yg(l,Ipe(t,n))),n=A}else ds.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},Ipe=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var i=h2(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return Rl.EMPTY},lI=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},DE=function(t){if(ds.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Spe(t)},Lpe=function(t,e){if(ds.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Upe(t,e)},Mpe=function(t,e){return e.letterSpacing!==0?DE(t):Lpe(t,e)},Dpe=[32,160,4961,65792,65793,4153,4241],Upe=function(t,e){for(var r=Ahe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=f2(o),c="";l.forEach(function(d){Dpe.indexOf(d)===-1?c+=An(d):(c.length&&n.push(c),n.push(An(d)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},Rpe=function(){function t(e,r,n){this.text=Qpe(r.data,n.textTransform),this.textBounds=Ope(e,this.text,n,r)}return t}(),Qpe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace($pe,Hpe);case 2:return t.toUpperCase();default:return t}},$pe=/(^|\s|:|-|\(|\))([a-z])/g,Hpe=function(t,e,r){return t.length>0?e+r.toUpperCase():t},oz=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e}(zo),lz=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e}(zo),cz=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=new XMLSerializer,o=h2(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e}(zo),dz=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(zo),eS=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e}(zo),zpe=[{type:15,flags:0,unit:"px",number:3}],qpe=[{type:16,flags:0,number:50}],Vpe=function(t){return t.width>t.height?new Rl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Rl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Kpe=function(t){var e=t.type===Wpe?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},gw="checkbox",xw="radio",Wpe="password",cI=707406591,UE=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=Kpe(n),(a.type===gw||a.type===xw)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Vpe(a.bounds)),a.type){case gw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=zpe;break;case xw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=qpe;break}return a}return e}(zo),uz=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return e}(zo),Az=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(zo),hz=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=mz(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?gg(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Bl.TRANSPARENT,o=n.contentWindow.document.body?gg(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Bl.TRANSPARENT;a.backgroundColor=rd(i)?rd(o)?a.styles.backgroundColor:o:i}}catch{}return a}return e}(zo),Gpe=["OL","UL","MENU"],yb=function(t,e,r,n){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,pz(a)&&a.data.trim().length>0)r.textNodes.push(new Rpe(t,a,r.styles));else if(Oh(a))if(vz(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return yb(t,l,r,n)});else{var o=fz(t,a);o.styles.isVisible()&&(Xpe(a,o,n)?o.flags|=4:Ype(o.styles)&&(o.flags|=2),Gpe.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?yb(t,a.shadowRoot,o,n):!yw(a)&&!gz(a)&&!vw(a)&&yb(t,a,o,n))}},fz=function(t,e){return rS(e)?new oz(t,e):xz(e)?new lz(t,e):gz(e)?new cz(t,e):Jpe(e)?new dz(t,e):Zpe(e)?new eS(t,e):ege(e)?new UE(t,e):vw(e)?new uz(t,e):yw(e)?new Az(t,e):yz(e)?new hz(t,e):new zo(t,e)},mz=function(t,e){var r=fz(t,e);return r.flags|=4,yb(t,e,r,r),r},Xpe=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||RE(t)&&r.styles.isTransparent()},Ype=function(t){return t.isPositioned()||t.isFloating()},pz=function(t){return t.nodeType===Node.TEXT_NODE},Oh=function(t){return t.nodeType===Node.ELEMENT_NODE},tS=function(t){return Oh(t)&&typeof t.style<"u"&&!vb(t)},vb=function(t){return typeof t.className=="object"},Jpe=function(t){return t.tagName==="LI"},Zpe=function(t){return t.tagName==="OL"},ege=function(t){return t.tagName==="INPUT"},tge=function(t){return t.tagName==="HTML"},gz=function(t){return t.tagName==="svg"},RE=function(t){return t.tagName==="BODY"},xz=function(t){return t.tagName==="CANVAS"},dI=function(t){return t.tagName==="VIDEO"},rS=function(t){return t.tagName==="IMG"},yz=function(t){return t.tagName==="IFRAME"},uI=function(t){return t.tagName==="STYLE"},rge=function(t){return t.tagName==="SCRIPT"},yw=function(t){return t.tagName==="TEXTAREA"},vw=function(t){return t.tagName==="SELECT"},vz=function(t){return t.tagName==="SLOT"},AI=function(t){return t.tagName.indexOf("-")>0},nge=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),hI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},fI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},sge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},age={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},eh=function(t,e,r,n,a,i){return t<e||t>r?A0(t,a,i.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+i},bz=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},dn=function(t,e,r,n,a){var i=r-e+1;return(t<0?"-":"")+(bz(Math.abs(t),i,n,function(o){return An(Math.floor(o%i)+e)})+a)},Qd=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return bz(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},hh=1,wc=2,jc=4,zp=8,il=function(t,e,r,n,a,i){if(t<-9999||t>9999)return A0(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&Rn(i,hh)&&l!==""?l=e[d]+l:d>1||d===1&&c===0||d===1&&c===1&&Rn(i,wc)||d===1&&c===1&&Rn(i,jc)&&t>100||d===1&&c>1&&Rn(i,zp)?l=e[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},mI="十百千萬",pI="拾佰仟萬",gI="マイナス",q_="마이너스",A0=function(t,e,r){var n=r?". ":"",a=r?"、":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=dn(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Qd(t,"〇一二三四五六七八九",a);case 6:return eh(t,1,3999,hI,3,n).toLowerCase();case 7:return eh(t,1,3999,hI,3,n);case 8:return dn(t,945,969,!1,n);case 9:return dn(t,97,122,!1,n);case 10:return dn(t,65,90,!1,n);case 11:return dn(t,1632,1641,!0,n);case 12:case 49:return eh(t,1,9999,fI,3,n);case 35:return eh(t,1,9999,fI,3,n).toLowerCase();case 13:return dn(t,2534,2543,!0,n);case 14:case 30:return dn(t,6112,6121,!0,n);case 15:return Qd(t,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return Qd(t,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return il(t,"零一二三四五六七八九",mI,"負",a,wc|jc|zp);case 47:return il(t,"零壹貳參肆伍陸柒捌玖",pI,"負",a,hh|wc|jc|zp);case 42:return il(t,"零一二三四五六七八九",mI,"负",a,wc|jc|zp);case 41:return il(t,"零壹贰叁肆伍陆柒捌玖",pI,"负",a,hh|wc|jc|zp);case 26:return il(t,"〇一二三四五六七八九","十百千万",gI,a,0);case 25:return il(t,"零壱弐参四伍六七八九","拾百千万",gI,a,hh|wc|jc);case 31:return il(t,"영일이삼사오육칠팔구","십백천만",q_,i,hh|wc|jc);case 33:return il(t,"零一二三四五六七八九","十百千萬",q_,i,0);case 32:return il(t,"零壹貳參四五六七八九","拾百千",q_,i,hh|wc|jc);case 18:return dn(t,2406,2415,!0,n);case 20:return eh(t,1,19999,age,3,n);case 21:return dn(t,2790,2799,!0,n);case 22:return dn(t,2662,2671,!0,n);case 22:return eh(t,1,10999,sge,3,n);case 23:return Qd(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Qd(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return dn(t,3302,3311,!0,n);case 28:return Qd(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return Qd(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return dn(t,3792,3801,!0,n);case 37:return dn(t,6160,6169,!0,n);case 38:return dn(t,4160,4169,!0,n);case 39:return dn(t,2918,2927,!0,n);case 40:return dn(t,1776,1785,!0,n);case 43:return dn(t,3046,3055,!0,n);case 44:return dn(t,3174,3183,!0,n);case 45:return dn(t,3664,3673,!0,n);case 46:return dn(t,3872,3881,!0,n);case 3:default:return dn(t,48,57,!0,n)}},wz="data-html2canvas-ignore",xI=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new nge,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=ige(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=cge(a).then(function(){return Hs(n,void 0,void 0,function(){var u,A;return Ns(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(hge),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,lge(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,A)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(uge(document.doctype)+"<html></html>"),Age(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(e){if(J4(e,2))debugger;if(xz(e))return this.createCanvasClone(e);if(dI(e))return this.createVideoClone(e);if(uI(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return rS(r)&&(rS(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),AI(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return V_(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!Oh(r)||!rge(r)&&!r.hasAttribute(wz)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Oh(r)||!uI(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Oh(i)&&vz(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(pz(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Oh(e)&&(tS(e)||vb(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&tS(a)&&(this.clonedReferenceElement=a),RE(a)&&pge(a);var c=this.counters.parse(new GO(this.context,i)),d=this.resolvePseudoContent(e,a,o,vg.BEFORE);AI(e)&&(r=!0),dI(e)||this.cloneChildNodes(e,a,r),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(e,a,l,vg.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||vb(e))&&!yz(e)||r)&&V_(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(yw(e)||vw(e))&&(yw(a)||vw(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new GO(this.context,n));var c=new Jme(this.context,n),d=l.createElement("html2canvaspseudoelement");V_(n,d),c.content.forEach(function(A){if(A.type===0)d.appendChild(l.createTextNode(A.value));else if(A.type===22){var h=l.createElement("img");h.src=A.value,h.style.opacity="1",d.appendChild(h)}else if(A.type===18){if(A.name==="attr"){var f=A.values.filter(xr);f.length&&d.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(A.name==="counter"){var g=A.values.filter(wf),x=g[0],m=g[1];if(x&&xr(x)){var p=i.counters.getCounterValue(x.value),y=m&&xr(m)?Y4.parse(i.context,m.value):3;d.appendChild(l.createTextNode(A0(p,y,!1)))}}else if(A.name==="counters"){var w=A.values.filter(wf),x=w[0],S=w[1],m=w[2];if(x&&xr(x)){var j=i.counters.getCounterValues(x.value),_=m&&xr(m)?Y4.parse(i.context,m.value):3,F=S&&S.type===0?S.value:"",C=j.map(function(v){return A0(v,_,!1)}).join(F);d.appendChild(l.createTextNode(C))}}}else if(A.type===20)switch(A.value){case"open-quote":d.appendChild(l.createTextNode(WO(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(WO(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(A.value))}}),d.className=nS+" "+sS;var u=a===vg.BEFORE?" "+nS:" "+sS;return vb(r)?r.className.baseValue+=u:r.className+=u,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),vg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(vg||(vg={}));var ige=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(wz,"true"),t.body.appendChild(r),r},oge=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},lge=function(t){return Promise.all([].slice.call(t.images,0).map(oge))},cge=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},dge=["all","d","content"],V_=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);dge.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},uge=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Age=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},hge=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},fge=":before",mge=":after",nS="___html2canvas___pseudoelement_before",sS="___html2canvas___pseudoelement_after",yI=`{
    content: "" !important;
    display: none !important;
}`,pge=function(t){gge(t,"."+nS+fge+yI+`
         .`+sS+mge+yI)},gge=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},jz=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),xge=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(W_(e)||wge(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Hs(this,void 0,void 0,function(){var r,n,a,i,o=this;return Ns(this,function(l){switch(l.label){case 0:return r=jz.isSameOrigin(e),n=!K_(e)&&this._options.useCORS===!0&&ds.SUPPORT_CORS_IMAGES&&!r,a=!K_(e)&&!r&&!W_(e)&&typeof this._options.proxy=="string"&&ds.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!K_(e)&&!W_(e)&&!a&&!n?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(jge(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,o){var l=ds.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var A=new FileReader;A.addEventListener("load",function(){return i(A.result)},!1),A.addEventListener("error",function(h){return o(h)},!1),A.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},t}(),yge=/^data:image\/svg\+xml/i,vge=/^data:image\/.*;base64,/i,bge=/^data:image\/.*/i,wge=function(t){return ds.SUPPORT_SVG_DRAWING||!Nge(t)},K_=function(t){return bge.test(t)},jge=function(t){return vge.test(t)},W_=function(t){return t.substr(0,4)==="blob"},Nge=function(t){return t.substr(-3).toLowerCase()==="svg"||yge.test(t)},tt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),th=function(t,e,r){return new tt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},pv=function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=th(this.start,this.startControl,e),a=th(this.startControl,this.endControl,e),i=th(this.endControl,this.end,e),o=th(n,a,e),l=th(a,i,e),c=th(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ci=function(t){return t.type===1},_ge=function(){function t(e){var r=e.styles,n=e.bounds,a=$p(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=$p(r.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=$p(r.borderBottomRightRadius,n.width,n.height),A=u[0],h=u[1],f=$p(r.borderBottomLeftRadius,n.width,n.height),g=f[0],x=f[1],m=[];m.push((i+c)/n.width),m.push((g+A)/n.width),m.push((o+x)/n.height),m.push((d+h)/n.height);var p=Math.max.apply(Math,m);p>1&&(i/=p,o/=p,c/=p,d/=p,A/=p,h/=p,g/=p,x/=p);var y=n.width-c,w=n.height-h,S=n.width-A,j=n.height-x,_=r.borderTopWidth,F=r.borderRightWidth,C=r.borderBottomWidth,E=r.borderLeftWidth,T=Br(r.paddingTop,e.bounds.width),v=Br(r.paddingRight,e.bounds.width),N=Br(r.paddingBottom,e.bounds.width),O=Br(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Ur(n.left+E/3,n.top+_/3,i-E/3,o-_/3,sr.TOP_LEFT):new tt(n.left+E/3,n.top+_/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Ur(n.left+y,n.top+_/3,c-F/3,d-_/3,sr.TOP_RIGHT):new tt(n.left+n.width-F/3,n.top+_/3),this.bottomRightBorderDoubleOuterBox=A>0||h>0?Ur(n.left+S,n.top+w,A-F/3,h-C/3,sr.BOTTOM_RIGHT):new tt(n.left+n.width-F/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=g>0||x>0?Ur(n.left+E/3,n.top+j,g-E/3,x-C/3,sr.BOTTOM_LEFT):new tt(n.left+E/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Ur(n.left+E*2/3,n.top+_*2/3,i-E*2/3,o-_*2/3,sr.TOP_LEFT):new tt(n.left+E*2/3,n.top+_*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Ur(n.left+y,n.top+_*2/3,c-F*2/3,d-_*2/3,sr.TOP_RIGHT):new tt(n.left+n.width-F*2/3,n.top+_*2/3),this.bottomRightBorderDoubleInnerBox=A>0||h>0?Ur(n.left+S,n.top+w,A-F*2/3,h-C*2/3,sr.BOTTOM_RIGHT):new tt(n.left+n.width-F*2/3,n.top+n.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||x>0?Ur(n.left+E*2/3,n.top+j,g-E*2/3,x-C*2/3,sr.BOTTOM_LEFT):new tt(n.left+E*2/3,n.top+n.height-C*2/3),this.topLeftBorderStroke=i>0||o>0?Ur(n.left+E/2,n.top+_/2,i-E/2,o-_/2,sr.TOP_LEFT):new tt(n.left+E/2,n.top+_/2),this.topRightBorderStroke=i>0||o>0?Ur(n.left+y,n.top+_/2,c-F/2,d-_/2,sr.TOP_RIGHT):new tt(n.left+n.width-F/2,n.top+_/2),this.bottomRightBorderStroke=A>0||h>0?Ur(n.left+S,n.top+w,A-F/2,h-C/2,sr.BOTTOM_RIGHT):new tt(n.left+n.width-F/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=g>0||x>0?Ur(n.left+E/2,n.top+j,g-E/2,x-C/2,sr.BOTTOM_LEFT):new tt(n.left+E/2,n.top+n.height-C/2),this.topLeftBorderBox=i>0||o>0?Ur(n.left,n.top,i,o,sr.TOP_LEFT):new tt(n.left,n.top),this.topRightBorderBox=c>0||d>0?Ur(n.left+y,n.top,c,d,sr.TOP_RIGHT):new tt(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||h>0?Ur(n.left+S,n.top+w,A,h,sr.BOTTOM_RIGHT):new tt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||x>0?Ur(n.left,n.top+j,g,x,sr.BOTTOM_LEFT):new tt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Ur(n.left+E,n.top+_,Math.max(0,i-E),Math.max(0,o-_),sr.TOP_LEFT):new tt(n.left+E,n.top+_),this.topRightPaddingBox=c>0||d>0?Ur(n.left+Math.min(y,n.width-F),n.top+_,y>n.width+F?0:Math.max(0,c-F),Math.max(0,d-_),sr.TOP_RIGHT):new tt(n.left+n.width-F,n.top+_),this.bottomRightPaddingBox=A>0||h>0?Ur(n.left+Math.min(S,n.width-E),n.top+Math.min(w,n.height-C),Math.max(0,A-F),Math.max(0,h-C),sr.BOTTOM_RIGHT):new tt(n.left+n.width-F,n.top+n.height-C),this.bottomLeftPaddingBox=g>0||x>0?Ur(n.left+E,n.top+Math.min(j,n.height-C),Math.max(0,g-E),Math.max(0,x-C),sr.BOTTOM_LEFT):new tt(n.left+E,n.top+n.height-C),this.topLeftContentBox=i>0||o>0?Ur(n.left+E+O,n.top+_+T,Math.max(0,i-(E+O)),Math.max(0,o-(_+T)),sr.TOP_LEFT):new tt(n.left+E+O,n.top+_+T),this.topRightContentBox=c>0||d>0?Ur(n.left+Math.min(y,n.width+E+O),n.top+_+T,y>n.width+E+O?0:c-E+O,d-(_+T),sr.TOP_RIGHT):new tt(n.left+n.width-(F+v),n.top+_+T),this.bottomRightContentBox=A>0||h>0?Ur(n.left+Math.min(S,n.width-(E+O)),n.top+Math.min(w,n.height+_+T),Math.max(0,A-(F+v)),h-(C+N),sr.BOTTOM_RIGHT):new tt(n.left+n.width-(F+v),n.top+n.height-(C+N)),this.bottomLeftContentBox=g>0||x>0?Ur(n.left+E+O,n.top+j,Math.max(0,g-(E+O)),x-(C+N),sr.BOTTOM_LEFT):new tt(n.left+E+O,n.top+n.height-(C+N))}return t}(),sr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(sr||(sr={}));var Ur=function(t,e,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=t+r,d=e+n;switch(a){case sr.TOP_LEFT:return new pv(new tt(t,d),new tt(t,d-l),new tt(c-o,e),new tt(c,e));case sr.TOP_RIGHT:return new pv(new tt(t,e),new tt(t+o,e),new tt(c,d-l),new tt(c,d));case sr.BOTTOM_RIGHT:return new pv(new tt(c,e),new tt(c,e+l),new tt(t+o,d),new tt(t,d));case sr.BOTTOM_LEFT:default:return new pv(new tt(c,d),new tt(c-o,d),new tt(t,e+l),new tt(t,e))}},bw=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Cge=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ww=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Sge=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),gv=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Bge=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Ege=function(t){return t.type===0},Nz=function(t){return t.type===1},kge=function(t){return t.type===2},vI=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Fge=function(t,e,r,n,a){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+a);case 3:return i.add(e,r+a)}return i})},_z=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Cz=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new _ge(this.container),this.container.styles.opacity<1&&this.effects.push(new Bge(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Sge(n,a,i))}if(this.container.styles.overflowX!==0){var o=bw(this.curves),l=ww(this.curves);vI(o,l)?this.effects.push(new gv(o,6)):(this.effects.push(new gv(o,2)),this.effects.push(new gv(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!Nz(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=bw(n.curves),l=ww(n.curves);vI(o,l)||a.unshift(new gv(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return Rn(c.target,e)})},t}(),aS=function(t,e,r,n){t.container.elements.forEach(function(a){var i=Rn(a.flags,4),o=Rn(a.flags,2),l=new Cz(a,t);Rn(a.styles.display,2048)&&n.push(l);var c=Rn(a.flags,8)?[]:n;if(i||o){var d=i||a.styles.isPositioned()?r:e,u=new _z(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var A=a.styles.zIndex.order;if(A<0){var h=0;d.negativeZIndex.some(function(g,x){return A>g.element.container.styles.zIndex.order?(h=x,!1):h>0}),d.negativeZIndex.splice(h,0,u)}else if(A>0){var f=0;d.positiveZIndex.some(function(g,x){return A>=g.element.container.styles.zIndex.order?(f=x+1,!1):f>0}),d.positiveZIndex.splice(f,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);aS(l,u,i?u:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),aS(l,e,r,c);Rn(a.flags,8)&&Sz(a,c)})},Sz=function(t,e){for(var r=t instanceof eS?t.start:1,n=t instanceof eS?t.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof dz&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=A0(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},Pge=function(t){var e=new Cz(t,null),r=new _z(e),n=[];return aS(e,r,r,n),Sz(e.container,n),r},bI=function(t,e){switch(e){case 0:return fi(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return fi(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return fi(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return fi(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Tge=function(t,e){switch(e){case 0:return fi(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return fi(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return fi(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return fi(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Oge=function(t,e){switch(e){case 0:return fi(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return fi(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return fi(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return fi(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Ige=function(t,e){switch(e){case 0:return xv(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return xv(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return xv(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return xv(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},xv=function(t,e){var r=[];return ci(t)?r.push(t.subdivide(.5,!1)):r.push(t),ci(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},fi=function(t,e,r,n){var a=[];return ci(t)?a.push(t.subdivide(.5,!1)):a.push(t),ci(r)?a.push(r.subdivide(.5,!0)):a.push(r),ci(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ci(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},Bz=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},jw=function(t){var e=t.styles,r=t.bounds,n=Br(e.paddingLeft,r.width),a=Br(e.paddingRight,r.width),i=Br(e.paddingTop,r.width),o=Br(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+i+o))},Lge=function(t,e){return t===0?e.bounds:t===2?jw(e):Bz(e)},Mge=function(t,e){return t===0?e.bounds:t===2?jw(e):Bz(e)},G_=function(t,e,r){var n=Lge(fh(t.styles.backgroundOrigin,e),t),a=Mge(fh(t.styles.backgroundClip,e),t),i=Dge(fh(t.styles.backgroundSize,e),r,n),o=i[0],l=i[1],c=$p(fh(t.styles.backgroundPosition,e),n.width-o,n.height-l),d=Uge(fh(t.styles.backgroundRepeat,e),c,i,n,a),u=Math.round(n.left+c[0]),A=Math.round(n.top+c[1]);return[d,u,A,o,l]},rh=function(t){return xr(t)&&t.value===nf.AUTO},yv=function(t){return typeof t=="number"},Dge=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Bn(o)&&l&&Bn(l))return[Br(o,r.width),Br(l,r.height)];var c=yv(i);if(xr(o)&&(o.value===nf.CONTAIN||o.value===nf.COVER)){if(yv(i)){var d=r.width/r.height;return d<i!=(o.value===nf.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=yv(n),A=yv(a),h=u||A;if(rh(o)&&(!l||rh(l))){if(u&&A)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var f=u?n:a*i,g=A?a:n/i;return[f,g]}var x=u?n:r.width,m=A?a:r.height;return[x,m]}if(c){var p=0,y=0;return Bn(o)?p=Br(o,r.width):Bn(l)&&(y=Br(l,r.height)),rh(o)?p=y*i:(!l||rh(l))&&(y=p/i),[p,y]}var w=null,S=null;if(Bn(o)?w=Br(o,r.width):l&&Bn(l)&&(S=Br(l,r.height)),w!==null&&(!l||rh(l))&&(S=u&&A?w/n*a:r.height),S!==null&&rh(o)&&(w=u&&A?S/a*n:r.width),w!==null&&S!==null)return[w,S];throw new Error("Unable to calculate background-size for element")},fh=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Uge=function(t,e,r,n,a){var i=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new tt(Math.round(n.left),Math.round(n.top+o)),new tt(Math.round(n.left+n.width),Math.round(n.top+o)),new tt(Math.round(n.left+n.width),Math.round(c+n.top+o)),new tt(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new tt(Math.round(n.left+i),Math.round(n.top)),new tt(Math.round(n.left+i+l),Math.round(n.top)),new tt(Math.round(n.left+i+l),Math.round(n.height+n.top)),new tt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new tt(Math.round(n.left+i),Math.round(n.top+o)),new tt(Math.round(n.left+i+l),Math.round(n.top+o)),new tt(Math.round(n.left+i+l),Math.round(n.top+o+c)),new tt(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new tt(Math.round(a.left),Math.round(a.top)),new tt(Math.round(a.left+a.width),Math.round(a.top)),new tt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new tt(Math.round(a.left),Math.round(a.height+a.top))]}},Rge="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",wI="Hidden Text",Qge=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=Rge,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(wI)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(wI)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),Ez=function(){function t(e,r){this.context=e,this.options=r}return t}(),$ge=1e4,Hge=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Qge(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),kge(r)&&(this.ctx.globalAlpha=r.opacity),Ege(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Nz(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Hs(this,void 0,void 0,function(){var n;return Ns(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Hs(this,void 0,void 0,function(){return Ns(this,function(n){switch(n.label){case 0:if(Rn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=DE(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Wge(r.fontFamily).join(", "),i=xx(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(r,n){return Hs(this,void 0,void 0,function(){var a,i,o,l,c,d,u,A,h=this;return Ns(this,function(f){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,A=n.paintOrder,r.textBounds.forEach(function(g){A.forEach(function(x){switch(x){case 0:h.ctx.fillStyle=Xn(n.color),h.renderTextWithLetterSpacing(g,n.letterSpacing,d);var m=n.textShadow;m.length&&g.text.trim().length&&(m.slice(0).reverse().forEach(function(p){h.ctx.shadowColor=Xn(p.color),h.ctx.shadowOffsetX=p.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=p.offsetY.number*h.options.scale,h.ctx.shadowBlur=p.blur.number,h.renderTextWithLetterSpacing(g,n.letterSpacing,d)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Xn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(p){switch(p){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+d),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+u),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=Xn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+d)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=jw(r),o=ww(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Hs(this,void 0,void 0,function(){var n,a,i,o,l,c,y,y,d,u,A,h,S,f,g,j,x,m,p,y,w,S,j;return Ns(this,function(_){switch(_.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,_.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:_.sent(),_.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof oz))return[3,8];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=_.sent(),this.renderReplacedElement(n,a,y),[3,8];case 7:return _.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof lz&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof cz))return[3,12];_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=_.sent(),this.renderReplacedElement(n,a,y),[3,12];case 11:return _.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof hz&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=_.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),_.label=14;case 14:if(n instanceof UE&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===gw?n.checked&&(this.ctx.save(),this.path([new tt(n.bounds.left+A*.39363,n.bounds.top+A*.79),new tt(n.bounds.left+A*.16,n.bounds.top+A*.5549),new tt(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new tt(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new tt(n.bounds.left+A*.72983,n.bounds.top+A*.23),new tt(n.bounds.left+A*.84,n.bounds.top+A*.34085),new tt(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=Xn(cI),this.ctx.fill(),this.ctx.restore()):n.type===xw&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Xn(cI),this.ctx.fill(),this.ctx.restore())),zge(n)&&n.value.length){switch(h=this.createFontStyle(i),S=h[0],f=h[1],g=this.fontMetrics.getMetrics(S,f).baseline,this.ctx.font=S,this.ctx.fillStyle=Xn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Vge(n.styles.textAlign),j=jw(n),x=0,n.styles.textAlign){case 1:x+=j.width/2;break;case 2:x+=j.width;break}m=j.add(x,0,0,-j.height/2+1),this.ctx.save(),this.path([new tt(j.left,j.top),new tt(j.left+j.width,j.top),new tt(j.left+j.width,j.top+j.height),new tt(j.left,j.top+j.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new yg(n.value,m),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Rn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(p=n.styles.listStyleImage,p.type!==0)return[3,18];y=void 0,w=p.url,_.label=15;case 15:return _.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return y=_.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return _.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(i)[0],this.ctx.font=S,this.ctx.fillStyle=Xn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",j=new Rl(n.bounds.left,n.bounds.top+Br(n.styles.paddingTop,n.bounds.width),n.bounds.width,VO(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new yg(r.listValue,j),i.letterSpacing,VO(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Hs(this,void 0,void 0,function(){var n,a,p,i,o,p,l,c,p,d,u,p,A,h,p,f,g,p,x,m,p;return Ns(this,function(y){switch(y.label){case 0:if(Rn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,a=r.negativeZIndex,y.label=2;case 2:return n<a.length?(p=a[n],[4,this.renderStack(p)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,o=r.nonInlineLevel,y.label=7;case 7:return i<o.length?(p=o[i],[4,this.renderNode(p)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,y.label=11;case 11:return l<c.length?(p=c[l],[4,this.renderStack(p)]):[3,14];case 12:y.sent(),y.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return d<u.length?(p=u[d],[4,this.renderStack(p)]):[3,18];case 16:y.sent(),y.label=17;case 17:return d++,[3,15];case 18:A=0,h=r.inlineLevel,y.label=19;case 19:return A<h.length?(p=h[A],[4,this.renderNode(p)]):[3,22];case 20:y.sent(),y.label=21;case 21:return A++,[3,19];case 22:f=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<g.length?(p=g[f],[4,this.renderStack(p)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:x=0,m=r.positiveZIndex,y.label=27;case 27:return x<m.length?(p=m[x],[4,this.renderStack(p)]):[3,30];case 28:y.sent(),y.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=ci(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ci(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(r){return Hs(this,void 0,void 0,function(){var n,a,i,o,l,c;return Ns(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,a=function(u){var A,h,f,T,D,U,O,L,C,g,T,D,U,O,L,x,m,p,y,w,S,j,_,F,C,E,T,v,N,O,L,Q,D,U,R,z,Y,X,$,M,G,V;return Ns(this,function(ae){switch(ae.label){case 0:if(u.type!==0)return[3,5];A=void 0,h=u.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return A=ae.sent(),[3,4];case 3:return ae.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return A&&(f=G_(r,n,[A.width,A.height,A.width/A.height]),T=f[0],D=f[1],U=f[2],O=f[3],L=f[4],C=i.ctx.createPattern(i.resizeImage(A,O,L),"repeat"),i.renderRepeat(T,C,D,U)),[3,6];case 5:Efe(u)?(g=G_(r,n,[null,null,null]),T=g[0],D=g[1],U=g[2],O=g[3],L=g[4],x=Nfe(u.angle,O,L),m=x[0],p=x[1],y=x[2],w=x[3],S=x[4],j=document.createElement("canvas"),j.width=O,j.height=L,_=j.getContext("2d"),F=_.createLinearGradient(p,w,y,S),zO(u.stops,m).forEach(function(Ae){return F.addColorStop(Ae.stop,Xn(Ae.color))}),_.fillStyle=F,_.fillRect(0,0,O,L),O>0&&L>0&&(C=i.ctx.createPattern(j,"repeat"),i.renderRepeat(T,C,D,U))):kfe(u)&&(E=G_(r,n,[null,null,null]),T=E[0],v=E[1],N=E[2],O=E[3],L=E[4],Q=u.position.length===0?[IE]:u.position,D=Br(Q[0],O),U=Br(Q[Q.length-1],L),R=_fe(u,D,U,O,L),z=R[0],Y=R[1],z>0&&Y>0&&(X=i.ctx.createRadialGradient(v+D,N+U,0,v+D,N+U,z),zO(u.stops,z*2).forEach(function(Ae){return X.addColorStop(Ae.stop,Xn(Ae.color))}),i.path(T),i.ctx.fillStyle=X,z!==Y?($=r.bounds.left+.5*r.bounds.width,M=r.bounds.top+.5*r.bounds.height,G=Y/z,V=1/G,i.ctx.save(),i.ctx.translate($,M),i.ctx.transform(1,0,0,G,0,0),i.ctx.translate(-$,-M),i.ctx.fillRect(v,V*(N-M)+M,O,L*V),i.ctx.restore()):i.ctx.fill())),ae.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return Hs(this,void 0,void 0,function(){return Ns(this,function(i){return this.path(bI(a,n)),this.ctx.fillStyle=Xn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,i){return Hs(this,void 0,void 0,function(){var o,l;return Ns(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=Tge(i,a),this.path(o),this.ctx.fillStyle=Xn(r),this.ctx.fill(),l=Oge(i,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Hs(this,void 0,void 0,function(){var n,a,i,o,l,c,d,u,A=this;return Ns(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!rd(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=qge(fh(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rd(n.backgroundColor)||(this.ctx.fillStyle=Xn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){A.ctx.save();var g=bw(r.curves),x=f.inset?0:$ge,m=Fge(g,-x+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(A.path(g),A.ctx.clip(),A.mask(m)):(A.mask(g),A.ctx.clip(),A.path(m)),A.ctx.shadowOffsetX=f.offsetX.number+x,A.ctx.shadowOffsetY=f.offsetY.number,A.ctx.shadowColor=Xn(f.color),A.ctx.shadowBlur=f.blur.number,A.ctx.fillStyle=f.inset?Xn(f.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),h.label=2;case 2:l=0,c=0,d=i,h.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!rd(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return Hs(this,void 0,void 0,function(){var l,c,d,u,A,h,f,g,x,m,p,y,w,S,j,_,j,_;return Ns(this,function(F){return this.ctx.save(),l=Ige(i,a),c=bI(i,a),o===2&&(this.path(c),this.ctx.clip()),ci(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),ci(c[1])?(A=c[1].end.x,h=c[1].end.y):(A=c[1].x,h=c[1].y),a===0||a===2?f=Math.abs(d-A):f=Math.abs(u-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),g=n<3?n*3:n*2,x=n<3?n*2:n,o===3&&(g=n,x=n),m=!0,f<=g*2?m=!1:f<=g*2+x?(p=f/(2*g+x),g*=p,x*=p):(y=Math.floor((f+x)/(g+x)),w=(f-y*g)/(y-1),S=(f-(y+1)*g)/y,x=S<=0||Math.abs(x-w)<Math.abs(x-S)?w:S),m&&(o===3?this.ctx.setLineDash([0,g+x]):this.ctx.setLineDash([g,x])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Xn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ci(c[0])&&(j=c[3],_=c[0],this.ctx.beginPath(),this.formatPath([new tt(j.end.x,j.end.y),new tt(_.start.x,_.start.y)]),this.ctx.stroke()),ci(c[1])&&(j=c[1],_=c[2],this.ctx.beginPath(),this.formatPath([new tt(j.end.x,j.end.y),new tt(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Hs(this,void 0,void 0,function(){var n;return Ns(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Xn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Pge(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Ez),zge=function(t){return t instanceof Az||t instanceof uz?!0:t instanceof UE&&t.type!==xw&&t.type!==gw},qge=function(t,e){switch(t){case 0:return bw(e);case 2:return Cge(e);case 1:default:return ww(e)}},Vge=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Kge=["-apple-system","system-ui"],Wge=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Kge.indexOf(e)===-1}):t},Gge=function(t){lo(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return Hs(this,void 0,void 0,function(){var n,a;return Ns(this,function(i){switch(i.label){case 0:return n=Z4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Xge(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Xn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Ez),Xge=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Yge=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Yy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Yy([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Yy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Yy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Jge=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Yge({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new xge(this,e)}return t.instanceCount=1,t}(),QE=function(t,e){return e===void 0&&(e={}),Zge(t,e)};typeof window<"u"&&jz.setContext(window);var Zge=function(t,e){return Hs(void 0,void 0,void 0,function(){var r,n,a,i,o,l,c,d,u,A,h,f,g,x,m,p,y,w,S,j,F,_,F,C,E,T,v,N,O,L,Q,D,U,R,z,Y,X,$,M,G;return Ns(this,function(V){switch(V.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(C=e.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(E=e.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:e.proxy,useCORS:(T=e.useCORS)!==null&&T!==void 0?T:!1},i=D4({logging:(v=e.logging)!==null&&v!==void 0?v:!0,cache:e.cache},a),o={windowWidth:(N=e.windowWidth)!==null&&N!==void 0?N:n.innerWidth,windowHeight:(O=e.windowHeight)!==null&&O!==void 0?O:n.innerHeight,scrollX:(L=e.scrollX)!==null&&L!==void 0?L:n.pageXOffset,scrollY:(Q=e.scrollY)!==null&&Q!==void 0?Q:n.pageYOffset},l=new Rl(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Jge(i,l),d=(D=e.foreignObjectRendering)!==null&&D!==void 0?D:!1,u={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),A=new xI(c,t,u),h=A.clonedReferenceElement,h?[4,A.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=V.sent(),g=RE(h)||tge(h)?FAe(h.ownerDocument):h2(c,h),x=g.width,m=g.height,p=g.left,y=g.top,w=e0e(c,h,e.backgroundColor),S={canvas:e.canvas,backgroundColor:w,scale:(z=(R=e.scale)!==null&&R!==void 0?R:n.devicePixelRatio)!==null&&z!==void 0?z:1,x:((Y=e.x)!==null&&Y!==void 0?Y:0)+p,y:((X=e.y)!==null&&X!==void 0?X:0)+y,width:($=e.width)!==null&&$!==void 0?$:Math.ceil(x),height:(M=e.height)!==null&&M!==void 0?M:Math.ceil(m)},d?(c.logger.debug("Document cloned, using foreign object rendering"),F=new Gge(c,S),[4,F.render(h)]):[3,3];case 2:return j=V.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+p+","+y+" with size "+x+"x"+m+" using computed rendering"),c.logger.debug("Starting DOM parsing"),_=mz(c,h),w===_.styles.backgroundColor&&(_.styles.backgroundColor=Bl.TRANSPARENT),c.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),F=new Hge(c,S),[4,F.render(_)];case 4:j=V.sent(),V.label=5;case 5:return(!((G=e.removeContainer)!==null&&G!==void 0)||G)&&(xI.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,j]}})})},e0e=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?gg(t,getComputedStyle(n.documentElement).backgroundColor):Bl.TRANSPARENT,i=n.body?gg(t,getComputedStyle(n.body).backgroundColor):Bl.TRANSPARENT,o=typeof r=="string"?gg(t,r):r===null?Bl.TRANSPARENT:4294967295;return e===n.documentElement?rd(a)?rd(i)?o:i:a:o};const t0e=Object.freeze(Object.defineProperty({__proto__:null,default:QE},Symbol.toStringTag,{value:"Module"})),r0e=()=>{const{isAdmin:t}=Yr(),e=ra(),[r,n]=k.useState(""),[a,i]=k.useState("all"),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[u,A]=k.useState(null),[h,f]=k.useState(null),[g,x]=k.useState(!1),[m,p]=k.useState(!1),[y,w]=k.useState(0),[S,j]=k.useState([]),[_,F]=k.useState(!0),[C,E]=k.useState(null),T=k.useRef(null),[v,N]=k.useState({name:"",category:"",quantity:0,min_stock:0,unit:"un",cost:0,price:0,supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""});k.useEffect(()=>{O()},[]);const O=async()=>{try{F(!0);const V=await jde();j(V||[]),E(null)}catch(V){console.error("Error loading inventory items:",V),E("Erro ao carregar itens do estoque"),j([])}finally{F(!1)}},L=["all",...Array.from(new Set(S.map(V=>V.category)))],Q=S.filter(V=>{const ae=V.name.toLowerCase().includes(r.toLowerCase())||V.supplier.toLowerCase().includes(r.toLowerCase())||V.sku&&V.sku.toLowerCase().includes(r.toLowerCase()),Ae=a==="all"||V.category===a;return ae&&Ae}),D=V=>{switch(R(V.quantity,V.min_stock)){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},U=V=>{switch(R(V.quantity,V.min_stock)){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},R=(V,ae)=>V===0?"out_of_stock":V<ae?"low_stock":"in_stock",z={total:S.length,inStock:S.filter(V=>R(V.quantity,V.min_stock)==="in_stock").length,lowStock:S.filter(V=>R(V.quantity,V.min_stock)==="low_stock").length,outOfStock:S.filter(V=>R(V.quantity,V.min_stock)==="out_of_stock").length,totalValue:S.reduce((V,ae)=>V+ae.quantity*ae.price,0)},Y=async()=>{var V,ae;if(!v.name||!v.category||!v.supplier){alert("Por favor, preencha todos os campos obrigatórios");return}try{const Ae={name:v.name,category:v.category,quantity:v.quantity,min_stock:v.min_stock,price:v.price,supplier:v.supplier,description:v.description,sku:v.sku,location:v.location},re=await wde(Ae);j([...S,re]),N({name:"",category:"",quantity:0,min_stock:0,price:0,cost:0,unit:"un",supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""}),l(!1),alert("Item adicionado com sucesso!")}catch(Ae){console.error("Error creating item:",Ae);let re="Erro ao adicionar item";(V=Ae==null?void 0:Ae.message)!=null&&V.includes("duplicate key")||(ae=Ae==null?void 0:Ae.message)!=null&&ae.includes("already exists")?re="Já existe um item com este código/SKU. Por favor, use um código diferente ou deixe em branco para gerar automaticamente.":Ae!=null&&Ae.message&&(re=`Erro: ${Ae.message}`),alert(re)}},X=async()=>{if(u)try{const V={name:u.name,category:u.category,quantity:u.quantity,min_stock:u.min_stock,price:u.price,supplier:u.supplier,description:u.description,sku:u.sku,location:u.location},ae=await Nde(u.id,V);j(S.map(Ae=>Ae.id===ae.id?ae:Ae)),d(!1),A(null),alert("Item atualizado com sucesso!")}catch(V){console.error("Error updating item:",V),alert("Erro ao atualizar item")}},$=async V=>{try{await _de(V),j(S.filter(ae=>ae.id!==V)),f(null),A(null),alert("Item excluído com sucesso!")}catch(ae){console.error("Error deleting item:",ae),alert("Erro ao excluir item")}},M=V=>{N({name:`${V.name} (Cópia)`,category:V.category,quantity:0,min_stock:V.min_stock,unit:V.unit,cost:V.cost,price:V.price,supplier:V.supplier,description:V.description,sku:V.sku?`${V.sku}-COPIA`:"",location:V.location,created_at:"",updated_at:""}),l(!0)},G=async()=>{if(T.current){x(!0),p(!0),w(10);try{const V=setInterval(()=>{w(Z=>Z>=90?(clearInterval(V),90):Z+10)},300),ae=await QE(T.current,{scale:1,useCORS:!0,logging:!1});w(95);const Ae=ae.toDataURL("image/png"),re=new At({orientation:"portrait",unit:"mm",format:"a4"});re.setFillColor(59,130,246),re.rect(0,0,re.internal.pageSize.width,20,"F"),re.setTextColor(255,255,255),re.setFontSize(14),re.text("Relatório de Estoque - GiarTech",10,10),re.setFontSize(10),re.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const ie=re.internal.pageSize.width,ce=ae.height*ie/ae.width;re.addImage(Ae,"PNG",0,25,ie,ce),re.save("relatorio-estoque.pdf"),w(100),setTimeout(()=>{x(!1),p(!1),w(0)},1e3)}catch(V){console.error("Error generating PDF:",V),x(!1),p(!1),alert("Error generating PDF. Please try again.")}}};return s.jsxs("div",{className:"space-y-6",ref:T,children:[C&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ts,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:C})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estoque"}),s.jsxs("div",{className:"flex gap-3",children:[z.lowStock>0&&s.jsxs("button",{onClick:()=>e("/purchasing"),className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all animate-pulse",children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsxs("span",{children:[z.lowStock," ",z.lowStock===1?"Item":"Itens"," Necessitando Compra"]}),s.jsx(Ph,{className:"h-4 w-4"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Item"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:"Total de Itens",value:z.total,color:"from-blue-500 to-cyan-500",icon:Nt},{label:"Em Estoque",value:z.inStock,color:"from-green-500 to-emerald-500",icon:br},{label:"Estoque Baixo",value:z.lowStock,color:"from-yellow-500 to-orange-500",icon:ts},{label:"Sem Estoque",value:z.outOfStock,color:"from-red-500 to-pink-500",icon:vl},{label:"Valor Total",value:`R$ ${z.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,color:"from-purple-500 to-indigo-500",icon:Nt,adminOnly:!0}].filter(V=>!V.adminOnly||V.adminOnly&&t).map((V,ae)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${V.color} rounded-lg flex items-center justify-center`,children:s.jsx(V.icon,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:V.value}),s.jsx("p",{className:"text-sm text-gray-600",children:V.label})]},V.label))}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 md:items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 flex-grow",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, fornecedor ou SKU...",value:r,onChange:V=>n(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sA,{className:"h-5 w-5 text-gray-400"}),s.jsx("select",{value:a,onChange:V=>i(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:L.map(V=>s.jsx("option",{value:V,children:V==="all"?"Todas as Categorias":V},V))})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:G,className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Relatório"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors flex items-center space-x-1",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Item"})]})]})]})}),_?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando estoque..."})]}):s.jsx("div",{className:"space-y-4",children:Q.length>0?Q.map((V,ae)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${R(V.quantity,V.min_stock)==="in_stock"?"bg-green-100 text-green-600":R(V.quantity,V.min_stock)==="low_stock"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:s.jsx(Nt,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:V.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:V.category}),V.sku&&s.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",V.sku]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${D(V)}`,children:U(V)}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>{A(V),d(!0)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar",children:s.jsx(wE,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>M(V),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar Item",children:s.jsx(zu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>f(V.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:V.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mínimo"}),s.jsx("p",{className:"text-sm text-gray-900",children:V.min_stock})]}),t&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Preço Unitário"}),s.jsxs("p",{className:"text-sm text-green-600",children:["R$ ",V.price.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),s.jsx("p",{className:"text-sm text-gray-900",children:V.supplier})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Nível de Estoque"}),s.jsxs("span",{children:[V.quantity,"/",V.min_stock," mín"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${V.quantity>V.min_stock?"bg-green-500":V.quantity>0?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(V.quantity/(V.min_stock*2)*100,100)}%`}})})]}),V.location&&s.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[s.jsx("span",{className:"font-medium",children:"Localização:"})," ",V.location]})]},V.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(Nt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum item encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos itens de estoque com os filtros selecionados."}),s.jsx("button",{onClick:()=>{n(""),i("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(at,{children:o&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Item de Estoque"}),s.jsx("button",{onClick:()=>l(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Nt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações Básicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",value:v.name,onChange:V=>N({...v,name:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:v.category,onChange:V=>N({...v,category:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peças, etc.",required:!0,list:"categories"}),s.jsx("datalist",{id:"categories",children:L.filter(V=>V!=="all").map(V=>s.jsx("option",{value:V},V))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Código ",s.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),s.jsx("input",{type:"text",value:v.sku,onChange:V=>N({...v,sku:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deixe em branco para gerar automaticamente"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:v.description,onChange:V=>N({...v,description:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrição detalhada do item"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Nt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),s.jsx("input",{type:"number",value:v.quantity,onChange:V=>N({...v,quantity:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mínimo"}),s.jsx("input",{type:"number",value:v.min_stock,onChange:V=>N({...v,min_stock:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade de Medida"}),s.jsxs("select",{value:v.unit||"un",onChange:V=>N({...v,unit:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"un",children:"Unidade (un)"}),s.jsx("option",{value:"m",children:"Metro (m)"}),s.jsx("option",{value:"m2",children:"Metro Quadrado (m²)"}),s.jsx("option",{value:"m3",children:"Metro Cúbico (m³)"}),s.jsx("option",{value:"kg",children:"Quilograma (kg)"}),s.jsx("option",{value:"g",children:"Grama (g)"}),s.jsx("option",{value:"l",children:"Litro (l)"}),s.jsx("option",{value:"ml",children:"Mililitro (ml)"}),s.jsx("option",{value:"cx",children:"Caixa (cx)"}),s.jsx("option",{value:"pc",children:"Peça (pc)"}),s.jsx("option",{value:"par",children:"Par"}),s.jsx("option",{value:"rolo",children:"Rolo"}),s.jsx("option",{value:"pct",children:"Pacote (pct)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Custo (R$)"}),s.jsx("input",{type:"number",value:v.cost,onChange:V=>N({...v,cost:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preço de compra"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Venda (R$)"}),s.jsx("input",{type:"number",value:v.price,onChange:V=>N({...v,price:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preço de venda",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",value:v.supplier,onChange:V=>N({...v,supplier:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localização"}),s.jsx("input",{type:"text",value:v.location,onChange:V=>N({...v,location:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:Y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Item"]})]})]})]})}),s.jsx(at,{children:c&&u&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Item"}),s.jsx("button",{onClick:()=>d(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Nt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações Básicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",value:u.name,onChange:V=>A({...u,name:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:u.category,onChange:V=>A({...u,category:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peças, etc.",required:!0,list:"edit-categories"}),s.jsx("datalist",{id:"edit-categories",children:L.filter(V=>V!=="all").map(V=>s.jsx("option",{value:V},V))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Código ",s.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),s.jsx("input",{type:"text",value:u.sku||"",onChange:V=>A({...u,sku:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Código único do item"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:u.description||"",onChange:V=>A({...u,description:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrição detalhada do item"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Nt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:u.quantity,onChange:V=>A({...u,quantity:parseInt(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mínimo"}),s.jsx("input",{type:"number",value:u.min_stock,onChange:V=>A({...u,min_stock:parseInt(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Unitário (R$)"}),s.jsx("input",{type:"number",value:u.price,onChange:V=>A({...u,price:parseFloat(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",value:u.supplier,onChange:V=>A({...u,supplier:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localização"}),s.jsx("input",{type:"text",value:u.location||"",onChange:V=>A({...u,location:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:X,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})}),s.jsx(at,{children:h!==null&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(ts,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Exclusão"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este item do estoque? Esta ação não pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>h&&$(h),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(at,{children:m&&s.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatório"}),y===100&&s.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[y<100?s.jsx(fx,{className:"h-5 w-5 text-blue-500 animate-spin"}):s.jsx(Pn,{className:"h-5 w-5 text-green-500"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${y}%`}})})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[y,"%"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:y<100?"Processando dados e gerando relatório...":"Relatório gerado com sucesso!"})]})})]})},n0e=()=>{const{id:t}=U3(),e=ra(),{isAdmin:r}=Yr(),[n,a]=k.useState(!1),[i,o]=k.useState(0),[l,c]=k.useState(""),[d,u]=k.useState("details"),A={name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,minStock:2,price:1800,supplier:"Fornecedor A",status:"in_stock",description:"Ar condicionado split 12.000 BTUs, 220V, com controle remoto e instalação básica incluída.",sku:"AC-12000-220",location:"Prateleira A3",history:[{date:"2023-12-15",type:"entrada",quantity:10,user:"Admin",notes:"Compra inicial"},{date:"2023-12-16",type:"saida",quantity:2,user:"Carlos Técnico",notes:"OS-2023-001"},{date:"2023-12-17",type:"saida",quantity:3,user:"Ana Técnica",notes:"OS-2023-002"}]},h=m=>{switch(m){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=m=>{switch(m){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},g=m=>{switch(m){case"entrada":return"text-green-600";case"saida":return"text-red-600";case"ajuste":return"text-blue-600";default:return"text-gray-600"}},x=()=>{i!==0&&(console.log("Adjusting stock by:",i,"Reason:",l),a(!1),o(0),c(""))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>e("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:s.jsx(Wl,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:A.name})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(A.status)}`,children:f(A.status)})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[s.jsx(br,{className:"h-4 w-4"}),s.jsx("span",{children:"Ajustar Estoque"})]}),s.jsxs("button",{onClick:()=>e(`/inventory/${t}/edit`),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),r&&s.jsxs("button",{className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>u("details"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="details"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Nt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Detalhes"})]}),s.jsxs("button",{onClick:()=>u("history"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="history"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Dt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Histórico"})]}),r&&s.jsxs("button",{onClick:()=>u("analytics"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="analytics"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Análise"})]})]}),s.jsxs("div",{className:"p-6",children:[d==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Nt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informações Básicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Categoria"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"SKU"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.sku})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.supplier})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Localização"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.location})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(br,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informações de Estoque"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade Atual"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mínimo"}),s.jsx("p",{className:"text-lg font-medium text-gray-900",children:A.minStock})]}),r&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Valor Unitário"}),s.jsxs("p",{className:"text-lg font-medium text-green-600",children:["R$ ",A.price.toFixed(2)]})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Nível de Estoque"}),s.jsxs("span",{children:[A.quantity,"/",A.minStock," mín"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-500",style:{width:`${Math.min(A.quantity/(A.minStock*2)*100,100)}%`}})})]}),A.quantity<=A.minStock]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Nt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Descrição"]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-gray-700",children:A.description})})]})]}),d==="history"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Dt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Histórico de Movimentações"]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),s.jsx("div",{className:"space-y-6",children:A.history.map((m,p)=>s.jsxs("div",{className:"relative pl-10",children:[s.jsx("div",{className:`absolute left-0 top-0 w-8 h-8 rounded-full flex items-center justify-center ${m.type==="entrada"?"bg-green-100":"bg-red-100"}`,children:m.type==="entrada"?s.jsx(bt,{className:"h-4 w-4 text-green-600"}):s.jsx(s0,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h4",{className:`font-medium ${g(m.type)}`,children:[m.type==="entrada"?"Entrada":"Saída"," de ",m.quantity," unidades"]}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(m.date).toLocaleDateString("pt-BR")})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Realizado por: ",m.user]}),m.notes&&s.jsxs("p",{className:"text-sm text-gray-700",children:["Observação: ",m.notes]})]})]},p))})]})]}),d==="analytics"&&r&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Ys,{className:"h-4 w-4 mr-2 text-blue-500"}),"Análise de Consumo"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[s.jsx(Ys,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 mb-2",children:"Análise de consumo em desenvolvimento"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Em breve você poderá visualizar gráficos de consumo, previsões de estoque e muito mais."})]})]})]})]}),n&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ajustar Estoque"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Atual"}),s.jsx("input",{type:"text",value:A.quantity,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajuste"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>o(m=>m-1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:s.jsx(s0,{className:"h-5 w-5"})}),s.jsx("input",{type:"number",value:i,onChange:m=>o(parseInt(m.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center"}),s.jsx("button",{type:"button",onClick:()=>o(m=>m+1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:s.jsx(bt,{className:"h-5 w-5"})})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i>0?"Entrada":i<0?"Saída":"Sem alteração"," de ",Math.abs(i)," unidades"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Quantidade"}),s.jsx("input",{type:"text",value:A.quantity+i,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 font-bold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo do Ajuste"}),s.jsx("textarea",{value:l,onChange:m=>c(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o motivo deste ajuste...",required:!0})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:x,disabled:i===0||!l,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ajuste"})]})]})]})]})},s0e=()=>{const t=ra(),[e,r]=k.useState({name:"",category:"",quantity:0,minStock:0,price:0,supplier:"",description:"",sku:"",location:""}),n=["Equipamentos","Acessórios","Materiais","Peças","Ferramentas"],a=o=>{const{name:l,value:c}=o.target;r(l==="price"||l==="quantity"||l==="minStock"?{...e,[l]:parseFloat(c)||0}:{...e,[l]:c})},i=o=>{o.preventDefault(),console.log("Form submitted:",e),t("/inventory")};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>t("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:s.jsx(Wl,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Item de Estoque"})]})}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Nt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações Básicas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),s.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{name:"category",value:e.category,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),n.map(o=>s.jsx("option",{value:o,children:o},o))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Código"}),s.jsx("input",{type:"text",name:"sku",value:e.sku,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Código único do item"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{name:"description",value:e.description,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrição detalhada do item"})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Nt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações de Estoque"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:Math.max(0,o.quantity-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:s.jsx(s0,{className:"h-4 w-4"})}),s.jsx("input",{type:"number",name:"quantity",value:e.quantity,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:o.quantity+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:s.jsx(bt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mínimo"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:Math.max(0,o.minStock-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:s.jsx(s0,{className:"h-4 w-4"})}),s.jsx("input",{type:"number",name:"minStock",value:e.minStock,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:o.minStock+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:s.jsx(bt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Unitário (R$)"}),s.jsx("input",{type:"number",name:"price",value:e.price,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),s.jsx("input",{type:"text",name:"supplier",value:e.supplier,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localização"}),s.jsx("input",{type:"text",name:"location",value:e.location,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t("/inventory"),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex-1",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex-1 flex items-center justify-center",children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Item"]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function yx(t){return t+.5|0}const Rc=(t,e,r)=>Math.max(Math.min(t,r),e);function qp(t){return Rc(yx(t*2.55),0,255)}function nd(t){return Rc(yx(t*255),0,255)}function pl(t){return Rc(yx(t/2.55)/100,0,1)}function jI(t){return Rc(yx(t*100),0,100)}const ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},iS=[..."0123456789ABCDEF"],a0e=t=>iS[t&15],i0e=t=>iS[(t&240)>>4]+iS[t&15],vv=t=>(t&240)>>4===(t&15),o0e=t=>vv(t.r)&&vv(t.g)&&vv(t.b)&&vv(t.a);function l0e(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ei[t[1]]*17,g:255&ei[t[2]]*17,b:255&ei[t[3]]*17,a:e===5?ei[t[4]]*17:255}:(e===7||e===9)&&(r={r:ei[t[1]]<<4|ei[t[2]],g:ei[t[3]]<<4|ei[t[4]],b:ei[t[5]]<<4|ei[t[6]],a:e===9?ei[t[7]]<<4|ei[t[8]]:255})),r}const c0e=(t,e)=>t<255?e(t):"";function d0e(t){var e=o0e(t)?a0e:i0e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+c0e(t.a,e):void 0}const u0e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kz(t,e,r){const n=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function A0e(t,e,r){const n=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function h0e(t,e,r){const n=kz(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function f0e(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function $E(t){const r=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=f0e(r,n,a,u,i),c=c*60+.5),[c|0,d||0,l]}function HE(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(nd)}function zE(t,e,r){return HE(kz,t,e,r)}function m0e(t,e,r){return HE(h0e,t,e,r)}function p0e(t,e,r){return HE(A0e,t,e,r)}function Fz(t){return(t%360+360)%360}function g0e(t){const e=u0e.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?qp(+e[5]):nd(+e[5]));const a=Fz(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=m0e(a,i,o):e[1]==="hsv"?n=p0e(a,i,o):n=zE(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function x0e(t,e){var r=$E(t);r[0]=Fz(r[0]+e),r=zE(r),t.r=r[0],t.g=r[1],t.b=r[2]}function y0e(t){if(!t)return;const e=$E(t),r=e[0],n=jI(e[1]),a=jI(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${pl(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const NI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_I={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function v0e(){const t={},e=Object.keys(_I),r=Object.keys(NI);let n,a,i,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],a=0;a<r.length;a++)i=r[a],l=l.replace(i,NI[i]);i=parseInt(_I[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let bv;function b0e(t){bv||(bv=v0e(),bv.transparent=[0,0,0,0]);const e=bv[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const w0e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function j0e(t){const e=w0e.exec(t);let r=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?qp(o):Rc(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?qp(n):Rc(n,0,255)),a=255&(e[4]?qp(a):Rc(a,0,255)),i=255&(e[6]?qp(i):Rc(i,0,255)),{r:n,g:a,b:i,a:r}}}function N0e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${pl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const X_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,nh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function _0e(t,e,r){const n=nh(pl(t.r)),a=nh(pl(t.g)),i=nh(pl(t.b));return{r:nd(X_(n+r*(nh(pl(e.r))-n))),g:nd(X_(a+r*(nh(pl(e.g))-a))),b:nd(X_(i+r*(nh(pl(e.b))-i))),a:t.a+r*(e.a-t.a)}}function wv(t,e,r){if(t){let n=$E(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=zE(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Pz(t,e){return t&&Object.assign(e||{},t)}function CI(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=nd(t[3]))):(e=Pz(t,{r:0,g:0,b:0,a:1}),e.a=nd(e.a)),e}function C0e(t){return t.charAt(0)==="r"?j0e(t):g0e(t)}let Tz=class oS{constructor(e){if(e instanceof oS)return e;const r=typeof e;let n;r==="object"?n=CI(e):r==="string"&&(n=l0e(e)||b0e(e)||C0e(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Pz(this._rgb);return e&&(e.a=pl(e.a)),e}set rgb(e){this._rgb=CI(e)}rgbString(){return this._valid?N0e(this._rgb):void 0}hexString(){return this._valid?d0e(this._rgb):void 0}hslString(){return this._valid?y0e(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=n.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,n.r=255&d*n.r+i*a.r+.5,n.g=255&d*n.g+i*a.g+.5,n.b=255&d*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=_0e(this._rgb,e._rgb,r)),this}clone(){return new oS(this.rgb)}alpha(e){return this._rgb.a=nd(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=yx(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wv(this._rgb,2,e),this}darken(e){return wv(this._rgb,2,-e),this}saturate(e){return wv(this._rgb,1,e),this}desaturate(e){return wv(this._rgb,1,-e),this}rotate(e){return x0e(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ol(){}const S0e=(()=>{let t=0;return()=>t++})();function ar(t){return t==null}function kn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Vt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Us(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jo(t,e){return Us(t)?t:e}function Ut(t,e){return typeof t>"u"?e:t}const B0e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Oz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Or(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function cr(t,e,r,n){let a,i,o;if(kn(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(Vt(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function Nw(t,e){let r,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function _w(t){if(kn(t))return t.map(_w);if(Vt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=_w(t[r[a]]);return e}return t}function Iz(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function E0e(t,e,r,n){if(!Iz(t))return;const a=e[t],i=r[t];Vt(a)&&Vt(i)?h0(a,i,n):e[t]=_w(i)}function h0(t,e,r){const n=kn(e)?e:[e],a=n.length;if(!Vt(t))return t;r=r||{};const i=r.merger||E0e;let o;for(let l=0;l<a;++l){if(o=n[l],!Vt(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,r)}return t}function bg(t,e){return h0(t,e,{merger:k0e})}function k0e(t,e,r){if(!Iz(t))return;const n=e[t],a=r[t];Vt(n)&&Vt(a)?bg(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_w(a))}const SI={"":t=>t,x:t=>t.x,y:t=>t.y};function F0e(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function P0e(t){const e=F0e(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Vu(t,e){return(SI[e]||(SI[e]=P0e(e)))(t)}function qE(t){return t.charAt(0).toUpperCase()+t.slice(1)}const f0=t=>typeof t<"u",fd=t=>typeof t=="function",BI=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function T0e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const dr=Math.PI,Wr=2*dr,O0e=Wr+dr,Cw=Number.POSITIVE_INFINITY,I0e=dr/180,$n=dr/2,$d=dr/4,EI=dr*2/3,Lz=Math.log10,Do=Math.sign;function wg(t,e,r){return Math.abs(t-e)<r}function kI(t){const e=Math.round(t);t=wg(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Lz(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function L0e(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function M0e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function m0(t){return!M0e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function D0e(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function U0e(t,e,r){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function wl(t){return t*(dr/180)}function R0e(t){return t*(180/dr)}function FI(t){if(!Us(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Mz(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*dr&&(i+=Wr),{angle:i,distance:a}}function lS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Q0e(t,e){return(t-e+O0e)%Wr-dr}function Ia(t){return(t%Wr+Wr)%Wr}function p0(t,e,r,n){const a=Ia(t),i=Ia(e),o=Ia(r),l=Ia(i-a),c=Ia(o-a),d=Ia(a-i),u=Ia(a-o);return a===i||a===o||n&&i===o||l>c&&d<u}function Os(t,e,r){return Math.max(e,Math.min(r,t))}function $0e(t){return Os(t,-32768,32767)}function jl(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function VE(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const xu=(t,e,r,n)=>VE(t,r,n?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),H0e=(t,e,r)=>VE(t,r,n=>t[n][e]>=r);function z0e(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const Dz=["push","pop","shift","splice","unshift"];function q0e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dz.forEach(r=>{const n="_onData"+qE(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function PI(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Dz.forEach(i=>{delete t[i]}),delete t._chartjs)}function Uz(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Rz=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Qz(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,Rz.call(window,()=>{n=!1,t.apply(e,r)}))}}function V0e(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const KE=t=>t==="start"?"left":t==="end"?"right":"center",_s=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,K0e=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function W0e(t,e,r){const n=e.length;let a=0,i=n;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:A,max:h,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(a=Math.min(xu(c,u,A).lo,r?n:xu(e,u,o.getPixelForValue(A)).lo),d){const x=c.slice(0,a+1).reverse().findIndex(m=>!ar(m[l.axis]));a-=Math.max(0,x)}a=Os(a,0,n-1)}if(g){let x=Math.max(xu(c,o.axis,h,!0).hi+1,r?0:xu(e,u,o.getPixelForValue(h),!0).hi+1);if(d){const m=c.slice(x-1).findIndex(p=>!ar(p[l.axis]));x+=Math.max(0,m)}i=Os(x,a,n)-a}else i=n-a}return{start:a,count:i}}function G0e(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const jv=t=>t===0||t===1,TI=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Wr/r)),OI=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Wr/r)+1,jg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*$n)+1,easeOutSine:t=>Math.sin(t*$n),easeInOutSine:t=>-.5*(Math.cos(dr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>jv(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>jv(t)?t:TI(t,.075,.3),easeOutElastic:t=>jv(t)?t:OI(t,.075,.3),easeInOutElastic(t){return jv(t)?t:t<.5?.5*TI(t*2,.1125,.45):.5+.5*OI(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-jg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?jg.easeInBounce(t*2)*.5:jg.easeOutBounce(t*2-1)*.5+.5};function WE(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function II(t){return WE(t)?t:new Tz(t)}function Y_(t){return WE(t)?t:new Tz(t).saturate(.5).darken(.1).hexString()}const X0e=["x","y","borderWidth","radius","tension"],Y0e=["color","borderColor","backgroundColor"];function J0e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Y0e},numbers:{type:"number",properties:X0e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Z0e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const LI=new Map;function exe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=LI.get(r);return n||(n=new Intl.NumberFormat(t,e),LI.set(r,n)),n}function GE(t,e,r){return exe(e,r).format(t)}const txe={values(t){return kn(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=rxe(t,r)}const o=Lz(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),GE(t,n,c)}};function rxe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var $z={formatters:txe};function nxe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$z.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ku=Object.create(null),cS=Object.create(null);function Ng(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function J_(t,e,r){return typeof e=="string"?h0(Ng(t,e),r):h0(Ng(t,""),e)}class sxe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>Y_(a.backgroundColor),this.hoverBorderColor=(n,a)=>Y_(a.borderColor),this.hoverColor=(n,a)=>Y_(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return J_(this,e,r)}get(e){return Ng(this,e)}describe(e,r){return J_(cS,e,r)}override(e,r){return J_(Ku,e,r)}route(e,r,n,a){const i=Ng(this,e),o=Ng(this,n),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return Vt(c)?Object.assign({},d,c):Ut(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var gn=new sxe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[J0e,Z0e,nxe]);function axe(t){return!t||ar(t.size)||ar(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function MI(t,e,r,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>n&&(n=i),n}function Hd(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function DI(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function dS(t,e,r,n){Hz(t,e,r,n,null)}function Hz(t,e,r,n,a){let i,o,l,c,d,u,A,h;const f=e.pointStyle,g=e.rotation,x=e.radius;let m=(g||0)*I0e;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),f){default:a?t.ellipse(r,n,a/2,x,0,0,Wr):t.arc(r,n,x,0,Wr),t.closePath();break;case"triangle":u=a?a/2:x,t.moveTo(r+Math.sin(m)*u,n-Math.cos(m)*x),m+=EI,t.lineTo(r+Math.sin(m)*u,n-Math.cos(m)*x),m+=EI,t.lineTo(r+Math.sin(m)*u,n-Math.cos(m)*x),t.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(m+$d)*c,A=Math.cos(m+$d)*(a?a/2-d:c),l=Math.sin(m+$d)*c,h=Math.sin(m+$d)*(a?a/2-d:c),t.arc(r-A,n-l,d,m-dr,m-$n),t.arc(r+h,n-o,d,m-$n,m),t.arc(r+A,n+l,d,m,m+$n),t.arc(r-h,n+o,d,m+$n,m+dr),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*x,u=a?a/2:c,t.rect(r-u,n-c,2*u,2*c);break}m+=$d;case"rectRot":A=Math.cos(m)*(a?a/2:x),o=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(a?a/2:x),t.moveTo(r-A,n-l),t.lineTo(r+h,n-o),t.lineTo(r+A,n+l),t.lineTo(r-h,n+o),t.closePath();break;case"crossRot":m+=$d;case"cross":A=Math.cos(m)*(a?a/2:x),o=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(a?a/2:x),t.moveTo(r-A,n-l),t.lineTo(r+A,n+l),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"star":A=Math.cos(m)*(a?a/2:x),o=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(a?a/2:x),t.moveTo(r-A,n-l),t.lineTo(r+A,n+l),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o),m+=$d,A=Math.cos(m)*(a?a/2:x),o=Math.cos(m)*x,l=Math.sin(m)*x,h=Math.sin(m)*(a?a/2:x),t.moveTo(r-A,n-l),t.lineTo(r+A,n+l),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"line":o=a?a/2:Math.cos(m)*x,l=Math.sin(m)*x,t.moveTo(r-o,n-l),t.lineTo(r+o,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(m)*(a?a/2:x),n+Math.sin(m)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function g0(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function j2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function N2(t){t.restore()}function ixe(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function oxe(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function lxe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ar(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cxe(t,e,r,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function dxe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function x0(t,e,r,n,a,i={}){const o=kn(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,lxe(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&dxe(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ar(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,n,i.maxWidth)),t.fillText(d,r,n,i.maxWidth),cxe(t,r,n,d,i),n+=Number(a.lineHeight);t.restore()}function Sw(t,e){const{x:r,y:n,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*dr,dr,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,dr,$n,!0),t.lineTo(r+a-o.bottomRight,n+i),t.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,$n,0,!0),t.lineTo(r+a,n+o.topRight),t.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-$n,!0),t.lineTo(r+o.topLeft,n)}const uxe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Axe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hxe(t,e){const r=(""+t).match(uxe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const fxe=t=>+t||0;function XE(t,e){const r={},n=Vt(e),a=n?Object.keys(e):e,i=Vt(t)?n?o=>Ut(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=fxe(i(o));return r}function zz(t){return XE(t,{top:"y",right:"x",bottom:"y",left:"x"})}function sf(t){return XE(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ji(t){const e=zz(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Is(t,e){t=t||{},e=e||gn.font;let r=Ut(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Ut(t.style,e.style);n&&!(""+n).match(Axe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Ut(t.family,e.family),lineHeight:hxe(Ut(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Ut(t.weight,e.weight),string:""};return a.string=axe(a),a}function Nv(t,e,r,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function mxe(t,e,r){const{min:n,max:a}=t,i=Oz(e,(a-n)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function oA(t,e){return Object.assign(Object.create(t),e)}function YE(t,e=[""],r,n,a=()=>t[0]){const i=r||t;typeof n>"u"&&(n=Wz("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>YE([l,...t],e,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Vz(l,c,()=>jxe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return RI(l).includes(c)},ownKeys(l){return RI(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function jf(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:qz(t,n),setContext:i=>jf(t,i,r,n),override:i=>jf(t.override(i),e,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return Vz(i,o,()=>gxe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function qz(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:fd(r)?r:()=>r,isIndexable:fd(n)?n:()=>n}}const pxe=(t,e)=>t?t+qE(e):e,JE=(t,e)=>Vt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vz(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function gxe(t,e,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let l=n[e];return fd(l)&&o.isScriptable(e)&&(l=xxe(e,l,t,r)),kn(l)&&l.length&&(l=yxe(e,l,t,o.isIndexable)),JE(e,l)&&(l=jf(l,a,i&&i[e],o)),l}function xxe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||n);return l.delete(t),JE(t,c)&&(c=ZE(a._scopes,a,t,c)),c}function yxe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Vt(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const A=ZE(d,a,t,u);e.push(jf(A,i,o&&o[t],l))}}return e}function Kz(t,e,r){return fd(t)?t(e,r):t}const vxe=(t,e)=>t===!0?e:typeof t=="string"?Vu(e,t):void 0;function bxe(t,e,r,n,a){for(const i of e){const o=vxe(r,i);if(o){t.add(o);const l=Kz(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function ZE(t,e,r,n){const a=e._rootScopes,i=Kz(e._fallback,r,n),o=[...t,...a],l=new Set;l.add(n);let c=UI(l,o,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=UI(l,o,i,c,n),c===null)?!1:YE(Array.from(l),[""],a,i,()=>wxe(e,r,n))}function UI(t,e,r,n,a){for(;r;)r=bxe(t,e,r,n,a);return r}function wxe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return kn(a)&&Vt(r)?r:a||{}}function jxe(t,e,r,n){let a;for(const i of e)if(a=Wz(pxe(i,t),r),typeof a<"u")return JE(t,a)?ZE(r,n,t,a):a}function Wz(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function RI(t){let e=t._keys;return e||(e=t._keys=Nxe(t._scopes)),e}function Nxe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}const _xe=Number.EPSILON||1e-14,Nf=(t,e)=>e<t.length&&!t[e].skip&&t[e],Gz=t=>t==="x"?"y":"x";function Cxe(t,e,r,n){const a=t.skip?e:t,i=e,o=r.skip?e:r,l=lS(i,a),c=lS(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const A=n*d,h=n*u;return{previous:{x:i.x-A*(o.x-a.x),y:i.y-A*(o.y-a.y)},next:{x:i.x+h*(o.x-a.x),y:i.y+h*(o.y-a.y)}}}function Sxe(t,e,r){const n=t.length;let a,i,o,l,c,d=Nf(t,0);for(let u=0;u<n-1;++u)if(c=d,d=Nf(t,u+1),!(!c||!d)){if(wg(e[u],0,_xe)){r[u]=r[u+1]=0;continue}a=r[u]/e[u],i=r[u+1]/e[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[u]=a*o*e[u],r[u+1]=i*o*e[u])}}function Bxe(t,e,r="x"){const n=Gz(r),a=t.length;let i,o,l,c=Nf(t,0);for(let d=0;d<a;++d){if(o=l,l=c,c=Nf(t,d+1),!l)continue;const u=l[r],A=l[n];o&&(i=(u-o[r])/3,l[`cp1${r}`]=u-i,l[`cp1${n}`]=A-i*e[d]),c&&(i=(c[r]-u)/3,l[`cp2${r}`]=u+i,l[`cp2${n}`]=A+i*e[d])}}function Exe(t,e="x"){const r=Gz(e),n=t.length,a=Array(n).fill(0),i=Array(n);let o,l,c,d=Nf(t,0);for(o=0;o<n;++o)if(l=c,c=d,d=Nf(t,o+1),!!c){if(d){const u=d[e]-c[e];a[o]=u!==0?(d[r]-c[r])/u:0}i[o]=l?d?Do(a[o-1])!==Do(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}Sxe(t,a,i),Bxe(t,i,e)}function _v(t,e,r){return Math.max(Math.min(t,r),e)}function kxe(t,e){let r,n,a,i,o,l=g0(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=l,l=r<n-1&&g0(t[r+1],e),i&&(a=t[r],o&&(a.cp1x=_v(a.cp1x,e.left,e.right),a.cp1y=_v(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=_v(a.cp2x,e.left,e.right),a.cp2y=_v(a.cp2y,e.top,e.bottom)))}function Fxe(t,e,r,n,a){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Exe(t,a);else{let d=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=Cxe(d,l,t[Math.min(i+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&kxe(t,r)}function ek(){return typeof window<"u"&&typeof document<"u"}function tk(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bw(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const _2=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Pxe(t,e){return _2(t).getPropertyValue(e)}const Txe=["top","right","bottom","left"];function Pu(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=Txe[a];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Oxe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Ixe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,l,c;if(Oxe(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Zd(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=_2(r),i=a.boxSizing==="border-box",o=Pu(a,"padding"),l=Pu(a,"border","width"),{x:c,y:d,box:u}=Ixe(t,r),A=o.left+(u&&l.left),h=o.top+(u&&l.top);let{width:f,height:g}=e;return i&&(f-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-A)/f*r.width/n),y:Math.round((d-h)/g*r.height/n)}}function Lxe(t,e,r){let n,a;if(e===void 0||r===void 0){const i=t&&tk(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=_2(i),c=Pu(l,"border","width"),d=Pu(l,"padding");e=o.width-d.width-c.width,r=o.height-d.height-c.height,n=Bw(l.maxWidth,i,"clientWidth"),a=Bw(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||Cw,maxHeight:a||Cw}}const Qc=t=>Math.round(t*10)/10;function Mxe(t,e,r,n){const a=_2(t),i=Pu(a,"margin"),o=Bw(a.maxWidth,t,"clientWidth")||Cw,l=Bw(a.maxHeight,t,"clientHeight")||Cw,c=Lxe(t,e,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const h=Pu(a,"border","width"),f=Pu(a,"padding");d-=f.width+h.width,u-=f.height+h.height}return d=Math.max(0,d-i.width),u=Math.max(0,n?d/n:u-i.height),d=Qc(Math.min(d,o,c.maxWidth)),u=Qc(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Qc(d/2)),(e!==void 0||r!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Qc(Math.floor(u*n))),{width:d,height:u}}function QI(t,e,r){const n=e||1,a=Qc(t.height*n),i=Qc(t.width*n);t.height=Qc(t.height),t.width=Qc(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Dxe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ek()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function $I(t,e){const r=Pxe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function eu(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Uxe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Rxe(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=eu(t,a,r),l=eu(a,i,r),c=eu(i,e,r),d=eu(o,l,r),u=eu(l,c,r);return eu(d,u,r)}const Qxe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},$xe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function af(t,e,r){return t?Qxe(e,r):$xe()}function Xz(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Yz(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Jz(t){return t==="angle"?{between:p0,compare:Q0e,normalize:Ia}:{between:jl,compare:(e,r)=>e-r,normalize:e=>e}}function HI({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Hxe(t,e,r){const{property:n,start:a,end:i}=r,{between:o,normalize:l}=Jz(n),c=e.length;let{start:d,end:u,loop:A}=t,h,f;if(A){for(d+=c,u+=c,h=0,f=c;h<f&&o(l(e[d%c][n]),a,i);++h)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:A,style:t.style}}function Zz(t,e,r){if(!r)return[t];const{property:n,start:a,end:i}=r,o=e.length,{compare:l,between:c,normalize:d}=Jz(n),{start:u,end:A,loop:h,style:f}=Hxe(t,e,r),g=[];let x=!1,m=null,p,y,w;const S=()=>c(a,w,p)&&l(a,w)!==0,j=()=>l(i,p)===0||c(i,w,p),_=()=>x||S(),F=()=>!x||j();for(let C=u,E=u;C<=A;++C)y=e[C%o],!y.skip&&(p=d(y[n]),p!==w&&(x=c(p,a,i),m===null&&_()&&(m=l(p,a)===0?C:E),m!==null&&F()&&(g.push(HI({start:m,end:C,loop:h,count:o,style:f})),m=null),E=C,w=p));return m!==null&&g.push(HI({start:m,end:A,loop:h,count:o,style:f})),g}function eq(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const i=Zz(n[a],t.points,e);i.length&&r.push(...i)}return r}function zxe(t,e,r,n){let a=0,i=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function qxe(t,e,r,n){const a=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=r;++c){const d=t[c%a];d.skip||d.stop?l.skip||(n=!1,i.push({start:e%a,end:(c-1)%a,loop:n}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%a,end:o%a,loop:n}),i}function Vxe(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:o,end:l}=zxe(r,a,i,n);if(n===!0)return zI(t,[{start:o,end:l,loop:i}],r,e);const c=l<o?l+a:l,d=!!t._fullLoop&&o===0&&l===a-1;return zI(t,qxe(r,o,c,d),r,e)}function zI(t,e,r,n){return!n||!n.setContext||!r?e:Kxe(t,e,r,n)}function Kxe(t,e,r,n){const a=t._chart.getContext(),i=qI(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=r.length,d=[];let u=i,A=e[0].start,h=A;function f(g,x,m,p){const y=l?-1:1;if(g!==x){for(g+=c;r[g%c].skip;)g-=y;for(;r[x%c].skip;)x+=y;g%c!==x%c&&(d.push({start:g%c,end:x%c,loop:m,style:p}),u=p,A=x%c)}}for(const g of e){A=l?A:g.start;let x=r[A%c],m;for(h=A+1;h<=g.end;h++){const p=r[h%c];m=qI(n.setContext(oA(a,{type:"segment",p0:x,p1:p,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),Wxe(m,u)&&f(A,h-1,g.loop,u),x=p,u=m}A<h-1&&f(A,h-1,g.loop,u)}return d}function qI(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Wxe(t,e){if(!e)return!1;const r=[],n=function(a,i){return WE(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Cv(t,e,r){return t.options.clip?t[r]:e[r]}function Gxe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Cv(r,e,"left"),right:Cv(r,e,"right"),top:Cv(n,e,"top"),bottom:Cv(n,e,"bottom")}:e}function tq(t,e){const r=e._clip;if(r.disabled)return!1;const n=Gxe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Xxe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Rz.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var dl=new Xxe;const VI="transparent",Yxe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=II(t||VI),a=n.valid&&II(e||VI);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Jxe{constructor(e,r,n,a){const i=r[n];a=Nv([e.to,a,i,e.from]);const o=Nv([e.from,i,a]);this._active=!0,this._fn=e.fn||Yxe[e.type||typeof o],this._easing=jg[e.easing]||jg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Nv([e.to,r,a,e.from]),this._from=Nv([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class rq{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Vt(e))return;const r=Object.keys(gn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!Vt(i))return;const o={};for(const l of r)o[l]=i[l];(kn(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,r){const n=r.options,a=eye(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Zxe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,r));continue}const u=r[d];let A=i[d];const h=n.get(d);if(A)if(h&&A.active()){A.update(h,u,l);continue}else A.cancel();if(!h||!h.duration){e[d]=u;continue}i[d]=A=new Jxe(h,e,d,u),a.push(A)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return dl.add(this._chart,n),!0}}function Zxe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function eye(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function KI(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function tye(t,e,r){if(r===!1)return!1;const n=KI(t,r),a=KI(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function rye(t){let e,r,n,a;return Vt(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function nq(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function WI(t,e,r,n={}){const a=t.keys,i=n.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,n.all)continue;break}d=t.values[c],Us(d)&&(i||e===0||Do(e)===Do(d))&&(e+=d)}return!u&&!n.all?0:e}function nye(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function Z_(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function sye(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function aye(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function iye(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function GI(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function XI(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,d=o.axis,u=sye(i,o,n),A=e.length;let h;for(let f=0;f<A;++f){const g=e[f],{[c]:x,[d]:m}=g,p=g._stacks||(g._stacks={});h=p[d]=iye(a,u,x),h[l]=m,h._top=GI(h,o,!0,n.type),h._bottom=GI(h,o,!1,n.type);const y=h._visualValues||(h._visualValues={});y[l]=m}}function e5(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function oye(t,e){return oA(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function lye(t,e,r){return oA(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function fp(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const t5=t=>t==="reset"||t==="none",YI=(t,e)=>e?t:Object.assign({},t),cye=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:nq(r,!0),values:null};class Tu{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Z_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fp(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(A,h,f,g)=>A==="x"?h:A==="r"?g:f,i=r.xAxisID=Ut(n.xAxisID,e5(e,"x")),o=r.yAxisID=Ut(n.yAxisID,e5(e,"y")),l=r.rAxisID=Ut(n.rAxisID,e5(e,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&PI(this._data,this),e._stacked&&fp(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Vt(r)){const a=this._cachedMeta;this._data=nye(r,a)}else if(n!==r){if(n){PI(n,this);const a=this._cachedMeta;fp(a),a._parsed=[]}r&&Object.isExtensible(r)&&q0e(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=Z_(r.vScale,r),r.stack!==n.stack&&(a=!0,fp(r),r.stack=n.stack),this._resyncElements(e),(a||i!==r._stacked)&&(XI(this,r._parsed),r._stacked=Z_(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=e===0&&r===a.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,A,h;if(this._parsing===!1)n._parsed=a,n._sorted=!0,h=a;else{kn(a[e])?h=this.parseArrayData(n,a,e,r):Vt(a[e])?h=this.parseObjectData(n,a,e,r):h=this.parsePrimitiveData(n,a,e,r);const f=()=>A[l]===null||d&&A[l]<d[l];for(u=0;u<r;++u)n._parsed[u+e]=A=h[u],c&&(f()&&(c=!1),d=A);n._sorted=c}o&&XI(this,h)}parsePrimitiveData(e,r,n,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,A=new Array(a);let h,f,g;for(h=0,f=a;h<f;++h)g=h+n,A[h]={[l]:u||i.parse(d[g],g),[c]:o.parse(r[g],g)};return A}parseArrayData(e,r,n,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,A;for(c=0,d=a;c<d;++c)u=c+n,A=r[u],l[c]={x:i.parse(A[0],u),y:o.parse(A[1],u)};return l}parseObjectData(e,r,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,A,h,f;for(u=0,A=a;u<A;++u)h=u+n,f=r[h],d[u]={x:i.parse(Vu(f,l),h),y:o.parse(Vu(f,c),h)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,i=this._cachedMeta,o=r[e.axis],l={keys:nq(a,!0),values:r._stacks[e.axis]._visualValues};return WI(l,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,o=WI(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=cye(r,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:A}=aye(l);let h,f;function g(){f=a[h];const x=f[l.axis];return!Us(f[e.axis])||u>x||A<x}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(d,e,f,c),i));++h);if(i){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],Us(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=rye(Ut(this.options.clip,tye(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const A=a[u];A.hidden||(A.active&&d?o.push(A):A.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=lye(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=oye(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,l=i[o],c=this.enableOptionSharing&&f0(n);if(l)return YI(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),A=a?[`${e}Hover`,"hover",e,""]:[e,""],h=d.getOptionScopes(this.getDataset(),u),f=Object.keys(gn.elements[e]),g=()=>this.getContext(n,a,r),x=d.resolveNamedOptions(h,f,g,A);return x.$shared&&(x.$shared=c,i[o]=Object.freeze(YI(x,c))),x}_resolveAnimations(e,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,A=u.datasetAnimationScopeKeys(this._type,r),h=u.getOptionScopes(this.getDataset(),A);c=u.createResolver(h,this.getContext(e,n,r))}const d=new rq(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||t5(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,a){t5(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!t5(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,n=!0){const a=this._cachedMeta,i=a.data,o=e+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&fp(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}it(Tu,"defaults",{}),it(Tu,"datasetElementType",null),it(Tu,"dataElementType",null);function dye(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=Uz(n.sort((a,i)=>a-i))}return t._cache.$bar}function uye(t){const e=t.iScale,r=dye(e,t.type);let n=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(f0(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return n}function Aye(t,e,r,n){const a=r.barThickness;let i,o;return ar(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function hye(t,e,r,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:r.barPercentage,start:d}}function fye(t,e,r,n){const a=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function sq(t,e,r,n){return kn(t)?fye(t,e,r,n):e[r.axis]=r.parse(t,n),e}function JI(t,e,r,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,A,h;for(d=r,u=r+n;d<u;++d)h=e[d],A={},A[a.axis]=l||a.parse(o[d],d),c.push(sq(h,A,i,d));return c}function r5(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function mye(t,e,r){return t!==0?Do(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function pye(t){let e,r,n,a,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:e,top:a,bottom:i}}function gye(t,e,r,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=pye(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=d:(r._bottom||0)===n?a=u:(i[ZI(u,o,l,c)]=!0,a=d)),i[ZI(a,o,l,c)]=!0,t.borderSkipped=i}function ZI(t,e,r,n){return n?(t=xye(t,e,r),t=eL(t,r,e)):t=eL(t,e,r),t}function xye(t,e,r){return t===e?r:t===r?e:t}function eL(t,e,r){return t==="start"?e:t==="end"?r:t}function yye(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class bb extends Tu{parsePrimitiveData(e,r,n,a){return JI(e,r,n,a)}parseArrayData(e,r,n,a){return JI(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,A=[];let h,f,g,x;for(h=n,f=n+a;h<f;++h)x=r[h],g={},g[i.axis]=i.parse(Vu(x,d),h),A.push(sq(Vu(x,u),g,o,h));return A}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(e),o=i._custom,l=r5(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:A,includeOptions:h}=this._getSharedOptions(r,a);for(let f=r;f<r+n;f++){const g=this.getParsed(f),x=i||ar(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),p=(g._stacks||{})[l.axis],y={horizontal:d,base:x.base,enableBorderRadius:!p||r5(g._custom)||o===p._top||o===p._bottom,x:d?x.head:m.center,y:d?m.center:x.head,height:d?m.size:Math.abs(x.size),width:d?Math.abs(x.size):m.size};h&&(y.options=A||this.resolveDataElementOptions(f,e[f].active?"active":a));const w=y.options||e[f].options;gye(y,w,p,o),yye(y,w,u.ratio),this.updateElement(e[f],f,y,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],d=u=>{const A=u._parsed.find(f=>f[n.axis]===c),h=A&&A[u.vScale.axis];if(ar(h)||isNaN(h))return!0};for(const u of a)if(!(r!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Ut(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||uye(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=r5(d);let A=c[r.axis],h=0,f=n?this.applyStack(r,c,n):A,g,x;f!==A&&(h=f-A,f=A),u&&(A=d.barStart,f=d.barEnd-d.barStart,A!==0&&Do(A)!==Do(d.barEnd)&&(h=0),h+=A);const m=!ar(i)&&!u?i:h;let p=r.getPixelForValue(m);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(h+f):g=p,x=g-p,Math.abs(x)<o){x=mye(x,r,l)*o,A===l&&(p-=x/2);const y=r.getPixelForDecimal(0),w=r.getPixelForDecimal(1),S=Math.min(y,w),j=Math.max(y,w);p=Math.max(Math.min(p,j),S),g=p+x,n&&!u&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(g)-r.getValueForPixel(p))}if(p===r.getPixelForValue(l)){const y=Do(x)*r.getLineWidthForValue(l)/2;p+=y,x-=y}return{size:x,base:p,head:g,center:g+x/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,i=a.skipNull,o=Ut(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,A=a.barThickness==="flex"?hye(e,r,a,u*d):Aye(e,r,a,u*d),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Ut(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;l=A.start+A.chunk*g+A.chunk/2,c=Math.min(o,A.chunk*A.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}it(bb,"id","bar"),it(bb,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),it(bb,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function vye(t,e,r){let n=1,a=1,i=0,o=0;if(e<Wr){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),A=Math.cos(c),h=Math.sin(c),f=(w,S,j)=>p0(w,l,c,!0)?1:Math.max(S,S*r,j,j*r),g=(w,S,j)=>p0(w,l,c,!0)?-1:Math.min(S,S*r,j,j*r),x=f(0,d,A),m=f($n,u,h),p=g(dr,d,A),y=g(dr+$n,u,h);n=(x-p)/2,a=(m-y)/2,i=-(x+p)/2,o=-(m+y)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class Ih extends Tu{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=c=>+n[c];if(Vt(n[e])){const{key:c="value"}=this._parsing;i=d=>+Vu(n[d],c)}let o,l;for(o=e,l=e+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return wl(this.options.rotation-90)}_getCircumference(){return wl(this.options.circumference)}_getRotationExtents(){let e=Wr,r=-Wr;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(B0e(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:A}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:x}=vye(A,u,c),m=(n.width-o)/h,p=(n.height-o)/f,y=Math.max(Math.min(m,p)/2,0),w=Oz(this.options.radius,y),S=Math.max(w*c,0),j=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=x*w,a.total=this.calculateTotal(),this.outerRadius=w-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Wr)}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,A=(l.top+l.bottom)/2,h=i&&d.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:x,includeOptions:m}=this._getSharedOptions(r,a);let p=this._getRotation(),y;for(y=0;y<r;++y)p+=this._circumference(y,i);for(y=r;y<r+n;++y){const w=this._circumference(y,i),S=e[y],j={x:u+this.offsetX,y:A+this.offsetY,startAngle:p,endAngle:p+w,circumference:w,outerRadius:g,innerRadius:f};m&&(j.options=x||this.resolveDataElementOptions(y,S.active?"active":a)),p+=w,this.updateElement(S,y,j,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Wr*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=GE(r._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Ut(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}it(Ih,"id","doughnut"),it(Ih,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),it(Ih,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),it(Ih,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,d)=>{const A=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:A.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:A.borderWidth,strokeStyle:A.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(l||A.borderRadius),index:d}}):[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class wb extends Tu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=W0e(r,a,o);this._drawStart=l,this._drawCount=c,G0e(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:A}=this._getSharedOptions(r,a),h=o.axis,f=l.axis,{spanGaps:g,segment:x}=this.options,m=m0(g)?g:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||i||a==="none",y=r+n,w=e.length;let S=r>0&&this.getParsed(r-1);for(let j=0;j<w;++j){const _=e[j],F=p?_:{};if(j<r||j>=y){F.skip=!0;continue}const C=this.getParsed(j),E=ar(C[f]),T=F[h]=o.getPixelForValue(C[h],j),v=F[f]=i||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,C,c):C[f],j);F.skip=isNaN(T)||isNaN(v)||E,F.stop=j>0&&Math.abs(C[h]-S[h])>m,x&&(F.parsed=C,F.raw=d.data[j]),A&&(F.options=u||this.resolveDataElementOptions(j,_.active?"active":a)),p||this.updateElement(_,j,F,a),S=C}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}it(wb,"id","line"),it(wb,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),it(wb,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class uS extends Ih{}it(uS,"id","pie"),it(uS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function zd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rk{constructor(e){it(this,"options");this.options=e||{}}static override(e){Object.assign(rk.prototype,e)}init(){}formats(){return zd()}parse(){return zd()}format(){return zd()}add(){return zd()}diff(){return zd()}startOf(){return zd()}endOf(){return zd()}}var bye={_date:rk};function wye(t,e,r,n){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?H0e:xu;if(n){if(a._sharedOptions){const u=i[0],A=typeof u.getRange=="function"&&u.getRange(e);if(A){const h=d(i,e,r-A),f=d(i,e,r+A);return{lo:h.lo,hi:f.hi}}}}else{const u=d(i,e,r);if(c){const{vScale:A}=a._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(x=>!ar(x[A.axis]));u.lo-=Math.max(0,f);const g=h.slice(u.hi).findIndex(x=>!ar(x[A.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function C2(t,e,r,n,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:A,hi:h}=wye(i[l],e,o,a);for(let f=A;f<=h;++f){const g=u[f];g.skip||n(g,d,f)}}}function jye(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function n5(t,e,r,n,a){const i=[];return!a&&!t.isPointInArea(e)||C2(t,r,e,function(l,c,d){!a&&!g0(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function Nye(t,e,r,n){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:A}=Mz(o,{x:e.x,y:e.y});p0(A,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return C2(t,r,e,i),a}function _ye(t,e,r,n,a,i){let o=[];const l=jye(r);let c=Number.POSITIVE_INFINITY;function d(u,A,h){const f=u.inRange(e.x,e.y,a);if(n&&!f)return;const g=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(g))&&!f)return;const m=l(e,g);m<c?(o=[{element:u,datasetIndex:A,index:h}],c=m):m===c&&o.push({element:u,datasetIndex:A,index:h})}return C2(t,r,e,d),o}function s5(t,e,r,n,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?Nye(t,e,r,a):_ye(t,e,r,n,a,i)}function tL(t,e,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return C2(t,r,e,(c,d,u)=>{c[o]&&c[o](e[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:i}var Cye={modes:{index(t,e,r,n){const a=Zd(e,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?n5(t,a,i,n,o):s5(t,a,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,A=d.data[u];A&&!A.skip&&c.push({element:A,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,n){const a=Zd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?n5(t,a,i,n,o):s5(t,a,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,r,n){const a=Zd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return n5(t,a,i,n,o)},nearest(t,e,r,n){const a=Zd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return s5(t,a,i,r.intersect,n,o)},x(t,e,r,n){const a=Zd(e,t);return tL(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=Zd(e,t);return tL(t,a,"y",r.intersect,n)}}};const aq=["left","top","right","bottom"];function mp(t,e){return t.filter(r=>r.pos===e)}function rL(t,e){return t.filter(r=>aq.indexOf(r.pos)===-1&&r.box.axis===e)}function pp(t,e){return t.sort((r,n)=>{const a=e?n:r,i=e?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function Sye(t){const e=[];let r,n,a,i,o,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function Bye(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!aq.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Eye(t,e){const r=Bye(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=u?u*a:c&&e.availableHeight)}return r}function kye(t){const e=Sye(t),r=pp(e.filter(d=>d.box.fullSize),!0),n=pp(mp(e,"left"),!0),a=pp(mp(e,"right")),i=pp(mp(e,"top"),!0),o=pp(mp(e,"bottom")),l=rL(e,"x"),c=rL(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:mp(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function nL(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function iq(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Fye(t,e,r,n){const{pos:a,box:i}=r,o=t.maxPadding;if(!Vt(a)){r.size&&(t[a]-=r.size);const A=n[r.stack]||{size:0,count:1};A.size=Math.max(A.size,r.horizontal?i.height:i.width),r.size=A.size/A.count,t[a]+=r.size}i.getPadding&&iq(o,i.getPadding());const l=Math.max(0,e.outerWidth-nL(o,t,"left","right")),c=Math.max(0,e.outerHeight-nL(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function Pye(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function Tye(t,e){const r=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Vp(t,e,r,n){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,Tye(l.horizontal,e));const{same:A,other:h}=Fye(e,r,l,n);d|=A&&a.length,u=u||h,c.fullSize||a.push(l)}return d&&Vp(a,e,r,n)||u}function Sv(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function sL(t,e,r,n){const a=r.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const A=e.w*u,h=d.size||c.height;f0(d.start)&&(o=d.start),c.fullSize?Sv(c,a.left,o,r.outerWidth-a.right-a.left,h):Sv(c,e.left+d.placed,o,A,h),d.start=o,d.placed+=A,o=c.bottom}else{const A=e.h*u,h=d.size||c.width;f0(d.start)&&(i=d.start),c.fullSize?Sv(c,i,a.top,h,r.outerHeight-a.bottom-a.top):Sv(c,i,e.top+d.placed,h,A),d.start=i,d.placed+=A,i=c.right}}e.x=i,e.y=o}var mi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=ji(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),l=kye(t.boxes),c=l.vertical,d=l.horizontal;cr(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,m)=>m.box.options&&m.box.options.display===!1?x:x+1,0)||1,A=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},a);iq(h,ji(n));const f=Object.assign({maxPadding:h,w:i,h:o,x:a.left,y:a.top},a),g=Eye(c.concat(d),A);Vp(l.fullSize,f,A,g),Vp(c,f,A,g),Vp(d,f,A,g)&&Vp(c,f,A,g),Pye(f),sL(l.leftAndTop,f,A,g),f.x+=f.w,f.y+=f.h,sL(l.rightAndBottom,f,A,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},cr(l.chartArea,x=>{const m=x.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class oq{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Oye extends oq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const jb="$chartjs",Iye={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aL=t=>t===null||t==="";function Lye(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[jb]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",aL(a)){const i=$I(t,"width");i!==void 0&&(t.width=i)}if(aL(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=$I(t,"height");i!==void 0&&(t.height=i)}return t}const lq=Dxe?{passive:!0}:!1;function Mye(t,e,r){t&&t.addEventListener(e,r,lq)}function Dye(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,lq)}function Uye(t,e){const r=Iye[t.type]||t.type,{x:n,y:a}=Zd(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Ew(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Rye(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Ew(l.addedNodes,n),o=o&&!Ew(l.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Qye(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Ew(l.removedNodes,n),o=o&&!Ew(l.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const y0=new Map;let iL=0;function cq(){const t=window.devicePixelRatio;t!==iL&&(iL=t,y0.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function $ye(t,e){y0.size||window.addEventListener("resize",cq),y0.set(t,e)}function Hye(t){y0.delete(t),y0.size||window.removeEventListener("resize",cq)}function zye(t,e,r){const n=t.canvas,a=n&&tk(n);if(!a)return;const i=Qz((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),$ye(t,i),o}function a5(t,e,r){r&&r.disconnect(),e==="resize"&&Hye(t)}function qye(t,e,r){const n=t.canvas,a=Qz(i=>{t.ctx!==null&&r(Uye(i,t))},t);return Mye(n,e,a),a}class Vye extends oq{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Lye(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[jb])return!1;const n=r[jb].initial;["height","width"].forEach(i=>{const o=n[i];ar(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[jb],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:Rye,detach:Qye,resize:zye}[r]||qye;a[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:a5,detach:a5,resize:a5}[r]||Dye)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return Mxe(e,r,n,a)}isAttached(e){const r=e&&tk(e);return!!(r&&r.isConnected)}}function Kye(t){return!ek()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Oye:Vye}var Kv;let Gl=(Kv=class{constructor(){it(this,"x");it(this,"y");it(this,"active",!1);it(this,"options");it(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return m0(this.x)&&m0(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},it(Kv,"defaults",{}),it(Kv,"defaultRoutes"),Kv);function Wye(t,e){const r=t.options.ticks,n=Gye(t),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Yye(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return Jye(e,d,i,o/a),d;const u=Xye(i,e,a);if(o>0){let A,h;const f=o>1?Math.round((c-l)/(o-1)):null;for(Bv(e,d,u,ar(f)?0:l-f,l),A=0,h=o-1;A<h;A++)Bv(e,d,u,i[A],i[A+1]);return Bv(e,d,u,c,ar(f)?e.length:c+f),d}return Bv(e,d,u),d}function Gye(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function Xye(t,e,r){const n=Zye(t),a=e.length/r;if(!n)return Math.max(a,1);const i=L0e(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function Yye(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function Jye(t,e,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*n])}function Bv(t,e,r,n,a){const i=Ut(n,0),o=Math.min(Ut(a,t.length),t.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*r))}function Zye(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const eve=t=>t==="left"?"right":t==="right"?"left":t,oL=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,lL=(t,e)=>Math.min(e||t,t);function cL(t,e){const r=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)r.push(t[Math.floor(i)]);return r}function tve(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(r&&(n===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function rve(t,e){cr(t,r=>{const n=r.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function gp(t){return t.drawTicks?t.tickLength:0}function dL(t,e){if(!t.display)return 0;const r=Is(t.font,e),n=ji(t.padding);return(kn(t.text)?t.text.length:1)*r.lineHeight+n.height}function nve(t,e){return oA(t,{scale:e,type:"scale"})}function sve(t,e,r){return oA(t,{tick:r,index:e,type:"tick"})}function ave(t,e,r){let n=KE(t);return(r&&e!=="right"||!r&&e==="right")&&(n=eve(n)),n}function ive(t,e,r,n){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let A=0,h,f,g;const x=o-a,m=l-i;if(t.isHorizontal()){if(f=_s(n,i,l),Vt(r)){const p=Object.keys(r)[0],y=r[p];g=u[p].getPixelForValue(y)+x-e}else r==="center"?g=(d.bottom+d.top)/2+x-e:g=oL(t,r,e);h=l-i}else{if(Vt(r)){const p=Object.keys(r)[0],y=r[p];f=u[p].getPixelForValue(y)-m+e}else r==="center"?f=(d.left+d.right)/2-m+e:f=oL(t,r,e);g=_s(n,o,a),A=r==="left"?-$n:$n}return{titleX:f,titleY:g,maxWidth:h,rotation:A}}class om extends Gl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=jo(e,Number.POSITIVE_INFINITY),r=jo(r,Number.NEGATIVE_INFINITY),n=jo(n,Number.POSITIVE_INFINITY),a=jo(a,Number.NEGATIVE_INFINITY),{min:jo(e,n),max:jo(r,a),minDefined:Us(e),maxDefined:Us(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:jo(r,jo(n,r)),max:jo(n,jo(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Or(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mxe(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?cL(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Wye(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Or(this.options.afterUpdate,[this])}beforeSetDimensions(){Or(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Or(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Or(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Or(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=Or(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Or(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Or(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=lL(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),A=u.widest.width,h=u.highest.height,f=Os(this.chart.width-A,0,this.maxWidth);l=e.offset?this.maxWidth/n:f/(n-1),A+6>l&&(l=f/(n-(e.offset?.5:1)),c=this.maxHeight-gp(e.grid)-r.padding-dL(e.title,this.chart.options.font),d=Math.sqrt(A*A+h*h),o=R0e(Math.min(Math.asin(Os((u.highest.height+6)/l,-1,1)),Math.asin(Os(c/d,-1,1))-Math.asin(Os(h/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Or(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Or(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=dL(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=gp(i)+c):(e.height=this.maxHeight,e.width=gp(i)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:A,highest:h}=this._getLabelSizes(),f=n.padding*2,g=wl(this.labelRotation),x=Math.cos(g),m=Math.sin(g);if(l){const p=n.mirror?0:m*A.width+x*h.height;e.height=Math.min(this.maxHeight,e.height+p+f)}else{const p=n.mirror?0:x*A.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+p+f)}this._calculatePadding(d,u,m,x)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,A=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;c?d?(h=a*e.width,f=n*r.height):(h=n*e.height,f=a*r.width):i==="start"?f=r.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,f=r.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-A+o)*this.width/(this.width-A),0)}else{let u=r.height/2,A=e.height/2;i==="start"?(u=0,A=e.height):i==="end"&&(u=r.height,A=0),this.paddingTop=u+o,this.paddingBottom=A+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Or(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)ar(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=cL(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/lL(r,n));let d=0,u=0,A,h,f,g,x,m,p,y,w,S,j;for(A=0;A<r;A+=c){if(g=e[A].label,x=this._resolveTickFontOptions(A),a.font=m=x.string,p=i[m]=i[m]||{data:{},gc:[]},y=x.lineHeight,w=S=0,!ar(g)&&!kn(g))w=MI(a,p.data,p.gc,w,g),S=y;else if(kn(g))for(h=0,f=g.length;h<f;++h)j=g[h],!ar(j)&&!kn(j)&&(w=MI(a,p.data,p.gc,w,j),S+=y);o.push(w),l.push(S),d=Math.max(w,d),u=Math.max(S,u)}rve(i,r);const _=o.indexOf(d),F=l.indexOf(u),C=E=>({width:o[E]||0,height:l[E]||0});return{first:C(0),last:C(r-1),widest:C(_),highest:C(F),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return $0e(this._alignToPixels?Hd(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=sve(this.getContext(),e,n))}return this.$context||(this.$context=nve(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=wl(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),A=this.ticks.length+(c?1:0),h=gp(i),f=[],g=l.setContext(this.getContext()),x=g.display?g.width:0,m=x/2,p=function(D){return Hd(n,D,x)};let y,w,S,j,_,F,C,E,T,v,N,O;if(o==="top")y=p(this.bottom),F=this.bottom-h,E=y-m,v=p(e.top)+m,O=e.bottom;else if(o==="bottom")y=p(this.top),v=e.top,O=p(e.bottom)-m,F=y+m,E=this.top+h;else if(o==="left")y=p(this.right),_=this.right-h,C=y-m,T=p(e.left)+m,N=e.right;else if(o==="right")y=p(this.left),T=e.left,N=p(e.right)-m,_=y+m,C=this.left+h;else if(r==="x"){if(o==="center")y=p((e.top+e.bottom)/2+.5);else if(Vt(o)){const D=Object.keys(o)[0],U=o[D];y=p(this.chart.scales[D].getPixelForValue(U))}v=e.top,O=e.bottom,F=y+m,E=F+h}else if(r==="y"){if(o==="center")y=p((e.left+e.right)/2);else if(Vt(o)){const D=Object.keys(o)[0],U=o[D];y=p(this.chart.scales[D].getPixelForValue(U))}_=y-m,C=_-h,T=e.left,N=e.right}const L=Ut(a.ticks.maxTicksLimit,A),Q=Math.max(1,Math.ceil(A/L));for(w=0;w<A;w+=Q){const D=this.getContext(w),U=i.setContext(D),R=l.setContext(D),z=U.lineWidth,Y=U.color,X=R.dash||[],$=R.dashOffset,M=U.tickWidth,G=U.tickColor,V=U.tickBorderDash||[],ae=U.tickBorderDashOffset;S=tve(this,w,c),S!==void 0&&(j=Hd(n,S,z),d?_=C=T=N=j:F=E=v=O=j,f.push({tx1:_,ty1:F,tx2:C,ty2:E,x1:T,y1:v,x2:N,y2:O,width:z,color:Y,borderDash:X,borderDashOffset:$,tickWidth:M,tickColor:G,tickBorderDash:V,tickBorderDashOffset:ae}))}return this._ticksLength=A,this._borderValue=y,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:A}=i,h=gp(n.grid),f=h+u,g=A?-u:f,x=-wl(this.labelRotation),m=[];let p,y,w,S,j,_,F,C,E,T,v,N,O="middle";if(a==="top")_=this.bottom-g,F=this._getXAxisLabelAlignment();else if(a==="bottom")_=this.top+g,F=this._getXAxisLabelAlignment();else if(a==="left"){const Q=this._getYAxisLabelAlignment(h);F=Q.textAlign,j=Q.x}else if(a==="right"){const Q=this._getYAxisLabelAlignment(h);F=Q.textAlign,j=Q.x}else if(r==="x"){if(a==="center")_=(e.top+e.bottom)/2+f;else if(Vt(a)){const Q=Object.keys(a)[0],D=a[Q];_=this.chart.scales[Q].getPixelForValue(D)+f}F=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")j=(e.left+e.right)/2-f;else if(Vt(a)){const Q=Object.keys(a)[0],D=a[Q];j=this.chart.scales[Q].getPixelForValue(D)}F=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(c==="start"?O="top":c==="end"&&(O="bottom"));const L=this._getLabelSizes();for(p=0,y=l.length;p<y;++p){w=l[p],S=w.label;const Q=i.setContext(this.getContext(p));C=this.getPixelForTick(p)+i.labelOffset,E=this._resolveTickFontOptions(p),T=E.lineHeight,v=kn(S)?S.length:1;const D=v/2,U=Q.color,R=Q.textStrokeColor,z=Q.textStrokeWidth;let Y=F;o?(j=C,F==="inner"&&(p===y-1?Y=this.options.reverse?"left":"right":p===0?Y=this.options.reverse?"right":"left":Y="center"),a==="top"?d==="near"||x!==0?N=-v*T+T/2:d==="center"?N=-L.highest.height/2-D*T+T:N=-L.highest.height+T/2:d==="near"||x!==0?N=T/2:d==="center"?N=L.highest.height/2-D*T:N=L.highest.height-v*T,A&&(N*=-1),x!==0&&!Q.showLabelBackdrop&&(j+=T/2*Math.sin(x))):(_=C,N=(1-v)*T/2);let X;if(Q.showLabelBackdrop){const $=ji(Q.backdropPadding),M=L.heights[p],G=L.widths[p];let V=N-$.top,ae=0-$.left;switch(O){case"middle":V-=M/2;break;case"bottom":V-=M;break}switch(F){case"center":ae-=G/2;break;case"right":ae-=G;break;case"inner":p===y-1?ae-=G:p>0&&(ae-=G/2);break}X={left:ae,top:V,width:G+$.width,height:M+$.height,color:Q.backdropColor}}m.push({label:S,font:E,textOffset:N,options:{rotation:x,color:U,strokeColor:R,strokeWidth:z,textAlign:Y,textBaseline:O,translation:[j,_],backdrop:X}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-wl(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,A,h;this.isHorizontal()?(d=Hd(e,this.left,o)-o/2,u=Hd(e,this.right,l)+l/2,A=h=c):(A=Hd(e,this.top,o)-o/2,h=Hd(e,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,A),r.lineTo(u,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&j2(n,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;x0(n,d,0,u,c,l)}a&&N2(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=Is(n.font),o=ji(n.padding),l=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||Vt(r)?(c+=o.bottom,kn(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:A,rotation:h}=ive(this,c,r,l);x0(e,n.text,0,0,i,{color:n.color,maxWidth:A,rotation:h,textAlign:ave(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Ut(e.grid&&e.grid.z,-1),a=Ut(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==om.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Is(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ev{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;cve(r)&&(n=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,ove(e,o,n),this.override&&gn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in gn[a]&&(delete gn[a][n],this.override&&delete Ku[n])}}function ove(t,e,r){const n=h0(Object.create(null),[r?gn.get(r):{},gn.get(e),t.defaults]);gn.set(e,n),t.defaultRoutes&&lve(e,t.defaultRoutes),t.descriptors&&gn.describe(e,t.descriptors)}function lve(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),l=o.pop(),c=o.join(".");gn.route(i,a,c,l)})}function cve(t){return"id"in t&&"defaults"in t}class dve{constructor(){this.controllers=new Ev(Tu,"datasets",!0),this.elements=new Ev(Gl,"elements"),this.plugins=new Ev(Object,"plugins"),this.scales=new Ev(om,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):cr(a,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,r,n){const a=qE(e);Or(n["before"+a],[],n),r[e](n),Or(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Bo=new dve;class uve{constructor(){this._init=void 0}notify(e,r,n,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,n,a){a=a||{};for(const i of e){const o=i.plugin,l=o[n],c=[r,a,i.options];if(Or(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){ar(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Ut(n.options&&n.options.plugins,{}),i=Ave(n);return a===!1&&!r?[]:fve(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Ave(t){const e={},r=[],n=Object.keys(Bo.plugins.items);for(let i=0;i<n.length;i++)r.push(Bo.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function hve(t,e){return!e&&t===!1?null:t===!0?{}:t}function fve(t,{plugins:e,localIds:r},n,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=hve(n[c],a);d!==null&&i.push({plugin:l,options:mve(t.config,{plugin:l,local:r[c]},d,o)})}return i}function mve(t,{plugin:e,local:r},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function AS(t,e){const r=gn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function pve(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function gve(t,e){return t===e?"_index_":"_value_"}function uL(t){if(t==="x"||t==="y"||t==="r")return t}function xve(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function hS(t,...e){if(uL(t))return t;for(const r of e){const n=r.axis||xve(r.position)||t.length>1&&uL(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function AL(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function yve(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return AL(t,"x",r[0])||AL(t,"y",r[0])}return{}}function vve(t,e){const r=Ku[t.type]||{scales:{}},n=e.scales||{},a=AS(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!Vt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=hS(o,l,yve(o,t),gn.scales[l.type]),d=gve(c,a),u=r.scales||{};i[o]=bg(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||AS(l,e),u=(Ku[l]||{}).scales||{};Object.keys(u).forEach(A=>{const h=pve(A,c),f=o[h+"AxisID"]||h;i[f]=i[f]||Object.create(null),bg(i[f],[{axis:h},n[f],u[A]])})}),Object.keys(i).forEach(o=>{const l=i[o];bg(l,[gn.scales[l.type],gn.scale])}),i}function dq(t){const e=t.options||(t.options={});e.plugins=Ut(e.plugins,{}),e.scales=vve(t,e)}function uq(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bve(t){return t=t||{},t.data=uq(t.data),dq(t),t}const hL=new Map,Aq=new Set;function kv(t,e){let r=hL.get(t);return r||(r=e(),hL.set(t,r),Aq.add(r)),r}const xp=(t,e,r)=>{const n=Vu(e,r);n!==void 0&&t.add(n)};class wve{constructor(e){this._config=bve(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uq(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dq(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return kv(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return kv(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return kv(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(A=>xp(c,e,A))),u.forEach(A=>xp(c,a,A)),u.forEach(A=>xp(c,Ku[i]||{},A)),u.forEach(A=>xp(c,gn,A)),u.forEach(A=>xp(c,cS,A))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Aq.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,Ku[r]||{},gn.datasets[r]||{},{type:r},gn,cS]}resolveNamedOptions(e,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=fL(this._resolverCache,e,a);let c=o;if(Nve(o,r)){i.$shared=!1,n=fd(n)?n():n;const d=this.createResolver(e,n,l);c=jf(o,n,d)}for(const d of r)i[d]=c[d];return i}createResolver(e,r,n=[""],a){const{resolver:i}=fL(this._resolverCache,e,n);return Vt(r)?jf(i,r,void 0,a):i}}function fL(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let i=n.get(a);return i||(i={resolver:YE(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const jve=t=>Vt(t)&&Object.getOwnPropertyNames(t).some(e=>fd(t[e]));function Nve(t,e){const{isScriptable:r,isIndexable:n}=qz(t);for(const a of e){const i=r(a),o=n(a),l=(o||i)&&t[a];if(i&&(fd(l)||jve(l))||o&&kn(l))return!0}return!1}var _ve="4.5.1";const Cve=["top","bottom","left","right","chartArea"];function mL(t,e){return t==="top"||t==="bottom"||Cve.indexOf(t)===-1&&e==="x"}function pL(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function gL(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Or(r&&r.onComplete,[t],e)}function Sve(t){const e=t.chart,r=e.options.animation;Or(r&&r.onProgress,[t],e)}function hq(t){return ek()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Nb={},xL=t=>{const e=hq(t);return Object.values(Nb).filter(r=>r.canvas===e).pop()};function Bve(t,e,r){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function Eve(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var yc;let lA=(yc=class{static register(...e){Bo.add(...e),yL()}static unregister(...e){Bo.remove(...e),yL()}constructor(e,r){const n=this.config=new wve(r),a=hq(e),i=xL(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Kye(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=S0e(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uve,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=V0e(A=>this.update(A),o.resizeDelay||0),this._dataChanges=[],Nb[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}dl.listen(this,"complete",gL),dl.listen(this,"progress",Sve),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return ar(e)?r&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return DI(this.canvas,this.ctx),this}stop(){return dl.stop(this),this}resize(e,r){dl.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,QI(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Or(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};cr(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=hS(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),cr(i,o=>{const l=o.options,c=l.id,d=hS(c,l),u=Ut(l.type,o.dtype);(l.position===void 0||mL(l.position,d)!==mL(o.dposition))&&(l.position=o.dposition),a[c]=!0;let A=null;if(c in n&&n[c].type===u)A=n[c];else{const h=Bo.getScale(u);A=new h({id:c,type:u,ctx:this.ctx,chart:this}),n[A.id]=A}A.init(l,e)}),cr(a,(o,l)=>{o||delete n[l]}),cr(n,o=>{mi.configure(this,o,o.options),mi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(pL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||AS(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Bo.getController(l),{datasetElementType:d,dataElementType:u}=gn.datasets[l];Object.assign(c,{dataElementType:Bo.getElement(u),datasetElementType:d&&Bo.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){cr(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:A}=this.getDatasetMeta(d),h=!a&&i.indexOf(A)===-1;A.buildOrUpdateElements(h),o=Math.max(+A.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||cr(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pL("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){cr(this.scales,e=>{mi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!BI(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;Bve(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!BI(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mi.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],cr(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,fd(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dl.has(this)?this.attached&&!dl.running(this)&&dl.start(this):(this.draw(),gL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=tq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&j2(r,a),e.controller.draw(),a&&N2(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return g0(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const i=Cye.modes[r];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=oA(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);f0(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),dl.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),DI(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Nb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};cr(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){cr(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},cr(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Nw(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(A=>u.datasetIndex===A.datasetIndex&&u.index===A.index)),o=i(r,e),l=n?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(e,a,n,o),c=T0e(e),d=Eve(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Or(i.onHover,[e,l,this],this),c&&Or(i.onClick,[e,l,this],this));const u=!Nw(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}},it(yc,"defaults",gn),it(yc,"instances",Nb),it(yc,"overrides",Ku),it(yc,"registry",Bo),it(yc,"version",_ve),it(yc,"getChart",xL),yc);function yL(){return cr(lA.instances,t=>t._plugins.invalidate())}function kve(t,e,r){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,A=Math.min(d/o,Ia(n-r));if(t.beginPath(),t.arc(a,i,o-d/2,n+A/2,r-A/2),l>0){const h=Math.min(d/l,Ia(n-r));t.arc(a,i,l+d/2,r-h/2,n+h/2,!0)}else{const h=Math.min(d/2,o*Ia(n-r));if(u==="round")t.arc(a,i,h,r-dr/2,n+dr/2,!0);else if(u==="bevel"){const f=2*h*h,g=-f*Math.cos(r+dr/2)+a,x=-f*Math.sin(r+dr/2)+i,m=f*Math.cos(n+dr/2)+a,p=f*Math.sin(n+dr/2)+i;t.lineTo(g,x),t.lineTo(m,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Fve(t,e,r){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,n-d,r+d),c>a?(d=a/c,t.arc(i,o,c,r+d,n-d,!0)):t.arc(i,o,a,r+$n,n-$n),t.closePath(),t.clip()}function Pve(t){return XE(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Tve(t,e,r,n){const a=Pve(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),l=c=>{const d=(r-Math.min(i,c))*n/2;return Os(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Os(a.innerStart,0,o),innerEnd:Os(a.innerEnd,0,o)}}function sh(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function kw(t,e,r,n,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,A=Math.max(e.outerRadius+n+r-d,0),h=u>0?u+n+r+d:0;let f=0;const g=a-c;if(n){const Q=u>0?u-n:0,D=A>0?A-n:0,U=(Q+D)/2,R=U!==0?g*U/(U+n):g;f=(g-R)/2}const x=Math.max(.001,g*A-r/dr)/A,m=(g-x)/2,p=c+m+f,y=a-m-f,{outerStart:w,outerEnd:S,innerStart:j,innerEnd:_}=Tve(e,h,A,y-p),F=A-w,C=A-S,E=p+w/F,T=y-S/C,v=h+j,N=h+_,O=p+j/v,L=y-_/N;if(t.beginPath(),i){const Q=(E+T)/2;if(t.arc(o,l,A,E,Q),t.arc(o,l,A,Q,T),S>0){const z=sh(C,T,o,l);t.arc(z.x,z.y,S,T,y+$n)}const D=sh(N,y,o,l);if(t.lineTo(D.x,D.y),_>0){const z=sh(N,L,o,l);t.arc(z.x,z.y,_,y+$n,L+Math.PI)}const U=(y-_/h+(p+j/h))/2;if(t.arc(o,l,h,y-_/h,U,!0),t.arc(o,l,h,U,p+j/h,!0),j>0){const z=sh(v,O,o,l);t.arc(z.x,z.y,j,O+Math.PI,p-$n)}const R=sh(F,p,o,l);if(t.lineTo(R.x,R.y),w>0){const z=sh(F,E,o,l);t.arc(z.x,z.y,w,p-$n,E)}}else{t.moveTo(o,l);const Q=Math.cos(E)*A+o,D=Math.sin(E)*A+l;t.lineTo(Q,D);const U=Math.cos(T)*A+o,R=Math.sin(T)*A+l;t.lineTo(U,R)}t.closePath()}function Ove(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){kw(t,e,r,n,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%Wr||Wr))}return kw(t,e,r,n,c,a),t.fill(),c}function Ive(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:A,borderDashOffset:h,borderRadius:f}=c,g=c.borderAlign==="inner";if(!d)return;t.setLineDash(A||[]),t.lineDashOffset=h,g?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let x=e.endAngle;if(i){kw(t,e,r,n,x,a);for(let m=0;m<i;++m)t.stroke();isNaN(l)||(x=o+(l%Wr||Wr))}g&&Fve(t,e,x),c.selfJoin&&x-o>=dr&&f===0&&u!=="miter"&&kve(t,e,x),i||(kw(t,e,r,n,x,a),t.stroke())}class yu extends Gl{constructor(r){super();it(this,"circumference");it(this,"endAngle");it(this,"fullCircles");it(this,"innerRadius");it(this,"outerRadius");it(this,"pixelMargin");it(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=Mz(i,{x:r,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:A,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),f=(this.options.spacing+this.options.borderWidth)/2,g=Ut(h,d-c),x=p0(o,c,d)&&c!==d,m=g>=Wr||x,p=jl(l,u+f,A+f);return m&&p}getCenterPoint(r){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,A=(i+o)/2,h=(l+c+u+d)/2;return{x:n+Math.cos(A)*h,y:a+Math.sin(A)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Wr?Math.floor(a/Wr):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(dr,a||0)),u=i*d;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,Ove(r,this,u,o,l),Ive(r,this,u,o,l),r.restore()}}it(yu,"id","arc"),it(yu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),it(yu,"defaultRoutes",{backgroundColor:"backgroundColor"}),it(yu,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function fq(t,e,r=e){t.lineCap=Ut(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Ut(r.borderDash,e.borderDash)),t.lineDashOffset=Ut(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Ut(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ut(r.borderWidth,e.borderWidth),t.strokeStyle=Ut(r.borderColor,e.borderColor)}function Lve(t,e,r){t.lineTo(r.x,r.y)}function Mve(t){return t.stepped?ixe:t.tension||t.cubicInterpolationMode==="monotone"?oxe:Lve}function mq(t,e,r={}){const n=t.length,{start:a=0,end:i=n-1}=r,{start:o,end:l}=e,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!u?n+d-c:d-c}}function Dve(t,e,r,n){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:d}=mq(a,r,n),u=Mve(i);let{move:A=!0,reverse:h}=n||{},f,g,x;for(f=0;f<=d;++f)g=a[(l+(h?d-f:f))%o],!g.skip&&(A?(t.moveTo(g.x,g.y),A=!1):u(t,x,g,h,i.stepped),x=g);return c&&(g=a[(l+(h?d:0))%o],u(t,x,g,h,i.stepped)),!!c}function Uve(t,e,r,n){const a=e.points,{count:i,start:o,ilen:l}=mq(a,r,n),{move:c=!0,reverse:d}=n||{};let u=0,A=0,h,f,g,x,m,p;const y=S=>(o+(d?l-S:S))%i,w=()=>{x!==m&&(t.lineTo(u,m),t.lineTo(u,x),t.lineTo(u,p))};for(c&&(f=a[y(0)],t.moveTo(f.x,f.y)),h=0;h<=l;++h){if(f=a[y(h)],f.skip)continue;const S=f.x,j=f.y,_=S|0;_===g?(j<x?x=j:j>m&&(m=j),u=(A*u+S)/++A):(w(),t.lineTo(S,j),g=_,A=0,x=m=j),p=j}w()}function fS(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Uve:Dve}function Rve(t){return t.stepped?Uxe:t.tension||t.cubicInterpolationMode==="monotone"?Rxe:eu}function Qve(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),fq(t,e.options),t.stroke(a)}function $ve(t,e,r,n){const{segments:a,options:i}=e,o=fS(e);for(const l of a)fq(t,i,l.style),t.beginPath(),o(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Hve=typeof Path2D=="function";function zve(t,e,r,n){Hve&&!e.options.segment?Qve(t,e,r,n):$ve(t,e,r,n)}class Ji extends Gl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Fxe(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Vxe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],i=this.points,o=eq(this,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=Rve(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:A,end:h}=o[d],f=i[A],g=i[h];if(f===g){l.push(f);continue}const x=Math.abs((a-f[r])/(g[r]-f[r])),m=c(f,g,x,n.stepped);m[r]=e[r],l.push(m)}return l.length===1?l[0]:l}pathSegment(e,r,n){return fS(this)(e,this,r,n)}path(e,r,n){const a=this.segments,i=fS(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)o&=i(e,this,l,{start:r,end:r+n-1});return!!o}draw(e,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),zve(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}it(Ji,"id","line"),it(Ji,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),it(Ji,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),it(Ji,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function vL(t,e,r,n){const a=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<a.radius+a.hitRadius}class Ou extends Gl{constructor(r){super();it(this,"parsed");it(this,"skip");it(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(r-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return vL(this,r,"x",n)}inYRange(r,n){return vL(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!g0(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,dS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}it(Ou,"id","point"),it(Ou,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),it(Ou,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pq(t,e){const{x:r,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,A;return t.horizontal?(A=o/2,l=Math.min(r,a),c=Math.max(r,a),d=n-A,u=n+A):(A=i/2,l=r-A,c=r+A,d=Math.min(n,a),u=Math.max(n,a)),{left:l,top:d,right:c,bottom:u}}function $c(t,e,r,n){return t?0:Os(e,r,n)}function qve(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,i=zz(n);return{t:$c(a.top,i.top,0,r),r:$c(a.right,i.right,0,e),b:$c(a.bottom,i.bottom,0,r),l:$c(a.left,i.left,0,e)}}function Vve(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=sf(a),o=Math.min(e,r),l=t.borderSkipped,c=n||Vt(a);return{topLeft:$c(!c||l.top||l.left,i.topLeft,0,o),topRight:$c(!c||l.top||l.right,i.topRight,0,o),bottomLeft:$c(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:$c(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Kve(t){const e=pq(t),r=e.right-e.left,n=e.bottom-e.top,a=qve(t,r/2,n/2),i=Vve(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function i5(t,e,r,n){const a=e===null,i=r===null,l=t&&!(a&&i)&&pq(t,n);return l&&(a||jl(e,l.left,l.right))&&(i||jl(r,l.top,l.bottom))}function Wve(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Gve(t,e){t.rect(e.x,e.y,e.w,e.h)}function o5(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class of extends Gl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=Kve(this),l=Wve(o.radius)?Sw:Gve;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,o5(o,r,i)),e.clip(),l(e,o5(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,o5(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return i5(this,e,r,n)}inXRange(e,r){return i5(this,e,null,r)}inYRange(e,r){return i5(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}it(of,"id","bar"),it(of,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),it(of,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Xve(t,e,r){const n=t.segments,a=t.points,i=e.points,o=[];for(const l of n){let{start:c,end:d}=l;d=S2(c,d,a);const u=mS(r,a[c],a[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:a[c],end:a[d]});continue}const A=eq(e,u);for(const h of A){const f=mS(r,i[h.start],i[h.end],h.loop),g=Zz(l,a,f);for(const x of g)o.push({source:x,target:h,start:{[r]:bL(u,f,"start",Math.max)},end:{[r]:bL(u,f,"end",Math.min)}})}}return o}function mS(t,e,r,n){if(n)return;let a=e[t],i=r[t];return t==="angle"&&(a=Ia(a),i=Ia(i)),{property:t,start:a,end:i}}function Yve(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=S2(o,l,a);const c=a[o],d=a[l];n!==null?(i.push({x:c.x,y:n}),i.push({x:d.x,y:n})):r!==null&&(i.push({x:r,y:c.y}),i.push({x:r,y:d.y}))}),i}function S2(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function bL(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function gq(t,e){let r=[],n=!1;return kn(t)?(n=!0,r=t):r=Yve(t,e),r.length?new Ji({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function wL(t){return t&&t.fill!==!1}function Jve(t,e,r){let a=t[e].fill;const i=[e];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Us(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function Zve(t,e,r){const n=nbe(t);if(Vt(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Us(a)&&Math.floor(a)===a?ebe(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function ebe(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function tbe(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Vt(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function rbe(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Vt(t)?n=t.value:n=e.getBaseValue(),n}function nbe(t){const e=t.options,r=e.fill;let n=Ut(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function sbe(t){const{scale:e,index:r,line:n}=t,a=[],i=n.segments,o=n.points,l=abe(e,r);l.push(gq({x:null,y:e.bottom},n));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)ibe(a,o[u],l)}return new Ji({points:a,options:{}})}function abe(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function ibe(t,e,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:l,point:c}=obe(i,e,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function obe(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],A=o[u.start][r],h=o[u.end][r];if(jl(a,A,h)){l=a===A,c=a===h;break}}return{first:l,last:c,point:n}}class xq{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:Wr},e.arc(a,i,o,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function lbe(t){const{chart:e,fill:r,line:n}=t;if(Us(r))return cbe(e,r);if(r==="stack")return sbe(t);if(r==="shape")return!0;const a=dbe(t);return a instanceof xq?a:gq(a,n)}function cbe(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function dbe(t){return(t.scale||{}).getPointPositionForValue?Abe(t):ube(t)}function ube(t){const{scale:e={},fill:r}=t,n=tbe(r,e);if(Us(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Abe(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,o=rbe(r,e,i),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,i);return new xq({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,o));return l}function l5(t,e,r){const n=lbe(e),{chart:a,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,A=d.backgroundColor,{above:h=A,below:f=A}=u||{},g=a.getDatasetMeta(i),x=tq(a,g);n&&o.points.length&&(j2(t,r),hbe(t,{line:o,target:n,above:h,below:f,area:r,scale:l,axis:c,clip:x}),N2(t))}function hbe(t,e){const{line:r,target:n,above:a,below:i,area:o,scale:l,clip:c}=e,d=r._loop?"angle":e.axis;t.save();let u=i;i!==a&&(d==="x"?(jL(t,n,o.top),c5(t,{line:r,target:n,color:a,scale:l,property:d,clip:c}),t.restore(),t.save(),jL(t,n,o.bottom)):d==="y"&&(NL(t,n,o.left),c5(t,{line:r,target:n,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),NL(t,n,o.right),u=a)),c5(t,{line:r,target:n,color:u,scale:l,property:d,clip:c}),t.restore()}function jL(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],A=a[S2(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(A.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function NL(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],A=a[S2(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(r,A.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function c5(t,e){const{line:r,target:n,property:a,color:i,scale:o,clip:l}=e,c=Xve(r,n,a);for(const{source:d,target:u,start:A,end:h}of c){const{style:{backgroundColor:f=i}={}}=d,g=n!==!0;t.save(),t.fillStyle=f,fbe(t,o,l,g&&mS(a,A,h)),t.beginPath();const x=!!r.pathSegment(t,d);let m;if(g){x?t.closePath():_L(t,n,h,a);const p=!!n.pathSegment(t,u,{move:x,reverse:!0});m=x&&p,m||_L(t,n,A,a)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function fbe(t,e,r,n){const a=e.chart.chartArea,{property:i,start:o,end:l}=n||{};if(i==="x"||i==="y"){let c,d,u,A;i==="x"?(c=o,d=a.top,u=l,A=a.bottom):(c=a.left,d=o,u=a.right,A=l),t.beginPath(),r&&(c=Math.max(c,r.left),u=Math.min(u,r.right),d=Math.max(d,r.top),A=Math.min(A,r.bottom)),t.rect(c,d,u-c,A-d),t.clip()}}function _L(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var B2={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<n;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof Ji&&(c={visible:t.isDatasetVisible(o),index:o,fill:Zve(l,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<n;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=Jve(a,o,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&l5(t.ctx,l,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;wL(i)&&l5(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!wL(n)||r.drawTime!=="beforeDatasetDraw"||l5(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const CL=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},mbe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let SL=class extends Gl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Or(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Is(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=CL(n,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let A=e;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,x)=>{const m=n+r/2+i.measureText(g.text).width;(x===0||d[d.length-1]+m+2*l>o)&&(A+=u,d[d.length-(x>0?0:1)]=0,f+=u,h++),c[x]={left:0,top:f,row:h,width:m,height:a},d[d.length-1]+=m+l}),A}_fitCols(e,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let A=l,h=0,f=0,g=0,x=0;return this.legendItems.forEach((m,p)=>{const{itemWidth:y,itemHeight:w}=pbe(n,r,i,m,a);p>0&&f+w+2*l>u&&(A+=h+l,d.push({width:h,height:f}),g+=h+l,x++,h=f=0),c[p]={left:g,top:f,col:x,width:y,height:w},h=Math.max(h,y),f+=w+l}),A+=h,d.push({width:h,height:f}),A}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=af(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=_s(n,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=_s(n,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=_s(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=_s(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;j2(e,this),this._draw(),N2(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,l=gn.color,c=af(e.rtl,this.left,this.width),d=Is(o.font),{padding:u}=o,A=d.size,h=A/2;let f;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:g,boxHeight:x,itemHeight:m}=CL(o,A),p=function(_,F,C){if(isNaN(g)||g<=0||isNaN(x)||x<0)return;a.save();const E=Ut(C.lineWidth,1);if(a.fillStyle=Ut(C.fillStyle,l),a.lineCap=Ut(C.lineCap,"butt"),a.lineDashOffset=Ut(C.lineDashOffset,0),a.lineJoin=Ut(C.lineJoin,"miter"),a.lineWidth=E,a.strokeStyle=Ut(C.strokeStyle,l),a.setLineDash(Ut(C.lineDash,[])),o.usePointStyle){const T={radius:x*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:E},v=c.xPlus(_,g/2),N=F+h;Hz(a,T,v,N,o.pointStyleWidth&&g)}else{const T=F+Math.max((A-x)/2,0),v=c.leftForLtr(_,g),N=sf(C.borderRadius);a.beginPath(),Object.values(N).some(O=>O!==0)?Sw(a,{x:v,y:T,w:g,h:x,radius:N}):a.rect(v,T,g,x),a.fill(),E!==0&&a.stroke()}a.restore()},y=function(_,F,C){x0(a,C.text,_,F+m/2,d,{strikethrough:C.hidden,textAlign:c.textAlign(C.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?f={x:_s(i,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:_s(i,this.top+S+u,this.bottom-r[0].height),line:0},Xz(this.ctx,e.textDirection);const j=m+u;this.legendItems.forEach((_,F)=>{a.strokeStyle=_.fontColor,a.fillStyle=_.fontColor;const C=a.measureText(_.text).width,E=c.textAlign(_.textAlign||(_.textAlign=o.textAlign)),T=g+h+C;let v=f.x,N=f.y;c.setWidth(this.width),w?F>0&&v+T+u>this.right&&(N=f.y+=j,f.line++,v=f.x=_s(i,this.left+u,this.right-n[f.line])):F>0&&N+j>this.bottom&&(v=f.x=v+r[f.line].width+u,f.line++,N=f.y=_s(i,this.top+S+u,this.bottom-r[f.line].height));const O=c.x(v);if(p(O,N,_),v=K0e(E,v+g+h,w?v+T:this.right,e.rtl),y(c.x(v),N,_),w)f.x+=T+u;else if(typeof _.text!="string"){const L=d.lineHeight;f.y+=yq(_,L)+u}else f.y+=j}),Yz(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Is(r.font),a=ji(r.padding);if(!r.display)return;const i=af(e.rtl,this.left,this.width),o=this.ctx,l=r.position,c=n.size/2,d=a.top+c;let u,A=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+d,A=_s(e.align,A,this.right-h);else{const g=this.columnSizes.reduce((x,m)=>Math.max(x,m.height),0);u=d+_s(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=_s(l,A,A+h);o.textAlign=i.textAlign(KE(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,x0(o,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=Is(e.font),n=ji(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,i;if(jl(e,this.left,this.right)&&jl(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],jl(e,a.left,a.left+a.width)&&jl(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!ybe(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=mbe(a,n);a&&!i&&Or(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&Or(r.onHover,[e,n,this],this)}else n&&Or(r.onClick,[e,n,this],this)}};function pbe(t,e,r,n,a){const i=gbe(n,t,e,r),o=xbe(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function gbe(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(a).width}function xbe(t,e,r){let n=t;return typeof e.text!="string"&&(n=yq(e,r)),n}function yq(t,e){const r=t.text?t.text.length:0;return e*r}function ybe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var E2={id:"legend",_element:SL,start(t,e,r){const n=t.legend=new SL({ctx:t.ctx,options:r,chart:t});mi.configure(t,n,r),mi.addBox(t,n)},stop(t){mi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;mi.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=ji(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class vq extends Gl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=kn(n.text)?n.text.length:1;this._padding=ji(n.padding);const i=a*Is(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,A;return this.isHorizontal()?(u=_s(l,n,i),A=r+e,d=i-n):(o.position==="left"?(u=n+e,A=_s(l,a,r),c=dr*-.5):(u=i-e,A=_s(l,r,a),c=dr*.5),d=a-r),{titleX:u,titleY:A,maxWidth:d,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Is(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);x0(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:d,textAlign:KE(r.align),textBaseline:"middle",translation:[o,l]})}}function vbe(t,e){const r=new vq({ctx:t.ctx,options:e,chart:t});mi.configure(t,r,e),mi.addBox(t,r),t.titleBlock=r}var k2={id:"title",_element:vq,start(t,e,r){vbe(t,r)},stop(t){const e=t.titleBlock;mi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;mi.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kp={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=lS(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function _o(t,e){return e&&(kn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ul(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function bbe(t,e){const{element:r,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function BL(t,e){const r=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=Is(e.bodyFont),d=Is(e.titleFont),u=Is(e.footerFont),A=i.length,h=a.length,f=n.length,g=ji(e.padding);let x=g.height,m=0,p=n.reduce((S,j)=>S+j.before.length+j.lines.length+j.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,A&&(x+=A*d.lineHeight+(A-1)*e.titleSpacing+e.titleMarginBottom),p){const S=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=f*S+(p-f)*c.lineHeight+(p-1)*e.bodySpacing}h&&(x+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let y=0;const w=function(S){m=Math.max(m,r.measureText(S).width+y)};return r.save(),r.font=d.string,cr(t.title,w),r.font=c.string,cr(t.beforeBody.concat(t.afterBody),w),y=e.displayColors?o+2+e.boxPadding:0,cr(n,S=>{cr(S.before,w),cr(S.lines,w),cr(S.after,w)}),y=0,r.font=u.string,cr(t.footer,w),r.restore(),m+=g.width,{width:m,height:x}}function wbe(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function jbe(t,e,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function Nbe(t,e,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),jbe(d,t,e,r)&&(d="center"),d}function EL(t,e,r){const n=r.yAlign||e.yAlign||wbe(t,r);return{xAlign:r.xAlign||e.xAlign||Nbe(t,e,r,n),yAlign:n}}function _be(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Cbe(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function kL(t,e,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:A,bottomLeft:h,bottomRight:f}=sf(o);let g=_be(e,l);const x=Cbe(e,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,h)+a:l==="right"&&(g+=Math.max(A,f)+a),{x:Os(g,0,n.width-e.width),y:Os(x,0,n.height-e.height)}}function Fv(t,e,r){const n=ji(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function FL(t){return _o([],ul(t))}function Sbe(t,e,r){return oA(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function PL(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const bq={beforeTitle:ol,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:ol,beforeBody:ol,beforeLabel:ol,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return ar(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ol,afterBody:ol,beforeFooter:ol,footer:ol,afterFooter:ol};function da(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?bq[e].call(r,n):a}var $5;let TL=($5=class extends Gl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new rq(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Sbe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=da(n,"beforeTitle",this,e),i=da(n,"title",this,e),o=da(n,"afterTitle",this,e);let l=[];return l=_o(l,ul(a)),l=_o(l,ul(i)),l=_o(l,ul(o)),l}getBeforeBody(e,r){return FL(da(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return cr(e,i=>{const o={before:[],lines:[],after:[]},l=PL(n,i);_o(o.before,ul(da(l,"beforeLabel",this,i))),_o(o.lines,da(l,"label",this,i)),_o(o.after,ul(da(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return FL(da(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=da(n,"beforeFooter",this,e),i=da(n,"footer",this,e),o=da(n,"afterFooter",this,e);let l=[];return l=_o(l,ul(a)),l=_o(l,ul(i)),l=_o(l,ul(o)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(bbe(this.chart,r[c]));return e.filter&&(l=l.filter((u,A,h)=>e.filter(u,A,h,n))),e.itemSort&&(l=l.sort((u,A)=>e.itemSort(u,A,n))),cr(l,u=>{const A=PL(e.callbacks,u);a.push(da(A,"labelColor",this,u)),i.push(da(A,"labelPointStyle",this,u)),o.push(da(A,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=Kp[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=BL(this,n),d=Object.assign({},l,c),u=EL(this.chart,n,d),A=kL(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:A.x,y:A.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const i=this.getCaretPosition(e,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:A}=sf(l),{x:h,y:f}=e,{width:g,height:x}=r;let m,p,y,w,S,j;return i==="center"?(S=f+x/2,a==="left"?(m=h,p=m-o,w=S+o,j=S-o):(m=h+g,p=m+o,w=S-o,j=S+o),y=m):(a==="left"?p=h+Math.max(c,u)+o:a==="right"?p=h+g-Math.max(d,A)-o:p=this.caretX,i==="top"?(w=f,S=w-o,m=p-o,y=p+o):(w=f+x,S=w+o,m=p+o,y=p-o),j=w),{x1:m,x2:p,x3:y,y1:w,y2:S,y3:j}}drawTitle(e,r,n){const a=this.title,i=a.length;let o,l,c;if(i){const d=af(n.rtl,this.x,this.width);for(e.x=Fv(this,n.titleAlign,n),r.textAlign=d.textAlign(n.titleAlign),r.textBaseline="middle",o=Is(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,u=Is(i.bodyFont),A=Fv(this,"left",i),h=a.x(A),f=c<u.lineHeight?(u.lineHeight-c)/2:0,g=r.y+f;if(i.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},m=a.leftForLtr(h,d)+d/2,p=g+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,dS(e,x,m,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,dS(e,x,m,p)}else{e.lineWidth=Vt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=a.leftForLtr(h,d),m=a.leftForLtr(a.xPlus(h,1),d-2),p=sf(o.borderRadius);Object.values(p).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Sw(e,{x,y:g,w:d,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Sw(e,{x:m,y:g+1,w:d-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,g,d,c),e.strokeRect(x,g,d,c),e.fillStyle=o.backgroundColor,e.fillRect(m,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,A=Is(n.bodyFont);let h=A.lineHeight,f=0;const g=af(n.rtl,this.x,this.width),x=function(C){r.fillText(C,g.x(e.x+f),e.y+h/2),e.y+=h+i},m=g.textAlign(o);let p,y,w,S,j,_,F;for(r.textAlign=o,r.textBaseline="middle",r.font=A.string,e.x=Fv(this,m,n),r.fillStyle=n.bodyColor,cr(this.beforeBody,x),f=l&&m!=="right"?o==="center"?d/2+u:d+2+u:0,S=0,_=a.length;S<_;++S){for(p=a[S],y=this.labelTextColors[S],r.fillStyle=y,cr(p.before,x),w=p.lines,l&&w.length&&(this._drawColorBox(r,e,S,g,n),h=Math.max(A.lineHeight,c)),j=0,F=w.length;j<F;++j)x(w[j]),h=A.lineHeight;cr(p.after,x)}f=0,h=A.lineHeight,cr(this.afterBody,x),e.y-=i}drawFooter(e,r,n){const a=this.footer,i=a.length;let o,l;if(i){const c=af(n.rtl,this.x,this.width);for(e.x=Fv(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",o=Is(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:A,topRight:h,bottomLeft:f,bottomRight:g}=sf(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+A,c),o==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+d-h,c),r.quadraticCurveTo(l+d,c,l+d,c+h),o==="center"&&i==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+d,c+u-g),r.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+f,c+u),r.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&i==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+A),r.quadraticCurveTo(l,c,l+A,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=Kp[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=BL(this,e),c=Object.assign({},o,this._size),d=EL(r,e,c),u=kL(e,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=ji(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,r),Xz(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),Yz(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!Nw(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),l=this._positionChanged(o,e),c=r||!Nw(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:a,options:i}=this,o=Kp[i.position].call(this,e,r);return o!==!1&&(n!==o.x||a!==o.y)}},it($5,"positioners",Kp),$5);var F2={id:"tooltip",_element:TL,positioners:Kp,afterInit(t,e,r){r&&(t.tooltip=new TL({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bq},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Bbe=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Ebe(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Bbe(t,e,r,n);const i=t.lastIndexOf(e);return a!==i?r:a}const kbe=(t,e)=>t===null?null:Os(Math.round(t),0,e);function OL(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class _f extends om{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ar(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Ebe(n,e,Ut(r,e),this._addedLabels),kbe(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return OL.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}it(_f,"id","category"),it(_f,"defaults",{ticks:{callback:OL}});function Fbe(t,e){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:A,includeBounds:h}=t,f=i||1,g=u-1,{min:x,max:m}=e,p=!ar(o),y=!ar(l),w=!ar(d),S=(m-x)/(A+1);let j=kI((m-x)/g/f)*f,_,F,C,E;if(j<1e-14&&!p&&!y)return[{value:x},{value:m}];E=Math.ceil(m/j)-Math.floor(x/j),E>g&&(j=kI(E*j/g/f)*f),ar(c)||(_=Math.pow(10,c),j=Math.ceil(j*_)/_),a==="ticks"?(F=Math.floor(x/j)*j,C=Math.ceil(m/j)*j):(F=x,C=m),p&&y&&i&&D0e((l-o)/i,j/1e3)?(E=Math.round(Math.min((l-o)/j,u)),j=(l-o)/E,F=o,C=l):w?(F=p?o:F,C=y?l:C,E=d-1,j=(C-F)/E):(E=(C-F)/j,wg(E,Math.round(E),j/1e3)?E=Math.round(E):E=Math.ceil(E));const T=Math.max(FI(j),FI(F));_=Math.pow(10,ar(c)?T:c),F=Math.round(F*_)/_,C=Math.round(C*_)/_;let v=0;for(p&&(h&&F!==o?(r.push({value:o}),F<o&&v++,wg(Math.round((F+v*j)*_)/_,o,IL(o,S,t))&&v++):F<o&&v++);v<E;++v){const N=Math.round((F+v*j)*_)/_;if(y&&N>l)break;r.push({value:N})}return y&&h&&C!==l?r.length&&wg(r[r.length-1].value,l,IL(l,S,t))?r[r.length-1].value=l:r.push({value:l}):(!y||C===l)&&r.push({value:C}),r}function IL(t,e,{horizontal:r,minRotation:n}){const a=wl(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Pbe extends om{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return ar(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=n?i:c;if(e){const c=Do(a),d=Do(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=Fbe(a,i);return e.bounds==="ticks"&&U0e(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return GE(e,this.chart.options.locale,this.options.ticks.format)}}class Cf extends Pbe{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Us(e)?e:0,this.max=Us(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=wl(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}it(Cf,"id","linear"),it(Cf,"defaults",{ticks:{callback:$z.formatters.numeric}});const P2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fa=Object.keys(P2);function LL(t,e){return t-e}function ML(t,e){if(ar(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Us(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(m0(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function DL(t,e,r,n){const a=fa.length;for(let i=fa.indexOf(t);i<a-1;++i){const o=P2[fa[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(l*o.size))<=n)return fa[i]}return fa[a-1]}function Tbe(t,e,r,n,a){for(let i=fa.length-1;i>=fa.indexOf(r);i--){const o=fa[i];if(P2[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return fa[r?fa.indexOf(r):0]}function Obe(t){for(let e=fa.indexOf(t)+1,r=fa.length;e<r;++e)if(P2[fa[e]].common)return fa[e]}function UL(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=VE(r,e),i=r[n]>=e?r[n]:r[a];t[i]=!0}}function Ibe(t,e,r,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function RL(t,e,r){const n=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,n.push({value:l,major:!1});return i===0||!r?n:Ibe(t,n,a,r)}class Fw extends om{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new bye._date(e.adapters.date);a.init(r),bg(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:ML(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Us(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=Us(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=z0e(a,i,o);return this._unit=r.unit||(n.autoSkip?DL(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):Tbe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Obe(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),RL(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Os(r,0,o),n=Os(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||DL(i.minUnit,r,n,this._getLabelCapacity(r)),l=Ut(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=m0(c)||c===!0,u={};let A=r,h,f;if(d&&(A=+e.startOf(A,"isoWeek",c)),A=+e.startOf(A,d?"day":o),e.diff(n,r,o)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+o);const g=a.ticks.source==="data"&&this.getDataTimestamps();for(h=A,f=0;h<n;h=+e.add(h,l,o),f++)UL(u,h,g);return(h===n||a.bounds==="ticks"||f===1)&&UL(u,h,g),Object.keys(u).sort(LL).map(x=>+x)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return Or(o,[e,r,n],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],A=d&&l[d],h=n[r],f=d&&A&&h&&h.major;return this._adapter.format(e,a||(f?A:u))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=wl(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,RL(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(ML(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Uz(e.sort(LL))}}it(Fw,"id","time"),it(Fw,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Pv(t,e,r){let n=0,a=t.length-1,i,o,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=xu(t,"pos",e)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=xu(t,"time",e)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class QL extends Fw{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Pv(r,this.min),this._tableRange=Pv(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=r&&d<=n&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Pv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Pv(this._table,n*this._tableRange+this._minPos,!0)}}it(QL,"id","timeseries"),it(QL,"defaults",Fw.defaults);const wq="label";function $L(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Lbe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function jq(t,e){t.labels=e}function Nq(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wq;const n=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[r]===a[r]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function Mbe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wq;const r={labels:[],datasets:[]};return jq(r,t.labels),Nq(r,t.datasets,e),r}function Dbe(t,e){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:A,...h}=t,f=k.useRef(null),g=k.useRef(null),x=()=>{f.current&&(g.current=new lA(f.current,{type:o,data:Mbe(l,i),options:c&&{...c},plugins:d}),$L(e,g.current))},m=()=>{$L(e,null),g.current&&(g.current.destroy(),g.current=null)};return k.useEffect(()=>{!a&&g.current&&c&&Lbe(g.current,c)},[a,c]),k.useEffect(()=>{!a&&g.current&&jq(g.current.config.data,l.labels)},[a,l.labels]),k.useEffect(()=>{!a&&g.current&&l.datasets&&Nq(g.current.config.data,l.datasets,i)},[a,l.datasets]),k.useEffect(()=>{g.current&&(a?(m(),setTimeout(x)):g.current.update(A))},[a,c,l.labels,l.datasets,A]),k.useEffect(()=>{g.current&&(m(),setTimeout(x))},[o]),k.useEffect(()=>(x(),()=>m()),[]),be.createElement("canvas",{ref:f,role:"img",height:r,width:n,...h},u)}const Ube=k.forwardRef(Dbe);function T2(t,e){return lA.register(e),k.forwardRef((r,n)=>be.createElement(Ube,{...r,ref:n,type:t}))}const v0=T2("line",wb),lf=T2("bar",bb),_q=T2("doughnut",Ih),_b=T2("pie",uS);lA.register(_f,Cf,of,k2,F2,E2,yu,Ou,Ji,B2);const Rbe=()=>{const{isAdmin:t}=Yr(),[e,r]=k.useState("service-orders"),[n,a]=k.useState("month"),[i,o]=k.useState(""),[l,c]=k.useState(""),[d,u]=k.useState(!1),[A,h]=k.useState(!1),[f,g]=k.useState(!1),[x,m]=k.useState(null),[p,y]=k.useState(0),S=[{id:"service-orders",name:"Ordens de Serviço",icon:Js,adminOnly:!1},{id:"inventory",name:"Movimentação de Estoque",icon:Nt,adminOnly:!1},{id:"technicians",name:"Desempenho de Técnicos",icon:kt,adminOnly:!0},{id:"financial",name:"Relatório Financeiro",icon:Xt,adminOnly:!0}].filter(M=>!M.adminOnly||M.adminOnly&&t),j=()=>{console.log("Generating report:",{type:e,dateRange:n,startDate:i,endDate:l}),u(!0)},_=M=>{console.log(`Exporting report as ${M}`),alert(`Relatório exportado como ${M}`)},F=[{month:"Jan",income:12500,expense:8200},{month:"Fev",income:14800,expense:9100},{month:"Mar",income:13200,expense:8700},{month:"Abr",income:15850,expense:9320},{month:"Mai",income:16200,expense:9800},{month:"Jun",income:17500,expense:10200}],C=[{name:"Concluídos",value:5},{name:"Em Progresso",value:6},{name:"Planejados",value:1}],E=[{name:"Serviços",value:15850},{name:"Materiais",value:4200},{name:"Administrativo",value:3e3},{name:"Folha de Pagamento",value:8500}],T={labels:F.map(M=>M.month),datasets:[{label:"Receitas",data:F.map(M=>M.income),backgroundColor:"rgba(74, 222, 128, 0.6)",borderColor:"rgb(74, 222, 128)",borderWidth:1},{label:"Despesas",data:F.map(M=>M.expense),backgroundColor:"rgba(248, 113, 113, 0.6)",borderColor:"rgb(248, 113, 113)",borderWidth:1}]},v={labels:C.map(M=>M.name),datasets:[{data:C.map(M=>M.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)"],borderWidth:1}]},N={labels:F.map(M=>M.month),datasets:[{label:"Receitas",data:F.map(M=>M.income),borderColor:"rgb(74, 222, 128)",backgroundColor:"rgba(74, 222, 128, 0.1)",tension:.3,fill:!0},{label:"Despesas",data:F.map(M=>M.expense),borderColor:"rgb(248, 113, 113)",backgroundColor:"rgba(248, 113, 113, 0.1)",tension:.3,fill:!0}]},O=5,L=[{id:1,name:"Relatório de OS - Dezembro 2023",type:"Ordens de Serviço",date:"2023-12-15",user:"Admin Demo"},{id:2,name:"Movimentação de Estoque - Dezembro 2023",type:"Estoque",date:"2023-12-14",user:"Admin Demo"},{id:3,name:"Desempenho de Técnicos - Novembro 2023",type:"Desempenho",date:"2023-12-01",user:"Admin Demo"},{id:4,name:"Relatório Financeiro - Dezembro 2023",type:"Financeiro",date:"2023-12-31",user:"Admin Demo"},{id:5,name:"Análise de Clientes - Dezembro 2023",type:"Clientes",date:"2023-12-20",user:"Admin Demo"},{id:6,name:"Relatório de OS - Novembro 2023",type:"Ordens de Serviço",date:"2023-11-30",user:"Admin Demo"},{id:7,name:"Movimentação de Estoque - Novembro 2023",type:"Estoque",date:"2023-11-29",user:"Admin Demo"},{id:8,name:"Desempenho de Técnicos - Outubro 2023",type:"Desempenho",date:"2023-11-01",user:"Admin Demo"},{id:9,name:"Relatório Financeiro - Novembro 2023",type:"Financeiro",date:"2023-11-30",user:"Admin Demo"},{id:10,name:"Análise de Clientes - Novembro 2023",type:"Clientes",date:"2023-11-20",user:"Admin Demo"}],Q=Math.ceil(L.length/O),D=L.slice(p*O,(p+1)*O),[U,R]=k.useState(null),[z,Y]=k.useState("bar"),X=(M,G)=>{R(JSON.parse(JSON.stringify(G))),Y(M),g(!0)},$=(M,G,V)=>{if(!U)return;const ae={...U};if(G==="label")ae.labels[M]=V;else{const Ae=parseInt(G.split("-")[1]),re=G.split("-")[2];re==="label"?ae.datasets[Ae].label=V:re==="data"&&(ae.datasets[Ae].data[M]=parseFloat(V)||0)}R(ae)};return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatórios"}),s.jsxs("button",{onClick:()=>h(!A),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(jE,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtros"}),s.jsx(Hu,{className:`h-4 w-4 transition-transform ${A?"rotate-180":""}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:s.jsx(Js,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"48"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ordens de Serviço"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:s.jsx(Nt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"156"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Itens em Estoque"})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"8"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Técnicos Ativos"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx(Xt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"R$ 15.850"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Faturamento Mensal"})]})]})]}),s.jsx(at,{children:A&&s.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(xt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Gerador de Relatórios"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Relatório"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:S.map(M=>s.jsxs("button",{type:"button",onClick:()=>r(M.id),className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-colors ${e===M.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[s.jsx(M.icon,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm",children:M.name})]},M.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Período"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{type:"button",onClick:()=>a("week"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="week"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Última Semana"}),s.jsx("button",{type:"button",onClick:()=>a("month"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="month"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Último Mês"}),s.jsx("button",{type:"button",onClick:()=>a("custom"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${n==="custom"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Personalizado"})]})]}),n==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:i,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:n==="custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:l,onChange:M=>c(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:n==="custom"})]})]})]}),s.jsx("div",{className:"pt-4",children:s.jsxs("button",{type:"button",onClick:j,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[s.jsx(Ys,{className:"h-5 w-5 mr-2"}),"Gerar Relatório"]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Pré-visualização"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>_("pdf"),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Exportar como PDF",children:s.jsx(xt,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",onClick:()=>_("excel"),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Exportar como Excel",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",onClick:()=>_("print"),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Imprimir",children:s.jsx(i0,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:d?s.jsx("div",{className:"w-full h-full",children:s.jsx("div",{className:"h-40 w-full bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:s.jsx(lf,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})}):s.jsxs("div",{className:"text-center",children:[s.jsx(Ys,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione as opções e gere o relatório"}),s.jsx("p",{className:"text-sm text-gray-400",children:"A pré-visualização aparecerá aqui"})]})})]})]})]})})}),d&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Receitas vs Despesas"}),s.jsxs("button",{onClick:()=>X("bar",T),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(lf,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendência de Fluxo de Caixa"}),s.jsxs("button",{onClick:()=>X("line",N),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(v0,{data:N,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendência de Fluxo de Caixa"}}}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status dos Projetos"}),s.jsxs("button",{onClick:()=>X("pie",v),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(_b,{data:v,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Categorias de Transações"}),s.jsxs("button",{onClick:()=>X("pie",v),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(_b,{data:{labels:E.map(M=>M.name),datasets:[{data:E.map(M=>M.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)","rgba(248, 113, 113, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)","rgb(248, 113, 113)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Categorias de Transações"}}}})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(xt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Relatórios Recentes"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gerado por"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:M.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:new Date(M.date).toLocaleDateString("pt-BR")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:M.user})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(Ds,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(i0,{className:"h-4 w-4"})})]})})]},M.id))})]})}),Q>1&&s.jsxs("div",{className:"flex justify-between items-center mt-4",children:[s.jsxs("button",{onClick:()=>y(M=>Math.max(0,M-1)),disabled:p===0,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${p===0?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[s.jsx(Wl,{className:"h-4 w-4"}),s.jsx("span",{children:"Anterior"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",p+1," de ",Q]}),s.jsxs("button",{onClick:()=>y(M=>Math.min(Q-1,M+1)),disabled:p===Q-1,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${p===Q-1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[s.jsx("span",{children:"Próximo"}),s.jsx(wi,{className:"h-4 w-4"})]})]})]}),s.jsx(at,{children:f&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Gráfico"}),s.jsx("button",{onClick:()=>g(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Gráfico"}),s.jsxs("select",{value:z,onChange:M=>Y(M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"bar",children:"Barras"}),s.jsx("option",{value:"line",children:"Linhas"}),s.jsx("option",{value:"pie",children:"Pizza"}),s.jsx("option",{value:"area",children:"Área"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estilo"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{children:"Padrão"}),s.jsx("option",{children:"Gradiente"}),s.jsx("option",{children:"Monocromático"}),s.jsx("option",{children:"Pastel"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dados do Gráfico"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mês"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receitas"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Despesas"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map((M,G)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"text",defaultValue:M.month,onChange:V=>$(G,"label",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",defaultValue:M.income,onChange:V=>$(G,"0-data",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",defaultValue:M.expense,onChange:V=>$(G,"1-data",V.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})})]},G))})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visualização"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg h-64",children:[z==="bar"&&s.jsx(lf,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}}),z==="line"&&s.jsx(v0,{data:N,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendência de Fluxo de Caixa"}}}}),z==="pie"&&s.jsx(_b,{data:v,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:()=>{g(!1),alert("Alterações salvas com sucesso!")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})})]})},Qbe=()=>{const{user:t,isAdmin:e}=Yr(),[r,n]=k.useState("profile"),[a,i]=k.useState(!1),[o,l]=k.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:"(11) 99999-9999",company:"Minha Empresa"}),[c,d]=k.useState({email:!0,push:!0,sms:!1}),[u,A]=k.useState({autoBackup:!0,backupFrequency:"daily",backupTime:"00:00",keepBackups:"30"}),[h,f]=k.useState({realTimeSync:!0,offlineMode:!0,syncOnWifiOnly:!1}),g=_=>{const{name:F,value:C}=_.target;l(E=>({...E,[F]:C}))},x=_=>{d(F=>({...F,[_]:!F[_]}))},m=_=>{const{name:F,value:C}=_.target;A(E=>({...E,[F]:C}))},p=_=>{f(F=>({...F,[_]:!F[_]}))},y=()=>{console.log("Saving profile:",o),i(!0),setTimeout(()=>i(!1),2e3)},w=()=>{console.log("Saving notification settings:",c),i(!0),setTimeout(()=>i(!1),2e3)},S=()=>{console.log("Saving backup settings:",u),i(!0),setTimeout(()=>i(!1),2e3)},j=()=>{console.log("Saving sync settings:",h),i(!0),setTimeout(()=>i(!1),2e3)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurações"})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("profile"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="profile"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(xn,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Perfil"})]}),s.jsxs("button",{onClick:()=>n("notifications"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="notifications"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(o9,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Notificações"})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>n("backup"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="backup"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(n0,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Backup"})]}),s.jsxs("button",{onClick:()=>n("sync"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="sync"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(u9,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Sincronização"})]})]})]}),s.jsxs("div",{className:"p-6",children:[r==="profile"&&s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informações do Perfil"}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t!=null&&t.avatar?s.jsx("img",{src:t.avatar,alt:t.name,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):s.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-bold",children:t==null?void 0:t.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:(t==null?void 0:t.role)==="admin"?"Administrador":(t==null?void 0:t.role)==="technician"?"Técnico":"Funcionário Externo"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),s.jsx("input",{type:"text",name:"name",value:o.name,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:o.email,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),s.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),s.jsx("input",{type:"text",name:"company",value:o.company,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("button",{onClick:y,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Alterações"]})})]}),r==="notifications"&&s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preferências de Notificação"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notificações por Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receber atualizações importantes por email"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.email,onChange:()=>x("email"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notificações Push"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notificações em tempo real no navegador"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.push,onChange:()=>x("push"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"SMS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Alertas críticos por mensagem de texto"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.sms,onChange:()=>x("sms"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsx("button",{onClick:w,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Alterações"]})})]}),r==="backup"&&e&&s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configurações de Backup"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Backup Automático"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Realizar backup automático dos dados"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.autoBackup,onChange:()=>A(_=>({..._,autoBackup:!_.autoBackup})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.autoBackup&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequência"}),s.jsxs("select",{name:"backupFrequency",value:u.backupFrequency,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Diário"}),s.jsx("option",{value:"weekly",children:"Semanal"}),s.jsx("option",{value:"monthly",children:"Mensal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horário"}),s.jsx("input",{type:"time",name:"backupTime",value:u.backupTime,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manter Backups (dias)"}),s.jsx("input",{type:"number",name:"keepBackups",value:u.keepBackups,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:S,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Configurações"]})}),s.jsxs("button",{className:"px-6 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[s.jsx(n0,{className:"h-5 w-5 mr-2 inline"}),"Backup Manual"]})]})]})]}),r==="sync"&&e&&s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configurações de Sincronização"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronização em Tempo Real"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manter dados sincronizados em tempo real entre dispositivos"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.realTimeSync,onChange:()=>p("realTimeSync"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Modo Offline"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Permitir trabalhar offline e sincronizar depois"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.offlineMode,onChange:()=>p("offlineMode"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronizar Apenas no Wi-Fi"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Economizar dados móveis sincronizando apenas no Wi-Fi"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.syncOnWifiOnly,onChange:()=>p("syncOnWifiOnly"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsx("button",{onClick:j,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Salvar Configurações"]})})]})]})]})]})},$be=()=>{const{isAdmin:t}=Yr(),[e,r]=k.useState(""),[n,a]=k.useState("all"),[i,o]=k.useState(!1),[l,c]=k.useState(null),[d,u]=k.useState([{id:"1",name:"Admin Demo",email:"admin@example.com",role:"admin",status:"active",lastLogin:"2023-12-15T10:30:00",department:"Administração",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Técnico",email:"carlos@example.com",role:"technician",status:"active",lastLogin:"2023-12-15T09:15:00",department:"Manutenção"},{id:"3",name:"Ana Técnica",email:"ana@example.com",role:"technician",status:"active",lastLogin:"2023-12-14T16:45:00",department:"Instalação"},{id:"4",name:"João Externo",email:"joao@terceirizada.com",role:"external",status:"inactive",lastLogin:"2023-12-10T08:30:00"}]),[A,h]=k.useState({name:"",email:"",role:"technician",department:"",status:"active"}),f=d.filter(j=>{const _=j.name.toLowerCase().includes(e.toLowerCase())||j.email.toLowerCase().includes(e.toLowerCase()),F=n==="all"||j.role===n;return _&&F}),g=()=>{if(A.name&&A.email){const j={id:Date.now().toString(),name:A.name,email:A.email,role:A.role,status:"active",lastLogin:"",department:A.department||void 0};u([...d,j]),h({name:"",email:"",role:"technician",department:"",status:"active"}),o(!1)}},x=()=>{l&&(u(d.map(j=>j.id===l.id?l:j)),c(null))},m=j=>{u(d.map(_=>_.id===j?{..._,status:_.status==="active"?"inactive":"active"}:_))},p=j=>{window.confirm("Tem certeza que deseja excluir este usuário?")&&u(d.filter(_=>_.id!==j))},y=j=>{switch(j){case"admin":return"Administrador";case"technician":return"Técnico";case"external":return"Externo";default:return j}},w=j=>{switch(j){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},S=j=>j==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Usuários"}),t&&s.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(f9,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Usuário"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:e,onChange:j=>r(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jE,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:n,onChange:j=>a(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Perfis"}),s.jsx("option",{value:"admin",children:"Administradores"}),s.jsx("option",{value:"technician",children:"Técnicos"}),s.jsx("option",{value:"external",children:"Externos"})]})]})]})}),s.jsx("div",{className:"space-y-4",children:f.length>0?f.map((j,_)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[j.avatar?s.jsx("img",{src:j.avatar,alt:j.name,className:"w-12 h-12 rounded-full object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold",children:j.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),s.jsx("p",{className:"text-sm text-gray-600",children:j.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w(j.role)}`,children:y(j.role)}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S(j.status)}`,children:j.status==="active"?"Ativo":"Inativo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[j.department&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Departamento"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.department})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Último Acesso"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.lastLogin?new Date(j.lastLogin).toLocaleString("pt-BR"):"Nunca"})]})]}),t&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>c(j),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>m(j.id),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${j.status==="active"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[j.status==="active"?s.jsx(Xi,{className:"h-4 w-4"}):s.jsx(h9,{className:"h-4 w-4"}),s.jsx("span",{children:j.status==="active"?"Desativar":"Ativar"})]}),s.jsxs("button",{onClick:()=>p(j.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]})]},j.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(kt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum usuário encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos usuários com os filtros selecionados."}),s.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(at,{children:i&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Usuário"}),s.jsx("button",{onClick:()=>o(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:A.name,onChange:j=>h({...A,name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usuário",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:A.email,onChange:j=>h({...A,email:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),s.jsxs("select",{value:A.role,onChange:j=>h({...A,role:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Técnico"}),s.jsx("option",{value:"external",children:"Funcionário Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:A.department,onChange:j=>h({...A,department:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:g,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Adicionar"]})]})]})]})}),s.jsx(at,{children:l&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Usuário"}),s.jsx("button",{onClick:()=>c(null),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:l.name,onChange:j=>c({...l,name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usuário",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:l.email,onChange:j=>c({...l,email:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),s.jsxs("select",{value:l.role,onChange:j=>c({...l,role:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Técnico"}),s.jsx("option",{value:"external",children:"Funcionário Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:l.department||"",onChange:j=>c({...l,department:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:l.status==="active",onChange:()=>c({...l,status:"active"}),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Ativo"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:l.status==="inactive",onChange:()=>c({...l,status:"inactive"}),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Inativo"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar"]})]})]})]})})]})},Hbe=({isOpen:t,onClose:e,onSave:r,serviceId:n,duplicateFromId:a})=>{const[i,o]=k.useState("dados"),[l,c]=k.useState(!1),[d,u]=k.useState(!1),[A,h]=k.useState({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),[f,g]=k.useState({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),[x,m]=k.useState([]),[p,y]=k.useState([]),[w,S]=k.useState(""),[j,_]=k.useState(null);k.useEffect(()=>{t?(F(),n?C(n,!1):a?C(a,!0):(h({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),y([]))):(_(null),S(""))},[t,n,a]);const F=async()=>{try{const{data:R}=await ge.from("materials").select("id, name, unit, quantity, unit_cost, sale_price, sku").eq("active",!0).order("name");m(R||[])}catch(R){console.error("Error loading materials:",R)}},C=async(R,z)=>{if(R)try{const{data:Y}=await ge.from("service_catalog").select("*").eq("id",R).single();Y&&h({nome:z?`${Y.name} (Cópia)`:Y.name||"",descricao:Y.description||"",categoria:Y.category||"",preco_base:Y.base_price||0,tempo_estimado_minutos:Y.estimated_duration||0,observacoes:""});const{data:X}=await ge.from("service_catalog_materials").select("*").eq("service_catalog_id",R);X&&y(X.map($=>({id:z?`new-${Date.now()}-${Math.random()}`:$.id,material_id:$.material_id||"",nome_material:$.material_name||"",quantidade_padrao:$.quantity||0,unidade_medida:$.material_unit||"un",preco_compra_unitario:$.unit_cost_at_time||0,preco_venda_unitario:$.unit_sale_price||0,custo_total:$.total_cost||0,valor_total:$.total_sale_price||0,lucro:($.total_sale_price||0)-($.total_cost||0),obrigatorio:!$.is_optional})))}catch(Y){console.error("Error loading service data:",Y)}},E=()=>{y([{id:`new-${Date.now()}`,material_id:"",nome_material:"",quantidade_padrao:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0,obrigatorio:!0},...p])},T=(R,z)=>{y(p.map(Y=>{if(Y.id===R){const X={...Y,...z},$=X.preco_compra_unitario||0,M=X.preco_venda_unitario||0;return X.custo_total=X.quantidade_padrao*$,X.valor_total=X.quantidade_padrao*M,X.lucro=X.valor_total-X.custo_total,X}return Y}))},v=(R,z)=>{const Y=x.find(X=>X.id===z);Y&&(T(R,{material_id:z,nome_material:Y.name,unidade_medida:Y.unit||"un",preco_compra_unitario:Number(Y.unit_cost)||0,preco_venda_unitario:Number(Y.sale_price)||0}),S(""),_(null))},N=R=>{y(p.filter(z=>z.id!==R))},O=async()=>{try{if(!f.name){alert("Nome do material é obrigatório!");return}c(!0);const{data:R,error:z}=await ge.from("materials").insert([{name:f.name,sku:f.sku||null,unit:f.unit,quantity:Number(f.quantity),unit_cost:Number(f.unit_cost),sale_price:Number(f.sale_price),min_quantity:Number(f.min_quantity),active:!0}]).select().single();if(z)throw z;await F(),g({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),u(!1),alert("Material criado com sucesso!")}catch(R){console.error("Error creating material:",R),alert("Erro ao criar material!")}finally{c(!1)}},L=()=>{const R=p.reduce((G,V)=>G+V.custo_total,0),z=p.reduce((G,V)=>G+V.valor_total,0),Y=R,X=z+A.preco_base,$=X-Y,M=Y>0?$/Y*100:0;return{custoMateriais:R,valorMateriais:z,custoTotal:Y,valorTotal:X,lucroTotal:$,margemLucro:M}},Q=async()=>{try{if(!A.nome){alert("Nome do serviço é obrigatório!");return}c(!0);const R=L();let z=n;const Y={name:A.nome,description:A.descricao,category:A.categoria,base_price:A.preco_base,estimated_duration:A.tempo_estimado_minutos,active:!0};if(n)await ge.from("service_catalog").update(Y).eq("id",n);else{const{data:$,error:M}=await ge.from("service_catalog").insert([Y]).select().single();if(M)throw M;z=$.id}const{error:X}=await ge.from("service_catalog_materials").delete().eq("service_catalog_id",z);X&&console.error("Error deleting materials:",X);for(const $ of p){const{error:M}=await ge.from("service_catalog_materials").insert([{service_catalog_id:z,material_id:$.material_id,material_name:$.nome_material,quantity:$.quantidade_padrao,material_unit:$.unidade_medida,is_optional:!$.obrigatorio,unit_cost_at_time:$.preco_compra_unitario,unit_sale_price:$.preco_venda_unitario}]);if(M)throw console.error("Error inserting material:",M),M}r(),e()}catch(R){console.error("Error saving:",R),alert("Erro ao salvar serviço!")}finally{c(!1)}},D=R=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R),U=L();return t?s.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-green-600 to-emerald-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Serviço":"Novo Serviço no Catálogo"}),s.jsx("p",{className:"text-green-100 text-sm",children:"Configure materiais, mão de obra e custos completos"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:cg},{id:"materiais",label:"Materiais",icon:Nt},{id:"resumo",label:"Resumo Financeiro",icon:l4}].map(R=>{const z=R.icon;return s.jsxs("button",{onClick:()=>o(R.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${i===R.id?"border-green-600 text-green-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(z,{className:"h-4 w-4"}),R.label]},R.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(at,{mode:"wait",children:[i==="dados"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Serviço *"}),s.jsx("input",{type:"text",value:A.nome,onChange:R=>h({...A,nome:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: Instalação de Ar Condicionado Split 12k BTU"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição"}),s.jsx("textarea",{value:A.descricao,onChange:R=>h({...A,descricao:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Descreva o serviço em detalhes..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),s.jsxs("select",{value:A.categoria,onChange:R=>h({...A,categoria:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),s.jsx("option",{value:"instalacao",children:"Instalação"}),s.jsx("option",{value:"manutencao",children:"Manutenção"}),s.jsx("option",{value:"reparo",children:"Reparo"}),s.jsx("option",{value:"limpeza",children:"Limpeza"}),s.jsx("option",{value:"vistoria",children:"Vistoria"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),s.jsx("input",{type:"number",value:A.tempo_estimado_minutos,onChange:R=>h({...A,tempo_estimado_minutos:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Base do Serviço (R$)"}),s.jsx("input",{type:"number",value:A.preco_base,step:"0.01",onChange:R=>h({...A,preco_base:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Valor da mão de obra"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações"}),s.jsx("textarea",{value:A.observacoes,onChange:R=>h({...A,observacoes:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:2,placeholder:"Observações internas sobre o serviço..."})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(cg,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Configure o serviço completo"}),s.jsxs("p",{children:["Nas próximas abas, você pode adicionar materiais e mão de obra. ",s.jsx("span",{className:"font-medium",children:"Ambos são opcionais"})," - você pode criar serviços sem materiais ou sem mão de obra, dependendo do tipo de serviço."]})]})]})]},"dados"),i==="materiais"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Materiais Necessários ",s.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Opcional)"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Liste todos os materiais usados neste serviço. Ex: Consultoria, Vistoria, Laudo não precisam de materiais."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Criar Novo Material"]}),s.jsxs("button",{onClick:E,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Adicionar do Estoque"]})]})]}),p.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[s.jsx(Nt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),s.jsx("p",{className:"text-sm",children:"Materiais são opcionais para este serviço"}),s.jsx("p",{className:"text-xs mt-1 text-gray-400",children:'Clique em "Adicionar Material" se o serviço precisar de materiais'})]}),p.map((R,z)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",z+1,R.nome_material&&s.jsxs("span",{className:"ml-2 text-green-600",children:["- ",R.nome_material]})]}),R.material_id&&!R.nome_material&&s.jsx("span",{className:"text-xs text-gray-500",children:"Material selecionado"})]}),s.jsx("button",{onClick:()=>N(R.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-3",children:[s.jsxs("div",{className:"md:col-span-3 relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"🔍 Buscar Material do Estoque"}),s.jsx("input",{type:"text",value:w,onChange:Y=>S(Y.target.value),onFocus:()=>_(R.id),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Digite para buscar no estoque..."}),w&&j===R.id&&x.filter(Y=>Y.name.toLowerCase().includes(w.toLowerCase())||Y.sku&&Y.sku.toLowerCase().includes(w.toLowerCase())).length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:x.filter(Y=>Y.name.toLowerCase().includes(w.toLowerCase())||Y.sku&&Y.sku.toLowerCase().includes(w.toLowerCase())).map(Y=>s.jsxs("button",{type:"button",onClick:()=>v(R.id,Y.id),className:"w-full px-4 py-3 text-left hover:bg-green-50 border-b last:border-0 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:Y.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("span",{children:[Y.sku&&s.jsxs("span",{className:"mr-2",children:["Cód: ",Y.sku]}),s.jsxs("span",{children:["Estoque: ",Y.quantity," ",Y.unit]})]}),s.jsxs("span",{className:"font-semibold text-green-600",children:["R$ ",Number(Y.sale_price).toFixed(2),"/",Y.unit]})]})]},Y.id))})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",value:R.quantidade_padrao,min:"0.01",step:"0.01",onChange:Y=>T(R.id,{quantidade_padrao:Number(Y.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),R.unidade_medida&&s.jsx("span",{className:"absolute right-3 top-9 text-xs text-gray-500 font-semibold",children:R.unidade_medida})]}),s.jsx("div",{className:"md:col-span-2 flex items-end",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:R.obrigatorio,onChange:Y=>T(R.id,{obrigatorio:Y.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Obrigatório"})]})})]}),R.material_id&&s.jsxs("div",{className:"grid grid-cols-5 gap-3 text-xs bg-white rounded p-3 border",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Custo Unit:"}),s.jsx("p",{className:"font-bold text-orange-600",children:D(R.preco_compra_unitario)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Venda Unit:"}),s.jsx("p",{className:"font-bold text-green-600",children:D(R.preco_venda_unitario)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Custo Total:"}),s.jsx("p",{className:"font-bold text-orange-700",children:D(R.custo_total)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Valor Total:"}),s.jsx("p",{className:"font-bold text-green-700",children:D(R.valor_total)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Lucro:"}),s.jsx("p",{className:"font-bold text-blue-700",children:D(R.lucro)})]})]})]},R.id)),s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-green-900",children:"Total Materiais:"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-green-700",children:["Custo: ",D(U.custoMateriais)]}),s.jsxs("p",{className:"text-lg font-bold text-green-900",children:["Venda: ",D(U.valorMateriais)]})]})]})})]},"materiais"),i==="resumo"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo Financeiro Completo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[s.jsxs("h4",{className:"font-semibold text-orange-900 mb-3 flex items-center gap-2",children:[s.jsx(Nt,{className:"h-5 w-5"}),"Custos de Materiais"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Quantidade de Itens:"}),s.jsx("span",{className:"font-semibold",children:p.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),s.jsx("span",{className:"font-bold text-orange-700",children:D(U.custoMateriais)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Valor de Venda:"}),s.jsx("span",{className:"font-bold text-green-700",children:D(U.valorMateriais)})]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-300",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(l4,{className:"h-5 w-5"}),"Totais do Serviço"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Custo Total (Materiais):"}),s.jsx("span",{className:"font-bold text-gray-900",children:D(U.custoTotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Preço Base do Serviço:"}),s.jsx("span",{className:"font-bold text-gray-900",children:D(A.preco_base)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Valor dos Materiais:"}),s.jsx("span",{className:"font-bold text-gray-900",children:D(U.valorMateriais)})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between",children:[s.jsx("span",{className:"font-semibold",children:"Preço Total Sugerido:"}),s.jsx("span",{className:"font-bold text-xl text-green-600",children:D(U.valorTotal)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-300",children:[s.jsxs("h4",{className:"font-semibold text-green-900 mb-3 flex items-center gap-2",children:[s.jsx(br,{className:"h-5 w-5"}),"Análise de Lucro"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-800",children:"Lucro Bruto:"}),s.jsx("span",{className:"font-bold text-xl text-green-700",children:D(U.lucroTotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-800",children:"Margem de Lucro:"}),s.jsxs("span",{className:"font-bold text-2xl text-green-600",children:[U.margemLucro.toFixed(1),"%"]})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(zn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Atenção"}),s.jsx("p",{children:"Estes valores são calculados automaticamente e servirão como base para os orçamentos. Você poderá ajustar as quantidades em cada Ordem de Serviço."})]})]})]},"resumo")]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:Q,disabled:l,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5"}),"Salvar Serviço no Catálogo"]})})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:s.jsxs(oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-blue-600 text-white p-6 flex items-center justify-between z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Criar Novo Material"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Adicione ao estoque e use neste serviço"})]}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),s.jsx("input",{type:"text",value:f.name,onChange:R=>g({...f,name:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Cabo de Rede Cat6"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU / Código"}),s.jsx("input",{type:"text",value:f.sku,onChange:R=>g({...f,sku:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: MAT-001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade de Medida"}),s.jsxs("select",{value:f.unit,onChange:R=>g({...f,unit:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"UN",children:"Unidade (UN)"}),s.jsx("option",{value:"MT",children:"Metro (MT)"}),s.jsx("option",{value:"M2",children:"Metro Quadrado (M²)"}),s.jsx("option",{value:"KG",children:"Quilograma (KG)"}),s.jsx("option",{value:"LT",children:"Litro (LT)"}),s.jsx("option",{value:"CX",children:"Caixa (CX)"}),s.jsx("option",{value:"PC",children:"Peça (PC)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),s.jsx("input",{type:"number",value:f.quantity,onChange:R=>g({...f,quantity:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unitário (R$)"}),s.jsx("input",{type:"number",value:f.unit_cost,onChange:R=>g({...f,unit_cost:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço de Venda (R$)"}),s.jsx("input",{type:"number",value:f.sale_price,onChange:R=>g({...f,sale_price:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estoque Mínimo"}),s.jsx("input",{type:"number",value:f.min_quantity,onChange:R=>g({...f,min_quantity:Number(R.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(cg,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Material no Estoque"}),s.jsx("p",{children:"Este material será adicionado ao seu estoque e ficará disponível para uso em serviços e ordens de serviço."})]})]})})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:O,disabled:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?s.jsx(s.Fragment,{children:"Criando..."}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5"}),"Criar e Salvar no Estoque"]})})]})]})})]}):null},zbe=()=>{const{isAdmin:t}=Yr();ra();const[e,r]=k.useState(""),[n,a]=k.useState("all"),[i,o]=k.useState([]),[l,c]=k.useState(!0),[d,u]=k.useState(null),[A,h]=k.useState(!1),[f,g]=k.useState(null),[x,m]=k.useState(void 0),[p,y]=k.useState(void 0),[w,S]=k.useState(null),[j,_]=k.useState({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]});k.useEffect(()=>{F()},[]);const F=async()=>{try{c(!0);const O=await Tde();o(O||[]),u(null)}catch(O){console.error("Error loading services:",O),u("Erro ao carregar catálogo de serviços")}finally{c(!1)}},C=["all",...Array.from(new Set(i.map(O=>O.category)))],E=i.filter(O=>{const L=O.name.toLowerCase().includes(e.toLowerCase())||O.description.toLowerCase().includes(e.toLowerCase()),Q=n==="all"||O.category===n;return L&&Q}),T=async()=>{if(!j.name||!j.category){alert("Por favor, preencha todos os campos obrigatórios");return}try{const O={name:j.name,category:j.category,description:j.description,estimated_time:j.estimated_time,base_price:j.base_price,materials:j.materials,instructions:j.instructions,is_active:!0},L=await Pde(O);o([...i,L]),_({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]}),h(!1),alert("Serviço adicionado com sucesso!")}catch(O){console.error("Error creating service:",O),alert("Erro ao adicionar serviço")}},v=async()=>{if(f)try{const O={name:f.name,category:f.category,description:f.description,estimated_time:f.estimated_time,base_price:f.base_price,materials:f.materials,instructions:f.instructions,is_active:f.is_active},L=await Ode(f.id,O);o(i.map(Q=>Q.id===L.id?L:Q)),g(null),alert("Serviço atualizado com sucesso!")}catch(O){console.error("Error updating service:",O),alert("Erro ao atualizar serviço")}},N=async O=>{try{await Ide(O),o(i.filter(L=>L.id!==O)),S(null),alert("Serviço excluído com sucesso!")}catch(L){console.error("Error deleting service:",L),alert("Erro ao excluir serviço")}};return s.jsxs("div",{className:"space-y-6",children:[d&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ts,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:d})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Catálogo de Serviços"}),s.jsxs("button",{onClick:()=>h(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Serviço"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrição...",value:e,onChange:O=>r(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sA,{className:"h-5 w-5 text-gray-400"}),s.jsx("select",{value:n,onChange:O=>a(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:C.map(O=>s.jsx("option",{value:O,children:O==="all"?"Todas as Categorias":O},O))})]})]})}),l?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando serviços..."})]}):s.jsx("div",{className:"space-y-4",children:E.length>0?E.map((O,L)=>{var Q;return s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 cursor-pointer",onClick:()=>g(O),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:s.jsx(xt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.name}),s.jsx("p",{className:"text-sm text-gray-600",children:O.category})]})]}),t&&s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["R$ ",O.base_price.toFixed(2)]})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:O.description||"Sem descrição"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(Nt,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[((Q=O.materials)==null?void 0:Q.length)||0," materiais"]})]}),s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(Dt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:O.estimated_time||"Não definido"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:D=>{D.stopPropagation(),g(O),m(O.id)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar serviço",children:s.jsx(Dr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),y(O.id)},className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar serviço",children:s.jsx(zu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),S(O.id)},className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir serviço",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]})]},O.id)}):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(xt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum serviço encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos serviços com os filtros selecionados."}),s.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(at,{children:A&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Serviço"}),s.jsx("button",{onClick:()=>h(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Serviço"}),s.jsx("input",{type:"text",value:j.name,onChange:O=>_({...j,name:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do serviço",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:j.category,onChange:O=>_({...j,category:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalação, Manutenção",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),s.jsx("input",{type:"text",value:j.estimated_time,onChange:O=>_({...j,estimated_time:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 2 horas"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Base (R$)"}),s.jsx("input",{type:"number",value:j.base_price,onChange:O=>_({...j,base_price:parseFloat(O.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:j.description,onChange:O=>_({...j,description:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrição detalhada do serviço"})]})]})}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:T,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Serviço"]})]})]})]})}),s.jsx(at,{children:f&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Serviço"}),s.jsx("button",{onClick:()=>g(null),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Serviço"}),s.jsx("input",{type:"text",value:f.name,onChange:O=>g({...f,name:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:f.category,onChange:O=>g({...f,category:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),s.jsx("input",{type:"text",value:f.estimated_time||"",onChange:O=>g({...f,estimated_time:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Base (R$)"}),s.jsx("input",{type:"number",value:f.base_price,onChange:O=>g({...f,base_price:parseFloat(O.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:f.description||"",onChange:O=>g({...f,description:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Materiais Necessários"}),f.materials&&f.materials.length>0?s.jsx("div",{className:"space-y-2",children:f.materials.map((O,L)=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[s.jsx(Nt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"flex-1 text-sm",children:O.name}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Qtd: ",O.quantity]})]},L))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum material definido"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Instruções"}),f.instructions&&f.instructions.length>0?s.jsx("ol",{className:"list-decimal list-inside space-y-1",children:f.instructions.map((O,L)=>s.jsx("li",{className:"text-sm text-gray-700",children:O},L))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma instrução definida"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>g(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:v,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})}),s.jsx(at,{children:w&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>S(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(ts,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Exclusão"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este serviço? Esta ação não pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>S(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>N(w),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(Hbe,{isOpen:A||f!==null||p!==void 0,onClose:()=>{h(!1),g(null),m(void 0),y(void 0)},onSave:()=>{F(),h(!1),g(null),m(void 0),y(void 0)},serviceId:x,duplicateFromId:p})]})},qbe=({isOpen:t,onComplete:e})=>{const[r,n]=k.useState(0),a=[{title:"Bem-vindo ao Sistema OS!",description:"Vamos fazer um tour rápido pelas principais funcionalidades do sistema.",image:s.jsx(Js,{className:"h-12 w-12 text-blue-500"}),highlight:null},{title:"Ordens de Serviço",description:"Crie, gerencie e acompanhe todas as suas ordens de serviço em um só lugar. Adicione fotos, materiais e acompanhe o status em tempo real.",image:s.jsx(Js,{className:"h-12 w-12 text-blue-500"}),highlight:"service-orders"},{title:"Estoque Integrado",description:"Controle seu estoque de materiais com baixa automática quando uma OS é finalizada. Receba alertas de estoque mínimo.",image:s.jsx(Nt,{className:"h-12 w-12 text-green-500"}),highlight:"inventory"},{title:"Catálogo de Serviços",description:"Crie serviços pré-definidos com descrições, materiais necessários e valores para agilizar a criação de novas ordens.",image:s.jsx(xt,{className:"h-12 w-12 text-purple-500"}),highlight:"service-catalog"},{title:"Relatórios Detalhados",description:"Acompanhe o desempenho do seu negócio com relatórios detalhados e gráficos interativos.",image:s.jsx(Ys,{className:"h-12 w-12 text-orange-500"}),highlight:"reports"},{title:"Controle de Acesso",description:"Diferentes níveis de acesso para administradores, técnicos e funcionários externos, garantindo a segurança das informações.",image:s.jsx(qu,{className:"h-12 w-12 text-gray-500"}),highlight:"settings"}],i=()=>{r<a.length-1?n(r+1):e()},o=()=>{r>0&&n(r-1)},l=()=>{e()};return s.jsx(at,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white rounded-t-3xl",children:[s.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-3",children:a[r].image}),s.jsx("h2",{className:"text-xl font-bold",children:a[r].title})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:a[r].description}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[r+1," de ",a.length]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(oe.div,{initial:{width:0},animate:{width:`${(r+1)/a.length*100}%`},className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:o,disabled:r===0,className:`flex items-center px-4 py-2 rounded-xl transition-all duration-200 ${r===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Anterior"]}),s.jsx("div",{className:"flex space-x-2",children:a.map((c,d)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${d===r?"bg-blue-500 w-6":d<r?"bg-green-500":"bg-gray-300"}`},d))}),s.jsx("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl hover:shadow-lg transition-all duration-200",children:r===a.length-1?s.jsxs(s.Fragment,{children:["Concluir",s.jsx(kr,{className:"h-4 w-4 ml-2"})]}):s.jsxs(s.Fragment,{children:["Próximo",s.jsx(wi,{className:"h-4 w-4 ml-2"})]})})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("button",{onClick:l,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Pular tutorial"})})]})]})]})})},Vbe=()=>{const[t,e]=k.useState(null),[r,n]=k.useState([]),[a,i]=k.useState([]),[o,l]=k.useState([]),[c,d]=k.useState(!0),[u,A]=k.useState("overview");k.useEffect(()=>{h()},[]);const h=async()=>{try{d(!0);const[p,y,w,S]=await Promise.all([ge.from("v_business_kpis").select("*").maybeSingle(),ge.from("v_service_performance").select("*").order("total_revenue",{ascending:!1}),ge.from("v_customer_profitability").select("*").order("total_revenue",{ascending:!1}).limit(20),ge.from("v_team_productivity").select("*").order("total_revenue_generated",{ascending:!1})]);p.data&&e(p.data),y.data&&n(y.data),w.data&&i(w.data),S.data&&l(S.data)}catch(p){console.error("Erro ao carregar KPIs:",p)}finally{d(!1)}},f=p=>p==null||isNaN(p)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p),g=p=>p==null||isNaN(p)?"0.0%":`${p.toFixed(1)}%`;if(c)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const x=[{title:"Taxa de Conversão",value:g((t==null?void 0:t.conversion_rate)||0),target:"80%",progress:(t==null?void 0:t.conversion_rate)||0,icon:r2,color:"blue",trend:((t==null?void 0:t.conversion_rate)||0)>=80?"up":"down"},{title:"Ticket Médio",value:f((t==null?void 0:t.avg_order_value)||0),target:"R$ 5.000",progress:((t==null?void 0:t.avg_order_value)||0)/5e3*100,icon:Xt,color:"green",trend:"up"},{title:"Margem de Lucro",value:g((t==null?void 0:t.profit_margin)||0),target:"30%",progress:(t==null?void 0:t.profit_margin)||0,icon:br,color:"purple",trend:((t==null?void 0:t.profit_margin)||0)>=30?"up":"down"},{title:"Tempo Médio Atendimento",value:`${(((t==null?void 0:t.avg_service_time_hours)??0)||0).toFixed(1)}h`,target:"24h",progress:Math.min(100,(24-(((t==null?void 0:t.avg_service_time_hours)??0)||0))/24*100),icon:Dt,color:"orange",trend:((t==null?void 0:t.avg_service_time_hours)||0)<=24?"up":"down"}],m=[{label:"OSs Concluídas",value:(t==null?void 0:t.total_completed_orders)||0,icon:Lo,color:"text-green-600 bg-green-50"},{label:"OSs em Andamento",value:(t==null?void 0:t.orders_in_progress)||0,icon:Wh,color:"text-blue-600 bg-blue-50"},{label:"Clientes Ativos",value:(t==null?void 0:t.active_customers)||0,icon:kt,color:"text-purple-600 bg-purple-50"},{label:"Itens em Estoque",value:(t==null?void 0:t.materials_in_stock)||0,icon:Nt,color:"text-orange-600 bg-orange-50"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"KPIs e OKRs"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Indicadores-chave de performance e objetivos"})]}),s.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Atualizar"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map((p,y)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-12 h-12 bg-${p.color}-50 rounded-lg flex items-center justify-center`,children:s.jsx(p.icon,{className:`h-6 w-6 text-${p.color}-600`})}),p.trend==="up"?s.jsx(Z1,{className:"h-5 w-5 text-green-500"}):s.jsx(vE,{className:"h-5 w-5 text-red-500"})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:p.value}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-500",children:["Meta: ",p.target]}),s.jsxs("span",{className:`font-medium ${p.progress>=100?"text-green-600":"text-orange-600"}`,children:[Math.min(100,p.progress||0).toFixed(0),"%"]})]}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`bg-${p.color}-600 h-2 rounded-full transition-all duration-500`,style:{width:`${Math.min(100,p.progress)}%`}})})]},p.title))}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.map((p,y)=>s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+y*.05},className:`${p.color} rounded-xl p-4`,children:[s.jsx(p.icon,{className:"h-8 w-8 mb-2"}),s.jsx("p",{className:"text-2xl font-bold mb-1",children:p.value}),s.jsx("p",{className:"text-sm opacity-80",children:p.label})]},p.label))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"overview",label:"Visão Geral"},{id:"services",label:"Serviços"},{id:"customers",label:"Clientes"},{id:"team",label:"Equipe"}].map(p=>s.jsx("button",{onClick:()=>A(p.id),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${u===p.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:p.label},p.id))}),s.jsxs("div",{className:"p-6",children:[u==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Desempenho Financeiro"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Receita Total"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:f((t==null?void 0:t.total_income)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Despesas Totais"}),s.jsx("span",{className:"text-lg font-bold text-red-600",children:f((t==null?void 0:t.total_expenses)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-green-300",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Lucro Líquido"}),s.jsx("span",{className:"text-xl font-bold text-green-700",children:f((t==null?void 0:t.net_profit)||0)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Potencial de Estoque"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Valor em Estoque"}),s.jsx("span",{className:"text-lg font-bold text-purple-600",children:f((t==null?void 0:t.total_inventory_value)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Lucro Potencial"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:f((t==null?void 0:t.potential_profit)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-purple-300",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Margem Potencial"}),s.jsx("span",{className:"text-xl font-bold text-purple-700",children:g(((t==null?void 0:t.potential_profit)||0)/((t==null?void 0:t.total_inventory_value)||1)*100)})]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contas a Receber e Pagar"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Receber"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f((t==null?void 0:t.accounts_receivable)||0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Pagar"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:f((t==null?void 0:t.accounts_payable)||0)})]})]})]})]}),u==="services"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Serviço"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Conclusão"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Total"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ticket Médio"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Tempo Médio"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.service_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:p.total_orders}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g(p.completion_rate)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(p.total_revenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:f(p.avg_revenue_per_service)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[(p.avg_completion_time_hours||0).toFixed(1),"h"]})]},p.service_name))})]})}),u==="customers"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Lucro Bruto"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Margem"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Último Pedido"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.customer_name}),p.company_name&&s.jsx("div",{className:"text-sm text-gray-500",children:p.company_name})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:p.total_orders}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(p.total_revenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-green-600",children:f(p.gross_profit)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.profit_margin>=30?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g(p.profit_margin)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[p.days_since_last_order," dias"]})]},p.customer_name))})]})}),u==="team"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Colaborador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cargo"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Conclusão"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Gerada"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"ROI Salarial"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.employee_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:p.role}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[p.completed_orders,"/",p.total_orders_assigned]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g(p.completion_rate)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(p.total_revenue_generated)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.revenue_to_salary_ratio>=5?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:[(p.revenue_to_salary_ratio||0).toFixed(1),"x"]})})]},p.employee_name))})]})})]})]})]})};lA.register(_f,Cf,Ou,Ji,k2,F2,E2,B2);const Kbe=()=>{const[t,e]=k.useState("overview"),[r,n]=k.useState([]),[a,i]=k.useState([]),[o,l]=k.useState([]),[c,d]=k.useState([]),[u,A]=k.useState(!0),[h,f]=k.useState("month"),[g,x]=k.useState(""),[m,p]=k.useState(""),[y,w]=k.useState({totalReceitas:0,totalDespesas:0,lucro:0,custoFolha:0,receitasMes:0,despesasMes:0,lucroMes:0,contasReceber:0,contasPagar:0,margemLucro:0,ticketMedio:0,valorEstoque:0,valorVendaEstoque:0,lucroEstoque:0}),[S,j]=k.useState({receitas:[],despesas:[],totalReceitas:0,totalDespesas:0,lucroOperacional:0,margemOperacional:0}),[_,F]=k.useState({labels:[],receitas:[],despesas:[],saldo:[]});k.useEffect(()=>{C()},[h]);const C=async()=>{try{A(!0);const[Q,D,U,R]=await Promise.all([ge.from("finance_entries").select("*").order("data",{ascending:!1}),ge.from("financial_categories").select("*"),ge.from("employees").select("id, name, salary"),ge.from("inventory_items").select("unit_cost, unit_price, quantity").eq("active",!0)]);if(Q.error)throw Q.error;if(D.error)throw D.error;if(U.error)throw U.error;if(R.error)throw R.error;const z=Q.data||[],Y=D.data||[],X=U.data||[],$=R.data||[];n(z),i(Y),l(X),d($),E(z,X,$),T(z,Y,X),v(z)}catch(Q){console.error("Error loading data:",Q)}finally{A(!1)}},E=(Q,D,U)=>{const R=new Date,z=R.getMonth(),Y=R.getFullYear(),X=Q.filter(ye=>ye.tipo==="receita"&&ye.status==="recebido").reduce((ye,q)=>ye+Number(q.valor),0),$=Q.filter(ye=>ye.tipo==="despesa"&&ye.status==="pago").reduce((ye,q)=>ye+Number(q.valor),0),M=D.reduce((ye,q)=>ye+Number(q.salary||0),0),G=Q.filter(ye=>ye.tipo==="receita"&&ye.status==="a_receber").reduce((ye,q)=>ye+Number(q.valor),0),V=Q.filter(ye=>ye.tipo==="despesa"&&ye.status==="a_pagar").reduce((ye,q)=>ye+Number(q.valor),0),ae=Q.filter(ye=>{const q=new Date(ye.data);return ye.tipo==="receita"&&ye.status==="recebido"&&q.getMonth()===z&&q.getFullYear()===Y}).reduce((ye,q)=>ye+Number(q.valor),0),Ae=Q.filter(ye=>{const q=new Date(ye.data);return ye.tipo==="despesa"&&ye.status==="pago"&&q.getMonth()===z&&q.getFullYear()===Y}).reduce((ye,q)=>ye+Number(q.valor),0),re=Q.filter(ye=>ye.tipo==="receita"&&ye.status==="recebido").length,ie=re>0?X/re:0,ce=U.reduce((ye,q)=>ye+Number(q.unit_cost||0)*Number(q.quantity||0),0),Z=U.reduce((ye,q)=>ye+Number(q.unit_price||0)*Number(q.quantity||0),0),me=Z-ce,Me=X-$,Re=X>0?Me/X*100:0;w({totalReceitas:X,totalDespesas:$,lucro:Me,custoFolha:M,receitasMes:ae,despesasMes:Ae,lucroMes:ae-Ae,contasReceber:G,contasPagar:V,margemLucro:Re,ticketMedio:ie,valorEstoque:ce,valorVendaEstoque:Z,lucroEstoque:me})},T=(Q,D,U)=>{const R={},z={};Q.forEach(Ae=>{if(Ae.categoria_id){const re=D.find(ie=>ie.id===Ae.categoria_id);if(re){if(Ae.tipo==="receita"&&Ae.status==="recebido"){const ie=re.dre_grupo||re.nome;R[ie]||(R[ie]={valor:0,grupo:re.dre_grupo}),R[ie].valor+=Number(Ae.valor)}else if(Ae.tipo==="despesa"&&Ae.status==="pago"){const ie=re.dre_grupo||re.nome;z[ie]||(z[ie]={valor:0,grupo:re.dre_grupo}),z[ie].valor+=Number(Ae.valor)}}}});const Y=U.reduce((Ae,re)=>Ae+Number(re.salary||0),0);Y>0&&(z["Folha de Pagamento"]={valor:Y,grupo:"Despesas Operacionais"});const X=Object.values(R).reduce((Ae,re)=>Ae+re.valor,0),$=Object.values(z).reduce((Ae,re)=>Ae+re.valor,0),M=Object.entries(R).map(([Ae,re])=>({categoria:Ae,valor:re.valor,percentual:X>0?re.valor/X*100:0})).sort((Ae,re)=>re.valor-Ae.valor),G=Object.entries(z).map(([Ae,re])=>({categoria:Ae,valor:re.valor,percentual:$>0?re.valor/$*100:0})).sort((Ae,re)=>re.valor-Ae.valor),V=X-$,ae=X>0?V/X*100:0;j({receitas:M,despesas:G,totalReceitas:X,totalDespesas:$,lucroOperacional:V,margemOperacional:ae})},v=Q=>{const D=new Date,U=[],R=[],z=[],Y=[];for(let X=5;X>=0;X--){const $=new Date(D.getFullYear(),D.getMonth()-X,1),M=$.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"});U.push(M);const G=Q.filter(ae=>{const Ae=new Date(ae.data);return ae.tipo==="receita"&&ae.status==="recebido"&&Ae.getMonth()===$.getMonth()&&Ae.getFullYear()===$.getFullYear()}).reduce((ae,Ae)=>ae+Number(Ae.valor),0),V=Q.filter(ae=>{const Ae=new Date(ae.data);return ae.tipo==="despesa"&&ae.status==="pago"&&Ae.getMonth()===$.getMonth()&&Ae.getFullYear()===$.getFullYear()}).reduce((ae,Ae)=>ae+Number(Ae.valor),0);R.push(G),z.push(V),Y.push(G-V)}F({labels:U,receitas:R,despesas:z,saldo:Y})},N=Q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Q),O=Q=>Q.toFixed(1)+"%",L=()=>{let Q="";t==="dre"&&(Q=`DRE - Demonstrativo de Resultados

`,Q+=`RECEITAS
`,Q+=`Categoria,Valor,Percentual
`,S.receitas.forEach(z=>{Q+=`${z.categoria},${z.valor},${z.percentual.toFixed(2)}%
`}),Q+=`
TOTAL RECEITAS,${S.totalReceitas}

`,Q+=`DESPESAS
`,Q+=`Categoria,Valor,Percentual
`,S.despesas.forEach(z=>{Q+=`${z.categoria},${z.valor},${z.percentual.toFixed(2)}%
`}),Q+=`
TOTAL DESPESAS,${S.totalDespesas}

`,Q+=`LUCRO OPERACIONAL,${S.lucroOperacional}
`,Q+=`MARGEM OPERACIONAL,${S.margemOperacional.toFixed(2)}%
`);const D=new Blob([Q],{type:"text/csv"}),U=window.URL.createObjectURL(D),R=document.createElement("a");R.href=U,R.download=`relatorio-financeiro-${new Date().toISOString().split("T")[0]}.csv`,R.click()};return u?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-8 w-8 text-green-600"}),"Dashboard Financeiro Completo"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Relatórios financeiros e análises em tempo real"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:L,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[s.jsx(Ls,{className:"h-4 w-4"}),"Exportar"]})})]}),s.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[{id:"overview",label:"Visão Geral",icon:mu},{id:"kpis",label:"KPIs e OKRs",icon:br},{id:"dre",label:"DRE",icon:xt},{id:"cashflow",label:"Fluxo de Caixa",icon:c9},{id:"reports",label:"Relatórios",icon:roe}].map(Q=>{const D=Q.icon;return s.jsxs("button",{onClick:()=>e(Q.id),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${t===Q.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[s.jsx(D,{className:"h-4 w-4"}),Q.label]},Q.id)})}),t==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(Z1,{className:"h-6 w-6"})}),s.jsx(br,{className:"h-5 w-5 opacity-80"})]}),s.jsx("p",{className:"text-green-100 text-sm font-medium mb-1",children:"Total Receitas"}),s.jsx("h2",{className:"text-3xl font-bold",children:N(y.totalReceitas)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-green-100",children:["Este mês: ",N(y.receitasMes)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(vE,{className:"h-6 w-6"})}),s.jsx(vl,{className:"h-5 w-5 opacity-80"})]}),s.jsx("p",{className:"text-red-100 text-sm font-medium mb-1",children:"Total Despesas"}),s.jsx("h2",{className:"text-3xl font-bold",children:N(y.totalDespesas)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-red-100",children:["Este mês: ",N(y.despesasMes)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`bg-gradient-to-br ${y.lucro>=0?"from-blue-500 to-blue-600":"from-orange-500 to-orange-600"} rounded-xl p-6 text-white shadow-lg`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(Soe,{className:"h-6 w-6"})}),s.jsx(Xt,{className:"h-5 w-5 opacity-80"})]}),s.jsx("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Lucro Líquido"}),s.jsx("h2",{className:"text-3xl font-bold",children:N(y.lucro)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-blue-100",children:["Margem: ",O(y.margemLucro)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(kt,{className:"h-6 w-6"})})}),s.jsx("p",{className:"text-purple-100 text-sm font-medium mb-1",children:"Custo Folha"}),s.jsx("h2",{className:"text-3xl font-bold",children:N(y.custoFolha)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-purple-100",children:[o.length," funcionários"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(Nt,{className:"h-6 w-6"})})}),s.jsx("p",{className:"text-amber-100 text-sm font-medium mb-1",children:"Investido em Estoque"}),s.jsx("h2",{className:"text-3xl font-bold",children:N(y.valorEstoque)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-amber-100",children:["Valor de Venda: ",N(y.valorVendaEstoque)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(br,{className:"h-6 w-6"})})}),s.jsx("p",{className:"text-emerald-100 text-sm font-medium mb-1",children:"Lucro Potencial Estoque"}),s.jsx("h2",{className:"text-3xl font-bold",children:N(y.lucroEstoque)}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsxs("p",{className:"text-sm text-emerald-100",children:["Margem: ",O(y.valorEstoque>0?y.lucroEstoque/y.valorEstoque*100:0)]})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:s.jsx(Nt,{className:"h-6 w-6"})})}),s.jsx("p",{className:"text-cyan-100 text-sm font-medium mb-1",children:"Itens em Estoque"}),s.jsx("h2",{className:"text-3xl font-bold",children:c.length}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:s.jsx("p",{className:"text-sm text-cyan-100",children:"Produtos disponíveis"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Receber"}),s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-4",children:N(y.contasReceber)}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(Q=>Q.tipo==="receita"&&Q.status==="a_receber").slice(0,5).map(Q=>s.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Q.descricao}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(Q.data).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"font-bold text-green-600",children:N(Number(Q.valor))})]})},Q.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Pagar"}),s.jsx("div",{className:"text-3xl font-bold text-red-600 mb-4",children:N(y.contasPagar)}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.filter(Q=>Q.tipo==="despesa"&&Q.status==="a_pagar").slice(0,5).map(Q=>s.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Q.descricao}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(Q.data).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"font-bold text-red-600",children:N(Number(Q.valor))})]})},Q.id))})]})]})]}),t==="dre"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"DRE - Demonstrativo de Resultados"}),s.jsx(Jt,{className:"h-6 w-6 text-gray-400"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"RECEITAS"}),s.jsx("span",{className:"text-2xl font-bold text-green-700",children:N(S.totalReceitas)})]}),s.jsx("div",{className:"space-y-2",children:S.receitas.map((Q,D)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:Q.categoria}),s.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${Q.percentual}%`}})})]}),s.jsxs("div",{className:"ml-4 text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:N(Q.valor)}),s.jsx("p",{className:"text-sm text-gray-500",children:O(Q.percentual)})]})]},D))})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"DESPESAS"}),s.jsx("span",{className:"text-2xl font-bold text-red-700",children:N(S.totalDespesas)})]}),s.jsx("div",{className:"space-y-2",children:S.despesas.map((Q,D)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:Q.categoria}),s.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${Q.percentual}%`}})})]}),s.jsxs("div",{className:"ml-4 text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:N(Q.valor)}),s.jsx("p",{className:"text-sm text-gray-500",children:O(Q.percentual)})]})]},D))})]}),s.jsx("div",{className:"border-t pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-6 rounded-xl ${S.lucroOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Lucro Operacional"}),s.jsx("p",{className:`text-4xl font-bold ${S.lucroOperacional>=0?"text-blue-700":"text-orange-700"}`,children:N(S.lucroOperacional)})]}),s.jsxs("div",{className:`p-6 rounded-xl ${S.margemOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Margem Operacional"}),s.jsx("p",{className:`text-4xl font-bold ${S.margemOperacional>=0?"text-blue-700":"text-orange-700"}`,children:O(S.margemOperacional)})]})]})})]})]})}),t==="cashflow"&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Fluxo de Caixa - Últimos 6 Meses"}),s.jsx("div",{className:"h-96",children:s.jsx(v0,{data:{labels:_.labels,datasets:[{label:"Receitas",data:_.receitas,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:_.despesas,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4},{label:"Saldo",data:_.saldo,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:Q=>`${Q.dataset.label}: ${N(Q.parsed.y)}`}}},scales:{y:{ticks:{callback:Q=>N(Number(Q))}}}}})})]}),t==="kpis"&&s.jsx(Vbe,{}),t==="reports"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Ticket Médio"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:N(y.ticketMedio)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Margem de Lucro"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:O(y.margemLucro)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Lucro do Mês"}),s.jsx("p",{className:`text-3xl font-bold ${y.lucroMes>=0?"text-blue-600":"text-red-600"}`,children:N(y.lucroMes)})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Últimos Lançamentos"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Data"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Código"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Descrição"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Tipo"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Valor"})]})}),s.jsx("tbody",{className:"divide-y",children:r.slice(0,10).map(Q=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(Q.data).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:Q.codigo}),s.jsx("td",{className:"px-4 py-3 text-sm",children:Q.descricao}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Q.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Q.tipo})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Q.status==="recebido"||Q.status==="pago"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:Q.status})}),s.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:N(Number(Q.valor))})]},Q.id))})]})})]})]})]})},Cq=async t=>{try{const e=t.replace(/\D/g,"");if(e.length!==14)throw new Error("CNPJ deve conter 14 dígitos");const r="https://hevvpugkhcmujiyncysq.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",a=`${r}/functions/v1/buscar-cnpj?cnpj=${e}`,i=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${n}`,apikey:n}});if(!i.ok){const l=await i.json().catch(()=>({}));throw i.status===429?new Error("Limite de consultas atingido. Tente novamente em alguns segundos."):i.status===404?new Error(l.error||"CNPJ não encontrado na base de dados."):new Error(l.error||"Erro ao buscar CNPJ. Verifique sua conexão.")}const o=await i.json();if(o.status==="ERROR")throw new Error(o.message||"CNPJ não encontrado");return o}catch(e){throw console.error("Erro ao buscar CNPJ:",e),e instanceof TypeError?new Error("Erro de conexão. Verifique sua internet."):e}},Sq=t=>{const e=t.replace(/\D/g,"");return e.length<=2?e:e.length<=5?`${e.slice(0,2)}.${e.slice(2)}`:e.length<=8?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5)}`:e.length<=12?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8)}`:`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8,12)}-${e.slice(12,14)}`},Wbe=({cnpj:t,onCnpjChange:e,onDataFilled:r})=>{const[n,a]=k.useState(!1),[i,o]=k.useState(""),[l,c]=k.useState(!1),d=async()=>{if(!t||t.replace(/\D/g,"").length!==14){o("CNPJ deve conter 14 dígitos");return}a(!0),o(""),c(!1);try{const f=await Cq(t);f&&(r({razao_social:f.razao_social,nome_fantasia:f.nome_fantasia,email:f.email,telefone:f.telefone,logradouro:f.logradouro,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.municipio,estado:f.uf,cep:f.cep}),c(!0),setTimeout(()=>c(!1),3e3))}catch(f){o(f instanceof Error?f.message:"Erro ao buscar CNPJ")}finally{a(!1)}},u=f=>{const g=Sq(f);e(g),o(""),c(!1)},A=()=>{t&&t.replace(/\D/g,"").length===14&&d()},h=f=>{f.key==="Enter"&&(f.preventDefault(),d())};return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNPJ ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s.jsx(yl,{className:"w-5 h-5"})}),s.jsx("input",{type:"text",value:t,onChange:f=>u(f.target.value),onBlur:A,onKeyPress:h,placeholder:"00.000.000/0000-00",maxLength:18,className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${i?"border-red-500":l?"border-green-500":"border-gray-300"}`}),s.jsx("button",{type:"button",onClick:d,disabled:n||!t,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar dados da empresa",children:n?s.jsx(fx,{className:"w-5 h-5 animate-spin"}):s.jsx(Hr,{className:"w-5 h-5"})})]}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),l&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(yl,{className:"w-4 h-4"}),"Dados da empresa preenchidos automaticamente"]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Digite o CNPJ e pressione Enter ou clique na lupa para buscar os dados automaticamente"})]})},Gbe=({isOpen:t,onClose:e,onSave:r,customerId:n})=>{const[a,i]=k.useState("dados"),[o,l]=k.useState(!1),[c,d]=k.useState({tipo_pessoa:"fisica",nome_razao:"",nome_fantasia:"",cpf:"",rg:"",cnpj:"",inscricao_estadual:"",inscricao_municipal:"",data_nascimento:"",data_fundacao:"",email:"",telefone:"",celular:"",observacoes:""}),[u,A]=k.useState([]),[h,f]=k.useState([]),[g,x]=k.useState([]);k.useEffect(()=>{n&&m()},[n]);const m=async()=>{if(n)try{const{data:C}=await ge.from("customers").select("*").eq("id",n).single();C&&d({tipo_pessoa:C.tipo_pessoa||"fisica",nome_razao:C.nome_razao||"",nome_fantasia:C.nome_fantasia||"",cpf:C.cpf||"",rg:C.rg||"",cnpj:C.cnpj||"",inscricao_estadual:C.inscricao_estadual||"",inscricao_municipal:C.inscricao_municipal||"",data_nascimento:C.data_nascimento||"",data_fundacao:C.data_fundacao||"",email:C.email||"",telefone:C.telefone||"",celular:C.celular||"",observacoes:C.observacoes||""});const{data:E}=await ge.from("customer_addresses").select("*").eq("customer_id",n),{data:T}=await ge.from("customer_contacts").select("*").eq("customer_id",n),{data:v}=await ge.from("customer_equipment").select("*").eq("customer_id",n);A(E||[]),f(T||[]),x(v||[])}catch(C){console.error("Error loading customer:",C)}},p=async()=>{try{if(!c.nome_razao){alert("Nome/Razão Social é obrigatório!");return}l(!0);let C=n;const E={nome_razao:c.nome_razao,tipo_pessoa:c.tipo_pessoa||"fisica",cpf:c.cpf||null,cnpj:c.cnpj||null,rg:c.rg||null,email:c.email||null,telefone:c.telefone||null,celular:c.celular||null,inscricao_estadual:c.inscricao_estadual||null,inscricao_municipal:c.inscricao_municipal||null,nome_fantasia:c.nome_fantasia||null,data_nascimento:c.data_nascimento||null,data_fundacao:c.data_fundacao||null,observacoes:c.observacoes||null};if(n){const{error:T}=await ge.from("customers").update(E).eq("id",n);if(T)throw console.error("Error updating customer:",T),T}else{const{data:T,error:v}=await ge.from("customers").insert([E]).select().single();if(v)throw console.error("Error inserting customer:",v),alert(`Erro ao salvar cliente: ${v.message}`),v;C=T.id}for(const T of u)if(T.id.startsWith("new-")){console.log("🔍 ENDEREÇO ORIGINAL:",JSON.stringify(T,null,2));const{data:v,error:N}=await ge.rpc("insert_customer_address",{p_customer_id:C,p_tipo:T.tipo||"comercial",p_nome_identificacao:T.nome_identificacao||"",p_cep:T.cep||"",p_logradouro:T.logradouro||"",p_numero:T.numero||"",p_complemento:T.complemento||"",p_bairro:T.bairro||"",p_cidade:T.cidade||"",p_estado:T.estado||"",p_principal:T.principal||!1});if(N)throw console.error("❌ ERRO ao inserir endereço:",N),alert(`Erro ao salvar endereço: ${N.message}`),N}else{const{error:v}=await ge.rpc("update_customer_address",{p_id:T.id,p_tipo:T.tipo||"comercial",p_nome_identificacao:T.nome_identificacao||"",p_cep:T.cep||"",p_logradouro:T.logradouro||"",p_numero:T.numero||"",p_complemento:T.complemento||"",p_bairro:T.bairro||"",p_cidade:T.cidade||"",p_estado:T.estado||"",p_principal:T.principal||!1});if(v)throw console.error("❌ ERRO ao atualizar endereço:",v),alert(`Erro ao atualizar endereço: ${v.message}`),v}for(const T of h)if(T.id.startsWith("new-")){const v={customer_id:C,nome:String(T.nome||""),cargo:String(T.cargo||""),email:String(T.email||""),telefone:String(T.telefone||""),celular:String(T.celular||""),departamento:String(T.departamento||""),principal:!!T.principal,recebe_notificacoes:T.recebe_notificacoes!==void 0?!!T.recebe_notificacoes:!0},{error:N}=await ge.from("customer_contacts").insert([v]);if(N)throw console.error("❌ ERRO ao inserir contato:",N),N}else{const v={nome:String(T.nome||""),cargo:String(T.cargo||""),email:String(T.email||""),telefone:String(T.telefone||""),celular:String(T.celular||""),departamento:String(T.departamento||""),principal:!!T.principal,recebe_notificacoes:T.recebe_notificacoes!==void 0?!!T.recebe_notificacoes:!0},{error:N}=await ge.from("customer_contacts").update(v).eq("id",T.id);if(N)throw console.error("❌ ERRO ao atualizar contato:",N),N}for(const T of g)if(T.id.startsWith("new-")){const v={customer_id:C,customer_address_id:T.customer_address_id||null,tipo_equipamento:String(T.tipo_equipamento||""),marca:String(T.marca||""),modelo:String(T.modelo||""),numero_serie:String(T.numero_serie||""),capacidade:String(T.capacidade||""),data_instalacao:T.data_instalacao||null},{error:N}=await ge.from("customer_equipment").insert([v]);if(N)throw console.error("❌ ERRO ao inserir equipamento:",N),N}else{const v={customer_address_id:T.customer_address_id||null,tipo_equipamento:String(T.tipo_equipamento||""),marca:String(T.marca||""),modelo:String(T.modelo||""),numero_serie:String(T.numero_serie||""),capacidade:String(T.capacidade||""),data_instalacao:T.data_instalacao||null},{error:N}=await ge.from("customer_equipment").update(v).eq("id",T.id);if(N)throw console.error("❌ ERRO ao atualizar equipamento:",N),N}r(),e()}catch(C){console.error("Error saving:",C),alert("Erro ao salvar cliente!")}finally{l(!1)}},y=()=>{A([...u,{id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",principal:u.length===0}])},w=()=>{f([...h,{id:`new-${Date.now()}`,nome:"",cargo:"",email:"",telefone:"",celular:"",departamento:"",principal:h.length===0,recebe_notificacoes:!0}])},S=()=>{var C;x([...g,{id:`new-${Date.now()}`,customer_address_id:((C=u[0])==null?void 0:C.id)||"",tipo_equipamento:"",marca:"",modelo:"",numero_serie:"",capacidade:"",data_instalacao:""}])},j=C=>C.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),_=C=>C.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),F=C=>{d({...c,nome_razao:C.razao_social||c.nome_razao,nome_fantasia:C.nome_fantasia||c.nome_fantasia,email:C.email||c.email,telefone:C.telefone||c.telefone})};return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Cliente":"Novo Cliente"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Cadastro completo com endereços, contatos e equipamentos"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:xn},{id:"enderecos",label:"Endereços",icon:Ra},{id:"contatos",label:"Contatos",icon:kt},{id:"equipamentos",label:"Equipamentos",icon:Nt}].map(C=>{const E=C.icon;return s.jsxs("button",{onClick:()=>i(C.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===C.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(E,{className:"h-4 w-4"}),C.label]},C.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs(at,{mode:"wait",children:[a==="dados"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:c.tipo_pessoa==="fisica",onChange:()=>d({...c,tipo_pessoa:"fisica"}),className:"w-4 h-4"}),s.jsx(xn,{className:"h-4 w-4"}),s.jsx("span",{children:"Pessoa Física"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:c.tipo_pessoa==="juridica",onChange:()=>d({...c,tipo_pessoa:"juridica"}),className:"w-4 h-4"}),s.jsx(Bu,{className:"h-4 w-4"}),s.jsx("span",{children:"Pessoa Jurídica"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:c.tipo_pessoa==="fisica"?"Nome Completo *":"Razão Social *"}),s.jsx("input",{type:"text",value:c.nome_razao,onChange:C=>d({...c,nome_razao:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="juridica"&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:c.nome_fantasia,onChange:C=>d({...c,nome_fantasia:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="fisica"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF *"}),s.jsx("input",{type:"text",value:c.cpf,maxLength:14,onChange:C=>d({...c,cpf:j(C.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"RG"}),s.jsx("input",{type:"text",value:c.rg,onChange:C=>d({...c,rg:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Nascimento"}),s.jsx("input",{type:"date",value:c.data_nascimento,onChange:C=>d({...c,data_nascimento:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Wbe,{cnpj:c.cnpj,onCnpjChange:C=>d({...c,cnpj:C}),onDataFilled:F}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrição Estadual"}),s.jsx("input",{type:"text",value:c.inscricao_estadual,onChange:C=>d({...c,inscricao_estadual:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrição Municipal"}),s.jsx("input",{type:"text",value:c.inscricao_municipal,onChange:C=>d({...c,inscricao_municipal:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Fundação"}),s.jsx("input",{type:"date",value:c.data_fundacao,onChange:C=>d({...c,data_fundacao:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:c.email,onChange:C=>d({...c,email:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: contato@empresa.com.br"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:c.telefone,onChange:C=>d({...c,telefone:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular / WhatsApp"}),s.jsx("input",{type:"tel",value:c.celular,onChange:C=>d({...c,celular:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações"}),s.jsx("textarea",{value:c.observacoes,onChange:C=>d({...c,observacoes:C.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Ex: Cliente preferencial, Pagamento à vista, Desconto corporativo..."})]})]})]},"dados"),a==="enderecos"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Endereços do Cliente"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"💡 Digite o CEP e os dados serão preenchidos automaticamente"})]}),s.jsxs("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Adicionar Endereço"]})]}),u.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Ra,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum endereço cadastrado"})]}),u.map((C,E)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Endereço #",E+1]}),s.jsx("button",{onClick:()=>A(u.filter(T=>T.id!==C.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),s.jsxs("select",{value:C.tipo,onChange:T=>A(u.map(v=>v.id===C.id?{...v,tipo:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"comercial",children:"Comercial"}),s.jsx("option",{value:"residencial",children:"Residencial"}),s.jsx("option",{value:"filial",children:"Filial"}),s.jsx("option",{value:"outro",children:"Outro"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Identificação (Ex: Matriz, Filial Centro)"}),s.jsx("input",{type:"text",value:C.nome_identificacao||"",onChange:T=>A(u.map(v=>v.id===C.id?{...v,nome_identificacao:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Matriz, Filial São Paulo, Depósito Centro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"CEP"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",value:C.cep||"",maxLength:9,onChange:T=>A(u.map(v=>v.id===C.id?{...v,cep:_(T.target.value)}:v)),onBlur:async T=>{const v=T.target.value.replace(/\D/g,"");if(v.length===8)try{const O=await(await fetch(`https://viacep.com.br/ws/${v}/json/`)).json();O.erro||A(u.map(L=>L.id===C.id?{...L,logradouro:O.logradouro||L.logradouro,bairro:O.bairro||L.bairro,cidade:O.localidade||L.cidade,estado:O.uf||L.estado,complemento:O.complemento||L.complemento}:L))}catch{console.log("CEP não encontrado, preencha manualmente")}},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Logradouro (Rua/Avenida)"}),s.jsx("input",{type:"text",value:C.logradouro||"",onChange:T=>A(u.map(v=>v.id===C.id?{...v,logradouro:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rua das Flores, Avenida Paulista"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Número"}),s.jsx("input",{type:"text",value:C.numero||"",onChange:T=>A(u.map(v=>v.id===C.id?{...v,numero:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 123, S/N"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Complemento"}),s.jsx("input",{type:"text",value:C.complemento||"",onChange:T=>A(u.map(v=>v.id===C.id?{...v,complemento:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Apto 101, Bloco A, Sala 205"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:C.bairro||"",onChange:T=>A(u.map(v=>v.id===C.id?{...v,bairro:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Centro, Vila Mariana"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:C.cidade||"",onChange:T=>A(u.map(v=>v.id===C.id?{...v,cidade:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: São Paulo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estado"}),s.jsx("input",{type:"text",value:C.estado||"",maxLength:2,onChange:T=>A(u.map(v=>v.id===C.id?{...v,estado:T.target.value.toUpperCase()}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"SP"})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.principal,onChange:T=>A(u.map(v=>v.id===C.id?{...v,principal:T.target.checked}:{...v,principal:!1})),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Endereço Principal"})]})})]})]},C.id))]},"enderecos"),a==="contatos"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Contatos e Responsáveis"}),s.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Adicionar Contato"]})]}),h.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(kt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum contato cadastrado"})]}),h.map((C,E)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Contato #",E+1]}),s.jsx("button",{onClick:()=>f(h.filter(T=>T.id!==C.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:C.nome,onChange:T=>f(h.map(v=>v.id===C.id?{...v,nome:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: João da Silva"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cargo"}),s.jsx("input",{type:"text",value:C.cargo,onChange:T=>f(h.map(v=>v.id===C.id?{...v,cargo:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Gerente de Compras, Diretor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:C.email,onChange:T=>f(h.map(v=>v.id===C.id?{...v,email:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: joao@empresa.com.br"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:C.telefone,onChange:T=>f(h.map(v=>v.id===C.id?{...v,telefone:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular"}),s.jsx("input",{type:"tel",value:C.celular,onChange:T=>f(h.map(v=>v.id===C.id?{...v,celular:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:C.departamento,onChange:T=>f(h.map(v=>v.id===C.id?{...v,departamento:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Financeiro, Compras, T.I."})]}),s.jsxs("div",{className:"md:col-span-2 flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.principal,onChange:T=>f(h.map(v=>v.id===C.id?{...v,principal:T.target.checked}:{...v,principal:!1})),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Contato Principal"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C.recebe_notificacoes,onChange:T=>f(h.map(v=>v.id===C.id?{...v,recebe_notificacoes:T.target.checked}:v)),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Recebe Notificações"})]})]})]})]},C.id))]},"contatos"),a==="equipamentos"&&s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Inventário de Equipamentos"}),s.jsxs("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Adicionar Equipamento"]})]}),u.length===0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(zn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900",children:"Cadastre endereços primeiro"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Para registrar equipamentos, é necessário ter pelo menos um endereço cadastrado."})]})]}),g.length===0&&u.length>0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Nt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Nenhum equipamento cadastrado"})]}),g.map((C,E)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Equipamento #",E+1]}),s.jsx("button",{onClick:()=>x(g.filter(T=>T.id!==C.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Localização"}),s.jsxs("select",{value:C.customer_address_id,onChange:T=>x(g.map(v=>v.id===C.id?{...v,customer_address_id:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione o endereço..."}),u.map(T=>s.jsx("option",{value:T.id,children:T.nome_identificacao||`${T.logradouro}, ${T.numero}`},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Equipamento"}),s.jsx("input",{type:"text",value:C.tipo_equipamento,onChange:T=>x(g.map(v=>v.id===C.id?{...v,tipo_equipamento:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Ar Condicionado Split"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),s.jsx("input",{type:"text",value:C.marca,onChange:T=>x(g.map(v=>v.id===C.id?{...v,marca:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),s.jsx("input",{type:"text",value:C.modelo,onChange:T=>x(g.map(v=>v.id===C.id?{...v,modelo:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Número de Série"}),s.jsx("input",{type:"text",value:C.numero_serie,onChange:T=>x(g.map(v=>v.id===C.id?{...v,numero_serie:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacidade"}),s.jsx("input",{type:"text",value:C.capacidade,onChange:T=>x(g.map(v=>v.id===C.id?{...v,capacidade:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12000 BTU, 18000 BTU"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Instalação"}),s.jsx("input",{type:"date",value:C.data_instalacao,onChange:T=>x(g.map(v=>v.id===C.id?{...v,data_instalacao:T.target.value}:v)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]},C.id))]},"equipamentos")]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:p,disabled:o,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:o?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5"}),"Salvar Cliente"]})})]})]})}):null},Xbe=()=>{const{isAdmin:t}=Yr(),e=ra(),[r,n]=k.useState([]),[a,i]=k.useState([]),[o,l]=k.useState([]),[c,d]=k.useState([]),[u,A]=k.useState(!0),[h,f]=k.useState(null),[g,x]=k.useState(""),[m,p]=k.useState("all"),[y,w]=k.useState(!1),[S,j]=k.useState(null),[_,F]=k.useState(void 0),[C,E]=k.useState(null),[T,v]=k.useState(null),[N,O]=k.useState(!1),[L,Q]=k.useState(null),[D,U]=k.useState([]),[R,z]=k.useState(1),Y=10,[X,$]=k.useState({name:"",email:"",phone:"",address:"",client_type:"PF",document:""}),[M,G]=k.useState({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""});k.useEffect(()=>{V()},[]);const V=async()=>{try{A(!0);const ue=await Cde();n(ue||[]),f(null)}catch(ue){console.error("Error loading clients:",ue),f("Erro ao carregar clientes"),n([{id:"1",name:"João Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - São Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - São Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"}])}finally{A(!1)}},ae=async ue=>{try{return await Ede(ue)||[]}catch(se){return console.error("Error loading client contracts:",se),[]}},Ae=async ue=>{try{const{data:se,error:le}=await ge.from("service_orders").select("*").eq("customer_id",ue).order("opened_at",{ascending:!1});if(le)throw le;return se||[]}catch(se){return console.error("Error loading service orders:",se),[]}},re=async ue=>{try{const{data:se,error:le}=await ge.from("customer_equipment").select("*").eq("customer_id",ue).order("created_at",{ascending:!1});if(le)throw le;return se||[]}catch(se){return console.error("Error loading equipments:",se),[]}},ie=r.filter(ue=>{var ve,xe;const se=ue.name.toLowerCase().includes(g.toLowerCase())||((ve=ue.email)==null?void 0:ve.toLowerCase().includes(g.toLowerCase()))||((xe=ue.phone)==null?void 0:xe.toLowerCase().includes(g.toLowerCase())),le=m==="all"||ue.client_type===m;return se&&le}),ce=Math.ceil(ie.length/Y),Z=(R-1)*Y,me=Z+Y,Me=ie.slice(Z,me),Re=r.filter(ue=>a.some(se=>se.customer_id===ue.id&&se.status==="active")).length;k.useEffect(()=>{z(1)},[g,m]);const ye=async ue=>{try{await Sde(ue),n(r.filter(se=>se.id!==ue)),E(null),alert("Cliente excluído com sucesso!")}catch(se){console.error("Error deleting client:",se),alert("Erro ao excluir cliente")}},q=async()=>{if(!T){alert("Por favor, selecione um cliente");return}try{const ue={client_id:T.id,contract_number:`CONT-${new Date().getFullYear()}-${String(a.length+1).padStart(3,"0")}`,title:M.title,start_date:M.start_date,end_date:M.end_date,contract_type:M.contract_type,frequency:M.frequency,value:M.value,status:"active",sla_response_time:M.sla_response_time,sla_resolution_time:M.sla_resolution_time,sla_availability:M.sla_availability,next_service_date:M.next_service_date,terms_and_conditions:M.terms_and_conditions,notes:M.notes},se=await Bde(ue);i([...a,se]),G({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""}),O(!1),v(null),alert("Contrato criado com sucesso!")}catch(ue){console.error("Error creating contract:",ue),alert("Erro ao criar contrato")}},Ee=async()=>{if(L)try{const ue={title:L.title,start_date:L.start_date,end_date:L.end_date,contract_type:L.contract_type,frequency:L.frequency,value:L.value,status:L.status,sla_response_time:L.sla_response_time,sla_resolution_time:L.sla_resolution_time,sla_availability:L.sla_availability,next_service_date:L.next_service_date,terms_and_conditions:L.terms_and_conditions,notes:L.notes},se=await kde(L.id,ue);i(a.map(le=>le.id===se.id?se:le)),Q(null),alert("Contrato atualizado com sucesso!")}catch(ue){console.error("Error updating contract:",ue),alert("Erro ao atualizar contrato")}},Oe=async ue=>{try{await Fde(ue),i(a.filter(se=>se.id!==ue)),alert("Contrato excluído com sucesso!")}catch(se){console.error("Error deleting contract:",se),alert("Erro ao excluir contrato")}},ke=async ue=>{if(D.includes(ue))U(D.filter(se=>se!==ue));else{U([...D,ue]);const[se,le,ve]=await Promise.all([ae(ue),Ae(ue),re(ue)]);i(xe=>[...xe.filter(Se=>Se.client_id!==ue),...se]),l(xe=>[...xe.filter(Se=>Se.customer_id!==ue),...le]),d(xe=>[...xe.filter(Se=>Se.customer_id!==ue),...ve])}},Le=ue=>{switch(ue){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ie=ue=>{switch(ue){case"pending":return"Pendente";case"in_progress":return"Em Andamento";case"completed":return"Concluída";case"cancelled":return"Cancelada";default:return ue}},Be=ue=>{switch(ue){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},he=ue=>{switch(ue){case"active":return"Ativo";case"expired":return"Expirado";case"cancelled":return"Cancelado";case"suspended":return"Suspenso";default:return"Desconhecido"}},$e=ue=>{switch(ue){case"maintenance":return"Manutenção";case"support":return"Suporte";case"service":return"Serviço";default:return ue}},pe=ue=>{switch(ue){case"monthly":return"Mensal";case"quarterly":return"Trimestral";case"biannual":return"Semestral";case"annual":return"Anual";default:return"Não definida"}};return s.jsxs("div",{className:"space-y-6",children:[h&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ts,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:h})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestão de Clientes"}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("button",{onClick:()=>w(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Cliente"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Clientes"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:s.jsx(xn,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(ue=>ue.client_type==="PF").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Física"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(Bu,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(ue=>ue.client_type==="PJ").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Jurídica"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx(xt,{className:"h-5 w-5 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Re}),s.jsx("p",{className:"text-sm text-gray-600",children:"Clientes com Contrato"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:g,onChange:ue=>x(ue.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sA,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m,onChange:ue=>p(ue.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Tipos"}),s.jsx("option",{value:"PF",children:"Pessoa Física"}),s.jsx("option",{value:"PJ",children:"Pessoa Jurídica"})]})]})]})}),u?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando clientes..."})]}):s.jsxs("div",{className:"space-y-4",children:[Me.length>0?Me.map((ue,se)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:se*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${ue.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:ue.client_type==="PF"?s.jsx(xn,{className:"h-6 w-6"}):s.jsx(Bu,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ue.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ue.client_type==="PF"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:ue.client_type}),ue.document&&s.jsx("span",{className:"text-xs text-gray-500",children:ue.document})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>ke(ue.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:D.includes(ue.id)?s.jsx(r0,{className:"h-4 w-4"}):s.jsx(Hu,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(us,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:ue.phone})]}),ue.email&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:ue.email})]}),s.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[s.jsx(Ra,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:ue.address})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{j(ue),F(ue.id)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(Dr,{className:"h-4 w-4"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>E(ue.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Excluir"})]})]}),s.jsx(at,{children:D.includes(ue.id)&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(xt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Contratos"]}),s.jsxs("button",{onClick:()=>{v(ue),O(!0)},className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(bt,{className:"h-3 w-3"}),s.jsx("span",{children:"Novo Contrato"})]})]}),a.filter(le=>le.customer_id===ue.id).length>0?s.jsx("div",{className:"space-y-3",children:a.filter(le=>le.customer_id===ue.id).map(le=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:le.title}),s.jsx("p",{className:"text-sm text-gray-600",children:le.contract_number})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Be(le.status)}`,children:he(le.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Tipo:"}),s.jsx("p",{className:"font-medium",children:$e(le.contract_type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Frequência:"}),s.jsx("p",{className:"font-medium",children:pe(le.frequency)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Valor:"}),s.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",le.value.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Vigência:"}),s.jsxs("p",{className:"font-medium",children:[new Date(le.start_date).toLocaleDateString("pt-BR")," - ",new Date(le.end_date).toLocaleDateString("pt-BR")]})]}),le.next_service_date&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Próximo Serviço:"}),s.jsx("p",{className:"font-medium",children:new Date(le.next_service_date).toLocaleDateString("pt-BR")})]}),le.sla_response_time&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"SLA Resposta:"}),s.jsxs("p",{className:"font-medium",children:[le.sla_response_time,"h"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>Q(le),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Dr,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>Oe(le.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Bt,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},le.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(xt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum contrato cadastrado"}),s.jsx("button",{onClick:()=>{v(ue),O(!0)},className:"mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Criar Primeiro Contrato"})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[s.jsx(Js,{className:"h-5 w-5 mr-2 text-green-500"}),"Histórico de Serviços"]}),o.filter(le=>le.customer_id===ue.id).length>0?s.jsxs("div",{className:"space-y-2",children:[o.filter(le=>le.customer_id===ue.id).slice(0,5).map(le=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>e(`/ordens-servico/${le.id}`),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:le.order_number}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Le(le.status)}`,children:Ie(le.status)})]}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:le.description||"Sem descrição"}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),le.opened_at?new Date(le.opened_at).toLocaleDateString("pt-BR"):"N/A"]}),le.total_value&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xt,{className:"h-3 w-3"}),"R$ ",le.total_value.toFixed(2)]})]})]}),s.jsx(wi,{className:"h-4 w-4 text-gray-400"})]})},le.id)),o.filter(le=>le.customer_id===ue.id).length>5&&s.jsxs("button",{onClick:()=>e("/ordens-servico"),className:"w-full py-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:["Ver todas as ",o.filter(le=>le.customer_id===ue.id).length," ordens de serviço"]})]}):s.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Js,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhuma ordem de serviço realizada"})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[s.jsx(Nt,{className:"h-5 w-5 mr-2 text-purple-500"}),"Equipamentos"]}),c.filter(le=>le.customer_id===ue.id).length>0?s.jsx("div",{className:"space-y-2",children:c.filter(le=>le.customer_id===ue.id).map(le=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:le.equipment_name||"Equipamento"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs text-gray-600",children:[le.brand&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Marca:"})," ",le.brand]}),le.model&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Modelo:"})," ",le.model]}),le.serial_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Série:"})," ",le.serial_number]}),le.installation_date&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Instalado em:"})," ",new Date(le.installation_date).toLocaleDateString("pt-BR")]})]})]})})},le.id))}):s.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Nt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum equipamento cadastrado"})]})]})]})})]},ue.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(kt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum cliente encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos clientes com os filtros selecionados."}),s.jsx("button",{onClick:()=>{x(""),p("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]}),ie.length>0&&ce>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>z(ue=>Math.max(ue-1,1)),disabled:R===1,className:`px-4 py-2 rounded-lg ${R===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Anterior"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:ce},(ue,se)=>se+1).map(ue=>s.jsx("button",{onClick:()=>z(ue),className:`w-10 h-10 rounded-lg ${R===ue?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:ue},ue))}),s.jsx("button",{onClick:()=>z(ue=>Math.min(ue+1,ce)),disabled:R===ce,className:`px-4 py-2 rounded-lg ${R===ce?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Próxima"}),s.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Mostrando ",Z+1,"-",Math.min(me,ie.length)," de ",ie.length," clientes"]})]})]}),s.jsx(Gbe,{isOpen:y||S!==null,onClose:()=>{w(!1),j(null),F(void 0)},onSave:()=>{V(),w(!1),j(null),F(void 0)},customerId:_}),s.jsx(at,{children:!1}),s.jsx(at,{children:!1}),s.jsx(at,{children:C&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>E(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(ts,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Exclusão"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este cliente? Esta ação não pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>ye(C),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),s.jsx(at,{children:N&&T&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>O(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Contrato"}),s.jsx("button",{onClick:()=>O(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Cliente Selecionado"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${T.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:T.client_type==="PF"?s.jsx(xn,{className:"h-5 w-5"}):s.jsx(Bu,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:T.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[T.client_type," - ",T.phone]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informações do Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Contrato"}),s.jsx("input",{type:"text",value:M.title,onChange:ue=>G({...M,title:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Contrato de Manutenção Preventiva",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),s.jsxs("select",{value:M.contract_type,onChange:ue=>G({...M,contract_type:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"maintenance",children:"Manutenção"}),s.jsx("option",{value:"support",children:"Suporte"}),s.jsx("option",{value:"service",children:"Serviço"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência"}),s.jsxs("select",{value:M.frequency,onChange:ue=>G({...M,frequency:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Início"}),s.jsx("input",{type:"date",value:M.start_date,onChange:ue=>G({...M,start_date:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Término"}),s.jsx("input",{type:"date",value:M.end_date,onChange:ue=>G({...M,end_date:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),s.jsx("input",{type:"number",value:M.value,onChange:ue=>G({...M,value:parseFloat(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Próximo Serviço"}),s.jsx("input",{type:"date",value:M.next_service_date,onChange:ue=>G({...M,next_service_date:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Kr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configuração de SLA"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),s.jsx("input",{type:"number",value:M.sla_response_time,onChange:ue=>G({...M,sla_response_time:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resolução (horas)"}),s.jsx("input",{type:"number",value:M.sla_resolution_time,onChange:ue=>G({...M,sla_resolution_time:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),s.jsx("input",{type:"number",value:M.sla_availability,onChange:ue=>G({...M,sla_availability:parseFloat(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observações"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condições"}),s.jsx("textarea",{value:M.terms_and_conditions,onChange:ue=>G({...M,terms_and_conditions:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Descreva os termos e condições do contrato..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),s.jsx("textarea",{value:M.notes,onChange:ue=>G({...M,notes:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observações adicionais..."})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:q,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Criar Contrato"]})]})]})]})}),s.jsx(at,{children:L&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Q(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Contrato"}),s.jsx("button",{onClick:()=>Q(null),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informações do Contrato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Contrato"}),s.jsx("input",{type:"text",value:L.title,onChange:ue=>Q({...L,title:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),s.jsxs("select",{value:L.contract_type,onChange:ue=>Q({...L,contract_type:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"maintenance",children:"Manutenção"}),s.jsx("option",{value:"support",children:"Suporte"}),s.jsx("option",{value:"service",children:"Serviço"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:L.status,onChange:ue=>Q({...L,status:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"suspended",children:"Suspenso"}),s.jsx("option",{value:"cancelled",children:"Cancelado"}),s.jsx("option",{value:"expired",children:"Expirado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência"}),s.jsxs("select",{value:L.frequency,onChange:ue=>Q({...L,frequency:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),s.jsx("input",{type:"number",value:L.value,onChange:ue=>Q({...L,value:parseFloat(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Kr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configuração de SLA"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),s.jsx("input",{type:"number",value:L.sla_response_time||0,onChange:ue=>Q({...L,sla_response_time:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resolução (horas)"}),s.jsx("input",{type:"number",value:L.sla_resolution_time||0,onChange:ue=>Q({...L,sla_resolution_time:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),s.jsx("input",{type:"number",value:L.sla_availability||0,onChange:ue=>Q({...L,sla_availability:parseFloat(ue.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observações"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condições"}),s.jsx("textarea",{value:L.terms_and_conditions||"",onChange:ue=>Q({...L,terms_and_conditions:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),s.jsx("textarea",{value:L.notes||"",onChange:ue=>Q({...L,notes:ue.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>Q(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:Ee,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})})]})},Ybe=({onPremiumFeature:t})=>{const[e,r]=k.useState("themes"),[n,a]=k.useState(null),[i,o]=k.useState(null),[l,c]=k.useState("desktop"),[d,u]=k.useState("light"),[A,h]=k.useState({id:"custom",name:"Tema Personalizado",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"});k.useEffect(()=>{const p=localStorage.getItem("giartech-theme");if(p){const y=JSON.parse(p);o(y),f(y)}},[]);const f=p=>{const y=document.documentElement,w=p.palette;y.style.setProperty("--color-primary",w.primary),y.style.setProperty("--color-secondary",w.secondary),y.style.setProperty("--color-accent",w.accent),y.style.setProperty("--color-success",w.success),y.style.setProperty("--color-warning",w.warning),y.style.setProperty("--color-error",w.error),y.style.setProperty("--color-neutral",w.neutral),y.style.setProperty("--color-background",w.background),y.style.setProperty("--color-surface",w.surface),y.style.setProperty("--color-text",w.text)},g=p=>{o(p),f(p),localStorage.setItem("giartech-theme",JSON.stringify(p));const y=document.createElement("div");y.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",y.innerHTML=`✓ Tema "${p.name}" aplicado com sucesso!`,document.body.appendChild(y),setTimeout(()=>{y.style.transition="opacity 0.3s",y.style.opacity="0",setTimeout(()=>y.remove(),300)},2e3)},x=()=>{const p={id:"custom-"+Date.now(),name:A.name,description:"Tema personalizado criado pelo usuário",palette:A,typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!0};g(p)},m=[{id:"default",name:"Tema Padrão",description:"Tema clássico azul e branco",palette:{id:"default",name:"Padrão",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!1},{id:"dark",name:"Tema Escuro",description:"Tema escuro moderno",palette:{id:"dark",name:"Escuro",primary:"#60a5fa",secondary:"#94a3b8",accent:"#a78bfa",success:"#34d399",warning:"#fbbf24",error:"#f87171",neutral:"#9ca3af",background:"#111827",surface:"#1f2937",text:"#f9fafb"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"12px",shadows:!0,animations:!0,isCustom:!1},{id:"nature",name:"Natureza",description:"Tons verdes e terrosos",palette:{id:"nature",name:"Natureza",primary:"#059669",secondary:"#6b7280",accent:"#d97706",success:"#10b981",warning:"#f59e0b",error:"#dc2626",neutral:"#78716c",background:"#f0fdf4",surface:"#ecfdf5",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.6"},spacing:"8px",borderRadius:"16px",shadows:!1,animations:!0,isCustom:!1}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Personalização Visual"}),i&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Tema ativo: ",s.jsx("span",{className:"font-semibold text-green-600",children:i.name})]})]}),s.jsxs("button",{onClick:()=>alert("Novo tema em breve!"),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Tema"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>r("themes"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="themes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(t2,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Temas"})]}),s.jsxs("button",{onClick:()=>r("colors"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="colors"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(qu,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Cores"})]}),s.jsxs("button",{onClick:()=>r("preview"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="preview"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Ds,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Preview"})]})]}),s.jsxs("div",{className:"p-6",children:[e==="themes"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Temas Disponíveis"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((p,y)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:`p-6 rounded-xl border-2 cursor-pointer transition-all relative ${(i==null?void 0:i.id)===p.id?"border-green-500 bg-green-50":(n==null?void 0:n.id)===p.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(p),children:[(i==null?void 0:i.id)===p.id&&s.jsxs("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(kr,{className:"h-3 w-3"}),s.jsx("span",{children:"Ativo"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex space-x-1 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.palette.primary}}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.palette.secondary}}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.palette.accent}})]}),s.jsxs("div",{className:"w-full h-16 rounded-lg border",style:{backgroundColor:p.palette.background,borderColor:p.palette.neutral},children:[s.jsx("div",{className:"h-4 rounded-t-lg",style:{backgroundColor:p.palette.primary}}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"w-full h-2 rounded mb-1",style:{backgroundColor:p.palette.surface}}),s.jsx("div",{className:"w-3/4 h-2 rounded",style:{backgroundColor:p.palette.surface}})]})]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:p.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:p.description}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:w=>{w.stopPropagation(),a(p),r("preview")},className:"flex-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[s.jsx(Ds,{className:"h-4 w-4 mr-1 inline"}),"Preview"]}),s.jsxs("button",{onClick:w=>{w.stopPropagation(),g(p)},className:`flex-1 px-3 py-1 rounded-lg transition-colors text-sm ${(i==null?void 0:i.id)===p.id?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[s.jsx(kr,{className:"h-4 w-4 mr-1 inline"}),(i==null?void 0:i.id)===p.id?"Ativo":"Aplicar"]})]})]},p.id))})]}),e==="colors"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor de Cores"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(A).filter(([p])=>p!=="id"&&p!=="name").map(([p,y])=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:p==="primary"?"Cor Primária":p==="secondary"?"Cor Secundária":p==="accent"?"Cor de Destaque":p==="success"?"Cor de Sucesso":p==="warning"?"Cor de Aviso":p==="error"?"Cor de Erro":p==="neutral"?"Cor Neutra":p==="background"?"Cor de Fundo":p==="surface"?"Cor de Superfície":p==="text"?"Cor do Texto":p}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"color",value:y,onChange:w=>h({...A,[p]:w.target.value}),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:y,onChange:w=>h({...A,[p]:w.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(y),className:"p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:s.jsx(zu,{className:"h-4 w-4"})})]})]},p))}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:x,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar e Aplicar Paleta"]}),s.jsxs("button",{onClick:()=>h(m[0].palette),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Zs,{className:"h-4 w-4 mr-2 inline"}),"Resetar"]})]})]}),e==="preview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preview do Tema"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>c("desktop"),className:`p-2 rounded-md transition-colors ${l==="desktop"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(xie,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>c("tablet"),className:`p-2 rounded-md transition-colors ${l==="tablet"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(soe,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>c("mobile"),className:`p-2 rounded-md transition-colors ${l==="mobile"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(NE,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>u("light"),className:`p-2 rounded-md transition-colors ${d==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(eoe,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>u("dark"),className:`p-2 rounded-md transition-colors ${d==="dark"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(vie,{className:"h-4 w-4"})})]})]})]}),s.jsx("div",{className:"bg-gray-100 p-8 rounded-xl",children:s.jsxs("div",{className:`mx-auto rounded-lg shadow-lg overflow-hidden transition-all ${l==="mobile"?"max-w-sm":l==="tablet"?"max-w-2xl":"max-w-4xl"}`,style:{backgroundColor:(n==null?void 0:n.palette.background)||A.background,color:(n==null?void 0:n.palette.text)||A.text},children:[s.jsx("div",{className:"p-4",style:{backgroundColor:(n==null?void 0:n.palette.primary)||A.primary},children:s.jsx("h3",{className:"text-white font-semibold",children:"Sistema GiarTech"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||A.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Ys,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.primary)||A.primary}}),s.jsx("span",{className:"font-medium",children:"Analytics"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"1,234"})]}),s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||A.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(kt,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.success)||A.success}}),s.jsx("span",{className:"font-medium",children:"Usuários"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"567"})]}),s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:(n==null?void 0:n.palette.surface)||A.surface},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Nt,{className:"h-5 w-5",style:{color:(n==null?void 0:n.palette.accent)||A.accent}}),s.jsx("span",{className:"font-medium",children:"Produtos"})]}),s.jsx("p",{className:"text-2xl font-bold",children:"89"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.primary)||A.primary},children:"Botão Primário"}),s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.success)||A.success},children:"Botão de Sucesso"}),s.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:(n==null?void 0:n.palette.warning)||A.warning},children:"Botão de Aviso"})]})]})]})})]})]})]})]})},Jbe=({isOpen:t,onClose:e,onSave:r,title:n,children:a,showControls:i=!0,currentStep:o,totalSteps:l,onPrevStep:c,onNextStep:d})=>s.jsx(at,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ds,{className:"h-5 w-5 text-blue-500"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n})]}),s.jsx("button",{onClick:e,children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 mb-6",children:a}),i&&s.jsxs("div",{className:"flex justify-between items-center",children:[o!==void 0&&l!==void 0?s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:c,disabled:o<=0,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o<=0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Wl,{className:"h-4 w-4"}),s.jsx("span",{children:"Anterior"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Passo ",o+1," de ",l]}),s.jsxs("button",{onClick:d,disabled:o>=l-1,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o>=l-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx("span",{children:"Próximo"}),s.jsx(wi,{className:"h-4 w-4"})]})]}):s.jsx("div",{}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Fechar"}),r&&s.jsxs("button",{onClick:r,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),s.jsx("span",{children:"Salvar Alterações"})]})]})]})]})]})}),Zbe=({onPremiumFeature:t,onEnterpriseFeature:e})=>{var Q;const{isPremium:r,isEnterprise:n}=Yr(),[a,i]=k.useState([{id:"inventory",name:"Estoque de Materiais",description:"Controle de produtos, quantidades e movimentações",icon:Nt,enabled:!0,metrics:["Quantidade em estoque","Produtos em falta","Valor total","Rotatividade"],color:"from-blue-500 to-cyan-500"},{id:"orders",name:"Ordens de Serviço",description:"Gestão de pedidos e acompanhamento de status",icon:Js,enabled:!0,metrics:["Ordens abertas","Ordens concluídas","Tempo médio","Satisfação"],color:"from-green-500 to-emerald-500"},{id:"team",name:"Desempenho da Equipe",description:"Produtividade e performance dos colaboradores",icon:kt,enabled:!1,metrics:["Tarefas concluídas","Horas trabalhadas","Eficiência","Avaliações"],color:"from-purple-500 to-pink-500",requiresPremium:!0},{id:"financial",name:"Financeiro",description:"Receitas, despesas e indicadores financeiros",icon:Xt,enabled:!1,metrics:["Receita mensal","Despesas","Lucro líquido","Fluxo de caixa"],color:"from-orange-500 to-red-500",requiresPremium:!0},{id:"delivery",name:"Entregas",description:"Acompanhamento de entregas e logística",icon:_E,enabled:!0,metrics:["Entregas no prazo","Atrasos","Distância percorrida","Custos"],color:"from-indigo-500 to-purple-500"},{id:"quality",name:"Qualidade",description:"Controle de qualidade e não conformidades",icon:ts,enabled:!1,metrics:["Não conformidades","Reclamações","Índice de qualidade","Melhorias"],color:"from-yellow-500 to-orange-500",requiresEnterprise:!0}]),[o,l]=k.useState([{id:"realtime",name:"Monitoramento em Tempo Real",description:"Configurações para monitoramento em tempo real",icon:Ml,requiresEnterprise:!0,settings:[{id:"interval",name:"Intervalo de Atualização",description:"Frequência de atualização dos dados em tempo real",type:"select",value:"5s",options:["1s","5s","10s","30s","1m"]},{id:"alerts",name:"Alertas Automáticos",description:"Enviar alertas automáticos quando métricas ultrapassarem limites",type:"toggle",value:!0},{id:"threshold",name:"Limite de Alerta",description:"Percentual de desvio para disparar alertas",type:"range",value:15,min:5,max:50,step:5}]},{id:"security",name:"Segurança Avançada",description:"Configurações de segurança para monitoramento",icon:Kr,requiresEnterprise:!0,settings:[{id:"encryption",name:"Criptografia de Dados",description:"Criptografar dados sensíveis de monitoramento",type:"toggle",value:!0},{id:"access",name:"Controle de Acesso",description:"Nível de permissão para visualizar dados de monitoramento",type:"select",value:"admin",options:["admin","manager","all"]},{id:"audit",name:"Trilha de Auditoria",description:"Manter logs de acesso aos dados de monitoramento",type:"toggle",value:!0}]},{id:"notifications",name:"Notificações",description:"Configurações de notificações de monitoramento",icon:o9,requiresEnterprise:!0,settings:[{id:"channels",name:"Canais de Notificação",description:"Canais para envio de notificações",type:"select",value:"all",options:["email","push","sms","all"]},{id:"frequency",name:"Frequência de Resumos",description:"Frequência de envio de resumos de monitoramento",type:"select",value:"daily",options:["hourly","daily","weekly"]},{id:"quiet",name:"Período de Silêncio",description:"Horário em que notificações não serão enviadas",type:"input",value:"22:00 - 08:00"}]},{id:"integration",name:"Integrações",description:"Configurações de integração com sistemas externos",icon:Qie,requiresEnterprise:!0,settings:[{id:"api",name:"API Externa",description:"Integrar com API externa para monitoramento",type:"toggle",value:!1},{id:"endpoint",name:"Endpoint da API",description:"URL do endpoint da API externa",type:"input",value:"https://api.example.com/monitoring"},{id:"format",name:"Formato de Dados",description:"Formato dos dados enviados para API externa",type:"select",value:"json",options:["json","xml","csv"]}]},{id:"storage",name:"Armazenamento de Dados",description:"Configurações de armazenamento de dados de monitoramento",icon:n0,requiresEnterprise:!0,settings:[{id:"retention",name:"Período de Retenção",description:"Tempo de retenção dos dados de monitoramento",type:"select",value:"90d",options:["30d","90d","180d","365d","unlimited"]},{id:"compression",name:"Compressão de Dados",description:"Comprimir dados históricos para economizar espaço",type:"toggle",value:!0},{id:"backup",name:"Backup Automático",description:"Frequência de backup dos dados de monitoramento",type:"select",value:"daily",options:["daily","weekly","monthly"]}]}]),[c,d]=k.useState(!1),[u,A]=k.useState(!1),[h,f]=k.useState(((Q=o[0])==null?void 0:Q.id)||""),[g,x]=k.useState({name:"",description:"",metrics:[""]}),[m,p]=k.useState(null),[y,w]=k.useState(["areas","enterprise"]),[S,j]=k.useState(!1),_=D=>{w(U=>U.includes(D)?U.filter(R=>R!==D):[...U,D])},F=D=>{const U=a.find(z=>z.id===D);if(U!=null&&U.requiresPremium&&!r){t&&t("Monitoramento Avançado");return}if(U!=null&&U.requiresEnterprise&&!n){e&&e("Monitoramento Enterprise");return}i(a.map(z=>z.id===D?{...z,enabled:!z.enabled}:z));const R=document.getElementById(`area-${D}`);R&&(R.classList.add("bg-blue-50"),setTimeout(()=>{R.classList.remove("bg-blue-50")},300))},C=()=>{console.log("Configurações salvas:",a.filter(U=>U.enabled));const D=document.getElementById("save-config-button");if(D){const U=D.innerText;D.innerText="Salvo!",D.classList.add("bg-green-500"),D.classList.remove("from-green-500","to-emerald-500"),setTimeout(()=>{D.innerText=U,D.classList.remove("bg-green-500"),D.classList.add("bg-gradient-to-r","from-green-500","to-emerald-500")},2e3)}alert("Configurações de monitoramento salvas com sucesso!")},E=()=>{x(D=>({...D,metrics:[...D.metrics,""]}))},T=(D,U)=>{x(R=>({...R,metrics:R.metrics.map((z,Y)=>Y===D?U:z)}))},v=D=>{x(U=>({...U,metrics:U.metrics.filter((R,z)=>z!==D)}))},N=()=>{if(!r){t&&t("Áreas de Monitoramento Personalizadas"),d(!1);return}if(g.name.trim()){const D={id:Date.now().toString(),name:g.name,description:g.description,icon:Ys,enabled:!0,metrics:g.metrics.filter(U=>U.trim()),color:"from-gray-500 to-gray-600"};i([...a,D]),x({name:"",description:"",metrics:[""]}),d(!1),setTimeout(()=>{const U=document.getElementById(`area-${D.id}`);U&&(U.classList.add("bg-green-50"),setTimeout(()=>{U.classList.remove("bg-green-50")},1e3))},100)}},O=(D,U,R)=>{if(!n){e&&e("Configurações Enterprise");return}l(Y=>Y.map(X=>X.id===D?{...X,settings:X.settings.map($=>$.id===U?{...$,value:R}:$)}:X));const z=document.getElementById(`setting-${D}-${U}`);z&&(z.classList.add("bg-blue-50"),setTimeout(()=>{z.classList.remove("bg-blue-50")},300))},L=D=>{p(D),A(!0)};return s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-base font-bold text-gray-900 mb-1",children:"Configuração de Monitoramento"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Configure quais áreas você deseja monitorar nas análises"})]}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[s.jsxs("button",{onClick:()=>j(!S),className:"bg-blue-100 text-blue-700 px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:bg-blue-200 transition-all text-xs",children:[s.jsx(aae,{className:"h-3 w-3"}),s.jsx("span",{children:"Ajuda"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(bt,{className:"h-3 w-3"}),s.jsx("span",{children:"Nova Área"})]}),s.jsxs("button",{id:"save-config-button",onClick:C,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(Qt,{className:"h-3 w-3"}),s.jsx("span",{children:"Salvar"})]})]})]}),!r&&s.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-700 flex items-center",children:[s.jsx(qu,{className:"h-3 w-3 mr-1"}),"Plano Básico: Limitado a 3 áreas de monitoramento. Faça upgrade para monitoramento avançado."]})})]}),s.jsx(at,{children:S&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-blue-50 rounded-xl p-3 shadow-md border border-blue-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-sm font-semibold text-blue-800 flex items-center",children:[s.jsx(cg,{className:"h-4 w-4 mr-1"}),"Como configurar o monitoramento"]}),s.jsx("button",{onClick:()=>j(!1),className:"text-blue-500 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100",children:s.jsx(dt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Áreas de Monitoramento"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Ative ou desative áreas específicas para monitoramento. Cada área contém métricas relevantes que serão exibidas nos dashboards e relatórios."})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Configurações Enterprise"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Configure opções avançadas como monitoramento em tempo real, segurança, notificações e integrações. Disponível apenas para planos Enterprise."})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Dicas de Uso"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1 list-disc pl-4",children:[s.jsx("li",{children:"Clique no ícone de olho para ativar/desativar uma área"}),s.jsx("li",{children:'Use o botão "Nova Área" para criar áreas personalizadas'}),s.jsx("li",{children:'Clique em "Salvar" após fazer alterações'}),s.jsx("li",{children:"Use o botão de visualização para ver detalhes de cada área"})]})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>_("areas"),children:[s.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(qu,{className:"h-4 w-4 mr-1 text-blue-500"}),"Áreas de Monitoramento"]}),y.includes("areas")?s.jsx(r0,{className:"h-4 w-4 text-gray-500"}):s.jsx(Hu,{className:"h-4 w-4 text-gray-500"})]}),s.jsx(at,{children:y.includes("areas")&&s.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(D=>s.jsxs(oe.div,{id:`area-${D.id}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg p-3 border border-gray-100 transition-all duration-200 ${D.enabled?"ring-1 ring-blue-200":"opacity-75"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${D.color} rounded-lg flex items-center justify-center`,children:s.jsx(D.icon,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[D.requiresPremium&&!r||D.requiresEnterprise&&!n?s.jsx("div",{className:"p-1.5 bg-gray-100 text-gray-400 rounded-lg",children:s.jsx(Xi,{className:"h-3.5 w-3.5"})}):s.jsx("button",{onClick:()=>F(D.id),className:`p-1.5 rounded-lg transition-colors ${D.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,"aria-label":D.enabled?"Desativar área":"Ativar área",children:D.enabled?s.jsx(Ds,{className:"h-3.5 w-3.5"}):s.jsx(bE,{className:"h-3.5 w-3.5"})}),s.jsx("button",{onClick:()=>L(D),className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors","aria-label":"Visualizar detalhes",children:s.jsx(Ds,{className:"h-3.5 w-3.5"})})]})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:D.name}),s.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:D.description}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Métricas:"}),s.jsxs("div",{className:"space-y-0.5",children:[D.metrics.slice(0,2).map((U,R)=>s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full mr-1.5"}),U]},R)),D.metrics.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",D.metrics.length-2," mais"]})]})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${D.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:D.enabled?"Ativo":"Inativo"}),(D.requiresPremium||D.requiresEnterprise)&&s.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[s.jsx(Xi,{className:"h-2.5 w-2.5 mr-0.5"}),D.requiresEnterprise?"Enterprise":"Premium"]})]})]},D.id))})})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>_("enterprise"),children:[s.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[s.jsx(Kr,{className:"h-4 w-4 mr-1 text-purple-500"}),"Configurações Enterprise"]}),y.includes("enterprise")?s.jsx(r0,{className:"h-4 w-4 text-gray-500"}):s.jsx(Hu,{className:"h-4 w-4 text-gray-500"})]}),s.jsx(at,{children:y.includes("enterprise")&&s.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 mb-3 overflow-x-auto hide-scrollbar",children:s.jsx("div",{className:"flex",children:o.map(D=>s.jsxs("button",{onClick:()=>f(D.id),className:`flex items-center space-x-1 px-3 py-1.5 border-b-2 whitespace-nowrap text-xs ${h===D.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(D.icon,{className:"h-3 w-3"}),s.jsx("span",{children:D.name})]},D.id))})}),o.map(D=>s.jsxs("div",{className:h===D.id?"block":"hidden",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:D.name}),s.jsx("p",{className:"text-xs text-gray-600",children:D.description})]}),s.jsx("div",{className:"space-y-3",children:D.settings.map(U=>{var R;return s.jsxs("div",{id:`setting-${D.id}-${U.id}`,className:"bg-gray-50 rounded-lg p-3 transition-colors duration-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:U.name}),s.jsx("p",{className:"text-xs text-gray-600",children:U.description})]}),U.type==="toggle"&&s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:U.value,onChange:()=>O(D.id,U.id,!U.value),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-600"})]})]}),U.type==="select"&&s.jsx("select",{value:U.value,onChange:z=>O(D.id,U.id,z.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs",children:(R=U.options)==null?void 0:R.map(z=>s.jsx("option",{value:z,children:z},z))}),U.type==="input"&&s.jsx("input",{type:"text",value:U.value,onChange:z=>O(D.id,U.id,z.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs"}),U.type==="range"&&s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{type:"range",min:U.min,max:U.max,step:U.step,value:U.value,onChange:z=>O(D.id,U.id,parseInt(z.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsxs("span",{children:[U.min,"%"]}),s.jsxs("span",{children:[U.value,"%"]}),s.jsxs("span",{children:[U.max,"%"]})]})]})]},U.id)})})]},D.id))]}):s.jsxs("div",{className:"py-6 text-center",children:[s.jsx(Kr,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recursos Enterprise"}),s.jsx("p",{className:"text-xs text-gray-600 mb-4 max-w-md mx-auto",children:"Acesse configurações avançadas de monitoramento com o plano Enterprise."}),s.jsx("button",{onClick:()=>e&&e("Configurações Enterprise"),className:"px-4 py-1.5 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:shadow-lg transition-all text-xs",children:"Ver Plano Enterprise"})]})})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Resumo da Configuração"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.filter(D=>D.enabled).length}),s.jsx("div",{className:"text-xs text-gray-600",children:"Áreas Ativas"})]}),s.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:a.filter(D=>D.enabled).reduce((D,U)=>D+U.metrics.length,0)}),s.jsx("div",{className:"text-xs text-gray-600",children:"Métricas Monitoradas"})]}),s.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[Math.round(a.filter(D=>D.enabled).length/a.length*100),"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Cobertura"})]})]}),!n&&s.jsx("div",{className:"mt-3 p-2 bg-purple-50 border border-purple-100 rounded-lg",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ys,{className:"h-4 w-4 text-purple-600 mr-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-purple-800 text-xs",children:"Monitoramento em Tempo Real"}),s.jsx("p",{className:"text-xs text-purple-600",children:"Alertas instantâneos e dashboards ao vivo"})]})]}),s.jsxs("button",{onClick:()=>e&&e("Monitoramento em Tempo Real"),className:"px-2 py-1 bg-purple-200 text-purple-700 rounded-lg flex items-center space-x-1 hover:bg-purple-300 transition-colors text-xs",children:[s.jsx(Xi,{className:"h-2.5 w-2.5 mr-0.5"}),s.jsx("span",{children:"Enterprise"}),s.jsx(e2,{className:"h-2.5 w-2.5 ml-0.5"})]})]})})]}),s.jsx(at,{children:c&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Nova Área de Monitoramento"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100","aria-label":"Fechar",children:s.jsx(dt,{className:"h-5 w-5"})})]}),r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nome da Área"}),s.jsx("input",{type:"text",value:g.name,onChange:D=>x({...g,name:D.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Ex: Vendas Online"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:g.description,onChange:D=>x({...g,description:D.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:2,placeholder:"Descreva o que será monitorado nesta área"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Métricas"}),s.jsxs("button",{onClick:E,className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[s.jsx(bt,{className:"h-3 w-3 mr-0.5"}),"Adicionar"]})]}),s.jsx("div",{className:"space-y-1.5",children:g.metrics.map((D,U)=>s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("input",{type:"text",value:D,onChange:R=>T(U,R.target.value),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Nome da métrica"}),g.metrics.length>1&&s.jsx("button",{onClick:()=>v(U),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50","aria-label":"Remover métrica",children:s.jsx(dt,{className:"h-3 w-3"})})]},U))})]})]}),s.jsxs("div",{className:"flex space-x-2 mt-4",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsx("button",{onClick:N,className:"flex-1 px-3 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:"Criar Área"})]})]}):s.jsxs("div",{className:"text-center py-5",children:[s.jsx(Xi,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recurso Premium"}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Áreas de monitoramento personalizadas estão disponíveis apenas para assinantes do plano Premium."}),s.jsx("button",{onClick:()=>{t&&t("Áreas de Monitoramento Personalizadas"),d(!1)},className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all text-sm",children:"Ver Plano Premium"})]})]})]})}),s.jsx(Jbe,{isOpen:u,onClose:()=>A(!1),title:`Preview: ${(m==null?void 0:m.name)||"Configuração"}`,children:m&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${m.color} rounded-xl flex items-center justify-center`,children:s.jsx(m.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:m.name}),s.jsx("p",{className:"text-sm text-gray-600",children:m.description})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Métricas Monitoradas"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:m.metrics.map((D,U)=>s.jsxs("div",{className:"flex items-center space-x-1.5 p-1.5 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-xs text-gray-700",children:D})]},U))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Visualização de Dashboard"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 h-32 flex items-center justify-center",children:s.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Aqui será exibido o dashboard de monitoramento para ",m.name.toLowerCase(),".",s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:"Os dados serão atualizados em tempo real quando esta área estiver ativa."})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${m.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:m.enabled?"Ativo":"Inativo"}),(m.requiresPremium||m.requiresEnterprise)&&s.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[s.jsx(Xi,{className:"h-2.5 w-2.5 mr-0.5"}),m.requiresEnterprise?"Enterprise":"Premium"]})]})]})]})})]})},HL={pessoal:"#8b5cf6",networking:"#3b82f6",financeiro:"#10b981",cobrar:"#f59e0b",pagar:"#ef4444",operacional:"#06b6d4"},ewe={a_fazer:"scheduled",em_andamento:"in_progress",feito:"completed",cancelado:"cancelled"},twe={scheduled:"a_fazer",in_progress:"em_andamento",confirmed:"em_andamento",completed:"feito",cancelled:"cancelado"},rwe={pessoal:"meeting",networking:"meeting",financeiro:"task",operacional:"task",cobrar:"reminder",pagar:"reminder"},nwe={meeting:"pessoal",task:"operacional",service_order:"operacional",appointment:"pessoal",reminder:"cobrar",other:"pessoal"},swe=t=>{const e=new Date(t.start_date),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),l=`${r}-${n}-${a}`,c=`${i}:${o}`;let d,u;if(t.end_date){const g=new Date(t.end_date),x=g.getFullYear(),m=String(g.getMonth()+1).padStart(2,"0"),p=String(g.getDate()).padStart(2,"0"),y=String(g.getHours()).padStart(2,"0"),w=String(g.getMinutes()).padStart(2,"0");d=`${x}-${m}-${p}`,u=`${y}:${w}`}const A=t.event_type,h=nwe[A]||"pessoal",f=t.status;return{id:t.id,title:t.title||"Sem título",date:l,time:c,endDate:d,endTime:u,type:h,priority:t.priority||"medium",status:twe[f]||"a_fazer",assignedTo:t.employee_id,location:t.location,description:t.description||t.notes,color:HL[h]||HL.pessoal}},d5=t=>{const e=t.status;let r;if(t.date&&t.time){const[l,c,d]=t.date.split("-").map(Number),[u,A]=t.time.split(":").map(Number);r=new Date(l,c-1,d,u,A,0,0).toISOString()}else r=new Date().toISOString();let n;if(t.endDate&&t.endTime){const[l,c,d]=t.endDate.split("-").map(Number),[u,A]=t.endTime.split(":").map(Number);n=new Date(l,c-1,d,u,A,0,0).toISOString()}else{const l=new Date(r);l.setHours(l.getHours()+1),n=l.toISOString()}const a=l=>l?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(l):!1,i=t.type,o=i?rwe[i]:"meeting";return{title:t.title||t.description||"Sem título",description:t.description,start_date:r,end_date:n,all_day:!1,event_type:o,status:e?ewe[e]:"scheduled",priority:t.priority,employee_id:a(t.assignedTo)?t.assignedTo:null,location:t.location,notes:t.description}},awe=({onPremiumFeature:t})=>{const{isPremium:e}=Yr(),[r,n]=k.useState(new Date),[a,i]=k.useState("calendar"),[o,l]=k.useState("monthly"),[c,d]=k.useState(!1),[u,A]=k.useState(null),[h,f]=k.useState(null),[g,x]=k.useState([]),[m,p]=k.useState(!0);k.useEffect(()=>{y()},[]);const y=async()=>{try{p(!0);const Ee=(await Lde()).map(swe);x(Ee)}catch(q){console.error("Error loading events:",q),x([])}finally{p(!1)}},[w,S]=k.useState({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""});function j(){const q=new Date;return q.setDate(q.getDate()+1),q.toISOString().split("T")[0]}const _=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],F=["D","S","T","Q","Q","S","S"],C=q=>{const Ee=q.getFullYear(),Oe=q.getMonth(),ke=new Date(Ee,Oe,1),Ie=new Date(Ee,Oe+1,0).getDate(),Be=ke.getDay(),he=[];for(let pe=Be-1;pe>=0;pe--){const ue=new Date(Ee,Oe,-pe);he.push({date:ue,isCurrentMonth:!1})}for(let pe=1;pe<=Ie;pe++){const ue=new Date(Ee,Oe,pe);he.push({date:ue,isCurrentMonth:!0})}const $e=42-he.length;for(let pe=1;pe<=$e;pe++){const ue=new Date(Ee,Oe+1,pe);he.push({date:ue,isCurrentMonth:!1})}return he},E=q=>{const Ee=q.toISOString().split("T")[0];return g.filter(Oe=>Oe.date===Ee)},T=()=>{const q=new Date().toISOString().split("T")[0];return g.filter(Ee=>Ee.date===q).sort((Ee,Oe)=>Ee.time.localeCompare(Oe.time))},v=()=>{const q=j();return g.filter(Ee=>Ee.date===q).sort((Ee,Oe)=>Ee.time.localeCompare(Oe.time))},N=()=>{n(new Date(r.getFullYear(),r.getMonth()-1))},O=()=>{n(new Date(r.getFullYear(),r.getMonth()+1))},L=q=>{if(f(q),S(Ee=>({...Ee,date:q.toISOString().split("T")[0]})),!e&&g.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},Q=async()=>{if(w.title&&w.date&&w.time)try{const q=d5(w);await Mde(q),await y(),S({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""}),d(!1)}catch(q){console.error("Error creating event:",q),alert("Erro ao criar evento. Verifique os campos de data e hora.")}else alert("Por favor, preencha título, data e horário de início.")},D=async()=>{if(u)try{const q=d5(u);await f_(u.id,q),await y(),A(null)}catch(q){console.error("Error updating event:",q),alert("Erro ao atualizar evento")}},U=async q=>{if(confirm("Tem certeza que deseja excluir este evento?"))try{await Dde(q),await y(),A(null)}catch(Ee){console.error("Error deleting event:",Ee),alert("Erro ao excluir evento")}},R=async q=>{try{await f_(q,{status:"feito"}),await y()}catch(Ee){console.error("Error completing task:",Ee),alert("Erro ao completar tarefa")}},z=q=>{switch(q){case"pessoal":return"bg-purple-600";case"networking":return"bg-blue-500";case"financeiro":return"bg-green-500";case"cobrar":return"bg-yellow-500";case"pagar":return"bg-red-500";default:return"bg-gray-500"}},Y=q=>{switch(q){case"pessoal":return"Pessoal";case"networking":return"Networking";case"financeiro":return"Financeiro";case"operacional":return"Operacional";case"cobrar":return"Cobrar";case"pagar":return"Pagar";default:return"Evento"}},X=q=>{switch(q){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},$=q=>{switch(q){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return"Normal"}},M=q=>{switch(q){case"a_fazer":return"bg-yellow-100 text-yellow-800";case"em_andamento":return"bg-blue-100 text-blue-800";case"feito":return"bg-green-100 text-green-800";case"cancelado":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},G=q=>{switch(q){case"a_fazer":return"A Fazer";case"em_andamento":return"Em Andamento";case"feito":return"Concluído";case"cancelado":return"Cancelado";default:return"Desconhecido"}},V=()=>{const q=C(r);return s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[F.map(Ee=>s.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Ee},Ee)),q.map((Ee,Oe)=>{const ke=E(Ee.date),Le=Ee.date.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>L(Ee.date),className:`min-h-[70px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${Ee.isCurrentMonth?"bg-white":"bg-gray-100 text-gray-400"} ${Le?"bg-blue-50 border-blue-300":""}`,children:[s.jsx("div",{className:`text-xs font-medium mb-1 ${Le?"text-blue-600":Ee.isCurrentMonth?"text-gray-900":"text-gray-400"}`,children:Ee.date.getDate()}),s.jsxs("div",{className:"space-y-1",children:[ke.slice(0,2).map(Ie=>s.jsxs("div",{onClick:Be=>{Be.stopPropagation(),A(Ie)},className:`text-xs p-1 rounded text-white truncate cursor-pointer hover:opacity-80 transition-opacity ${z(Ie.type)}`,children:[Ie.time," ",Ie.title]},Ie.id)),ke.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",ke.length-2]})]})]},Oe)})]})},ae=()=>{const q=new Date(r);q.setDate(r.getDate()-r.getDay());const Ee=[];for(let Oe=0;Oe<7;Oe++){const ke=new Date(q);ke.setDate(q.getDate()+Oe),Ee.push(ke)}return s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map((Oe,ke)=>s.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Oe},Oe))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ee.map((Oe,ke)=>{const Le=E(Oe),Ie=Oe.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>L(Oe),className:`min-h-[100px] p-2 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${Ie?"bg-blue-50 border-blue-300":"bg-white"}`,children:[s.jsx("div",{className:`text-sm font-medium mb-2 ${Ie?"text-blue-600":"text-gray-900"}`,children:Oe.getDate()}),s.jsx("div",{className:"space-y-1",children:Le.map(Be=>s.jsxs("div",{className:`text-xs p-1 rounded text-white truncate ${z(Be.type)}`,children:[Be.time," ",Be.title]},Be.id))})]},ke)})})]})},Ae=()=>{const q=E(r),Ee=Array.from({length:24},(Oe,ke)=>ke);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:r.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),s.jsxs("p",{className:"text-sm text-gray-600",children:[q.length," eventos agendados"]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-1",children:Ee.map(Oe=>{const ke=q.filter(Le=>parseInt(Le.time.split(":")[0])===Oe);return s.jsxs("div",{className:"flex border-b border-gray-100 pb-2",children:[s.jsxs("div",{className:"w-16 text-xs text-gray-500 pt-1",children:[Oe.toString().padStart(2,"0"),":00"]}),s.jsx("div",{className:"flex-1 min-h-[40px]",children:ke.length>0?s.jsx("div",{className:"space-y-1",children:ke.map(Le=>s.jsxs("div",{className:`p-2 rounded text-white text-xs ${z(Le.type)}`,onClick:()=>A(Le),children:[s.jsx("div",{className:"font-medium",children:Le.title}),s.jsx("div",{className:"opacity-80",children:Le.time})]},Le.id))}):s.jsx("div",{className:"h-full hover:bg-gray-50 rounded cursor-pointer flex items-center justify-center text-gray-400 text-xs",onClick:()=>{const Le=new Date(r);Le.setHours(Oe,0,0,0),L(Le)},children:"Clique para adicionar evento"})})]},Oe)})})]})},re=()=>{const q=[...g].sort((Ee,Oe)=>{const ke=Ee.date.localeCompare(Oe.date);return ke!==0?ke:Ee.time.localeCompare(Oe.time)});return s.jsx("div",{className:"divide-y divide-gray-200",children:q.length>0?q.map(Ee=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>A(Ee),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsx("div",{className:`w-1 h-16 rounded-full ${z(Ee.type)}`}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:Ee.title}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${X(Ee.priority)}`,children:$(Ee.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${M(Ee.status)}`,children:G(Ee.status)})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jt,{className:"h-3 w-3 mr-1"}),new Date(Ee.date).toLocaleDateString("pt-BR")]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1"}),Ee.time]}),Ee.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(kt,{className:"h-3 w-3 mr-1"}),Ee.assignedTo]}),Ee.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ra,{className:"h-3 w-3 mr-1"}),Ee.location]})]}),Ee.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Ee.description})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs text-white ${z(Ee.type)}`,children:Y(Ee.type)})})]})},Ee.id)):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(s_,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum evento cadastrado"})]})})},ie=(q,Ee)=>{q.dataTransfer.effectAllowed="move",q.dataTransfer.setData("text/html",JSON.stringify(Ee))},ce=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},Z=async(q,Ee)=>{q.preventDefault();try{const Oe=JSON.parse(q.dataTransfer.getData("text/html"));if(Oe.status===Ee)return;const ke={...Oe,status:Ee},Le=d5(ke);await f_(Oe.id,Le),await y()}catch(Oe){console.error("Error updating event status:",Oe)}},me=()=>{const q=[{status:"a_fazer",title:"A Fazer",color:"border-yellow-400",bgColor:"bg-yellow-50"},{status:"em_andamento",title:"Em Andamento",color:"border-blue-400",bgColor:"bg-blue-50"},{status:"feito",title:"Concluído",color:"border-green-400",bgColor:"bg-green-50"},{status:"cancelado",title:"Cancelado",color:"border-gray-400",bgColor:"bg-gray-50"}];return s.jsx("div",{className:"grid grid-cols-4 gap-4 p-4",children:q.map(Ee=>{const Oe=g.filter(ke=>ke.status===Ee.status);return s.jsxs("div",{className:`border-t-4 ${Ee.color} ${Ee.bgColor} rounded-lg min-h-[500px]`,onDragOver:ce,onDrop:ke=>Z(ke,Ee.status),children:[s.jsx("div",{className:"p-3 border-b border-gray-200 bg-white",children:s.jsxs("h3",{className:"font-medium text-gray-900 flex items-center justify-between",children:[Ee.title,s.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:Oe.length})]})}),s.jsxs("div",{className:"p-2 space-y-2 max-h-[450px] overflow-y-auto",children:[Oe.map(ke=>s.jsxs("div",{draggable:!0,onDragStart:Le=>ie(Le,ke),className:"bg-white p-3 rounded-lg shadow-sm hover:shadow-lg transition-all cursor-move border border-gray-200 hover:border-blue-300 active:opacity-50",onDoubleClick:()=>A(ke),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 flex-1",children:ke.title}),s.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ml-2 ${X(ke.priority)}`,children:s.jsx(ub,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jt,{className:"h-3 w-3 mr-1"}),new Date(ke.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),s.jsx(Dt,{className:"h-3 w-3 ml-2 mr-1"}),ke.time]}),ke.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(kt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"truncate",children:ke.assignedTo})]})]}),s.jsx("div",{className:`mt-2 w-full h-1 rounded-full ${z(ke.type)}`}),s.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:"Arraste para mover ou clique 2x para editar"})]},ke.id)),Oe.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-400 text-xs border-2 border-dashed border-gray-300 rounded-lg",children:s.jsx("p",{children:"Arraste tarefas aqui"})})]})]},Ee.status)})})},Me=()=>{const Ee=[...g].sort((Oe,ke)=>Oe.date.localeCompare(ke.date)).reduce((Oe,ke)=>{const Le=ke.date;return Oe[Le]||(Oe[Le]=[]),Oe[Le].push(ke),Oe},{});return s.jsxs("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[Object.entries(Ee).map(([Oe,ke])=>s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-24 flex-shrink-0",children:s.jsxs("div",{className:"sticky top-0 pt-1",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:new Date(Oe).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(Oe).toLocaleDateString("pt-BR",{weekday:"short"})})]})}),s.jsx("div",{className:"flex-1 border-l-2 border-gray-200 pl-4 pb-4",children:s.jsx("div",{className:"space-y-2",children:ke.map(Le=>s.jsxs("div",{className:"relative bg-white p-3 rounded-lg border-l-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",style:{borderLeftColor:z(Le.type).replace("bg-","").replace("500","")},onClick:()=>A(Le),children:[s.jsx("div",{className:"absolute -left-[29px] top-4 w-3 h-3 rounded-full bg-white border-2",style:{borderColor:z(Le.type).replace("bg-","").replace("500","")}}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900",children:Le.title}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1"}),Le.time]}),Le.assignedTo&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(kt,{className:"h-3 w-3 mr-1"}),Le.assignedTo]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${X(Le.priority)}`,children:$(Le.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${M(Le.status)}`,children:G(Le.status)})]})]})]},Le.id))})})]},Oe)),Object.keys(Ee).length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(yT,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum evento na linha do tempo"})]})]})},Re=()=>{const q=[...g].sort((Be,he)=>Be.date.localeCompare(he.date)),Ee=q.map(Be=>Be.date),Oe=Ee.length>0?new Date(Math.min(...Ee.map(Be=>new Date(Be).getTime()))):new Date,ke=Ee.length>0?new Date(Math.max(...Ee.map(Be=>new Date(Be).getTime()))):new Date,Le=Math.ceil((ke.getTime()-Oe.getTime())/(1e3*60*60*24))+1,Ie=Array.from({length:Math.max(Le,7)},(Be,he)=>{const $e=new Date(Oe);return $e.setDate(Oe.getDate()+he),$e});return s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("div",{className:"flex mb-2 min-w-max",children:[s.jsx("div",{className:"w-48 flex-shrink-0"}),s.jsx("div",{className:"flex flex-1",children:Ie.map((Be,he)=>s.jsxs("div",{className:"flex-1 min-w-[60px] text-center border-l border-gray-200 px-1",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:Be.getDate()}),s.jsx("div",{className:"text-xs text-gray-500",children:Be.toLocaleDateString("pt-BR",{weekday:"short"})})]},he))})]}),s.jsx("div",{className:"space-y-2",children:q.map(Be=>{const he=new Date(Be.date),$e=Math.floor((he.getTime()-Oe.getTime())/(1e3*60*60*24));return s.jsxs("div",{className:"flex items-center hover:bg-gray-50 rounded transition-colors",children:[s.jsxs("div",{className:"w-48 flex-shrink-0 pr-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Be.title}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[s.jsx(Dt,{className:"h-3 w-3"}),s.jsx("span",{children:Be.time})]})]}),s.jsxs("div",{className:"flex flex-1 relative h-12",children:[Ie.map((pe,ue)=>s.jsx("div",{className:"flex-1 min-w-[60px] border-l border-gray-200"},ue)),s.jsx("div",{className:`absolute h-8 top-2 rounded cursor-pointer ${z(Be.type)} hover:opacity-80 transition-opacity`,style:{left:`${$e/Ie.length*100}%`,width:`${1/Ie.length*100}%`},onClick:()=>A(Be),children:s.jsx("div",{className:"px-2 py-1 text-white text-xs truncate",children:Be.title})})]})]},Be.id)})}),q.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(pT,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma tarefa para visualizar"})]})]})})},ye=()=>{const q=new Date(r);q.setDate(r.getDate()-r.getDay());const Ee=[];for(let Oe=0;Oe<2;Oe++){const ke=new Date(q);ke.setDate(q.getDate()+Oe*7);const Le=[];for(let Ie=0;Ie<7;Ie++){const Be=new Date(ke);Be.setDate(ke.getDate()+Ie),Le.push(Be)}Ee.push(Le)}return s.jsx("div",{className:"space-y-4",children:Ee.map((Oe,ke)=>s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:["Semana ",ke+1," - ",Oe[0].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})," a ",Oe[6].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:["D","S","T","Q","Q","S","S"].map((Le,Ie)=>s.jsx("div",{className:"p-1 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Le},`day-${ke}-${Ie}`))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Oe.map((Le,Ie)=>{const Be=E(Le),he=Le.toDateString()===new Date().toDateString();return s.jsxs("div",{onClick:()=>L(Le),className:`min-h-[60px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${he?"bg-blue-50 border-blue-300":"bg-white"}`,children:[s.jsx("div",{className:`text-xs font-medium mb-1 ${he?"text-blue-600":"text-gray-900"}`,children:Le.getDate()}),s.jsxs("div",{className:"space-y-1",children:[Be.slice(0,1).map($e=>s.jsx("div",{className:`text-xs p-0.5 rounded text-white truncate ${z($e.type)}`,children:$e.time},$e.id)),Be.length>1&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",Be.length-1]})]})]},Ie)})})]},ke))})};return s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Agenda"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Gerencie seus compromissos"})]}),s.jsx("button",{onClick:()=>{if(!e&&g.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:s.jsx(bt,{className:"h-5 w-5"})})]})}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 gap-1",children:[s.jsxs("button",{onClick:()=>i("calendar"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="calendar"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(Jt,{className:"h-3.5 w-3.5"}),"Calendário"]}),s.jsxs("button",{onClick:()=>i("list"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="list"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(s_,{className:"h-3.5 w-3.5"}),"Lista"]}),s.jsxs("button",{onClick:()=>i("board"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="board"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(Yae,{className:"h-3.5 w-3.5"}),"Quadro"]}),s.jsxs("button",{onClick:()=>i("timeline"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="timeline"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(yT,{className:"h-3.5 w-3.5"}),"Linha"]}),s.jsxs("button",{onClick:()=>i("gantt"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="gantt"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[s.jsx(pT,{className:"h-3.5 w-3.5"}),"Gantt"]})]})}),a==="calendar"&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["daily","weekly","biweekly","monthly"].map(q=>s.jsx("button",{onClick:()=>l(q),className:`px-3 py-1.5 rounded-md transition-colors text-xs font-medium ${o===q?"bg-blue-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:q==="daily"?"Dia":q==="weekly"?"Sem":q==="biweekly"?"Quinz":"Mês"},q))})}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:N,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(nw,{className:"h-4 w-4"})}),s.jsxs("h2",{className:"text-base font-semibold text-gray-900",children:[_[r.getMonth()]," ",r.getFullYear()]}),s.jsx("button",{onClick:O,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(e2,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a==="calendar"&&s.jsxs(s.Fragment,{children:[o==="monthly"&&V(),o==="weekly"&&ae(),o==="biweekly"&&ye(),o==="daily"&&Ae()]}),a==="list"&&re(),a==="board"&&me(),a==="timeline"&&Me(),a==="gantt"&&Re()]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[s.jsx(Jt,{className:"h-4 w-4 mr-2"}),a==="calendar"&&"Visualização em Calendário com múltiplos períodos",a==="list"&&"Visualização em Lista organizada por data",a==="board"&&"Visualização em Quadro Kanban por status",a==="timeline"&&"Visualização em Linha do Tempo cronológica",a==="gantt"&&"Visualização em Gráfico de Gantt"]})}),a==="calendar"&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(s_,{className:"h-4 w-4 mr-2 text-blue-500"}),"Compromissos do Mês"]}),s.jsxs("div",{className:"space-y-2",children:[g.filter(q=>{const Ee=new Date(q.date);return Ee.getMonth()===r.getMonth()&&Ee.getFullYear()===r.getFullYear()}).sort((q,Ee)=>new Date(q.date).getTime()-new Date(Ee.date).getTime()).map(q=>s.jsx("div",{onClick:()=>A(q),className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md hover:border-blue-300 transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${z(q.type)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:q.title}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),new Date(q.date).toLocaleDateString("pt-BR")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),q.time]}),q.assignedTo&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kt,{className:"h-3 w-3"}),q.assignedTo]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${M(q.status)}`,children:G(q.status)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${X(q.priority)}`,children:$(q.priority)})]})]})},q.id)),g.filter(q=>{const Ee=new Date(q.date);return Ee.getMonth()===r.getMonth()&&Ee.getFullYear()===r.getFullYear()}).length===0&&s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Jt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum compromisso neste mês"})]})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Dt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Tarefas Pendentes"]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(Jt,{className:"h-4 w-4 mr-1 text-blue-500"}),"Hoje (",T().length,")"]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),T().length>0?s.jsx("div",{className:"space-y-2",children:T().map(q=>s.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${z(q.type)}`}),s.jsx("h4",{className:"font-medium text-gray-900",children:q.title})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${X(q.priority)}`,children:$(q.priority)}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${M(q.status)}`,children:G(q.status)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1 text-gray-400"}),q.time]}),q.assignedTo&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(kt,{className:"h-3 w-3 mr-1 text-gray-400"}),q.assignedTo]}),q.location&&s.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[s.jsx(Ra,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:q.location})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[q.status!=="feito"&&s.jsxs("button",{onClick:()=>R(q.id),className:"px-2 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors text-xs flex items-center",children:[s.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Concluir"]}),s.jsxs("button",{onClick:()=>A(q),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[s.jsx(Dr,{className:"h-3 w-3 mr-1"}),"Editar"]})]})]},q.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Pn,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para hoje"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(Jt,{className:"h-4 w-4 mr-1 text-purple-500"}),"Amanhã (",v().length,")"]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(j()).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),v().length>0?s.jsx("div",{className:"space-y-2",children:v().map(q=>s.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${z(q.type)}`}),s.jsx("h4",{className:"font-medium text-gray-900",children:q.title})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${X(q.priority)}`,children:$(q.priority)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1 text-gray-400"}),q.time]}),q.assignedTo&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(kt,{className:"h-3 w-3 mr-1 text-gray-400"}),q.assignedTo]}),q.location&&s.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[s.jsx(Ra,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:q.location})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>A(q),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[s.jsx(Dr,{className:"h-3 w-3 mr-1"}),"Editar"]}),s.jsxs("button",{onClick:()=>U(q.id),className:"px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-xs flex items-center",children:[s.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Excluir"]})]})]},q.id))}):s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Pn,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para amanhã"})]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm flex items-center mx-auto",children:[s.jsx("span",{children:"Ver todas as tarefas"}),s.jsx(wi,{className:"h-4 w-4 ml-1"})]})})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Novo Compromisso"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Adicionar evento à agenda"})]}),s.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Título do Compromisso ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:w.title,onChange:q=>S({...w,title:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Reunião com cliente"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Data Início ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:w.date,onChange:q=>S({...w,date:q.target.value,endDate:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hora Início ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"time",value:w.time,onChange:q=>S({...w,time:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Término"}),s.jsx("input",{type:"date",value:w.endDate,onChange:q=>S({...w,endDate:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora Término"}),s.jsx("input",{type:"time",value:w.endTime,onChange:q=>S({...w,endTime:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Compromisso"}),s.jsxs("select",{value:w.type,onChange:q=>S({...w,type:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"pessoal",children:"Pessoal"}),s.jsx("option",{value:"networking",children:"Networking"}),s.jsx("option",{value:"financeiro",children:"Financeiro"}),s.jsx("option",{value:"operacional",children:"Operacional"}),s.jsx("option",{value:"cobrar",children:"Cobrar"}),s.jsx("option",{value:"pagar",children:"Pagar"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),s.jsxs("select",{value:w.priority,onChange:q=>S({...w,priority:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"low",children:"Baixa"}),s.jsx("option",{value:"medium",children:"Média"}),s.jsx("option",{value:"high",children:"Alta"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsável"}),s.jsx("input",{type:"text",value:w.assignedTo,onChange:q=>S({...w,assignedTo:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsável"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),s.jsx("input",{type:"text",value:w.location,onChange:q=>S({...w,location:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:w.description,onChange:q=>S({...w,description:q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Detalhes do compromisso..."})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:Q,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"Salvar Compromisso"]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Editar Compromisso"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Atualizar informações do evento"})]}),s.jsx("button",{onClick:()=>A(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título"}),s.jsx("input",{type:"text",value:u.title,onChange:q=>A({...u,title:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do evento"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Início"}),s.jsx("input",{type:"date",value:u.date,onChange:q=>A({...u,date:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horário de Início"}),s.jsx("input",{type:"time",value:u.time,onChange:q=>A({...u,time:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Término"}),s.jsx("input",{type:"date",value:u.endDate||u.date,onChange:q=>A({...u,endDate:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horário de Término"}),s.jsx("input",{type:"time",value:u.endTime||u.time,onChange:q=>A({...u,endTime:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:u.type,onChange:q=>A({...u,type:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"pessoal",children:"Pessoal"}),s.jsx("option",{value:"networking",children:"Networking"}),s.jsx("option",{value:"financeiro",children:"Financeiro"}),s.jsx("option",{value:"operacional",children:"Operacional"}),s.jsx("option",{value:"cobrar",children:"Cobrar"}),s.jsx("option",{value:"pagar",children:"Pagar"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),s.jsxs("select",{value:u.priority,onChange:q=>A({...u,priority:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"low",children:"Baixa"}),s.jsx("option",{value:"medium",children:"Média"}),s.jsx("option",{value:"high",children:"Alta"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:u.status,onChange:q=>A({...u,status:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"a_fazer",children:"A Fazer"}),s.jsx("option",{value:"em_andamento",children:"Em Andamento"}),s.jsx("option",{value:"feito",children:"Concluído"}),s.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsável"}),s.jsx("input",{type:"text",value:u.assignedTo||"",onChange:q=>A({...u,assignedTo:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsável"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),s.jsx("input",{type:"text",value:u.location||"",onChange:q=>A({...u,location:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:u.description||"",onChange:q=>A({...u,description:q.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Detalhes do evento"})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsxs("button",{onClick:()=>U(u.id),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5"}),"Excluir"]}),s.jsx("button",{onClick:()=>A(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:D,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"Atualizar"]})]})]})})]})},iwe=({onPremiumFeature:t,onEnterpriseFeature:e})=>{const{isPremium:r,isEnterprise:n}=Yr(),[a,i]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(null),[u,A]=k.useState(null),[h,f]=k.useState([{id:1,name:"App Mobile GiarTech",status:"Em Progresso",team:4,deadline:"2024-01-15",progress:75,color:"from-blue-500 to-cyan-500",description:"Desenvolvimento do aplicativo mobile principal da empresa",tasks:[{id:1,title:"Design de interface",completed:!0,dueDate:"2023-12-10"},{id:2,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-20"},{id:3,title:"Integração com API",completed:!1,dueDate:"2024-01-05"},{id:4,title:"Testes e QA",completed:!1,dueDate:"2024-01-10"},{id:5,title:"Lançamento",completed:!1,dueDate:"2024-01-15"}]},{id:2,name:"Website Corporativo",status:"Concluído",team:3,deadline:"2024-01-10",progress:100,color:"from-green-500 to-emerald-500",description:"Novo site institucional com design moderno",tasks:[{id:1,title:"Wireframes e protótipos",completed:!0,dueDate:"2023-11-15"},{id:2,title:"Design de páginas",completed:!0,dueDate:"2023-11-30"},{id:3,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-15"},{id:4,title:"Desenvolvimento backend",completed:!0,dueDate:"2023-12-30"},{id:5,title:"Testes e lançamento",completed:!0,dueDate:"2024-01-10"}]},{id:3,name:"Sistema de CRM",status:"Planejamento",team:5,deadline:"2024-01-30",progress:25,color:"from-purple-500 to-pink-500",description:"Sistema de gestão de relacionamento com clientes",tasks:[{id:1,title:"Levantamento de requisitos",completed:!0,dueDate:"2023-12-15"},{id:2,title:"Modelagem de dados",completed:!0,dueDate:"2023-12-30"},{id:3,title:"Prototipagem de interface",completed:!1,dueDate:"2024-01-10"},{id:4,title:"Desenvolvimento",completed:!1,dueDate:"2024-01-25"},{id:5,title:"Testes e implantação",completed:!1,dueDate:"2024-01-30"}]}]),[g,x]=k.useState({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),[m,p]=k.useState({title:"",dueDate:""}),y=["from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-purple-500 to-pink-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500","from-yellow-500 to-orange-500"],w=()=>{if(!r&&h.length>=3){t("Projetos Ilimitados");return}if(g.name.trim()){const C={id:Date.now(),name:g.name,status:g.status,team:g.team,deadline:g.deadline,progress:0,color:y[Math.floor(Math.random()*y.length)],description:g.description,tasks:[]};f([...h,C]),x({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),i(!1)}},S=()=>{if(!r&&u&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}if(u&&m.title&&m.dueDate){const C={id:Date.now(),title:m.title,completed:!1,dueDate:m.dueDate},E={...u,tasks:[...u.tasks||[],C]};f(h.map(T=>T.id===u.id?E:T)),A(E),p({title:"",dueDate:""}),l(!1)}},j=(C,E)=>{const T=h.find(v=>v.id===C);if(T&&T.tasks){const v=T.tasks.map(D=>D.id===E?{...D,completed:!D.completed}:D),N=v.filter(D=>D.completed).length,O=v.length,L=O>0?Math.round(N/O*100):0,Q={...T,tasks:v,progress:L};f(h.map(D=>D.id===C?Q:D)),u&&u.id===C&&A(Q)}},_=C=>{window.confirm("Tem certeza que deseja excluir este projeto?")&&(f(h.filter(E=>E.id!==C)),u&&u.id===C&&A(null))},F=()=>{n||e&&e("Análise Avançada de Projetos")};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Meus Projetos (",h.length,")"]}),s.jsx("p",{className:"text-gray-600",children:"Gerencie todos os seus projetos em um só lugar"})]}),s.jsx("button",{onClick:()=>{if(!r&&h.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:s.jsx(bt,{className:"h-6 w-6"})})]}),!r&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[s.jsx($y,{className:"h-4 w-4 mr-2"}),"Plano Básico: Limitado a 3 projetos e 5 tarefas por projeto. Faça upgrade para projetos ilimitados."]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 col-span-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Status dos Projetos"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:h.length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Concluídos"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:h.filter(C=>C.progress===100).length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Em Progresso"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:h.filter(C=>C.progress>0&&C.progress<100).length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Planejados"}),s.jsx("p",{className:"text-lg font-bold text-purple-600",children:h.filter(C=>C.progress===0).length})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Progresso Médio"}),s.jsxs("div",{className:"flex flex-col justify-between h-full",children:[s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[Math.round(h.reduce((C,E)=>C+E.progress,0)/(h.length||1)),"%"]})}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.round(h.reduce((C,E)=>C+E.progress,0)/(h.length||1))}%`}})})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Próximos Prazos"}),s.jsx("div",{className:"flex flex-col justify-between h-full",children:s.jsxs("div",{className:"space-y-2",children:[h.filter(C=>C.progress<100).sort((C,E)=>new Date(C.deadline).getTime()-new Date(E.deadline).getTime()).slice(0,2).map(C=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs truncate max-w-[120px]",children:C.name}),s.jsx("span",{className:"text-xs font-medium",children:new Date(C.deadline).toLocaleDateString("pt-BR")})]},C.id)),!n&&s.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500 cursor-pointer hover:text-blue-600",onClick:F,children:[s.jsx("span",{children:"Análise avançada"}),s.jsx(Xi,{className:"h-3 w-3"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-2 space-y-4",children:s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Todos os Projetos"}),s.jsx("div",{className:"space-y-4",children:h.map((C,E)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>A(C),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${C.color} rounded-lg flex items-center justify-center`,children:s.jsx($y,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:C.name}),s.jsx("p",{className:"text-xs text-gray-500",children:C.status})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-xs text-gray-500",children:new Date(C.deadline).toLocaleDateString("pt-BR")})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[C.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${C.progress===100?"bg-green-500":C.progress>50?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${C.progress}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(kt,{className:"h-3 w-3"}),s.jsxs("span",{children:[C.team," membros"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(_T,{className:"h-3 w-3"}),s.jsxs("span",{children:[C.tasks?C.tasks.filter(T=>T.completed).length:0,"/",C.tasks?C.tasks.length:0," tarefas"]})]})]})]},C.id))})]})}),s.jsx("div",{className:"md:col-span-1",children:u?s.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${u.color} rounded-lg flex items-center justify-center`,children:s.jsx($y,{className:"h-5 w-5 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900",children:u.name})]}),s.jsx("button",{onClick:()=>_(u.id),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Descrição"}),s.jsx("p",{className:"text-sm text-gray-700",children:u.description||"Sem descrição"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Prazo"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(u.deadline).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Equipe"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.team," membros"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Progresso"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.progress,"%"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Tarefas"}),s.jsxs("button",{onClick:()=>{if(!r&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}l(!0)},className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[s.jsx(bt,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.tasks&&u.tasks.length>0?u.tasks.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>j(u.id,C.id),className:`w-4 h-4 rounded border flex items-center justify-center ${C.completed?"bg-green-500 border-green-500 text-white":"border-gray-300"}`,children:C.completed&&s.jsx(_T,{className:"h-3 w-3"})}),s.jsx("span",{className:`text-sm ${C.completed?"line-through text-gray-500":"text-gray-700"}`,children:C.title})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-xs text-gray-500",children:new Date(C.dueDate).toLocaleDateString("pt-BR")})})]},C.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhuma tarefa adicionada"})})]}),!n&&s.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-100 rounded-lg cursor-pointer",onClick:F,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ys,{className:"h-4 w-4 text-purple-600 mr-2"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Análise avançada de projetos"})]}),s.jsx(Xi,{className:"h-4 w-4 text-purple-600"})]}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Disponível no plano Enterprise"})]})]})]}):s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx($y,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione um projeto para ver os detalhes"}),s.jsxs("button",{onClick:()=>{if(!r&&h.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"mt-4 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[s.jsx(bt,{className:"h-4 w-4 mr-2 inline"}),"Novo Projeto"]})]})})})]}),s.jsx(at,{children:a&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Projeto"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Projeto"}),s.jsx("input",{type:"text",value:g.name,onChange:C=>x({...g,name:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o nome do projeto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),s.jsx("textarea",{value:g.description,onChange:C=>x({...g,description:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o projeto"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),s.jsx("input",{type:"date",value:g.deadline,onChange:C=>x({...g,deadline:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipe"}),s.jsx("input",{type:"number",min:"1",value:g.team,onChange:C=>x({...g,team:parseInt(C.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:g.status,onChange:C=>x({...g,status:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Planejamento",children:"Planejamento"}),s.jsx("option",{value:"Em Progresso",children:"Em Progresso"}),s.jsx("option",{value:"Em Revisão",children:"Em Revisão"}),s.jsx("option",{value:"Concluído",children:"Concluído"})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:w,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Criar"]})]})]})]})}),s.jsx(at,{children:o&&u&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nova Tarefa"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projeto"}),s.jsx("input",{type:"text",value:u.name,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título da Tarefa"}),s.jsx("input",{type:"text",value:m.title,onChange:C=>p({...m,title:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o título da tarefa"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:m.dueDate,onChange:C=>p({...m,dueDate:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:S,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]})]})})]})},owe=()=>{const{user:t,isPremium:e}=Yr();return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:(t==null?void 0:t.avatar)||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-2 rounded-full",children:s.jsx(hx,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${e?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gray-100 text-gray-600"}`,children:e?"👑 Premium":"Básico"})]}),s.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:s.jsx(ga,{className:"h-5 w-5"})})]})}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informações Pessoais"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(xn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Nome Completo"}),s.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.name})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(qn,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(us,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),s.jsx("p",{className:"font-medium text-gray-900",children:"(11) 99999-9999"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Ra,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Localização"}),s.jsx("p",{className:"font-medium text-gray-900",children:"São Paulo, SP"})]})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estatísticas da Conta"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Projetos",value:"12",color:"from-blue-500 to-cyan-500"},{label:"Tarefas",value:"48",color:"from-green-500 to-emerald-500"},{label:"Horas",value:"156",color:"from-purple-500 to-pink-500"},{label:"Equipe",value:"8",color:"from-orange-500 to-red-500"}].map((r,n)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${r.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:s.jsx("span",{className:"text-2xl font-bold text-white",children:r.value})}),s.jsx("p",{className:"text-sm text-gray-600",children:r.label})]},r.label))})]})]})};lA.register(_f,Cf,Ou,Ji,of,yu,k2,F2,E2,B2);const zL=()=>{const[t,e]=k.useState(null),[r,n]=k.useState(null),[a,i]=k.useState(!0),[o,l]=k.useState("month");k.useEffect(()=>{c()},[o]);const c=async()=>{try{i(!0);const[g,x]=await Promise.all([d(),u()]);e(g),n(x)}catch(g){console.error("Erro ao carregar dados:",g)}finally{i(!1)}},d=async()=>{var O,L,Q,D,U,R,z,Y,X,$,M,G;const g=new Date,x=new Date(g.getFullYear(),g.getMonth(),1),m=new Date(g.getFullYear(),g.getMonth()-1,1),p=new Date(g.getFullYear(),g.getMonth(),0),[y,w,S,j,_]=await Promise.all([ge.from("financial_transactions").select("amount").eq("transaction_type","income").eq("status","paid").gte("transaction_date",x.toISOString()),ge.from("financial_transactions").select("amount").eq("transaction_type","income").eq("status","paid").gte("transaction_date",m.toISOString()).lt("transaction_date",p.toISOString()),ge.from("v_business_kpis").select("*").maybeSingle(),ge.from("customers").select("id, created_at"),ge.from("materials").select("unit_cost, unit_price, quantity")]),F=((O=y.data)==null?void 0:O.reduce((V,ae)=>V+ae.amount,0))||0,C=((L=w.data)==null?void 0:L.reduce((V,ae)=>V+ae.amount,0))||0,E=C>0?(F-C)/C*100:0,T=((Q=j.data)==null?void 0:Q.filter(V=>new Date(V.created_at)>=x).length)||0,v=((D=_.data)==null?void 0:D.reduce((V,ae)=>V+ae.unit_cost*ae.quantity,0))||0,N=((U=_.data)==null?void 0:U.reduce((V,ae)=>V+(ae.unit_price-ae.unit_cost)*ae.quantity,0))||0;return{revenue:{current:F,previous:C,growth:E},profit:{amount:((R=S.data)==null?void 0:R.net_profit)||0,margin:((z=S.data)==null?void 0:z.profit_margin)||0,trend:E},orders:{total:((Y=S.data)==null?void 0:Y.total_completed_orders)||0,completed:((X=S.data)==null?void 0:X.total_completed_orders)||0,conversionRate:(($=S.data)==null?void 0:$.conversion_rate)||0},customers:{total:((M=S.data)==null?void 0:M.total_customers)||0,active:((G=S.data)==null?void 0:G.active_customers)||0,new:T},inventory:{value:v,profit:N,turnover:0}}},u=async()=>{var E,T,v,N,O,L;const g=new Date;g.setMonth(g.getMonth()-6);const[x,m,p,y]=await Promise.all([ge.from("financial_transactions").select("transaction_date, amount, transaction_type").eq("status","paid").gte("transaction_date",g.toISOString()),ge.from("v_service_performance").select("*").order("total_revenue",{ascending:!1}).limit(5),ge.from("v_customer_profitability").select("*").order("total_revenue",{ascending:!1}).limit(5),ge.from("service_orders").select("status")]),w=new Map;(E=x.data)==null||E.forEach(Q=>{const D=new Date(Q.transaction_date).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"});w.has(D)||w.set(D,{income:0,expense:0});const U=w.get(D);Q.transaction_type==="income"?U.income+=Q.amount:U.expense+=Q.amount});const S=Array.from(w.keys()).slice(-6),j=S.map(Q=>{var D;return((D=w.get(Q))==null?void 0:D.income)||0}),_=S.map(Q=>{var D;return((D=w.get(Q))==null?void 0:D.expense)||0}),F=S.map((Q,D)=>j[D]-_[D]),C=new Map;return(T=y.data)==null||T.forEach(Q=>{C.set(Q.status,(C.get(Q.status)||0)+1)}),{revenueByMonth:{labels:S,data:j},profitByMonth:{labels:S,data:F},topServices:{labels:((v=m.data)==null?void 0:v.map(Q=>Q.service_name))||[],data:((N=m.data)==null?void 0:N.map(Q=>Q.total_revenue))||[]},topCustomers:{labels:((O=p.data)==null?void 0:O.map(Q=>Q.customer_name))||[],data:((L=p.data)==null?void 0:L.map(Q=>Q.total_revenue))||[]},orderStatus:{labels:Array.from(C.keys()),data:Array.from(C.values())}}},A=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),h=g=>g==null||isNaN(g)?"0.0%":`${g>=0?"+":""}${g.toFixed(1)}%`;if(a)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(Zs,{className:"h-12 w-12 animate-spin text-blue-600"})});const f=[{title:"Receita do Mês",value:A((t==null?void 0:t.revenue.current)||0),change:h((t==null?void 0:t.revenue.growth)||0),trend:((t==null?void 0:t.revenue.growth)||0)>=0?"up":"down",icon:Xt,color:"from-green-500 to-emerald-600",previous:A((t==null?void 0:t.revenue.previous)||0)},{title:"Lucro Líquido",value:A((t==null?void 0:t.profit.amount)||0),change:`${(((t==null?void 0:t.profit.margin)??0)||0).toFixed(1)}% margem`,trend:((t==null?void 0:t.profit.amount)||0)>=0?"up":"down",icon:br,color:"from-blue-500 to-cyan-600",previous:`Margem ${(((t==null?void 0:t.profit.margin)??0)||0).toFixed(1)}%`},{title:"Taxa de Conversão",value:`${(((t==null?void 0:t.orders.conversionRate)??0)||0).toFixed(1)}%`,change:`${(t==null?void 0:t.orders.completed)||0} OSs concluídas`,trend:((t==null?void 0:t.orders.conversionRate)||0)>=80?"up":"down",icon:r2,color:"from-purple-500 to-pink-600",previous:`${(t==null?void 0:t.orders.total)||0} OSs totais`},{title:"Clientes Ativos",value:(t==null?void 0:t.customers.active.toString())||"0",change:`+${(t==null?void 0:t.customers.new)||0} novos`,trend:"up",icon:kt,color:"from-orange-500 to-red-600",previous:`${(t==null?void 0:t.customers.total)||0} total`}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:s.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard Executivo"}),s.jsx("p",{className:"text-gray-600",children:"Visão estratégica para tomada de decisões"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"month",children:"Último Mês"}),s.jsx("option",{value:"quarter",children:"Último Trimestre"}),s.jsx("option",{value:"year",children:"Último Ano"})]}),s.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[s.jsx(Zs,{className:"h-4 w-4"}),"Atualizar"]}),s.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 shadow-sm",children:[s.jsx(Ls,{className:"h-4 w-4"}),"Exportar"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((g,x)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${g.color} rounded-xl flex items-center justify-center shadow-lg`,children:s.jsx(g.icon,{className:"h-7 w-7 text-white"})}),s.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-sm font-semibold ${g.trend==="up"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[g.trend==="up"?s.jsx(Z1,{className:"h-4 w-4"}):s.jsx(vE,{className:"h-4 w-4"}),g.change]})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:g.title}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:g.value}),s.jsx("p",{className:"text-xs text-gray-500",children:g.previous})]},g.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Evolução da Receita"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Últimos 6 meses"})]}),s.jsx(Ys,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"h-80",children:r&&s.jsx(v0,{data:{labels:r.revenueByMonth.labels,datasets:[{label:"Receita",data:r.revenueByMonth.data,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,borderWidth:3,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:13},callbacks:{label:g=>A(g.parsed.y)}}},scales:{y:{beginAtZero:!0,ticks:{callback:g=>A(Number(g))},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Lucro Mensal"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receita - Despesas"})]}),s.jsx(br,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"h-80",children:r&&s.jsx(lf,{data:{labels:r.profitByMonth.labels,datasets:[{label:"Lucro",data:r.profitByMonth.data,backgroundColor:r.profitByMonth.data.map(g=>g>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)"),borderRadius:8,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,callbacks:{label:g=>A(g.parsed.y)}}},scales:{y:{beginAtZero:!0,ticks:{callback:g=>A(Number(g))},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Top 5 Serviços"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Por receita"})]}),s.jsx(xt,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.topServices.labels.map((g,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:x+1}),s.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:g})]}),s.jsx("span",{className:"text-sm font-bold text-blue-600",children:A(r.topServices.data[x])})]},g))})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Top 5 Clientes"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Maior receita"})]}),s.jsx(kt,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.topCustomers.labels.map((g,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:x+1}),s.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:g})]}),s.jsx("span",{className:"text-sm font-bold text-purple-600",children:A(r.topCustomers.data[x])})]},g))})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Status das OSs"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Distribuição atual"})]}),s.jsx(Wh,{className:"h-6 w-6 text-gray-400"})]}),s.jsx("div",{className:"h-64",children:r&&r.orderStatus.data.length>0&&s.jsx(_q,{data:{labels:r.orderStatus.labels,datasets:[{data:r.orderStatus.data,backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)","rgba(251, 146, 60, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12}}}})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-gradient-to-br from-blue-600 to-cyan-700 rounded-2xl p-6 shadow-lg text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Análise de Estoque"}),s.jsx("p",{className:"text-blue-100",children:"Potencial de lucro imobilizado"})]}),s.jsx(Nt,{className:"h-8 w-8 text-blue-200"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Valor em Estoque"}),s.jsx("p",{className:"text-3xl font-bold",children:A((t==null?void 0:t.inventory.value)||0)})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Lucro Potencial"}),s.jsx("p",{className:"text-3xl font-bold",children:A((t==null?void 0:t.inventory.profit)||0)})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-white/10 backdrop-blur-sm rounded-xl",children:[s.jsx("p",{className:"text-sm text-blue-100 mb-2",children:"Margem Potencial"}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("p",{className:"text-4xl font-bold",children:[((((t==null?void 0:t.inventory.profit)??0)||0)/(((t==null?void 0:t.inventory.value)??1)||1)*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-blue-100 pb-2",children:"de rentabilidade"})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Insights Estratégicos"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pontos de atenção"})]}),s.jsx(zn,{className:"h-6 w-6 text-gray-400"})]}),s.jsxs("div",{className:"space-y-4",children:[((t==null?void 0:t.revenue.growth)||0)>=10&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-xl",children:[s.jsx(Lo,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-green-900",children:"Crescimento Acelerado"}),s.jsxs("p",{className:"text-sm text-green-700",children:["Receita cresceu ",h(t.revenue.growth)," este mês"]})]})]}),((t==null?void 0:t.orders.conversionRate)||0)>=80&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-xl",children:[s.jsx(Lo,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-blue-900",children:"Alta Conversão"}),s.jsxs("p",{className:"text-sm text-blue-700",children:["Taxa de ",((t.orders.conversionRate??0)||0).toFixed(1),"% supera meta de 80%"]})]})]}),((t==null?void 0:t.profit.margin)||0)>=30&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-purple-50 rounded-xl",children:[s.jsx(Lo,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-purple-900",children:"Margem Saudável"}),s.jsxs("p",{className:"text-sm text-purple-700",children:["Margem de lucro de ",((t.profit.margin??0)||0).toFixed(1),"% acima da meta"]})]})]}),((t==null?void 0:t.customers.new)||0)>0&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 rounded-xl",children:[s.jsx(br,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-orange-900",children:"Expansão da Base"}),s.jsxs("p",{className:"text-sm text-orange-700",children:[t.customers.new," novos clientes este mês"]})]})]})]})]})]})]})})},lwe=()=>{const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState(""),[o,l]=k.useState(null);k.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:g,error:x}=await ge.from("service_orders").select(`
          *,
          customer:customers(nome_razao, telefone)
        `).order("opened_at",{ascending:!1});if(x)throw x;e(g||[])}catch(g){console.error("Error loading service orders:",g),e([])}finally{n(!1)}},d=[{id:"aberta",title:"Abertas",icon:zn,color:"bg-yellow-500",borderColor:"border-yellow-400",bgColor:"bg-yellow-50"},{id:"em_andamento",title:"Em Andamento",icon:d9,color:"bg-blue-500",borderColor:"border-blue-400",bgColor:"bg-blue-50"},{id:"concluida",title:"Concluídas",icon:Pn,color:"bg-green-500",borderColor:"border-green-400",bgColor:"bg-green-50"},{id:"cancelada",title:"Canceladas",icon:ed,color:"bg-gray-500",borderColor:"border-gray-400",bgColor:"bg-gray-50"}],u=g=>t.filter(x=>{var S,j,_;const m=x.status||"aberta",p=m===g,y=!a||((S=x.description)==null?void 0:S.toLowerCase().includes(a.toLowerCase()))||((_=(j=x.customer)==null?void 0:j.nome_razao)==null?void 0:_.toLowerCase().includes(a.toLowerCase()));return p&&y&&(!o||m===o)}),A=g=>g?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g):"R$ 0,00",h=g=>g?new Date(g).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Não agendado",f=g=>{const x=new Date(g);return Math.floor((new Date().getTime()-x.getTime())/(1e3*60*60*24))};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando ordens de serviço..."})]})}):s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Js,{className:"h-6 w-6 text-blue-500"}),"Ordens de Serviço"]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.length," ordens de serviço cadastradas"]})]}),s.jsxs("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Nova OS"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrição...",value:a,onChange:g=>i(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(sA,{className:"h-4 w-4"}),"Filtros"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(g=>{const x=u(g.id),m=g.icon;return s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:`${g.bgColor} border-t-4 ${g.borderColor} rounded-t-xl p-3`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(m,{className:`h-5 w-5 ${g.color.replace("bg-","text-")}`}),s.jsx("h3",{className:"font-semibold text-gray-900",children:g.title})]}),s.jsx("span",{className:"bg-white text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:x.length})]})}),s.jsx("div",{className:"flex-1 bg-gray-50 rounded-b-xl p-2 space-y-2 min-h-[400px]",children:x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Nenhuma ordem"}):x.map(p=>{var y,w;return s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:((y=p.customer)==null?void 0:y.nome_razao)||"Cliente não informado"}),p.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:p.description})]})}),s.jsxs("div",{className:"space-y-1.5",children:[p.scheduled_at&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsx("span",{children:h(p.scheduled_at)})]}),((w=p.customer)==null?void 0:w.telefone)&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(xn,{className:"h-3 w-3"}),s.jsx("span",{children:p.customer.telefone})]}),p.total_value!==void 0&&p.total_value>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[s.jsx(Xt,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:A(p.total_value)})]})]}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(Dt,{className:"h-3 w-3"}),s.jsxs("span",{children:[f(p.opened_at)," dias aberta"]})]}),s.jsx("div",{className:`w-2 h-2 rounded-full ${g.color}`})]})]},p.id)})})]},g.id)})}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map(g=>{const x=u(g.id),m=x.reduce((p,y)=>p+(y.total_value||0),0);return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${g.color.replace("bg-","text-")}`,children:x.length}),s.jsx("div",{className:"text-sm text-gray-600",children:g.title}),m>0&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:A(m)})]},g.id)})})})]})},cwe=()=>{const t=ra(),[e,r]=k.useState(!0),n=()=>{t("/login")};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 relative overflow-hidden",children:[e&&s.jsx(oe.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},onClick:n,className:"absolute top-6 right-6 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors z-20",children:s.jsx(dt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-indigo-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[s.jsx(oe.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring",stiffness:100},className:"mb-12",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx(oe.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-32 h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-3xl flex items-center justify-center shadow-2xl",children:s.jsx("span",{className:"text-4xl font-bold text-white",children:"GT"})}),s.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,duration:.5},className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-orange-400 rounded-full flex items-center justify-center",children:s.jsx(NT,{className:"h-4 w-4 text-white"})})]})}),s.jsx(oe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"text-5xl md:text-6xl font-bold mb-6",children:s.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"GiarTech"})}),s.jsxs(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-xl md:text-2xl text-gray-600 mb-12 leading-relaxed",children:["Plataforma empresarial completa para",s.jsx("br",{}),s.jsx("span",{className:"font-semibold text-gray-800",children:"gestão inteligente de projetos"})]}),s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[{icon:Ml,label:"Rápido",color:"from-yellow-400 to-orange-500"},{icon:Kr,label:"Seguro",color:"from-green-400 to-emerald-500"},{icon:kt,label:"Colaborativo",color:"from-blue-400 to-cyan-500"},{icon:NT,label:"Inteligente",color:"from-purple-400 to-pink-500"}].map((a,i)=>s.jsxs(oe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+i*.1,duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/50",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${a.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:s.jsx(a.icon,{className:"h-6 w-6 text-white"})}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.label})]},a.label))}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},className:"flex flex-col items-center space-y-4",children:[s.jsxs(so,{to:"/login",className:"group inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[s.jsx("span",{className:"mr-3",children:"GIARTECH Gestão Integrada"}),s.jsx(oe.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:s.jsx(wi,{className:"h-5 w-5"})})]}),s.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Acessar Plataforma"})]}),s.jsx(oe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.8},className:"text-sm text-gray-500 mt-8",children:"Versão 2.0 • Premium Edition"})]})]})},qL=()=>{const{user:t,isPremium:e}=Yr(),r=[{title:"Nova Ordem de Serviço",description:"Criar uma nova OS rapidamente",icon:Js,color:"from-blue-500 to-cyan-500",path:"/service-orders/create"},{title:"Gestão de Clientes",description:"Adicionar ou editar clientes",icon:kt,color:"from-green-500 to-emerald-500",path:"/client-management"},{title:"Controle de Estoque",description:"Verificar materiais disponíveis",icon:Nt,color:"from-purple-500 to-pink-500",path:"/inventory"},{title:"Relatórios Financeiros",description:"Acompanhar receitas e despesas",icon:Xt,color:"from-orange-500 to-red-500",path:"/financial"},{title:"Agenda de Trabalho",description:"Organizar compromissos",icon:Jt,color:"from-indigo-500 to-purple-500",path:"/calendar"},{title:"Chat da Equipe",description:"Comunicar com a equipe",icon:d4,color:"from-teal-500 to-cyan-500",path:"/chat"}],n=[{action:"OS criada",item:"OS-2024-001 - João Silva",time:"2 horas atrás",icon:Js,color:"text-blue-500"},{action:"Cliente adicionado",item:"Empresa ABC Ltda",time:"4 horas atrás",icon:kt,color:"text-green-500"},{action:"Estoque atualizado",item:"Ar Condicionado Split 12.000 BTUs",time:"1 dia atrás",icon:Nt,color:"text-purple-500"},{action:"Pagamento recebido",item:"R$ 850,00 - OS-2024-003",time:"2 dias atrás",icon:Xt,color:"text-green-500"}],a=[{title:"Ordens Ativas",value:"8",icon:Js,color:"from-blue-500 to-cyan-500"},{title:"Clientes Cadastrados",value:"24",icon:kt,color:"from-green-500 to-emerald-500"},{title:"Itens em Estoque",value:"156",icon:Nt,color:"from-purple-500 to-pink-500"},{title:"Faturamento Mensal",value:"R$ 15.850",icon:Xt,color:"from-orange-500 to-red-500"}];return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Bem-vindo, ",t==null?void 0:t.name,"! 👋"]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie seu negócio de forma inteligente e eficiente"})]}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Ml,{className:"h-12 w-12 text-white"})})})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lo,{className:"h-5 w-5 text-green-300"}),s.jsx("span",{className:"text-sm",children:"Sistema Online"})]})}),s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kr,{className:"h-5 w-5 text-blue-300"}),s.jsx("span",{className:"text-sm",children:"Dados Seguros"})]})}),s.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sw,{className:"h-5 w-5 text-purple-300"}),s.jsx("span",{className:"text-sm",children:"Acesso Remoto"})]})})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((i,o)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center`,children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:i.value}),s.jsx("p",{className:"text-gray-600",children:i.title})]},i.title))}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Ações Rápidas"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((i,o)=>s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+o*.1},children:s.jsxs(so,{to:i.path,className:"block p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl hover:shadow-lg transition-all duration-200 group",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:i.description}),s.jsxs("div",{className:"flex items-center text-blue-600 group-hover:text-blue-700",children:[s.jsx("span",{className:"text-sm font-medium",children:"Acessar"}),s.jsx(wi,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},i.title))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Atividade Recente"}),s.jsx("div",{className:"space-y-4",children:n.map((i,o)=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(i.icon,{className:`h-5 w-5 ${i.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.action}),s.jsx("p",{className:"text-sm text-gray-600",children:i.item})]}),s.jsx("span",{className:"text-xs text-gray-500",children:i.time})]},o))})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Status do Sistema"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Lo,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Todos os Serviços"})]}),s.jsx("span",{className:"text-green-600 font-medium",children:"Operacional"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Dt,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Última Sincronização"})]}),s.jsx("span",{className:"text-blue-600 font-medium",children:"Agora"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vs,{className:"h-5 w-5 text-purple-500"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Plano Atual"})]}),s.jsx("span",{className:"text-purple-600 font-medium",children:e?"Premium":"Básico"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(so,{to:"/departmental-dashboard",className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 px-4 rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[s.jsx(Ys,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Ver Dashboard Completo"}),s.jsx(wi,{className:"h-4 w-4 ml-2"})]})})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-8 border border-indigo-100",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Dicas Rápidas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Ml,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Automatização"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Use o sistema integrado para automatizar processos e economizar tempo"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(br,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Produtividade"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhe métricas de desempenho no Dashboard Departamental"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Kr,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Segurança"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seus dados estão protegidos com criptografia de ponta a ponta"})]})]})]})]})},dwe=()=>{const t=[{icon:r2,title:"Foco no Cliente",description:"Colocamos as necessidades dos nossos clientes no centro de tudo que fazemos."},{icon:Fse,title:"Excelência",description:"Buscamos sempre a mais alta qualidade em cada projeto que desenvolvemos."},{icon:kt,title:"Colaboração",description:"Trabalhamos em parceria com nossos clientes para alcançar os melhores resultados."},{icon:zae,title:"Paixão",description:"Amamos o que fazemos e isso se reflete na qualidade das nossas soluções."}];return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Sobre a ",s.jsx("span",{className:"text-accent-300",children:"GiarTech"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Somos uma empresa de tecnologia apaixonada por criar soluções inovadoras que transformam negócios e conectam pessoas"})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs(oe.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Nossa História"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Fundada em 2020, a GiarTech nasceu da visão de democratizar o acesso à tecnologia de qualidade. Começamos como uma pequena startup com grandes sonhos e hoje somos uma referência em desenvolvimento de soluções digitais."}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Nossa jornada é marcada pela constante busca por inovação e pela dedicação em entregar resultados excepcionais para nossos clientes. Cada projeto é uma oportunidade de superar expectativas e criar valor real."}),s.jsx("p",{className:"text-lg text-gray-600",children:"Hoje, orgulhamo-nos de ter uma equipe talentosa e diversificada, unida pela paixão por tecnologia e pelo compromisso com a excelência."})]}),s.jsxs(oe.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"relative",children:[s.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Equipe trabalhando",className:"rounded-lg shadow-xl"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary-600/20 to-accent-600/20 rounded-lg"})]})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nossos Valores"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Os princípios que guiam nossa empresa e definem nossa cultura organizacional"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 text-center group hover:-translate-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-full mb-6 group-hover:bg-primary-600 transition-colors duration-300",children:s.jsx(e.icon,{className:"h-8 w-8 text-primary-600 group-hover:text-white transition-colors duration-300"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.description})]},e.title))})]})}),s.jsx("section",{className:"py-20 gradient-bg",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Nossos Números"}),s.jsx("p",{className:"text-xl text-gray-200",children:"Resultados que comprovam nossa dedicação e competência"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{number:"100+",label:"Projetos Entregues"},{number:"50+",label:"Clientes Satisfeitos"},{number:"4+",label:"Anos de Experiência"},{number:"24/7",label:"Suporte Disponível"}].map((e,r)=>s.jsxs(oe.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-accent-300 mb-2",children:e.number}),s.jsx("div",{className:"text-lg text-gray-200",children:e.label})]},e.label))})]})})]})},uwe=()=>{const t=[{icon:hae,title:"Desenvolvimento Web",description:"Criamos sites e aplicações web modernas, responsivas e otimizadas.",features:["React/Next.js","Vue.js/Nuxt.js","Node.js/Express","TypeScript"],color:"from-blue-500 to-cyan-500"},{icon:NE,title:"Desenvolvimento Mobile",description:"Apps nativos e híbridos para iOS e Android com performance superior.",features:["React Native","Flutter","Swift/Kotlin","Ionic"],color:"from-purple-500 to-pink-500"},{icon:sw,title:"Soluções Cloud",description:"Infraestrutura escalável e segura na nuvem para seu negócio.",features:["AWS/Azure","Docker/Kubernetes","CI/CD","Microserviços"],color:"from-green-500 to-teal-500"},{icon:n0,title:"Banco de Dados",description:"Design e otimização de bancos de dados para máxima performance.",features:["PostgreSQL","MongoDB","Redis","Elasticsearch"],color:"from-orange-500 to-red-500"},{icon:Kr,title:"Segurança Digital",description:"Implementação de medidas de segurança robustas e auditoria.",features:["Pentesting","LGPD/GDPR","SSL/TLS","Firewall"],color:"from-indigo-500 to-purple-500"},{icon:Ml,title:"Otimização",description:"Melhoria de performance e otimização de aplicações existentes.",features:["Performance","SEO","Core Web Vitals","Monitoring"],color:"from-yellow-500 to-orange-500"}];return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Nossos ",s.jsx("span",{className:"text-accent-300",children:"Serviços"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Oferecemos soluções tecnológicas completas para transformar sua visão em realidade digital"})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,r)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 group hover:-translate-y-2 relative overflow-hidden",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br ${e.color} rounded-full mb-6`,children:s.jsx(e.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),s.jsx("div",{className:"space-y-2 mb-6",children:e.features.map(n=>s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full mr-2"}),n]},n))}),s.jsxs("button",{className:"flex items-center text-primary-600 font-medium group-hover:text-primary-700 transition-colors duration-200",children:["Saiba mais",s.jsx(wi,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},e.title))})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nosso Processo"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Uma metodologia comprovada para entregar resultados excepcionais"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"01",title:"Descoberta",description:"Entendemos suas necessidades e objetivos de negócio."},{step:"02",title:"Planejamento",description:"Criamos uma estratégia detalhada e cronograma do projeto."},{step:"03",title:"Desenvolvimento",description:"Implementamos a solução com as melhores práticas."},{step:"04",title:"Entrega",description:"Testamos, otimizamos e entregamos o projeto finalizado."}].map((e,r)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 text-primary-600 rounded-full text-xl font-bold mb-4",children:e.step}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),s.jsx("p",{className:"text-gray-600",children:e.description})]},e.step))})]})}),s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Pronto para começar seu projeto?"}),s.jsx("p",{className:"text-xl text-gray-200 mb-8 max-w-2xl mx-auto",children:"Entre em contato conosco e vamos discutir como podemos ajudar a transformar sua ideia em realidade"}),s.jsxs("button",{className:"btn-primary inline-flex items-center",children:["Solicitar Orçamento",s.jsx(wi,{className:"ml-2 h-5 w-5"})]})]})})})]})},Awe=()=>{const[t,e]=k.useState({name:"",email:"",subject:"",message:""}),r=a=>{a.preventDefault(),console.log("Form submitted:",t),alert("Mensagem enviada com sucesso! Entraremos em contato em breve."),e({name:"",email:"",subject:"",message:""})},n=a=>{e({...t,[a.target.name]:a.target.value})};return s.jsxs("div",{className:"pt-16",children:[s.jsx("section",{className:"py-20 gradient-bg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Entre em ",s.jsx("span",{className:"text-accent-300",children:"Contato"})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Estamos prontos para transformar sua ideia em realidade. Vamos conversar sobre seu próximo projeto!"})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs(oe.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Vamos conversar"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Nossa equipe está sempre disponível para discutir seu projeto e encontrar a melhor solução para suas necessidades."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(qn,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),s.jsx("p",{className:"text-gray-600",children:"contato@giartech.com"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Respondemos em até 24 horas"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(us,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telefone"}),s.jsx("p",{className:"text-gray-600",children:"(11) 99999-9999"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Seg - Sex, 9h às 18h"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(Ra,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Localização"}),s.jsx("p",{className:"text-gray-600",children:"São Paulo, SP"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Atendimento remoto e presencial"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(Dt,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Horário"}),s.jsx("p",{className:"text-gray-600",children:"Segunda a Sexta: 9h - 18h"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Suporte 24/7 para clientes"})]})]})]})]}),s.jsxs(oe.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"card p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(aw,{className:"h-6 w-6 text-primary-600 mr-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Envie uma mensagem"})]}),s.jsxs("form",{onSubmit:r,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome completo"}),s.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Seu nome completo"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"seu@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Assunto"}),s.jsxs("select",{id:"subject",name:"subject",value:t.subject,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[s.jsx("option",{value:"",children:"Selecione um assunto"}),s.jsx("option",{value:"desenvolvimento-web",children:"Desenvolvimento Web"}),s.jsx("option",{value:"desenvolvimento-mobile",children:"Desenvolvimento Mobile"}),s.jsx("option",{value:"consultoria",children:"Consultoria em TI"}),s.jsx("option",{value:"suporte",children:"Suporte Técnico"}),s.jsx("option",{value:"outros",children:"Outros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),s.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 resize-none",placeholder:"Conte-nos sobre seu projeto ou dúvida..."})]}),s.jsxs("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center",children:["Enviar Mensagem",s.jsx(to,{className:"ml-2 h-5 w-5"})]})]})]})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Perguntas Frequentes"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Respostas para as dúvidas mais comuns sobre nossos serviços"})]}),s.jsx("div",{className:"space-y-6",children:[{question:"Quanto tempo leva para desenvolver um projeto?",answer:"O tempo varia conforme a complexidade do projeto. Projetos simples podem levar de 2-4 semanas, enquanto aplicações mais complexas podem levar de 2-6 meses. Sempre fornecemos um cronograma detalhado após a análise inicial."},{question:"Vocês oferecem suporte após a entrega?",answer:"Sim! Oferecemos suporte técnico e manutenção contínua para todos os nossos projetos. Temos diferentes planos de suporte para atender às necessidades específicas de cada cliente."},{question:"Como funciona o processo de orçamento?",answer:"Após o primeiro contato, agendamos uma reunião para entender suas necessidades. Com base nisso, elaboramos uma proposta detalhada com escopo, cronograma e valores. O orçamento é sempre gratuito e sem compromisso."},{question:"Trabalham com quais tecnologias?",answer:"Trabalhamos com as principais tecnologias do mercado: React, Vue.js, Node.js, Python, React Native, Flutter, AWS, Azure, e muitas outras. Sempre escolhemos a melhor tecnologia para cada projeto específico."}].map((a,i)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0},className:"card p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:a.question}),s.jsx("p",{className:"text-gray-600",children:a.answer})]},i))})]})})]})},hwe=({isOpen:t,feature:e,onClose:r})=>{const n=[{icon:Ys,title:"Analytics Avançados",description:"Relatórios detalhados e insights em tempo real"},{icon:kt,title:"Colaboração Ilimitada",description:"Adicione quantos membros quiser ao seu time"},{icon:Kr,title:"Segurança Enterprise",description:"Criptografia avançada e backup automático"},{icon:Ml,title:"Automações",description:"Fluxos de trabalho automatizados e integrações"}],a=[{name:"Básico",price:"Grátis",features:["Até 5 ordens de serviço","Gestão básica de estoque","Catálogo de serviços limitado","Suporte por email","Acesso a 1 usuário","Backup manual","Relatórios básicos"],current:!0},{name:"Premium",price:"R$ 99,00/mês",features:["Ordens de serviço ilimitadas","Gestão completa de estoque","Catálogo de serviços completo","Suporte prioritário","Até 5 usuários","Backup automático","Analytics avançados","Personalização visual","Modo offline no app","Integrações básicas"],popular:!0},{name:"Enterprise",price:"R$ 200,00/mês",features:["Tudo do Premium","Usuários ilimitados","API de integração","Suporte dedicado 24/7","SLA garantido","Dashboards personalizados","Gestão financeira avançada","Controle de acesso granular","Monitoramento em tempo real","Relatórios customizados","Treinamento da equipe","Ambiente de homologação"]}];return s.jsx(at,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white rounded-t-3xl",children:[s.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(hx,{className:"h-8 w-8 text-yellow-300"})}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Recurso Premium"}),s.jsx("p",{className:"text-blue-100",children:e?`"${e}" está disponível apenas no plano Premium`:"Desbloqueie todo o potencial da plataforma"})]})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"O que você ganha com o Premium"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((i,o)=>s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*o},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(i.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]})]},i.title))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Escolha seu plano"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((i,o)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*o},className:`relative p-6 rounded-2xl border-2 transition-all duration-200 ${i.popular?"border-blue-500 bg-gradient-to-b from-blue-50 to-purple-50 shadow-lg scale-105":i.current?"border-gray-300 bg-gray-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:[i.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center",children:[s.jsx(Vs,{className:"h-4 w-4 mr-1"}),"Mais Popular"]})}),i.current&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"bg-gray-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Plano Atual"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:i.name}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:i.price})]}),s.jsx("ul",{className:"space-y-3 mb-6",children:i.features.map((l,c)=>s.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(kr,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),l]},c))}),s.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${i.current?"bg-gray-300 text-gray-500 cursor-not-allowed":i.popular?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-900 text-white hover:bg-gray-800"}`,disabled:i.current,children:i.current?"Plano Atual":"Fazer Upgrade"})]},i.name))})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Começar Teste Grátis de 14 dias"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Sem compromisso • Cancele a qualquer momento"})]})]})]})]})})},fwe=({feature:t})=>{const[e,r]=k.useState(!0);return e?s.jsx(at,{children:s.jsx(oe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"fixed bottom-20 left-0 right-0 z-30 px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"relative p-4 md:p-6",children:[s.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 p-1 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[s.jsx("div",{className:"mb-4 md:mb-0 md:mr-6 flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(hx,{className:"h-6 w-6 text-yellow-300"})})}),s.jsxs("div",{className:"text-center md:text-left flex-1 md:mr-6",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t?`Desbloqueie "${t}" com o plano Premium!`:"Atualize para o plano Premium!"}),s.jsx("p",{className:"text-white/80 text-sm",children:"Acesse recursos avançados, usuários ilimitados e suporte prioritário por apenas R$49,90/mês."})]}),s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsxs(so,{to:"/pricing",className:"inline-flex items-center px-4 py-2 bg-white text-blue-600 font-medium rounded-lg hover:bg-blue-50 transition-colors",children:[s.jsx(Vs,{className:"h-4 w-4 mr-2 text-yellow-500"}),s.jsx("span",{children:"Ver Planos"}),s.jsx(wi,{className:"h-4 w-4 ml-2"})]})})]})]}),s.jsx("div",{className:"h-1 bg-white/20",children:s.jsx(oe.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-300",initial:{width:0},animate:{width:"100%"},transition:{duration:10,ease:"linear"},onAnimationComplete:()=>r(!1)})})]})})})}):null},mwe=({isOpen:t,feature:e,onClose:r})=>{const n=[{icon:Ys,title:"Analytics Avançados",description:"Relatórios detalhados, dashboards personalizados e análise preditiva"},{icon:kt,title:"Usuários Ilimitados",description:"Adicione toda sua equipe sem limites ou custos adicionais"},{icon:Kr,title:"Segurança Enterprise",description:"Criptografia avançada, autenticação em dois fatores e logs de auditoria"},{icon:Ml,title:"Integrações Avançadas",description:"API personalizada e conexão com sistemas ERP, CRM e contábeis"}];return s.jsx(at,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-white rounded-t-2xl",children:[s.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(Xi,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Recurso Enterprise"}),s.jsx("p",{className:"text-purple-100",children:e?`"${e}" está disponível apenas no plano Enterprise`:"Desbloqueie recursos avançados com o plano Enterprise"})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"O que você ganha com o Enterprise"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map((a,i)=>s.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*i},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:s.jsx(a.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:a.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})]},a.title))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Benefícios Exclusivos"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Vs,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Gerente de conta dedicado"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Vs,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Suporte 24/7 por telefone, email e chat"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Vs,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"SLA garantido com 99.9% de uptime"]}),s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx(Vs,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Treinamento personalizado para sua equipe"]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs(so,{to:"/pricing",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:[s.jsx(hx,{className:"h-5 w-5 mr-2 text-yellow-300"}),"Ver Plano Enterprise"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Entre em contato para uma demonstração personalizada"})]})]})]})]})})},pwe=()=>{const t=ra();return k.useEffect(()=>{t("/",{replace:!0})},[t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",children:s.jsxs("div",{className:"text-white text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),s.jsx("p",{className:"mt-4 text-lg",children:"Carregando sistema..."})]})})},gwe=()=>{var C,E,T;const{isAdmin:t}=Yr(),[e,r]=k.useState([{id:"1",code:"0000",role:"admin",createdAt:"2024-01-15T10:00:00",expiresAt:"2099-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Admin Demo",usedAt:"2024-01-15T10:05:00",isUniversal:!0},{id:"2",code:"234567",role:"technician",createdAt:"2024-01-16T11:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Carlos Técnico",usedAt:"2024-01-16T14:20:00"},{id:"3",code:"345678",role:"technician",createdAt:"2024-01-17T09:15:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Ana Técnica",usedAt:"2024-01-17T10:45:00"},{id:"4",code:"456789",role:"external",createdAt:"2024-01-18T14:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"João Externo",usedAt:"2024-01-19T08:10:00"},{id:"5",code:"567890",role:"technician",createdAt:"2024-01-20T16:45:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!1}]),[n,a]=k.useState(!1),[i,o]=k.useState(!1),[l,c]=k.useState(null),[d,u]=k.useState({role:"technician",expiresAt:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),[A,h]=k.useState(null),[f,g]=k.useState("all"),x=e.filter(v=>f==="all"?!0:f==="used"?v.isUsed:f==="unused"?!v.isUsed:f==="admin"||f==="technician"||f==="external"?v.role===f:!0),m=()=>Math.floor(1e5+Math.random()*9e5).toString(),p=()=>{const v={id:Date.now().toString(),code:m(),role:d.role,createdAt:new Date().toISOString(),expiresAt:new Date(d.expiresAt+"T23:59:59").toISOString(),createdBy:"Admin Demo",isUsed:!1};r([...e,v]),a(!1),h(v.id),setTimeout(()=>{A===v.id&&h(null)},3e3)},y=()=>{l&&(r(e.map(v=>v.id===l.id?l:v)),o(!1),c(null))},w=(v,N)=>{navigator.clipboard.writeText(v).then(()=>{h(N),setTimeout(()=>{A===N&&h(null)},3e3)})},S=v=>{const N=e.find(O=>O.id===v);if(N!=null&&N.isUniversal){alert("O código universal não pode ser excluído.");return}confirm("Tem certeza que deseja excluir este código de acesso?")&&r(e.filter(O=>O.id!==v))},j=v=>{const N=e.find(O=>O.id===v);if(N!=null&&N.isUniversal){c(N),o(!0);return}r(e.map(O=>O.id===v?{...O,code:m(),isUsed:!1,usedBy:void 0,usedAt:void 0}:O))},_=v=>new Date(v).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=v=>new Date(v)<new Date;return t?s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Códigos de Acesso"}),s.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Novo Código"})]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 shadow-md border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(Xh,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Código Universal"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Código de acesso principal para administradores"})]})]}),s.jsxs("button",{onClick:()=>{const v=e.find(N=>N.isUniversal);v&&(c(v),o(!0))},className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(ga,{className:"h-3 w-3"}),s.jsx("span",{children:"Alterar"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kr,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-mono font-bold text-lg text-gray-900 mr-2",children:((C=e.find(v=>v.isUniversal))==null?void 0:C.code)||"0000"}),s.jsx("button",{onClick:()=>{const v=e.find(N=>N.isUniversal);v&&w(v.code,v.id)},className:`p-1 rounded-md transition-colors ${A===((E=e.find(v=>v.isUniversal))==null?void 0:E.id)?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar código",children:A===((T=e.find(v=>v.isUniversal))==null?void 0:T.id)?s.jsx(kr,{className:"h-4 w-4"}):s.jsx(zu,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Acesso administrativo com permissões completas"})]})]}),s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:"Universal"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg transition-colors ${f==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),s.jsx("button",{onClick:()=>g("unused"),className:`px-4 py-2 rounded-lg transition-colors ${f==="unused"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Não Utilizados"}),s.jsx("button",{onClick:()=>g("used"),className:`px-4 py-2 rounded-lg transition-colors ${f==="used"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Utilizados"}),s.jsx("button",{onClick:()=>g("admin"),className:`px-4 py-2 rounded-lg transition-colors ${f==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Administradores"}),s.jsx("button",{onClick:()=>g("technician"),className:`px-4 py-2 rounded-lg transition-colors ${f==="technician"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Técnicos"}),s.jsx("button",{onClick:()=>g("external"),className:`px-4 py-2 rounded-lg transition-colors ${f==="external"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Externos"})]})}),s.jsx("div",{className:"space-y-4",children:x.filter(v=>!v.isUniversal).length>0?x.filter(v=>!v.isUniversal).map((v,N)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:`bg-white rounded-xl p-6 shadow-md border ${v.isUsed?F(v.expiresAt)?"border-red-200":"border-yellow-200":F(v.expiresAt)?"border-red-200":"border-green-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${v.role==="admin"?"bg-purple-100":v.role==="technician"?"bg-blue-100":"bg-orange-100"}`,children:s.jsx(Xh,{className:`h-6 w-6 ${v.role==="admin"?"text-purple-600":v.role==="technician"?"text-blue-600":"text-orange-600"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mr-2",children:v.code}),s.jsx("button",{onClick:()=>w(v.code,v.id),className:`p-1 rounded-md transition-colors ${A===v.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar código",children:A===v.id?s.jsx(kr,{className:"h-4 w-4"}):s.jsx(zu,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:v.role==="admin"?"Administrador":v.role==="technician"?"Técnico":"Funcionário Externo"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:v.isUsed?s.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Utilizado"}):F(v.expiresAt)?s.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Expirado"}):s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Disponível"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(Jt,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Criado em:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:_(v.createdAt)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(Jt,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Expira em:"})]}),s.jsx("p",{className:`text-sm font-medium ${F(v.expiresAt)?"text-red-600":"text-gray-900"}`,children:_(v.expiresAt)})]}),v.isUsed&&v.usedBy&&v.usedAt&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(xn,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Utilizado por:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.usedBy})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(Dt,{className:"h-4 w-4 mr-1 text-gray-400"}),s.jsx("span",{children:"Utilizado em:"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:_(v.usedAt)})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[!v.isUsed&&s.jsxs("button",{onClick:()=>j(v.id),className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Zs,{className:"h-3 w-3"}),s.jsx("span",{children:"Regenerar"})]}),s.jsxs("button",{onClick:()=>S(v.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[s.jsx(Bt,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},v.id)):s.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[s.jsx(Xh,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum código encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos códigos de acesso com os filtros selecionados."}),s.jsx("button",{onClick:()=>g("all"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),s.jsx(at,{children:n&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Código de Acesso"}),s.jsx("button",{onClick:()=>a(!1),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Acesso"}),s.jsxs("select",{value:d.role,onChange:v=>u({...d,role:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"technician",children:"Técnico"}),s.jsx("option",{value:"external",children:"Funcionário Externo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Expiração"}),s.jsx("input",{type:"date",value:d.expiresAt,onChange:v=>u({...d,expiresAt:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[s.jsx(Kr,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Informações de Segurança"})]}),s.jsx("p",{className:"text-sm text-blue-600",children:"O código será gerado automaticamente e poderá ser copiado após a criação. Compartilhe-o de forma segura com o usuário."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Gerar Código"})]})]})]})}),s.jsx(at,{children:i&&l&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{o(!1),c(null)},className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Alterar Código Universal"}),s.jsx("button",{onClick:()=>{o(!1),c(null)},children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Novo Código Universal"}),s.jsx("input",{type:"text",value:l.code,onChange:v=>c({...l,code:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o novo código",maxLength:6,required:!0}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"O código universal deve ter no máximo 6 dígitos"})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-yellow-700 mb-2",children:[s.jsx(Kr,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Atenção"})]}),s.jsx("p",{className:"text-sm text-yellow-600",children:"Alterar o código universal afetará o acesso de todos os administradores. Certifique-se de comunicar o novo código a todos os usuários relevantes."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{o(!1),c(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6",children:[s.jsx(Kr,{className:"h-16 w-16 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Restrito"}),s.jsx("p",{className:"text-gray-600 text-center",children:"Esta área é restrita a administradores do sistema."})]})},xwe=()=>{const[t,e]=k.useState("monthly"),[r,n]=k.useState(!1),a=[{name:"Básico",description:"Para pequenos negócios e profissionais autônomos",price:{monthly:0,annual:0},features:["Até 50 ordens de serviço por mês","Até 3 usuários","Gestão básica de estoque","Catálogo de serviços","Relatórios básicos","Suporte por email"],limitations:["Sem integração financeira","Sem contratos de manutenção","Sem personalização visual","Sem acesso offline"],cta:"Começar Grátis",color:"gray"},{name:"Premium",description:"Para empresas em crescimento que precisam de mais recursos",price:{monthly:49.9,annual:44.9},features:["Ordens de serviço ilimitadas","Até 10 usuários","Gestão avançada de estoque","Catálogo de serviços completo","Contratos de manutenção","Integração financeira","Relatórios avançados","Personalização visual","Acesso offline","Suporte prioritário"],limitations:["Sem API personalizada","Sem SLA garantido"],cta:"Assinar Premium",color:"blue",popular:!0},{name:"Enterprise",description:"Para grandes empresas com necessidades complexas",price:{monthly:99.9,annual:89.9},features:["Tudo do plano Premium","Usuários ilimitados","API personalizada","Integrações avançadas","Análise de dados avançada","Monitoramento em tempo real","Suporte 24/7","Gerente de conta dedicado","SLA garantido","Treinamento personalizado"],cta:"Fale com Vendas",color:"purple"}],i=[{category:"Ordens de Serviço",features:[{name:"Criação de OS",basic:!0,premium:!0,enterprise:!0},{name:"Atribuição de técnicos",basic:!0,premium:!0,enterprise:!0},{name:"Anexo de fotos",basic:!0,premium:!0,enterprise:!0},{name:"Histórico de status",basic:!0,premium:!0,enterprise:!0},{name:"OS ilimitadas",basic:!1,premium:!0,enterprise:!0},{name:"Modelos personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Assinatura digital",basic:!1,premium:!0,enterprise:!0},{name:"Automação de fluxo",basic:!1,premium:!1,enterprise:!0}]},{category:"Clientes",features:[{name:"Cadastro básico",basic:!0,premium:!0,enterprise:!0},{name:"Histórico de serviços",basic:!0,premium:!0,enterprise:!0},{name:"Cadastro PF/PJ",basic:!1,premium:!0,enterprise:!0},{name:"Contratos de manutenção",basic:!1,premium:!0,enterprise:!0},{name:"SLA personalizado",basic:!1,premium:!1,enterprise:!0},{name:"Portal do cliente",basic:!1,premium:!1,enterprise:!0}]},{category:"Estoque",features:[{name:"Controle básico",basic:!0,premium:!0,enterprise:!0},{name:"Baixa automática",basic:!1,premium:!0,enterprise:!0},{name:"Alertas de estoque mínimo",basic:!1,premium:!0,enterprise:!0},{name:"Múltiplos depósitos",basic:!1,premium:!1,enterprise:!0},{name:"Gestão de fornecedores",basic:!1,premium:!0,enterprise:!0}]},{category:"Financeiro",features:[{name:"Faturamento básico",basic:!0,premium:!0,enterprise:!0},{name:"Integração com OS",basic:!1,premium:!0,enterprise:!0},{name:"Relatórios financeiros",basic:!1,premium:!0,enterprise:!0},{name:"Integração bancária",basic:!1,premium:!1,enterprise:!0},{name:"Fluxo de caixa avançado",basic:!1,premium:!1,enterprise:!0}]},{category:"Relatórios",features:[{name:"Relatórios básicos",basic:!0,premium:!0,enterprise:!0},{name:"Exportação PDF/Excel",basic:!1,premium:!0,enterprise:!0},{name:"Dashboards personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Business Intelligence",basic:!1,premium:!1,enterprise:!0},{name:"Análise preditiva",basic:!1,premium:!1,enterprise:!0}]},{category:"Suporte",features:[{name:"Suporte por email",basic:!0,premium:!0,enterprise:!0},{name:"Suporte prioritário",basic:!1,premium:!0,enterprise:!0},{name:"Suporte 24/7",basic:!1,premium:!1,enterprise:!0},{name:"Gerente de conta",basic:!1,premium:!1,enterprise:!0},{name:"SLA garantido",basic:!1,premium:!1,enterprise:!0},{name:"Treinamento personalizado",basic:!1,premium:!1,enterprise:!0}]}];return s.jsx("div",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx(oe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-gray-900 mb-4",children:"Planos e Preços"}),s.jsx(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Escolha o plano ideal para o seu negócio e comece a otimizar sua gestão de serviços hoje mesmo"}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"mt-8 inline-flex items-center bg-gray-100 p-1 rounded-full",children:[s.jsx("button",{onClick:()=>e("monthly"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="monthly"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Mensal"}),s.jsxs("button",{onClick:()=>e("annual"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="annual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Anual ",s.jsx("span",{className:"text-green-600 font-bold",children:"-10%"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:a.map((o,l)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+l*.1,duration:.6},className:`relative rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${o.popular?"border-2 border-blue-500 transform md:-translate-y-4 hover:shadow-2xl":"border border-gray-200 hover:shadow-xl"}`,children:[o.popular&&s.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-blue-500 to-purple-500 text-white py-2 text-center text-sm font-bold",children:"MAIS POPULAR"}),s.jsxs("div",{className:`p-8 ${o.popular?"pt-14":"pt-8"}`,children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:o.name}),s.jsx("p",{className:"text-gray-600 mb-6 h-12",children:o.description}),s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"text-4xl font-bold text-gray-900",children:o.price[t]===0?"Grátis":`R$${o.price[t].toFixed(2)}`}),o.price[t]>0&&s.jsxs("span",{className:"text-gray-600 ml-2",children:["/mês",t==="annual"&&", cobrado anualmente"]})]}),s.jsxs("ul",{className:"space-y-3 mb-8",children:[o.features.map((c,d)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(kr,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-600",children:c})]},d)),o.limitations&&o.limitations.map((c,d)=>s.jsxs("li",{className:"flex items-start text-gray-400",children:[s.jsx(dt,{className:"h-5 w-5 text-gray-300 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:c})]},`limit-${d}`))]}),s.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${o.name==="Básico"?"bg-gray-900 text-white hover:bg-gray-800":o.name==="Premium"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:o.cta})]})]},o.name))}),s.jsx("div",{className:"text-center mb-8",children:s.jsxs("button",{onClick:()=>n(!r),className:"inline-flex items-center space-x-2 text-blue-600 font-medium hover:text-blue-800 transition-colors",children:[s.jsx("span",{children:r?"Ocultar comparação detalhada":"Ver comparação detalhada de recursos"}),s.jsx(oe.div,{animate:{rotate:r?90:0},transition:{duration:.3},children:s.jsx(wi,{className:"h-5 w-5"})})]})}),r&&s.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden mb-16",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 w-1/3",children:"Recursos"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50",children:"Básico"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-blue-600 uppercase tracking-wider bg-blue-50",children:"Premium"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-purple-600 uppercase tracking-wider bg-purple-50",children:"Enterprise"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(o=>s.jsxs(be.Fragment,{children:[s.jsx("tr",{className:"bg-gray-50",children:s.jsx("td",{colSpan:4,className:"px-6 py-4 text-sm font-medium text-gray-900",children:o.category})}),o.features.map((l,c)=>s.jsxs("tr",{className:c%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.name}),s.jsx("td",{className:"px-6 py-4 text-center",children:l.basic?s.jsx(kr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(dt,{className:"h-5 w-5 text-gray-300 mx-auto"})}),s.jsx("td",{className:"px-6 py-4 text-center bg-blue-50",children:l.premium?s.jsx(kr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(dt,{className:"h-5 w-5 text-gray-300 mx-auto"})}),s.jsx("td",{className:"px-6 py-4 text-center bg-purple-50",children:l.enterprise?s.jsx(kr,{className:"h-5 w-5 text-green-500 mx-auto"}):s.jsx(dt,{className:"h-5 w-5 text-gray-300 mx-auto"})})]},`${o.category}-${c}`))]},o.category))})]})})}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Recursos Principais"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:xt,title:"Gestão de Ordens de Serviço",description:"Crie, acompanhe e gerencie todas as suas ordens de serviço em um só lugar.",color:"blue"},{icon:Nt,title:"Controle de Estoque",description:"Gerencie seu inventário com baixa automática de materiais utilizados nas OS.",color:"green"},{icon:kt,title:"Gestão de Clientes",description:"Cadastro completo de clientes PF e PJ com histórico de serviços.",color:"purple"},{icon:Jt,title:"Agendamento Inteligente",description:"Organize a agenda dos técnicos e otimize rotas de atendimento.",color:"orange"},{icon:Xt,title:"Integração Financeira",description:"Faturamento automático vinculado às ordens de serviço concluídas.",color:"emerald"},{icon:Ys,title:"Relatórios Avançados",description:"Análise detalhada de desempenho, produtividade e resultados financeiros.",color:"indigo"},{icon:NE,title:"Acesso Mobile",description:"Acesse o sistema de qualquer lugar, mesmo sem conexão com internet.",color:"pink"},{icon:t2,title:"Personalização Visual",description:"Adapte a interface às cores e identidade visual da sua empresa.",color:"amber"},{icon:u9,title:"Backup Automático",description:"Seus dados sempre seguros com backup automático na nuvem.",color:"sky"}].map((o,l)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg bg-${o.color}-100 flex items-center justify-center mb-4`,children:s.jsx(o.icon,{className:`h-6 w-6 text-${o.color}-600`})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.title}),s.jsx("p",{className:"text-gray-600",children:o.description})]},o.title))})]}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Perguntas Frequentes"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[{question:"Posso mudar de plano a qualquer momento?",answer:"Sim, você pode fazer upgrade ou downgrade do seu plano a qualquer momento. As mudanças entram em vigor imediatamente e o valor é ajustado proporcionalmente."},{question:"Existe período de teste?",answer:"Sim, oferecemos 14 dias de teste gratuito para os planos Premium e Enterprise, com acesso a todos os recursos."},{question:"Como funciona o suporte técnico?",answer:"O plano Básico inclui suporte por email com tempo de resposta de até 48h. O plano Premium oferece suporte prioritário com resposta em até 24h. O plano Enterprise inclui suporte 24/7 por email, chat e telefone."},{question:"Preciso instalar algum software?",answer:"Não, o GiarTech é uma solução 100% web, acessível de qualquer navegador. Também oferecemos aplicativos mobile para iOS e Android nos planos Premium e Enterprise."},{question:"Meus dados estão seguros?",answer:"Sim, utilizamos criptografia de ponta a ponta e seguimos as melhores práticas de segurança. Realizamos backups diários e estamos em conformidade com a LGPD."},{question:"Posso cancelar a qualquer momento?",answer:"Sim, você pode cancelar sua assinatura a qualquer momento sem taxas adicionais. No caso de planos anuais, oferecemos reembolso proporcional ao período não utilizado."}].map((o,l)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:o.question}),s.jsx("p",{className:"text-gray-600",children:o.answer})]},l))})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-12 text-center text-white",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para transformar sua gestão de serviços?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Comece agora mesmo com o plano gratuito ou experimente todos os recursos premium por 14 dias sem compromisso."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{className:"px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:"Começar Gratuitamente"}),s.jsx("button",{className:"px-8 py-4 bg-blue-500 bg-opacity-30 text-white font-semibold rounded-xl hover:bg-opacity-40 hover:shadow-lg transition-all duration-200",children:"Agendar Demonstração"})]})]}),s.jsxs("div",{className:"mt-16 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"Precisa de ajuda para escolher o plano ideal?"}),s.jsxs("p",{className:"text-gray-900 font-medium",children:["Entre em contato: ",s.jsx("a",{href:"tel:1155552560",className:"text-blue-600 hover:text-blue-800",children:"11 5555-2560"})," | ",s.jsx("a",{href:"mailto:contato@giartech.com.br",className:"text-blue-600 hover:text-blue-800",children:"contato@giartech.com.br"})]}),s.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"GiarTech Soluções Engenharia da Climatização | CNPJ: 37.509.897/0001-93"})]})]})})},ywe=({isOpen:t,onClose:e,requiredRole:r})=>{const a=(()=>{switch(r){case"admin":return{title:"Acesso Restrito",description:"Esta funcionalidade está disponível apenas para administradores do sistema.",icon:Kr,color:"red",buttonText:"Entendi"};case"premium":return{title:"Recurso Premium",description:"Esta funcionalidade está disponível apenas para assinantes do plano Premium.",icon:Xh,color:"blue",buttonText:"Ver Planos"};case"enterprise":return{title:"Recurso Enterprise",description:"Esta funcionalidade está disponível apenas para assinantes do plano Enterprise.",icon:Xi,color:"purple",buttonText:"Ver Planos"};default:return{title:"Acesso Restrito",description:"Você não tem permissão para acessar esta funcionalidade.",icon:ts,color:"yellow",buttonText:"Entendi"}}})();return s.jsx(at,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:`relative bg-${a.color}-600 p-6 text-white rounded-t-xl`,children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:s.jsx(a.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:a.title}),s.jsx("p",{className:"text-white/80",children:a.description})]})]}),s.jsx("div",{className:"p-6",children:r==="admin"?s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"Entre em contato com o administrador do sistema para solicitar acesso a esta funcionalidade."}),s.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:a.buttonText})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"Faça upgrade do seu plano para desbloquear esta e outras funcionalidades avançadas."}),s.jsx(so,{to:"/pricing",className:`inline-block px-6 py-3 bg-${a.color}-600 text-white font-semibold rounded-lg hover:bg-${a.color}-700 transition-colors`,children:a.buttonText})]})})]})]})})};function Bq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Bq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Rt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Bq(t))&&(n&&(n+=" "),n+=e);return n}var vwe=Array.isArray,ja=vwe,bwe=typeof Ps=="object"&&Ps&&Ps.Object===Object&&Ps,Eq=bwe,wwe=Eq,jwe=typeof self=="object"&&self&&self.Object===Object&&self,Nwe=wwe||jwe||Function("return this")(),qo=Nwe,_we=qo,Cwe=_we.Symbol,vx=Cwe,VL=vx,kq=Object.prototype,Swe=kq.hasOwnProperty,Bwe=kq.toString,yp=VL?VL.toStringTag:void 0;function Ewe(t){var e=Swe.call(t,yp),r=t[yp];try{t[yp]=void 0;var n=!0}catch{}var a=Bwe.call(t);return n&&(e?t[yp]=r:delete t[yp]),a}var kwe=Ewe,Fwe=Object.prototype,Pwe=Fwe.toString;function Twe(t){return Pwe.call(t)}var Owe=Twe,KL=vx,Iwe=kwe,Lwe=Owe,Mwe="[object Null]",Dwe="[object Undefined]",WL=KL?KL.toStringTag:void 0;function Uwe(t){return t==null?t===void 0?Dwe:Mwe:WL&&WL in Object(t)?Iwe(t):Lwe(t)}var Xl=Uwe;function Rwe(t){return t!=null&&typeof t=="object"}var Yl=Rwe,Qwe=Xl,$we=Yl,Hwe="[object Symbol]";function zwe(t){return typeof t=="symbol"||$we(t)&&Qwe(t)==Hwe}var lm=zwe,qwe=ja,Vwe=lm,Kwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wwe=/^\w*$/;function Gwe(t,e){if(qwe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Vwe(t)?!0:Wwe.test(t)||!Kwe.test(t)||e!=null&&t in Object(e)}var nk=Gwe;function Xwe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bd=Xwe;const cm=fr(bd);var Ywe=Xl,Jwe=bd,Zwe="[object AsyncFunction]",e1e="[object Function]",t1e="[object GeneratorFunction]",r1e="[object Proxy]";function n1e(t){if(!Jwe(t))return!1;var e=Ywe(t);return e==e1e||e==t1e||e==Zwe||e==r1e}var sk=n1e;const Et=fr(sk);var s1e=qo,a1e=s1e["__core-js_shared__"],i1e=a1e,u5=i1e,GL=function(){var t=/[^.]+$/.exec(u5&&u5.keys&&u5.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o1e(t){return!!GL&&GL in t}var l1e=o1e,c1e=Function.prototype,d1e=c1e.toString;function u1e(t){if(t!=null){try{return d1e.call(t)}catch{}try{return t+""}catch{}}return""}var Fq=u1e,A1e=sk,h1e=l1e,f1e=bd,m1e=Fq,p1e=/[\\^$.*+?()[\]{}|]/g,g1e=/^\[object .+?Constructor\]$/,x1e=Function.prototype,y1e=Object.prototype,v1e=x1e.toString,b1e=y1e.hasOwnProperty,w1e=RegExp("^"+v1e.call(b1e).replace(p1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j1e(t){if(!f1e(t)||h1e(t))return!1;var e=A1e(t)?w1e:g1e;return e.test(m1e(t))}var N1e=j1e;function _1e(t,e){return t==null?void 0:t[e]}var C1e=_1e,S1e=N1e,B1e=C1e;function E1e(t,e){var r=B1e(t,e);return S1e(r)?r:void 0}var cA=E1e,k1e=cA,F1e=k1e(Object,"create"),O2=F1e,XL=O2;function P1e(){this.__data__=XL?XL(null):{},this.size=0}var T1e=P1e;function O1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var I1e=O1e,L1e=O2,M1e="__lodash_hash_undefined__",D1e=Object.prototype,U1e=D1e.hasOwnProperty;function R1e(t){var e=this.__data__;if(L1e){var r=e[t];return r===M1e?void 0:r}return U1e.call(e,t)?e[t]:void 0}var Q1e=R1e,$1e=O2,H1e=Object.prototype,z1e=H1e.hasOwnProperty;function q1e(t){var e=this.__data__;return $1e?e[t]!==void 0:z1e.call(e,t)}var V1e=q1e,K1e=O2,W1e="__lodash_hash_undefined__";function G1e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=K1e&&e===void 0?W1e:e,this}var X1e=G1e,Y1e=T1e,J1e=I1e,Z1e=Q1e,e2e=V1e,t2e=X1e;function dm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dm.prototype.clear=Y1e;dm.prototype.delete=J1e;dm.prototype.get=Z1e;dm.prototype.has=e2e;dm.prototype.set=t2e;var r2e=dm;function n2e(){this.__data__=[],this.size=0}var s2e=n2e;function a2e(t,e){return t===e||t!==t&&e!==e}var ak=a2e,i2e=ak;function o2e(t,e){for(var r=t.length;r--;)if(i2e(t[r][0],e))return r;return-1}var I2=o2e,l2e=I2,c2e=Array.prototype,d2e=c2e.splice;function u2e(t){var e=this.__data__,r=l2e(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():d2e.call(e,r,1),--this.size,!0}var A2e=u2e,h2e=I2;function f2e(t){var e=this.__data__,r=h2e(e,t);return r<0?void 0:e[r][1]}var m2e=f2e,p2e=I2;function g2e(t){return p2e(this.__data__,t)>-1}var x2e=g2e,y2e=I2;function v2e(t,e){var r=this.__data__,n=y2e(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var b2e=v2e,w2e=s2e,j2e=A2e,N2e=m2e,_2e=x2e,C2e=b2e;function um(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}um.prototype.clear=w2e;um.prototype.delete=j2e;um.prototype.get=N2e;um.prototype.has=_2e;um.prototype.set=C2e;var L2=um,S2e=cA,B2e=qo,E2e=S2e(B2e,"Map"),ik=E2e,YL=r2e,k2e=L2,F2e=ik;function P2e(){this.size=0,this.__data__={hash:new YL,map:new(F2e||k2e),string:new YL}}var T2e=P2e;function O2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var I2e=O2e,L2e=I2e;function M2e(t,e){var r=t.__data__;return L2e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var M2=M2e,D2e=M2;function U2e(t){var e=D2e(this,t).delete(t);return this.size-=e?1:0,e}var R2e=U2e,Q2e=M2;function $2e(t){return Q2e(this,t).get(t)}var H2e=$2e,z2e=M2;function q2e(t){return z2e(this,t).has(t)}var V2e=q2e,K2e=M2;function W2e(t,e){var r=K2e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var G2e=W2e,X2e=T2e,Y2e=R2e,J2e=H2e,Z2e=V2e,eje=G2e;function Am(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Am.prototype.clear=X2e;Am.prototype.delete=Y2e;Am.prototype.get=J2e;Am.prototype.has=Z2e;Am.prototype.set=eje;var ok=Am,Pq=ok,tje="Expected a function";function lk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tje);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(lk.Cache||Pq),r}lk.Cache=Pq;var Tq=lk;const rje=fr(Tq);var nje=Tq,sje=500;function aje(t){var e=nje(t,function(n){return r.size===sje&&r.clear(),n}),r=e.cache;return e}var ije=aje,oje=ije,lje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cje=/\\(\\)?/g,dje=oje(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lje,function(r,n,a,i){e.push(a?i.replace(cje,"$1"):n||r)}),e}),uje=dje;function Aje(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var ck=Aje,JL=vx,hje=ck,fje=ja,mje=lm,ZL=JL?JL.prototype:void 0,eM=ZL?ZL.toString:void 0;function Oq(t){if(typeof t=="string")return t;if(fje(t))return hje(t,Oq)+"";if(mje(t))return eM?eM.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var pje=Oq,gje=pje;function xje(t){return t==null?"":gje(t)}var Iq=xje,yje=ja,vje=nk,bje=uje,wje=Iq;function jje(t,e){return yje(t)?t:vje(t,e)?[t]:bje(wje(t))}var Lq=jje,Nje=lm;function _je(t){if(typeof t=="string"||Nje(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var D2=_je,Cje=Lq,Sje=D2;function Bje(t,e){e=Cje(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Sje(e[r++])];return r&&r==n?t:void 0}var dk=Bje,Eje=dk;function kje(t,e,r){var n=t==null?void 0:Eje(t,e);return n===void 0?r:n}var Mq=kje;const Qa=fr(Mq);function Fje(t){return t==null}var Pje=Fje;const $t=fr(Pje);var Tje=Xl,Oje=ja,Ije=Yl,Lje="[object String]";function Mje(t){return typeof t=="string"||!Oje(t)&&Ije(t)&&Tje(t)==Lje}var Dje=Mje;const Wu=fr(Dje);var Dq={exports:{}},mr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk=Symbol.for("react.element"),Ak=Symbol.for("react.portal"),U2=Symbol.for("react.fragment"),R2=Symbol.for("react.strict_mode"),Q2=Symbol.for("react.profiler"),$2=Symbol.for("react.provider"),H2=Symbol.for("react.context"),Uje=Symbol.for("react.server_context"),z2=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),V2=Symbol.for("react.suspense_list"),K2=Symbol.for("react.memo"),W2=Symbol.for("react.lazy"),Rje=Symbol.for("react.offscreen"),Uq;Uq=Symbol.for("react.module.reference");function _i(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uk:switch(t=t.type,t){case U2:case Q2:case R2:case q2:case V2:return t;default:switch(t=t&&t.$$typeof,t){case Uje:case H2:case z2:case W2:case K2:case $2:return t;default:return e}}case Ak:return e}}}mr.ContextConsumer=H2;mr.ContextProvider=$2;mr.Element=uk;mr.ForwardRef=z2;mr.Fragment=U2;mr.Lazy=W2;mr.Memo=K2;mr.Portal=Ak;mr.Profiler=Q2;mr.StrictMode=R2;mr.Suspense=q2;mr.SuspenseList=V2;mr.isAsyncMode=function(){return!1};mr.isConcurrentMode=function(){return!1};mr.isContextConsumer=function(t){return _i(t)===H2};mr.isContextProvider=function(t){return _i(t)===$2};mr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uk};mr.isForwardRef=function(t){return _i(t)===z2};mr.isFragment=function(t){return _i(t)===U2};mr.isLazy=function(t){return _i(t)===W2};mr.isMemo=function(t){return _i(t)===K2};mr.isPortal=function(t){return _i(t)===Ak};mr.isProfiler=function(t){return _i(t)===Q2};mr.isStrictMode=function(t){return _i(t)===R2};mr.isSuspense=function(t){return _i(t)===q2};mr.isSuspenseList=function(t){return _i(t)===V2};mr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===U2||t===Q2||t===R2||t===q2||t===V2||t===Rje||typeof t=="object"&&t!==null&&(t.$$typeof===W2||t.$$typeof===K2||t.$$typeof===$2||t.$$typeof===H2||t.$$typeof===z2||t.$$typeof===Uq||t.getModuleId!==void 0)};mr.typeOf=_i;Dq.exports=mr;var Qje=Dq.exports,$je=Xl,Hje=Yl,zje="[object Number]";function qje(t){return typeof t=="number"||Hje(t)&&$je(t)==zje}var Rq=qje;const Vje=fr(Rq);var Kje=Rq;function Wje(t){return Kje(t)&&t!=+t}var Gje=Wje;const bx=fr(Gje);var Ks=function(e){return e===0?0:e>0?1:-1},vu=function(e){return Wu(e)&&e.indexOf("%")===e.length-1},Ye=function(e){return Vje(e)&&!bx(e)},Xje=function(e){return $t(e)},Hn=function(e){return Ye(e)||Wu(e)},Yje=0,wx=function(e){var r=++Yje;return"".concat(e||"").concat(r)},Ws=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&!Wu(e))return n;var i;if(vu(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return bx(i)&&(i=n),a&&i>r&&(i=r),i},Pc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Jje=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Sc=function(e,r){return Ye(e)&&Ye(r)?function(n){return e+n*(r-e)}:function(){return r}};function pS(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Qa(n,e))===r})}var Zje=function(e,r){return Ye(e)&&Ye(r)?e-r:Wu(e)&&Wu(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function cf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function gS(t){"@babel/helpers - typeof";return gS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gS(t)}var eNe=["viewBox","children"],tNe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tM=["points","pathLength"],A5={svg:eNe,polygon:tM,polyline:tM},hk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(k.isValidElement(e)&&(n=e.props),!cm(n))return null;var a={};return Object.keys(n).forEach(function(i){hk.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},rNe=function(e,r,n){return function(a){return e(r,n,a),null}},Gu=function(e,r,n){if(!cm(e)||gS(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];hk.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=rNe(o,r,n))}),a},nNe=["children"],sNe=["children"];function rM(t,e){if(t==null)return{};var r=aNe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},El=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sM=null,h5=null,fk=function t(e){if(e===sM&&Array.isArray(h5))return h5;var r=[];return k.Children.forEach(e,function(n){$t(n)||(Qje.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),h5=r,sM=e,r};function yi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return El(a)}):n=[El(e)],fk(t).forEach(function(a){var i=Qa(a,"type.displayName")||Qa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Oa(t,e){var r=yi(t,e);return r&&r[0]}var aM=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Ye(n)||n<=0||!Ye(a)||a<=0)},iNe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oNe=function(e){return e&&e.type&&Wu(e.type)&&iNe.indexOf(e.type)>=0},lNe=function(e,r,n,a){var i,o=(i=A5==null?void 0:A5[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Et(e)&&(a&&o.includes(r)||tNe.includes(r))||n&&hk.includes(r)},Ct=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(k.isValidElement(e)&&(a=e.props),!cm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;lNe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},xS=function t(e,r){if(e===r)return!0;var n=k.Children.count(e);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iM(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!iM(i,o))return!1}return!0},iM=function(e,r){if($t(e)&&$t(r))return!0;if(!$t(e)&&!$t(r)){var n=e.props||{},a=n.children,i=rM(n,nNe),o=r.props||{},l=o.children,c=rM(o,sNe);return a&&l?cf(i,c)&&xS(a,l):!a&&!l?cf(i,c):!1}return!1},oM=function(e,r){var n=[],a={};return fk(e).forEach(function(i,o){if(oNe(i))n.push(i);else if(i){var l=El(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var A=d(i,l,o);n.push(A),a[l]=!0}}}),n},cNe=function(e){var r=e&&e.type;return r&&nM[r]?nM[r]:null},dNe=function(e,r){return fk(r).indexOf(e)},uNe=["children","width","height","viewBox","className","style","title","desc"];function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yS.apply(this,arguments)}function ANe(t,e){if(t==null)return{};var r=hNe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vS(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=ANe(t,uNe),u=a||{width:r,height:n,x:0,y:0},A=Rt("recharts-surface",i);return be.createElement("svg",yS({},Ct(d,!0,"svg"),{className:A,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),be.createElement("title",null,l),be.createElement("desc",null,c),e)}var fNe=["children","className"];function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bS.apply(this,arguments)}function mNe(t,e){if(t==null)return{};var r=pNe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ur=be.forwardRef(function(t,e){var r=t.children,n=t.className,a=mNe(t,fNe),i=Rt("recharts-layer",n);return be.createElement("g",bS({className:i},Ct(a,!0),{ref:e}),r)}),ro=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function gNe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var xNe=gNe,yNe=xNe;function vNe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:yNe(t,e,r)}var bNe=vNe,wNe="\\ud800-\\udfff",jNe="\\u0300-\\u036f",NNe="\\ufe20-\\ufe2f",_Ne="\\u20d0-\\u20ff",CNe=jNe+NNe+_Ne,SNe="\\ufe0e\\ufe0f",BNe="\\u200d",ENe=RegExp("["+BNe+wNe+CNe+SNe+"]");function kNe(t){return ENe.test(t)}var Qq=kNe;function FNe(t){return t.split("")}var PNe=FNe,$q="\\ud800-\\udfff",TNe="\\u0300-\\u036f",ONe="\\ufe20-\\ufe2f",INe="\\u20d0-\\u20ff",LNe=TNe+ONe+INe,MNe="\\ufe0e\\ufe0f",DNe="["+$q+"]",wS="["+LNe+"]",jS="\\ud83c[\\udffb-\\udfff]",UNe="(?:"+wS+"|"+jS+")",Hq="[^"+$q+"]",zq="(?:\\ud83c[\\udde6-\\uddff]){2}",qq="[\\ud800-\\udbff][\\udc00-\\udfff]",RNe="\\u200d",Vq=UNe+"?",Kq="["+MNe+"]?",QNe="(?:"+RNe+"(?:"+[Hq,zq,qq].join("|")+")"+Kq+Vq+")*",$Ne=Kq+Vq+QNe,HNe="(?:"+[Hq+wS+"?",wS,zq,qq,DNe].join("|")+")",zNe=RegExp(jS+"(?="+jS+")|"+HNe+$Ne,"g");function qNe(t){return t.match(zNe)||[]}var VNe=qNe,KNe=PNe,WNe=Qq,GNe=VNe;function XNe(t){return WNe(t)?GNe(t):KNe(t)}var YNe=XNe,JNe=bNe,ZNe=Qq,e_e=YNe,t_e=Iq;function r_e(t){return function(e){e=t_e(e);var r=ZNe(e)?e_e(e):void 0,n=r?r[0]:e.charAt(0),a=r?JNe(r,1).join(""):e.slice(1);return n[t]()+a}}var n_e=r_e,s_e=n_e,a_e=s_e("toUpperCase"),i_e=a_e;const G2=fr(i_e);function Sr(t){return function(){return t}}const Wq=Math.cos,Tw=Math.sin,co=Math.sqrt,Ow=Math.PI,X2=2*Ow,NS=Math.PI,_S=2*NS,tu=1e-6,o_e=_S-tu;function Gq(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function l_e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Gq;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class c_e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Gq:l_e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=a-r,u=o-e,A=l-r,h=u*u+A*A;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>tu)if(!(Math.abs(A*c-d*u)>tu)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,g=a-l,x=c*c+d*d,m=f*f+g*g,p=Math.sqrt(x),y=Math.sqrt(h),w=i*Math.tan((NS-Math.acos((x+h-m)/(2*p*y)))/2),S=w/y,j=w/p;Math.abs(S-1)>tu&&this._append`L${e+S*u},${r+S*A}`,this._append`A${i},${i},0,0,${+(A*f>u*g)},${this._x1=e+j*c},${this._y1=r+j*d}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=e+l,u=r+c,A=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>tu||Math.abs(this._y1-u)>tu)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%_S+_S),h>o_e?this._append`A${n},${n},0,1,${A},${e-l},${r-c}A${n},${n},0,1,${A},${this._x1=d},${this._y1=u}`:h>tu&&this._append`A${n},${n},0,${+(h>=NS)},${A},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function mk(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new c_e(e)}function pk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Xq(t){this._context=t}Xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Y2(t){return new Xq(t)}function Yq(t){return t[0]}function Jq(t){return t[1]}function Zq(t,e){var r=Sr(!0),n=null,a=Y2,i=null,o=mk(l);t=typeof t=="function"?t:t===void 0?Yq:Sr(t),e=typeof e=="function"?e:e===void 0?Jq:Sr(e);function l(c){var d,u=(c=pk(c)).length,A,h=!1,f;for(n==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(A=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(A,d,c),+e(A,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Sr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Sr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Sr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Tv(t,e,r){var n=null,a=Sr(!0),i=null,o=Y2,l=null,c=mk(d);t=typeof t=="function"?t:t===void 0?Yq:Sr(+t),e=typeof e=="function"?e:Sr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Jq:Sr(+r);function d(A){var h,f,g,x=(A=pk(A)).length,m,p=!1,y,w=new Array(x),S=new Array(x);for(i==null&&(l=o(y=c())),h=0;h<=x;++h){if(!(h<x&&a(m=A[h],h,A))===p)if(p=!p)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=f;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}p&&(w[h]=+t(m,h,A),S[h]=+e(m,h,A),l.point(n?+n(m,h,A):w[h],r?+r(m,h,A):S[h]))}if(y)return l=null,y+""||null}function u(){return Zq().defined(a).curve(o).context(i)}return d.x=function(A){return arguments.length?(t=typeof A=="function"?A:Sr(+A),n=null,d):t},d.x0=function(A){return arguments.length?(t=typeof A=="function"?A:Sr(+A),d):t},d.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Sr(+A),d):n},d.y=function(A){return arguments.length?(e=typeof A=="function"?A:Sr(+A),r=null,d):e},d.y0=function(A){return arguments.length?(e=typeof A=="function"?A:Sr(+A),d):e},d.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Sr(+A),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(n).y(e)},d.defined=function(A){return arguments.length?(a=typeof A=="function"?A:Sr(!!A),d):a},d.curve=function(A){return arguments.length?(o=A,i!=null&&(l=o(i)),d):o},d.context=function(A){return arguments.length?(A==null?i=l=null:l=o(i=A),d):i},d}class eV{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function d_e(t){return new eV(t,!0)}function u_e(t){return new eV(t,!1)}const gk={draw(t,e){const r=co(e/Ow);t.moveTo(r,0),t.arc(0,0,r,0,X2)}},A_e={draw(t,e){const r=co(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},tV=co(1/3),h_e=tV*2,f_e={draw(t,e){const r=co(e/h_e),n=r*tV;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},m_e={draw(t,e){const r=co(e),n=-r/2;t.rect(n,n,r,r)}},p_e=.8908130915292852,rV=Tw(Ow/10)/Tw(7*Ow/10),g_e=Tw(X2/10)*rV,x_e=-Wq(X2/10)*rV,y_e={draw(t,e){const r=co(e*p_e),n=g_e*r,a=x_e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=X2*i/5,l=Wq(o),c=Tw(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},f5=co(3),v_e={draw(t,e){const r=-co(e/(f5*3));t.moveTo(0,r*2),t.lineTo(-f5*r,-r),t.lineTo(f5*r,-r),t.closePath()}},ti=-.5,ri=co(3)/2,CS=1/co(12),b_e=(CS/2+1)*3,w_e={draw(t,e){const r=co(e/b_e),n=r/2,a=r*CS,i=n,o=r*CS+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(ti*n-ri*a,ri*n+ti*a),t.lineTo(ti*i-ri*o,ri*i+ti*o),t.lineTo(ti*l-ri*c,ri*l+ti*c),t.lineTo(ti*n+ri*a,ti*a-ri*n),t.lineTo(ti*i+ri*o,ti*o-ri*i),t.lineTo(ti*l+ri*c,ti*c-ri*l),t.closePath()}};function j_e(t,e){let r=null,n=mk(a);t=typeof t=="function"?t:Sr(t||gk),e=typeof e=="function"?e:Sr(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Sr(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Sr(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Iw(){}function Lw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function nV(t){this._context=t}nV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function N_e(t){return new nV(t)}function sV(t){this._context=t}sV.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Lw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function __e(t){return new sV(t)}function aV(t){this._context=t}aV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function C_e(t){return new aV(t)}function iV(t){this._context=t}iV.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function S_e(t){return new iV(t)}function lM(t){return t<0?-1:1}function cM(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(lM(i)+lM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function dM(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function m5(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function Mw(t){this._context=t}Mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m5(this,this._t0,dM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,m5(this,dM(this,r=cM(this,t,e)),r);break;default:m5(this,this._t0,r=cM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oV(t){this._context=new lV(t)}(oV.prototype=Object.create(Mw.prototype)).point=function(t,e){Mw.prototype.point.call(this,e,t)};function lV(t){this._context=t}lV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function B_e(t){return new Mw(t)}function E_e(t){return new oV(t)}function cV(t){this._context=t}cV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=uM(t),a=uM(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uM(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function k_e(t){return new cV(t)}function J2(t,e){this._context=t,this._t=e}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function F_e(t){return new J2(t,.5)}function P_e(t){return new J2(t,0)}function T_e(t){return new J2(t,1)}function Sf(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function SS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function O_e(t,e){return t[e]}function I_e(t){const e=[];return e.key=t,e}function L_e(){var t=Sr([]),e=SS,r=Sf,n=O_e;function a(i){var o=Array.from(t.apply(this,arguments),I_e),l,c=o.length,d=-1,u;for(const A of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(A,o[l].key,d,i)]).data=A;for(l=0,u=pk(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Sr(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Sr(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?SS:typeof i=="function"?i:Sr(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Sf,a):r},a}function M_e(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Sf(t,e)}}function D_e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Sf(t,e)}}function U_e(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],A=u[n][1]||0,h=u[n-1][1]||0,f=(A-h)/2,g=0;g<l;++g){var x=t[e[g]],m=x[n][1]||0,p=x[n-1][1]||0;f+=m-p}c+=A,d+=f*A}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Sf(t,e)}}function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}var R_e=["type","size","sizeType"];function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BS.apply(this,arguments)}function AM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(r),!0).forEach(function(n){Q_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q_e(t,e,r){return e=$_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $_e(t){var e=H_e(t,"string");return b0(e)=="symbol"?e:e+""}function H_e(t,e){if(b0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(b0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z_e(t,e){if(t==null)return{};var r=q_e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dV={symbolCircle:gk,symbolCross:A_e,symbolDiamond:f_e,symbolSquare:m_e,symbolStar:y_e,symbolTriangle:v_e,symbolWye:w_e},V_e=Math.PI/180,K_e=function(e){var r="symbol".concat(G2(e));return dV[r]||gk},W_e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*V_e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},G_e=function(e,r){dV["symbol".concat(G2(e))]=r},xk=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=z_e(e,R_e),d=hM(hM({},c),{},{type:n,size:i,sizeType:l}),u=function(){var m=K_e(n),p=j_e().type(m).size(W_e(i,l,n));return p()},A=d.className,h=d.cx,f=d.cy,g=Ct(d,!0);return h===+h&&f===+f&&i===+i?be.createElement("path",BS({},g,{className:Rt("recharts-symbols",A),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};xk.registerSymbol=G_e;function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ES.apply(this,arguments)}function fM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function X_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(r),!0).forEach(function(n){w0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AV(n.key),n)}}function Z_e(t,e,r){return e&&J_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e5e(t,e,r){return e=Dw(e),t5e(t,uV()?Reflect.construct(e,r||[],Dw(t).constructor):e.apply(t,r))}function t5e(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r5e(t)}function r5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(t)}function n5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kS(t,e)}function w0(t,e,r){return e=AV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AV(t){var e=s5e(t,"string");return Bf(e)=="symbol"?e:e+""}function s5e(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ni=32,yk=function(t){function e(){return Y_e(this,e),e5e(this,e,arguments)}return n5e(e,t),Z_e(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ni/2,o=ni/6,l=ni/3,c=n.inactive?a:n.color;if(n.type==="plainline")return be.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ni,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return be.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ni,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return be.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-ni,"z"),className:"recharts-legend-icon"});if(be.isValidElement(n.legendIcon)){var d=X_e({},n);return delete d.legendIcon,be.cloneElement(n.legendIcon,d)}return be.createElement(xk,{fill:c,cx:i,cy:i,size:ni,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:ni,height:ni},A={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,g){var x=f.formatter||c,m=Rt(w0(w0({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var p=Et(f.value)?null:f.value;ro(!Et(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=f.inactive?d:f.color;return be.createElement("li",ES({className:m,style:A,key:"legend-item-".concat(g)},Gu(n.props,f,g)),be.createElement(vS,{width:o,height:o,viewBox:u,style:h},n.renderIcon(f)),be.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(p,f,g):p))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return be.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);w0(yk,"displayName","Legend");w0(yk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var a5e=L2;function i5e(){this.__data__=new a5e,this.size=0}var o5e=i5e;function l5e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var c5e=l5e;function d5e(t){return this.__data__.get(t)}var u5e=d5e;function A5e(t){return this.__data__.has(t)}var h5e=A5e,f5e=L2,m5e=ik,p5e=ok,g5e=200;function x5e(t,e){var r=this.__data__;if(r instanceof f5e){var n=r.__data__;if(!m5e||n.length<g5e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new p5e(n)}return r.set(t,e),this.size=r.size,this}var y5e=x5e,v5e=L2,b5e=o5e,w5e=c5e,j5e=u5e,N5e=h5e,_5e=y5e;function hm(t){var e=this.__data__=new v5e(t);this.size=e.size}hm.prototype.clear=b5e;hm.prototype.delete=w5e;hm.prototype.get=j5e;hm.prototype.has=N5e;hm.prototype.set=_5e;var hV=hm,C5e="__lodash_hash_undefined__";function S5e(t){return this.__data__.set(t,C5e),this}var B5e=S5e;function E5e(t){return this.__data__.has(t)}var k5e=E5e,F5e=ok,P5e=B5e,T5e=k5e;function Uw(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new F5e;++e<r;)this.add(t[e])}Uw.prototype.add=Uw.prototype.push=P5e;Uw.prototype.has=T5e;var fV=Uw;function O5e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var mV=O5e;function I5e(t,e){return t.has(e)}var pV=I5e,L5e=fV,M5e=mV,D5e=pV,U5e=1,R5e=2;function Q5e(t,e,r,n,a,i){var o=r&U5e,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(t),u=i.get(e);if(d&&u)return d==e&&u==t;var A=-1,h=!0,f=r&R5e?new L5e:void 0;for(i.set(t,e),i.set(e,t);++A<l;){var g=t[A],x=e[A];if(n)var m=o?n(x,g,A,e,t,i):n(g,x,A,t,e,i);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!M5e(e,function(p,y){if(!D5e(f,y)&&(g===p||a(g,p,r,n,i)))return f.push(y)})){h=!1;break}}else if(!(g===x||a(g,x,r,n,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var gV=Q5e,$5e=qo,H5e=$5e.Uint8Array,z5e=H5e;function q5e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var V5e=q5e;function K5e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var vk=K5e,mM=vx,pM=z5e,W5e=ak,G5e=gV,X5e=V5e,Y5e=vk,J5e=1,Z5e=2,eCe="[object Boolean]",tCe="[object Date]",rCe="[object Error]",nCe="[object Map]",sCe="[object Number]",aCe="[object RegExp]",iCe="[object Set]",oCe="[object String]",lCe="[object Symbol]",cCe="[object ArrayBuffer]",dCe="[object DataView]",gM=mM?mM.prototype:void 0,p5=gM?gM.valueOf:void 0;function uCe(t,e,r,n,a,i,o){switch(r){case dCe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cCe:return!(t.byteLength!=e.byteLength||!i(new pM(t),new pM(e)));case eCe:case tCe:case sCe:return W5e(+t,+e);case rCe:return t.name==e.name&&t.message==e.message;case aCe:case oCe:return t==e+"";case nCe:var l=X5e;case iCe:var c=n&J5e;if(l||(l=Y5e),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;n|=Z5e,o.set(t,e);var u=G5e(l(t),l(e),n,a,i,o);return o.delete(t),u;case lCe:if(p5)return p5.call(t)==p5.call(e)}return!1}var ACe=uCe;function hCe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var xV=hCe,fCe=xV,mCe=ja;function pCe(t,e,r){var n=e(t);return mCe(t)?n:fCe(n,r(t))}var gCe=pCe;function xCe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}var yCe=xCe;function vCe(){return[]}var bCe=vCe,wCe=yCe,jCe=bCe,NCe=Object.prototype,_Ce=NCe.propertyIsEnumerable,xM=Object.getOwnPropertySymbols,CCe=xM?function(t){return t==null?[]:(t=Object(t),wCe(xM(t),function(e){return _Ce.call(t,e)}))}:jCe,SCe=CCe;function BCe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var ECe=BCe,kCe=Xl,FCe=Yl,PCe="[object Arguments]";function TCe(t){return FCe(t)&&kCe(t)==PCe}var OCe=TCe,yM=OCe,ICe=Yl,yV=Object.prototype,LCe=yV.hasOwnProperty,MCe=yV.propertyIsEnumerable,DCe=yM(function(){return arguments}())?yM:function(t){return ICe(t)&&LCe.call(t,"callee")&&!MCe.call(t,"callee")},bk=DCe,Rw={exports:{}};function UCe(){return!1}var RCe=UCe;Rw.exports;(function(t,e){var r=qo,n=RCe,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Rw,Rw.exports);var vV=Rw.exports,QCe=9007199254740991,$Ce=/^(?:0|[1-9]\d*)$/;function HCe(t,e){var r=typeof t;return e=e??QCe,!!e&&(r=="number"||r!="symbol"&&$Ce.test(t))&&t>-1&&t%1==0&&t<e}var wk=HCe,zCe=9007199254740991;function qCe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zCe}var jk=qCe,VCe=Xl,KCe=jk,WCe=Yl,GCe="[object Arguments]",XCe="[object Array]",YCe="[object Boolean]",JCe="[object Date]",ZCe="[object Error]",e4e="[object Function]",t4e="[object Map]",r4e="[object Number]",n4e="[object Object]",s4e="[object RegExp]",a4e="[object Set]",i4e="[object String]",o4e="[object WeakMap]",l4e="[object ArrayBuffer]",c4e="[object DataView]",d4e="[object Float32Array]",u4e="[object Float64Array]",A4e="[object Int8Array]",h4e="[object Int16Array]",f4e="[object Int32Array]",m4e="[object Uint8Array]",p4e="[object Uint8ClampedArray]",g4e="[object Uint16Array]",x4e="[object Uint32Array]",Tr={};Tr[d4e]=Tr[u4e]=Tr[A4e]=Tr[h4e]=Tr[f4e]=Tr[m4e]=Tr[p4e]=Tr[g4e]=Tr[x4e]=!0;Tr[GCe]=Tr[XCe]=Tr[l4e]=Tr[YCe]=Tr[c4e]=Tr[JCe]=Tr[ZCe]=Tr[e4e]=Tr[t4e]=Tr[r4e]=Tr[n4e]=Tr[s4e]=Tr[a4e]=Tr[i4e]=Tr[o4e]=!1;function y4e(t){return WCe(t)&&KCe(t.length)&&!!Tr[VCe(t)]}var v4e=y4e;function b4e(t){return function(e){return t(e)}}var bV=b4e,Qw={exports:{}};Qw.exports;(function(t,e){var r=Eq,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Qw,Qw.exports);var w4e=Qw.exports,j4e=v4e,N4e=bV,vM=w4e,bM=vM&&vM.isTypedArray,_4e=bM?N4e(bM):j4e,wV=_4e,C4e=ECe,S4e=bk,B4e=ja,E4e=vV,k4e=wk,F4e=wV,P4e=Object.prototype,T4e=P4e.hasOwnProperty;function O4e(t,e){var r=B4e(t),n=!r&&S4e(t),a=!r&&!n&&E4e(t),i=!r&&!n&&!a&&F4e(t),o=r||n||a||i,l=o?C4e(t.length,String):[],c=l.length;for(var d in t)(e||T4e.call(t,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||k4e(d,c)))&&l.push(d);return l}var I4e=O4e,L4e=Object.prototype;function M4e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||L4e;return t===r}var D4e=M4e;function U4e(t,e){return function(r){return t(e(r))}}var jV=U4e,R4e=jV,Q4e=R4e(Object.keys,Object),$4e=Q4e,H4e=D4e,z4e=$4e,q4e=Object.prototype,V4e=q4e.hasOwnProperty;function K4e(t){if(!H4e(t))return z4e(t);var e=[];for(var r in Object(t))V4e.call(t,r)&&r!="constructor"&&e.push(r);return e}var W4e=K4e,G4e=sk,X4e=jk;function Y4e(t){return t!=null&&X4e(t.length)&&!G4e(t)}var jx=Y4e,J4e=I4e,Z4e=W4e,eSe=jx;function tSe(t){return eSe(t)?J4e(t):Z4e(t)}var Z2=tSe,rSe=gCe,nSe=SCe,sSe=Z2;function aSe(t){return rSe(t,sSe,nSe)}var iSe=aSe,wM=iSe,oSe=1,lSe=Object.prototype,cSe=lSe.hasOwnProperty;function dSe(t,e,r,n,a,i){var o=r&oSe,l=wM(t),c=l.length,d=wM(e),u=d.length;if(c!=u&&!o)return!1;for(var A=c;A--;){var h=l[A];if(!(o?h in e:cSe.call(e,h)))return!1}var f=i.get(t),g=i.get(e);if(f&&g)return f==e&&g==t;var x=!0;i.set(t,e),i.set(e,t);for(var m=o;++A<c;){h=l[A];var p=t[h],y=e[h];if(n)var w=o?n(y,p,h,e,t,i):n(p,y,h,t,e,i);if(!(w===void 0?p===y||a(p,y,r,n,i):w)){x=!1;break}m||(m=h=="constructor")}if(x&&!m){var S=t.constructor,j=e.constructor;S!=j&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(x=!1)}return i.delete(t),i.delete(e),x}var uSe=dSe,ASe=cA,hSe=qo,fSe=ASe(hSe,"DataView"),mSe=fSe,pSe=cA,gSe=qo,xSe=pSe(gSe,"Promise"),ySe=xSe,vSe=cA,bSe=qo,wSe=vSe(bSe,"Set"),NV=wSe,jSe=cA,NSe=qo,_Se=jSe(NSe,"WeakMap"),CSe=_Se,FS=mSe,PS=ik,TS=ySe,OS=NV,IS=CSe,_V=Xl,fm=Fq,jM="[object Map]",SSe="[object Object]",NM="[object Promise]",_M="[object Set]",CM="[object WeakMap]",SM="[object DataView]",BSe=fm(FS),ESe=fm(PS),kSe=fm(TS),FSe=fm(OS),PSe=fm(IS),ru=_V;(FS&&ru(new FS(new ArrayBuffer(1)))!=SM||PS&&ru(new PS)!=jM||TS&&ru(TS.resolve())!=NM||OS&&ru(new OS)!=_M||IS&&ru(new IS)!=CM)&&(ru=function(t){var e=_V(t),r=e==SSe?t.constructor:void 0,n=r?fm(r):"";if(n)switch(n){case BSe:return SM;case ESe:return jM;case kSe:return NM;case FSe:return _M;case PSe:return CM}return e});var TSe=ru,g5=hV,OSe=gV,ISe=ACe,LSe=uSe,BM=TSe,EM=ja,kM=vV,MSe=wV,DSe=1,FM="[object Arguments]",PM="[object Array]",Ov="[object Object]",USe=Object.prototype,TM=USe.hasOwnProperty;function RSe(t,e,r,n,a,i){var o=EM(t),l=EM(e),c=o?PM:BM(t),d=l?PM:BM(e);c=c==FM?Ov:c,d=d==FM?Ov:d;var u=c==Ov,A=d==Ov,h=c==d;if(h&&kM(t)){if(!kM(e))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new g5),o||MSe(t)?OSe(t,e,r,n,a,i):ISe(t,e,c,r,n,a,i);if(!(r&DSe)){var f=u&&TM.call(t,"__wrapped__"),g=A&&TM.call(e,"__wrapped__");if(f||g){var x=f?t.value():t,m=g?e.value():e;return i||(i=new g5),a(x,m,r,n,i)}}return h?(i||(i=new g5),LSe(t,e,r,n,a,i)):!1}var QSe=RSe,$Se=QSe,OM=Yl;function CV(t,e,r,n,a){return t===e?!0:t==null||e==null||!OM(t)&&!OM(e)?t!==t&&e!==e:$Se(t,e,r,n,CV,a)}var Nk=CV,HSe=hV,zSe=Nk,qSe=1,VSe=2;function KSe(t,e,r,n){var a=r.length,i=a,o=!n;if(t==null)return!i;for(t=Object(t);a--;){var l=r[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<i;){l=r[a];var c=l[0],d=t[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in t))return!1}else{var A=new HSe;if(n)var h=n(d,u,c,t,e,A);if(!(h===void 0?zSe(u,d,qSe|VSe,n,A):h))return!1}}return!0}var WSe=KSe,GSe=bd;function XSe(t){return t===t&&!GSe(t)}var SV=XSe,YSe=SV,JSe=Z2;function ZSe(t){for(var e=JSe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,YSe(a)]}return e}var eBe=ZSe;function tBe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var BV=tBe,rBe=WSe,nBe=eBe,sBe=BV;function aBe(t){var e=nBe(t);return e.length==1&&e[0][2]?sBe(e[0][0],e[0][1]):function(r){return r===t||rBe(r,t,e)}}var iBe=aBe;function oBe(t,e){return t!=null&&e in Object(t)}var lBe=oBe,cBe=Lq,dBe=bk,uBe=ja,ABe=wk,hBe=jk,fBe=D2;function mBe(t,e,r){e=cBe(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var o=fBe(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&hBe(a)&&ABe(o,a)&&(uBe(t)||dBe(t)))}var pBe=mBe,gBe=lBe,xBe=pBe;function yBe(t,e){return t!=null&&xBe(t,e,gBe)}var vBe=yBe,bBe=Nk,wBe=Mq,jBe=vBe,NBe=nk,_Be=SV,CBe=BV,SBe=D2,BBe=1,EBe=2;function kBe(t,e){return NBe(t)&&_Be(e)?CBe(SBe(t),e):function(r){var n=wBe(r,t);return n===void 0&&n===e?jBe(r,t):bBe(e,n,BBe|EBe)}}var FBe=kBe;function PBe(t){return t}var mm=PBe;function TBe(t){return function(e){return e==null?void 0:e[t]}}var OBe=TBe,IBe=dk;function LBe(t){return function(e){return IBe(e,t)}}var MBe=LBe,DBe=OBe,UBe=MBe,RBe=nk,QBe=D2;function $Be(t){return RBe(t)?DBe(QBe(t)):UBe(t)}var HBe=$Be,zBe=iBe,qBe=FBe,VBe=mm,KBe=ja,WBe=HBe;function GBe(t){return typeof t=="function"?t:t==null?VBe:typeof t=="object"?KBe(t)?qBe(t[0],t[1]):zBe(t):WBe(t)}var Vo=GBe;function XBe(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var EV=XBe;function YBe(t){return t!==t}var JBe=YBe;function ZBe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var e3e=ZBe,t3e=EV,r3e=JBe,n3e=e3e;function s3e(t,e,r){return e===e?n3e(t,e,r):t3e(t,r3e,r)}var a3e=s3e,i3e=a3e;function o3e(t,e){var r=t==null?0:t.length;return!!r&&i3e(t,e,0)>-1}var l3e=o3e;function c3e(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var d3e=c3e;function u3e(){}var A3e=u3e,x5=NV,h3e=A3e,f3e=vk,m3e=1/0,p3e=x5&&1/f3e(new x5([,-0]))[1]==m3e?function(t){return new x5(t)}:h3e,g3e=p3e,x3e=fV,y3e=l3e,v3e=d3e,b3e=pV,w3e=g3e,j3e=vk,N3e=200;function _3e(t,e,r){var n=-1,a=y3e,i=t.length,o=!0,l=[],c=l;if(r)o=!1,a=v3e;else if(i>=N3e){var d=e?null:w3e(t);if(d)return j3e(d);o=!1,a=b3e,c=new x3e}else c=e?[]:l;e:for(;++n<i;){var u=t[n],A=e?e(u):u;if(u=r||u!==0?u:0,o&&A===A){for(var h=c.length;h--;)if(c[h]===A)continue e;e&&c.push(A),l.push(u)}else a(c,A,r)||(c!==l&&c.push(A),l.push(u))}return l}var C3e=_3e,S3e=Vo,B3e=C3e;function E3e(t,e){return t&&t.length?B3e(t,S3e(e)):[]}var k3e=E3e;const IM=fr(k3e);function kV(t,e,r){return e===!0?IM(t,r):Et(e)?IM(t,e):t}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}var F3e=["ref"];function LM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(r),!0).forEach(function(n){ej(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PV(n.key),n)}}function T3e(t,e,r){return e&&MM(t.prototype,e),r&&MM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O3e(t,e,r){return e=$w(e),I3e(t,FV()?Reflect.construct(e,r||[],$w(t).constructor):e.apply(t,r))}function I3e(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L3e(t)}function L3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!t})()}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$w(t)}function M3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LS(t,e)}function ej(t,e,r){return e=PV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PV(t){var e=D3e(t,"string");return Ef(e)=="symbol"?e:e+""}function D3e(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U3e(t,e){if(t==null)return{};var r=R3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q3e(t){return t.value}function $3e(t,e){if(be.isValidElement(t))return be.cloneElement(t,e);if(typeof t=="function")return be.createElement(t,e);e.ref;var r=U3e(e,F3e);return be.createElement(yk,r)}var DM=1,Iu=function(t){function e(){var r;P3e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=O3e(this,e,[].concat(a)),ej(r,"lastBoundingBox",{width:-1,height:-1}),r}return M3e(e,t),T3e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>DM||Math.abs(a.height-this.lastBoundingBox.height)>DM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ll({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,A,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();A={left:((d||0)-f.width)/2}}else A=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ll(ll({},A),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,A=ll(ll({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return be.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:function(f){n.wrapperNode=f}},$3e(i,ll(ll({},this.props),{},{payload:kV(u,d,Q3e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ll(ll({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ye(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(k.PureComponent);ej(Iu,"displayName","Legend");ej(Iu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var UM=vx,H3e=bk,z3e=ja,RM=UM?UM.isConcatSpreadable:void 0;function q3e(t){return z3e(t)||H3e(t)||!!(RM&&t&&t[RM])}var V3e=q3e,K3e=xV,W3e=V3e;function TV(t,e,r,n,a){var i=-1,o=t.length;for(r||(r=W3e),a||(a=[]);++i<o;){var l=t[i];e>0&&r(l)?e>1?TV(l,e-1,r,n,a):K3e(a,l):n||(a[a.length]=l)}return a}var OV=TV;function G3e(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++a];if(r(i[c],c,i)===!1)break}return e}}var X3e=G3e,Y3e=X3e,J3e=Y3e(),Z3e=J3e,eEe=Z3e,tEe=Z2;function rEe(t,e){return t&&eEe(t,e,tEe)}var IV=rEe,nEe=jx;function sEe(t,e){return function(r,n){if(r==null)return r;if(!nEe(r))return t(r,n);for(var a=r.length,i=e?a:-1,o=Object(r);(e?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var aEe=sEe,iEe=IV,oEe=aEe,lEe=oEe(iEe),_k=lEe,cEe=_k,dEe=jx;function uEe(t,e){var r=-1,n=dEe(t)?Array(t.length):[];return cEe(t,function(a,i,o){n[++r]=e(a,i,o)}),n}var LV=uEe;function AEe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var hEe=AEe,QM=lm;function fEe(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=QM(t),o=e!==void 0,l=e===null,c=e===e,d=QM(e);if(!l&&!d&&!i&&t>e||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!d&&t<e||d&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var mEe=fEe,pEe=mEe;function gEe(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,o=a.length,l=r.length;++n<o;){var c=pEe(a[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return t.index-e.index}var xEe=gEe,y5=ck,yEe=dk,vEe=Vo,bEe=LV,wEe=hEe,jEe=bV,NEe=xEe,_Ee=mm,CEe=ja;function SEe(t,e,r){e.length?e=y5(e,function(i){return CEe(i)?function(o){return yEe(o,i.length===1?i[0]:i)}:i}):e=[_Ee];var n=-1;e=y5(e,jEe(vEe));var a=bEe(t,function(i,o,l){var c=y5(e,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return wEe(a,function(i,o){return NEe(i,o,r)})}var BEe=SEe;function EEe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var kEe=EEe,FEe=kEe,$M=Math.max;function PEe(t,e,r){return e=$M(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=$M(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(o),FEe(t,this,l)}}var TEe=PEe;function OEe(t){return function(){return t}}var IEe=OEe,LEe=cA,MEe=function(){try{var t=LEe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),MV=MEe,DEe=IEe,HM=MV,UEe=mm,REe=HM?function(t,e){return HM(t,"toString",{configurable:!0,enumerable:!1,value:DEe(e),writable:!0})}:UEe,QEe=REe,$Ee=800,HEe=16,zEe=Date.now;function qEe(t){var e=0,r=0;return function(){var n=zEe(),a=HEe-(n-r);if(r=n,a>0){if(++e>=$Ee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var VEe=qEe,KEe=QEe,WEe=VEe,GEe=WEe(KEe),XEe=GEe,YEe=mm,JEe=TEe,ZEe=XEe;function eke(t,e){return ZEe(JEe(t,e,YEe),t+"")}var tke=eke,rke=ak,nke=jx,ske=wk,ake=bd;function ike(t,e,r){if(!ake(r))return!1;var n=typeof e;return(n=="number"?nke(r)&&ske(e,r.length):n=="string"&&e in r)?rke(r[e],t):!1}var tj=ike,oke=OV,lke=BEe,cke=tke,zM=tj,dke=cke(function(t,e){if(t==null)return[];var r=e.length;return r>1&&zM(t,e[0],e[1])?e=[]:r>2&&zM(e[0],e[1],e[2])&&(e=[e[0]]),lke(t,oke(e,1),[])}),uke=dke;const Ck=fr(uke);function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MS.apply(this,arguments)}function Ake(t,e){return pke(t)||mke(t,e)||fke(t,e)||hke()}function hke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fke(t,e){if(t){if(typeof t=="string")return qM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(t,e)}}function qM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function pke(t){if(Array.isArray(t))return t}function VM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function v5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(r),!0).forEach(function(n){gke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gke(t,e,r){return e=xke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xke(t){var e=yke(t,"string");return j0(e)=="symbol"?e:e+""}function yke(t,e){if(j0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(j0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vke(t){return Array.isArray(t)&&Hn(t[0])&&Hn(t[1])?t.join(" ~ "):t}var bke=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,A=e.formatter,h=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,x=e.label,m=e.labelFormatter,p=e.accessibilityLayer,y=p===void 0?!1:p,w=function(){if(u&&u.length){var N={padding:0,margin:0},O=(h?Ck(u,h):u).map(function(L,Q){if(L.type==="none")return null;var D=v5({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),U=L.formatter||A||vke,R=L.value,z=L.name,Y=R,X=z;if(U&&Y!=null&&X!=null){var $=U(R,z,L,Q,u);if(Array.isArray($)){var M=Ake($,2);Y=M[0],X=M[1]}else Y=$}return be.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:D},Hn(X)?be.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Hn(X)?be.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,be.createElement("span",{className:"recharts-tooltip-item-value"},Y),be.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return be.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},S=v5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=v5({margin:0},d),_=!$t(x),F=_?x:"",C=Rt("recharts-default-tooltip",f),E=Rt("recharts-tooltip-label",g);_&&m&&u!==void 0&&u!==null&&(F=m(x,u));var T=y?{role:"status","aria-live":"assertive"}:{};return be.createElement("div",MS({className:C,style:S},T),be.createElement("p",{className:E,style:j},be.isValidElement(F)?F:"".concat(F)),w())};function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function Iv(t,e,r){return e=wke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wke(t){var e=jke(t,"string");return N0(e)=="symbol"?e:e+""}function jke(t,e){if(N0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vp="recharts-tooltip-wrapper",Nke={visibility:"hidden"};function _ke(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Rt(vp,Iv(Iv(Iv(Iv({},"".concat(vp,"-right"),Ye(r)&&e&&Ye(e.x)&&r>=e.x),"".concat(vp,"-left"),Ye(r)&&e&&Ye(e.x)&&r<e.x),"".concat(vp,"-bottom"),Ye(n)&&e&&Ye(e.y)&&n>=e.y),"".concat(vp,"-top"),Ye(n)&&e&&Ye(e.y)&&n<e.y))}function KM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&Ye(i[n]))return i[n];var u=r[n]-l-a,A=r[n]+a;if(e[n])return o[n]?u:A;if(o[n]){var h=u,f=c[n];return h<f?Math.max(A,c[n]):Math.max(u,c[n])}var g=A+l,x=c[n]+d;return g>x?Math.max(u,c[n]):Math.max(A,c[n])}function Cke(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Ske(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,A;return o.height>0&&o.width>0&&r?(u=KM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),A=KM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Cke({translateX:u,translateY:A,useTranslate3d:l})):d=Nke,{cssProperties:d,cssClasses:_ke({translateX:u,translateY:A,coordinate:r})}}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function WM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(r),!0).forEach(function(n){US(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UV(n.key),n)}}function kke(t,e,r){return e&&Eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fke(t,e,r){return e=Hw(e),Pke(t,DV()?Reflect.construct(e,r||[],Hw(t).constructor):e.apply(t,r))}function Pke(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tke(t)}function Tke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(t)}function Oke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DS(t,e)}function US(t,e,r){return e=UV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UV(t){var e=Ike(t,"string");return kf(e)=="symbol"?e:e+""}function Ike(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XM=1,Lke=function(t){function e(){var r;Bke(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Fke(this,e,[].concat(a)),US(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),US(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return Oke(e,t),kke(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>XM||Math.abs(n.height-this.state.lastBoundingBox.height)>XM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,A=a.hasPayload,h=a.isAnimationActive,f=a.offset,g=a.position,x=a.reverseDirection,m=a.useTranslate3d,p=a.viewBox,y=a.wrapperStyle,w=Ske({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),S=w.cssClasses,j=w.cssProperties,_=GM(GM({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&A?"visible":"hidden",position:"absolute",top:0,left:0},y);return be.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(C){n.wrapperNode=C}},d)}}])}(k.PureComponent),Mke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pm={isSsr:Mke()};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function YM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(r),!0).forEach(function(n){Sk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QV(n.key),n)}}function Rke(t,e,r){return e&&Uke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qke(t,e,r){return e=zw(e),$ke(t,RV()?Reflect.construct(e,r||[],zw(t).constructor):e.apply(t,r))}function $ke(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hke(t)}function Hke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RV=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(t)}function zke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RS(t,e)}function Sk(t,e,r){return e=QV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QV(t){var e=qke(t,"string");return Ff(e)=="symbol"?e:e+""}function qke(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vke(t){return t.dataKey}function Kke(t,e){return be.isValidElement(t)?be.cloneElement(t,e):typeof t=="function"?be.createElement(t,e):be.createElement(bke,e)}var ii=function(t){function e(){return Dke(this,e),Qke(this,e,arguments)}return zke(e,t),Rke(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,A=a.filterNull,h=a.isAnimationActive,f=a.offset,g=a.payload,x=a.payloadUniqBy,m=a.position,p=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,j=g??[];A&&j.length&&(j=kV(g.filter(function(F){return F.value!=null&&(F.hide!==!0||n.props.includeHidden)}),x,Vke));var _=j.length>0;return be.createElement(Lke,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:_,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:w,wrapperStyle:S},Kke(d,JM(JM({},this.props),{},{payload:j})))}}])}(k.PureComponent);Sk(ii,"displayName","Tooltip");Sk(ii,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Wke=qo,Gke=function(){return Wke.Date.now()},Xke=Gke,Yke=/\s/;function Jke(t){for(var e=t.length;e--&&Yke.test(t.charAt(e)););return e}var Zke=Jke,e6e=Zke,t6e=/^\s+/;function r6e(t){return t&&t.slice(0,e6e(t)+1).replace(t6e,"")}var n6e=r6e,s6e=n6e,ZM=bd,a6e=lm,eD=NaN,i6e=/^[-+]0x[0-9a-f]+$/i,o6e=/^0b[01]+$/i,l6e=/^0o[0-7]+$/i,c6e=parseInt;function d6e(t){if(typeof t=="number")return t;if(a6e(t))return eD;if(ZM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ZM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=s6e(t);var r=o6e.test(t);return r||l6e.test(t)?c6e(t.slice(2),r?2:8):i6e.test(t)?eD:+t}var $V=d6e,u6e=bd,b5=Xke,tD=$V,A6e="Expected a function",h6e=Math.max,f6e=Math.min;function m6e(t,e,r){var n,a,i,o,l,c,d=0,u=!1,A=!1,h=!0;if(typeof t!="function")throw new TypeError(A6e);e=tD(e)||0,u6e(r)&&(u=!!r.leading,A="maxWait"in r,i=A?h6e(tD(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function f(_){var F=n,C=a;return n=a=void 0,d=_,o=t.apply(C,F),o}function g(_){return d=_,l=setTimeout(p,e),u?f(_):o}function x(_){var F=_-c,C=_-d,E=e-F;return A?f6e(E,i-C):E}function m(_){var F=_-c,C=_-d;return c===void 0||F>=e||F<0||A&&C>=i}function p(){var _=b5();if(m(_))return y(_);l=setTimeout(p,x(_))}function y(_){return l=void 0,h&&n?f(_):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,n=c=a=l=void 0}function S(){return l===void 0?o:y(b5())}function j(){var _=b5(),F=m(_);if(n=arguments,a=this,c=_,F){if(l===void 0)return g(c);if(A)return clearTimeout(l),l=setTimeout(p,e),f(c)}return l===void 0&&(l=setTimeout(p,e)),o}return j.cancel=w,j.flush=S,j}var p6e=m6e,g6e=p6e,x6e=bd,y6e="Expected a function";function v6e(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(y6e);return x6e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),g6e(t,e,{leading:n,maxWait:e,trailing:a})}var b6e=v6e;const HV=fr(b6e);function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function rD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(r),!0).forEach(function(n){w6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w6e(t,e,r){return e=j6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j6e(t){var e=N6e(t,"string");return _0(e)=="symbol"?e:e+""}function N6e(t,e){if(_0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _6e(t,e){return E6e(t)||B6e(t,e)||S6e(t,e)||C6e()}function C6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6e(t,e){if(t){if(typeof t=="string")return nD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nD(t,e)}}function nD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function E6e(t){if(Array.isArray(t))return t}var Bk=k.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,A=t.minHeight,h=t.maxHeight,f=t.children,g=t.debounce,x=g===void 0?0:g,m=t.id,p=t.className,y=t.onResize,w=t.style,S=w===void 0?{}:w,j=k.useRef(null),_=k.useRef();_.current=y,k.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var F=k.useState({containerWidth:a.width,containerHeight:a.height}),C=_6e(F,2),E=C[0],T=C[1],v=k.useCallback(function(O,L){T(function(Q){var D=Math.round(O),U=Math.round(L);return Q.containerWidth===D&&Q.containerHeight===U?Q:{containerWidth:D,containerHeight:U}})},[]);k.useEffect(function(){var O=function(z){var Y,X=z[0].contentRect,$=X.width,M=X.height;v($,M),(Y=_.current)===null||Y===void 0||Y.call(_,$,M)};x>0&&(O=HV(O,x,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),Q=j.current.getBoundingClientRect(),D=Q.width,U=Q.height;return v(D,U),L.observe(j.current),function(){L.disconnect()}},[v,x]);var N=k.useMemo(function(){var O=E.containerWidth,L=E.containerHeight;if(O<0||L<0)return null;ro(vu(o)||vu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ro(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=vu(o)?O:o,D=vu(c)?L:c;r&&r>0&&(Q?D=Q/r:D&&(Q=D*r),h&&D>h&&(D=h)),ro(Q>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,D,o,c,u,A,r);var U=!Array.isArray(f)&&El(f.type).endsWith("Chart");return be.Children.map(f,function(R){return be.isValidElement(R)?k.cloneElement(R,Lv({width:Q,height:D},U?{style:Lv({height:"100%",width:"100%",maxHeight:D,maxWidth:Q},R.props.style)}:{})):R})},[r,f,c,h,A,u,E,o]);return be.createElement("div",{id:m?"".concat(m):void 0,className:Rt("recharts-responsive-container",p),style:Lv(Lv({},S),{},{width:o,height:c,minWidth:u,minHeight:A,maxHeight:h}),ref:j},N)}),Nx=function(e){return null};Nx.displayName="Cell";function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function sD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(r),!0).forEach(function(n){k6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k6e(t,e,r){return e=F6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F6e(t){var e=P6e(t,"string");return C0(e)=="symbol"?e:e+""}function P6e(t,e){if(C0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ah={widthCache:{},cacheCount:0},T6e=2e3,O6e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aD="recharts_measurement_span";function I6e(t){var e=QS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var _g=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pm.isSsr)return{width:0,height:0};var n=I6e(r),a=JSON.stringify({text:e,copyStyle:n});if(ah.widthCache[a])return ah.widthCache[a];try{var i=document.getElementById(aD);i||(i=document.createElement("span"),i.setAttribute("id",aD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=QS(QS({},O6e),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ah.widthCache[a]=c,++ah.cacheCount>T6e&&(ah.cacheCount=0,ah.widthCache={}),c}catch{return{width:0,height:0}}},L6e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function qw(t,e){return R6e(t)||U6e(t,e)||D6e(t,e)||M6e()}function M6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6e(t,e){if(t){if(typeof t=="string")return iD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iD(t,e)}}function iD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function R6e(t){if(Array.isArray(t))return t}function Q6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H6e(n.key),n)}}function $6e(t,e,r){return e&&oD(t.prototype,e),r&&oD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H6e(t){var e=z6e(t,"string");return S0(e)=="symbol"?e:e+""}function z6e(t,e){if(S0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,V6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},K6e=Object.keys(zV),Lh="NaN";function W6e(t,e){return t*zV[e]}var Mv=function(){function t(e,r){Q6e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!q6e.test(r)&&(this.num=NaN,this.unit=""),K6e.includes(r)&&(this.num=W6e(e,r),this.unit="px")}return $6e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=V6e.exec(r))!==null&&n!==void 0?n:[],i=qw(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function qV(t){if(t.includes(Lh))return Lh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=lD.exec(e))!==null&&r!==void 0?r:[],a=qw(n,4),i=a[1],o=a[2],l=a[3],c=Mv.parse(i??""),d=Mv.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Lh;e=e.replace(lD,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var A,h=(A=cD.exec(e))!==null&&A!==void 0?A:[],f=qw(h,4),g=f[1],x=f[2],m=f[3],p=Mv.parse(g??""),y=Mv.parse(m??""),w=x==="+"?p.add(y):p.subtract(y);if(w.isNaN())return Lh;e=e.replace(cD,w.toString())}return e}var dD=/\(([^()]*)\)/;function G6e(t){for(var e=t;e.includes("(");){var r=dD.exec(e),n=qw(r,2),a=n[1];e=e.replace(dD,qV(a))}return e}function X6e(t){var e=t.replace(/\s+/g,"");return e=G6e(e),e=qV(e),e}function Y6e(t){try{return X6e(t)}catch{return Lh}}function w5(t){var e=Y6e(t.slice(5,-1));return e===Lh?"":e}var J6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Z6e=["dx","dy","angle","className","breakAll"];function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$S.apply(this,arguments)}function uD(t,e){if(t==null)return{};var r=eFe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AD(t,e){return sFe(t)||nFe(t,e)||rFe(t,e)||tFe()}function tFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rFe(t,e){if(t){if(typeof t=="string")return hD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hD(t,e)}}function hD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function sFe(t){if(Array.isArray(t))return t}var VV=/[ \f\n\r\t\v\u2028\u2029]+/,KV=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];$t(r)||(n?i=r.toString().split(""):i=r.toString().split(VV));var o=i.map(function(c){return{word:c,width:_g(c,a).width}}),l=n?0:_g(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aFe=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=Ye(o),A=l,h=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(D,U){var R=U.word,z=U.width,Y=D[D.length-1];if(Y&&(a==null||i||Y.width+z+n<Number(a)))Y.words.push(R),Y.width+=z+n;else{var X={words:[R],width:z};D.push(X)}return D},[])},f=h(r),g=function(Q){return Q.reduce(function(D,U){return D.width>U.width?D:U})};if(!u)return f;for(var x="…",m=function(Q){var D=A.slice(0,Q),U=KV({breakAll:d,style:c,children:D+x}).wordsWithComputedWidth,R=h(U),z=R.length>o||g(R).width>Number(a);return[z,R]},p=0,y=A.length-1,w=0,S;p<=y&&w<=A.length-1;){var j=Math.floor((p+y)/2),_=j-1,F=m(_),C=AD(F,2),E=C[0],T=C[1],v=m(j),N=AD(v,1),O=N[0];if(!E&&!O&&(p=j+1),E&&O&&(y=j-1),!E&&O){S=T;break}w++}return S||f},fD=function(e){var r=$t(e)?[]:e.toString().split(VV);return[{words:r}]},iFe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!pm.isSsr){var c,d,u=KV({breakAll:o,children:a,style:i});if(u){var A=u.wordsWithComputedWidth,h=u.spaceWidth;c=A,d=h}else return fD(a);return aFe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,n)}return fD(a)},mD="#808080",Xu=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,A=u===void 0?!1:u,h=e.textAnchor,f=h===void 0?"start":h,g=e.verticalAnchor,x=g===void 0?"end":g,m=e.fill,p=m===void 0?mD:m,y=uD(e,J6e),w=k.useMemo(function(){return iFe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:A,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,A,y.style,y.width]),S=y.dx,j=y.dy,_=y.angle,F=y.className,C=y.breakAll,E=uD(y,Z6e);if(!Hn(n)||!Hn(i))return null;var T=n+(Ye(S)?S:0),v=i+(Ye(j)?j:0),N;switch(x){case"start":N=w5("calc(".concat(d,")"));break;case"middle":N=w5("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:N=w5("calc(".concat(w.length-1," * -").concat(l,")"));break}var O=[];if(A){var L=w[0].width,Q=y.width;O.push("scale(".concat((Ye(Q)?Q/L:1)/L,")"))}return _&&O.push("rotate(".concat(_,", ").concat(T,", ").concat(v,")")),O.length&&(E.transform=O.join(" ")),be.createElement("text",$S({},Ct(E,!0),{x:T,y:v,className:Rt("recharts-text",F),textAnchor:f,fill:p.includes("url")?mD:p}),w.map(function(D,U){var R=D.words.join(C?"":" ");return be.createElement("tspan",{x:T,dy:U===0?N:l,key:"".concat(R,"-").concat(U)},R)}))};function sd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oFe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ek(t){let e,r,n;t.length!==2?(e=sd,r=(l,c)=>sd(t(l),c),n=(l,c)=>t(l)-c):(e=t===sd||t===oFe?t:lFe,r=t,n=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<0?d=A+1:u=A}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<=0?d=A+1:u=A}while(d<u)}return d}function o(l,c,d=0,u=l.length){const A=a(l,c,d,u-1);return A>d&&n(l[A-1],c)>-n(l[A],c)?A-1:A}return{left:a,center:o,right:i}}function lFe(){return 0}function WV(t){return t===null?NaN:+t}function*cFe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const dFe=Ek(sd),_x=dFe.right;Ek(WV).center;class pD extends Map{constructor(e,r=hFe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(gD(this,e))}has(e){return super.has(gD(this,e))}set(e,r){return super.set(uFe(this,e),r)}delete(e){return super.delete(AFe(this,e))}}function gD({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function uFe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function AFe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function hFe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fFe(t=sd){if(t===sd)return GV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function GV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mFe=Math.sqrt(50),pFe=Math.sqrt(10),gFe=Math.sqrt(2);function Vw(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=mFe?10:i>=pFe?5:i>=gFe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?Vw(t,e,r*2):[l,c,d]}function HS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Vw(e,t,r):Vw(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function zS(t,e,r){return e=+e,t=+t,r=+r,Vw(t,e,r)[2]}function qS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?zS(e,t,r):zS(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function xD(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function yD(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function XV(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?GV:fFe(a);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,u=Math.log(c),A=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*A*(c-A)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(e-d*A/c+h)),g=Math.min(n,Math.floor(e+(c-d)*A/c+h));XV(t,e,f,g,a)}const i=t[e];let o=r,l=n;for(bp(t,r,e),a(t[n],i)>0&&bp(t,r,n);o<l;){for(bp(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?bp(t,r,l):(++l,bp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function bp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xFe(t,e,r){if(t=Float64Array.from(cFe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return yD(t);if(e>=1)return xD(t);var n,a=(n-1)*e,i=Math.floor(a),o=xD(XV(t,i).subarray(0,i+1)),l=yD(t.subarray(i+1));return o+(l-o)*(a-i)}}function yFe(t,e,r=WV){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function vFe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Ci(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const VS=Symbol("implicit");function kk(){var t=new pD,e=[],r=[],n=VS;function a(i){let o=t.get(i);if(o===void 0){if(n!==VS)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new pD;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kk(e,r).unknown(n)},Ci.apply(a,arguments),a}function B0(){var t=kk().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function A(){var h=e().length,f=a<n,g=f?a:n,x=f?n:a;i=(x-g)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),g+=(x-g-i*(h-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var m=vFe(h).map(function(p){return g+i*p});return r(f?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),A()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,A()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,A()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,A()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),A()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),A()):c},t.paddingOuter=function(h){return arguments.length?(d=+h,A()):d},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),A()):u},t.copy=function(){return B0(e(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Ci.apply(A(),arguments)}function YV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return YV(e())},t}function Cg(){return YV(B0.apply(null,arguments).paddingInner(1))}function Fk(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function JV(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Cx(){}var E0=.7,Kw=1/E0,df="\\s*([+-]?\\d+)\\s*",k0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bFe=/^#([0-9a-f]{3,8})$/,wFe=new RegExp(`^rgb\\(${df},${df},${df}\\)$`),jFe=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),NFe=new RegExp(`^rgba\\(${df},${df},${df},${k0}\\)$`),_Fe=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${k0}\\)$`),CFe=new RegExp(`^hsl\\(${k0},${Uo},${Uo}\\)$`),SFe=new RegExp(`^hsla\\(${k0},${Uo},${Uo},${k0}\\)$`),vD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fk(Cx,F0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bD,formatHex:bD,formatHex8:BFe,formatHsl:EFe,formatRgb:wD,toString:wD});function bD(){return this.rgb().formatHex()}function BFe(){return this.rgb().formatHex8()}function EFe(){return ZV(this).formatHsl()}function wD(){return this.rgb().formatRgb()}function F0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=bFe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?jD(e):r===3?new xa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Dv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Dv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wFe.exec(t))?new xa(e[1],e[2],e[3],1):(e=jFe.exec(t))?new xa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NFe.exec(t))?Dv(e[1],e[2],e[3],e[4]):(e=_Fe.exec(t))?Dv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=CFe.exec(t))?CD(e[1],e[2]/100,e[3]/100,1):(e=SFe.exec(t))?CD(e[1],e[2]/100,e[3]/100,e[4]):vD.hasOwnProperty(t)?jD(vD[t]):t==="transparent"?new xa(NaN,NaN,NaN,0):null}function jD(t){return new xa(t>>16&255,t>>8&255,t&255,1)}function Dv(t,e,r,n){return n<=0&&(t=e=r=NaN),new xa(t,e,r,n)}function kFe(t){return t instanceof Cx||(t=F0(t)),t?(t=t.rgb(),new xa(t.r,t.g,t.b,t.opacity)):new xa}function KS(t,e,r,n){return arguments.length===1?kFe(t):new xa(t,e,r,n??1)}function xa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Fk(xa,KS,JV(Cx,{brighter(t){return t=t==null?Kw:Math.pow(Kw,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?E0:Math.pow(E0,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xa(Lu(this.r),Lu(this.g),Lu(this.b),Ww(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ND,formatHex:ND,formatHex8:FFe,formatRgb:_D,toString:_D}));function ND(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}`}function FFe(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}${bu((isNaN(this.opacity)?1:this.opacity)*255)}`}function _D(){const t=Ww(this.opacity);return`${t===1?"rgb(":"rgba("}${Lu(this.r)}, ${Lu(this.g)}, ${Lu(this.b)}${t===1?")":`, ${t})`}`}function Ww(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bu(t){return t=Lu(t),(t<16?"0":"")+t.toString(16)}function CD(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Yi(t,e,r,n)}function ZV(t){if(t instanceof Yi)return new Yi(t.h,t.s,t.l,t.opacity);if(t instanceof Cx||(t=F0(t)),!t)return new Yi;if(t instanceof Yi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Yi(o,l,c,t.opacity)}function PFe(t,e,r,n){return arguments.length===1?ZV(t):new Yi(t,e,r,n??1)}function Yi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Fk(Yi,PFe,JV(Cx,{brighter(t){return t=t==null?Kw:Math.pow(Kw,t),new Yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?E0:Math.pow(E0,t),new Yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new xa(j5(t>=240?t-240:t+120,a,n),j5(t,a,n),j5(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Yi(SD(this.h),Uv(this.s),Uv(this.l),Ww(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ww(this.opacity);return`${t===1?"hsl(":"hsla("}${SD(this.h)}, ${Uv(this.s)*100}%, ${Uv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SD(t){return t=(t||0)%360,t<0?t+360:t}function Uv(t){return Math.max(0,Math.min(1,t||0))}function j5(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Pk=t=>()=>t;function TFe(t,e){return function(r){return t+r*e}}function OFe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function IFe(t){return(t=+t)==1?eK:function(e,r){return r-e?OFe(e,r,t):Pk(isNaN(e)?r:e)}}function eK(t,e){var r=e-t;return r?TFe(t,r):Pk(isNaN(t)?e:t)}const BD=function t(e){var r=IFe(e);function n(a,i){var o=r((a=KS(a)).r,(i=KS(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=eK(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=t,n}(1);function LFe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function MFe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function DFe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=gm(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function UFe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Gw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function RFe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=gm(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var WS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N5=new RegExp(WS.source,"g");function QFe(t){return function(){return t}}function $Fe(t){return function(e){return t(e)+""}}function HFe(t,e){var r=WS.lastIndex=N5.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=WS.exec(t))&&(a=N5.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Gw(n,a)})),r=N5.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?$Fe(c[0].x):QFe(e):(e=c.length,function(d){for(var u=0,A;u<e;++u)l[(A=c[u]).i]=A.x(d);return l.join("")})}function gm(t,e){var r=typeof e,n;return e==null||r==="boolean"?Pk(e):(r==="number"?Gw:r==="string"?(n=F0(e))?(e=n,BD):HFe:e instanceof F0?BD:e instanceof Date?UFe:MFe(e)?LFe:Array.isArray(e)?DFe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RFe:Gw)(t,e)}function Tk(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function zFe(t,e){e===void 0&&(e=t,t=gm);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function qFe(t){return function(){return t}}function Xw(t){return+t}var ED=[0,1];function Gs(t){return t}function GS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:qFe(isNaN(e)?NaN:.5)}function VFe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function KFe(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=GS(a,n),i=r(o,i)):(n=GS(n,a),i=r(i,o)),function(l){return i(n(l))}}function WFe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=GS(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=_x(t,l,1,n)-1;return i[c](a[c](l))}}function Sx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rj(){var t=ED,e=ED,r=gm,n,a,i,o=Gs,l,c,d;function u(){var h=Math.min(t.length,e.length);return o!==Gs&&(o=VFe(t[0],t[h-1])),l=h>2?WFe:KFe,c=d=null,A}function A(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return A.invert=function(h){return o(a((d||(d=l(e,t.map(n),Gw)))(h)))},A.domain=function(h){return arguments.length?(t=Array.from(h,Xw),u()):t.slice()},A.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},A.rangeRound=function(h){return e=Array.from(h),r=Tk,u()},A.clamp=function(h){return arguments.length?(o=h?!0:Gs,u()):o!==Gs},A.interpolate=function(h){return arguments.length?(r=h,u()):r},A.unknown=function(h){return arguments.length?(i=h,A):i},function(h,f){return n=h,a=f,u()}}function Ok(){return rj()(Gs,Gs)}function GFe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Pf(t){return t=Yw(Math.abs(t)),t?t[1]:NaN}function XFe(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function YFe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var JFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function P0(t){if(!(e=JFe.exec(t)))throw new Error("invalid format: "+t);var e;return new Ik({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}P0.prototype=Ik.prototype;function Ik(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ik.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZFe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var tK;function ePe(t,e){var r=Yw(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(tK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Yw(t,Math.max(0,e+i-1))[0]}function kD(t,e){var r=Yw(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const FD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GFe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kD(t*100,e),r:kD,s:ePe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PD(t){return t}var TD=Array.prototype.map,OD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tPe(t){var e=t.grouping===void 0||t.thousands===void 0?PD:XFe(TD.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?PD:YFe(TD.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(A){A=P0(A);var h=A.fill,f=A.align,g=A.sign,x=A.symbol,m=A.zero,p=A.width,y=A.comma,w=A.precision,S=A.trim,j=A.type;j==="n"?(y=!0,j="g"):FD[j]||(w===void 0&&(w=12),S=!0,j="g"),(m||h==="0"&&f==="=")&&(m=!0,h="0",f="=");var _=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",F=x==="$"?n:/[%p]/.test(j)?o:"",C=FD[j],E=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(v){var N=_,O=F,L,Q,D;if(j==="c")O=C(v)+O,v="";else{v=+v;var U=v<0||1/v<0;if(v=isNaN(v)?c:C(Math.abs(v),w),S&&(v=ZFe(v)),U&&+v==0&&g!=="+"&&(U=!1),N=(U?g==="("?g:l:g==="-"||g==="("?"":g)+N,O=(j==="s"?OD[8+tK/3]:"")+O+(U&&g==="("?")":""),E){for(L=-1,Q=v.length;++L<Q;)if(D=v.charCodeAt(L),48>D||D>57){O=(D===46?a+v.slice(L+1):v.slice(L))+O,v=v.slice(0,L);break}}}y&&!m&&(v=e(v,1/0));var R=N.length+v.length+O.length,z=R<p?new Array(p-R+1).join(h):"";switch(y&&m&&(v=e(z+v,z.length?p-O.length:1/0),z=""),f){case"<":v=N+v+O+z;break;case"=":v=N+z+v+O;break;case"^":v=z.slice(0,R=z.length>>1)+N+v+O+z.slice(R);break;default:v=z+N+v+O;break}return i(v)}return T.toString=function(){return A+""},T}function u(A,h){var f=d((A=P0(A),A.type="f",A)),g=Math.max(-8,Math.min(8,Math.floor(Pf(h)/3)))*3,x=Math.pow(10,-g),m=OD[8+g/3];return function(p){return f(x*p)+m}}return{format:d,formatPrefix:u}}var Rv,Lk,rK;rPe({thousands:",",grouping:[3],currency:["$",""]});function rPe(t){return Rv=tPe(t),Lk=Rv.format,rK=Rv.formatPrefix,Rv}function nPe(t){return Math.max(0,-Pf(Math.abs(t)))}function sPe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pf(e)/3)))*3-Pf(Math.abs(t)))}function aPe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pf(e)-Pf(t))+1}function nK(t,e,r,n){var a=qS(t,e,r),i;switch(n=P0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=sPe(a,o))&&(n.precision=i),rK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aPe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=nPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return Lk(n)}function wd(t){var e=t.domain;return t.ticks=function(r){var n=e();return HS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return nK(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=zS(o,l,r),d===c)return n[a]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Jw(){var t=Ok();return t.copy=function(){return Sx(t,Jw())},Ci.apply(t,arguments),wd(t)}function sK(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return sK(t).unknown(e)},t=arguments.length?Array.from(t,Xw):[0,1],wd(r)}function aK(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function ID(t){return Math.log(t)}function LD(t){return Math.exp(t)}function iPe(t){return-Math.log(-t)}function oPe(t){return-Math.exp(-t)}function lPe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cPe(t){return t===10?lPe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dPe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function MD(t){return(e,r)=>-t(-e,r)}function Mk(t){const e=t(ID,LD),r=e.domain;let n=10,a,i;function o(){return a=dPe(n),i=cPe(n),r()[0]<0?(a=MD(a),i=MD(i),t(iPe,oPe)):t(ID,LD),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const A=u<d;A&&([d,u]=[u,d]);let h=a(d),f=a(u),g,x;const m=l==null?10:+l;let p=[];if(!(n%1)&&f-h<m){if(h=Math.floor(h),f=Math.ceil(f),d>0){for(;h<=f;++h)for(g=1;g<n;++g)if(x=h<0?g/i(-h):g*i(h),!(x<d)){if(x>u)break;p.push(x)}}else for(;h<=f;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/i(-h):g*i(h),!(x<d)){if(x>u)break;p.push(x)}p.length*2<m&&(p=HS(d,u,m))}else p=HS(h,f,Math.min(f-h,m)).map(i);return A?p.reverse():p},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=P0(c)).precision==null&&(c.trim=!0),c=Lk(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return u=>{let A=u/i(Math.round(a(u)));return A*n<n-.5&&(A*=n),A<=d?c(u):""}},e.nice=()=>r(aK(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function iK(){const t=Mk(rj()).domain([1,10]);return t.copy=()=>Sx(t,iK()).base(t.base()),Ci.apply(t,arguments),t}function DD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function UD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Dk(t){var e=1,r=t(DD(e),UD(e));return r.constant=function(n){return arguments.length?t(DD(e=+n),UD(e)):e},wd(r)}function oK(){var t=Dk(rj());return t.copy=function(){return Sx(t,oK()).constant(t.constant())},Ci.apply(t,arguments)}function RD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uPe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function APe(t){return t<0?-t*t:t*t}function Uk(t){var e=t(Gs,Gs),r=1;function n(){return r===1?t(Gs,Gs):r===.5?t(uPe,APe):t(RD(r),RD(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},wd(e)}function Rk(){var t=Uk(rj());return t.copy=function(){return Sx(t,Rk()).exponent(t.exponent())},Ci.apply(t,arguments),t}function hPe(){return Rk.apply(null,arguments).exponent(.5)}function QD(t){return Math.sign(t)*t*t}function fPe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lK(){var t=Ok(),e=[0,1],r=!1,n;function a(i){var o=fPe(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(QD(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Xw)).map(QD)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lK(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ci.apply(a,arguments),wd(a)}function cK(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=yFe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[_x(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(sd),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return cK().domain(t).range(e).unknown(n)},Ci.apply(i,arguments)}function dK(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[_x(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return dK().domain([t,e]).range(a).unknown(i)},Ci.apply(wd(o),arguments)}function uK(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[_x(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uK().domain(t).range(e).unknown(r)},Ci.apply(a,arguments)}const _5=new Date,C5=new Date;function Vn(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>Vn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(_5.setTime(+i),C5.setTime(+o),t(_5),t(C5),Math.floor(r(_5,C5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Zw=Vn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Zw);Zw.range;const Nl=1e3,pi=Nl*60,_l=pi*60,Ql=_l*24,Qk=Ql*7,$D=Ql*30,S5=Ql*365,wu=Vn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCSeconds());wu.range;const $k=Vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nl)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getMinutes());$k.range;const Hk=Vn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getUTCMinutes());Hk.range;const zk=Vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nl-t.getMinutes()*pi)},(t,e)=>{t.setTime(+t+e*_l)},(t,e)=>(e-t)/_l,t=>t.getHours());zk.range;const qk=Vn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_l)},(t,e)=>(e-t)/_l,t=>t.getUTCHours());qk.range;const Bx=Vn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pi)/Ql,t=>t.getDate()-1);Bx.range;const nj=Vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ql,t=>t.getUTCDate()-1);nj.range;const AK=Vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ql,t=>Math.floor(t/Ql));AK.range;function dA(t){return Vn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*pi)/Qk)}const sj=dA(0),e1=dA(1),mPe=dA(2),pPe=dA(3),Tf=dA(4),gPe=dA(5),xPe=dA(6);sj.range;e1.range;mPe.range;pPe.range;Tf.range;gPe.range;xPe.range;function uA(t){return Vn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Qk)}const aj=uA(0),t1=uA(1),yPe=uA(2),vPe=uA(3),Of=uA(4),bPe=uA(5),wPe=uA(6);aj.range;t1.range;yPe.range;vPe.range;Of.range;bPe.range;wPe.range;const Vk=Vn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Vk.range;const Kk=Vn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Kk.range;const $l=Vn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$l.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$l.range;const Hl=Vn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Hl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Hl.range;function hK(t,e,r,n,a,i){const o=[[wu,1,Nl],[wu,5,5*Nl],[wu,15,15*Nl],[wu,30,30*Nl],[i,1,pi],[i,5,5*pi],[i,15,15*pi],[i,30,30*pi],[a,1,_l],[a,3,3*_l],[a,6,6*_l],[a,12,12*_l],[n,1,Ql],[n,2,2*Ql],[r,1,Qk],[e,1,$D],[e,3,3*$D],[t,1,S5]];function l(d,u,A){const h=u<d;h&&([d,u]=[u,d]);const f=A&&typeof A.range=="function"?A:c(d,u,A),g=f?f.range(d,+u+1):[];return h?g.reverse():g}function c(d,u,A){const h=Math.abs(u-d)/A,f=Ek(([,,m])=>m).right(o,h);if(f===o.length)return t.every(qS(d/S5,u/S5,A));if(f===0)return Zw.every(Math.max(qS(d,u,A),1));const[g,x]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(x)}return[l,c]}const[jPe,NPe]=hK(Hl,Kk,aj,AK,qk,Hk),[_Pe,CPe]=hK($l,Vk,sj,Bx,zk,$k);function B5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function E5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function SPe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=jp(a),u=Np(a),A=jp(i),h=Np(i),f=jp(o),g=Np(o),x=jp(l),m=Np(l),p=jp(c),y=Np(c),w={a:U,A:R,b:z,B:Y,c:null,d:WD,e:WD,f:XPe,g:iTe,G:lTe,H:KPe,I:WPe,j:GPe,L:fK,m:YPe,M:JPe,p:X,q:$,Q:YD,s:JD,S:ZPe,u:eTe,U:tTe,V:rTe,w:nTe,W:sTe,x:null,X:null,y:aTe,Y:oTe,Z:cTe,"%":XD},S={a:M,A:G,b:V,B:ae,c:null,d:GD,e:GD,f:hTe,g:jTe,G:_Te,H:dTe,I:uTe,j:ATe,L:pK,m:fTe,M:mTe,p:Ae,q:re,Q:YD,s:JD,S:pTe,u:gTe,U:xTe,V:yTe,w:vTe,W:bTe,x:null,X:null,y:wTe,Y:NTe,Z:CTe,"%":XD},j={a:T,A:v,b:N,B:O,c:L,d:VD,e:VD,f:HPe,g:qD,G:zD,H:KD,I:KD,j:UPe,L:$Pe,m:DPe,M:RPe,p:E,q:MPe,Q:qPe,s:VPe,S:QPe,u:PPe,U:TPe,V:OPe,w:FPe,W:IPe,x:Q,X:D,y:qD,Y:zD,Z:LPe,"%":zPe};w.x=_(r,w),w.X=_(n,w),w.c=_(e,w),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(ie,ce){return function(Z){var me=[],Me=-1,Re=0,ye=ie.length,q,Ee,Oe;for(Z instanceof Date||(Z=new Date(+Z));++Me<ye;)ie.charCodeAt(Me)===37&&(me.push(ie.slice(Re,Me)),(Ee=HD[q=ie.charAt(++Me)])!=null?q=ie.charAt(++Me):Ee=q==="e"?" ":"0",(Oe=ce[q])&&(q=Oe(Z,Ee)),me.push(q),Re=Me+1);return me.push(ie.slice(Re,Me)),me.join("")}}function F(ie,ce){return function(Z){var me=wp(1900,void 0,1),Me=C(me,ie,Z+="",0),Re,ye;if(Me!=Z.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(ce&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Re=E5(wp(me.y,0,1)),ye=Re.getUTCDay(),Re=ye>4||ye===0?t1.ceil(Re):t1(Re),Re=nj.offset(Re,(me.V-1)*7),me.y=Re.getUTCFullYear(),me.m=Re.getUTCMonth(),me.d=Re.getUTCDate()+(me.w+6)%7):(Re=B5(wp(me.y,0,1)),ye=Re.getDay(),Re=ye>4||ye===0?e1.ceil(Re):e1(Re),Re=Bx.offset(Re,(me.V-1)*7),me.y=Re.getFullYear(),me.m=Re.getMonth(),me.d=Re.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),ye="Z"in me?E5(wp(me.y,0,1)).getUTCDay():B5(wp(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(ye+5)%7:me.w+me.U*7-(ye+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,E5(me)):B5(me)}}function C(ie,ce,Z,me){for(var Me=0,Re=ce.length,ye=Z.length,q,Ee;Me<Re;){if(me>=ye)return-1;if(q=ce.charCodeAt(Me++),q===37){if(q=ce.charAt(Me++),Ee=j[q in HD?ce.charAt(Me++):q],!Ee||(me=Ee(ie,Z,me))<0)return-1}else if(q!=Z.charCodeAt(me++))return-1}return me}function E(ie,ce,Z){var me=d.exec(ce.slice(Z));return me?(ie.p=u.get(me[0].toLowerCase()),Z+me[0].length):-1}function T(ie,ce,Z){var me=f.exec(ce.slice(Z));return me?(ie.w=g.get(me[0].toLowerCase()),Z+me[0].length):-1}function v(ie,ce,Z){var me=A.exec(ce.slice(Z));return me?(ie.w=h.get(me[0].toLowerCase()),Z+me[0].length):-1}function N(ie,ce,Z){var me=p.exec(ce.slice(Z));return me?(ie.m=y.get(me[0].toLowerCase()),Z+me[0].length):-1}function O(ie,ce,Z){var me=x.exec(ce.slice(Z));return me?(ie.m=m.get(me[0].toLowerCase()),Z+me[0].length):-1}function L(ie,ce,Z){return C(ie,e,ce,Z)}function Q(ie,ce,Z){return C(ie,r,ce,Z)}function D(ie,ce,Z){return C(ie,n,ce,Z)}function U(ie){return o[ie.getDay()]}function R(ie){return i[ie.getDay()]}function z(ie){return c[ie.getMonth()]}function Y(ie){return l[ie.getMonth()]}function X(ie){return a[+(ie.getHours()>=12)]}function $(ie){return 1+~~(ie.getMonth()/3)}function M(ie){return o[ie.getUTCDay()]}function G(ie){return i[ie.getUTCDay()]}function V(ie){return c[ie.getUTCMonth()]}function ae(ie){return l[ie.getUTCMonth()]}function Ae(ie){return a[+(ie.getUTCHours()>=12)]}function re(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ce=_(ie+="",w);return ce.toString=function(){return ie},ce},parse:function(ie){var ce=F(ie+="",!1);return ce.toString=function(){return ie},ce},utcFormat:function(ie){var ce=_(ie+="",S);return ce.toString=function(){return ie},ce},utcParse:function(ie){var ce=F(ie+="",!0);return ce.toString=function(){return ie},ce}}}var HD={"-":"",_:" ",0:"0"},ns=/^\s*\d+/,BPe=/^%/,EPe=/[\\^$*+?|[\]().{}]/g;function Zt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function kPe(t){return t.replace(EPe,"\\$&")}function jp(t){return new RegExp("^(?:"+t.map(kPe).join("|")+")","i")}function Np(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function FPe(t,e,r){var n=ns.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function PPe(t,e,r){var n=ns.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function TPe(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function OPe(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function IPe(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function zD(t,e,r){var n=ns.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function qD(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LPe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function MPe(t,e,r){var n=ns.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function DPe(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function VD(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function UPe(t,e,r){var n=ns.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function KD(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function RPe(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function QPe(t,e,r){var n=ns.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $Pe(t,e,r){var n=ns.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function HPe(t,e,r){var n=ns.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zPe(t,e,r){var n=BPe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function qPe(t,e,r){var n=ns.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function VPe(t,e,r){var n=ns.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function WD(t,e){return Zt(t.getDate(),e,2)}function KPe(t,e){return Zt(t.getHours(),e,2)}function WPe(t,e){return Zt(t.getHours()%12||12,e,2)}function GPe(t,e){return Zt(1+Bx.count($l(t),t),e,3)}function fK(t,e){return Zt(t.getMilliseconds(),e,3)}function XPe(t,e){return fK(t,e)+"000"}function YPe(t,e){return Zt(t.getMonth()+1,e,2)}function JPe(t,e){return Zt(t.getMinutes(),e,2)}function ZPe(t,e){return Zt(t.getSeconds(),e,2)}function eTe(t){var e=t.getDay();return e===0?7:e}function tTe(t,e){return Zt(sj.count($l(t)-1,t),e,2)}function mK(t){var e=t.getDay();return e>=4||e===0?Tf(t):Tf.ceil(t)}function rTe(t,e){return t=mK(t),Zt(Tf.count($l(t),t)+($l(t).getDay()===4),e,2)}function nTe(t){return t.getDay()}function sTe(t,e){return Zt(e1.count($l(t)-1,t),e,2)}function aTe(t,e){return Zt(t.getFullYear()%100,e,2)}function iTe(t,e){return t=mK(t),Zt(t.getFullYear()%100,e,2)}function oTe(t,e){return Zt(t.getFullYear()%1e4,e,4)}function lTe(t,e){var r=t.getDay();return t=r>=4||r===0?Tf(t):Tf.ceil(t),Zt(t.getFullYear()%1e4,e,4)}function cTe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zt(e/60|0,"0",2)+Zt(e%60,"0",2)}function GD(t,e){return Zt(t.getUTCDate(),e,2)}function dTe(t,e){return Zt(t.getUTCHours(),e,2)}function uTe(t,e){return Zt(t.getUTCHours()%12||12,e,2)}function ATe(t,e){return Zt(1+nj.count(Hl(t),t),e,3)}function pK(t,e){return Zt(t.getUTCMilliseconds(),e,3)}function hTe(t,e){return pK(t,e)+"000"}function fTe(t,e){return Zt(t.getUTCMonth()+1,e,2)}function mTe(t,e){return Zt(t.getUTCMinutes(),e,2)}function pTe(t,e){return Zt(t.getUTCSeconds(),e,2)}function gTe(t){var e=t.getUTCDay();return e===0?7:e}function xTe(t,e){return Zt(aj.count(Hl(t)-1,t),e,2)}function gK(t){var e=t.getUTCDay();return e>=4||e===0?Of(t):Of.ceil(t)}function yTe(t,e){return t=gK(t),Zt(Of.count(Hl(t),t)+(Hl(t).getUTCDay()===4),e,2)}function vTe(t){return t.getUTCDay()}function bTe(t,e){return Zt(t1.count(Hl(t)-1,t),e,2)}function wTe(t,e){return Zt(t.getUTCFullYear()%100,e,2)}function jTe(t,e){return t=gK(t),Zt(t.getUTCFullYear()%100,e,2)}function NTe(t,e){return Zt(t.getUTCFullYear()%1e4,e,4)}function _Te(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Of(t):Of.ceil(t),Zt(t.getUTCFullYear()%1e4,e,4)}function CTe(){return"+0000"}function XD(){return"%"}function YD(t){return+t}function JD(t){return Math.floor(+t/1e3)}var ih,xK,yK;STe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function STe(t){return ih=SPe(t),xK=ih.format,ih.parse,yK=ih.utcFormat,ih.utcParse,ih}function BTe(t){return new Date(t)}function ETe(t){return t instanceof Date?+t:+new Date(+t)}function Wk(t,e,r,n,a,i,o,l,c,d){var u=Ok(),A=u.invert,h=u.domain,f=d(".%L"),g=d(":%S"),x=d("%I:%M"),m=d("%I %p"),p=d("%a %d"),y=d("%b %d"),w=d("%B"),S=d("%Y");function j(_){return(c(_)<_?f:l(_)<_?g:o(_)<_?x:i(_)<_?m:n(_)<_?a(_)<_?p:y:r(_)<_?w:S)(_)}return u.invert=function(_){return new Date(A(_))},u.domain=function(_){return arguments.length?h(Array.from(_,ETe)):h().map(BTe)},u.ticks=function(_){var F=h();return t(F[0],F[F.length-1],_??10)},u.tickFormat=function(_,F){return F==null?j:d(F)},u.nice=function(_){var F=h();return(!_||typeof _.range!="function")&&(_=e(F[0],F[F.length-1],_??10)),_?h(aK(F,_)):u},u.copy=function(){return Sx(u,Wk(t,e,r,n,a,i,o,l,c,d))},u}function kTe(){return Ci.apply(Wk(_Pe,CPe,$l,Vk,sj,Bx,zk,$k,wu,xK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FTe(){return Ci.apply(Wk(jPe,NPe,Hl,Kk,aj,nj,qk,Hk,wu,yK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ij(){var t=0,e=1,r,n,a,i,o=Gs,l=!1,c;function d(A){return A==null||isNaN(A=+A)?c:o(a===0?.5:(A=(i(A)-r)*a,l?Math.max(0,Math.min(1,A)):A))}d.domain=function(A){return arguments.length?([t,e]=A,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(A){return arguments.length?(l=!!A,d):l},d.interpolator=function(A){return arguments.length?(o=A,d):o};function u(A){return function(h){var f,g;return arguments.length?([f,g]=h,o=A(f,g),d):[o(0),o(1)]}}return d.range=u(gm),d.rangeRound=u(Tk),d.unknown=function(A){return arguments.length?(c=A,d):c},function(A){return i=A,r=A(t),n=A(e),a=r===n?0:1/(n-r),d}}function jd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vK(){var t=wd(ij()(Gs));return t.copy=function(){return jd(t,vK())},Jl.apply(t,arguments)}function bK(){var t=Mk(ij()).domain([1,10]);return t.copy=function(){return jd(t,bK()).base(t.base())},Jl.apply(t,arguments)}function wK(){var t=Dk(ij());return t.copy=function(){return jd(t,wK()).constant(t.constant())},Jl.apply(t,arguments)}function Gk(){var t=Uk(ij());return t.copy=function(){return jd(t,Gk()).exponent(t.exponent())},Jl.apply(t,arguments)}function PTe(){return Gk.apply(null,arguments).exponent(.5)}function jK(){var t=[],e=Gs;function r(n){if(n!=null&&!isNaN(n=+n))return e((_x(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(sd),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>xFe(t,i/n))},r.copy=function(){return jK(e).domain(t)},Jl.apply(r,arguments)}function oj(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,d=Gs,u,A=!1,h;function f(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-i)*(n*x<n*i?l:c),d(A?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([t,e,r]=x,a=u(t=+t),i=u(e=+e),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f):[t,e,r]},f.clamp=function(x){return arguments.length?(A=!!x,f):A},f.interpolator=function(x){return arguments.length?(d=x,f):d};function g(x){return function(m){var p,y,w;return arguments.length?([p,y,w]=m,d=zFe(x,[p,y,w]),f):[d(0),d(.5),d(1)]}}return f.range=g(gm),f.rangeRound=g(Tk),f.unknown=function(x){return arguments.length?(h=x,f):h},function(x){return u=x,a=x(t),i=x(e),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f}}function NK(){var t=wd(oj()(Gs));return t.copy=function(){return jd(t,NK())},Jl.apply(t,arguments)}function _K(){var t=Mk(oj()).domain([.1,1,10]);return t.copy=function(){return jd(t,_K()).base(t.base())},Jl.apply(t,arguments)}function CK(){var t=Dk(oj());return t.copy=function(){return jd(t,CK()).constant(t.constant())},Jl.apply(t,arguments)}function Xk(){var t=Uk(oj());return t.copy=function(){return jd(t,Xk()).exponent(t.exponent())},Jl.apply(t,arguments)}function TTe(){return Xk.apply(null,arguments).exponent(.5)}const ZD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:B0,scaleDiverging:NK,scaleDivergingLog:_K,scaleDivergingPow:Xk,scaleDivergingSqrt:TTe,scaleDivergingSymlog:CK,scaleIdentity:sK,scaleImplicit:VS,scaleLinear:Jw,scaleLog:iK,scaleOrdinal:kk,scalePoint:Cg,scalePow:Rk,scaleQuantile:cK,scaleQuantize:dK,scaleRadial:lK,scaleSequential:vK,scaleSequentialLog:bK,scaleSequentialPow:Gk,scaleSequentialQuantile:jK,scaleSequentialSqrt:PTe,scaleSequentialSymlog:wK,scaleSqrt:hPe,scaleSymlog:oK,scaleThreshold:uK,scaleTime:kTe,scaleUtc:FTe,tickFormat:nK},Symbol.toStringTag,{value:"Module"}));var OTe=lm;function ITe(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],o=e(i);if(o!=null&&(l===void 0?o===o&&!OTe(o):r(o,l)))var l=o,c=i}return c}var lj=ITe;function LTe(t,e){return t>e}var SK=LTe,MTe=lj,DTe=SK,UTe=mm;function RTe(t){return t&&t.length?MTe(t,UTe,DTe):void 0}var QTe=RTe;const cj=fr(QTe);function $Te(t,e){return t<e}var BK=$Te,HTe=lj,zTe=BK,qTe=mm;function VTe(t){return t&&t.length?HTe(t,qTe,zTe):void 0}var KTe=VTe;const dj=fr(KTe);var WTe=ck,GTe=Vo,XTe=LV,YTe=ja;function JTe(t,e){var r=YTe(t)?WTe:XTe;return r(t,GTe(e))}var ZTe=JTe,eOe=OV,tOe=ZTe;function rOe(t,e){return eOe(tOe(t,e),1)}var nOe=rOe;const sOe=fr(nOe);var aOe=Nk;function iOe(t,e){return aOe(t,e)}var oOe=iOe;const uj=fr(oOe);var xm=1e9,lOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jk,$r=!0,Ni="[DecimalError] ",Mu=Ni+"Invalid argument: ",Yk=Ni+"Exponent out of range: ",ym=Math.floor,nu=Math.pow,cOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,La,Yn=1e7,Ir=7,EK=9007199254740991,r1=ym(EK/Ir),lt={};lt.absoluteValue=lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};lt.comparedTo=lt.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ir;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};lt.dividedBy=lt.div=function(t){return kl(this,new this.constructor(t))};lt.dividedToIntegerBy=lt.idiv=function(t){var e=this,r=e.constructor;return wr(kl(e,new r(t),0,1),r.precision)};lt.equals=lt.eq=function(t){return!this.cmp(t)};lt.exponent=function(){return Tn(this)};lt.greaterThan=lt.gt=function(t){return this.cmp(t)>0};lt.greaterThanOrEqualTo=lt.gte=function(t){return this.cmp(t)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(t){return this.cmp(t)<0};lt.lessThanOrEqualTo=lt.lte=function(t){return this.cmp(t)<1};lt.logarithm=lt.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(La))throw Error(Ni+"NaN");if(r.s<1)throw Error(Ni+(r.s?"NaN":"-Infinity"));return r.eq(La)?new n(0):($r=!1,e=kl(T0(r,i),T0(t,i),i),$r=!0,wr(e,a))};lt.minus=lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PK(e,t):kK(e,(t.s=-t.s,t))};lt.modulo=lt.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Ni+"NaN");return r.s?($r=!1,e=kl(r,t,0,1).times(t),$r=!0,r.minus(e)):wr(new n(r),a)};lt.naturalExponential=lt.exp=function(){return FK(this)};lt.naturalLogarithm=lt.ln=function(){return T0(this)};lt.negated=lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};lt.plus=lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kK(e,t):PK(e,(t.s=-t.s,t))};lt.precision=lt.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Mu+t);if(e=Tn(a)+1,n=a.d.length-1,r=n*Ir+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};lt.squareRoot=lt.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ni+"NaN")}for(t=Tn(l),$r=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Fo(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=ym((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(kl(l,i,o+2)).times(.5),Fo(i.d).slice(0,o)===(e=Fo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(wr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return $r=!0,wr(n,r)};lt.times=lt.mul=function(t){var e,r,n,a,i,o,l,c,d,u=this,A=u.constructor,h=u.d,f=(t=new A(t)).d;if(!u.s||!t.s)return new A(0);for(t.s*=u.s,r=u.e+t.e,c=h.length,d=f.length,c<d&&(i=h,h=f,f=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+f[n]*h[a-n-1]+e,i[a--]=l%Yn|0,e=l/Yn|0;i[a]=(i[a]+e)%Yn|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,$r?wr(t,A.precision):t};lt.toDecimalPlaces=lt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Qo(t,0,xm),e===void 0?e=n.rounding:Qo(e,0,8),wr(r,t+Tn(r)+1,e))};lt.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Yu(n,!0):(Qo(t,0,xm),e===void 0?e=a.rounding:Qo(e,0,8),n=wr(new a(n),t+1,e),r=Yu(n,!0,t+1)),r};lt.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Yu(a):(Qo(t,0,xm),e===void 0?e=i.rounding:Qo(e,0,8),n=wr(new i(a),t+Tn(a)+1,e),r=Yu(n.abs(),!1,t+Tn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};lt.toInteger=lt.toint=function(){var t=this,e=t.constructor;return wr(new e(t),Tn(t)+1,e.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(La);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ni+"Infinity");return l}if(l.eq(La))return l;if(n=c.precision,t.eq(La))return wr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=EK){for(a=new c(La),e=Math.ceil(n/Ir+4),$r=!1;r%2&&(a=a.times(l),tU(a.d,e)),r=ym(r/2),r!==0;)l=l.times(l),tU(l.d,e);return $r=!0,t.s<0?new c(La).div(a):wr(a,n)}}else if(i<0)throw Error(Ni+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,$r=!1,a=t.times(T0(l,n+d)),$r=!0,a=FK(a),a.s=i,a};lt.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Tn(a),n=Yu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Qo(t,1,xm),e===void 0?e=i.rounding:Qo(e,0,8),a=wr(new i(a),t,e),r=Tn(a),n=Yu(a,t<=r||r<=i.toExpNeg,t)),n};lt.toSignificantDigits=lt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Qo(t,1,xm),e===void 0?e=n.rounding:Qo(e,0,8)),wr(new n(r),t,e)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tn(t),r=t.constructor;return Yu(t,e<=r.toExpNeg||e>=r.toExpPos)};function kK(t,e){var r,n,a,i,o,l,c,d,u=t.constructor,A=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),$r?wr(e,A):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(A/Ir),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Yn|0,c[i]%=Yn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,$r?wr(e,A):e}function Qo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Mu+t)}function Fo(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=Ir-n.length,r&&(i+=Bc(r)),i+=n;o=t[e],n=o+"",r=Ir-n.length,r&&(i+=Bc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var kl=function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Yn|0,o=i/Yn|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Yn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,A,h,f,g,x,m,p,y,w,S,j,_,F,C,E=n.constructor,T=n.s==a.s?1:-1,v=n.d,N=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Ni+"Division by zero");for(c=n.e-a.e,F=N.length,j=v.length,f=new E(T),g=f.d=[],d=0;N[d]==(v[d]||0);)++d;if(N[d]>(v[d]||0)&&--c,i==null?y=i=E.precision:o?y=i+(Tn(n)-Tn(a))+1:y=i,y<0)return new E(0);if(y=y/Ir+2|0,d=0,F==1)for(u=0,N=N[0],y++;(d<j||u)&&y--;d++)w=u*Yn+(v[d]||0),g[d]=w/N|0,u=w%N|0;else{for(u=Yn/(N[0]+1)|0,u>1&&(N=t(N,u),v=t(v,u),F=N.length,j=v.length),S=F,x=v.slice(0,F),m=x.length;m<F;)x[m++]=0;C=N.slice(),C.unshift(0),_=N[0],N[1]>=Yn/2&&++_;do u=0,l=e(N,x,F,m),l<0?(p=x[0],F!=m&&(p=p*Yn+(x[1]||0)),u=p/_|0,u>1?(u>=Yn&&(u=Yn-1),A=t(N,u),h=A.length,m=x.length,l=e(A,x,h,m),l==1&&(u--,r(A,F<h?C:N,h))):(u==0&&(l=u=1),A=N.slice()),h=A.length,h<m&&A.unshift(0),r(x,A,m),l==-1&&(m=x.length,l=e(N,x,F,m),l<1&&(u++,r(x,F<m?C:N,m))),m=x.length):l===0&&(u++,x=[0]),g[d++]=u,l&&x[0]?x[m++]=v[S]||0:(x=[v[S]],m=1);while((S++<j||x[0]!==void 0)&&y--)}return g[0]||g.shift(),f.e=c,wr(f,o?i+Tn(f)+1:i)}}();function FK(t,e){var r,n,a,i,o,l,c=0,d=0,u=t.constructor,A=u.precision;if(Tn(t)>16)throw Error(Yk+Tn(t));if(!t.s)return new u(La);for($r=!1,l=A,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(nu(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(La),u.precision=l;;){if(a=wr(a.times(t),l),r=r.times(++c),o=i.plus(kl(a,r,l)),Fo(o.d).slice(0,l)===Fo(i.d).slice(0,l)){for(;d--;)i=wr(i.times(i),l);return u.precision=A,e==null?($r=!0,wr(i,A)):i}i=o}}function Tn(t){for(var e=t.e*Ir,r=t.d[0];r>=10;r/=10)e++;return e}function k5(t,e,r){if(e>t.LN10.sd())throw $r=!0,r&&(t.precision=r),Error(Ni+"LN10 precision limit exceeded");return wr(new t(t.LN10),e)}function Bc(t){for(var e="";t--;)e+="0";return e}function T0(t,e){var r,n,a,i,o,l,c,d,u,A=1,h=10,f=t,g=f.d,x=f.constructor,m=x.precision;if(f.s<1)throw Error(Ni+(f.s?"NaN":"-Infinity"));if(f.eq(La))return new x(0);if(e==null?($r=!1,d=m):d=e,f.eq(10))return e==null&&($r=!0),k5(x,d);if(d+=h,x.precision=d,r=Fo(g),n=r.charAt(0),i=Tn(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=Fo(f.d),n=r.charAt(0),A++;i=Tn(f),n>1?(f=new x("0."+r),i++):f=new x(n+"."+r.slice(1))}else return c=k5(x,d+2,m).times(i+""),f=T0(new x(n+"."+r.slice(1)),d-h).plus(c),x.precision=m,e==null?($r=!0,wr(f,m)):f;for(l=o=f=kl(f.minus(La),f.plus(La),d),u=wr(f.times(f),d),a=3;;){if(o=wr(o.times(u),d),c=l.plus(kl(o,new x(a),d)),Fo(c.d).slice(0,d)===Fo(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(k5(x,d+2,m).times(i+""))),l=kl(l,new x(A),d),x.precision=m,e==null?($r=!0,wr(l,m)):l;l=c,a+=2}}function eU(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=ym(r/Ir),t.d=[],n=(r+1)%Ir,r<0&&(n+=Ir),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Ir;n<a;)t.d.push(+e.slice(n,n+=Ir));e=e.slice(n),n=Ir-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),$r&&(t.e>r1||t.e<-r1))throw Error(Yk+r)}else t.s=0,t.e=0,t.d=[0];return t}function wr(t,e,r){var n,a,i,o,l,c,d,u,A=t.d;for(o=1,i=A[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Ir,a=e,d=A[u=0];else{if(u=Math.ceil((n+1)/Ir),i=A.length,u>=i)return t;for(d=i=A[u],o=1;i>=10;i/=10)o++;n%=Ir,a=n-Ir+o}if(r!==void 0&&(i=nu(10,o-a-1),l=d/i%10|0,c=e<0||A[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/nu(10,o-a):0:A[u-1])%10&1||r==(t.s<0?8:7))),e<1||!A[0])return c?(i=Tn(t),A.length=1,e=e-i-1,A[0]=nu(10,(Ir-e%Ir)%Ir),t.e=ym(-e/Ir)||0):(A.length=1,A[0]=t.e=t.s=0),t;if(n==0?(A.length=u,i=1,u--):(A.length=u+1,i=nu(10,Ir-n),A[u]=a>0?(d/nu(10,o-a)%nu(10,a)|0)*i:0),c)for(;;)if(u==0){(A[0]+=i)==Yn&&(A[0]=1,++t.e);break}else{if(A[u]+=i,A[u]!=Yn)break;A[u--]=0,i=1}for(n=A.length;A[--n]===0;)A.pop();if($r&&(t.e>r1||t.e<-r1))throw Error(Yk+Tn(t));return t}function PK(t,e){var r,n,a,i,o,l,c,d,u,A,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),$r?wr(e,f):e;if(c=t.d,A=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=A.length):(r=A,n=d,l=c.length),a=Math.max(Math.ceil(f/Ir),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=A.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=A[a]){u=c[a]<A[a];break}o=0}for(u&&(r=c,c=A,A=r,e.s=-e.s),l=c.length,a=A.length-l;a>0;--a)c[l++]=0;for(a=A.length;a>o;){if(c[--a]<A[a]){for(i=a;i&&c[--i]===0;)c[i]=Yn-1;--c[i],c[a]+=Yn}c[a]-=A[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,$r?wr(e,f):e):new h(0)}function Yu(t,e,r){var n,a=Tn(t),i=Fo(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Bc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bc(-a-1)+i,r&&(n=r-o)>0&&(i+=Bc(n))):a>=o?(i+=Bc(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Bc(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Bc(n))),t.s<0?"-"+i:i}function tU(t,e){if(t.length>e)return t.length=e,!0}function TK(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Mu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return eU(o,i.toString())}else if(typeof i!="string")throw Error(Mu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,cOe.test(i))eU(o,i);else throw Error(Mu+i)}if(a.prototype=lt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=TK,a.config=a.set=dOe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function dOe(t){if(!t||typeof t!="object")throw Error(Ni+"Object expected");var e,r,n,a=["precision",1,xm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(ym(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Mu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Mu+r+": "+n);return this}var Jk=TK(lOe);La=new Jk(1);const gr=Jk;function uOe(t){return mOe(t)||fOe(t)||hOe(t)||AOe()}function AOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hOe(t,e){if(t){if(typeof t=="string")return XS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XS(t,e)}}function fOe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mOe(t){if(Array.isArray(t))return XS(t)}function XS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pOe=function(e){return e},OK={},IK=function(e){return e===OK},rU=function(e){return function r(){return arguments.length===0||arguments.length===1&&IK(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},gOe=function t(e,r){return e===1?r:rU(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==OK}).length;return o>=e?r.apply(void 0,a):t(e-o,rU(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(A){return IK(A)?c.shift():A});return r.apply(void 0,uOe(u).concat(c))}))})},Aj=function(e){return gOe(e.length,e)},YS=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},xOe=Aj(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),yOe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return pOe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},JS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},LK=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function vOe(t){var e;return t===0?e=1:e=Math.floor(new gr(t).abs().log(10).toNumber())+1,e}function bOe(t,e,r){for(var n=new gr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var wOe=Aj(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),jOe=Aj(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),NOe=Aj(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const hj={rangeStep:bOe,getDigitCount:vOe,interpolateNumber:wOe,uninterpolateNumber:jOe,uninterpolateTruncation:NOe};function ZS(t){return SOe(t)||COe(t)||MK(t)||_Oe()}function _Oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function COe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SOe(t){if(Array.isArray(t))return eB(t)}function O0(t,e){return kOe(t)||EOe(t,e)||MK(t,e)||BOe()}function BOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return eB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eB(t,e)}}function eB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EOe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function kOe(t){if(Array.isArray(t))return t}function DK(t){var e=O0(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function UK(t,e,r){if(t.lte(0))return new gr(0);var n=hj.getDigitCount(t.toNumber()),a=new gr(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new gr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new gr(Math.ceil(c))}function FOe(t,e,r){var n=1,a=new gr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new gr(10).pow(hj.getDigitCount(t)-1),a=new gr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new gr(Math.floor(t)))}else t===0?a=new gr(Math.floor((e-1)/2)):r||(a=new gr(Math.floor(t)));var o=Math.floor((e-1)/2),l=yOe(xOe(function(c){return a.add(new gr(c-o).mul(n)).toNumber()}),YS);return l(0,e)}function RK(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new gr(0),tickMin:new gr(0),tickMax:new gr(0)};var i=UK(new gr(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new gr(0):(o=new gr(t).add(e).div(2),o=o.sub(new gr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new gr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?RK(t,e,r,n,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new gr(l).mul(i)),tickMax:o.add(new gr(c).mul(i))})}function POe(t){var e=O0(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=DK([r,n]),c=O0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var A=u===1/0?[d].concat(ZS(YS(0,a-1).map(function(){return 1/0}))):[].concat(ZS(YS(0,a-1).map(function(){return-1/0})),[u]);return r>n?JS(A):A}if(d===u)return FOe(d,a,i);var h=RK(d,u,o,i),f=h.step,g=h.tickMin,x=h.tickMax,m=hj.rangeStep(g,x.add(new gr(.1).mul(f)),f);return r>n?JS(m):m}function TOe(t,e){var r=O0(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=DK([n,a]),l=O0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(e,2),A=UK(new gr(d).sub(c).div(u-1),i,0),h=[].concat(ZS(hj.rangeStep(new gr(c),new gr(d).sub(new gr(.99).mul(A)),A)),[d]);return n>a?JS(h):h}var OOe=LK(POe),IOe=LK(TOe),LOe="Invariant failed";function Ju(t,e){throw new Error(LOe)}var MOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n1.apply(this,arguments)}function DOe(t,e){return $Oe(t)||QOe(t,e)||ROe(t,e)||UOe()}function UOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ROe(t,e){if(t){if(typeof t=="string")return nU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nU(t,e)}}function nU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $Oe(t){if(Array.isArray(t))return t}function HOe(t,e){if(t==null)return{};var r=zOe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HK(n.key),n)}}function KOe(t,e,r){return e&&VOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WOe(t,e,r){return e=s1(e),GOe(t,QK()?Reflect.construct(e,r||[],s1(t).constructor):e.apply(t,r))}function GOe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XOe(t)}function XOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QK=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(t)}function YOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tB(t,e)}function tB(t,e){return tB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tB(t,e)}function $K(t,e,r){return e=HK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HK(t){var e=JOe(t,"string");return If(e)=="symbol"?e:e+""}function JOe(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fj=function(t){function e(){return qOe(this,e),WOe(this,e,arguments)}return YOe(e,t),KOe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,A=n.yAxis,h=HOe(n,MOe),f=Ct(h,!1);this.props.direction==="x"&&u.type!=="number"&&Ju();var g=c.map(function(x){var m=d(x,l),p=m.x,y=m.y,w=m.value,S=m.errorVal;if(!S)return null;var j=[],_,F;if(Array.isArray(S)){var C=DOe(S,2);_=C[0],F=C[1]}else _=F=S;if(i==="vertical"){var E=u.scale,T=y+a,v=T+o,N=T-o,O=E(w-_),L=E(w+F);j.push({x1:L,y1:v,x2:L,y2:N}),j.push({x1:O,y1:T,x2:L,y2:T}),j.push({x1:O,y1:v,x2:O,y2:N})}else if(i==="horizontal"){var Q=A.scale,D=p+a,U=D-o,R=D+o,z=Q(w-_),Y=Q(w+F);j.push({x1:U,y1:Y,x2:R,y2:Y}),j.push({x1:D,y1:z,x2:D,y2:Y}),j.push({x1:U,y1:z,x2:R,y2:z})}return be.createElement(ur,n1({className:"recharts-errorBar",key:"bar-".concat(j.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},f),j.map(function(X){return be.createElement("line",n1({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return be.createElement(ur,{className:"recharts-errorBars"},g)}}])}(be.Component);$K(fj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$K(fj,"displayName","ErrorBar");function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){ZOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZOe(t,e,r){return e=eIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eIe(t){var e=tIe(t,"string");return I0(e)=="symbol"?e:e+""}function tIe(t,e){if(I0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zK=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=Oa(r,Iu);if(!o)return null;var l=Iu.defaultProps,c=l!==void 0?qd(qd({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,A){var h=A.item,f=A.props,g=f.sectors||f.data||[];return u.concat(g.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(n||[]).map(function(u){var A=u.item,h=A.type.defaultProps,f=h!==void 0?qd(qd({},h),A.props):{},g=f.dataKey,x=f.name,m=f.legendType,p=f.hide;return{inactive:p,dataKey:g,type:c.iconType||m||"square",color:Zk(A),value:x||g,payload:f}}),qd(qd(qd({},c),Iu.getWithHeight(o,a)),{},{payload:d,item:o})};function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function aU(t){return aIe(t)||sIe(t)||nIe(t)||rIe()}function rIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nIe(t,e){if(t){if(typeof t=="string")return rB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rB(t,e)}}function sIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aIe(t){if(Array.isArray(t))return rB(t)}function rB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(r),!0).forEach(function(n){uf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uf(t,e,r){return e=iIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iIe(t){var e=oIe(t,"string");return L0(e)=="symbol"?e:e+""}function oIe(t,e){if(L0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fs(t,e,r){return $t(t)||$t(e)?r:Hn(e)?Qa(t,e,r):Et(e)?e(t):r}function Sg(t,e,r,n){var a=sOe(t,function(l){return Fs(l,e)});if(r==="number"){var i=a.filter(function(l){return Ye(l)||parseFloat(l)});return i.length?[dj(i),cj(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!$t(l)}):a;return o.map(function(l){return Hn(l)||l instanceof Date?l:""})}var lIe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,A=a[d].coordinate,h=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(Ks(A-u)!==Ks(h-A)){var g=[];if(Ks(h-A)===Ks(c[1]-c[0])){f=h;var x=A+c[1]-c[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{f=u;var m=h+c[1]-c[0];g[0]=Math.min(A,(m+A)/2),g[1]=Math.max(A,(m+A)/2)}var p=[Math.min(A,(f+A)/2),Math.max(A,(f+A)/2)];if(e>p[0]&&e<=p[1]||e>=g[0]&&e<=g[1]){o=a[d].index;break}}else{var y=Math.min(u,h),w=Math.max(u,h);if(e>(y+A)/2&&e<=(w+A)/2){o=a[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},Zk=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?an(an({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},cIe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,A=Object.keys(u),h=0,f=A.length;h<f;h++){var g=u[A[h]],x=g.items,m=g.cateAxisId,p=x.filter(function(F){return El(F.type).indexOf("Bar")>=0});if(p&&p.length){var y=p[0].type.defaultProps,w=y!==void 0?an(an({},y),p[0].props):p[0].props,S=w.barSize,j=w[m];o[j]||(o[j]=[]);var _=$t(S)?r:S;o[j].push({item:p[0],stackList:p.slice(1),barSize:$t(_)?void 0:Ws(_,n,0)})}}return o},dIe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Ws(r,a,0,!0),u,A=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=a/c,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(c-1)*d,g>=a&&(g-=(c-1)*d,d=0),g>=a&&f>0&&(h=!0,f*=.9,g=c*f);var x=(a-g)/2>>0,m={offset:x-d,size:0};u=o.reduce(function(S,j){var _={item:j.item,position:{offset:m.offset+m.size+d,size:h?f:j.barSize}},F=[].concat(aU(S),[_]);return m=F[F.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){F.push({item:C,position:m})}),F},A)}else{var p=Ws(n,a,0,!0);a-2*p-(c-1)*d<=0&&(d=0);var y=(a-2*p-(c-1)*d)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;u=o.reduce(function(S,j,_){var F=[].concat(aU(S),[{item:j.item,position:{offset:p+(y+d)*_+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){F.push({item:C,position:F[F.length-1].position})}),F},A)}return u},uIe=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=zK({children:i,legendWidth:c});if(d){var u=a||{},A=u.width,h=u.height,f=d.align,g=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&f!=="center"&&Ye(e[f]))return an(an({},e),{},uf({},f,e[f]+(A||0)));if((x==="horizontal"||x==="vertical"&&f==="center")&&g!=="middle"&&Ye(e[g]))return an(an({},e),{},uf({},g,e[g]+(h||0)))}return e},AIe=function(e,r,n){return $t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},qK=function(e,r,n,a,i){var o=r.props.children,l=yi(o,fj).filter(function(d){return AIe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var A=Fs(u,n);if($t(A))return d;var h=Array.isArray(A)?[dj(A),cj(A)]:[A,A],f=c.reduce(function(g,x){var m=Fs(u,x,0),p=h[0]-Math.abs(Array.isArray(m)?m[0]:m),y=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(p,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},hIe=function(e,r,n,a,i){var o=r.map(function(l){return qK(e,l,n,i,a)}).filter(function(l){return!$t(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},VK=function(e,r,n,a,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&qK(e,c,d,a)||Sg(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,A=d.length;u<A;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},KK=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},WK=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Cl=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ks(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(A){var h=i?i.indexOf(A):A;return{coordinate:a(h)+d,value:A,offset:d}});return u.filter(function(A){return!bx(A.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(A,h){return{coordinate:a(A)+d,value:A,index:h,offset:d}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(A){return{coordinate:a(A)+d,value:A,offset:d}}):a.domain().map(function(A,h){return{coordinate:a(A)+d,value:i?i[A]:A,index:h,offset:d}})},F5=new WeakMap,Qv=function(e,r){if(typeof r!="function")return e;F5.has(e)||F5.set(e,new WeakMap);var n=F5.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},GK=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:B0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Jw(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Cg(),realScaleType:"point"}:i==="category"?{scale:B0(),realScaleType:"band"}:{scale:Jw(),realScaleType:"linear"};if(Wu(a)){var c="scale".concat(G2(a));return{scale:(ZD[c]||Cg)(),realScaleType:ZD[c]?c:"point"}}return Et(a)?{scale:a}:{scale:Cg(),realScaleType:"point"}},oU=1e-4,XK=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-oU,o=Math.max(a[0],a[1])+oU,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},fIe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},mIe=function(e,r){if(!r||r.length!==2||!Ye(r[0])||!Ye(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Ye(e[0])||e[0]<n)&&(i[0]=n),(!Ye(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},pIe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=bx(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},gIe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=bx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},xIe={sign:pIe,expand:M_e,none:Sf,silhouette:D_e,wiggle:U_e,positive:gIe},yIe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=xIe[n],o=L_e().keys(a).value(function(l,c){return+Fs(l,c,0)}).order(SS).offset(i);return o(e)},vIe=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(A,h){var f,g=(f=h.type)!==null&&f!==void 0&&f.defaultProps?an(an({},h.type.defaultProps),h.props):h.props,x=g.stackId,m=g.hide;if(m)return A;var p=g[n],y=A[p]||{hasStack:!1,stackGroups:{}};if(Hn(x)){var w=y.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[x]=w}else y.stackGroups[wx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return an(an({},A),{},uf({},p,y))},c),u={};return Object.keys(d).reduce(function(A,h){var f=d[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(x,m){var p=f.stackGroups[m];return an(an({},x),{},uf({},m,{numericAxisId:n,cateAxisId:a,items:p.items,stackedData:yIe(e,p.items,i)}))},g)}return an(an({},A),{},uf({},h,f))},u)},YK=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=OOe(d,i,l);return e.domain([dj(u),cj(u)]),{niceTicks:u}}if(i&&a==="number"){var A=e.domain(),h=IOe(A,i,l);return{niceTicks:h}}return null},lU=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Fs(o,r.dataKey,r.domain[l]);return $t(c)?null:r.scale(c)-i/2+a},bIe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},wIe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?an(an({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Hn(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},jIe=function(e){return e.reduce(function(r,n){return[dj(n.concat([r[0]]).filter(Ye)),cj(n.concat([r[1]]).filter(Ye))]},[1/0,-1/0])},JK=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var A=jIe(u.slice(r,n+1));return[Math.min(d[0],A[0]),Math.max(d[1],A[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},cU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nB=function(e,r,n){if(Et(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Ye(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(cU.test(e[0])){var i=+cU.exec(e[0])[1];a[0]=r[0]-i}else Et(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Ye(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(dU.test(e[1])){var o=+dU.exec(e[1])[1];a[1]=r[1]+o}else Et(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},a1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Ck(r,function(A){return A.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},uU=function(e,r,n){return!e||!e.length||uj(e,Qa(n,"type.defaultProps.domain"))?r:e},ZK=function(e,r){var n=e.type.defaultProps?an(an({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return an(an({},Ct(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:Zk(e),value:Fs(r,a),type:c,payload:r,chartType:d,hide:u})};function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function AU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(r),!0).forEach(function(n){eW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eW(t,e,r){return e=NIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NIe(t){var e=_Ie(t,"string");return M0(e)=="symbol"?e:e+""}function _Ie(t,e){if(M0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CIe(t,e){return kIe(t)||EIe(t,e)||BIe(t,e)||SIe()}function SIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BIe(t,e){if(t){if(typeof t=="string")return hU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hU(t,e)}}function hU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function kIe(t){if(Array.isArray(t))return t}var i1=Math.PI/180,FIe=function(e){return e*180/Math.PI},Fr=function(e,r,n,a){return{x:e+Math.cos(-i1*a)*n,y:r+Math.sin(-i1*a)*n}},tW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},PIe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=Ws(e.cx,o,o/2),A=Ws(e.cy,l,l/2),h=tW(o,l,n),f=Ws(e.innerRadius,h,0),g=Ws(e.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(m,p){var y=r[p],w=y.domain,S=y.reversed,j;if($t(y.range))a==="angleAxis"?j=[c,d]:a==="radiusAxis"&&(j=[f,g]),S&&(j=[j[1],j[0]]);else{j=y.range;var _=j,F=CIe(_,2);c=F[0],d=F[1]}var C=GK(y,i),E=C.realScaleType,T=C.scale;T.domain(w).range(j),XK(T);var v=YK(T,fl(fl({},y),{},{realScaleType:E})),N=fl(fl(fl({},y),v),{},{range:j,radius:g,realScaleType:E,scale:T,cx:u,cy:A,innerRadius:f,outerRadius:g,startAngle:c,endAngle:d});return fl(fl({},m),{},eW({},p,N))},{})},TIe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},OIe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=TIe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:FIe(d),angleInRadian:d}},IIe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},LIe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},fU=function(e,r){var n=e.x,a=e.y,i=OIe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=IIe(r),A=u.startAngle,h=u.endAngle,f=l,g;if(A<=h){for(;f>h;)f-=360;for(;f<A;)f+=360;g=f>=A&&f<=h}else{for(;f>A;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=A}return g?fl(fl({},r),{},{radius:o,angle:LIe(f,r)}):null},rW=function(e){return!k.isValidElement(e)&&!Et(e)&&typeof e!="boolean"?e.className:""};function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}var MIe=["offset"];function DIe(t){return $Ie(t)||QIe(t)||RIe(t)||UIe()}function UIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RIe(t,e){if(t){if(typeof t=="string")return sB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sB(t,e)}}function QIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ie(t){if(Array.isArray(t))return sB(t)}function sB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HIe(t,e){if(t==null)return{};var r=zIe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(n){qIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qIe(t,e,r){return e=VIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VIe(t){var e=KIe(t,"string");return D0(e)=="symbol"?e:e+""}function KIe(t,e){if(D0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}var WIe=function(e){var r=e.value,n=e.formatter,a=$t(e.children)?r:e.children;return Et(n)?n(a):a},GIe=function(e,r){var n=Ks(r-e),a=Math.min(Math.abs(r-e),360);return n*a},XIe=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,A=c.innerRadius,h=c.outerRadius,f=c.startAngle,g=c.endAngle,x=c.clockWise,m=(A+h)/2,p=GIe(f,g),y=p>=0?1:-1,w,S;a==="insideStart"?(w=f+y*o,S=x):a==="insideEnd"?(w=g-y*o,S=!x):a==="end"&&(w=g+y*o,S=x),S=p<=0?S:!S;var j=Fr(d,u,m,w),_=Fr(d,u,m,w+(S?1:-1)*359),F="M".concat(j.x,",").concat(j.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),C=$t(e.id)?wx("recharts-radial-line-"):e.id;return be.createElement("text",U0({},n,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),be.createElement("defs",null,be.createElement("path",{id:C,d:F})),be.createElement("textPath",{xlinkHref:"#".concat(C)},r))},YIe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,A=i.endAngle,h=(u+A)/2;if(a==="outside"){var f=Fr(o,l,d+n,h),g=f.x,x=f.y;return{x:g,y:x,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+d)/2,p=Fr(o,l,m,h),y=p.x,w=p.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},JIe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,A=u>=0?1:-1,h=A*a,f=A>0?"end":"start",g=A>0?"start":"end",x=d>=0?1:-1,m=x*a,p=x>0?"end":"start",y=x>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-A*a,textAnchor:"middle",verticalAnchor:f};return Mn(Mn({},w),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:g};return Mn(Mn({},S),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var j={x:l-m,y:c+u/2,textAnchor:p,verticalAnchor:"middle"};return Mn(Mn({},j),n?{width:Math.max(j.x-n.x,0),height:u}:{})}if(i==="right"){var _={x:l+d+m,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Mn(Mn({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:u}:{})}var F=n?{width:d,height:u}:{};return i==="insideLeft"?Mn({x:l+m,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},F):i==="insideRight"?Mn({x:l+d-m,y:c+u/2,textAnchor:p,verticalAnchor:"middle"},F):i==="insideTop"?Mn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},F):i==="insideBottom"?Mn({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:f},F):i==="insideTopLeft"?Mn({x:l+m,y:c+h,textAnchor:y,verticalAnchor:g},F):i==="insideTopRight"?Mn({x:l+d-m,y:c+h,textAnchor:p,verticalAnchor:g},F):i==="insideBottomLeft"?Mn({x:l+m,y:c+u-h,textAnchor:y,verticalAnchor:f},F):i==="insideBottomRight"?Mn({x:l+d-m,y:c+u-h,textAnchor:p,verticalAnchor:f},F):cm(i)&&(Ye(i.x)||vu(i.x))&&(Ye(i.y)||vu(i.y))?Mn({x:l+Ws(i.x,d),y:c+Ws(i.y,u),textAnchor:"end",verticalAnchor:"end"},F):Mn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},F)},ZIe=function(e){return"cx"in e&&Ye(e.cx)};function es(t){var e=t.offset,r=e===void 0?5:e,n=HIe(t,MIe),a=Mn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,A=u===void 0?"":u,h=a.textBreakAll;if(!i||$t(l)&&$t(c)&&!k.isValidElement(d)&&!Et(d))return null;if(k.isValidElement(d))return k.cloneElement(d,a);var f;if(Et(d)){if(f=k.createElement(d,a),k.isValidElement(f))return f}else f=WIe(a);var g=ZIe(i),x=Ct(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return XIe(a,f,x);var m=g?YIe(a):JIe(a);return be.createElement(Xu,U0({className:Rt("recharts-label",A)},x,m,{breakAll:h}),f)}es.displayName="Label";var nW=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,A=e.x,h=e.y,f=e.top,g=e.left,x=e.width,m=e.height,p=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ye(x)&&Ye(m)){if(Ye(A)&&Ye(h))return{x:A,y:h,width:x,height:m};if(Ye(f)&&Ye(g))return{x:f,y:g,width:x,height:m}}return Ye(A)&&Ye(h)?{x:A,y:h,width:0,height:0}:Ye(r)&&Ye(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:p}:e.viewBox?e.viewBox:{}},eLe=function(e,r){return e?e===!0?be.createElement(es,{key:"label-implicit",viewBox:r}):Hn(e)?be.createElement(es,{key:"label-implicit",viewBox:r,value:e}):k.isValidElement(e)?e.type===es?k.cloneElement(e,{key:"label-implicit",viewBox:r}):be.createElement(es,{key:"label-implicit",content:e,viewBox:r}):Et(e)?be.createElement(es,{key:"label-implicit",content:e,viewBox:r}):cm(e)?be.createElement(es,U0({viewBox:r},e,{key:"label-implicit"})):null:null},tLe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=nW(e),o=yi(a,es).map(function(c,d){return k.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=eLe(e.label,r||i);return[l].concat(DIe(o))};es.parseViewBox=nW;es.renderCallByParent=tLe;function rLe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nLe=rLe;const sLe=fr(nLe);function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}var aLe=["valueAccessor"],iLe=["data","dataKey","clockWise","id","textBreakAll"];function oLe(t){return uLe(t)||dLe(t)||cLe(t)||lLe()}function lLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cLe(t,e){if(t){if(typeof t=="string")return aB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aB(t,e)}}function dLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uLe(t){if(Array.isArray(t))return aB(t)}function aB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o1.apply(this,arguments)}function pU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(r),!0).forEach(function(n){ALe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ALe(t,e,r){return e=hLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hLe(t){var e=fLe(t,"string");return R0(e)=="symbol"?e:e+""}function fLe(t,e){if(R0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xU(t,e){if(t==null)return{};var r=mLe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pLe=function(e){return Array.isArray(e.value)?sLe(e.value):e.value};function ad(t){var e=t.valueAccessor,r=e===void 0?pLe:e,n=xU(t,aLe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=xU(n,iLe);return!a||!a.length?null:be.createElement(ur,{className:"recharts-label-list"},a.map(function(u,A){var h=$t(i)?r(u,A):Fs(u&&u.payload,i),f=$t(l)?{}:{id:"".concat(l,"-").concat(A)};return be.createElement(es,o1({},Ct(u,!0),d,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:es.parseViewBox($t(o)?u:gU(gU({},u),{},{clockWise:o})),key:"label-".concat(A),index:A}))}))}ad.displayName="LabelList";function gLe(t,e){return t?t===!0?be.createElement(ad,{key:"labelList-implicit",data:e}):be.isValidElement(t)||Et(t)?be.createElement(ad,{key:"labelList-implicit",data:e,content:t}):cm(t)?be.createElement(ad,o1({data:e},t,{key:"labelList-implicit"})):null:null}function xLe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=yi(n,ad).map(function(o,l){return k.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=gLe(t.label,e);return[i].concat(oLe(a))}ad.renderCallByParent=xLe;function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function iB(){return iB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iB.apply(this,arguments)}function yU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(r),!0).forEach(function(n){yLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yLe(t,e,r){return e=vLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vLe(t){var e=bLe(t,"string");return Q0(e)=="symbol"?e:e+""}function bLe(t,e){if(Q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wLe=function(e,r){var n=Ks(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},$v=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,A=Math.asin(c/u)/i1,h=d?i:i+o*A,f=Fr(r,n,u,h),g=Fr(r,n,a,h),x=d?i-o*A:i,m=Fr(r,n,u*Math.cos(A*i1),x);return{center:f,circleTangency:g,lineTangency:m,theta:A}},sW=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=wLe(o,l),d=o+c,u=Fr(r,n,i,o),A=Fr(r,n,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(a>0){var f=Fr(r,n,a,o),g=Fr(r,n,a,d);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},jLe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,A=Ks(u-d),h=$v({cx:r,cy:n,radius:i,angle:d,sign:A,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,g=h.lineTangency,x=h.theta,m=$v({cx:r,cy:n,radius:i,angle:u,sign:-A,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,w=m.theta,S=c?Math.abs(d-u):Math.abs(d-u)-x-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sW({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(A<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var _=$v({cx:r,cy:n,radius:a,angle:d,sign:A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),F=_.circleTangency,C=_.lineTangency,E=_.theta,T=$v({cx:r,cy:n,radius:a,angle:u,sign:-A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),v=T.circleTangency,N=T.lineTangency,O=T.theta,L=c?Math.abs(d-u):Math.abs(d-u)-E-O;if(L<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(v.x,",").concat(v.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(A>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},NLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aW=function(e){var r=vU(vU({},NLe),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,A=r.endAngle,h=r.className;if(o<i||u===A)return null;var f=Rt("recharts-sector",h),g=o-i,x=Ws(l,g,0,!0),m;return x>0&&Math.abs(u-A)<360?m=jLe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:A}):m=sW({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:A}),be.createElement("path",iB({},Ct(r,!0),{className:f,d:m,role:"img"}))};function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function oB(){return oB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oB.apply(this,arguments)}function bU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(r),!0).forEach(function(n){_Le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Le(t,e,r){return e=CLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CLe(t){var e=SLe(t,"string");return $0(e)=="symbol"?e:e+""}function SLe(t,e){if($0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jU={curveBasisClosed:__e,curveBasisOpen:C_e,curveBasis:N_e,curveBumpX:d_e,curveBumpY:u_e,curveLinearClosed:S_e,curveLinear:Y2,curveMonotoneX:B_e,curveMonotoneY:E_e,curveNatural:k_e,curveStep:F_e,curveStepAfter:T_e,curveStepBefore:P_e},Hv=function(e){return e.x===+e.x&&e.y===+e.y},_p=function(e){return e.x},Cp=function(e){return e.y},BLe=function(e,r){if(Et(e))return e;var n="curve".concat(G2(e));return(n==="curveMonotone"||n==="curveBump")&&r?jU["".concat(n).concat(r==="vertical"?"Y":"X")]:jU[n]||Y2},ELe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=BLe(n,l),A=d?i.filter(function(x){return Hv(x)}):i,h;if(Array.isArray(o)){var f=d?o.filter(function(x){return Hv(x)}):o,g=A.map(function(x,m){return wU(wU({},x),{},{base:f[m]})});return l==="vertical"?h=Tv().y(Cp).x1(_p).x0(function(x){return x.base.x}):h=Tv().x(_p).y1(Cp).y0(function(x){return x.base.y}),h.defined(Hv).curve(u),h(g)}return l==="vertical"&&Ye(o)?h=Tv().y(Cp).x1(_p).x0(o):Ye(o)?h=Tv().x(_p).y1(Cp).y0(o):h=Zq().x(_p).y(Cp),h.defined(Hv).curve(u),h(A)},lB=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?ELe(e):a;return k.createElement("path",oB({},Ct(e,!1),Pw(e),{className:Rt("recharts-curve",r),d:o,ref:i}))},iW={exports:{}},kLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FLe=kLe,PLe=FLe;function oW(){}function lW(){}lW.resetWarningCache=oW;var TLe=function(){function t(n,a,i,o,l,c){if(c!==PLe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lW,resetWarningCache:oW};return r.PropTypes=r,r};iW.exports=TLe();var OLe=iW.exports;const nr=fr(OLe);var ILe=Object.getOwnPropertyNames,LLe=Object.getOwnPropertySymbols,MLe=Object.prototype.hasOwnProperty;function NU(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function zv(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function DLe(t){return t!=null?t[Symbol.toStringTag]:void 0}function _U(t){return ILe(t).concat(LLe(t))}var ULe=Object.hasOwn||function(t,e){return MLe.call(t,e)};function AA(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var RLe="__v",QLe="__o",$Le="_owner",CU=Object.getOwnPropertyDescriptor,SU=Object.keys;function HLe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function zLe(t,e){return AA(t.getTime(),e.getTime())}function qLe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function VLe(t,e){return t===e}function BU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,A=0;(l=d.next())&&!l.done;){if(a[A]){A++;continue}var h=o.value,f=l.value;if(r.equals(h[0],f[0],c,A,t,e,r)&&r.equals(h[1],f[1],h[0],f[0],t,e,r)){u=a[A]=!0;break}A++}if(!u)return!1;c++}return!0}var KLe=AA;function WLe(t,e,r){var n=SU(t),a=n.length;if(SU(e).length!==a)return!1;for(;a-- >0;)if(!cW(t,e,r,n[a]))return!1;return!0}function Sp(t,e,r){var n=_U(t),a=n.length;if(_U(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!cW(t,e,r,i)||(o=CU(t,i),l=CU(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function GLe(t,e){return AA(t.valueOf(),e.valueOf())}function XLe(t,e){return t.source===e.source&&t.flags===e.flags}function EU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function YLe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function JLe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cW(t,e,r,n){return(n===$Le||n===QLe||n===RLe)&&(t.$$typeof||e.$$typeof)?!0:ULe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ZLe="[object Arguments]",eMe="[object Boolean]",tMe="[object Date]",rMe="[object Error]",nMe="[object Map]",sMe="[object Number]",aMe="[object Object]",iMe="[object RegExp]",oMe="[object Set]",lMe="[object String]",cMe="[object URL]",dMe=Array.isArray,kU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,FU=Object.assign,uMe=Object.prototype.toString.call.bind(Object.prototype.toString);function AMe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,A=t.areTypedArraysEqual,h=t.areUrlsEqual,f=t.unknownTagComparators;return function(x,m,p){if(x===m)return!0;if(x==null||m==null)return!1;var y=typeof x;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(x,m,p):y==="function"?a(x,m,p):!1;var w=x.constructor;if(w!==m.constructor)return!1;if(w===Object)return l(x,m,p);if(dMe(x))return e(x,m,p);if(kU!=null&&kU(x))return A(x,m,p);if(w===Date)return r(x,m,p);if(w===RegExp)return d(x,m,p);if(w===Map)return i(x,m,p);if(w===Set)return u(x,m,p);var S=uMe(x);if(S===tMe)return r(x,m,p);if(S===iMe)return d(x,m,p);if(S===nMe)return i(x,m,p);if(S===oMe)return u(x,m,p);if(S===aMe)return typeof x.then!="function"&&typeof m.then!="function"&&l(x,m,p);if(S===cMe)return h(x,m,p);if(S===rMe)return n(x,m,p);if(S===ZLe)return l(x,m,p);if(S===eMe||S===sMe||S===lMe)return c(x,m,p);if(f){var j=f[S];if(!j){var _=DLe(x);_&&(j=f[_])}if(j)return j(x,m,p)}return!1}}function hMe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Sp:HLe,areDatesEqual:zLe,areErrorsEqual:qLe,areFunctionsEqual:VLe,areMapsEqual:n?NU(BU,Sp):BU,areNumbersEqual:KLe,areObjectsEqual:n?Sp:WLe,arePrimitiveWrappersEqual:GLe,areRegExpsEqual:XLe,areSetsEqual:n?NU(EU,Sp):EU,areTypedArraysEqual:n?Sp:YLe,areUrlsEqual:JLe,unknownTagComparators:void 0};if(r&&(a=FU({},a,r(a))),e){var i=zv(a.areArraysEqual),o=zv(a.areMapsEqual),l=zv(a.areObjectsEqual),c=zv(a.areSetsEqual);a=FU({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function fMe(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function mMe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,d){var u=n(),A=u.cache,h=A===void 0?e?new WeakMap:void 0:A,f=u.meta;return r(c,d,{cache:h,equals:a,meta:f,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var pMe=Nd();Nd({strict:!0});Nd({circular:!0});Nd({circular:!0,strict:!0});Nd({createInternalComparator:function(){return AA}});Nd({strict:!0,createInternalComparator:function(){return AA}});Nd({circular:!0,createInternalComparator:function(){return AA}});Nd({circular:!0,createInternalComparator:function(){return AA},strict:!0});function Nd(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=hMe(t),c=AMe(l),d=n?n(c):fMe(c);return mMe({circular:r,comparator:c,createState:a,equals:d,strict:o})}function gMe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function PU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):gMe(a)};requestAnimationFrame(n)}function cB(t){"@babel/helpers - typeof";return cB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cB(t)}function xMe(t){return wMe(t)||bMe(t)||vMe(t)||yMe()}function yMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vMe(t,e){if(t){if(typeof t=="string")return TU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TU(t,e)}}function TU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wMe(t){if(Array.isArray(t))return t}function jMe(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=xMe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){PU(a.bind(null,d),c);return}a(c),PU(a.bind(null,d));return}cB(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function OU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(r),!0).forEach(function(n){dW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dW(t,e,r){return e=NMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NMe(t){var e=_Me(t,"string");return H0(e)==="symbol"?e:String(e)}function _Me(t,e){if(H0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CMe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},SMe=function(e){return e},BMe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Bg=function(e,r){return Object.keys(r).reduce(function(n,a){return IU(IU({},n),{},dW({},a,e(a,r[a])))},{})},LU=function(e,r,n){return e.map(function(a){return"".concat(BMe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function EMe(t,e){return PMe(t)||FMe(t,e)||uW(t,e)||kMe()}function kMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function PMe(t){if(Array.isArray(t))return t}function TMe(t){return LMe(t)||IMe(t)||uW(t)||OMe()}function OMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(t,e){if(t){if(typeof t=="string")return dB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dB(t,e)}}function IMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LMe(t){if(Array.isArray(t))return dB(t)}function dB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l1=1e-4,AW=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},hW=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},MU=function(e,r){return function(n){var a=AW(e,r);return hW(a,n)}},MMe=function(e,r){return function(n){var a=AW(e,r),i=[].concat(TMe(a.map(function(o,l){return o*l}).slice(1)),[0]);return hW(i,n)}},DU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),u=EMe(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var A=MU(a,o),h=MU(i,l),f=MMe(a,o),g=function(p){return p>1?1:p<0?0:p},x=function(p){for(var y=p>1?1:p,w=y,S=0;S<8;++S){var j=A(w)-y,_=f(w);if(Math.abs(j-y)<l1||_<l1)return h(w);w=g(w-j/_)}return h(w)};return x.isStepper=!1,x},DMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,A,h){var f=-(u-A)*n,g=h*i,x=h+(f-g)*l/1e3,m=h*l/1e3+u;return Math.abs(m-A)<l1&&Math.abs(x)<l1?[A,0]:[m,x]};return c.isStepper=!0,c.dt=l,c},UMe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DU(a);case"spring":return DMe();default:if(a.split("(")[0]==="cubic-bezier")return DU(a)}return typeof a=="function"?a:null};function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function UU(t){return $Me(t)||QMe(t)||fW(t)||RMe()}function RMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Me(t){if(Array.isArray(t))return AB(t)}function RU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RU(Object(r),!0).forEach(function(n){uB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uB(t,e,r){return e=HMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HMe(t){var e=zMe(t,"string");return z0(e)==="symbol"?e:String(e)}function zMe(t,e){if(z0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qMe(t,e){return WMe(t)||KMe(t,e)||fW(t,e)||VMe()}function VMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fW(t,e){if(t){if(typeof t=="string")return AB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AB(t,e)}}function AB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function WMe(t){if(Array.isArray(t))return t}var c1=function(e,r,n){return e+(r-e)*n},hB=function(e){var r=e.from,n=e.to;return r!==n},GMe=function t(e,r,n){var a=Bg(function(i,o){if(hB(o)){var l=e(o.from,o.to,o.velocity),c=qMe(l,2),d=c[0],u=c[1];return os(os({},o),{},{from:d,velocity:u})}return o},r);return n<1?Bg(function(i,o){return hB(o)?os(os({},o),{},{velocity:c1(o.velocity,a[i].velocity,n),from:c1(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const XMe=function(t,e,r,n,a){var i=CMe(t,e),o=i.reduce(function(m,p){return os(os({},m),{},uB({},p,[t[p],e[p]]))},{}),l=i.reduce(function(m,p){return os(os({},m),{},uB({},p,{from:t[p],velocity:0,to:e[p]}))},{}),c=-1,d,u,A=function(){return null},h=function(){return Bg(function(p,y){return y.from},l)},f=function(){return!Object.values(l).filter(hB).length},g=function(p){d||(d=p);var y=p-d,w=y/r.dt;l=GMe(r,l,w),a(os(os(os({},t),e),h())),d=p,f()||(c=requestAnimationFrame(A))},x=function(p){u||(u=p);var y=(p-u)/n,w=Bg(function(j,_){return c1.apply(void 0,UU(_).concat([r(y)]))},o);if(a(os(os(os({},t),e),w)),y<1)c=requestAnimationFrame(A);else{var S=Bg(function(j,_){return c1.apply(void 0,UU(_).concat([r(1)]))},o);a(os(os(os({},t),e),S))}};return A=r.isStepper?g:x,function(){return requestAnimationFrame(A),function(){cancelAnimationFrame(c)}}};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var YMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JMe(t,e){if(t==null)return{};var r=ZMe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZMe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function P5(t){return nDe(t)||rDe(t)||tDe(t)||eDe()}function eDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tDe(t,e){if(t){if(typeof t=="string")return fB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fB(t,e)}}function rDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nDe(t){if(Array.isArray(t))return fB(t)}function fB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(r),!0).forEach(function(n){Wp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wp(t,e,r){return e=mW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mW(n.key),n)}}function iDe(t,e,r){return e&&aDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mW(t){var e=oDe(t,"string");return Lf(e)==="symbol"?e:String(e)}function oDe(t,e){if(Lf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mB(t,e)}function mB(t,e){return mB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mB(t,e)}function cDe(t){var e=dDe();return function(){var n=d1(t),a;if(e){var i=d1(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return pB(this,a)}}function pB(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gB(t)}function gB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(t)}var zl=function(t){lDe(r,t);var e=cDe(r);function r(n,a){var i;sDe(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,A=o.steps,h=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(gB(i)),i.changeStyle=i.changeStyle.bind(gB(i)),!l||f<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),pB(i);if(A&&A.length)i.state={style:A[0].style};else if(d){if(typeof h=="function")return i.state={style:d},pB(i);i.state={style:c?Wp({},c,d):d}}else i.state={style:{}};return i}return iDe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,A=i.from,h=this.state.style;if(l){if(!o){var f={style:c?Wp({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(f);return}if(!(pMe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||d?A:a.to;if(this.state&&h){var m={style:c?Wp({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(m)}this.runAnimation(Ri(Ri({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,A=a.onAnimationEnd,h=a.onAnimationStart,f=XMe(o,l,UMe(d),c,this.changeStyle),g=function(){i.stopJSAnimation=f()};this.manager.start([h,u,g,c,A])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,A=d.duration,h=A===void 0?0:A,f=function(x,m,p){if(p===0)return x;var y=m.duration,w=m.easing,S=w===void 0?"ease":w,j=m.style,_=m.properties,F=m.onAnimationEnd,C=p>0?o[p-1]:m,E=_||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(P5(x),[i.runJSAnimation.bind(i,{from:C.style,to:j,duration:y,easing:S}),y]);var T=LU(E,y,S),v=Ri(Ri(Ri({},C.style),j),{},{transition:T});return[].concat(P5(x),[v,y,F]).filter(SMe)};return this.manager.start([c].concat(P5(o.reduce(f,[u,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=jMe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,A=a.onAnimationEnd,h=a.steps,f=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?Wp({},l,c):c,m=LU(Object.keys(x),o,d);g.start([u,i,Ri(Ri({},x),{},{transition:m}),o,A])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=JMe(a,YMe),d=k.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var A=function(f){var g=f.props,x=g.style,m=x===void 0?{}:x,p=g.className,y=k.cloneElement(f,Ri(Ri({},c),{},{style:Ri(Ri({},m),u),className:p}));return y};return d===1?A(k.Children.only(i)):be.createElement("div",null,k.Children.map(i,function(h){return A(h)}))}}]),r}(k.PureComponent);zl.displayName="Animate";zl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zl.propTypes={from:nr.oneOfType([nr.object,nr.string]),to:nr.oneOfType([nr.object,nr.string]),attributeName:nr.string,duration:nr.number,begin:nr.number,easing:nr.oneOfType([nr.string,nr.func]),steps:nr.arrayOf(nr.shape({duration:nr.number.isRequired,style:nr.object.isRequired,easing:nr.oneOfType([nr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nr.func]),properties:nr.arrayOf("string"),onAnimationEnd:nr.func})),children:nr.oneOfType([nr.node,nr.func]),isActive:nr.bool,canBegin:nr.bool,onAnimationEnd:nr.func,shouldReAnimate:nr.bool,onAnimationStart:nr.func,onAnimationReStart:nr.func};function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}function uDe(t,e){return mDe(t)||fDe(t,e)||hDe(t,e)||ADe()}function ADe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hDe(t,e){if(t){if(typeof t=="string")return $U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $U(t,e)}}function $U(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function mDe(t){if(Array.isArray(t))return t}function HU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HU(Object(r),!0).forEach(function(n){pDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pDe(t,e,r){return e=gDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gDe(t){var e=xDe(t,"string");return q0(e)=="symbol"?e:e+""}function xDe(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qU=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var A=[0,0,0,0],h=0,f=4;h<f;h++)A[h]=i[h]>o?o:i[h];u="M".concat(e,",").concat(r+l*A[0]),A[0]>0&&(u+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(d,",").concat(e+c*A[0],",").concat(r)),u+="L ".concat(e+n-c*A[1],",").concat(r),A[1]>0&&(u+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*A[1])),u+="L ".concat(e+n,",").concat(r+a-l*A[2]),A[2]>0&&(u+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(d,`,
        `).concat(e+n-c*A[2],",").concat(r+a)),u+="L ".concat(e+c*A[3],",").concat(r+a),A[3]>0&&(u+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*A[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},yDe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),A=Math.min(o,o+c),h=Math.max(o,o+c);return n>=d&&n<=u&&a>=A&&a<=h}return!1},vDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e6=function(e){var r=zU(zU({},vDe),e),n=k.useRef(),a=k.useState(-1),i=uDe(a,2),o=i[0],l=i[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,d=r.y,u=r.width,A=r.height,h=r.radius,f=r.className,g=r.animationEasing,x=r.animationDuration,m=r.animationBegin,p=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||u===0||A===0)return null;var w=Rt("recharts-rectangle",f);return y?be.createElement(zl,{canBegin:o>0,from:{width:u,height:A,x:c,y:d},to:{width:u,height:A,x:c,y:d},duration:x,animationEasing:g,isActive:y},function(S){var j=S.width,_=S.height,F=S.x,C=S.y;return be.createElement(zl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,isActive:p,easing:g},be.createElement("path",u1({},Ct(r,!0),{className:w,d:qU(F,C,j,_,h),ref:n})))}):be.createElement("path",u1({},Ct(r,!0),{className:w,d:qU(c,d,u,A,h)}))},bDe=["points","className","baseLinePoints","connectNulls"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mh.apply(this,arguments)}function wDe(t,e){if(t==null)return{};var r=jDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VU(t){return SDe(t)||CDe(t)||_De(t)||NDe()}function NDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _De(t,e){if(t){if(typeof t=="string")return xB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xB(t,e)}}function CDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SDe(t){if(Array.isArray(t))return xB(t)}function xB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var KU=function(e){return e&&e.x===+e.x&&e.y===+e.y},BDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){KU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),KU(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Eg=function(e,r){var n=BDe(e);r&&(n=[n.reduce(function(i,o){return[].concat(VU(i),VU(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},EDe=function(e,r,n){var a=Eg(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Eg(r.reverse(),n).slice(1))},kDe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=wDe(e,bDe);if(!r||!r.length)return null;var l=Rt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=EDe(r,a,i);return be.createElement("g",{className:l},be.createElement("path",Mh({},Ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?be.createElement("path",Mh({},Ct(o,!0),{fill:"none",d:Eg(r,i)})):null,c?be.createElement("path",Mh({},Ct(o,!0),{fill:"none",d:Eg(a,i)})):null)}var u=Eg(r,i);return be.createElement("path",Mh({},Ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function yB(){return yB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yB.apply(this,arguments)}var t6=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=Rt("recharts-dot",i);return r===+r&&n===+n&&a===+a?k.createElement("circle",yB({},Ct(e,!1),Pw(e),{className:o,cx:r,cy:n,r:a})):null};function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}var FDe=["x","y","top","left","width","height","className"];function vB(){return vB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vB.apply(this,arguments)}function WU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PDe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(r),!0).forEach(function(n){TDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TDe(t,e,r){return e=ODe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ODe(t){var e=IDe(t,"string");return V0(e)=="symbol"?e:e+""}function IDe(t,e){if(V0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LDe(t,e){if(t==null)return{};var r=MDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DDe=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},UDe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,A=u===void 0?0:u,h=e.height,f=h===void 0?0:h,g=e.className,x=LDe(e,FDe),m=PDe({x:n,y:i,top:l,left:d,width:A,height:f},x);return!Ye(n)||!Ye(i)||!Ye(A)||!Ye(f)||!Ye(l)||!Ye(d)?null:be.createElement("path",vB({},Ct(m,!0),{className:Rt("recharts-cross",g),d:DDe(n,i,A,f,l,d)}))},RDe=lj,QDe=SK,$De=Vo;function HDe(t,e){return t&&t.length?RDe(t,$De(e),QDe):void 0}var zDe=HDe;const qDe=fr(zDe);var VDe=lj,KDe=Vo,WDe=BK;function GDe(t,e){return t&&t.length?VDe(t,KDe(e),WDe):void 0}var XDe=GDe;const YDe=fr(XDe);var JDe=["cx","cy","angle","ticks","axisLine"],ZDe=["ticks","tick","angle","tickFormatter","stroke"];function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kg.apply(this,arguments)}function GU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GU(Object(r),!0).forEach(function(n){mj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XU(t,e){if(t==null)return{};var r=eUe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gW(n.key),n)}}function rUe(t,e,r){return e&&YU(t.prototype,e),r&&YU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nUe(t,e,r){return e=A1(e),sUe(t,pW()?Reflect.construct(e,r||[],A1(t).constructor):e.apply(t,r))}function sUe(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aUe(t)}function aUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(t)}function iUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bB(t,e)}function bB(t,e){return bB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bB(t,e)}function mj(t,e,r){return e=gW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gW(t){var e=oUe(t,"string");return Mf(e)=="symbol"?e:e+""}function oUe(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pj=function(t){function e(){return tUe(this,e),nUe(this,e,arguments)}return iUe(e,t),rUe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Fr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=qDe(l,function(u){return u.coordinate||0}),d=YDe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=XU(n,JDe),u=l.reduce(function(g,x){return[Math.min(g[0],x.coordinate),Math.max(g[1],x.coordinate)]},[1/0,-1/0]),A=Fr(a,i,u[0],o),h=Fr(a,i,u[1],o),f=Vd(Vd(Vd({},Ct(d,!1)),{},{fill:"none"},Ct(c,!1)),{},{x1:A.x,y1:A.y,x2:h.x,y2:h.y});return be.createElement("line",kg({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=XU(a,ZDe),A=this.getTickTextAnchor(),h=Ct(u,!1),f=Ct(o,!1),g=i.map(function(x,m){var p=n.getTickValueCoord(x),y=Vd(Vd(Vd(Vd({textAnchor:A,transform:"rotate(".concat(90-l,", ").concat(p.x,", ").concat(p.y,")")},h),{},{stroke:"none",fill:d},f),{},{index:m},p),{},{payload:x});return be.createElement(ur,kg({className:Rt("recharts-polar-radius-axis-tick",rW(o)),key:"tick-".concat(x.coordinate)},Gu(n.props,x,m)),e.renderTickItem(o,y,c?c(x.value,m):x.value))});return be.createElement(ur,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:be.createElement(ur,{className:Rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),es.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return be.isValidElement(n)?o=be.cloneElement(n,a):Et(n)?o=n(a):o=be.createElement(Xu,kg({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(k.PureComponent);mj(pj,"displayName","PolarRadiusAxis");mj(pj,"axisType","radiusAxis");mj(pj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(this,arguments)}function JU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(r),!0).forEach(function(n){gj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yW(n.key),n)}}function cUe(t,e,r){return e&&ZU(t.prototype,e),r&&ZU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dUe(t,e,r){return e=h1(e),uUe(t,xW()?Reflect.construct(e,r||[],h1(t).constructor):e.apply(t,r))}function uUe(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AUe(t)}function AUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xW=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(t)}function hUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wB(t,e)}function wB(t,e){return wB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wB(t,e)}function gj(t,e,r){return e=yW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yW(t){var e=fUe(t,"string");return Df(e)=="symbol"?e:e+""}function fUe(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mUe=Math.PI/180,e8=1e-5,xj=function(t){function e(){return lUe(this,e),dUe(this,e,arguments)}return hUe(e,t),cUe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,A=Fr(i,o,l,n.coordinate),h=Fr(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:A.x,y1:A.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*mUe),o;return i>e8?o=a==="outer"?"start":"end":i<-e8?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Kd(Kd({},Ct(this.props,!1)),{},{fill:"none"},Ct(l,!1));if(c==="circle")return be.createElement(t6,cu({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,A=u.map(function(h){return Fr(a,i,o,h.coordinate)});return be.createElement(kDe,cu({className:"recharts-polar-angle-axis-line"},d,{points:A}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Ct(this.props,!1),A=Ct(o,!1),h=Kd(Kd({},u),{},{fill:"none"},Ct(l,!1)),f=i.map(function(g,x){var m=n.getTickLineCoord(g),p=n.getTickTextAnchor(g),y=Kd(Kd(Kd({textAnchor:p},u),{},{stroke:"none",fill:d},A),{},{index:x,payload:g,x:m.x2,y:m.y2});return be.createElement(ur,cu({className:Rt("recharts-polar-angle-axis-tick",rW(o)),key:"tick-".concat(g.coordinate)},Gu(n.props,g,x)),l&&be.createElement("line",cu({className:"recharts-polar-angle-axis-tick-line"},h,m)),o&&e.renderTickItem(o,y,c?c(g.value,x):g.value))});return be.createElement(ur,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:be.createElement(ur,{className:Rt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return be.isValidElement(n)?o=be.cloneElement(n,a):Et(n)?o=n(a):o=be.createElement(Xu,cu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(k.PureComponent);gj(xj,"displayName","PolarAngleAxis");gj(xj,"axisType","angleAxis");gj(xj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pUe=jV,gUe=pUe(Object.getPrototypeOf,Object),xUe=gUe,yUe=Xl,vUe=xUe,bUe=Yl,wUe="[object Object]",jUe=Function.prototype,NUe=Object.prototype,vW=jUe.toString,_Ue=NUe.hasOwnProperty,CUe=vW.call(Object);function SUe(t){if(!bUe(t)||yUe(t)!=wUe)return!1;var e=vUe(t);if(e===null)return!0;var r=_Ue.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&vW.call(r)==CUe}var BUe=SUe;const EUe=fr(BUe);var kUe=Xl,FUe=Yl,PUe="[object Boolean]";function TUe(t){return t===!0||t===!1||FUe(t)&&kUe(t)==PUe}var OUe=TUe;const IUe=fr(OUe);function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f1.apply(this,arguments)}function LUe(t,e){return RUe(t)||UUe(t,e)||DUe(t,e)||MUe()}function MUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DUe(t,e){if(t){if(typeof t=="string")return t8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t8(t,e)}}function t8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function RUe(t){if(Array.isArray(t))return t}function r8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function n8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(r),!0).forEach(function(n){QUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QUe(t,e,r){return e=$Ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ue(t){var e=HUe(t,"string");return K0(e)=="symbol"?e:e+""}function HUe(t,e){if(K0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(K0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s8=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},zUe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qUe=function(e){var r=n8(n8({},zUe),e),n=k.useRef(),a=k.useState(-1),i=LUe(a,2),o=i[0],l=i[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,A=r.lowerWidth,h=r.height,f=r.className,g=r.animationEasing,x=r.animationDuration,m=r.animationBegin,p=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||h!==+h||u===0&&A===0||h===0)return null;var y=Rt("recharts-trapezoid",f);return p?be.createElement(zl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:A,height:h,x:c,y:d},duration:x,animationEasing:g,isActive:p},function(w){var S=w.upperWidth,j=w.lowerWidth,_=w.height,F=w.x,C=w.y;return be.createElement(zl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,easing:g},be.createElement("path",f1({},Ct(r,!0),{className:y,d:s8(F,C,S,j,_),ref:n})))}):be.createElement("g",null,be.createElement("path",f1({},Ct(r,!0),{className:y,d:s8(c,d,u,A,h)})))},VUe=["option","shapeType","propTransformer","activeClassName","isActive"];function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function KUe(t,e){if(t==null)return{};var r=WUe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function m1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){GUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GUe(t,e,r){return e=XUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XUe(t){var e=YUe(t,"string");return W0(e)=="symbol"?e:e+""}function YUe(t,e){if(W0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JUe(t,e){return m1(m1({},e),t)}function ZUe(t,e){return t==="symbols"}function i8(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return be.createElement(e6,r);case"trapezoid":return be.createElement(qUe,r);case"sector":return be.createElement(aW,r);case"symbols":if(ZUe(e))return be.createElement(xk,r);break;default:return null}}function e8e(t){return k.isValidElement(t)?t.props:t}function bW(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?JUe:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=KUe(t,VUe),d;if(k.isValidElement(e))d=k.cloneElement(e,m1(m1({},c),e8e(e)));else if(Et(e))d=e(c);else if(EUe(e)&&!IUe(e)){var u=a(e,c);d=be.createElement(i8,{shapeType:r,elementProps:u})}else{var A=c;d=be.createElement(i8,{shapeType:r,elementProps:A})}return l?be.createElement(ur,{className:o},d):d}function yj(t,e){return e!=null&&"trapezoids"in t.props}function vj(t,e){return e!=null&&"sectors"in t.props}function G0(t,e){return e!=null&&"points"in t.props}function t8e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function r8e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function n8e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function s8e(t,e){var r;return yj(t,e)?r=t8e:vj(t,e)?r=r8e:G0(t,e)&&(r=n8e),r}function a8e(t,e){var r;return yj(t,e)?r="trapezoids":vj(t,e)?r="sectors":G0(t,e)&&(r="points"),r}function i8e(t,e){if(yj(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vj(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return G0(t,e)?e.payload:{}}function o8e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=a8e(r,e),i=i8e(r,e),o=n.filter(function(c,d){var u=uj(i,c),A=r.props[a].filter(function(g){var x=s8e(r,e);return x(g,e)}),h=r.props[a].indexOf(A[A.length-1]),f=d===h;return u&&f}),l=n.indexOf(o[o.length-1]);return l}var Cb;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dh.apply(this,arguments)}function o8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(r),!0).forEach(function(n){di(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jW(n.key),n)}}function c8e(t,e,r){return e&&l8(t.prototype,e),r&&l8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d8e(t,e,r){return e=p1(e),u8e(t,wW()?Reflect.construct(e,r||[],p1(t).constructor):e.apply(t,r))}function u8e(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A8e(t)}function A8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wW=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(t)}function h8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jB(t,e)}function jB(t,e){return jB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jB(t,e)}function di(t,e,r){return e=jW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jW(t){var e=f8e(t,"string");return Uf(e)=="symbol"?e:e+""}function f8e(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zl=function(t){function e(r){var n;return l8e(this,e),n=d8e(this,e,[r]),di(n,"pieRef",null),di(n,"sectorRefs",[]),di(n,"id",wx("recharts-pie-")),di(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Et(a)&&a()}),di(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Et(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return h8e(e,t),c8e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Ct(this.props,!1),A=Ct(o,!1),h=Ct(l,!1),f=o&&o.offsetRadius||20,g=n.map(function(x,m){var p=(x.startAngle+x.endAngle)/2,y=Fr(x.cx,x.cy,x.outerRadius+f,p),w=Cr(Cr(Cr(Cr({},u),x),{},{stroke:"none"},A),{},{index:m,textAnchor:e.getTextAnchor(y.x,x.cx)},y),S=Cr(Cr(Cr(Cr({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:m,points:[Fr(x.cx,x.cy,x.outerRadius,p),y]}),j=c;return $t(c)&&$t(d)?j="value":$t(c)&&(j=d),be.createElement(ur,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(m)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(o,w,Fs(x,j)))});return be.createElement(ur,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var A=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,f=A?o:h,g=Cr(Cr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return be.createElement(ur,Dh({ref:function(m){m&&!a.sectorRefs.includes(m)&&a.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},Gu(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),be.createElement(bW,Dh({option:f,isActive:A,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,A=this.state,h=A.prevSectors,f=A.prevIsAnimationActive;return be.createElement(zl,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var x=g.t,m=[],p=i&&i[0],y=p.startAngle;return i.forEach(function(w,S){var j=h&&h[S],_=S>0?Qa(w,"paddingAngle",0):0;if(j){var F=Sc(j.endAngle-j.startAngle,w.endAngle-w.startAngle),C=Cr(Cr({},w),{},{startAngle:y+_,endAngle:y+F(x)+_});m.push(C),y=C.endAngle}else{var E=w.endAngle,T=w.startAngle,v=Sc(0,E-T),N=v(x),O=Cr(Cr({},w),{},{startAngle:y+_,endAngle:y+N+_});m.push(O),y=O.endAngle}}),be.createElement(ur,null,n.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!uj(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,A=a.innerRadius,h=a.outerRadius,f=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Ye(d)||!Ye(u)||!Ye(A)||!Ye(h))return null;var x=Rt("recharts-pie",l);return be.createElement(ur,{tabIndex:this.props.rootTabIndex,className:x,ref:function(p){n.pieRef=p}},this.renderSectors(),c&&this.renderLabels(o),es.renderCallByParent(this.props,null,!1),(!f||g)&&ad.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(be.isValidElement(n))return be.cloneElement(n,a);if(Et(n))return n(a);var o=Rt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return be.createElement(lB,Dh({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(be.isValidElement(n))return be.cloneElement(n,a);var o=i;if(Et(n)&&(o=n(a),be.isValidElement(o)))return o;var l=Rt("recharts-pie-label-text",typeof n!="boolean"&&!Et(n)?n.className:"");return be.createElement(Xu,Dh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(k.PureComponent);Cb=Zl;di(Zl,"displayName","Pie");di(Zl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});di(Zl,"parseDeltaAngle",function(t,e){var r=Ks(e-t),n=Math.min(Math.abs(e-t),360);return r*n});di(Zl,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ct(t,!1),a=yi(r,Nx);return e&&e.length?e.map(function(i,o){return Cr(Cr(Cr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Cr(Cr({},n),i.props)}):[]});di(Zl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=tW(a,i),l=n+Ws(t.cx,a,a/2),c=r+Ws(t.cy,i,i/2),d=Ws(t.innerRadius,o,0),u=Ws(t.outerRadius,o,o*.8),A=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:A}});di(Zl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Cr(Cr({},e.type.defaultProps),e.props):e.props,a=Cb.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,A=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),g=Cb.parseCoordinateOfPie(n,r),x=Cb.parseDeltaAngle(o,l),m=Math.abs(x),p=d;$t(d)&&$t(A)?(ro(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):$t(d)&&(ro(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=A);var y=a.filter(function(C){return Fs(C,p,0)!==0}).length,w=(m>=360?y:y-1)*c,S=m-y*f-w,j=a.reduce(function(C,E){var T=Fs(E,p,0);return C+(Ye(T)?T:0)},0),_;if(j>0){var F;_=a.map(function(C,E){var T=Fs(C,p,0),v=Fs(C,u,E),N=(Ye(T)?T:0)/j,O;E?O=F.endAngle+Ks(x)*c*(T!==0?1:0):O=o;var L=O+Ks(x)*((T!==0?f:0)+N*S),Q=(O+L)/2,D=(g.innerRadius+g.outerRadius)/2,U=[{name:v,value:T,payload:C,dataKey:p,type:h}],R=Fr(g.cx,g.cy,D,Q);return F=Cr(Cr(Cr({percent:N,cornerRadius:i,name:v,tooltipPayload:U,midAngle:Q,middleRadius:D,tooltipPosition:R},C),g),{},{value:Fs(C,p),startAngle:O,endAngle:L,payload:C,paddingAngle:Ks(x)*c}),F})}return Cr(Cr({},g),{},{sectors:_,data:a})});var m8e=Math.ceil,p8e=Math.max;function g8e(t,e,r,n){for(var a=-1,i=p8e(m8e((e-t)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=r;return o}var x8e=g8e,y8e=$V,c8=1/0,v8e=17976931348623157e292;function b8e(t){if(!t)return t===0?t:0;if(t=y8e(t),t===c8||t===-c8){var e=t<0?-1:1;return e*v8e}return t===t?t:0}var NW=b8e,w8e=x8e,j8e=tj,T5=NW;function N8e(t){return function(e,r,n){return n&&typeof n!="number"&&j8e(e,r,n)&&(r=n=void 0),e=T5(e),r===void 0?(r=e,e=0):r=T5(r),n=n===void 0?e<r?1:-1:T5(n),w8e(e,r,n,t)}}var _8e=N8e,C8e=_8e,S8e=C8e(),B8e=S8e;const g1=fr(B8e);function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function d8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function u8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(r),!0).forEach(function(n){_W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _W(t,e,r){return e=E8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E8e(t){var e=k8e(t,"string");return X0(e)=="symbol"?e:e+""}function k8e(t,e){if(X0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F8e=["Webkit","Moz","O","ms"],P8e=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=F8e.reduce(function(i,o){return u8(u8({},i),{},_W({},o+n,r))},{});return a[e]=r,a};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(this,arguments)}function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function O5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){Pa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SW(n.key),n)}}function O8e(t,e,r){return e&&h8(t.prototype,e),r&&h8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function I8e(t,e,r){return e=y1(e),L8e(t,CW()?Reflect.construct(e,r||[],y1(t).constructor):e.apply(t,r))}function L8e(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M8e(t)}function M8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CW=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y1(t)}function D8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NB(t,e)}function NB(t,e){return NB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NB(t,e)}function Pa(t,e,r){return e=SW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SW(t){var e=U8e(t,"string");return Rf(e)=="symbol"?e:e+""}function U8e(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R8e=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Cg().domain(g1(0,c)).range([i,i+o-l]),u=d.domain().map(function(A){return d(A)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},f8=function(e){return e.changedTouches&&!!e.changedTouches.length},Qf=function(t){function e(r){var n;return T8e(this,e),n=I8e(this,e,[r]),Pa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Pa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Pa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Pa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pa(n,"handleSlideDragStart",function(a){var i=f8(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return D8e(e,t),O8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,A=Math.min(a,i),h=Math.max(a,i),f=e.getIndexInRange(o,A),g=e.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Fs(i[n],l,n);return Et(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,A=c.travellerWidth,h=c.startIndex,f=c.endIndex,g=c.onChange,x=n.pageX-i;x>0?x=Math.min(x,d+u-A-l,d+u-A-o):x<0&&(x=Math.max(x,d-o,d-l));var m=this.getIndex({startX:o+x,endX:l+x});(m.startIndex!==h||m.endIndex!==f)&&g&&g(m),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=f8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,A=u.x,h=u.width,f=u.travellerWidth,g=u.onChange,x=u.gap,m=u.data,p={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,A+h-f-d):y<0&&(y=Math.max(y,A-d)),p[o]=d+y;var w=this.getIndex(p),S=w.startIndex,j=w.endIndex,_=function(){var C=m.length-1;return o==="startX"&&(l>c?S%x===0:j%x===0)||l<c&&j===C||o==="endX"&&(l>c?j%x===0:S%x===0)||l>c&&j===C};this.setState(Pa(Pa({},o,d+y),"brushMoveStartX",n.pageX),function(){g&&_()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],A=l.indexOf(u);if(A!==-1){var h=A+n;if(!(h===-1||h>=l.length)){var f=l[h];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(Pa({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return be.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,A=k.Children.only(d);return A?be.cloneElement(A,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,A=c.height,h=c.traveller,f=c.ariaLabel,g=c.data,x=c.startIndex,m=c.endIndex,p=Math.max(n,this.props.x),y=O5(O5({},Ct(this.props,!1)),{},{x:p,y:d,width:u,height:A}),w=f||"Min value: ".concat((i=g[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[m])===null||o===void 0?void 0:o.name);return be.createElement(ur,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,A=Math.max(Math.abs(a-n)-d,0);return be.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:A,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,A=u.startX,h=u.endX,f=5,g={pointerEvents:"none",fill:d};return be.createElement(ur,{className:"recharts-brush-texts"},be.createElement(Xu,x1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(A,h)-f,y:o+l/2},g),this.getTextOfTick(a)),be.createElement(Xu,x1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(A,h)+c+f,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,A=n.alwaysShowText,h=this.state,f=h.startX,g=h.endX,x=h.isTextActive,m=h.isSlideMoving,p=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Ye(l)||!Ye(c)||!Ye(d)||!Ye(u)||d<=0||u<=0)return null;var w=Rt("recharts-brush",i),S=be.Children.count(o)===1,j=P8e("userSelect","none");return be.createElement(ur,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(x||m||p||y||A)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return be.createElement(be.Fragment,null,be.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),be.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),be.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return be.isValidElement(n)?i=be.cloneElement(n,a):Et(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,A=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return O5({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?R8e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:A}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(k.PureComponent);Pa(Qf,"displayName","Brush");Pa(Qf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Q8e=_k;function $8e(t,e){var r;return Q8e(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var H8e=$8e,z8e=mV,q8e=Vo,V8e=H8e,K8e=ja,W8e=tj;function G8e(t,e,r){var n=K8e(t)?z8e:V8e;return r&&W8e(t,e,r)&&(e=void 0),n(t,q8e(e))}var X8e=G8e;const Y8e=fr(X8e);var Ro=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},m8=MV;function J8e(t,e,r){e=="__proto__"&&m8?m8(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Z8e=J8e,eRe=Z8e,tRe=IV,rRe=Vo;function nRe(t,e){var r={};return e=rRe(e),tRe(t,function(n,a,i){eRe(r,a,e(n,a,i))}),r}var sRe=nRe;const aRe=fr(sRe);function iRe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var oRe=iRe,lRe=_k;function cRe(t,e){var r=!0;return lRe(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var dRe=cRe,uRe=oRe,ARe=dRe,hRe=Vo,fRe=ja,mRe=tj;function pRe(t,e,r){var n=fRe(t)?uRe:ARe;return r&&mRe(t,e,r)&&(e=void 0),n(t,hRe(e))}var gRe=pRe;const BW=fr(gRe);var xRe=["x","y"];function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function _B(){return _B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_B.apply(this,arguments)}function p8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(r),!0).forEach(function(n){yRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yRe(t,e,r){return e=vRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vRe(t){var e=bRe(t,"string");return Y0(e)=="symbol"?e:e+""}function bRe(t,e){if(Y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wRe(t,e){if(t==null)return{};var r=jRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NRe(t,e){var r=t.x,n=t.y,a=wRe(t,xRe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),A="".concat(e.width||a.width),h=parseInt(A,10);return Bp(Bp(Bp(Bp(Bp({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function g8(t){return be.createElement(bW,_B({shapeType:"rectangle",propTransformer:NRe,activeClassName:"recharts-active-bar"},t))}var _Re=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Ye(n)||Xje(n);return i?e(n,a):(i||Ju(),r)}},CRe=["value","background"],EW;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function SRe(t,e){if(t==null)return{};var r=BRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){Hc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ERe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FW(n.key),n)}}function kRe(t,e,r){return e&&y8(t.prototype,e),r&&y8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FRe(t,e,r){return e=b1(e),PRe(t,kW()?Reflect.construct(e,r||[],b1(t).constructor):e.apply(t,r))}function PRe(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TRe(t)}function TRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kW=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b1(t)}function ORe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CB(t,e)}function CB(t,e){return CB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CB(t,e)}function Hc(t,e,r){return e=FW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FW(t){var e=IRe(t,"string");return $f(e)=="symbol"?e:e+""}function IRe(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ql=function(t){function e(){var r;ERe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=FRe(this,e,[].concat(a)),Hc(r,"state",{isAnimationFinished:!1}),Hc(r,"id",wx("recharts-bar-")),Hc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Hc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ORe(e,t),kRe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Ct(this.props,!1);return n&&n.map(function(A,h){var f=h===c,g=f?d:o,x=Nn(Nn(Nn({},u),A),{},{isActive:f,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return be.createElement(ur,v1({className:"recharts-bar-rectangle"},Gu(a.props,A,h),{key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(h)}),be.createElement(g8,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,A=a.animationId,h=this.state.prevData;return be.createElement(zl,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,x=i.map(function(m,p){var y=h&&h[p];if(y){var w=Sc(y.x,m.x),S=Sc(y.y,m.y),j=Sc(y.width,m.width),_=Sc(y.height,m.height);return Nn(Nn({},m),{},{x:w(g),y:S(g),width:j(g),height:_(g)})}if(o==="horizontal"){var F=Sc(0,m.height),C=F(g);return Nn(Nn({},m),{},{y:m.y+m.height-C,height:C})}var E=Sc(0,m.width),T=E(g);return Nn(Nn({},m),{},{width:T})});return be.createElement(ur,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!uj(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ct(this.props.background,!1);return i.map(function(d,u){d.value;var A=d.background,h=SRe(d,CRe);if(!A)return null;var f=Nn(Nn(Nn(Nn(Nn({},h),{},{fill:"#eee"},A),c),Gu(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return be.createElement(g8,v1({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,A=yi(u,fj);if(!A)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,f=function(m,p){var y=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:y,errorVal:Fs(m,p)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return be.createElement(ur,g,A.map(function(x){return be.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,A=n.width,h=n.height,f=n.isAnimationActive,g=n.background,x=n.id;if(a||!i||!i.length)return null;var m=this.state.isAnimationFinished,p=Rt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=y||w,j=$t(x)?this.id:x;return be.createElement(ur,{className:p},y||w?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(j)},be.createElement("rect",{x:y?d:d-A/2,y:w?u:u-h/2,width:y?A:A*2,height:w?h:h*2}))):null,be.createElement(ur,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!f||m)&&ad.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(k.PureComponent);EW=ql;Hc(ql,"displayName","Bar");Hc(ql,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hc(ql,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,A=t.displayedData,h=t.offset,f=fIe(n,r);if(!f)return null;var g=e.layout,x=r.type.defaultProps,m=x!==void 0?Nn(Nn({},x),r.props):r.props,p=m.dataKey,y=m.children,w=m.minPointSize,S=g==="horizontal"?o:i,j=d?S.scale.domain():null,_=bIe({numericAxis:S}),F=yi(y,Nx),C=A.map(function(E,T){var v,N,O,L,Q,D;d?v=mIe(d[u+T],j):(v=Fs(E,p),Array.isArray(v)||(v=[_,v]));var U=_Re(w,EW.defaultProps.minPointSize)(v[1],T);if(g==="horizontal"){var R,z=[o.scale(v[0]),o.scale(v[1])],Y=z[0],X=z[1];N=lU({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:E,index:T}),O=(R=X??Y)!==null&&R!==void 0?R:void 0,L=f.size;var $=Y-X;if(Q=Number.isNaN($)?0:$,D={x:N,y:o.y,width:L,height:o.height},Math.abs(U)>0&&Math.abs(Q)<Math.abs(U)){var M=Ks(Q||U)*(Math.abs(U)-Math.abs(Q));O-=M,Q+=M}}else{var G=[i.scale(v[0]),i.scale(v[1])],V=G[0],ae=G[1];if(N=V,O=lU({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:E,index:T}),L=ae-V,Q=f.size,D={x:i.x,y:O,width:i.width,height:Q},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var Ae=Ks(L||U)*(Math.abs(U)-Math.abs(L));L+=Ae}}return Nn(Nn(Nn({},E),{},{x:N,y:O,width:L,height:Q,value:d?v:v[1],payload:E,background:D},F&&F[T]&&F[T].props),{},{tooltipPayload:[ZK(r,E)],tooltipPosition:{x:N+L/2,y:O+Q/2}})});return Nn({data:C,layout:g},h)});function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function LRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PW(n.key),n)}}function MRe(t,e,r){return e&&v8(t.prototype,e),r&&v8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(r),!0).forEach(function(n){bj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bj(t,e,r){return e=PW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PW(t){var e=DRe(t,"string");return J0(e)=="symbol"?e:e+""}function DRe(t,e){if(J0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var URe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),A={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Oa(d,ql);return u.reduce(function(f,g){var x=r[g],m=x.orientation,p=x.domain,y=x.padding,w=y===void 0?{}:y,S=x.mirror,j=x.reversed,_="".concat(m).concat(S?"Mirror":""),F,C,E,T,v;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var N=p[1]-p[0],O=1/0,L=x.categoricalDomain.sort(Zje);if(L.forEach(function(G,V){V>0&&(O=Math.min((G||0)-(L[V-1]||0),O))}),Number.isFinite(O)){var Q=O/N,D=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(F=Q*D/2),x.padding==="no-gap"){var U=Ws(e.barCategoryGap,Q*D),R=Q*D/2;F=R-U-(R-U)/D*U}}}a==="xAxis"?C=[n.left+(w.left||0)+(F||0),n.left+n.width-(w.right||0)-(F||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(F||0),n.top+n.height-(w.bottom||0)-(F||0)]:C=x.range,j&&(C=[C[1],C[0]]);var z=GK(x,i,h),Y=z.scale,X=z.realScaleType;Y.domain(p).range(C),XK(Y);var $=YK(Y,Wi(Wi({},x),{},{realScaleType:X}));a==="xAxis"?(v=m==="top"&&!S||m==="bottom"&&S,E=n.left,T=A[_]-v*x.height):a==="yAxis"&&(v=m==="left"&&!S||m==="right"&&S,E=A[_]-v*x.width,T=n.top);var M=Wi(Wi(Wi({},x),$),{},{realScaleType:X,x:E,y:T,scale:Y,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return M.bandSize=a1(M,$),!x.hide&&a==="xAxis"?A[_]+=(v?-1:1)*M.height:x.hide||(A[_]+=(v?-1:1)*M.width),Wi(Wi({},f),{},bj({},g,M))},{})},TW=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},RRe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return TW({x:r,y:n},{x:a,y:i})},OW=function(){function t(e){LRe(this,t),this.scale=e}return MRe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();bj(OW,"EPS",1e-4);var r6=function(e){var r=Object.keys(e).reduce(function(n,a){return Wi(Wi({},n),{},bj({},a,OW.create(e[a])))},{});return Wi(Wi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return aRe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return BW(a,function(i,o){return r[o].isInRange(i)})}})};function QRe(t){return(t%180+180)%180}var $Re=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=QRe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},HRe=Vo,zRe=jx,qRe=Z2;function VRe(t){return function(e,r,n){var a=Object(e);if(!zRe(e)){var i=HRe(r);e=qRe(e),r=function(l){return i(a[l],l,a)}}var o=t(e,r,n);return o>-1?a[i?e[o]:o]:void 0}}var KRe=VRe,WRe=NW;function GRe(t){var e=WRe(t),r=e%1;return e===e?r?e-r:e:0}var XRe=GRe,YRe=EV,JRe=Vo,ZRe=XRe,eQe=Math.max;function tQe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:ZRe(r);return a<0&&(a=eQe(n+a,0)),YRe(t,JRe(e),a)}var rQe=tQe,nQe=KRe,sQe=rQe,aQe=nQe(sQe),iQe=aQe;const oQe=fr(iQe);var lQe=rje(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),n6=k.createContext(void 0),s6=k.createContext(void 0),IW=k.createContext(void 0),LW=k.createContext({}),MW=k.createContext(void 0),DW=k.createContext(0),UW=k.createContext(0),w8=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=lQe(i);return be.createElement(n6.Provider,{value:n},be.createElement(s6.Provider,{value:a},be.createElement(LW.Provider,{value:i},be.createElement(IW.Provider,{value:u},be.createElement(MW.Provider,{value:o},be.createElement(DW.Provider,{value:d},be.createElement(UW.Provider,{value:c},l)))))))},cQe=function(){return k.useContext(MW)},RW=function(e){var r=k.useContext(n6);r==null&&Ju();var n=r[e];return n==null&&Ju(),n},dQe=function(){var e=k.useContext(n6);return Pc(e)},uQe=function(){var e=k.useContext(s6),r=oQe(e,function(n){return BW(n.domain,Number.isFinite)});return r||Pc(e)},QW=function(e){var r=k.useContext(s6);r==null&&Ju();var n=r[e];return n==null&&Ju(),n},AQe=function(){var e=k.useContext(IW);return e},hQe=function(){return k.useContext(LW)},a6=function(){return k.useContext(UW)},i6=function(){return k.useContext(DW)};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function fQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HW(n.key),n)}}function pQe(t,e,r){return e&&mQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gQe(t,e,r){return e=w1(e),xQe(t,$W()?Reflect.construct(e,r||[],w1(t).constructor):e.apply(t,r))}function xQe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yQe(t)}function yQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!t})()}function w1(t){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w1(t)}function vQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SB(t,e)}function SB(t,e){return SB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SB(t,e)}function j8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function N8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(r),!0).forEach(function(n){o6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o6(t,e,r){return e=HW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HW(t){var e=bQe(t,"string");return Hf(e)=="symbol"?e:e+""}function bQe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wQe(t,e){return CQe(t)||_Qe(t,e)||NQe(t,e)||jQe()}function jQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQe(t,e){if(t){if(typeof t=="string")return _8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _8(t,e)}}function _8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Qe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function CQe(t){if(Array.isArray(t))return t}function BB(){return BB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BB.apply(this,arguments)}var SQe=function(e,r){var n;return be.isValidElement(e)?n=be.cloneElement(e,r):Et(e)?n=e(r):n=be.createElement("line",BB({},r,{className:"recharts-reference-line-line"})),n},BQe=function(e,r,n,a,i,o,l,c,d){var u=i.x,A=i.y,h=i.width,f=i.height;if(n){var g=d.y,x=e.y.apply(g,{position:o});if(Ro(d,"discard")&&!e.y.isInRange(x))return null;var m=[{x:u+h,y:x},{x:u,y:x}];return c==="left"?m.reverse():m}if(r){var p=d.x,y=e.x.apply(p,{position:o});if(Ro(d,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:A+f},{x:y,y:A}];return l==="top"?w.reverse():w}if(a){var S=d.segment,j=S.map(function(_){return e.apply(_,{position:o})});return Ro(d,"discard")&&Y8e(j,function(_){return!e.isInRange(_)})?null:j}return null};function EQe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=cQe(),u=RW(a),A=QW(i),h=AQe();if(!d||!h)return null;ro(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=r6({x:u.scale,y:A.scale}),g=Hn(e),x=Hn(r),m=n&&n.length===2,p=BQe(f,g,x,m,h,t.position,u.orientation,A.orientation,t);if(!p)return null;var y=wQe(p,2),w=y[0],S=w.x,j=w.y,_=y[1],F=_.x,C=_.y,E=Ro(t,"hidden")?"url(#".concat(d,")"):void 0,T=N8(N8({clipPath:E},Ct(t,!0)),{},{x1:S,y1:j,x2:F,y2:C});return be.createElement(ur,{className:Rt("recharts-reference-line",l)},SQe(o,T),es.renderCallByParent(t,RRe({x1:S,y1:j,x2:F,y2:C})))}var l6=function(t){function e(){return fQe(this,e),gQe(this,e,arguments)}return vQe(e,t),pQe(e,[{key:"render",value:function(){return be.createElement(EQe,this.props)}}])}(be.Component);o6(l6,"displayName","ReferenceLine");o6(l6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function EB(){return EB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EB.apply(this,arguments)}function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function C8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function S8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(r),!0).forEach(function(n){wj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qW(n.key),n)}}function PQe(t,e,r){return e&&FQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TQe(t,e,r){return e=j1(e),OQe(t,zW()?Reflect.construct(e,r||[],j1(t).constructor):e.apply(t,r))}function OQe(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IQe(t)}function IQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!t})()}function j1(t){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j1(t)}function LQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kB(t,e)}function kB(t,e){return kB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kB(t,e)}function wj(t,e,r){return e=qW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qW(t){var e=MQe(t,"string");return zf(e)=="symbol"?e:e+""}function MQe(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DQe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=r6({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ro(e,"discard")&&!o.isInRange(l)?null:l},jj=function(t){function e(){return kQe(this,e),TQe(this,e,arguments)}return LQe(e,t),PQe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=Hn(a),u=Hn(i);if(ro(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var A=DQe(this.props);if(!A)return null;var h=A.x,f=A.y,g=this.props,x=g.shape,m=g.className,p=Ro(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=S8(S8({clipPath:p},Ct(this.props,!0)),{},{cx:h,cy:f});return be.createElement(ur,{className:Rt("recharts-reference-dot",m)},e.renderDot(x,y),es.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(be.Component);wj(jj,"displayName","ReferenceDot");wj(jj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wj(jj,"renderDot",function(t,e){var r;return be.isValidElement(t)?r=be.cloneElement(t,e):Et(t)?r=t(e):r=be.createElement(t6,EB({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function FB(){return FB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FB.apply(this,arguments)}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function B8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function E8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(r),!0).forEach(function(n){Nj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KW(n.key),n)}}function QQe(t,e,r){return e&&RQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Qe(t,e,r){return e=N1(e),HQe(t,VW()?Reflect.construct(e,r||[],N1(t).constructor):e.apply(t,r))}function HQe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zQe(t)}function zQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N1(t)}function qQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PB(t,e)}function PB(t,e){return PB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PB(t,e)}function Nj(t,e,r){return e=KW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KW(t){var e=VQe(t,"string");return qf(e)=="symbol"?e:e+""}function VQe(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KQe=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,A=i.yAxis;if(!u||!A)return null;var h=r6({x:u.scale,y:A.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Ro(i,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:TW(f,g)},_j=function(t){function e(){return UQe(this,e),$Qe(this,e,arguments)}return qQe(e,t),QQe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;ro(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=Hn(a),h=Hn(i),f=Hn(o),g=Hn(l),x=this.props.shape;if(!A&&!h&&!f&&!g&&!x)return null;var m=KQe(A,h,f,g,this.props);if(!m&&!x)return null;var p=Ro(this.props,"hidden")?"url(#".concat(u,")"):void 0;return be.createElement(ur,{className:Rt("recharts-reference-area",c)},e.renderRect(x,E8(E8({clipPath:p},Ct(this.props,!0)),m)),es.renderCallByParent(this.props,m))}}])}(be.Component);Nj(_j,"displayName","ReferenceArea");Nj(_j,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Nj(_j,"renderRect",function(t,e){var r;return be.isValidElement(t)?r=be.cloneElement(t,e):Et(t)?r=t(e):r=be.createElement(e6,FB({},e,{className:"recharts-reference-area-rect"})),r});function WW(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function WQe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return $Re(n,r)}function GQe(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function _1(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function XQe(t,e){return WW(t,e+1)}function YQe(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,A=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:WW(n,d)};var x=c,m,p=function(){return m===void 0&&(m=r(g,x)),m},y=g.coordinate,w=c===0||_1(t,y,p,u,l);w||(c=0,u=o,d+=1),w&&(u=y+t*(p()/2+a),c+=d)},h;d<=i.length;)if(h=A(),h)return h.v;return[]}function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function k8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(r),!0).forEach(function(n){JQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JQe(t,e,r){return e=ZQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZQe(t){var e=e7e(t,"string");return Z0(e)=="symbol"?e:e+""}function e7e(t,e){if(Z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t7e(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(h){var f=i[h],g,x=function(){return g===void 0&&(g=r(f,h)),g};if(h===o-1){var m=t*(f.coordinate+t*x()/2-c);i[h]=f=Cs(Cs({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate})}else i[h]=f=Cs(Cs({},f),{},{tickCoord:f.coordinate});var p=_1(t,f.tickCoord,x,l,c);p&&(c=f.tickCoord-t*(x()/2+a),i[h]=Cs(Cs({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function r7e(t,e,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=n[l-1],A=r(u,l-1),h=t*(u.coordinate+t*A/2-d);o[l-1]=u=Cs(Cs({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var f=_1(t,u.tickCoord,function(){return A},c,d);f&&(d=u.tickCoord-t*(A/2+a),o[l-1]=Cs(Cs({},u),{},{isShow:!0}))}for(var g=i?l-1:l,x=function(y){var w=o[y],S,j=function(){return S===void 0&&(S=r(w,y)),S};if(y===0){var _=t*(w.coordinate-t*j()/2-c);o[y]=w=Cs(Cs({},w),{},{tickCoord:_<0?w.coordinate-_*t:w.coordinate})}else o[y]=w=Cs(Cs({},w),{},{tickCoord:w.coordinate});var F=_1(t,w.tickCoord,j,c,d);F&&(c=w.tickCoord+t*(j()/2+a),o[y]=Cs(Cs({},w),{},{isShow:!0}))},m=0;m<g;m++)x(m);return o}function c6(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,A=t.angle;if(!a||!a.length||!n)return[];if(Ye(c)||pm.isSsr)return XQe(a,typeof c=="number"&&Ye(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",g=u&&f==="width"?_g(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(w,S){var j=Et(d)?d(w.value,S):w.value;return f==="width"?WQe(_g(j,{fontSize:e,letterSpacing:r}),g,A):_g(j,{fontSize:e,letterSpacing:r})[f]},m=a.length>=2?Ks(a[1].coordinate-a[0].coordinate):1,p=GQe(i,m,f);return c==="equidistantPreserveStart"?YQe(m,p,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=r7e(m,p,x,a,o,c==="preserveStartEnd"):h=t7e(m,p,x,a,o),h.filter(function(y){return y.isShow}))}var n7e=["viewBox"],s7e=["viewBox"],a7e=["ticks"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uh.apply(this,arguments)}function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){d6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I5(t,e){if(t==null)return{};var r=i7e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function i7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XW(n.key),n)}}function l7e(t,e,r){return e&&P8(t.prototype,e),r&&P8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c7e(t,e,r){return e=C1(e),d7e(t,GW()?Reflect.construct(e,r||[],C1(t).constructor):e.apply(t,r))}function d7e(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u7e(t)}function u7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GW=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(t)}function A7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TB(t,e)}function TB(t,e){return TB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TB(t,e)}function d6(t,e,r){return e=XW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XW(t){var e=h7e(t,"string");return Vf(e)=="symbol"?e:e+""}function h7e(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vm=function(t){function e(r){var n;return o7e(this,e),n=c7e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return A7e(e,t),l7e(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=I5(n,n7e),l=this.props,c=l.viewBox,d=I5(l,s7e);return!cf(i,c)||!cf(o,d)||!cf(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,A=a.mirror,h=a.tickMargin,f,g,x,m,p,y,w=A?-1:1,S=n.tickSize||u,j=Ye(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":f=g=n.coordinate,m=o+ +!A*c,x=m-w*S,y=x-w*h,p=j;break;case"left":x=m=n.coordinate,g=i+ +!A*l,f=g-w*S,p=f-w*h,y=j;break;case"right":x=m=n.coordinate,g=i+ +A*l,f=g+w*S,p=f+w*h,y=j;break;default:f=g=n.coordinate,m=o+ +A*c,x=m+w*S,y=x+w*h,p=j;break}return{line:{x1:f,y1:x,x2:g,y2:m},tick:{x:p,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,A=Ln(Ln(Ln({},Ct(this.props,!1)),Ct(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);A=Ln(Ln({},A),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);A=Ln(Ln({},A),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return be.createElement("line",Uh({},A,{className:Rt("recharts-cartesian-axis-line",Qa(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,A=l.tickFormatter,h=l.unit,f=c6(Ln(Ln({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),m=Ct(this.props,!1),p=Ct(u,!1),y=Ln(Ln({},m),{},{fill:"none"},Ct(c,!1)),w=f.map(function(S,j){var _=o.getTickLineCoord(S),F=_.line,C=_.tick,E=Ln(Ln(Ln(Ln({textAnchor:g,verticalAnchor:x},m),{},{stroke:"none",fill:d},p),C),{},{index:j,payload:S,visibleTicksCount:f.length,tickFormatter:A});return be.createElement(ur,Uh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Gu(o.props,S,j)),c&&be.createElement("line",Uh({},y,F,{className:Rt("recharts-cartesian-axis-tick-line",Qa(c,"className"))})),u&&e.renderTickItem(u,E,"".concat(Et(A)?A(S.value,j):S.value).concat(h||"")))});return be.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var A=this.props,h=A.ticks,f=I5(A,a7e),g=h;return Et(c)&&(g=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!g||!g.length?null:be.createElement(ur,{className:Rt("recharts-cartesian-axis",d),ref:function(m){n.layerReference=m}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),es.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Rt(a.className,"recharts-cartesian-axis-tick-value");return be.isValidElement(n)?o=be.cloneElement(n,Ln(Ln({},a),{},{className:l})):Et(n)?o=n(Ln(Ln({},a),{},{className:l})):o=be.createElement(Xu,Uh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(k.Component);d6(vm,"displayName","CartesianAxis");d6(vm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var f7e=["x1","y1","x2","y2","key"],m7e=["offset"];function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function T8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(r),!0).forEach(function(n){p7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p7e(t,e,r){return e=g7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g7e(t){var e=x7e(t,"string");return Zu(e)=="symbol"?e:e+""}function x7e(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ju.apply(this,arguments)}function O8(t,e){if(t==null)return{};var r=y7e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var v7e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return be.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YW(t,e){var r;if(be.isValidElement(t))r=be.cloneElement(t,e);else if(Et(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=O8(e,f7e),d=Ct(c,!1);d.offset;var u=O8(d,m7e);r=be.createElement("line",ju({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function b7e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Es(Es({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return YW(a,d)});return be.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function w7e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Es(Es({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return YW(a,d)});return be.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function j7e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==u[0]&&u.unshift(0);var A=u.map(function(h,f){var g=!u[f+1],x=g?a+o-h:u[f+1]-h;if(x<=0)return null;var m=f%e.length;return be.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:x,width:i,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function N7e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==u[0]&&u.unshift(0);var A=u.map(function(h,f){var g=!u[f+1],x=g?i+l-h:u[f+1]-h;if(x<=0)return null;var m=f%n.length;return be.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:x,height:c,stroke:"none",fill:n[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var _7e=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return WK(c6(Es(Es(Es({},vm.defaultProps),n),{},{ticks:Cl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},C7e=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return WK(c6(Es(Es(Es({},vm.defaultProps),n),{},{ticks:Cl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},oh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function u6(t){var e,r,n,a,i,o,l=a6(),c=i6(),d=hQe(),u=Es(Es({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:oh.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:oh.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:oh.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:oh.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:oh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:oh.verticalFill,x:Ye(t.x)?t.x:d.left,y:Ye(t.y)?t.y:d.top,width:Ye(t.width)?t.width:d.width,height:Ye(t.height)?t.height:d.height}),A=u.x,h=u.y,f=u.width,g=u.height,x=u.syncWithTicks,m=u.horizontalValues,p=u.verticalValues,y=dQe(),w=uQe();if(!Ye(f)||f<=0||!Ye(g)||g<=0||!Ye(A)||A!==+A||!Ye(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||_7e,j=u.horizontalCoordinatesGenerator||C7e,_=u.horizontalPoints,F=u.verticalPoints;if((!_||!_.length)&&Et(j)){var C=m&&m.length,E=j({yAxis:w?Es(Es({},w),{},{ticks:C?m:w.ticks}):void 0,width:l,height:c,offset:d},C?!0:x);ro(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zu(E),"]")),Array.isArray(E)&&(_=E)}if((!F||!F.length)&&Et(S)){var T=p&&p.length,v=S({xAxis:y?Es(Es({},y),{},{ticks:T?p:y.ticks}):void 0,width:l,height:c,offset:d},T?!0:x);ro(Array.isArray(v),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zu(v),"]")),Array.isArray(v)&&(F=v)}return be.createElement("g",{className:"recharts-cartesian-grid"},be.createElement(v7e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),be.createElement(b7e,ju({},u,{offset:d,horizontalPoints:_,xAxis:y,yAxis:w})),be.createElement(w7e,ju({},u,{offset:d,verticalPoints:F,xAxis:y,yAxis:w})),be.createElement(j7e,ju({},u,{horizontalPoints:_})),be.createElement(N7e,ju({},u,{verticalPoints:F})))}u6.displayName="CartesianGrid";function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function S7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eG(n.key),n)}}function E7e(t,e,r){return e&&B7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k7e(t,e,r){return e=S1(e),F7e(t,JW()?Reflect.construct(e,r||[],S1(t).constructor):e.apply(t,r))}function F7e(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P7e(t)}function P7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S1(t)}function T7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OB(t,e)}function OB(t,e){return OB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OB(t,e)}function ZW(t,e,r){return e=eG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eG(t){var e=O7e(t,"string");return Kf(e)=="symbol"?e:e+""}function O7e(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IB(){return IB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IB.apply(this,arguments)}function I7e(t){var e=t.xAxisId,r=a6(),n=i6(),a=RW(e);return a==null?null:k.createElement(vm,IB({},a,{className:Rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Cl(o,!0)}}))}var Ex=function(t){function e(){return S7e(this,e),k7e(this,e,arguments)}return T7e(e,t),E7e(e,[{key:"render",value:function(){return k.createElement(I7e,this.props)}}])}(k.Component);ZW(Ex,"displayName","XAxis");ZW(Ex,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function L7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nG(n.key),n)}}function D7e(t,e,r){return e&&M7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U7e(t,e,r){return e=B1(e),R7e(t,tG()?Reflect.construct(e,r||[],B1(t).constructor):e.apply(t,r))}function R7e(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q7e(t)}function Q7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!t})()}function B1(t){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(t)}function $7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LB(t,e)}function LB(t,e){return LB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LB(t,e)}function rG(t,e,r){return e=nG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=H7e(t,"string");return Wf(e)=="symbol"?e:e+""}function H7e(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function MB(){return MB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MB.apply(this,arguments)}var z7e=function(e){var r=e.yAxisId,n=a6(),a=i6(),i=QW(r);return i==null?null:k.createElement(vm,MB({},i,{className:Rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Cl(l,!0)}}))},kx=function(t){function e(){return L7e(this,e),U7e(this,e,arguments)}return $7e(e,t),D7e(e,[{key:"render",value:function(){return k.createElement(z7e,this.props)}}])}(k.Component);rG(kx,"displayName","YAxis");rG(kx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function I8(t){return W7e(t)||K7e(t)||V7e(t)||q7e()}function q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7e(t,e){if(t){if(typeof t=="string")return DB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DB(t,e)}}function K7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W7e(t){if(Array.isArray(t))return DB(t)}function DB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var UB=function(e,r,n,a,i){var o=yi(e,l6),l=yi(e,jj),c=[].concat(I8(o),I8(l)),d=yi(e,_j),u="".concat(a,"Id"),A=a[0],h=r;if(c.length&&(h=c.reduce(function(x,m){if(m.props[u]===n&&Ro(m.props,"extendDomain")&&Ye(m.props[A])){var p=m.props[A];return[Math.min(x[0],p),Math.max(x[1],p)]}return x},h)),d.length){var f="".concat(A,"1"),g="".concat(A,"2");h=d.reduce(function(x,m){if(m.props[u]===n&&Ro(m.props,"extendDomain")&&Ye(m.props[f])&&Ye(m.props[g])){var p=m.props[f],y=m.props[g];return[Math.min(x[0],p,y),Math.max(x[1],p,y)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,m){return Ye(m)?[Math.min(x[0],m),Math.max(x[1],m)]:x},h)),h},sG={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,A,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,A||c,h),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,A;if(this._eventsCount===0)return d;for(A in u=this._events)e.call(u,A)&&d.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,A=this._events[u];if(!A)return[];if(A.fn)return[A.fn];for(var h=0,f=A.length,g=new Array(f);h<f;h++)g[h]=A[h].fn;return g},l.prototype.listenerCount=function(d){var u=r?r+d:d,A=this._events[u];return A?A.fn?1:A.length:0},l.prototype.emit=function(d,u,A,h,f,g){var x=r?r+d:d;if(!this._events[x])return!1;var m=this._events[x],p=arguments.length,y,w;if(m.fn){switch(m.once&&this.removeListener(d,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,A),!0;case 4:return m.fn.call(m.context,u,A,h),!0;case 5:return m.fn.call(m.context,u,A,h,f),!0;case 6:return m.fn.call(m.context,u,A,h,f,g),!0}for(w=1,y=new Array(p-1);w<p;w++)y[w-1]=arguments[w];m.fn.apply(m.context,y)}else{var S=m.length,j;for(w=0;w<S;w++)switch(m[w].once&&this.removeListener(d,m[w].fn,void 0,!0),p){case 1:m[w].fn.call(m[w].context);break;case 2:m[w].fn.call(m[w].context,u);break;case 3:m[w].fn.call(m[w].context,u,A);break;case 4:m[w].fn.call(m[w].context,u,A,h);break;default:if(!y)for(j=1,y=new Array(p-1);j<p;j++)y[j-1]=arguments[j];m[w].fn.apply(m[w].context,y)}}return!0},l.prototype.on=function(d,u,A){return i(this,d,u,A,!1)},l.prototype.once=function(d,u,A){return i(this,d,u,A,!0)},l.prototype.removeListener=function(d,u,A,h){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!A||g.context===A)&&o(this,f);else{for(var x=0,m=[],p=g.length;x<p;x++)(g[x].fn!==u||h&&!g[x].once||A&&g[x].context!==A)&&m.push(g[x]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(sG);var G7e=sG.exports;const X7e=fr(G7e);var L5=new X7e,M5="recharts.syncMouseEvents";function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function Y7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aG(n.key),n)}}function Z7e(t,e,r){return e&&J7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D5(t,e,r){return e=aG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aG(t){var e=e$e(t,"string");return ex(e)=="symbol"?e:e+""}function e$e(t,e){if(ex(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t$e=function(){function t(){Y7e(this,t),D5(this,"activeIndex",0),D5(this,"coordinateList",[]),D5(this,"layout","horizontal")}return Z7e(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,A=u===void 0?null:u,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=A??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,A=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:A,pageY:h})}}}])}();function r$e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Ye(n)&&Ye(a))return!0}return!1}function n$e(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function iG(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Fr(e,r,n,a),l=Fr(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function s$e(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,A=e.angle,h=Fr(l,c,d,A),f=Fr(l,c,u,A);n=h.x,a=h.y,i=f.x,o=f.y}else return iG(e);return[{x:n,y:a},{x:i,y:o}]}function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function L8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(r),!0).forEach(function(n){a$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a$e(t,e,r){return e=i$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i$e(t){var e=o$e(t,"string");return tx(e)=="symbol"?e:e+""}function o$e(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l$e(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,A=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,x=lB;if(h==="ScatterChart")g=o,x=UDe;else if(h==="BarChart")g=n$e(A,o,c,u),x=e6;else if(A==="radial"){var m=iG(o),p=m.cx,y=m.cy,w=m.radius,S=m.startAngle,j=m.endAngle;g={cx:p,cy:y,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},x=aW}else g={points:s$e(A,o,c)},x=lB;var _=qv(qv(qv(qv({stroke:"#ccc",pointerEvents:"none"},c),g),Ct(f,!1)),{},{payload:l,payloadIndex:d,className:Rt("recharts-tooltip-cursor",f.className)});return k.isValidElement(f)?k.cloneElement(f,_):k.createElement(x,_)}var c$e=["item"],d$e=["children","className","width","height","style","compact","title","desc"];function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rh.apply(this,arguments)}function M8(t,e){return h$e(t)||A$e(t,e)||lG(t,e)||u$e()}function u$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function h$e(t){if(Array.isArray(t))return t}function D8(t,e){if(t==null)return{};var r=f$e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cG(n.key),n)}}function g$e(t,e,r){return e&&p$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x$e(t,e,r){return e=E1(e),y$e(t,oG()?Reflect.construct(e,r||[],E1(t).constructor):e.apply(t,r))}function y$e(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v$e(t)}function v$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(t)}function b$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RB(t,e)}function RB(t,e){return RB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RB(t,e)}function Xf(t){return N$e(t)||j$e(t)||lG(t)||w$e()}function w$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lG(t,e){if(t){if(typeof t=="string")return QB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QB(t,e)}}function j$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N$e(t){if(Array.isArray(t))return QB(t)}function QB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(r),!0).forEach(function(n){vt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vt(t,e,r){return e=cG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cG(t){var e=_$e(t,"string");return Gf(e)=="symbol"?e:e+""}function _$e(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C$e={xAxis:["bottom","top"],yAxis:["left","right"]},S$e={width:"100%",height:"100%"},dG={x:0,y:0};function Vv(t){return t}var B$e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},E$e=function(e,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return He(He(He({},a),Fr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return He(He(He({},a),Fr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return dG},Cj=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Xf(l),Xf(d)):l},[]);return o.length>0?o:e&&e.length&&Ye(a)&&Ye(i)?e.slice(a,i+1):[]};function uG(t){return t==="number"?[0,"auto"]:void 0}var $B=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=Cj(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,A=(u=d.props.data)!==null&&u!==void 0?u:r;A&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(A=A.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=A===void 0?l:A;h=pS(f,o.dataKey,a)}else h=A&&A[n]||l[n];return h?[].concat(Xf(c),[ZK(d,h)]):c},[])},R8=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=B$e(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=lIe(o,l,d,c);if(u>=0&&d){var A=d[u]&&d[u].value,h=$B(e,r,u,A),f=E$e(n,l,u,i);return{activeTooltipIndex:u,activeLabel:A,activePayload:h,activeCoordinate:f}}return null},k$e=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,A=e.children,h=e.stackOffset,f=KK(u,i);return n.reduce(function(g,x){var m,p=x.type.defaultProps!==void 0?He(He({},x.type.defaultProps),x.props):x.props,y=p.type,w=p.dataKey,S=p.allowDataOverflow,j=p.allowDuplicatedCategory,_=p.scale,F=p.ticks,C=p.includeHidden,E=p[o];if(g[E])return g;var T=Cj(e.data,{graphicalItems:a.filter(function($){var M,G=o in $.props?$.props[o]:(M=$.type.defaultProps)===null||M===void 0?void 0:M[o];return G===E}),dataStartIndex:c,dataEndIndex:d}),v=T.length,N,O,L;r$e(p.domain,S,y)&&(N=nB(p.domain,null,S),f&&(y==="number"||_!=="auto")&&(L=Sg(T,w,"category")));var Q=uG(y);if(!N||N.length===0){var D,U=(D=p.domain)!==null&&D!==void 0?D:Q;if(w){if(N=Sg(T,w,y),y==="category"&&f){var R=Jje(N);j&&R?(O=N,N=g1(0,v)):j||(N=uU(U,N,x).reduce(function($,M){return $.indexOf(M)>=0?$:[].concat(Xf($),[M])},[]))}else if(y==="category")j?N=N.filter(function($){return $!==""&&!$t($)}):N=uU(U,N,x).reduce(function($,M){return $.indexOf(M)>=0||M===""||$t(M)?$:[].concat(Xf($),[M])},[]);else if(y==="number"){var z=hIe(T,a.filter(function($){var M,G,V=o in $.props?$.props[o]:(M=$.type.defaultProps)===null||M===void 0?void 0:M[o],ae="hide"in $.props?$.props.hide:(G=$.type.defaultProps)===null||G===void 0?void 0:G.hide;return V===E&&(C||!ae)}),w,i,u);z&&(N=z)}f&&(y==="number"||_!=="auto")&&(L=Sg(T,w,"category"))}else f?N=g1(0,v):l&&l[E]&&l[E].hasStack&&y==="number"?N=h==="expand"?[0,1]:JK(l[E].stackGroups,c,d):N=VK(T,a.filter(function($){var M=o in $.props?$.props[o]:$.type.defaultProps[o],G="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return M===E&&(C||!G)}),y,u,!0);if(y==="number")N=UB(A,N,E,i,F),U&&(N=nB(U,N,S));else if(y==="category"&&U){var Y=U,X=N.every(function($){return Y.indexOf($)>=0});X&&(N=Y)}}return He(He({},g),{},vt({},E,He(He({},p),{},{axisType:i,domain:N,categoricalDomain:L,duplicateDomain:O,originalDomain:(m=p.domain)!==null&&m!==void 0?m:Q,isCategorical:f,layout:u})))},{})},F$e=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,A=e.children,h=Cj(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),f=h.length,g=KK(u,i),x=-1;return n.reduce(function(m,p){var y=p.type.defaultProps!==void 0?He(He({},p.type.defaultProps),p.props):p.props,w=y[o],S=uG("number");if(!m[w]){x++;var j;return g?j=g1(0,f):l&&l[w]&&l[w].hasStack?(j=JK(l[w].stackGroups,c,d),j=UB(A,j,w,i)):(j=nB(S,VK(h,n.filter(function(_){var F,C,E=o in _.props?_.props[o]:(F=_.type.defaultProps)===null||F===void 0?void 0:F[o],T="hide"in _.props?_.props.hide:(C=_.type.defaultProps)===null||C===void 0?void 0:C.hide;return E===w&&!T}),"number",u),a.defaultProps.allowDataOverflow),j=UB(A,j,w,i)),He(He({},m),{},vt({},w,He(He({axisType:i},a.defaultProps),{},{hide:!0,orientation:Qa(C$e,"".concat(i,".").concat(x%2),null),domain:j,originalDomain:S,isCategorical:g,layout:u})))}return m},{})},P$e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,A="".concat(a,"Id"),h=yi(u,i),f={};return h&&h.length?f=k$e(e,{axes:h,graphicalItems:o,axisType:a,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=F$e(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},T$e=function(e){var r=Pc(e),n=Cl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ck(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:a1(r,n)}},Q8=function(e){var r=e.children,n=e.defaultShowTooltip,a=Oa(r,Qf),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},O$e=function(e){return!e||!e.length?!1:e.some(function(r){var n=El(r&&r.type);return n&&n.indexOf("Bar")>=0})},$8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I$e=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,A=n.children,h=n.margin||{},f=Oa(A,Qf),g=Oa(A,Iu),x=Object.keys(c).reduce(function(j,_){var F=c[_],C=F.orientation;return!F.mirror&&!F.hide?He(He({},j),{},vt({},C,j[C]+F.width)):j},{left:h.left||0,right:h.right||0}),m=Object.keys(o).reduce(function(j,_){var F=o[_],C=F.orientation;return!F.mirror&&!F.hide?He(He({},j),{},vt({},C,Qa(j,"".concat(C))+F.height)):j},{top:h.top||0,bottom:h.bottom||0}),p=He(He({},m),x),y=p.bottom;f&&(p.bottom+=f.props.height||Qf.defaultProps.height),g&&r&&(p=uIe(p,a,n,r));var w=d-p.left-p.right,S=u-p.top-p.bottom;return He(He({brushBottom:y},p),{},{width:Math.max(w,0),height:Math.max(S,0)})},L$e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},AG=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,A=e.defaultProps,h=function(p,y){var w=y.graphicalItems,S=y.stackGroups,j=y.offset,_=y.updateId,F=y.dataStartIndex,C=y.dataEndIndex,E=p.barSize,T=p.layout,v=p.barGap,N=p.barCategoryGap,O=p.maxBarSize,L=$8(T),Q=L.numericAxisName,D=L.cateAxisName,U=O$e(w),R=[];return w.forEach(function(z,Y){var X=Cj(p.data,{graphicalItems:[z],dataStartIndex:F,dataEndIndex:C}),$=z.type.defaultProps!==void 0?He(He({},z.type.defaultProps),z.props):z.props,M=$.dataKey,G=$.maxBarSize,V=$["".concat(Q,"Id")],ae=$["".concat(D,"Id")],Ae={},re=c.reduce(function(Ie,Be){var he=y["".concat(Be.axisType,"Map")],$e=$["".concat(Be.axisType,"Id")];he&&he[$e]||Be.axisType==="zAxis"||Ju();var pe=he[$e];return He(He({},Ie),{},vt(vt({},Be.axisType,pe),"".concat(Be.axisType,"Ticks"),Cl(pe)))},Ae),ie=re[D],ce=re["".concat(D,"Ticks")],Z=S&&S[V]&&S[V].hasStack&&wIe(z,S[V].stackGroups),me=El(z.type).indexOf("Bar")>=0,Me=a1(ie,ce),Re=[],ye=U&&cIe({barSize:E,stackGroups:S,totalSize:L$e(re,D)});if(me){var q,Ee,Oe=$t(G)?O:G,ke=(q=(Ee=a1(ie,ce,!0))!==null&&Ee!==void 0?Ee:Oe)!==null&&q!==void 0?q:0;Re=dIe({barGap:v,barCategoryGap:N,bandSize:ke!==Me?ke:Me,sizeList:ye[ae],maxBarSize:Oe}),ke!==Me&&(Re=Re.map(function(Ie){return He(He({},Ie),{},{position:He(He({},Ie.position),{},{offset:Ie.position.offset-ke/2})})}))}var Le=z&&z.type&&z.type.getComposedData;Le&&R.push({props:He(He({},Le(He(He({},re),{},{displayedData:X,props:p,dataKey:M,item:z,bandSize:Me,barPosition:Re,offset:j,stackedData:Z,layout:T,dataStartIndex:F,dataEndIndex:C}))),{},vt(vt(vt({key:z.key||"item-".concat(Y)},Q,re[Q]),D,re[D]),"animationId",_)),childIndex:dNe(z,p.children),item:z})}),R},f=function(p,y){var w=p.props,S=p.dataStartIndex,j=p.dataEndIndex,_=p.updateId;if(!aM({props:w}))return null;var F=w.children,C=w.layout,E=w.stackOffset,T=w.data,v=w.reverseStackOrder,N=$8(C),O=N.numericAxisName,L=N.cateAxisName,Q=yi(F,n),D=vIe(T,Q,"".concat(O,"Id"),"".concat(L,"Id"),E,v),U=c.reduce(function($,M){var G="".concat(M.axisType,"Map");return He(He({},$),{},vt({},G,P$e(w,He(He({},M),{},{graphicalItems:Q,stackGroups:M.axisType===O&&D,dataStartIndex:S,dataEndIndex:j}))))},{}),R=I$e(He(He({},U),{},{props:w,graphicalItems:Q}),y==null?void 0:y.legendBBox);Object.keys(U).forEach(function($){U[$]=u(w,U[$],R,$.replace("Map",""),r)});var z=U["".concat(L,"Map")],Y=T$e(z),X=h(w,He(He({},U),{},{dataStartIndex:S,dataEndIndex:j,updateId:_,graphicalItems:Q,stackGroups:D,offset:R}));return He(He({formattedGraphicalItems:X,graphicalItems:Q,offset:R,stackGroups:D},Y),U)},g=function(m){function p(y){var w,S,j;return m$e(this,p),j=x$e(this,p,[y]),vt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vt(j,"accessibilityManager",new t$e),vt(j,"handleLegendBBoxUpdate",function(_){if(_){var F=j.state,C=F.dataStartIndex,E=F.dataEndIndex,T=F.updateId;j.setState(He({legendBBox:_},f({props:j.props,dataStartIndex:C,dataEndIndex:E,updateId:T},He(He({},j.state),{},{legendBBox:_}))))}}),vt(j,"handleReceiveSyncEvent",function(_,F,C){if(j.props.syncId===_){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(F)}}),vt(j,"handleBrushChange",function(_){var F=_.startIndex,C=_.endIndex;if(F!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return He({dataStartIndex:F,dataEndIndex:C},f({props:j.props,dataStartIndex:F,dataEndIndex:C,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:F,dataEndIndex:C})}}),vt(j,"handleMouseEnter",function(_){var F=j.getMouseInfo(_);if(F){var C=He(He({},F),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var E=j.props.onMouseEnter;Et(E)&&E(C,_)}}),vt(j,"triggeredAfterMouseMove",function(_){var F=j.getMouseInfo(_),C=F?He(He({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var E=j.props.onMouseMove;Et(E)&&E(C,_)}),vt(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),vt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),vt(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),vt(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var F={isTooltipActive:!1};j.setState(F),j.triggerSyncEvent(F);var C=j.props.onMouseLeave;Et(C)&&C(F,_)}),vt(j,"handleOuterEvent",function(_){var F=cNe(_),C=Qa(j.props,"".concat(F));if(F&&Et(C)){var E,T;/.*touch.*/i.test(F)?T=j.getMouseInfo(_.changedTouches[0]):T=j.getMouseInfo(_),C((E=T)!==null&&E!==void 0?E:{},_)}}),vt(j,"handleClick",function(_){var F=j.getMouseInfo(_);if(F){var C=He(He({},F),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var E=j.props.onClick;Et(E)&&E(C,_)}}),vt(j,"handleMouseDown",function(_){var F=j.props.onMouseDown;if(Et(F)){var C=j.getMouseInfo(_);F(C,_)}}),vt(j,"handleMouseUp",function(_){var F=j.props.onMouseUp;if(Et(F)){var C=j.getMouseInfo(_);F(C,_)}}),vt(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),vt(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),vt(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),vt(j,"handleDoubleClick",function(_){var F=j.props.onDoubleClick;if(Et(F)){var C=j.getMouseInfo(_);F(C,_)}}),vt(j,"handleContextMenu",function(_){var F=j.props.onContextMenu;if(Et(F)){var C=j.getMouseInfo(_);F(C,_)}}),vt(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&L5.emit(M5,j.props.syncId,_,j.eventEmitterSymbol)}),vt(j,"applySyncEvent",function(_){var F=j.props,C=F.layout,E=F.syncMethod,T=j.state.updateId,v=_.dataStartIndex,N=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(He({dataStartIndex:v,dataEndIndex:N},f({props:j.props,dataStartIndex:v,dataEndIndex:N,updateId:T},j.state)));else if(_.activeTooltipIndex!==void 0){var O=_.chartX,L=_.chartY,Q=_.activeTooltipIndex,D=j.state,U=D.offset,R=D.tooltipTicks;if(!U)return;if(typeof E=="function")Q=E(R,_);else if(E==="value"){Q=-1;for(var z=0;z<R.length;z++)if(R[z].value===_.activeLabel){Q=z;break}}var Y=He(He({},U),{},{x:U.left,y:U.top}),X=Math.min(O,Y.x+Y.width),$=Math.min(L,Y.y+Y.height),M=R[Q]&&R[Q].value,G=$B(j.state,j.props.data,Q),V=R[Q]?{x:C==="horizontal"?R[Q].coordinate:X,y:C==="horizontal"?$:R[Q].coordinate}:dG;j.setState(He(He({},_),{},{activeLabel:M,activeCoordinate:V,activePayload:G,activeTooltipIndex:Q}))}else j.setState(_)}),vt(j,"renderCursor",function(_){var F,C=j.state,E=C.isTooltipActive,T=C.activeCoordinate,v=C.activePayload,N=C.offset,O=C.activeTooltipIndex,L=C.tooltipAxisBandSize,Q=j.getTooltipEventType(),D=(F=_.props.active)!==null&&F!==void 0?F:E,U=j.props.layout,R=_.key||"_recharts-cursor";return be.createElement(l$e,{key:R,activeCoordinate:T,activePayload:v,activeTooltipIndex:O,chartName:r,element:_,isActive:D,layout:U,offset:N,tooltipAxisBandSize:L,tooltipEventType:Q})}),vt(j,"renderPolarAxis",function(_,F,C){var E=Qa(_,"type.axisType"),T=Qa(j.state,"".concat(E,"Map")),v=_.type.defaultProps,N=v!==void 0?He(He({},v),_.props):_.props,O=T&&T[N["".concat(E,"Id")]];return k.cloneElement(_,He(He({},O),{},{className:Rt(E,O.className),key:_.key||"".concat(F,"-").concat(C),ticks:Cl(O,!0)}))}),vt(j,"renderPolarGrid",function(_){var F=_.props,C=F.radialLines,E=F.polarAngles,T=F.polarRadius,v=j.state,N=v.radiusAxisMap,O=v.angleAxisMap,L=Pc(N),Q=Pc(O),D=Q.cx,U=Q.cy,R=Q.innerRadius,z=Q.outerRadius;return k.cloneElement(_,{polarAngles:Array.isArray(E)?E:Cl(Q,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(T)?T:Cl(L,!0).map(function(Y){return Y.coordinate}),cx:D,cy:U,innerRadius:R,outerRadius:z,key:_.key||"polar-grid",radialLines:C})}),vt(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,F=j.props,C=F.children,E=F.width,T=F.height,v=j.props.margin||{},N=E-(v.left||0)-(v.right||0),O=zK({children:C,formattedGraphicalItems:_,legendWidth:N,legendContent:d});if(!O)return null;var L=O.item,Q=D8(O,c$e);return k.cloneElement(L,He(He({},Q),{},{chartWidth:E,chartHeight:T,margin:v,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),vt(j,"renderTooltip",function(){var _,F=j.props,C=F.children,E=F.accessibilityLayer,T=Oa(C,ii);if(!T)return null;var v=j.state,N=v.isTooltipActive,O=v.activeCoordinate,L=v.activePayload,Q=v.activeLabel,D=v.offset,U=(_=T.props.active)!==null&&_!==void 0?_:N;return k.cloneElement(T,{viewBox:He(He({},D),{},{x:D.left,y:D.top}),active:U,label:Q,payload:U?L:[],coordinate:O,accessibilityLayer:E})}),vt(j,"renderBrush",function(_){var F=j.props,C=F.margin,E=F.data,T=j.state,v=T.offset,N=T.dataStartIndex,O=T.dataEndIndex,L=T.updateId;return k.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Qv(j.handleBrushChange,_.props.onChange),data:E,x:Ye(_.props.x)?_.props.x:v.left,y:Ye(_.props.y)?_.props.y:v.top+v.height+v.brushBottom-(C.bottom||0),width:Ye(_.props.width)?_.props.width:v.width,startIndex:N,endIndex:O,updateId:"brush-".concat(L)})}),vt(j,"renderReferenceElement",function(_,F,C){if(!_)return null;var E=j,T=E.clipPathId,v=j.state,N=v.xAxisMap,O=v.yAxisMap,L=v.offset,Q=_.type.defaultProps||{},D=_.props,U=D.xAxisId,R=U===void 0?Q.xAxisId:U,z=D.yAxisId,Y=z===void 0?Q.yAxisId:z;return k.cloneElement(_,{key:_.key||"".concat(F,"-").concat(C),xAxis:N[R],yAxis:O[Y],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:T})}),vt(j,"renderActivePoints",function(_){var F=_.item,C=_.activePoint,E=_.basePoint,T=_.childIndex,v=_.isRange,N=[],O=F.props.key,L=F.item.type.defaultProps!==void 0?He(He({},F.item.type.defaultProps),F.item.props):F.item.props,Q=L.activeDot,D=L.dataKey,U=He(He({index:T,dataKey:D,cx:C.x,cy:C.y,r:4,fill:Zk(F.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ct(Q,!1)),Pw(Q));return N.push(p.renderActiveDot(Q,U,"".concat(O,"-activePoint-").concat(T))),E?N.push(p.renderActiveDot(Q,He(He({},U),{},{cx:E.x,cy:E.y}),"".concat(O,"-basePoint-").concat(T))):v&&N.push(null),N}),vt(j,"renderGraphicChild",function(_,F,C){var E=j.filterFormatItem(_,F,C);if(!E)return null;var T=j.getTooltipEventType(),v=j.state,N=v.isTooltipActive,O=v.tooltipAxis,L=v.activeTooltipIndex,Q=v.activeLabel,D=j.props.children,U=Oa(D,ii),R=E.props,z=R.points,Y=R.isRange,X=R.baseLine,$=E.item.type.defaultProps!==void 0?He(He({},E.item.type.defaultProps),E.item.props):E.item.props,M=$.activeDot,G=$.hide,V=$.activeBar,ae=$.activeShape,Ae=!!(!G&&N&&U&&(M||V||ae)),re={};T!=="axis"&&U&&U.props.trigger==="click"?re={onClick:Qv(j.handleItemMouseEnter,_.props.onClick)}:T!=="axis"&&(re={onMouseLeave:Qv(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Qv(j.handleItemMouseEnter,_.props.onMouseEnter)});var ie=k.cloneElement(_,He(He({},E.props),re));function ce(Be){return typeof O.dataKey=="function"?O.dataKey(Be.payload):null}if(Ae)if(L>=0){var Z,me;if(O.dataKey&&!O.allowDuplicatedCategory){var Me=typeof O.dataKey=="function"?ce:"payload.".concat(O.dataKey.toString());Z=pS(z,Me,Q),me=Y&&X&&pS(X,Me,Q)}else Z=z==null?void 0:z[L],me=Y&&X&&X[L];if(ae||V){var Re=_.props.activeIndex!==void 0?_.props.activeIndex:L;return[k.cloneElement(_,He(He(He({},E.props),re),{},{activeIndex:Re})),null,null]}if(!$t(Z))return[ie].concat(Xf(j.renderActivePoints({item:E,activePoint:Z,basePoint:me,childIndex:L,isRange:Y})))}else{var ye,q=(ye=j.getItemByXY(j.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:ie},Ee=q.graphicalItem,Oe=Ee.item,ke=Oe===void 0?_:Oe,Le=Ee.childIndex,Ie=He(He(He({},E.props),re),{},{activeIndex:Le});return[k.cloneElement(ke,Ie),null,null]}return Y?[ie,null,null]:[ie,null]}),vt(j,"renderCustomized",function(_,F,C){return k.cloneElement(_,He(He({key:"recharts-customized-".concat(C)},j.props),j.state))}),vt(j,"renderMap",{CartesianGrid:{handler:Vv,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Vv},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Vv},YAxis:{handler:Vv},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:wx("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=HV(j.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return b$e(p,m),g$e(p,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,_=w.height,F=w.layout,C=Oa(S,ii);if(C){var E=C.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,v=$B(this.state,j,E,T),N=this.state.tooltipTicks[E].coordinate,O=(this.state.offset.top+_)/2,L=F==="horizontal",Q=L?{x:N,y:O}:{y:N,x:O},D=this.state.formattedGraphicalItems.find(function(R){var z=R.item;return z.type.name==="Scatter"});D&&(Q=He(He({},Q),D.props.points[E].tooltipPosition),v=D.props.points[E].tooltipPayload);var U={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:T,activePayload:v,activeCoordinate:Q};this.setState(U),this.renderCursor(C),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){xS([Oa(w.children,ii)],[Oa(this.props.children,ii)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Oa(this.props.children,ii);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),_=L6e(j),F={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},C=j.width/S.offsetWidth||1,E=this.inRange(F.chartX,F.chartY,C);if(!E)return null;var T=this.state,v=T.xAxisMap,N=T.yAxisMap,O=this.getTooltipEventType(),L=R8(this.state,this.props.data,this.props.layout,E);if(O!=="axis"&&v&&N){var Q=Pc(v).scale,D=Pc(N).scale,U=Q&&Q.invert?Q.invert(F.chartX):null,R=D&&D.invert?D.invert(F.chartY):null;return He(He({},F),{},{xValue:U,yValue:R},L)}return L?He(He({},F),L):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,F=w/j,C=S/j;if(_==="horizontal"||_==="vertical"){var E=this.state.offset,T=F>=E.left&&F<=E.left+E.width&&C>=E.top&&C<=E.top+E.height;return T?{x:F,y:C}:null}var v=this.state,N=v.angleAxisMap,O=v.radiusAxisMap;if(N&&O){var L=Pc(N);return fU({x:F,y:C},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=Oa(w,ii),_={};j&&S==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var F=Pw(this.props,this.handleOuterEvent);return He(He({},F),_)}},{key:"addListener",value:function(){L5.on(M5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){L5.removeListener(M5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var _=this.state.formattedGraphicalItems,F=0,C=_.length;F<C;F++){var E=_[F];if(E.item===w||E.props.key===w.key||S===El(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,_=S.top,F=S.height,C=S.width;return be.createElement("defs",null,be.createElement("clipPath",{id:w},be.createElement("rect",{x:j,y:_,height:F,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=M8(j,2),F=_[0],C=_[1];return He(He({},S),{},vt({},F,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=M8(j,2),F=_[0],C=_[1];return He(He({},S),{},vt({},F,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,_=S.activeItem;if(j&&j.length)for(var F=0,C=j.length;F<C;F++){var E=j[F],T=E.props,v=E.item,N=v.type.defaultProps!==void 0?He(He({},v.type.defaultProps),v.props):v.props,O=El(v.type);if(O==="Bar"){var L=(T.data||[]).find(function(R){return yDe(w,R)});if(L)return{graphicalItem:E,payload:L}}else if(O==="RadialBar"){var Q=(T.data||[]).find(function(R){return fU(w,R)});if(Q)return{graphicalItem:E,payload:Q}}else if(yj(E,_)||vj(E,_)||G0(E,_)){var D=o8e({graphicalItem:E,activeTooltipItem:_,itemData:N.data}),U=N.activeIndex===void 0?D:N.activeIndex;return{graphicalItem:He(He({},E),{},{childIndex:U}),payload:G0(E,_)?N.data[D]:E.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!aM(this))return null;var S=this.props,j=S.children,_=S.className,F=S.width,C=S.height,E=S.style,T=S.compact,v=S.title,N=S.desc,O=D8(S,d$e),L=Ct(O,!1);if(T)return be.createElement(w8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement(vS,Rh({},L,{width:F,height:C,title:v,desc:N}),this.renderClipPath(),oM(j,this.renderMap)));if(this.props.accessibilityLayer){var Q,D;L.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,L.role=(D=this.props.role)!==null&&D!==void 0?D:"application",L.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},L.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return be.createElement(w8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement("div",Rh({className:Rt("recharts-wrapper",_),style:He({position:"relative",cursor:"default",width:F,height:C},E)},U,{ref:function(z){w.container=z}}),be.createElement(vS,Rh({},L,{width:F,height:C,title:v,desc:N,style:S$e}),this.renderClipPath(),oM(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);vt(g,"displayName",r),vt(g,"defaultProps",He({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},A)),vt(g,"getDerivedStateFromProps",function(m,p){var y=m.dataKey,w=m.data,S=m.children,j=m.width,_=m.height,F=m.layout,C=m.stackOffset,E=m.margin,T=p.dataStartIndex,v=p.dataEndIndex;if(p.updateId===void 0){var N=Q8(m);return He(He(He({},N),{},{updateId:0},f(He(He({props:m},N),{},{updateId:0}),p)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:_,prevLayout:F,prevStackOffset:C,prevMargin:E,prevChildren:S})}if(y!==p.prevDataKey||w!==p.prevData||j!==p.prevWidth||_!==p.prevHeight||F!==p.prevLayout||C!==p.prevStackOffset||!cf(E,p.prevMargin)){var O=Q8(m),L={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},Q=He(He({},R8(p,w,F)),{},{updateId:p.updateId+1}),D=He(He(He({},O),L),Q);return He(He(He({},D),f(He({props:m},D),p)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:_,prevLayout:F,prevStackOffset:C,prevMargin:E,prevChildren:S})}if(!xS(S,p.prevChildren)){var U,R,z,Y,X=Oa(S,Qf),$=X&&(U=(R=X.props)===null||R===void 0?void 0:R.startIndex)!==null&&U!==void 0?U:T,M=X&&(z=(Y=X.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:v,G=$!==T||M!==v,V=!$t(w),ae=V&&!G?p.updateId:p.updateId+1;return He(He({updateId:ae},f(He(He({props:m},p),{},{updateId:ae,dataStartIndex:$,dataEndIndex:M}),p)),{},{prevChildren:S,dataStartIndex:$,dataEndIndex:M})}return null}),vt(g,"renderActiveDot",function(m,p,y){var w;return k.isValidElement(m)?w=k.cloneElement(m,p):Et(m)?w=m(p):w=be.createElement(t6,p),be.createElement(ur,{className:"recharts-active-dot",key:y},w)});var x=k.forwardRef(function(p,y){return be.createElement(g,Rh({},p,{ref:y}))});return x.displayName=g.displayName,x},hG=AG({chartName:"BarChart",GraphicalChild:ql,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ex},{axisType:"yAxis",AxisComp:kx}],formatAxisMap:URe}),M$e=AG({chartName:"PieChart",GraphicalChild:Zl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xj},{axisType:"radiusAxis",AxisComp:pj}],formatAxisMap:PIe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const H8=({data:t,title:e,subtitle:r,onSegmentClick:n})=>{const[a,i]=k.useState(null),o=(u,A)=>{i(A)},l=()=>{i(null)},c=(u,A)=>{n&&n(A)},d=({active:u,payload:A})=>u&&A&&A.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:A[0].name}),s.jsxs("p",{className:"text-sm",style:{color:A[0].payload.color},children:[A[0].value,"%"]})]}):null;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex flex-col items-center mb-4",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600 text-center",children:r})]}),s.jsx("div",{className:"h-48 flex items-center justify-center",children:s.jsx(Bk,{width:"100%",height:"100%",children:s.jsxs(M$e,{children:[s.jsx(Zl,{data:t,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:2,dataKey:"value",animationDuration:300,animationBegin:0,onMouseEnter:o,onMouseLeave:l,onClick:c,children:t.map((u,A)=>s.jsx(Nx,{fill:u.color,stroke:u.color,style:{filter:a===A?"drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.2))":"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",opacity:a===null||a===A?1:.7,cursor:"pointer",transition:"all 0.3s ease"}},`cell-${A}`))}),s.jsx(ii,{content:s.jsx(d,{})})]})})}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:t.map((u,A)=>s.jsxs(oe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 p-1 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>c(u,A),onMouseEnter:()=>o(u,A),onMouseLeave:l,children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:u.name})}),s.jsxs("p",{className:"text-xs font-bold text-gray-900",children:[u.value,"%"]})]},u.name))})]})},D$e=({data:t,title:e,subtitle:r,prefix:n="",suffix:a="",onBarClick:i})=>{const o=({active:c,payload:d,label:u})=>c&&d&&d.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:u}),s.jsxs("p",{className:"text-sm",style:{color:d[0].payload.color},children:[n,d[0].value,a]})]}):null,l=(c,d)=>{i&&i(d)};return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600",children:r})]})}),s.jsx("div",{className:"h-64",children:s.jsx(Bk,{width:"100%",height:"100%",children:s.jsxs(hG,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[s.jsx(u6,{strokeDasharray:"3 3",opacity:.1}),s.jsx(Ex,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),s.jsx(kx,{tick:{fontSize:10},width:30}),s.jsx(ii,{content:s.jsx(o,{})}),s.jsx(ql,{dataKey:"value",animationDuration:300,animationBegin:0,label:{position:"top",fill:"#6b7280",fontSize:10,formatter:c=>`${n}${c}${a}`},onClick:l,children:t.map((c,d)=>s.jsx(Nx,{fill:c.color,style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",cursor:"pointer"}},`cell-${d}`))})]})})})]})},U$e=({data:t,title:e,subtitle:r,metricType:n,onMetricChange:a,onBarClick:i})=>{const o=({active:d,payload:u,label:A})=>d&&u&&u.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:A}),u.map((h,f)=>s.jsxs("p",{className:"text-sm",style:{color:h.color},children:[h.name,": ",h.value,"%"]},f))]}):null,l=(d,u)=>{i&&i(u)},c=[{value:"productivity",label:"Produtividade"},{value:"efficiency",label:"Eficiência"},{value:"quality",label:"Qualidade"},{value:"satisfaction",label:"Satisfação"}];return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[s.jsxs("div",{className:"flex flex-col items-center mb-4",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&s.jsx("p",{className:"text-xs text-gray-600 text-center",children:r}),s.jsx("select",{value:n,onChange:d=>a(d.target.value),className:"mt-2 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:c.map(d=>s.jsx("option",{value:d.value,children:d.label},d.value))})]}),s.jsx("div",{className:"h-64",children:s.jsx(Bk,{width:"100%",height:"100%",children:s.jsxs(hG,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[s.jsx(u6,{strokeDasharray:"3 3",opacity:.1}),s.jsx(Ex,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),s.jsx(kx,{domain:[0,100],tick:{fontSize:10},width:30}),s.jsx(ii,{content:s.jsx(o,{})}),s.jsx(Iu,{wrapperStyle:{fontSize:"10px"}}),s.jsx(ql,{name:"Atual",dataKey:"current",fill:"#3b82f6",animationDuration:300,animationBegin:0,radius:[4,4,0,0],onClick:l}),s.jsx(ql,{name:"Anterior",dataKey:"previous",fill:"#93c5fd",animationDuration:300,animationBegin:150,radius:[4,4,0,0],onClick:l})]})})})]})},R$e=({id:t,name:e,color:r,metrics:n,performance:a,isSelected:i,onClick:o})=>s.jsx(oe.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${i?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:o,children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:r},children:s.jsx("span",{className:"text-xs font-bold text-white",children:e.charAt(0)})})}),s.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:e}),s.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[a.change>0?s.jsx(Gh,{className:"h-3 w-3 text-green-500"}):a.change<0?s.jsx(J1,{className:"h-3 w-3 text-red-500"}):null,s.jsxs("span",{className:`text-sm font-medium ${a.change>0?"text-green-600":a.change<0?"text-red-600":"text-gray-600"}`,children:[a.change>0?"+":"",a.change,"%"]})]}),s.jsx("div",{className:"w-full mb-2",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full",style:{width:`${a.current}%`,backgroundColor:r}})})}),s.jsxs("div",{className:"flex justify-between w-full text-xs text-gray-500",children:[s.jsxs("span",{children:["Prod: ",n.productivity,"%"]}),s.jsxs("span",{children:["Qual: ",n.quality,"%"]})]})]})}),Q$e=({alerts:t,departments:e,onResolve:r,onEscalate:n,onIgnore:a})=>{const[i,o]=k.useState("severity"),[l,c]=k.useState("all"),[d,u]=k.useState([]),[A,h]=k.useState(null),[f,g]=k.useState(""),[x,m]=k.useState(null),[p,y]=k.useState(""),[w,S]=k.useState("medium"),j=[{id:"1",name:"João Silva",department:"operations",role:"Supervisor"},{id:"2",name:"Maria Santos",department:"operations",role:"Técnico"},{id:"3",name:"Carlos Oliveira",department:"technical",role:"Técnico Sênior"},{id:"4",name:"Ana Pereira",department:"technical",role:"Técnico"},{id:"5",name:"Pedro Costa",department:"commercial",role:"Gerente"},{id:"6",name:"Lúcia Ferreira",department:"financial",role:"Analista"},{id:"7",name:"Roberto Almeida",department:"administrative",role:"Coordenador"}],_=L=>{switch(L){case"low":return"#f59e0b";case"medium":return"#f97316";case"high":return"#ef4444";default:return"#6b7280"}},F=L=>{switch(L){case"low":return s.jsx(Dt,{className:"h-4 w-4"});case"medium":return s.jsx(ts,{className:"h-4 w-4"});case"high":return s.jsx(dt,{className:"h-4 w-4"});default:return null}},C=L=>new Date(L).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),E=L=>{u(Q=>Q.includes(L)?Q.filter(D=>D!==L):[...Q,L])},T=L=>{h(L)},v=()=>{!A||!x||!p||(console.log("Creating task for employee:",x),console.log("Due date:",p),console.log("Priority:",w),n(A),h(null),m(null),y(""),S("medium"))},N=j.filter(L=>L.name.toLowerCase().includes(f.toLowerCase())||L.department.toLowerCase().includes(f.toLowerCase())||L.role.toLowerCase().includes(f.toLowerCase())),O=[...t].filter(L=>l==="all"||L.departmentId===l).sort((L,Q)=>{if(i==="date")return new Date(Q.timestamp).getTime()-new Date(L.timestamp).getTime();{const D={high:0,medium:1,low:2};return D[L.severity]-D[Q.severity]}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),s.jsxs("select",{value:i,onChange:L=>o(L.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"severity",children:"Severidade"}),s.jsx("option",{value:"date",children:"Data"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Departamento:"}),s.jsxs("select",{value:l,onChange:L=>c(L.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Todos"}),e.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),s.jsx("div",{className:"space-y-3",children:O.length>0?O.map(L=>{const Q=e.find(U=>U.id===L.departmentId),D=d.includes(L.id);return s.jsxs(oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>E(L.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${_(L.severity)}20`},children:F(L.severity)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-base",children:L.title}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:C(L.timestamp)}),s.jsx(oe.div,{animate:{rotate:D?180:0},transition:{duration:.3},children:s.jsx(Hu,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${_(L.severity)}20`,color:_(L.severity)},children:L.severity==="low"?"Baixa":L.severity==="medium"?"Média":"Alta"}),Q&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Q.color}}),s.jsx("span",{className:"text-xs text-gray-500",children:Q.name})]}),L.status==="new"&&s.jsx("div",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Novo"})]})]})]})}),s.jsx(at,{children:D&&s.jsx(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-4 bg-gray-50",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-4",children:L.description}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[s.jsxs("button",{onClick:()=>r(L.id),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(kr,{className:"h-4 w-4"}),s.jsx("span",{children:"Resolver"})]}),s.jsxs("button",{onClick:()=>T(L.id),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(Z1,{className:"h-4 w-4"}),s.jsx("span",{children:"Escalar"})]}),s.jsxs("button",{onClick:()=>a(L.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm flex items-center space-x-1",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Ignorar"})]})]})]})})})]},L.id)}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(kr,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"Não há alertas para exibir com os filtros atuais"})]})}),s.jsx(at,{children:A&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Escalar Alerta"}),s.jsx("button",{onClick:()=>h(null),children:s.jsx(dt,{className:"h-6 w-6 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsável"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",value:f,onChange:L=>g(L.target.value),placeholder:"Buscar por nome ou setor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:N.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:N.map(L=>{var Q;return s.jsx("div",{onClick:()=>m(L.id),className:`p-3 cursor-pointer transition-colors ${x===L.id?"bg-blue-50":"hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[L.avatar?s.jsx("img",{src:L.avatar,alt:L.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx(xn,{className:"h-4 w-4 text-gray-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:L.name}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx("span",{children:L.role}),s.jsx("span",{children:"•"}),s.jsx("span",{children:((Q=e.find(D=>D.id===L.department))==null?void 0:Q.name)||L.department})]})]})]})},L.id)})}):s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhum funcionário encontrado"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"date",value:p,onChange:L=>y(L.target.value),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>S("low"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${w==="low"?"bg-green-50 border-green-300 text-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(ub,{className:"h-4 w-4"}),s.jsx("span",{children:"Baixa"})]}),s.jsxs("button",{type:"button",onClick:()=>S("medium"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${w==="medium"?"bg-yellow-50 border-yellow-300 text-yellow-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(ub,{className:"h-4 w-4"}),s.jsx("span",{children:"Média"})]}),s.jsxs("button",{type:"button",onClick:()=>S("high"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${w==="high"?"bg-red-50 border-red-300 text-red-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(ub,{className:"h-4 w-4"}),s.jsx("span",{children:"Alta"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Dt,{className:"h-4 w-4 text-blue-500"}),s.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Tarefa será criada na agenda"})]}),s.jsx("p",{className:"text-xs text-blue-600",children:"Uma tarefa será automaticamente criada na agenda do responsável selecionado com o prazo e prioridade definidos."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>h(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:v,disabled:!x||!p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",children:"Escalar Alerta"})]})]})]})})]})},$$e=()=>{var Ae,re,ie,ce;const t=k.useRef(null),[e,r]=k.useState("all"),[n,a]=k.useState("month"),[i,o]=k.useState("productivity"),[l,c]=k.useState(!1),[d,u]=k.useState(new Date),[A,h]=k.useState(!1),[f,g]=k.useState(!1),[x,m]=k.useState(!1),[p,y]=k.useState("pdf"),[w,S]=k.useState(""),[j,_]=k.useState("weekly"),[F,C]=k.useState([{id:"1",name:"Relatório Semanal de Desempenho",frequency:"weekly",format:"pdf",recipients:["admin@example.com"],nextDate:"2024-01-25"}]),[E,T]=k.useState(!1),[v,N]=k.useState(0),O=[{id:"operations",name:"Operacional",color:"#3b82f6",metrics:{productivity:87,efficiency:82,quality:90,satisfaction:85},performance:{current:87,previous:82,change:5}},{id:"commercial",name:"Comercial",color:"#10b981",metrics:{productivity:92,efficiency:88,quality:85,satisfaction:91},performance:{current:92,previous:89,change:3}},{id:"financial",name:"Financeiro",color:"#8b5cf6",metrics:{productivity:95,efficiency:93,quality:97,satisfaction:89},performance:{current:95,previous:92,change:3}},{id:"administrative",name:"Administrativo",color:"#f59e0b",metrics:{productivity:89,efficiency:91,quality:93,satisfaction:88},performance:{current:89,previous:90,change:-1}},{id:"technical",name:"Técnico",color:"#ef4444",metrics:{productivity:83,efficiency:85,quality:88,satisfaction:82},performance:{current:83,previous:80,change:3}}],L=[{id:"alert1",departmentId:"operations",title:"Queda na produtividade",description:"A produtividade do departamento operacional caiu 5% nas últimas 24 horas.",timestamp:"2024-01-15T10:30:00",severity:"medium",status:"new"},{id:"alert2",departmentId:"technical",title:"Atraso em atendimentos",description:"O tempo médio de atendimento está acima da meta estabelecida.",timestamp:"2024-01-15T09:15:00",severity:"high",status:"new"},{id:"alert3",departmentId:"commercial",title:"Meta de vendas atingida",description:"O departamento comercial atingiu 100% da meta mensal antes do prazo.",timestamp:"2024-01-14T16:45:00",severity:"low",status:"viewed"}],Q=()=>[{name:"Instalações",value:35,color:"#3b82f6"},{name:"Manutenções",value:40,color:"#10b981"},{name:"Reparos",value:25,color:"#f59e0b"}],D=()=>[{name:"1ª Visita",value:65,color:"#10b981"},{name:"2ª Visita",value:25,color:"#f59e0b"},{name:"3+ Visitas",value:10,color:"#ef4444"}],U=()=>[{name:"Carlos",value:92,color:"#3b82f6"},{name:"Ana",value:88,color:"#8b5cf6"},{name:"Pedro",value:85,color:"#10b981"},{name:"Maria",value:91,color:"#f59e0b"},{name:"João",value:78,color:"#ef4444"}],R=()=>O.map(Z=>({name:Z.name,current:Z.metrics[i],previous:Z.metrics[i]-(Math.random()*10-5),color:Z.color})),z=()=>{c(!0),setTimeout(()=>{u(new Date),c(!1)},1e3)},Y=Z=>{console.log("Resolvendo alerta:",Z)},X=Z=>{console.log("Escalando alerta:",Z)},$=Z=>{console.log("Ignorando alerta:",Z)},M=async()=>{if(t.current){g(!0),T(!0),N(10);try{const Z=setInterval(()=>{N(Ee=>Ee>=90?(clearInterval(Z),90):Ee+10)},300),me=await QE(t.current,{scale:1,useCORS:!0,logging:!1});N(95);const Me=me.toDataURL("image/png"),Re=new At({orientation:"portrait",unit:"mm",format:"a4"});Re.setFillColor(59,130,246),Re.rect(0,0,Re.internal.pageSize.width,20,"F"),Re.setTextColor(255,255,255),Re.setFontSize(14),Re.text("Dashboard Departamental - GiarTech",10,10),Re.setFontSize(10),Re.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const ye=Re.internal.pageSize.width,q=me.height*ye/me.width;Re.addImage(Me,"PNG",0,25,ye,q),Re.save("dashboard-departamental.pdf"),N(100),setTimeout(()=>{g(!1),T(!1),N(0)},1e3)}catch(Z){console.error("Erro ao gerar PDF:",Z),g(!1),T(!1),alert("Erro ao gerar PDF. Tente novamente.")}}},G=()=>{T(!0),N(10);const Z=setInterval(()=>{N(me=>me>=90?(clearInterval(Z),90):me+10)},200);setTimeout(()=>{N(100),alert("Relatório Excel gerado com sucesso!"),setTimeout(()=>{T(!1),N(0)},1e3)},1500)},V=()=>{T(!0),N(50),setTimeout(()=>{N(100),window.print(),setTimeout(()=>{T(!1),N(0)},1e3)},1e3)},ae=()=>{var Re;if(!w){alert("Por favor, informe pelo menos um destinatário");return}const Z=w.split(",").map(ye=>ye.trim()),me=new Date;j==="daily"?me.setDate(me.getDate()+1):j==="weekly"?me.setDate(me.getDate()+7):me.setMonth(me.getMonth()+1);const Me={id:Date.now().toString(),name:`Relatório ${j==="daily"?"Diário":j==="weekly"?"Semanal":"Mensal"} - ${e==="all"?"Todos Departamentos":(Re=O.find(ye=>ye.id===e))==null?void 0:Re.name}`,frequency:j,format:p,recipients:Z,nextDate:me.toISOString().split("T")[0]};C([...F,Me]),m(!1),S(""),alert("Relatório agendado com sucesso!")};return s.jsxs("div",{ref:t,className:"space-y-6",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center md:text-left",children:"Dashboard Departamental"}),s.jsx("p",{className:"text-gray-600 text-center md:text-left",children:"Análise de desempenho por departamento"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Período:"}),s.jsxs("select",{value:n,onChange:Z=>a(Z.target.value),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"day",children:"Hoje"}),s.jsx("option",{value:"week",children:"Esta Semana"}),s.jsx("option",{value:"month",children:"Este Mês"}),s.jsx("option",{value:"quarter",children:"Este Trimestre"})]})]}),s.jsxs("button",{onClick:z,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[s.jsx(Zs,{className:`h-4 w-4 ${l?"animate-spin":""}`}),s.jsx("span",{children:"Atualizar"})]}),s.jsxs("button",{onClick:()=>h(!A),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${A?"bg-yellow-500 text-white":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx("span",{children:"Alertas"}),s.jsx("div",{className:"w-5 h-5 bg-white text-yellow-700 rounded-full flex items-center justify-center text-xs font-bold",children:L.length})]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 text-center mt-2",children:["Última atualização: ",d.toLocaleString("pt-BR")]})]}),s.jsx(at,{children:A&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alertas"}),s.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsx(Q$e,{alerts:L,departments:O,onResolve:Y,onEscalate:X,onIgnore:$})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Departamentos"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(oe.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${e==="all"?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:()=>r("all"),children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mb-2",children:s.jsx(kt,{className:"h-4 w-4 text-white"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Todos"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Visão Geral"}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:"90%"}})}),s.jsxs("div",{className:"flex justify-between w-full mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Performance"}),s.jsx("span",{className:"text-xs font-medium text-gray-900",children:"90%"})]})]})}),O.map(Z=>s.jsx(R$e,{id:Z.id,name:Z.name,color:Z.color,metrics:Z.metrics,performance:Z.performance,isSelected:e===Z.id,onClick:()=>r(Z.id)},Z.id))]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Produtividade",value:e==="all"?"89%":`${((Ae=O.find(Z=>Z.id===e))==null?void 0:Ae.metrics.productivity)||0}%`,change:"+3.5%",icon:Ml,color:"from-blue-500 to-blue-600"},{title:"Eficiência",value:e==="all"?"87%":`${((re=O.find(Z=>Z.id===e))==null?void 0:re.metrics.efficiency)||0}%`,change:"+2.1%",icon:br,color:"from-green-500 to-green-600"},{title:"Qualidade",value:e==="all"?"91%":`${((ie=O.find(Z=>Z.id===e))==null?void 0:ie.metrics.quality)||0}%`,change:"+4.2%",icon:Vs,color:"from-purple-500 to-purple-600"},{title:"Satisfação",value:e==="all"?"87%":`${((ce=O.find(Z=>Z.id===e))==null?void 0:ce.metrics.satisfaction)||0}%`,change:"+1.8%",icon:Pn,color:"from-amber-500 to-amber-600"}].map((Z,me)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:me*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${Z.color} rounded-lg flex items-center justify-center`,children:s.jsx(Z.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Gh,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-xs font-medium text-green-600",children:Z.change})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:Z.value}),s.jsx("p",{className:"text-sm text-gray-600",children:Z.title})]},Z.title))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(H8,{data:Q(),title:"Tipo de Serviço",subtitle:"Distribuição por categoria"}),s.jsx(H8,{data:D(),title:"Taxa de Resolução",subtitle:"Resolução por número de visitas"}),s.jsx(D$e,{data:U(),title:"Desempenho de Técnicos",subtitle:"Produtividade individual",suffix:"%"}),s.jsx(U$e,{data:R(),title:"Comparação de Departamentos",subtitle:"Atual vs. Período Anterior",metricType:i,onMetricChange:Z=>o(Z)})]}),e==="operations"||e==="all"?s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Métricas Operacionais"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Tempo Médio de Atendimento"}),s.jsx(Dt,{className:"h-5 w-5 text-blue-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"1h 45m"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(J1,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"-12%"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 2h 00m"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Atendimentos Realizados"}),s.jsx(Pn,{className:"h-5 w-5 text-green-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:"248"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(Gh,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"+8%"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 230"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Satisfação do Cliente"}),s.jsx(Vs,{className:"h-5 w-5 text-purple-600"})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"4.8"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(Gh,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"+0.2"})]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 4.5"})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Atendimentos por Tipo"}),s.jsx("div",{className:"space-y-3",children:[{label:"Instalações",value:87,total:95,color:"#3b82f6"},{label:"Manutenções Preventivas",value:102,total:110,color:"#10b981"},{label:"Reparos/Corretivas",value:59,total:65,color:"#f59e0b"}].map(Z=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-700",children:Z.label}),s.jsxs("span",{className:"font-medium text-gray-900",children:[Z.value,"/",Z.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full",style:{width:`${Z.value/Z.total*100}%`,backgroundColor:Z.color}})})]},Z.label))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Produtividade por Equipe"}),s.jsx("div",{className:"space-y-3",children:[{label:"Equipe A",value:92,color:"#3b82f6"},{label:"Equipe B",value:87,color:"#10b981"},{label:"Equipe C",value:78,color:"#f59e0b"},{label:"Equipe D",value:85,color:"#8b5cf6"}].map(Z=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-700",children:Z.label}),s.jsxs("span",{className:"font-medium text-gray-900",children:[Z.value,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full",style:{width:`${Z.value}%`,backgroundColor:Z.color}})})]},Z.label))})]})]})]}):null,s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Relatórios"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:M,disabled:f,className:"p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors flex flex-col items-center justify-center space-y-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(xt,{className:"h-8 w-8 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Baixar PDF"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Relatório completo em PDF"})]}),s.jsxs("button",{onClick:G,className:"p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(xt,{className:"h-8 w-8 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Exportar Excel"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Dados em formato Excel"})]}),s.jsxs("button",{onClick:V,className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(i0,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Imprimir"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Versão para impressão"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[s.jsx(Jt,{className:"h-8 w-8 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Agendar"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Envio automático por email"})]})]}),F.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Relatórios Agendados"}),s.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequência"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formato"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Próximo Envio"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(Z=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:Z.name}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:Z.frequency==="daily"?"Diário":Z.frequency==="weekly"?"Semanal":"Mensal"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:Z.format.toUpperCase()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(Z.nextDate).toLocaleDateString("pt-BR")})]},Z.id))})]})})]})]}),s.jsx(at,{children:E&&s.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatório"}),v===100&&s.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[v<100?s.jsx(fx,{className:"h-5 w-5 text-blue-500 animate-spin"}):s.jsx(Pn,{className:"h-5 w-5 text-green-500"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${v}%`}})})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[v,"%"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:v<100?"Processando dados e gerando relatório...":"Relatório gerado com sucesso!"})]})}),s.jsx(at,{children:x&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Agendar Relatório"}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência"}),s.jsxs("select",{value:j,onChange:Z=>_(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Diário"}),s.jsx("option",{value:"weekly",children:"Semanal"}),s.jsx("option",{value:"monthly",children:"Mensal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formato"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:p==="pdf",onChange:()=>y("pdf"),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"PDF"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:p==="excel",onChange:()=>y("excel"),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Excel"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatários (separados por vírgula)"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",value:w,onChange:Z=>S(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com, outro@exemplo.com"})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[s.jsx(Jt,{className:"h-5 w-5 mr-2"}),s.jsx("h3",{className:"font-medium",children:"Informações do Relatório"})]}),s.jsx("p",{className:"text-sm text-blue-600",children:"O relatório será enviado automaticamente na frequência selecionada para os destinatários informados. O conteúdo será baseado nos filtros atuais do dashboard."})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:ae,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Agendar Relatório"})]})]})]})})]})},H$e=()=>{const{isPremium:t,isAdmin:e}=Yr(),[r,n]=k.useState([{id:"1",title:"Manual de Instalação - Split 12.000 BTUs",description:"Guia completo para instalação de ar condicionado split 12.000 BTUs",category:"manual",subcategory:"Instalação",fileUrl:"/documents/manual_instalacao_split.pdf",fileSize:"2.5 MB",fileType:"PDF",uploadDate:"2024-01-10",lastViewed:"2024-01-15",author:"Equipe Técnica",tags:["ar condicionado","split","instalação","12000 BTUs"],isDownloaded:!0,isFavorite:!0,thumbnailUrl:"https://images.pexels.com/photos/4489734/pexels-photo-4489734.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",title:"Manual Técnico - Dual Inverter",description:"Especificações técnicas e procedimentos de manutenção para ar condicionado Dual Inverter",category:"manual",subcategory:"Manutenção",fileUrl:"/documents/manual_tecnico_dual_inverter.pdf",fileSize:"3.1 MB",fileType:"PDF",uploadDate:"2024-01-08",author:"Departamento Técnico",tags:["ar condicionado","dual inverter","manutenção"],isDownloaded:!1,isFavorite:!1},{id:"3",title:"Política de Segurança da Informação",description:"Documento corporativo com diretrizes de segurança da informação",category:"corporate",subcategory:"Políticas",fileUrl:"/documents/politica_seguranca_informacao.pdf",fileSize:"1.2 MB",fileType:"PDF",uploadDate:"2023-12-15",lastViewed:"2024-01-05",author:"Departamento de TI",tags:["segurança","política","corporativo"],isDownloaded:!0,isFavorite:!1},{id:"4",title:"Apostila de Treinamento - Refrigeração Básica",description:"Material didático para treinamento de novos técnicos",category:"educational",subcategory:"Treinamento",fileUrl:"/documents/apostila_refrigeracao_basica.pdf",fileSize:"5.8 MB",fileType:"PDF",uploadDate:"2023-11-20",author:"Departamento de Treinamento",tags:["refrigeração","treinamento","básico"],isDownloaded:!1,isFavorite:!0},{id:"5",title:"Procedimento Operacional - Atendimento ao Cliente",description:"Procedimentos padrão para atendimento ao cliente em chamados técnicos",category:"corporate",subcategory:"Procedimentos",fileUrl:"/documents/procedimento_atendimento_cliente.pdf",fileSize:"1.5 MB",fileType:"PDF",uploadDate:"2023-12-05",author:"Departamento de Qualidade",tags:["atendimento","cliente","procedimento"],isDownloaded:!0,isFavorite:!1},{id:"6",title:"Guia de Manutenção Preventiva",description:"Procedimentos para manutenção preventiva de equipamentos de ar condicionado",category:"manual",subcategory:"Manutenção",fileUrl:"/documents/guia_manutencao_preventiva.pdf",fileSize:"4.2 MB",fileType:"PDF",uploadDate:"2023-10-15",lastViewed:"2024-01-12",author:"Equipe Técnica",tags:["manutenção","preventiva","ar condicionado"],isDownloaded:!0,isFavorite:!0}]),[a,i]=k.useState(""),[o,l]=k.useState("all"),[c,d]=k.useState("all"),[u,A]=k.useState([]),[h,f]=k.useState({}),[g,x]=k.useState(!1),[m,p]=k.useState(null),[y,w]=k.useState(!1),[S,j]=k.useState("date"),[_,F]=k.useState("desc"),[C,E]=k.useState(null),[T,v]=k.useState(0),[N,O]=k.useState(!1),[L,Q]=k.useState({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),D=()=>o==="all"?["all",...new Set(r.map(ce=>ce.subcategory))]:["all",...new Set(r.filter(ce=>o==="all"||ce.category===o).map(ce=>ce.subcategory))],U=()=>{const ce=r.flatMap(Z=>Z.tags);return[...new Set(ce)]},z=[...r.filter(ce=>{const Z=ce.title.toLowerCase().includes(a.toLowerCase())||ce.description.toLowerCase().includes(a.toLowerCase())||ce.tags.some(q=>q.toLowerCase().includes(a.toLowerCase())),me=o==="all"||ce.category===o,Me=c==="all"||ce.subcategory===c,Re=u.length===0||u.every(q=>ce.tags.includes(q)),ye=(!h.start||new Date(ce.uploadDate)>=new Date(h.start))&&(!h.end||new Date(ce.uploadDate)<=new Date(h.end));return Z&&me&&Me&&Re&&ye})].sort((ce,Z)=>{if(S==="date")return _==="asc"?new Date(ce.uploadDate).getTime()-new Date(Z.uploadDate).getTime():new Date(Z.uploadDate).getTime()-new Date(ce.uploadDate).getTime();if(S==="title")return _==="asc"?ce.title.localeCompare(Z.title):Z.title.localeCompare(ce.title);if(S==="size"){const me=parseFloat(ce.fileSize.split(" ")[0]),Me=parseFloat(Z.fileSize.split(" ")[0]);return _==="asc"?me-Me:Me-me}return 0}),Y=ce=>{var me;const Z=(me=ce.target.files)==null?void 0:me[0];Z&&Q({...L,file:Z})},X=()=>{if(!L.title||!L.category||!L.file){alert("Por favor, preencha todos os campos obrigatórios");return}O(!0);const ce=setInterval(()=>{v(Z=>Z>=100?(clearInterval(ce),setTimeout(()=>{$()},500),100):Z+10)},300)},$=()=>{var Z;if(!L.file){alert("Por favor, selecione um arquivo");return}const ce={id:Date.now().toString(),title:L.title,description:L.description,category:L.category,subcategory:L.subcategory||"Geral",fileUrl:URL.createObjectURL(L.file),fileSize:`${((L.file.size||0)/(1024*1024)).toFixed(1)} MB`,fileType:((Z=L.file.type.split("/")[1])==null?void 0:Z.toUpperCase())||"PDF",uploadDate:new Date().toISOString().split("T")[0],tags:L.tags.split(",").map(me=>me.trim()).filter(me=>me),isDownloaded:!1,isFavorite:!1};n([ce,...r]),Q({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),O(!1),v(0),x(!1),alert("Documento enviado com sucesso!")},M=ce=>{console.log(`Downloading ${ce.title}...`),n(r.map(Z=>Z.id===ce.id?{...Z,isDownloaded:!0,lastViewed:new Date().toISOString().split("T")[0]}:Z)),alert(`Download de "${ce.title}" iniciado!`)},G=ce=>{n(r.map(Z=>Z.id===ce?{...Z,isFavorite:!Z.isFavorite}:Z))},V=ce=>{n(r.filter(Z=>Z.id!==ce)),E(null)},ae=ce=>{u.includes(ce)?A(u.filter(Z=>Z!==ce)):A([...u,ce])},Ae=ce=>{switch(ce){case"manual":return xt;case"corporate":return wE;case"educational":return Lse;default:return xt}},re=ce=>{switch(ce){case"manual":return"from-blue-500 to-cyan-500";case"corporate":return"from-purple-500 to-pink-500";case"educational":return"from-green-500 to-emerald-500";default:return"from-gray-500 to-gray-600"}},ie=ce=>{switch(ce){case"manual":return"Manual Técnico";case"corporate":return"Documento Corporativo";case"educational":return"Material Didático";default:return ce}};return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Biblioteca Digital"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Acesse manuais, documentos corporativos e materiais didáticos"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all text-sm",children:[s.jsx(dg,{className:"h-4 w-4"}),s.jsx("span",{children:"Enviar Documento"})]})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar documentos por título, descrição ou tags...",value:a,onChange:ce=>i(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{value:o,onChange:ce=>{l(ce.target.value),d("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Categorias"}),s.jsx("option",{value:"manual",children:"Manuais Técnicos"}),s.jsx("option",{value:"corporate",children:"Documentos Corporativos"}),s.jsx("option",{value:"educational",children:"Material Didático"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),s.jsx("select",{value:c,onChange:ce=>d(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:D().map(ce=>s.jsx("option",{value:ce,children:ce==="all"?"Todas as Subcategorias":ce},ce))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),s.jsxs("div",{className:"flex",children:[s.jsxs("select",{value:S,onChange:ce=>j(ce.target.value),className:"flex-1 px-3 py-2 border-y border-l border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"date",children:"Data"}),s.jsx("option",{value:"title",children:"Título"}),s.jsx("option",{value:"size",children:"Tamanho"})]}),s.jsx("button",{onClick:()=>F(_==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-r-lg bg-gray-50 hover:bg-gray-100",children:_==="asc"?s.jsx(r0,{className:"h-5 w-5"}):s.jsx(Hu,{className:"h-5 w-5"})})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:()=>w(!y),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm",children:[s.jsx(jE,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtros avançados"}),y?s.jsx(r0,{className:"h-4 w-4"}):s.jsx(Hu,{className:"h-4 w-4"})]})}),s.jsx(at,{children:y&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:[s.jsxs("div",{className:"pt-4 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Período de Upload"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"De"}),s.jsx("input",{type:"date",value:h.start||"",onChange:ce=>f({...h,start:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Até"}),s.jsx("input",{type:"date",value:h.end||"",onChange:ce=>f({...h,end:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-gray-300 rounded-lg min-h-[42px]",children:[U().map(ce=>s.jsx("button",{onClick:()=>ae(ce),className:`px-2 py-1 rounded-full text-xs font-medium ${u.includes(ce)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ce},ce)),U().length===0&&s.jsx("span",{className:"text-sm text-gray-500",children:"Nenhuma tag disponível"})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4 space-x-2",children:s.jsx("button",{onClick:()=>{i(""),l("all"),d("all"),A([]),f({}),j("date"),F("desc")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpar Filtros"})})]})})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Documentos (",z.length,")"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[z.length," de ",r.length," documentos"]})]}),z.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(ce=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden",children:[s.jsxs("div",{className:"relative h-32 bg-gray-100 overflow-hidden",children:[ce.thumbnailUrl?s.jsx("img",{src:ce.thumbnailUrl,alt:ce.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:`w-full h-full bg-gradient-to-r ${re(ce.category)} flex items-center justify-center`,children:be.createElement(Ae(ce.category),{className:"h-16 w-16 text-white/50"})}),s.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-sm text-white rounded text-xs",children:ie(ce.category)}),s.jsx("button",{onClick:()=>G(ce.id),className:`absolute top-2 right-2 p-1 rounded-full ${ce.isFavorite?"bg-yellow-500 text-white":"bg-white/70 text-gray-600 hover:bg-white"}`,"aria-label":ce.isFavorite?"Remover dos favoritos":"Adicionar aos favoritos",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:ce.isFavorite?"currentColor":"none",stroke:"currentColor",className:"w-4 h-4",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:ce.title}),s.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:ce.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(Jt,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:new Date(ce.uploadDate).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(xt,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:[ce.fileSize," • ",ce.fileType]})]}),ce.lastViewed&&s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:["Visto: ",new Date(ce.lastViewed).toLocaleDateString("pt-BR")]})]}),ce.isDownloaded&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(c4,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:"Baixado"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[ce.tags.slice(0,3).map((Z,me)=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:Z},me)),ce.tags.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",ce.tags.length-3]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>p(ce),className:"flex-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-xs flex items-center justify-center",children:[s.jsx(Ds,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),s.jsxs("button",{onClick:()=>M(ce),className:"flex-1 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-xs flex items-center justify-center",children:[s.jsx(Ls,{className:"h-3 w-3 mr-1"}),ce.isDownloaded?"Baixado":"Baixar"]}),e&&s.jsx("button",{onClick:()=>E(ce.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-xs flex items-center justify-center",children:s.jsx(Bt,{className:"h-3 w-3"})})]})]})]},ce.id))}):s.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx(xt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum documento encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos documentos com os filtros selecionados."}),s.jsx("button",{onClick:()=>{i(""),l("all"),d("all"),A([]),f({})},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:"Limpar Filtros"})]})]}),s.jsx(at,{children:g&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!N&&x(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enviar Novo Documento"}),!N&&s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arquivo PDF"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:L.file?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(xt,{className:"h-8 w-8 text-blue-500 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:L.file.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(L.file.size/(1024*1024)).toFixed(2)," MB"]})]})]}),s.jsx("button",{onClick:()=>Q({...L,file:null}),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-5 w-5"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(dg,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arraste e solte um arquivo PDF ou"}),s.jsxs("label",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer inline-block",children:["Selecionar Arquivo",s.jsx("input",{type:"file",accept:".pdf",onChange:Y,className:"hidden"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Título ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:L.title,onChange:ce=>Q({...L,title:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Título do documento",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:L.description,onChange:ce=>Q({...L,description:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Breve descrição do documento"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Categoria ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:L.category,onChange:ce=>Q({...L,category:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"manual",children:"Manual Técnico"}),s.jsx("option",{value:"corporate",children:"Documento Corporativo"}),s.jsx("option",{value:"educational",children:"Material Didático"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),s.jsx("input",{type:"text",value:L.subcategory,onChange:ce=>Q({...L,subcategory:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalação"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (separadas por vírgula)"}),s.jsx("input",{type:"text",value:L.tags,onChange:ce=>Q({...L,tags:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: manual, ar condicionado, instalação"})]}),N&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[s.jsx("span",{children:"Enviando..."}),s.jsxs("span",{children:[T,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>!N&&x(!1),disabled:N,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),s.jsx("button",{onClick:X,disabled:N||!L.title||!L.file,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:N?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dg,{className:"h-4 w-4 mr-2 inline"}),"Enviar Documento"]})})]})]})]})}),s.jsx(at,{children:m&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(null),className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${re(m.category)} flex items-center justify-center`,children:be.createElement(Ae(m.category),{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:m.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:[ie(m.category)," • ",m.subcategory]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:ce=>{ce.stopPropagation(),M(m)},className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:s.jsx(Ls,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>p(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:s.jsx(dt,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden bg-gray-100 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx(xt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Visualizador de PDF"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Em um ambiente real, o PDF seria exibido aqui usando um visualizador integrado."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs("button",{onClick:ce=>{ce.stopPropagation(),M(m)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]}),s.jsxs("button",{onClick:ce=>{ce.stopPropagation(),window.open(m.fileUrl,"_blank")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center",children:[s.jsx(jae,{className:"h-4 w-4 mr-2"}),"Abrir em Nova Aba"]})]})]})})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Detalhes"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(Jt,{className:"h-4 w-4 mr-2 text-gray-400"}),"Enviado em ",new Date(m.uploadDate).toLocaleDateString("pt-BR")]}),s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(xt,{className:"h-4 w-4 mr-2 text-gray-400"}),m.fileSize," • ",m.fileType]}),m.author&&s.jsxs("p",{className:"flex items-center text-gray-600",children:[s.jsx(xn,{className:"h-4 w-4 mr-2 text-gray-400"}),"Autor: ",m.author]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),s.jsx("p",{className:"text-sm text-gray-600",children:m.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:m.tags.map((ce,Z)=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:ce},Z))})]})]})})]})]})}),s.jsx(at,{children:C&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>E(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-sm shadow-2xl",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[s.jsx(ts,{className:"h-8 w-8"}),s.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Exclusão"})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este documento? Esta ação não pode ser desfeita."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:()=>V(C),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})})]})},z$e=()=>{const{user:t}=Yr(),[e,r]=k.useState([{id:"1",name:"Equipe Técnica",lastMessage:"Carlos: Vou atender o chamado agora",lastMessageTime:new Date(Date.now()-5*6e4),unreadCount:3,isGroup:!0,participants:["Carlos","Ana","Pedro","Maria"],status:"online",avatar:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Técnico",lastMessage:"Já finalizei a instalação do cliente",lastMessageTime:new Date(Date.now()-30*6e4),unreadCount:0,isGroup:!1,participants:["Carlos"],status:"online"},{id:"3",name:"Ana Técnica",lastMessage:"Preciso de ajuda com um cliente",lastMessageTime:new Date(Date.now()-2*36e5),unreadCount:1,isGroup:!1,participants:["Ana"],status:"busy"},{id:"4",name:"Departamento Comercial",lastMessage:"Maria: Novo contrato fechado!",lastMessageTime:new Date(Date.now()-5*36e5),unreadCount:0,isGroup:!0,participants:["João","Maria","Roberto"],status:"online"}]),[n,a]=k.useState(null),[i,o]=k.useState([]),[l,c]=k.useState(""),[d,u]=k.useState(!1),[A,h]=k.useState(!0),[f,g]=k.useState(!1),[x,m]=k.useState(!1),[p,y]=k.useState(""),[w,S]=k.useState("none"),[j,_]=k.useState(0),[F,C]=k.useState(null),[E,T]=k.useState("none"),[v,N]=k.useState(""),[O,L]=k.useState(!1),[Q,D]=k.useState(!1),[U,R]=k.useState(!0),[z,Y]=k.useState(!1),X=k.useRef(null),$=k.useRef(null),[M,G]=k.useState({notifications:!0,sounds:!0,darkMode:!1,readReceipts:!0,fontSize:"medium"}),[V,ae]=k.useState(window.innerWidth<768),[Ae,re]=k.useState(!0);k.useEffect(()=>{const pe=()=>{ae(window.innerWidth<768)};return window.addEventListener("resize",pe),()=>window.removeEventListener("resize",pe)},[]),k.useEffect(()=>{if(n){r(le=>le.map(ve=>ve.id===n.id?{...ve,unreadCount:0}:ve));const pe=[],ue=10+Math.floor(Math.random()*10),se=new Date;for(let le=0;le<ue;le++){const ve=Math.random()>.5,xe=ve?(t==null?void 0:t.name)||"Você":n.isGroup?n.participants[Math.floor(Math.random()*n.participants.length)]:n.name;pe.push({id:`msg-${le}`,content:me(ve,n.isGroup),sender:xe,senderId:ve?"me":xe,timestamp:new Date(se.getTime()-(ue-le)*5*6e4),status:ve?le<ue-3?"read":le<ue-1?"delivered":"sent":"read",isMe:ve})}o(pe),V&&re(!1)}},[n,t]),k.useEffect(()=>{var pe;(pe=X.current)==null||pe.scrollIntoView({behavior:"smooth"})},[i]);const ie=e.filter(pe=>pe.name.toLowerCase().includes(p.toLowerCase())||pe.lastMessage.toLowerCase().includes(p.toLowerCase())),ce=pe=>{const se=new Date().getTime()-pe.getTime();return se<864e5?pe.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):se<6048e5?["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"][pe.getDay()]:pe.toLocaleDateString([],{day:"2-digit",month:"2-digit"})},Z=pe=>{const ue=Math.floor(pe/60),se=pe%60;return`${ue.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`},me=(pe,ue)=>{const se=pe?["Olá, como posso ajudar?","Já estou a caminho do cliente","Finalizei o serviço agora","Preciso de mais informações sobre este chamado","Vou precisar de mais peças para o conserto","O cliente não está no local","Serviço concluído com sucesso","Estou com dificuldade para acessar o local"]:["Temos um novo chamado urgente","O cliente está aguardando","Pode me ajudar com um problema?","Já verificou o estoque de peças?","Precisamos finalizar este serviço hoje","O cliente alterou o horário","Tem disponibilidade amanhã?",ue?"Pessoal, reunião às 15h":"Preciso da sua ajuda com um cliente"];return se[Math.floor(Math.random()*se.length)]},Me=()=>{if(!l.trim()||!n)return;const pe={id:`msg-${Date.now()}`,content:l,sender:(t==null?void 0:t.name)||"Você",senderId:"me",timestamp:new Date,status:"sending",isMe:!0};o([...i,pe]),c(""),setTimeout(()=>{o(ue=>ue.map(se=>se.id===pe.id?{...se,status:"sent"}:se)),setTimeout(()=>{o(ue=>ue.map(se=>se.id===pe.id?{...se,status:"delivered"}:se)),setTimeout(()=>{o(ue=>ue.map(se=>se.id===pe.id?{...se,status:"read"}:se))},2e3)},1e3)},500),setTimeout(()=>{u(!0),setTimeout(()=>{u(!1);const ue={id:`msg-${Date.now()}`,content:me(!1,n.isGroup),sender:n.isGroup?n.participants[Math.floor(Math.random()*n.participants.length)]:n.name,senderId:"other",timestamp:new Date,status:"read",isMe:!1};o(se=>[...se,ue]),r(se=>se.map(le=>le.id===n.id?{...le,lastMessage:n.isGroup?`${ue.sender}: ${ue.content}`:ue.content,lastMessageTime:ue.timestamp}:le))},2e3+Math.random()*1e3)},1e3+Math.random()*2e3),r(ue=>ue.map(se=>se.id===n.id?{...se,lastMessage:l,lastMessageTime:new Date}:se))},Re=pe=>{if(!n)return;const ue=pe==="video"?{video:!0,audio:!0}:{audio:!0};navigator.mediaDevices.getUserMedia(ue).then(se=>{console.log("Media access granted for call"),se.getTracks().forEach(ve=>ve.stop()),S(pe),_(0);const le=setInterval(()=>{_(ve=>ve+1)},1e3);C(le)}).catch(se=>{console.error("Error accessing media devices:",se),alert("Para fazer chamadas, é necessário permitir o acesso à câmera e microfone.")})},ye=()=>{F&&clearInterval(F),S("none"),_(0),C(null),L(!1),D(!1),Y(!1)},q=pe=>{const ue=e[Math.floor(Math.random()*e.length)];N(ue.name),T(pe),setTimeout(()=>{T("none")},15e3)},Ee=()=>{const pe=E;T("none"),S(pe),_(0);const ue=setInterval(()=>{_(se=>se+1)},1e3);C(ue)},Oe=()=>{T("none")},ke=()=>{var pe;c(ue=>ue+" 😊"),(pe=$.current)==null||pe.focus()},Le=()=>{alert("Funcionalidade de anexo seria implementada aqui")},Ie=pe=>{switch(pe){case"sending":return s.jsx(Dt,{className:"h-3 w-3 text-gray-400"});case"sent":return s.jsx(kr,{className:"h-3 w-3 text-gray-400"});case"delivered":return s.jsxs("div",{className:"relative",children:[s.jsx(kr,{className:"h-3 w-3 text-blue-500 absolute"}),s.jsx(kr,{className:"h-3 w-3 text-blue-500 ml-0.5"})]});case"read":return s.jsxs("div",{className:"relative text-blue-500",children:[s.jsx(kr,{className:"h-3 w-3 absolute"}),s.jsx(kr,{className:"h-3 w-3 ml-0.5"})]});default:return null}},Be=pe=>{switch(pe){case"online":return"bg-green-500";case"offline":return"bg-gray-400";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";default:return"bg-gray-400"}},he=pe=>{pe.key==="Enter"&&!pe.shiftKey&&(pe.preventDefault(),Me())},$e=()=>{re(!Ae)};return s.jsxs("div",{className:"h-[calc(100vh-120px)] bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden flex",children:[s.jsx(at,{children:(!V||V&&Ae)&&s.jsxs(oe.div,{initial:V?{x:-300}:!1,animate:{x:0},exit:V?{x:-300}:void 0,className:"w-80 border-r border-gray-200 flex flex-col bg-white z-10",style:{position:V?"absolute":"relative",height:"100%",boxShadow:V?"0 0 15px rgba(0,0,0,0.1)":"none"},children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Conversas"}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:()=>m(!x),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(!f),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(qu,{className:"h-4 w-4"})}),V&&s.jsx("button",{onClick:$e,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full md:hidden",children:s.jsx(nw,{className:"h-4 w-4"})})]})]}),s.jsx(at,{children:x&&s.jsx(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"p-3 border-b border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:p,onChange:pe=>y(pe.target.value),className:"w-full pl-8 pr-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:ie.length>0?ie.map(pe=>s.jsx("div",{onClick:()=>a(pe),className:`p-2.5 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${(n==null?void 0:n.id)===pe.id?"bg-blue-50":""}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[pe.avatar?s.jsx("img",{src:pe.avatar,alt:pe.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${pe.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:pe.isGroup?s.jsx(kt,{className:"h-5 w-5"}):s.jsx("span",{className:"text-base font-semibold",children:pe.name.charAt(0)})}),s.jsx("div",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white ${Be(pe.status)}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:pe.name}),s.jsx("span",{className:"text-xs text-gray-500",children:ce(pe.lastMessageTime)})]}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:pe.lastMessage})]}),pe.unreadCount>0&&s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-medium",children:pe.unreadCount})})]})},pe.id)):s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(d4,{className:"h-10 w-10 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-sm",children:"Nenhuma conversa encontrada"})]})}),s.jsx(at,{children:f&&s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0 bg-white z-10 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center",children:[s.jsx("button",{onClick:()=>g(!1),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2",children:s.jsx(nw,{className:"h-4 w-4"})}),s.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Configurações"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Notificações"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Notificações de mensagens"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:M.notifications,onChange:()=>G({...M,notifications:!M.notifications}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Sons de notificação"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:M.sounds,onChange:()=>G({...M,sounds:!M.sounds}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Privacidade"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Confirmações de leitura"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:M.readReceipts,onChange:()=>G({...M,readReceipts:!M.readReceipts}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Aparência"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Modo escuro"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:M.darkMode,onChange:()=>G({...M,darkMode:!M.darkMode}),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Tamanho da fonte"}),s.jsxs("select",{value:M.fontSize,onChange:pe=>G({...M,fontSize:pe.target.value}),className:"w-full px-2.5 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"small",children:"Pequeno"}),s.jsx("option",{value:"medium",children:"Médio"}),s.jsx("option",{value:"large",children:"Grande"})]})]})]})]})]}),s.jsx("div",{className:"p-3 border-t border-gray-200",children:s.jsx("button",{onClick:()=>g(!1),className:"w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Salvar Configurações"})})]})})]})}),s.jsx("div",{className:"flex-1 flex flex-col",children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[V&&s.jsx("button",{onClick:$e,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2 md:hidden",children:s.jsx(cie,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[n.avatar?s.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:n.isGroup?s.jsx(kt,{className:"h-4 w-4"}):s.jsx("span",{className:"text-base font-semibold",children:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:n.name}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Be(n.status)} mr-1`}),s.jsx("span",{children:n.status==="online"?"Online":n.status==="away"?"Ausente":n.status==="busy"?"Ocupado":"Offline"}),n.isGroup&&s.jsxs("span",{className:"ml-1",children:[n.participants.length," participantes"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:()=>Re("audio"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(us,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Re("video"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(a_,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(bae,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-50",children:[i.map((pe,ue)=>{const se=ue===0||new Date(pe.timestamp).toDateString()!==new Date(i[ue-1].timestamp).toDateString();return s.jsxs(be.Fragment,{children:[se&&s.jsx("div",{className:"flex justify-center my-3",children:s.jsx("div",{className:"px-2.5 py-0.5 bg-gray-200 rounded-full text-xs text-gray-600",children:new Date(pe.timestamp).toLocaleDateString([],{weekday:"long",day:"numeric",month:"long"})})}),s.jsx("div",{className:`flex ${pe.isMe?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[75%] ${pe.isMe?"bg-blue-500 text-white":"bg-white text-gray-800"} rounded-lg px-3 py-1.5 shadow-sm`,children:[n.isGroup&&!pe.isMe&&s.jsx("p",{className:"text-xs font-medium mb-0.5",style:{color:pe.isMe?"white":"#6366f1"},children:pe.sender}),s.jsx("p",{className:"text-sm",children:pe.content}),s.jsxs("div",{className:`flex items-center justify-end space-x-1 mt-0.5 text-xs ${pe.isMe?"text-blue-100":"text-gray-500"}`,children:[s.jsx("span",{children:pe.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),pe.isMe&&Ie(pe.status)]})]})})]},pe.id)}),d&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white text-gray-800 rounded-lg px-3 py-1.5 shadow-sm",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),s.jsx("div",{ref:X})]}),s.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx("button",{onClick:ke,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(Kie,{className:"h-4 w-4"})}),s.jsx("button",{onClick:Le,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:s.jsx(_ie,{className:"h-4 w-4"})}),s.jsx("input",{type:"text",ref:$,value:l,onChange:pe=>c(pe.target.value),onKeyPress:he,placeholder:"Digite uma mensagem...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),s.jsx("button",{onClick:Me,disabled:!l.trim(),className:`p-1.5 rounded-full ${l.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:s.jsx(to,{className:"h-4 w-4"})})]})})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 bg-gray-50",children:[s.jsx(d4,{className:"h-14 w-14 text-gray-300 mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Chat Interno"}),s.jsx("p",{className:"text-gray-600 text-center max-w-md mb-5 text-sm",children:"Selecione uma conversa para começar a enviar mensagens ou iniciar uma chamada com sua equipe."}),V&&!Ae&&s.jsx("button",{onClick:$e,className:"px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Ver Conversas"})]})}),s.jsx(at,{children:w!=="none"&&s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center bg-black/80 ${z?"p-0":"p-4"}`,children:s.jsxs("div",{className:`relative bg-gray-900 rounded-xl overflow-hidden ${z?"w-full h-full":"max-w-md w-full"}`,children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 p-3 flex items-center justify-between z-10 bg-gradient-to-b from-black/60 to-transparent",children:s.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[n!=null&&n.avatar?s.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-base font-semibold text-white",children:n==null?void 0:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:n==null?void 0:n.name}),s.jsxs("p",{className:"text-xs opacity-80",children:[w==="audio"?"Chamada de voz":"Chamada de vídeo"," • ",Z(j)]})]})]})}),s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:w==="video"?Q?s.jsx("div",{className:"w-full h-full min-h-[250px] bg-gray-800 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(CT,{className:"h-12 w-12 text-white/50 mx-auto mb-3"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Câmera desligada"})]})}):s.jsxs("div",{className:"w-full h-full min-h-[250px] bg-gray-800 relative",children:[s.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Video call",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute bottom-3 right-3 w-24 h-20 bg-gray-900 rounded-lg overflow-hidden border-2 border-white",children:s.jsx("img",{src:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Self view",className:"w-full h-full object-cover"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-4xl font-semibold text-white",children:n==null?void 0:n.name.charAt(0)})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:n==null?void 0:n.name}),s.jsx("p",{className:"text-white/70 text-sm",children:Z(j)})]})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 flex items-center justify-center space-x-3 z-10 bg-gradient-to-t from-black/60 to-transparent",children:[s.jsx("button",{onClick:()=>L(!O),className:`p-3 rounded-full ${O?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:O?s.jsx(hie,{className:"h-5 w-5"}):s.jsx(mie,{className:"h-5 w-5"})}),w==="video"&&s.jsx("button",{onClick:()=>D(!Q),className:`p-3 rounded-full ${Q?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:Q?s.jsx(CT,{className:"h-5 w-5"}):s.jsx(a_,{className:"h-5 w-5"})}),s.jsx("button",{onClick:ye,className:"p-3 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(Eie,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>R(!U),className:`p-3 rounded-full ${U?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-400"}`,children:s.jsx(_oe,{className:"h-5 w-5"})})]})]})})}),s.jsx(at,{children:E!=="none"&&s.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-3 right-3 z-50 bg-white rounded-lg shadow-xl border border-gray-200 p-3 w-72",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-semibold text-blue-600",children:v.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:v}),s.jsx("p",{className:"text-xs text-gray-600",children:E==="audio"?"Chamada de voz":"Chamada de vídeo"})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:Oe,className:"flex-1 py-1.5 bg-red-500 text-white rounded-lg mr-2 hover:bg-red-600 transition-colors text-sm",children:"Recusar"}),s.jsx("button",{onClick:Ee,className:"flex-1 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:"Atender"})]})]})}),s.jsxs("div",{className:"fixed bottom-16 right-3 z-40 space-y-1.5",children:[s.jsx("button",{onClick:()=>q("audio"),className:"p-1.5 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors",title:"Simular chamada de voz",children:s.jsx(us,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>q("video"),className:"p-1.5 bg-purple-500 text-white rounded-full shadow-lg hover:bg-purple-600 transition-colors",title:"Simular chamada de vídeo",children:s.jsx(a_,{className:"h-4 w-4"})})]})]})},q$e=()=>{const[t,e]=k.useState("contacts"),[r,n]=k.useState([]),[a,i]=k.useState([]),[o,l]=k.useState(!0),[c,d]=k.useState(""),[u,A]=k.useState(!1),[h,f]=k.useState(null),[g,x]=k.useState({name:"",phone:"",email:"",notes:""});k.useEffect(()=>{m()},[]);const m=async()=>{try{l(!0);const{data:_,error:F}=await ge.from("wpp_contacts").select("*").order("created_at",{ascending:!1}),{data:C,error:E}=await ge.from("wpp_accounts").select("*").order("created_at",{ascending:!1});if(F)throw F;if(E)throw E;n(_||[]),i(C||[])}catch(_){console.error("Error loading data:",_)}finally{l(!1)}},p=async()=>{if(!g.name||!g.phone){alert("Nome e telefone são obrigatórios");return}try{const _=a.find(C=>C.is_active);if(!_){alert("Nenhuma conta do WhatsApp ativa encontrada!");return}const{error:F}=await ge.from("wpp_contacts").insert([{account_id:_.id,name:g.name,phone:g.phone,email:g.email||null,notes:g.notes||null}]);if(F)throw F;await m(),A(!1),x({name:"",phone:"",email:"",notes:""})}catch(_){console.error("Error creating contact:",_),alert("Erro ao criar contato")}},y=async _=>{if(confirm("Tem certeza que deseja excluir este contato?"))try{const{error:F}=await ge.from("wpp_contacts").delete().eq("id",_);if(F)throw F;await m()}catch(F){console.error("Error deleting contact:",F),alert("Erro ao excluir contato")}},w=r.filter(_=>_.name.toLowerCase().includes(c.toLowerCase())||_.phone.includes(c)),S=_=>{switch(_){case"connected":return"bg-green-100 text-green-800";case"disconnected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},j=_=>{switch(_){case"connected":return"Conectado";case"disconnected":return"Desconectado";case"pending":return"Pendente";default:return"Desconhecido"}};return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(aw,{className:"h-6 w-6 mr-2 text-green-500"}),"WhatsApp CRM"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gerencie contas e contatos"})]}),s.jsxs("button",{onClick:()=>A(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 flex items-center text-sm",children:[s.jsx(bt,{className:"h-4 w-4 mr-2"}),"Novo Contato"]})]})}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>e("contacts"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${t==="contacts"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(kt,{className:"h-4 w-4 inline mr-2"}),"Contatos (",w.length,")"]}),s.jsxs("button",{onClick:()=>e("accounts"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${t==="accounts"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(us,{className:"h-4 w-4 inline mr-2"}),"Contas (",a.length,")"]})]}),t==="contacts"&&s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),placeholder:"Buscar contatos...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),s.jsx("div",{className:"p-4",children:o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-green-500"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Carregando..."})]}):t==="contacts"?s.jsx("div",{className:"space-y-3",children:w.length>0?w.map(_=>s.jsx(oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors border border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(aw,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:_.name}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(us,{className:"h-3 w-3 mr-1"}),_.phone]}),_.email&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(qn,{className:"h-3 w-3 mr-1"}),_.email]})]}),_.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-2 line-clamp-2",children:_.notes}),_.last_message_at&&s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1"}),"Última mensagem: ",new Date(_.last_message_at).toLocaleString("pt-BR")]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[_.is_blocked&&s.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs flex items-center",children:[s.jsx(Tse,{className:"h-3 w-3 mr-1"}),"Bloqueado"]}),s.jsx("button",{onClick:()=>y(_.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]})},_.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(kt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"Nenhum contato encontrado"}),s.jsx("button",{onClick:()=>A(!0),className:"mt-4 text-green-600 hover:text-green-700 text-sm font-medium",children:"Adicionar primeiro contato"})]})}):s.jsx("div",{className:"space-y-3",children:a.length>0?a.map(_=>s.jsx(oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(us,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:_.name}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:_.phone}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${S(_.status)}`,children:j(_.status)})]}),_.last_connection&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Última conexão: ",new Date(_.last_connection).toLocaleString("pt-BR")]})]})]}),_.is_active&&s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Ativo"})]})},_.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(us,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"Nenhuma conta conectada"})]})})})]}),u&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>A(!1)}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Contato"}),s.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),s.jsx("input",{type:"text",value:g.name,onChange:_=>x({...g,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Nome do contato"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),s.jsx("input",{type:"tel",value:g.phone,onChange:_=>x({...g,phone:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:g.email,onChange:_=>x({...g,email:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"email@exemplo.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),s.jsx("textarea",{value:g.notes,onChange:_=>x({...g,notes:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:"Informações adicionais"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:p,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Salvar"]})]})]})]})]})},V$e=({isOpen:t,onClose:e,onSave:r,entryId:n})=>{const[a,i]=k.useState(!1),[o,l]=k.useState([]),[c,d]=k.useState([]),[u,A]=k.useState([]),[h,f]=k.useState([]),[g,x]=k.useState([]),[m,p]=k.useState({descricao:"",valor:0,tipo:"receita",status:"a_receber",data:new Date().toISOString().split("T")[0],data_vencimento:new Date().toISOString().split("T")[0],customer_id:"",supplier_id:"",categoria:"",category_id:"",subcategory_id:"",forma_pagamento:"dinheiro",bank_account_id:"",observacoes:"",recorrente:!1,frequencia_recorrencia:"mensal",data_fim_recorrencia:""});k.useEffect(()=>{y(),w(),j(),_(),n&&F()},[n]),k.useEffect(()=>{m.category_id?S(m.category_id):(A([]),p(E=>({...E,subcategory_id:""})))},[m.category_id]);const y=async()=>{try{const{data:E}=await ge.from("customers").select("id, nome_razao").order("nome_razao");l(E||[])}catch(E){console.error("Error loading customers:",E)}},w=async()=>{try{const{data:E}=await ge.from("financial_categories").select("*").eq("active",!0).is("parent_id",null).order("name");d(E||[])}catch(E){console.error("Error loading categories:",E)}},S=async E=>{try{const{data:T}=await ge.from("financial_categories").select("*").eq("active",!0).eq("parent_id",E).order("name");A(T||[])}catch(T){console.error("Error loading subcategories:",T),A([])}},j=async()=>{try{const{data:E}=await ge.from("suppliers").select("id, name, cnpj, active").eq("active",!0).order("name");f(E||[])}catch(E){console.error("Error loading suppliers:",E)}},_=async()=>{try{const{data:E}=await ge.from("bank_accounts").select("id, account_name, bank_name, balance, active, is_default").eq("active",!0).order("is_default",{ascending:!1,nullsFirst:!1}).order("account_name",{ascending:!0});if(x(E||[]),E&&E.length>0&&!n){const T=E.find(v=>v.is_default);T&&p(v=>({...v,bank_account_id:T.id}))}}catch(E){console.error("Error loading bank accounts:",E)}},F=async()=>{var E,T,v;if(n)try{const{data:N}=await ge.from("finance_entries").select("*").eq("id",n).single();N&&p({descricao:N.descricao||"",valor:N.valor||0,tipo:N.tipo||"receita",status:N.status||"a_receber",data:((E=N.data)==null?void 0:E.split("T")[0])||"",data_vencimento:((T=N.data_vencimento)==null?void 0:T.split("T")[0])||"",customer_id:N.customer_id||"",supplier_id:N.supplier_id||"",categoria:N.categoria||"",category_id:N.category_id||"",subcategory_id:N.subcategory_id||"",forma_pagamento:N.forma_pagamento||"dinheiro",bank_account_id:N.bank_account_id||"",observacoes:N.observacoes||"",recorrente:N.recorrente||!1,frequencia_recorrencia:N.frequencia_recorrencia||"mensal",data_fim_recorrencia:((v=N.data_fim_recorrencia)==null?void 0:v.split("T")[0])||""})}catch(N){console.error("Error loading entry:",N)}},C=async()=>{try{if(!m.descricao||m.valor<=0){alert("Preencha a descrição e o valor!");return}i(!0);const E={descricao:m.descricao,valor:Number(m.valor),tipo:m.tipo,status:m.status,data:m.data,data_vencimento:m.data_vencimento||null,customer_id:m.customer_id||null,supplier_id:m.supplier_id||null,categoria:m.categoria||null,category_id:m.category_id||null,subcategory_id:m.subcategory_id||null,forma_pagamento:m.forma_pagamento,bank_account_id:m.bank_account_id||null,observacoes:m.observacoes||null};m.recorrente?(E.intervalo_recorrencia=m.frequencia_recorrencia,E.data_fim_recorrencia=m.data_fim_recorrencia||null):(E.intervalo_recorrencia=null,E.data_fim_recorrencia=null);let T;if(n?T=await ge.from("finance_entries").update(E).eq("id",n).select():T=await ge.from("finance_entries").insert([E]).select(),T.error)throw console.error("Database error:",T.error),new Error(T.error.message);alert(n?"Lançamento atualizado com sucesso!":"Lançamento criado com sucesso!"),r(),e()}catch(E){console.error("Error saving:",E),alert(`Erro ao salvar lançamento: ${E.message||"Erro desconhecido"}`)}finally{i(!1)}};return k.useEffect(()=>{m.tipo==="receita"?(m.status==="pago"||m.status==="a_pagar")&&p(E=>({...E,status:E.status==="pago"?"recebido":"a_receber"})):(m.status==="recebido"||m.status==="a_receber")&&p(E=>({...E,status:E.status==="recebido"?"pago":"a_pagar"}))},[m.tipo]),t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n?"Editar Lançamento":"Novo Lançamento"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Controle de receitas e despesas"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("label",{className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${m.tipo==="receita"?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"}`,children:[s.jsx("input",{type:"radio",checked:m.tipo==="receita",onChange:()=>p({...m,tipo:"receita"}),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(br,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Receita"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Entrada de dinheiro"})]})]})]})}),s.jsx("label",{className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${m.tipo==="despesa"?"border-red-500 bg-red-50":"border-gray-300 hover:border-red-300"}`,children:[s.jsx("input",{type:"radio",checked:m.tipo==="despesa",onChange:()=>p({...m,tipo:"despesa"}),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vl,{className:"h-6 w-6 text-red-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Despesa"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Saída de dinheiro"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição *"}),s.jsxs("div",{className:"relative",children:[s.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:m.descricao,onChange:E=>p({...m,descricao:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pagamento de serviço - OS #123"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valor *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"number",value:m.valor,onChange:E=>p({...m,valor:parseFloat(E.target.value)||0}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0,00",step:"0.01",min:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),s.jsx("select",{value:m.status,onChange:E=>p({...m,status:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:m.tipo==="receita"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"a_receber",children:"A Receber"}),s.jsx("option",{value:"recebido",children:"Recebido"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"a_pagar",children:"A Pagar"}),s.jsx("option",{value:"pago",children:"Pago"})]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Data ",m.status==="recebido"||m.status==="pago"?"do Pagamento":"de Lançamento"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",value:m.data,onChange:E=>p({...m,data:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Vencimento"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",value:m.data_vencimento,onChange:E=>p({...m,data_vencimento:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),m.tipo==="receita"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente (Opcional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m.customer_id,onChange:E=>p({...m,customer_id:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(E=>s.jsx("option",{value:E.id,children:E.nome_razao},E.id))]})]})]}),m.tipo==="despesa"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fornecedor (Opcional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m.supplier_id,onChange:E=>p({...m,supplier_id:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um fornecedor..."}),h.map(E=>s.jsxs("option",{value:E.id,children:[E.name," ",E.cnpj?`- ${E.cnpj}`:""]},E.id))]})]})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),s.jsxs("select",{value:m.category_id,onChange:E=>p({...m,category_id:E.target.value,subcategory_id:""}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma categoria..."}),c.filter(E=>E.type===m.tipo).map(E=>s.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))]})]}),m.category_id&&u.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subcategoria"}),s.jsxs("select",{value:m.subcategory_id,onChange:E=>p({...m,subcategory_id:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma subcategoria..."}),u.map(E=>s.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),s.jsxs("div",{className:"relative",children:[s.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m.forma_pagamento,onChange:E=>p({...m,forma_pagamento:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"cartao_credito",children:"Cartão de Crédito"}),s.jsx("option",{value:"cartao_debito",children:"Cartão de Débito"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"transferencia",children:"Transferência"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Conta Bancária"]}),s.jsxs("select",{value:m.bank_account_id,onChange:E=>p({...m,bank_account_id:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{value:"",children:"Selecione uma conta..."}),g.map(E=>{var T;return s.jsxs("option",{value:E.id,children:[E.is_default?"⭐ ":"",E.bank_name," - ",E.account_name," (Saldo: R$ ",((T=E.balance)==null?void 0:T.toFixed(2))||"0,00",")"]},E.id)})]}),m.status==="pago"||m.status==="recebido"?s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"💡 O saldo será atualizado automaticamente"}):s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.find(E=>E.is_default)&&s.jsx("span",{children:"⭐ = Conta Padrão • "}),"Selecione a conta para controlar o saldo"]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações"}),s.jsx("textarea",{value:m.observacoes,onChange:E=>p({...m,observacoes:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informações adicionais sobre este lançamento..."})]}),s.jsxs("div",{className:"md:col-span-2 border-t pt-4 mt-4",children:[s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:"recorrente",checked:m.recorrente,onChange:E=>p({...m,recorrente:E.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("label",{htmlFor:"recorrente",className:"block text-sm font-semibold text-blue-900 cursor-pointer",children:["Lançamento Recorrente / Provisionado ",s.jsx("span",{className:"text-blue-600",children:"(Opcional)"})]}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Marque esta opção se este lançamento se repete periodicamente (ex: aluguel, salários) ou se deseja provisionar para o futuro"})]})]})}),m.recorrente&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6 border-l-2 border-blue-200",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequência"}),s.jsxs("select",{value:m.frequencia_recorrencia,onChange:E=>p({...m,frequencia_recorrencia:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"semanal",children:"Semanal"}),s.jsx("option",{value:"quinzenal",children:"Quinzenal"}),s.jsx("option",{value:"mensal",children:"Mensal"}),s.jsx("option",{value:"bimestral",children:"Bimestral"}),s.jsx("option",{value:"trimestral",children:"Trimestral"}),s.jsx("option",{value:"semestral",children:"Semestral"}),s.jsx("option",{value:"anual",children:"Anual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Fim da Recorrência"}),s.jsx("input",{type:"date",value:m.data_fim_recorrencia,onChange:E=>p({...m,data_fim_recorrencia:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:m.data}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para recorrência indefinida"})]})]})]})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:C,disabled:a,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:a?s.jsx(s.Fragment,{children:"Salvando..."}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-5 w-5"}),"Salvar Lançamento"]})})]})]})}):null},K$e=()=>{const[t,e]=k.useState([]),[r,n]=k.useState({totalReceitas:0,totalDespesas:0,saldo:0,contasReceber:0,contasPagar:0,receitasMes:0,despesasMes:0,valorEstoque:0}),[a,i]=k.useState(!0),[o,l]=k.useState("all"),[c,d]=k.useState("all"),[u,A]=k.useState(""),[h,f]=k.useState("all"),[g,x]=k.useState(""),[m,p]=k.useState(""),[y,w]=k.useState(""),[S,j]=k.useState(""),[_,F]=k.useState("data"),[C,E]=k.useState("desc"),[T,v]=k.useState(1),[N,O]=k.useState([]),L=15,[Q,D]=k.useState(!1),[U,R]=k.useState(void 0);k.useEffect(()=>{Y(),z()},[]),k.useEffect(()=>{Y()},[_,C]);const z=async()=>{try{const{data:Z,error:me}=await ge.from("financial_categories").select("*").eq("active",!0).order("name");if(me)throw me;O(Z||[])}catch(Z){console.error("Error loading categories:",Z)}},Y=async(Z=!1)=>{try{i(!0);const{data:me,error:Me}=await ge.from("finance_entries").select("*").order(_,{ascending:C==="asc"});if(Me)throw Me;console.log("Loaded finance entries:",me==null?void 0:me.length),e(me||[]),await $(me||[])}catch(me){console.error("Error loading financial data:",me)}finally{i(!1)}},X=async(Z,me)=>{if(confirm(`Tem certeza que deseja excluir o lançamento "${me}"?

Esta ação é irreversível e terá efeito cascata em registros relacionados.`))try{const{error:Me}=await ge.from("finance_entries").delete().eq("id",Z);if(Me)throw Me;alert("Lançamento excluído com sucesso!"),await Y()}catch(Me){console.error("Error deleting entry:",Me),alert("Erro ao excluir lançamento. Verifique se não há registros relacionados.")}},$=async Z=>{const me=Z.filter(Be=>Be.tipo==="receita"&&Be.status==="recebido").reduce((Be,he)=>Be+Number(he.valor),0),Me=Z.filter(Be=>Be.tipo==="despesa"&&Be.status==="pago").reduce((Be,he)=>Be+Number(he.valor),0),Re=Z.filter(Be=>Be.tipo==="receita"&&Be.status==="a_receber").reduce((Be,he)=>Be+Number(he.valor),0),ye=Z.filter(Be=>Be.tipo==="despesa"&&Be.status==="a_pagar").reduce((Be,he)=>Be+Number(he.valor),0),q=new Date,Ee=q.getMonth(),Oe=q.getFullYear(),ke=Z.filter(Be=>{const he=new Date(Be.data);return Be.tipo==="receita"&&Be.status==="recebido"&&he.getMonth()===Ee&&he.getFullYear()===Oe}).reduce((Be,he)=>Be+Number(he.valor),0),Le=Z.filter(Be=>{const he=new Date(Be.data);return Be.tipo==="despesa"&&Be.status==="pago"&&he.getMonth()===Ee&&he.getFullYear()===Oe}).reduce((Be,he)=>Be+Number(he.valor),0);let Ie=0;try{const{data:Be,error:he}=await ge.from("inventory_items").select("quantity, unit_price").eq("active",!0);!he&&Be&&(Ie=Be.reduce(($e,pe)=>$e+Number(pe.quantity||0)*Number(pe.unit_price||0),0))}catch(Be){console.error("Error calculating inventory value:",Be)}n({totalReceitas:me,totalDespesas:Me,saldo:me-Me,contasReceber:Re,contasPagar:ye,receitasMes:ke,despesasMes:Le,valorEstoque:Ie})},M=Z=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Z),G=Z=>{const me=new Date(Z),Me=new Date,Re=me.getTime()-Me.getTime(),ye=Math.ceil(Re/(1e3*60*60*24));return ye===0?"Hoje":ye===1?"Amanhã":ye===-1?"Ontem":ye>0?`${ye} dias`:ye<0?`${Math.abs(ye)} dias atrás`:me.toLocaleDateString("pt-BR")},V=Z=>{switch(Z){case"recebido":case"pago":return s.jsx(Pn,{className:"h-4 w-4 text-green-600"});case"a_receber":case"a_pagar":return s.jsx(Dt,{className:"h-4 w-4 text-yellow-600"});default:return s.jsx(zn,{className:"h-4 w-4 text-gray-400"})}},ae=Z=>({recebido:"Recebido",pago:"Pago",a_receber:"A Receber",a_pagar:"A Pagar"})[Z]||Z,Ae=Z=>Z==="receita"?"Income":"Expense",re=t.filter(Z=>{var Le;const me=o==="all"||Z.tipo===o,Me=c==="all"||Z.status===c,Re=!u||((Le=Z.descricao)==null?void 0:Le.toLowerCase().includes(u.toLowerCase())),ye=h==="all"||Z.categoria===h||Z.category===h,q=new Date(Z.data),Ee=!g||q.getMonth()+1===parseInt(g),Oe=!m||q.getFullYear()===parseInt(m),ke=(!y||Z.data>=y)&&(!S||Z.data<=S);return me&&Me&&Re&&ye&&Ee&&Oe&&ke}),ie=Math.ceil(re.length/L),ce=re.slice((T-1)*L,T*L);return a?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando dados financeiros..."})]})}):s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-8 w-8 text-green-600"}),"Gestão Financeira"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Receitas, despesas e DRE"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(so,{to:"/financial-integration",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Ver Dashboard Financeiro"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(br,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Receitas"})]}),s.jsx("div",{className:"text-3xl font-bold",children:M(r.totalReceitas)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[M(r.receitasMes)," este mês"]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(vl,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Despesas"})]}),s.jsx("div",{className:"text-3xl font-bold",children:M(r.totalDespesas)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[M(r.despesasMes)," este mês"]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Xt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Saldo"})]}),s.jsx("div",{className:"text-3xl font-bold",children:M(r.saldo)}),s.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Resultado líquido"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Dt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Pendências"})]}),s.jsx("div",{className:"text-3xl font-bold",children:M(r.contasReceber+r.contasPagar)}),s.jsxs("div",{className:"text-sm opacity-90 mt-1",children:["↑ ",M(r.contasReceber)," | ↓ ",M(r.contasPagar)]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Nt,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Estoque"})]}),s.jsx("div",{className:"text-3xl font-bold",children:M(r.valorEstoque)}),s.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Valor total em materiais"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(sA,{className:"h-5 w-5"}),"Filtros Avançados"]}),s.jsx("button",{onClick:()=>{l("all"),d("all"),A(""),f("all"),x(""),p(""),w(""),j(""),F("data"),E("desc"),v(1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Limpar Filtros"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:u,onChange:Z=>{A(Z.target.value),v(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsxs("select",{value:o,onChange:Z=>{l(Z.target.value),v(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os tipos"}),s.jsx("option",{value:"receita",children:"Receitas"}),s.jsx("option",{value:"despesa",children:"Despesas"})]}),s.jsxs("select",{value:c,onChange:Z=>{d(Z.target.value),v(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os status"}),s.jsx("option",{value:"recebido",children:"Recebido"}),s.jsx("option",{value:"pago",children:"Pago"}),s.jsx("option",{value:"a_receber",children:"A Receber"}),s.jsx("option",{value:"a_pagar",children:"A Pagar"})]}),s.jsxs("select",{value:h,onChange:Z=>{f(Z.target.value),v(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todas as categorias"}),N.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]}),s.jsxs("select",{value:g,onChange:Z=>{x(Z.target.value),v(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todos os meses"}),s.jsx("option",{value:"1",children:"Janeiro"}),s.jsx("option",{value:"2",children:"Fevereiro"}),s.jsx("option",{value:"3",children:"Março"}),s.jsx("option",{value:"4",children:"Abril"}),s.jsx("option",{value:"5",children:"Maio"}),s.jsx("option",{value:"6",children:"Junho"}),s.jsx("option",{value:"7",children:"Julho"}),s.jsx("option",{value:"8",children:"Agosto"}),s.jsx("option",{value:"9",children:"Setembro"}),s.jsx("option",{value:"10",children:"Outubro"}),s.jsx("option",{value:"11",children:"Novembro"}),s.jsx("option",{value:"12",children:"Dezembro"})]}),s.jsxs("select",{value:m,onChange:Z=>{p(Z.target.value),v(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Todos os anos"}),[2024,2025,2026].map(Z=>s.jsx("option",{value:Z,children:Z},Z))]}),s.jsx("input",{type:"date",value:y,onChange:Z=>{w(Z.target.value),v(1)},placeholder:"Data início",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"date",value:S,onChange:Z=>{j(Z.target.value),v(1)},placeholder:"Data fim",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ordenar por:"}),s.jsxs("select",{value:_,onChange:Z=>F(Z.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[s.jsx("option",{value:"data",children:"Data"}),s.jsx("option",{value:"valor",children:"Valor"}),s.jsx("option",{value:"created_at",children:"Data de Criação"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>E("asc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${C==="asc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"↑ Crescente"}),s.jsx("button",{onClick:()=>E("desc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${C==="desc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"↓ Decrescente"})]})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Mostrando ",ce.length," de ",re.length," lançamentos"]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lançamentos"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(Ls,{className:"h-4 w-4"}),"Exportar"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>Y(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",title:"Atualizar dados",children:[s.jsx(Zs,{className:"h-4 w-4"}),"Atualizar"]}),s.jsxs("button",{onClick:()=>{R(void 0),D(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Novo Lançamento"]})]})]})]}),s.jsx("div",{className:"space-y-2",children:ce.map(Z=>s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:`p-3 rounded-lg ${Z.tipo==="receita"?"bg-green-100":"bg-red-100"}`,children:s.jsx(xt,{className:`h-5 w-5 ${Z.tipo==="receita"?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:Z.descricao}),s.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${Z.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Ae(Z.tipo)})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[V(Z.status),s.jsx("span",{className:"text-sm text-gray-600",children:ae(Z.status)})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg font-bold ${Z.tipo==="receita"?"text-green-600":"text-red-600"}`,children:[Z.tipo==="receita"?"+":"-"," ",M(Number(Z.valor))]}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 justify-end",children:[s.jsx(Jt,{className:"h-3 w-3"}),G(Z.data)]})]}),s.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>{R(Z.id),D(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Editar lançamento",children:s.jsx(Dr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>X(Z.id,Z.descricao),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir lançamento",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]})]})},Z.id))}),re.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum lançamento encontrado"})]}),re.length>L&&s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",T," de ",ie]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>v(Math.max(1,T-1)),disabled:T===1,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:ie},(Z,me)=>me+1).filter(Z=>Z===1||Z===ie||Z>=T-1&&Z<=T+1).map((Z,me,Me)=>s.jsxs("div",{className:"flex items-center",children:[me>0&&Me[me-1]!==Z-1&&s.jsx("span",{className:"px-2 text-gray-400",children:"..."}),s.jsx("button",{onClick:()=>v(Z),className:`px-3 py-2 rounded-lg ${T===Z?"bg-blue-600 text-white":"border hover:bg-gray-50"}`,children:Z})]},Z))}),s.jsx("button",{onClick:()=>v(Math.min(ie,T+1)),disabled:T===ie,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Próxima"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dt,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Última Sincronização"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Agora"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:"Plano Atual: Premium"})})]}),s.jsx(V$e,{isOpen:Q,onClose:()=>{D(!1),R(void 0)},onSave:()=>{Y(),D(!1),R(void 0)},entryId:U})]})};lA.register(_f,Cf,Ou,Ji,of,yu,k2,F2,E2,B2);const W$e=()=>{const[t,e]=k.useState([]),[r,n]=k.useState(null),[a,i]=k.useState(null),[o,l]=k.useState(""),[c,d]=k.useState(""),[u,A]=k.useState([]),[h,f]=k.useState(!1),[g,x]=k.useState({ebitda:0,ebitda_margin:0,gross_margin:0,operating_margin:0,net_margin:0,working_capital:0,current_ratio:0,roi:0,operating_cash_flow:0,net_cash_flow:0}),[m,p]=k.useState(null),[y,w]=k.useState(null),[S,j]=k.useState({total_revenue:0,total_expenses:0,net_result:0,cash_inflow:0,cash_outflow:0,net_cash_flow:0,accounts_receivable:0,accounts_payable:0}),[_,F]=k.useState([]),[C,E]=k.useState(!0),[T,v]=k.useState(!1);k.useEffect(()=>{N(),Q()},[]),k.useEffect(()=>{o&&c&&O()},[o,c]),k.useEffect(()=>{h&&a&&L()},[h,a]),k.useEffect(()=>{r&&D()},[r]);const N=async()=>{try{const{data:re,error:ie}=await ge.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!1});if(ie)throw ie;if(e(re||[]),re&&re.length>0){const ce=[...new Set(re.map(ye=>ye.fiscal_year))].sort((ye,q)=>q-ye);A(ce);const Z=new Date,me=Z.getFullYear(),Me=(Z.getMonth()+1).toString().padStart(2,"0");d(me.toString()),l(Me);const Re=re.find(ye=>ye.fiscal_year===me&&ye.start_date.startsWith(`${me}-${Me}`));n(Re||re[0])}}catch(re){console.error("Error loading periods:",re)}finally{E(!1)}},O=()=>{if(!o||!c)return;const re=t.find(ie=>ie.fiscal_year===parseInt(c)&&ie.start_date.startsWith(`${c}-${o}`));re&&n(re)},L=async()=>{var re,ie,ce,Z,me,Me,Re,ye,q,Ee,Oe,ke,Le,Ie,Be,he,$e,pe,ue,se,le,ve,xe;if(a)try{const[Se,et,ze,ft,mt]=await Promise.all([ge.rpc("calculate_ebitda",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),ge.rpc("calculate_roi",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),ge.from("v_consolidated_financial_summary").select("*").eq("period_id",a.id).maybeSingle(),ge.from("v_margin_analysis").select("*").eq("period_id",a.id).maybeSingle(),ge.rpc("calculate_working_capital_consolidated",{p_period_id:a.id})]);p({ebitda:((ie=(re=Se.data)==null?void 0:re[0])==null?void 0:ie.ebitda)||0,ebitda_margin:((Z=(ce=Se.data)==null?void 0:ce[0])==null?void 0:Z.ebitda_margin)||0,gross_margin:((me=ft.data)==null?void 0:me.gross_margin_percent)||0,operating_margin:((Me=ft.data)==null?void 0:Me.operating_margin_percent)||0,net_margin:0,working_capital:((ye=(Re=mt.data)==null?void 0:Re[0])==null?void 0:ye.working_capital)||0,current_ratio:((Ee=(q=mt.data)==null?void 0:q[0])==null?void 0:Ee.current_ratio)||0,roi:((ke=(Oe=et.data)==null?void 0:Oe[0])==null?void 0:ke.roi_percent)||0,operating_cash_flow:((Le=ze.data)==null?void 0:Le.net_cash_flow)||0,net_cash_flow:((Ie=ze.data)==null?void 0:Ie.net_cash_flow)||0}),w({total_revenue:((Be=ze.data)==null?void 0:Be.total_revenue)||0,total_expenses:((he=ze.data)==null?void 0:he.total_expenses)||0,net_result:((($e=ze.data)==null?void 0:$e.total_revenue)||0)-(((pe=ze.data)==null?void 0:pe.total_expenses)||0),cash_inflow:((ue=ze.data)==null?void 0:ue.total_revenue)||0,cash_outflow:((se=ze.data)==null?void 0:se.total_expenses)||0,net_cash_flow:((le=ze.data)==null?void 0:le.net_cash_flow)||0,accounts_receivable:((ve=ze.data)==null?void 0:ve.accounts_receivable)||0,accounts_payable:((xe=ze.data)==null?void 0:xe.accounts_payable)||0})}catch(Se){console.error("Error calculating comparison indicators:",Se)}},Q=async()=>{try{const{data:re,error:ie}=await ge.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!0}).limit(12);if(ie)throw ie;const ce=await Promise.all((re||[]).map(async Z=>{const{data:me}=await ge.from("v_consolidated_financial_summary").select("*").eq("period_id",Z.id).maybeSingle();return{...Z,...me}}));F(ce)}catch(re){console.error("Error loading monthly data:",re)}},D=async()=>{var re,ie,ce,Z,me,Me,Re,ye,q,Ee,Oe,ke,Le,Ie,Be,he,$e,pe,ue,se,le,ve;if(r)try{v(!0);const[xe,Se,et,ze,ft]=await Promise.all([ge.rpc("calculate_ebitda",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),ge.rpc("calculate_roi",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),ge.from("v_consolidated_financial_summary").select("*").eq("period_id",r.id).maybeSingle(),ge.from("v_margin_analysis").select("*").eq("period_id",r.id).maybeSingle(),ge.rpc("calculate_working_capital_consolidated",{p_period_id:r.id})]);x({ebitda:((ie=(re=xe.data)==null?void 0:re[0])==null?void 0:ie.ebitda)||0,ebitda_margin:((Z=(ce=xe.data)==null?void 0:ce[0])==null?void 0:Z.ebitda_margin)||0,gross_margin:((me=ze.data)==null?void 0:me.gross_margin_percent)||0,operating_margin:((Me=ze.data)==null?void 0:Me.operating_margin_percent)||0,net_margin:0,working_capital:((ye=(Re=ft.data)==null?void 0:Re[0])==null?void 0:ye.working_capital)||0,current_ratio:((Ee=(q=ft.data)==null?void 0:q[0])==null?void 0:Ee.current_ratio)||0,roi:((ke=(Oe=Se.data)==null?void 0:Oe[0])==null?void 0:ke.roi_percent)||0,operating_cash_flow:((Le=et.data)==null?void 0:Le.net_cash_flow)||0,net_cash_flow:((Ie=et.data)==null?void 0:Ie.net_cash_flow)||0}),j({total_revenue:((Be=et.data)==null?void 0:Be.total_revenue)||0,total_expenses:((he=et.data)==null?void 0:he.total_expenses)||0,net_result:(($e=et.data)==null?void 0:$e.net_result)||0,cash_inflow:((pe=et.data)==null?void 0:pe.cash_inflow)||0,cash_outflow:((ue=et.data)==null?void 0:ue.cash_outflow)||0,net_cash_flow:((se=et.data)==null?void 0:se.net_cash_flow)||0,accounts_receivable:((le=et.data)==null?void 0:le.accounts_receivable)||0,accounts_payable:((ve=et.data)==null?void 0:ve.accounts_payable)||0})}catch(xe){console.error("Error calculating indicators:",xe)}finally{v(!1)}},U=re=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(re),R=re=>`${re.toFixed(1)}%`,z=re=>re>0?s.jsx(Gh,{className:"h-4 w-4 text-green-600"}):re<0?s.jsx(J1,{className:"h-4 w-4 text-red-600"}):s.jsx(s0,{className:"h-4 w-4 text-gray-400"}),Y=(re,ie)=>ie==="margin"||ie==="ratio"?re>=20?"text-green-600":re>=10?"text-blue-600":re>=0?"text-yellow-600":"text-red-600":re>=0?"text-green-600":"text-red-600",X={labels:_.map(re=>{var ie;return((ie=re.period_name)==null?void 0:ie.split("/")[0])||""}),datasets:[{label:"Receitas",data:_.map(re=>re.total_revenue||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:_.map(re=>re.total_expenses||0),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]},$={labels:_.map(re=>{var ie;return((ie=re.period_name)==null?void 0:ie.split("/")[0])||""}),datasets:[{label:"Resultado Líquido",data:_.map(re=>re.net_result||0),backgroundColor:_.map(re=>(re.net_result||0)>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)"),borderColor:_.map(re=>(re.net_result||0)>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)"),borderWidth:2}]},M={labels:_.map(re=>{var ie;return((ie=re.period_name)==null?void 0:ie.split("/")[0])||""}),datasets:[{label:"Entradas",data:_.map(re=>re.cash_inflow||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:2},{label:"Saídas",data:_.map(re=>re.cash_outflow||0),backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgb(168, 85, 247)",borderWidth:2}]},G={labels:["Receitas","Despesas"],datasets:[{data:[S.total_revenue,S.total_expenses],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(239, 68, 68)"],borderWidth:2}]},V={labels:["A Receber","A Pagar"],datasets:[{data:[S.accounts_receivable,S.accounts_payable],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(251, 146, 60)"],borderWidth:2}]},ae={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12}}},tooltip:{callbacks:{label:re=>{let ie=re.dataset.label||"";return ie&&(ie+=": "),ie+=U(re.parsed.y||re.parsed),ie}}}},scales:{y:{beginAtZero:!0,ticks:{callback:re=>U(re)}}}},Ae=({title:re,value:ie,icon:ce,type:Z="currency",description:me})=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:s.jsx(ce,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:re}),me&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:me})]})]}),z(ie)]}),s.jsxs("div",{className:`text-3xl font-bold ${Y(ie,Z==="percent"?"margin":Z)}`,children:[Z==="currency"&&U(ie),Z==="percent"&&R(ie),Z==="ratio"&&ie.toFixed(2)]})]});return C?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zs,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Carregando análise financeira..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Wh,{className:"h-10 w-10 text-blue-600"}),"Análise Financeira Avançada"]}),s.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Dados consolidados: Ordens de Serviço, Estoque, Compras, Folha, Equipamentos e Lançamentos"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(so,{to:"/financial",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(mu,{className:"h-4 w-4"}),"Dashboard Integrado"]}),s.jsxs("button",{onClick:D,disabled:T,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Zs,{className:`h-4 w-4 ${T?"animate-spin":""}`}),"Recalcular"]}),s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(Ls,{className:"h-4 w-4"}),"Exportar"]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jt,{className:"h-6 w-6 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Seleção de Período"})]}),s.jsx("button",{onClick:()=>f(!h),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h?"Modo Comparação Ativo":"Ativar Comparação"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Período Principal"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Mês"}),s.jsxs("select",{value:o,onChange:re=>l(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"01",children:"Janeiro"}),s.jsx("option",{value:"02",children:"Fevereiro"}),s.jsx("option",{value:"03",children:"Março"}),s.jsx("option",{value:"04",children:"Abril"}),s.jsx("option",{value:"05",children:"Maio"}),s.jsx("option",{value:"06",children:"Junho"}),s.jsx("option",{value:"07",children:"Julho"}),s.jsx("option",{value:"08",children:"Agosto"}),s.jsx("option",{value:"09",children:"Setembro"}),s.jsx("option",{value:"10",children:"Outubro"}),s.jsx("option",{value:"11",children:"Novembro"}),s.jsx("option",{value:"12",children:"Dezembro"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ano"}),s.jsx("select",{value:c,onChange:re=>d(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(re=>s.jsx("option",{value:re,children:re},re))})]})]}),r&&s.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["Analisando: ",s.jsx("span",{className:"font-semibold text-blue-700",children:r.period_name})]})]}),h&&s.jsxs("div",{className:"space-y-4 border-l-2 border-blue-200 pl-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comparar Com"}),s.jsxs("select",{value:(a==null?void 0:a.id)||"",onChange:re=>{const ie=t.find(ce=>ce.id===re.target.value);i(ie||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione um período"}),t.filter(re=>re.id!==(r==null?void 0:r.id)).map(re=>s.jsx("option",{value:re.id,children:re.period_name},re.id))]}),a&&s.jsxs("div",{className:"text-sm text-gray-600 bg-green-50 p-3 rounded-lg",children:["Comparando com: ",s.jsx("span",{className:"font-semibold text-green-700",children:a.period_name})]})]})]})]})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(br,{className:"h-6 w-6 text-green-600"}),"Indicadores de Rentabilidade"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ae,{title:"EBITDA",value:g.ebitda,icon:Ml,type:"currency",description:"Lucro operacional"}),s.jsx(Ae,{title:"Margem EBITDA",value:g.ebitda_margin,icon:br,type:"percent",description:"% sobre receita"}),s.jsx(Ae,{title:"Margem Bruta",value:g.gross_margin,icon:db,type:"percent",description:"Receita - Custos"}),s.jsx(Ae,{title:"Margem Operacional",value:g.operating_margin,icon:mu,type:"percent",description:"Eficiência operacional"})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-6 w-6 text-blue-600"}),"Capital de Giro e Performance"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ae,{title:"Capital de Giro",value:g.working_capital,icon:Wh,type:"currency",description:"Recursos para operação"}),s.jsx(Ae,{title:"Liquidez Corrente",value:g.current_ratio,icon:br,type:"ratio",description:"Capacidade de pagamento"}),s.jsx(Ae,{title:"ROI",value:g.roi,icon:r2,type:"percent",description:"Retorno do investimento"}),s.jsx(Ae,{title:"Fluxo de Caixa",value:g.net_cash_flow,icon:Xt,type:"currency",description:"Variação do caixa"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(c9,{className:"h-5 w-5 text-blue-600"}),"Evolução de Receitas e Despesas"]}),s.jsx("div",{className:"h-80",children:s.jsx(v0,{data:X,options:ae})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(mu,{className:"h-5 w-5 text-green-600"}),"Resultado Líquido Mensal"]}),s.jsx("div",{className:"h-80",children:s.jsx(lf,{data:$,options:ae})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(mu,{className:"h-5 w-5 text-purple-600"}),"Fluxo de Caixa (Entradas vs Saídas)"]}),s.jsx("div",{className:"h-80",children:s.jsx(lf,{data:M,options:ae})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(db,{className:"h-5 w-5 text-orange-600"}),"Distribuição do Período"]}),s.jsx("div",{className:"h-80 flex items-center justify-center",children:s.jsx(_q,{data:G,options:{...ae,scales:void 0}})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(db,{className:"h-6 w-6 text-indigo-600"}),"Contas a Receber vs A Pagar"]}),s.jsx("div",{className:"h-96 flex items-center justify-center",children:s.jsx(_b,{data:V,options:{...ae,scales:void 0}})})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-xl",children:s.jsx(Wh,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Sobre os Indicadores Financeiros"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:"📊 EBITDA"}),s.jsx("p",{children:"Mede o desempenho operacional antes de custos financeiros e contábeis"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:"📈 Margens"}),s.jsx("p",{children:"Indicam a eficiência na conversão de receita em lucro"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:"💰 Capital de Giro"}),s.jsx("p",{children:"Recursos disponíveis para as operações do dia a dia"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-2",children:"🎯 ROI"}),s.jsx("p",{children:"Eficiência dos investimentos realizados pela empresa"})]})]})]})]})})]})})},G$e=()=>{const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState(!0),[o,l]=k.useState(!1),[c,d]=k.useState(null),[u,A]=k.useState({account_name:"",bank_name:"",account_number:"",balance:0,active:!0});k.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const{data:j,error:_}=await ge.from("bank_accounts").select("*").order("created_at",{ascending:!1});if(_)throw _;e(j||[])}catch(j){console.error("Error loading accounts:",j)}finally{n(!1)}},f=async()=>{try{if(!u.account_name||!u.bank_name||!u.account_number){alert("Preencha todos os campos obrigatórios");return}if(c){const{error:j}=await ge.from("bank_accounts").update(u).eq("id",c.id);if(j)throw j}else{const{error:j}=await ge.from("bank_accounts").insert([u]);if(j)throw j}alert(c?"Conta atualizada!":"Conta criada!"),y(),await h()}catch(j){console.error("Error saving account:",j),alert("Erro ao salvar conta")}},g=async(j,_)=>{if(confirm(`Excluir a conta "${_}"?

Esta ação é irreversível!`))try{const{error:F}=await ge.from("bank_accounts").delete().eq("id",j);if(F)throw F;alert("Conta excluída!"),await h()}catch(F){console.error("Error deleting account:",F),alert("Erro ao excluir conta")}},x=async(j,_)=>{try{const{error:F}=await ge.from("bank_accounts").update({active:!_}).eq("id",j);if(F)throw F;alert(_?"Conta congelada!":"Conta ativada!"),await h()}catch(F){console.error("Error freezing account:",F),alert("Erro ao alterar status da conta")}},m=async j=>{try{const{error:_}=await ge.from("bank_accounts").update({is_default:!0}).eq("id",j);if(_)throw _;alert("Conta definida como padrão!"),await h()}catch(_){console.error("Error setting default account:",_),alert("Erro ao definir conta padrão")}},p=j=>{d(j),A({account_name:j.account_name,bank_name:j.bank_name,account_number:j.account_number,balance:j.balance,active:j.active}),l(!0)},y=()=>{l(!1),d(null),A({account_name:"",bank_name:"",account_number:"",balance:0,active:!0})},w=j=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j):"R$ •••••",S=t.filter(j=>j.active).reduce((j,_)=>j+Number(_.balance),0);return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 pt-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Dr,{className:"h-8 w-8 text-blue-600"}),"Contas Bancárias"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerenciar contas e saldos"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Nova Conta"]})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-8 text-white shadow-lg mx-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Saldo Total"}),s.jsx("h2",{className:"text-4xl font-bold mt-2",children:w(S)})]}),s.jsx("button",{onClick:()=>i(!a),className:"p-3 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:a?s.jsx(Ds,{className:"h-6 w-6"}):s.jsx(bE,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-300 mb-1",children:[s.jsx(br,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Este mês"})]}),s.jsx("p",{className:"text-xl font-semibold",children:"+R$ 12.450,00"})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-300 mb-1",children:[s.jsx(vl,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Saídas"})]}),s.jsx("p",{className:"text-xl font-semibold",children:"-R$ 8.320,00"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-6 pb-6",children:t.map((j,_)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-lg ${j.active?"bg-blue-100":"bg-gray-100"}`,children:s.jsx(yl,{className:`h-6 w-6 ${j.active?"text-blue-600":"text-gray-400"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:j.account_name}),j.is_default&&s.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full flex items-center gap-1",children:"⭐ Padrão"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:j.bank_name}),!j.active&&s.jsxs("span",{className:"text-xs text-red-600 flex items-center gap-1 mt-1",children:[s.jsx(jT,{className:"h-3 w-3"}),"Congelada"]})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conta"}),s.jsx("p",{className:"font-mono text-gray-900",children:j.account_number})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Saldo Atual"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w(Number(j.balance))})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>p(j),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>x(j.id,j.active),className:`flex-1 px-3 py-2 rounded-lg transition-colors text-sm font-medium flex items-center justify-center gap-1 ${j.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:j.active?"Congelar conta":"Ativar conta",children:j.active?s.jsxs(s.Fragment,{children:[s.jsx(jT,{className:"h-4 w-4"})," Congelar"]}):s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"h-4 w-4"})," Ativar"]})}),s.jsx("button",{onClick:()=>g(j.id,j.account_name),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",title:"Excluir conta",children:s.jsx(Bt,{className:"h-4 w-4"})})]}),!j.is_default&&s.jsx("button",{onClick:()=>m(j.id),className:"w-full px-3 py-2 bg-gradient-to-r from-yellow-50 to-amber-50 text-yellow-700 rounded-lg hover:from-yellow-100 hover:to-amber-100 transition-all text-sm font-medium flex items-center justify-center gap-1 border border-yellow-200",children:"⭐ Definir como Padrão"})]})]},j.id))}),t.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100 mx-6",children:[s.jsx(Dr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma conta cadastrada"}),s.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Primeira Conta"})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:c?"Editar Conta":"Nova Conta Bancária"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),s.jsx("input",{type:"text",value:u.account_name,onChange:j=>A({...u,account_name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Conta Corrente Principal"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco *"}),s.jsx("input",{type:"text",value:u.bank_name,onChange:j=>A({...u,bank_name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número da Conta *"}),s.jsx("input",{type:"text",value:u.account_number,onChange:j=>A({...u,account_number:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12345-6"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saldo Inicial (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:u.balance,onChange:j=>A({...u,balance:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:c?"Atualizar":"Criar Conta"}),s.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})]})},X$e=async()=>{const{data:t,error:e}=await ge.from("employees").select("*").eq("active",!0).order("name",{ascending:!0});if(e)throw e;return t||[]},Y$e=async t=>{const{data:e,error:r}=await ge.from("employees").insert([t]).select().single();if(r)throw r;return e},J$e=async(t,e)=>{const{data:r,error:n}=await ge.from("employees").update(e).eq("id",t).select().single();if(n)throw n;return r},Z$e=async t=>{const{error:e}=await ge.from("employees").update({active:!1}).eq("id",t);if(e)throw e},e9e=async()=>{const{data:t,error:e}=await ge.from("user_invitations").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},t9e=async t=>{const{data:e,error:r}=await ge.from("user_invitations").insert([t]).select().single();if(r)throw r;return e},r9e=async t=>{const{error:e}=await ge.from("user_invitations").update({status:"cancelled"}).eq("id",t);if(e)throw e},n9e=async()=>{const{error:t}=await ge.rpc("expire_old_invitations");if(t)throw t},z8=[{value:"driver_license",label:"CNH - Carteira de Habilitação"},{value:"certificate",label:"Certificado / Diploma"},{value:"training",label:"Comprovante de Treinamento"},{value:"contract",label:"Contrato de Trabalho"},{value:"other",label:"Outro Documento"}],s9e=({documents:t,onDocumentAdd:e,onDocumentRemove:r})=>{const[n,a]=k.useState("driver_license"),[i,o]=k.useState(""),[l,c]=k.useState(!1),d=async A=>{var f;const h=(f=A.target.files)==null?void 0:f[0];if(h){if(h.size>10*1024*1024){alert("Arquivo muito grande! Tamanho máximo: 10MB");return}c(!0);try{const g=new FileReader;g.onloadend=()=>{const x=g.result;e({document_type:n,file_name:h.name,file_url:x,file_size:h.size,notes:i||void 0}),o(""),A.target.value=""},g.readAsDataURL(h)}catch(g){console.error("Error uploading file:",g),alert("Erro ao fazer upload do arquivo")}finally{c(!1)}}},u=A=>{if(!A)return"0 KB";const h=A/1024;return h<1024?`${h.toFixed(1)} KB`:`${(h/1024).toFixed(1)} MB`};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Upload de Documento"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),s.jsx("select",{value:n,onChange:A=>a(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:z8.map(A=>s.jsx("option",{value:A.value,children:A.label},A.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações (opcional)"}),s.jsx("input",{type:"text",value:i,onChange:A=>o(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Válida até 2026, Curso concluído em 2023..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo (PDF, JPG, PNG - Máx. 10MB)"}),s.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(dg,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:l?"Enviando...":"Clique para selecionar arquivo"}),s.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:d,disabled:l})]})]})]})]}),t.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Documentos Anexados"}),s.jsx(at,{children:t.map((A,h)=>{var f;return s.jsxs(oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(wE,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:A.file_name}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx("span",{children:(f=z8.find(g=>g.value===A.document_type))==null?void 0:f.label}),s.jsx("span",{children:"•"}),s.jsx("span",{children:u(A.file_size)})]}),A.notes&&s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:A.notes})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("a",{href:A.file_url,download:A.file_name,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A.id&&r(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]},A.id||h)})})]})]})},q8=t=>t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),U5=t=>t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2"),a9e=t=>t.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),cl=t=>t.replace(/\D/g,""),i9e=t=>{const e=t.replace(/\D/g,"");if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let r=0;for(let a=0;a<9;a++)r+=parseInt(e.charAt(a))*(10-a);let n=11-r%11;if(n>=10&&(n=0),n!==parseInt(e.charAt(9)))return!1;r=0;for(let a=0;a<10;a++)r+=parseInt(e.charAt(a))*(11-a);return n=11-r%11,n>=10&&(n=0),n===parseInt(e.charAt(10))},o9e=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),l9e=()=>{const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState(""),[o,l]=k.useState(!1),[c,d]=k.useState(null),[u,A]=k.useState("personal"),[h,f]=k.useState([]),[g,x]=k.useState(!1),[m,p]=k.useState({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""});k.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const N=await X$e();e(N)}catch(N){console.error("Error loading employees:",N)}finally{n(!1)}},w=N=>{N?(d(N),p(N)):(d(null),p({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""}),f([])),A("personal"),l(!0)},S=()=>{l(!1),d(null),f([])},j=async N=>{const O=cl(N);if(O.length===8){x(!0);try{const Q=await(await fetch(`https://viacep.com.br/ws/${O}/json/`)).json();Q.erro||p(D=>({...D,address_street:Q.logradouro||D.address_street,address_neighborhood:Q.bairro||D.address_neighborhood,address_city:Q.localidade||D.address_city,address_state:Q.uf||D.address_state}))}catch(L){console.error("Error fetching CEP:",L)}finally{x(!1)}}},_=async N=>{if(N.preventDefault(),!m.name){alert("Por favor, preencha o nome do funcionário");return}if(m.cpf&&!i9e(m.cpf)){alert("CPF inválido");return}if(m.email&&!o9e(m.email)){alert("E-mail inválido");return}try{const O={...m,cpf:m.cpf?cl(m.cpf):void 0,phone:m.phone?cl(m.phone):void 0,address_zip_code:m.address_zip_code?cl(m.address_zip_code):void 0,emergency_contact_phone:m.emergency_contact_phone?cl(m.emergency_contact_phone):void 0,birth_date:m.birth_date||null,admission_date:m.admission_date||null,driver_license_expiry:m.driver_license_expiry||null};c!=null&&c.id?await J$e(c.id,O):await Y$e(O),await y(),S()}catch(O){console.error("Error saving employee:",O),alert("Erro ao salvar funcionário")}},F=async N=>{if(confirm("Tem certeza que deseja desativar este funcionário?"))try{await Z$e(N),await y()}catch(O){console.error("Error deleting employee:",O),alert("Erro ao desativar funcionário")}},C=N=>{f(O=>[...O,{...N,id:Date.now().toString(),employee_id:(c==null?void 0:c.id)||"temp"}])},E=N=>{f(O=>O.filter(L=>L.id!==N))},T=t.filter(N=>{var O,L,Q,D;return N.name.toLowerCase().includes(a.toLowerCase())||((O=N.email)==null?void 0:O.toLowerCase().includes(a.toLowerCase()))||((L=N.role)==null?void 0:L.toLowerCase().includes(a.toLowerCase()))||((Q=N.cpf)==null?void 0:Q.includes(a))||((D=N.department)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))}),v=[{id:"personal",label:"Dados Pessoais",icon:xn},{id:"address",label:"Endereço",icon:Ra},{id:"bank",label:"Dados Bancários",icon:Dr},{id:"license",label:"CNH",icon:l9},{id:"emergency",label:"Emergência",icon:ts},{id:"documents",label:"Documentos",icon:xt}];return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(kt,{className:"h-8 w-8 text-blue-600"}),"Gerenciamento de Funcionários"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie a equipe da sua empresa"})]}),s.jsxs("button",{onClick:()=>w(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[s.jsx(bt,{className:"h-5 w-5"}),"Novo Funcionário"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6 p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail, CPF, departamento...",value:a,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando funcionários..."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(at,{children:T.map(N=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(kt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.name}),N.role&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[s.jsx(Dse,{className:"h-3 w-3"}),s.jsx("span",{children:N.role})]}),N.department&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:N.department})]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${N.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.active?s.jsx(foe,{className:"h-3 w-3"}):s.jsx(yoe,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[N.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(qn,{className:"h-4 w-4"}),s.jsx("span",{className:"truncate",children:N.email})]}),N.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(us,{className:"h-4 w-4"}),s.jsx("span",{children:U5(N.phone)})]}),N.cpf&&s.jsxs("div",{className:"text-xs text-gray-500",children:["CPF: ",q8(N.cpf)]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>w(N),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Sie,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>N.id&&F(N.id),className:"px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]},N.id))})}),s.jsx(at,{children:o&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Editar Funcionário":"Novo Funcionário"}),s.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:v.map(N=>{const O=N.icon;return s.jsxs("button",{onClick:()=>A(N.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${u===N.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[s.jsx(O,{className:"h-4 w-4"}),N.label]},N.id)})}),s.jsxs("form",{onSubmit:_,className:"flex-1 overflow-y-auto p-6",children:[u==="personal"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),s.jsx("input",{type:"text",value:m.name,onChange:N=>p(O=>({...O,name:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),s.jsx("input",{type:"text",value:m.cpf?q8(m.cpf):"",onChange:N=>p(O=>({...O,cpf:cl(N.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00",maxLength:14})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RG"}),s.jsx("input",{type:"text",value:m.rg||"",onChange:N=>p(O=>({...O,rg:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),s.jsx("input",{type:"date",value:m.birth_date||"",onChange:N=>p(O=>({...O,birth_date:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Admissão"}),s.jsx("input",{type:"date",value:m.admission_date||"",onChange:N=>p(O=>({...O,admission_date:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:m.email||"",onChange:N=>p(O=>({...O,email:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:m.phone?U5(m.phone):"",onChange:N=>p(O=>({...O,phone:cl(N.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo"}),s.jsx("input",{type:"text",value:m.role||"",onChange:N=>p(O=>({...O,role:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Técnico, Supervisor..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:m.department||"",onChange:N=>p(O=>({...O,department:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Manutenção, Instalação..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salário (R$)"}),s.jsx("input",{type:"number",value:m.salary||"",onChange:N=>p(O=>({...O,salary:parseFloat(N.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:m.active?"true":"false",onChange:N=>p(O=>({...O,active:N.target.value==="true"})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"true",children:"Ativo"}),s.jsx("option",{value:"false",children:"Inativo"})]})]})]})]}),u==="address"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Endereço Residencial"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:m.address_zip_code?a9e(m.address_zip_code):"",onChange:N=>{const O=cl(N.target.value);p(L=>({...L,address_zip_code:O})),O.length===8&&j(O)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000",maxLength:9}),g&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"})})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rua"}),s.jsx("input",{type:"text",value:m.address_street||"",onChange:N=>p(O=>({...O,address_street:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número"}),s.jsx("input",{type:"text",value:m.address_number||"",onChange:N=>p(O=>({...O,address_number:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),s.jsx("input",{type:"text",value:m.address_complement||"",onChange:N=>p(O=>({...O,address_complement:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Apto, bloco, casa..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:m.address_neighborhood||"",onChange:N=>p(O=>({...O,address_neighborhood:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsxs("select",{value:m.address_state||"",onChange:N=>p(O=>({...O,address_state:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"AC",children:"AC"}),s.jsx("option",{value:"AL",children:"AL"}),s.jsx("option",{value:"AP",children:"AP"}),s.jsx("option",{value:"AM",children:"AM"}),s.jsx("option",{value:"BA",children:"BA"}),s.jsx("option",{value:"CE",children:"CE"}),s.jsx("option",{value:"DF",children:"DF"}),s.jsx("option",{value:"ES",children:"ES"}),s.jsx("option",{value:"GO",children:"GO"}),s.jsx("option",{value:"MA",children:"MA"}),s.jsx("option",{value:"MT",children:"MT"}),s.jsx("option",{value:"MS",children:"MS"}),s.jsx("option",{value:"MG",children:"MG"}),s.jsx("option",{value:"PA",children:"PA"}),s.jsx("option",{value:"PB",children:"PB"}),s.jsx("option",{value:"PR",children:"PR"}),s.jsx("option",{value:"PE",children:"PE"}),s.jsx("option",{value:"PI",children:"PI"}),s.jsx("option",{value:"RJ",children:"RJ"}),s.jsx("option",{value:"RN",children:"RN"}),s.jsx("option",{value:"RS",children:"RS"}),s.jsx("option",{value:"RO",children:"RO"}),s.jsx("option",{value:"RR",children:"RR"}),s.jsx("option",{value:"SC",children:"SC"}),s.jsx("option",{value:"SP",children:"SP"}),s.jsx("option",{value:"SE",children:"SE"}),s.jsx("option",{value:"TO",children:"TO"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:m.address_city||"",onChange:N=>p(O=>({...O,address_city:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="bank"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Bancárias"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco"}),s.jsx("input",{type:"text",value:m.bank_name||"",onChange:N=>p(O=>({...O,bank_name:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil, Caixa Econômica..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agência"}),s.jsx("input",{type:"text",value:m.bank_agency||"",onChange:N=>p(O=>({...O,bank_agency:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:m.bank_account||"",onChange:N=>p(O=>({...O,bank_account:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Conta"}),s.jsxs("select",{value:m.bank_account_type||"checking",onChange:N=>p(O=>({...O,bank_account_type:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"checking",children:"Conta Corrente"}),s.jsx("option",{value:"savings",children:"Conta Poupança"}),s.jsx("option",{value:"salary",children:"Conta Salário"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chave PIX"}),s.jsx("input",{type:"text",value:m.pix_key||"",onChange:N=>p(O=>({...O,pix_key:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF, e-mail, telefone ou chave aleatória"})]})]})]}),u==="license"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Carteira de Habilitação (CNH)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número da CNH"}),s.jsx("input",{type:"text",value:m.driver_license_number||"",onChange:N=>p(O=>({...O,driver_license_number:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000000000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsxs("select",{value:m.driver_license_category||"",onChange:N=>p(O=>({...O,driver_license_category:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"A",children:"A - Moto"}),s.jsx("option",{value:"B",children:"B - Carro"}),s.jsx("option",{value:"C",children:"C - Caminhão"}),s.jsx("option",{value:"D",children:"D - Ônibus"}),s.jsx("option",{value:"E",children:"E - Carreta"}),s.jsx("option",{value:"AB",children:"AB - Moto e Carro"}),s.jsx("option",{value:"AC",children:"AC - Moto e Caminhão"}),s.jsx("option",{value:"AD",children:"AD - Moto e Ônibus"}),s.jsx("option",{value:"AE",children:"AE - Moto e Carreta"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Validade"}),s.jsx("input",{type:"date",value:m.driver_license_expiry||"",onChange:N=>p(O=>({...O,driver_license_expiry:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="emergency"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contato de Emergência"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),s.jsx("input",{type:"text",value:m.emergency_contact_name||"",onChange:N=>p(O=>({...O,emergency_contact_name:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone do Contato"}),s.jsx("input",{type:"text",value:m.emergency_contact_phone?U5(m.emergency_contact_phone):"",onChange:N=>p(O=>({...O,emergency_contact_phone:cl(N.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ts,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Informação Importante"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Este contato será acionado em caso de emergências envolvendo o funcionário. Certifique-se de que os dados estão corretos e atualizados."})]})]})})]}),u==="documents"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Anexados"}),s.jsx(s9e,{employeeId:c==null?void 0:c.id,documents:h,onDocumentAdd:C,onDocumentRemove:E})]})]}),s.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:_,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),"Salvar Funcionário"]})]})]})})})]})})},c9e=()=>{const{user:t}=Yr(),[e,r]=k.useState([]),[n,a]=k.useState(!0),[i,o]=k.useState(!1),[l,c]=k.useState({email:"",role:"technician"});k.useEffect(()=>{d(),n9e()},[]);const d=async()=>{try{a(!0);const w=await e9e();r(w)}catch(w){console.error("Error loading invitations:",w)}finally{a(!1)}},u=async w=>{if(w.preventDefault(),!l.email){alert("Por favor, insira um email");return}try{await t9e({email:l.email,role:l.role,invited_by:t==null?void 0:t.id}),await d(),o(!1),c({email:"",role:"technician"})}catch(S){console.error("Error creating invitation:",S),alert("Erro ao criar convite. Verifique se o email já não foi convidado.")}},A=async w=>{if(confirm("Tem certeza que deseja cancelar este convite?"))try{await r9e(w),await d()}catch(S){console.error("Error canceling invitation:",S),alert("Erro ao cancelar convite")}},h=w=>{const S=`${window.location.origin}/register?token=${w}`;navigator.clipboard.writeText(S),alert("Link copiado para a área de transferência!")},f=w=>{switch(w){case"pending":return s.jsx(Dt,{className:"h-5 w-5 text-yellow-600"});case"accepted":return s.jsx(Pn,{className:"h-5 w-5 text-green-600"});case"expired":return s.jsx(ed,{className:"h-5 w-5 text-red-600"});case"cancelled":return s.jsx(zn,{className:"h-5 w-5 text-gray-600"});default:return s.jsx(Dt,{className:"h-5 w-5 text-gray-600"})}},g=w=>{switch(w){case"pending":return"Pendente";case"accepted":return"Aceito";case"expired":return"Expirado";case"cancelled":return"Cancelado";default:return"Desconhecido"}},x=w=>{switch(w){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=w=>{switch(w){case"admin":return"Administrador";case"technician":return"Técnico";case"external":return"Externo";default:return"Usuário"}},p=w=>{switch(w){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=w=>w?new Date(w).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(qn,{className:"h-8 w-8 text-blue-600"}),"Convites de Usuários"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Convide novos usuários para acessar o sistema"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[s.jsx(bt,{className:"h-5 w-5"}),"Novo Convite"]})]}),n?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando convites..."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Função"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expira em"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.jsx(at,{children:e.map(w=>s.jsxs(oe.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(w.role)}`,children:m(w.role)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[f(w.status),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(w.status)}`,children:g(w.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(w.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(w.expires_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("div",{className:"flex items-center justify-end gap-2",children:w.status==="pending"&&w.token&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>h(w.token),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Copiar link do convite",children:s.jsx(zu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(w.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Cancelar convite",children:s.jsx(dt,{className:"h-4 w-4"})})]})})})]},w.id))})})]})}),e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(qn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum convite encontrado"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Crie convites para novos usuários"})]})]})]}),s.jsx(at,{children:i&&s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>o(!1),children:s.jsxs(oe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:w=>w.stopPropagation(),className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(to,{className:"h-6 w-6 text-blue-600"}),"Novo Convite"]}),s.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{className:"h-6 w-6"})})]})}),s.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email do Usuário *"}),s.jsx("input",{type:"email",required:!0,value:l.email,onChange:w=>c({...l,email:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"usuario@exemplo.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função no Sistema *"}),s.jsxs("select",{value:l.role,onChange:w=>c({...l,role:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"technician",children:"Técnico"}),s.jsx("option",{value:"admin",children:"Administrador"}),s.jsx("option",{value:"external",children:"Externo"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O convite expira em 7 dias"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(to,{className:"h-4 w-4"}),"Enviar Convite"]})]})]})]})})})]})},d9e=()=>{const[t,e]=k.useState("users"),[r,n]=k.useState(!1),[a,i]=k.useState(!1),[o,l]=k.useState(null),[c,d]=k.useState(null),[u]=k.useState([{id:"view_dashboard",name:"Visualizar Dashboard",description:"Acesso ao painel principal",category:"Dashboard"},{id:"manage_orders",name:"Gerenciar OS",description:"Criar, editar e excluir ordens de serviço",category:"Ordens de Serviço"},{id:"view_orders",name:"Visualizar OS",description:"Apenas visualizar ordens de serviço",category:"Ordens de Serviço"},{id:"manage_clients",name:"Gerenciar Clientes",description:"Cadastrar e editar clientes",category:"Clientes"},{id:"view_clients",name:"Visualizar Clientes",description:"Apenas visualizar dados de clientes",category:"Clientes"},{id:"manage_inventory",name:"Gerenciar Estoque",description:"Controle total do estoque",category:"Estoque"},{id:"view_inventory",name:"Visualizar Estoque",description:"Consultar estoque sem alterações",category:"Estoque"},{id:"manage_financial",name:"Gerenciar Financeiro",description:"Acesso total ao módulo financeiro",category:"Financeiro"},{id:"view_financial",name:"Visualizar Financeiro",description:"Relatórios financeiros básicos",category:"Financeiro"},{id:"manage_users",name:"Gerenciar Usuários",description:"Administrar contas de usuário",category:"Administração"},{id:"system_settings",name:"Configurações do Sistema",description:"Alterar configurações globais",category:"Administração"}]),[A,h]=k.useState([{id:"admin",name:"Administrador",description:"Acesso total ao sistema",level:10,permissions:u.map(N=>N.id),color:"from-red-500 to-pink-500",isSystem:!0},{id:"manager",name:"Gerente",description:"Gestão de operações e equipe",level:8,permissions:["view_dashboard","manage_orders","manage_clients","manage_inventory","view_financial"],color:"from-blue-500 to-cyan-500",isSystem:!0},{id:"technician",name:"Técnico",description:"Execução de serviços em campo",level:5,permissions:["view_dashboard","view_orders","view_clients","view_inventory"],color:"from-green-500 to-emerald-500",isSystem:!0},{id:"external",name:"Funcionário Externo",description:"Acesso limitado para terceirizados",level:3,permissions:["view_orders","view_clients"],color:"from-yellow-500 to-orange-500",isSystem:!1}]),[f,g]=k.useState([{id:1,name:"João Silva",email:"joao@giartech.com",role:"admin",status:"active",lastLogin:"2024-01-20T10:30:00",isExternal:!1,department:"TI",permissions:[]},{id:2,name:"Maria Santos",email:"maria@giartech.com",role:"manager",status:"active",lastLogin:"2024-01-20T09:15:00",isExternal:!1,department:"Operações",permissions:[]},{id:3,name:"Carlos Técnico",email:"carlos@terceirizada.com",role:"external",status:"active",lastLogin:"2024-01-19T16:45:00",isExternal:!0,permissions:["view_orders"]}]),[x,m]=k.useState({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),[p,y]=k.useState({name:"",description:"",level:1,permissions:[]}),w=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},S=N=>{switch(N){case"active":return"Ativo";case"inactive":return"Inativo";case"pending":return"Pendente";default:return"Desconhecido"}},j=N=>A.find(O=>O.id===N)||A[0],_=()=>{if(x.name.trim()&&x.email.trim()&&x.role){const N={id:Date.now(),name:x.name,email:x.email,role:x.role,status:"pending",lastLogin:"",isExternal:x.isExternal,department:x.department||void 0,permissions:x.permissions};g([...f,N]),m({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),n(!1),alert("Usuário criado com sucesso!")}},F=()=>{if(p.name.trim()&&p.description.trim()){const N={id:Date.now().toString(),name:p.name,description:p.description,level:p.level,permissions:p.permissions,color:"from-gray-500 to-gray-600",isSystem:!1};h([...A,N]),y({name:"",description:"",level:1,permissions:[]}),i(!1),alert("Perfil criado com sucesso!")}},C=N=>{g(f.map(O=>O.id===N?{...O,status:O.status==="active"?"inactive":"active"}:O))},E=N=>{const O=A.find(L=>L.id===N);if(O!=null&&O.isSystem){alert("Não é possível excluir perfis do sistema");return}confirm("Tem certeza que deseja excluir este perfil?")&&h(A.filter(L=>L.id!==N))},T=u.reduce((N,O)=>(N[O.category]||(N[O.category]=[]),N[O.category].push(O),N),{}),v={totalUsers:f.length,activeUsers:f.filter(N=>N.status==="active").length,externalUsers:f.filter(N=>N.isExternal).length,totalRoles:A.length};return s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Gestão de Acesso"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Controle de permissões e usuários"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(f9,{className:"h-3 w-3"}),s.jsx("span",{children:"Usuário"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[s.jsx(bt,{className:"h-3 w-3"}),s.jsx("span",{children:"Perfil"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Usuários",value:v.totalUsers,color:"from-blue-500 to-cyan-500",icon:kt},{label:"Ativos",value:v.activeUsers,color:"from-green-500 to-emerald-500",icon:kr},{label:"Externos",value:v.externalUsers,color:"from-yellow-500 to-orange-500",icon:Bu},{label:"Perfis",value:v.totalRoles,color:"from-purple-500 to-pink-500",icon:Kr}].map((N,O)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:"bg-white rounded-xl p-3 shadow-md border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${N.color} rounded-lg flex items-center justify-center`,children:s.jsx(N.icon,{className:"h-4 w-4 text-white"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N.value}),s.jsx("p",{className:"text-xs text-gray-600",children:N.label})]},N.label))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"users",label:"Usuários",icon:kt},{id:"roles",label:"Perfis",icon:Kr},{id:"permissions",label:"Permissões",icon:Xh}].map(N=>s.jsxs("button",{onClick:()=>e(N.id),className:`flex-1 flex items-center justify-center space-x-1 py-3 px-2 transition-colors ${t===N.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(N.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium text-xs",children:N.label})]},N.id))}),s.jsxs("div",{className:"p-3",children:[t==="users"&&s.jsx("div",{className:"space-y-3",children:f.map((N,O)=>{const L=j(N.role);return s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${N.isExternal?"bg-yellow-100":"bg-blue-100"}`,children:N.isExternal?s.jsx(Bu,{className:"h-5 w-5 text-yellow-600"}):s.jsx(xn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:N.name}),s.jsx("p",{className:"text-xs text-gray-600",children:N.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(N.status)}`,children:S(N.status)}),N.isExternal&&s.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Ext"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Perfil:"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:`w-2 h-2 bg-gradient-to-r ${L.color} rounded-full`}),s.jsx("span",{className:"font-medium",children:L.name})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Depto:"}),s.jsx("p",{className:"font-medium",children:N.department||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Último Acesso:"}),s.jsx("p",{className:"font-medium",children:N.lastLogin?new Date(N.lastLogin).toLocaleDateString("pt-BR"):"Nunca"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Nível:"}),s.jsxs("p",{className:"font-medium",children:["Nível ",L.level]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>l(N),className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-1 text-xs",children:[s.jsx(ga,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>C(N.id),className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${N.status==="active"?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,children:[N.status==="active"?s.jsx(Xi,{className:"h-3 w-3"}):s.jsx(h9,{className:"h-3 w-3"}),s.jsx("span",{children:N.status==="active"?"Desativar":"Ativar"})]})]})]},N.id)})}),t==="roles"&&s.jsx("div",{className:"space-y-3",children:A.map((N,O)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${N.color} rounded-xl flex items-center justify-center`,children:N.isSystem?s.jsx(hx,{className:"h-5 w-5 text-white"}):s.jsx(Kr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[N.name,N.isSystem&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Sistema"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:N.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Nível"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:N.level})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:["Permissões (",N.permissions.length,")"]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.permissions.slice(0,3).map(L=>{const Q=u.find(D=>D.id===L);return Q?s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:Q.name},L):null}),N.permissions.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",N.permissions.length-3]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>d(N),disabled:N.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${N.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[s.jsx(ga,{className:"h-3 w-3"}),s.jsx("span",{children:"Editar"})]}),s.jsxs("button",{onClick:()=>E(N.id),disabled:N.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${N.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[s.jsx(Bt,{className:"h-3 w-3"}),s.jsx("span",{children:"Excluir"})]})]})]},N.id))}),t==="permissions"&&s.jsx("div",{className:"space-y-4",children:Object.entries(T).map(([N,O],L)=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:N}),s.jsx("div",{className:"space-y-2",children:O.map(Q=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-xs mb-1",children:Q.name}),s.jsx("p",{className:"text-xs text-gray-600",children:Q.description}),s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:Q.id})]},Q.id))})]},N))})]})]}),s.jsx(at,{children:r&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-sm shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Usuário"}),s.jsx("button",{onClick:()=>n(!1),children:s.jsx(dt,{className:"h-5 w-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:x.name,onChange:N=>m({...x,name:N.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do usuário"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:x.email,onChange:N=>m({...x,email:N.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil de Acesso"}),s.jsxs("select",{value:x.role,onChange:N=>m({...x,role:N.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione um perfil"}),A.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),s.jsx("input",{type:"text",value:x.department,onChange:N=>m({...x,department:N.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Departamento (opcional)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isExternal",checked:x.isExternal,onChange:N=>m({...x,isExternal:N.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"isExternal",className:"text-sm text-gray-700",children:"Funcionário Externo"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx("button",{onClick:()=>n(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsxs("button",{onClick:_,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:[s.jsx(Qt,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})}),s.jsx(at,{children:a&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Perfil"}),s.jsx("button",{onClick:()=>i(!1),children:s.jsx(dt,{className:"h-5 w-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Perfil"}),s.jsx("input",{type:"text",value:p.name,onChange:N=>y({...p,name:N.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do perfil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nível de Acesso"}),s.jsx("input",{type:"number",min:"1",max:"10",value:p.level,onChange:N=>y({...p,level:parseInt(N.target.value)||1}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:p.description,onChange:N=>y({...p,description:N.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrição do perfil"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permissões"}),s.jsx("div",{className:"space-y-3",children:Object.entries(T).map(([N,O])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:N}),s.jsx("div",{className:"space-y-1",children:O.map(L=>s.jsxs("label",{className:"flex items-start space-x-2",children:[s.jsx("input",{type:"checkbox",checked:p.permissions.includes(L.id),onChange:Q=>{Q.target.checked?y({...p,permissions:[...p.permissions,L.id]}):y({...p,permissions:p.permissions.filter(D=>D!==L.id)})},className:"mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:L.name}),s.jsx("p",{className:"text-xs text-gray-600",children:L.description})]})]},L.id))})]},N))})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),s.jsxs("button",{onClick:F,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:shadow-lg text-sm",children:[s.jsx(Qt,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})})]})},u9e=()=>{var T;const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState(!1),[o,l]=k.useState(null),[c,d]=k.useState(null),[u,A]=k.useState("all"),[h,f]=k.useState(""),[g,x]=k.useState(new Set),[m,p]=k.useState({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:null,active:!0});k.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const{data:v,error:N}=await ge.from("financial_categories").select("*").order("name",{ascending:!0});if(N)throw N;const O=new Map;v==null||v.forEach(Q=>{O.set(Q.id,{...Q,subcategories:[]})});const L=[];O.forEach(Q=>{if(Q.parent_id){const D=O.get(Q.parent_id);D&&(D.subcategories=D.subcategories||[],D.subcategories.push(Q))}else L.push(Q)}),e(L)}catch(v){console.error("Error loading categories:",v)}finally{n(!1)}},w=async()=>{try{if(!m.name){alert("Nome é obrigatório!");return}const v={name:m.name,type:m.type,color:m.color,icon:m.icon,parent_id:m.parent_id||null,active:m.active};if(o){const{error:N}=await ge.from("financial_categories").update({...v,updated_at:new Date().toISOString()}).eq("id",o.id);if(N)throw N}else{const{error:N}=await ge.from("financial_categories").insert([v]);if(N)throw N}y(),_()}catch(v){console.error("Error saving category:",v),alert("Erro ao salvar categoria!")}},S=async v=>{if(confirm("Tem certeza que deseja excluir esta categoria?"))try{const{error:N}=await ge.from("financial_categories").delete().eq("id",v);if(N)throw N;y()}catch(N){console.error("Error deleting category:",N),alert("Erro ao excluir categoria! Verifique se não existem lançamentos vinculados.")}},j=(v,N)=>{v?(l(v),p({name:v.name,type:v.type,color:v.color,icon:v.icon,parent_id:v.parent_id,active:v.active})):(l(null),p({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:N||null,active:!0})),i(!0)},_=()=>{i(!1),l(null),d(null)},F=v=>{const N=new Set(g);N.has(v)?N.delete(v):N.add(v),x(N)},C=t.filter(v=>{const N=u==="all"||v.type===u,O=v.name.toLowerCase().includes(h.toLowerCase());return N&&O}),E=[{value:"#10b981",label:"Verde"},{value:"#3b82f6",label:"Azul"},{value:"#ef4444",label:"Vermelho"},{value:"#f59e0b",label:"Laranja"},{value:"#8b5cf6",label:"Roxo"},{value:"#ec4899",label:"Rosa"},{value:"#06b6d4",label:"Ciano"},{value:"#6366f1",label:"Índigo"}];return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(xT,{className:"h-8 w-8 text-blue-600"}),"Categorias de Lançamento"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie categorias e subcategorias de receitas e despesas"})]}),s.jsxs("button",{onClick:()=>j(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Nova Categoria"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar categorias...",value:h,onChange:v=>f(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>A("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas"}),s.jsxs("button",{onClick:()=>A("receita"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="receita"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(br,{className:"h-4 w-4"}),"Receitas"]}),s.jsxs("button",{onClick:()=>A("despesa"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="despesa"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(vl,{className:"h-4 w-4"}),"Despesas"]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(v=>s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${v.color}20`},children:v.type==="receita"?s.jsx(br,{className:"h-6 w-6",style:{color:v.color}}):s.jsx(vl,{className:"h-6 w-6",style:{color:v.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:v.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.type==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:v.type==="receita"?"Receita":"Despesa"}),v.subcategories&&v.subcategories.length>0&&s.jsxs("span",{className:"text-xs text-gray-500",children:[v.subcategories.length," subcategorias"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>d(v),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar",children:s.jsx(Ds,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>j(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:s.jsx(Dr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>S(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]}),v.subcategories&&v.subcategories.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[s.jsxs("button",{onClick:()=>F(v.id),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(e2,{className:`h-4 w-4 transition-transform ${g.has(v.id)?"rotate-90":""}`}),"Ver subcategorias"]}),g.has(v.id)&&s.jsx("div",{className:"mt-2 space-y-2",children:v.subcategories.map(N=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u4,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:N.name})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>j(N),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:s.jsx(Dr,{className:"h-3 w-3"})}),s.jsx("button",{onClick:()=>S(N.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Excluir",children:s.jsx(Bt,{className:"h-3 w-3"})})]})]},N.id))})]}),s.jsxs("button",{onClick:()=>j(void 0,v.id),className:"mt-3 w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Lae,{className:"h-4 w-4"}),"Adicionar Subcategoria"]})]})},v.id))}),C.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[s.jsx(xT,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma categoria encontrada"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Crie sua primeira categoria de lançamento"}),s.jsxs("button",{onClick:()=>j(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Nova Categoria"]})]}),s.jsx(at,{children:a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:o?"Editar Categoria":"Nova Categoria"}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:m.parent_id?"Criando subcategoria":"Categoria principal de lançamentos"})]}),s.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-200px)]",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome da Categoria ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:m.name,onChange:v=>p({...m,name:v.target.value}),placeholder:"Ex: Serviços Prestados",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>p({...m,type:"receita"}),className:`p-4 border-2 rounded-lg transition-all ${m.type==="receita"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(br,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"font-medium text-gray-900",children:"Receita"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Entrada de dinheiro"})]}),s.jsxs("button",{type:"button",onClick:()=>p({...m,type:"despesa"}),className:`p-4 border-2 rounded-lg transition-all ${m.type==="despesa"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(vl,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),s.jsx("p",{className:"font-medium text-gray-900",children:"Despesa"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Saída de dinheiro"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"grid grid-cols-8 gap-2",children:E.map(v=>s.jsx("button",{type:"button",onClick:()=>p({...m,color:v.value}),className:`w-10 h-10 rounded-lg transition-all ${m.color===v.value?"ring-2 ring-offset-2 ring-blue-500 scale-110":"hover:scale-105"}`,style:{backgroundColor:v.value},title:v.label},v.value))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"active",checked:m.active,onChange:v=>p({...m,active:v.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Categoria ativa"})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[s.jsx("button",{onClick:_,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),"Salvar Categoria"]})]})]})})}),s.jsx(at,{children:c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl",children:[s.jsx("div",{className:"p-6 border-b text-white",style:{background:`linear-gradient(135deg, ${c.color} 0%, ${c.color}dd 100%)`},children:s.jsxs("div",{className:"flex items-center gap-4",children:[c.type==="receita"?s.jsx(br,{className:"h-12 w-12"}):s.jsx(vl,{className:"h-12 w-12"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:c.name}),s.jsx("p",{className:"text-white/80 text-sm",children:c.type==="receita"?"Categoria de Receita":"Categoria de Despesa"})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tipo"}),s.jsx("p",{className:"font-medium capitalize",children:c.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${c.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:c.active?"Ativa":"Inativa"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Cor"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:c.color}}),s.jsx("span",{className:"font-mono text-sm",children:c.color})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Subcategorias"}),s.jsx("p",{className:"font-medium",children:((T=c.subcategories)==null?void 0:T.length)||0})]})]}),c.subcategories&&c.subcategories.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Subcategorias:"}),s.jsx("div",{className:"space-y-2",children:c.subcategories.map(v=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center gap-2",children:[s.jsx(u4,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium",children:v.name})]},v.id))})]})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[s.jsx("button",{onClick:_,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar"}),s.jsxs("button",{onClick:()=>{j(c),d(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Editar"]})]})]})})})]})},fG=6048e5,A9e=864e5,V8=Symbol.for("constructDateFrom");function md(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&V8 in t?t[V8](e):t instanceof Date?new t.constructor(e):new Date(e)}function uo(t,e){return md(e||t,t)}let h9e={};function Sj(){return h9e}function rx(t,e){var l,c,d,u;const r=Sj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=uo(t,e==null?void 0:e.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function k1(t,e){return rx(t,{...e,weekStartsOn:1})}function mG(t,e){const r=uo(t,e==null?void 0:e.in),n=r.getFullYear(),a=md(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=k1(a),o=md(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=k1(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function K8(t){const e=uo(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function f9e(t,...e){const r=md.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function W8(t,e){const r=uo(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function m9e(t,e,r){const[n,a]=f9e(r==null?void 0:r.in,t,e),i=W8(n),o=W8(a),l=+i-K8(i),c=+o-K8(o);return Math.round((l-c)/A9e)}function p9e(t,e){const r=mG(t,e),n=md(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),k1(n)}function g9e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function x9e(t){return!(!g9e(t)&&typeof t!="number"||isNaN(+uo(t)))}function y9e(t,e){const r=uo(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const v9e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b9e=(t,e,r)=>{let n;const a=v9e[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function R5(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const w9e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j9e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N9e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_9e={date:R5({formats:w9e,defaultWidth:"full"}),time:R5({formats:j9e,defaultWidth:"full"}),dateTime:R5({formats:N9e,defaultWidth:"full"})},C9e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},S9e=(t,e,r,n)=>C9e[t];function Ep(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const B9e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E9e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k9e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F9e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P9e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T9e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O9e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},I9e={ordinalNumber:O9e,era:Ep({values:B9e,defaultWidth:"wide"}),quarter:Ep({values:E9e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ep({values:k9e,defaultWidth:"wide"}),day:Ep({values:F9e,defaultWidth:"wide"}),dayPeriod:Ep({values:P9e,defaultWidth:"wide",formattingValues:T9e,defaultFormattingWidth:"wide"})};function kp(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?M9e(l,A=>A.test(o)):L9e(l,A=>A.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function L9e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function M9e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function D9e(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const U9e=/^(\d+)(th|st|nd|rd)?/i,R9e=/\d+/i,Q9e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$9e={any:[/^b/i,/^(a|c)/i]},H9e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z9e={any:[/1/i,/2/i,/3/i,/4/i]},q9e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V9e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},K9e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W9e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G9e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},X9e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Y9e={ordinalNumber:D9e({matchPattern:U9e,parsePattern:R9e,valueCallback:t=>parseInt(t,10)}),era:kp({matchPatterns:Q9e,defaultMatchWidth:"wide",parsePatterns:$9e,defaultParseWidth:"any"}),quarter:kp({matchPatterns:H9e,defaultMatchWidth:"wide",parsePatterns:z9e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:kp({matchPatterns:q9e,defaultMatchWidth:"wide",parsePatterns:V9e,defaultParseWidth:"any"}),day:kp({matchPatterns:K9e,defaultMatchWidth:"wide",parsePatterns:W9e,defaultParseWidth:"any"}),dayPeriod:kp({matchPatterns:G9e,defaultMatchWidth:"any",parsePatterns:X9e,defaultParseWidth:"any"})},J9e={code:"en-US",formatDistance:b9e,formatLong:_9e,formatRelative:S9e,localize:I9e,match:Y9e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z9e(t,e){const r=uo(t,e==null?void 0:e.in);return m9e(r,y9e(r))+1}function eHe(t,e){const r=uo(t,e==null?void 0:e.in),n=+k1(r)-+p9e(r);return Math.round(n/fG)+1}function pG(t,e){var u,A,h,f;const r=uo(t,e==null?void 0:e.in),n=r.getFullYear(),a=Sj(),i=(e==null?void 0:e.firstWeekContainsDate)??((A=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=md((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=rx(o,e),c=md((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=rx(c,e);return+r>=+l?n+1:+r>=+d?n:n-1}function tHe(t,e){var l,c,d,u;const r=Sj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=pG(t,e),i=md((e==null?void 0:e.in)||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),rx(i,e)}function rHe(t,e){const r=uo(t,e==null?void 0:e.in),n=+rx(r,e)-+tHe(r,e);return Math.round(n/fG)+1}function lr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const xc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return lr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):lr(r+1,2)},d(t,e){return lr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return lr(t.getHours()%12||12,e.length)},H(t,e){return lr(t.getHours(),e.length)},m(t,e){return lr(t.getMinutes(),e.length)},s(t,e){return lr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return lr(a,e.length)}},lh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G8={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return xc.y(t,e)},Y:function(t,e,r,n){const a=pG(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return lr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):lr(i,e.length)},R:function(t,e){const r=mG(t);return lr(r,e.length)},u:function(t,e){const r=t.getFullYear();return lr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return lr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return lr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return xc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return lr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=rHe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):lr(a,e.length)},I:function(t,e,r){const n=eHe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):lr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):xc.d(t,e)},D:function(t,e,r){const n=Z9e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):lr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return lr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return lr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return lr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=lh.noon:n===0?a=lh.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=lh.evening:n>=12?a=lh.afternoon:n>=4?a=lh.morning:a=lh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):xc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):lr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):lr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):xc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):xc.s(t,e)},S:function(t,e){return xc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Y8(n);case"XXXX":case"XX":return su(n);case"XXXXX":case"XXX":default:return su(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Y8(n);case"xxxx":case"xx":return su(n);case"xxxxx":case"xxx":default:return su(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+X8(n,":");case"OOOO":default:return"GMT"+su(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+X8(n,":");case"zzzz":default:return"GMT"+su(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return lr(n,e.length)},T:function(t,e,r){return lr(+t,e.length)}};function X8(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+lr(i,2)}function Y8(t,e){return t%60===0?(t>0?"-":"+")+lr(Math.abs(t)/60,2):su(t,e)}function su(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=lr(Math.trunc(n/60),2),i=lr(n%60,2);return r+a+e+i}const J8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},gG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nHe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return J8(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",J8(n,e)).replace("{{time}}",gG(a,e))},sHe={p:gG,P:nHe},aHe=/^D+$/,iHe=/^Y+$/,oHe=["D","DD","YY","YYYY"];function lHe(t){return aHe.test(t)}function cHe(t){return iHe.test(t)}function dHe(t,e,r){const n=uHe(t,e,r);if(console.warn(n),oHe.includes(t))throw new RangeError(n)}function uHe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AHe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hHe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fHe=/^'([^]*?)'?$/,mHe=/''/g,pHe=/[a-zA-Z]/;function zc(t,e,r){var u,A,h,f;const n=Sj(),a=n.locale??J9e,i=n.firstWeekContainsDate??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,o=n.weekStartsOn??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,l=uo(t,r==null?void 0:r.in);if(!x9e(l))throw new RangeError("Invalid time value");let c=e.match(hHe).map(g=>{const x=g[0];if(x==="p"||x==="P"){const m=sHe[x];return m(g,a.formatLong)}return g}).join("").match(AHe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:gHe(g)};if(G8[x])return{isToken:!0,value:g};if(x.match(pHe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const x=g.value;(cHe(x)||lHe(x))&&dHe(x,e,String(t));const m=G8[x[0]];return m(l,x,a.localize,d)}).join("")}function gHe(t){const e=t.match(fHe);return e?e[1].replace(mHe,"'"):t}const Fp={customers:"Clientes",service_orders:"Ordens de Serviço",agenda:"Agenda",finance_entries:"Lançamentos Financeiros",employees:"Funcionários",materials:"Materiais",service_catalog:"Catálogo de Serviços",user_profiles:"Perfis de Usuários"},Z8={INSERT:s.jsx(bt,{className:"w-4 h-4"}),UPDATE:s.jsx(Dr,{className:"w-4 h-4"}),DELETE:s.jsx(Bt,{className:"w-4 h-4"})},eR={INSERT:"bg-green-100 text-green-700 border-green-200",UPDATE:"bg-blue-100 text-blue-700 border-blue-200",DELETE:"bg-red-100 text-red-700 border-red-200"},Q5={INSERT:"Criação",UPDATE:"Edição",DELETE:"Exclusão"};function xHe(){const[t,e]=k.useState([]),[r,n]=k.useState([]),[a,i]=k.useState(!0),[o,l]=k.useState(null),[c,d]=k.useState({table:"",operation:"",user:"",dateFrom:"",dateTo:"",search:""});k.useEffect(()=>{u()},[c]);const u=async()=>{i(!0);try{let h=ge.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);c.table&&(h=h.eq("table_name",c.table)),c.operation&&(h=h.eq("operation",c.operation)),c.user&&(h=h.ilike("user_email",`%${c.user}%`)),c.dateFrom&&(h=h.gte("created_at",c.dateFrom)),c.dateTo&&(h=h.lte("created_at",c.dateTo));const{data:f}=await h,{data:g}=await ge.from("audit_summary_by_table").select("*");e(f||[]),n(g||[])}catch(h){console.error("Error loading audit data:",h)}finally{i(!1)}},A=()=>{const h=["Data/Hora","Tabela","Operação","Usuário","ID do Registro"],f=t.map(y=>[zc(new Date(y.created_at),"dd/MM/yyyy HH:mm:ss"),Fp[y.table_name]||y.table_name,Q5[y.operation],y.user_email||"Sistema",y.record_id]),g=[h.join(","),...f.map(y=>y.map(w=>`"${w}"`).join(","))].join(`
`),x=new Blob([g],{type:"text/csv"}),m=window.URL.createObjectURL(x),p=document.createElement("a");p.href=m,p.download=`auditoria_${zc(new Date,"yyyy-MM-dd_HHmmss")}.csv`,p.click()};return a?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Kr,{className:"w-8 h-8 text-blue-600"}),"Auditoria do Sistema"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Rastreamento completo de todas as operações no sistema"})]}),s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ls,{className:"w-4 h-4"}),"Exportar CSV"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map(h=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:Fp[h.table_name]||h.table_name}),s.jsx(n0,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total:"}),s.jsx("span",{className:"font-semibold",children:h.total_operations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-600",children:"Criações:"}),s.jsx("span",{className:"font-semibold text-green-600",children:h.inserts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-blue-600",children:"Edições:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:h.updates})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-red-600",children:"Exclusões:"}),s.jsx("span",{className:"font-semibold text-red-600",children:h.deletes})]})]})]},h.table_name))}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(sA,{className:"w-5 h-5 text-gray-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tabela"}),s.jsxs("select",{value:c.table,onChange:h=>d({...c,table:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Todas"}),Object.entries(Fp).map(([h,f])=>s.jsx("option",{value:h,children:f},h))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operação"}),s.jsxs("select",{value:c.operation,onChange:h=>d({...c,operation:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Todas"}),s.jsx("option",{value:"INSERT",children:"Criação"}),s.jsx("option",{value:"UPDATE",children:"Edição"}),s.jsx("option",{value:"DELETE",children:"Exclusão"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuário"}),s.jsx("input",{type:"text",value:c.user,onChange:h=>d({...c,user:h.target.value}),placeholder:"Email do usuário",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:c.dateFrom,onChange:h=>d({...c,dateFrom:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:c.dateTo,onChange:h=>d({...c,dateTo:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5"}),"Últimas Atividades (",t.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tabela"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operação"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuário"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(h=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),zc(new Date(h.created_at),"dd/MM/yyyy HH:mm:ss")]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md",children:Fp[h.table_name]||h.table_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md border ${eR[h.operation]}`,children:[Z8[h.operation],Q5[h.operation]]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xn,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:h.user_email||"Sistema"})]})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[h.operation==="UPDATE"&&h.changed_fields&&s.jsxs("span",{className:"text-blue-600",children:[h.changed_fields.length," campo(s) alterado(s)"]}),h.operation==="INSERT"&&s.jsx("span",{className:"text-green-600",children:"Novo registro"}),h.operation==="DELETE"&&s.jsx("span",{className:"text-red-600",children:"Registro excluído"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>l(h),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Ver Detalhes"})})]},h.id))})]})})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Detalhes da Auditoria"}),s.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(ed,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Operação"}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-2 rounded-lg border ${eR[o.operation]}`,children:[Z8[o.operation],Q5[o.operation]]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tabela"}),s.jsx("p",{className:"text-gray-900 font-medium",children:Fp[o.table_name]||o.table_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Usuário"}),s.jsx("p",{className:"text-gray-900",children:o.user_email||"Sistema"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data/Hora"}),s.jsx("p",{className:"text-gray-900",children:zc(new Date(o.created_at),"dd/MM/yyyy HH:mm:ss")})]})]}),o.operation==="UPDATE"&&o.changed_fields&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Campos Alterados"}),s.jsx("div",{className:"space-y-3",children:o.changed_fields.map((h,f)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("p",{className:"font-medium text-gray-900 mb-2",children:h.field}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"ANTES:"}),s.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-red-200",children:JSON.stringify(h.old_value,null,2)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"DEPOIS:"}),s.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-green-200",children:JSON.stringify(h.new_value,null,2)})]})]})]},f))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.old_data&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Anteriores"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.old_data,null,2)})]}),o.new_data&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Novos"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.new_data,null,2)})]})]})]})})]})})]})}const yHe=()=>{const{isAdmin:t}=Yr(),[e,r]=k.useState([]),[n,a]=k.useState(!0),[i,o]=k.useState(""),[l,c]=k.useState("all"),[d,u]=k.useState(!1),[A,h]=k.useState(null),[f,g]=k.useState({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0});k.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0);const{data:E,error:T}=await ge.from("crm_leads").select("*").order("created_at",{ascending:!1});if(T)throw T;r(E||[])}catch(E){console.error("Error loading leads:",E)}finally{a(!1)}},m=async()=>{try{if(A){const{error:E}=await ge.from("crm_leads").update(f).eq("id",A.id);if(E)throw E}else{const{error:E}=await ge.from("crm_leads").insert([f]);if(E)throw E}await x(),w()}catch(E){console.error("Error saving lead:",E),alert("Erro ao salvar lead")}},p=async E=>{if(confirm("Tem certeza que deseja excluir este lead?"))try{const{error:T}=await ge.from("crm_leads").delete().eq("id",E);if(T)throw T;await x()}catch(T){console.error("Error deleting lead:",T),alert("Erro ao excluir lead")}},y=E=>{h(E),g({name:E.name,email:E.email,phone:E.phone,company:E.company,source:E.source,status:E.status,score:E.score}),u(!0)},w=()=>{u(!1),h(null),g({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0})},S=async E=>{if(confirm("Converter este lead em cliente?"))try{const{error:T}=await ge.from("customers").insert([{tipo_pessoa:"juridica",nome_razao:E.company||E.name,nome_fantasia:E.company,email:E.email,telefone:E.phone,celular:E.phone}]);if(T)throw T;const{error:v}=await ge.from("crm_leads").update({status:"qualified"}).eq("id",E.id);if(v)throw v;alert("Lead convertido em cliente com sucesso!"),await x()}catch(T){console.error("Error converting lead:",T),alert("Erro ao converter lead")}},j=E=>{switch(E){case"new":return s.jsx(Dt,{className:"w-4 h-4 text-blue-500"});case"contacted":return s.jsx(us,{className:"w-4 h-4 text-yellow-500"});case"qualified":return s.jsx(Pn,{className:"w-4 h-4 text-green-500"});case"proposal":return s.jsx(br,{className:"w-4 h-4 text-purple-500"});default:return s.jsx(ed,{className:"w-4 h-4 text-gray-500"})}},_=E=>({new:"Novo",contacted:"Contatado",qualified:"Qualificado",proposal:"Proposta",lost:"Perdido"})[E]||E,F=e.filter(E=>{const T=E.name.toLowerCase().includes(i.toLowerCase())||E.email.toLowerCase().includes(i.toLowerCase())||E.company.toLowerCase().includes(i.toLowerCase()),v=l==="all"||E.status===l;return T&&v}),C={total:e.length,new:e.filter(E=>E.status==="new").length,contacted:e.filter(E=>E.status==="contacted").length,qualified:e.filter(E=>E.status==="qualified").length};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CRM - Leads"}),s.jsx("p",{className:"text-gray-600",children:"Gestão de leads e funil de vendas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Leads"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.total})]}),s.jsx(kt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Novos"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:C.new})]}),s.jsx(Dt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Contatados"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:C.contacted})]}),s.jsx(us,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Qualificados"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:C.qualified})]}),s.jsx(Pn,{className:"w-10 h-10 text-green-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar leads...",value:i,onChange:E=>o(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"new",children:"Novos"}),s.jsx("option",{value:"contacted",children:"Contatados"}),s.jsx("option",{value:"qualified",children:"Qualificados"}),s.jsx("option",{value:"proposal",children:"Proposta"}),s.jsx("option",{value:"lost",children:"Perdidos"})]})]}),s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"w-5 h-5"}),"Novo Lead"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origem"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:E.company})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qn,{className:"w-3 h-3"}),E.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(us,{className:"w-3 h-3"}),E.phone]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:E.source})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[j(E.status),s.jsx("span",{className:"text-sm text-gray-900",children:_(E.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${E.score}%`}})}),s.jsx("span",{className:"text-sm text-gray-600",children:E.score})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[E.status!=="qualified"&&s.jsx("button",{onClick:()=>S(E),className:"text-green-600 hover:text-green-900",title:"Converter em cliente",children:s.jsx(Pn,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(E),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Dr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>p(E.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Bt,{className:"w-5 h-5"})})]})})]},E.id))})]}),F.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(kt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum lead encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo lead."})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:A?"Editar Lead":"Novo Lead"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),s.jsx("input",{type:"text",value:f.name,onChange:E=>g({...f,name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),s.jsx("input",{type:"text",value:f.company,onChange:E=>g({...f,company:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:f.email,onChange:E=>g({...f,email:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),s.jsx("input",{type:"tel",value:f.phone,onChange:E=>g({...f,phone:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origem"}),s.jsxs("select",{value:f.source,onChange:E=>g({...f,source:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:"Website"}),s.jsx("option",{value:"Google Ads",children:"Google Ads"}),s.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),s.jsx("option",{value:"Indicação",children:"Indicação"}),s.jsx("option",{value:"Telefone",children:"Telefone"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:f.status,onChange:E=>g({...f,status:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"new",children:"Novo"}),s.jsx("option",{value:"contacted",children:"Contatado"}),s.jsx("option",{value:"qualified",children:"Qualificado"}),s.jsx("option",{value:"proposal",children:"Proposta"}),s.jsx("option",{value:"lost",children:"Perdido"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Score (0-100)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:f.score,onChange:E=>g({...f,score:parseInt(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},vHe=()=>{const{isAdmin:t}=Yr(),[e,r]=k.useState([]),[n,a]=k.useState([]),[i,o]=k.useState(!0),[l,c]=k.useState(""),[d,u]=k.useState("all"),[A,h]=k.useState(!1),[f,g]=k.useState(null),[x,m]=k.useState({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""});k.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const[E,T]=await Promise.all([ge.from("contracts").select(`
            *,
            customer:customers(nome_razao)
          `).order("created_at",{ascending:!1}),ge.from("customers").select("id, nome_razao")]);if(E.error)throw E.error;if(T.error)throw T.error;r(E.data||[]),a(T.data||[])}catch(E){console.error("Error loading data:",E)}finally{o(!1)}},y=async()=>{try{if(!x.contract_number||!x.customer_id||!x.start_date){alert("Preencha os campos obrigatórios");return}if(f){const{error:E}=await ge.from("contracts").update(x).eq("id",f.id);if(E)throw E}else{const{error:E}=await ge.from("contracts").insert([x]);if(E)throw E}await p(),j()}catch(E){console.error("Error saving contract:",E),alert("Erro ao salvar contrato")}},w=async E=>{if(confirm("Tem certeza que deseja excluir este contrato?"))try{const{error:T}=await ge.from("contracts").delete().eq("id",E);if(T)throw T;await p()}catch(T){console.error("Error deleting contract:",T),alert("Erro ao excluir contrato")}},S=E=>{g(E),m({contract_number:E.contract_number,customer_id:E.customer_id,start_date:E.start_date,end_date:E.end_date,value:E.value,payment_frequency:E.payment_frequency,status:E.status,notes:E.notes||""}),h(!0)},j=()=>{h(!1),g(null),m({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""})},_=E=>{const T={active:{bg:"bg-green-100",text:"text-green-800",icon:Pn},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Dt},expired:{bg:"bg-red-100",text:"text-red-800",icon:zn},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:zn}},v=T[E]||T.pending,N=v.icon;return s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${v.bg} ${v.text}`,children:[s.jsx(N,{className:"w-3 h-3"}),E==="active"?"Ativo":E==="pending"?"Pendente":E==="expired"?"Expirado":"Cancelado"]})},F=e.filter(E=>{var N,O;const T=E.contract_number.toLowerCase().includes(l.toLowerCase())||((O=(N=E.customer)==null?void 0:N.nome_razao)==null?void 0:O.toLowerCase().includes(l.toLowerCase())),v=d==="all"||E.status===d;return T&&v}),C={total:e.length,active:e.filter(E=>E.status==="active").length,expiringSoon:e.filter(E=>{const T=Math.floor((new Date(E.end_date).getTime()-new Date().getTime())/864e5);return T<=30&&T>0}).length,totalValue:e.filter(E=>E.status==="active").reduce((E,T)=>E+Number(T.value),0)};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestão de Contratos"}),s.jsx("p",{className:"text-gray-600",children:"Controle de contratos de manutenção e suporte"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Contratos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.total})]}),s.jsx(xt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:C.active})]}),s.jsx(Pn,{className:"w-10 h-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Expirando em 30 dias"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:C.expiringSoon})]}),s.jsx(zn,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total Mensal"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C.totalValue)})]}),s.jsx(Xt,{className:"w-10 h-10 text-blue-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar contratos...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:d,onChange:E=>u(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"active",children:"Ativos"}),s.jsx("option",{value:"pending",children:"Pendentes"}),s.jsx("option",{value:"expired",children:"Expirados"}),s.jsx("option",{value:"cancelled",children:"Cancelados"})]})]}),s.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"w-5 h-5"}),"Novo Contrato"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Título"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Período"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(E=>{var T;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.contract_number})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:(T=E.customer)==null?void 0:T.nome_razao})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"Contrato"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:zc(new Date(E.start_date),"dd/MM/yyyy")}),s.jsxs("div",{className:"text-xs text-gray-500",children:["até ",zc(new Date(E.end_date),"dd/MM/yyyy")]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E.value)}),s.jsx("div",{className:"text-xs text-gray-500",children:E.payment_frequency==="monthly"?"Mensal":E.payment_frequency==="quarterly"?"Trimestral":E.payment_frequency==="biannual"?"Semestral":"Anual"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_(E.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>S(E),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Dr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>w(E.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Bt,{className:"w-5 h-5"})})]})})]},E.id)})})]}),F.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum contrato encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo contrato."})]})]})]}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:f?"Editar Contrato":"Novo Contrato"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número do Contrato *"}),s.jsx("input",{type:"text",value:x.contract_number,onChange:E=>m({...x,contract_number:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),s.jsxs("select",{value:x.customer_id,onChange:E=>m({...x,customer_id:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente"}),n.map(E=>s.jsx("option",{value:E.id,children:E.nome_razao},E.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência de Pagamento"}),s.jsxs("select",{value:x.payment_frequency,onChange:E=>m({...x,payment_frequency:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"biannual",children:"Semestral"}),s.jsx("option",{value:"annual",children:"Anual"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Início *"}),s.jsx("input",{type:"date",value:x.start_date,onChange:E=>m({...x,start_date:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim *"}),s.jsx("input",{type:"date",value:x.end_date,onChange:E=>m({...x,end_date:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:x.value,onChange:E=>m({...x,value:parseFloat(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},bHe=()=>{const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState(null),[o,l]=k.useState({}),[c,d]=k.useState(!1);k.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const{data:x,error:m}=await ge.from("contract_templates").select("*").eq("active",!0).order("is_default",{ascending:!1}).order("name");if(m)throw console.error("Supabase error:",m),m;console.log("Templates loaded:",x),e(x||[])}catch(x){console.error("Error loading templates:",x),alert("Erro ao carregar templates: "+x.message)}finally{n(!1)}},A=x=>{i(x.id),l(x)},h=()=>{i(null),l({})},f=async()=>{if(a)try{d(!0),o.is_default&&await ge.from("contract_templates").update({is_default:!1}).neq("id",a);const{error:x}=await ge.from("contract_templates").update({name:o.name,contract_text:o.contract_text,contract_clauses:o.contract_clauses,warranty_terms:o.warranty_terms,payment_conditions:o.payment_conditions,bank_details_template:o.bank_details_template,is_default:o.is_default,updated_at:new Date().toISOString()}).eq("id",a);if(x)throw x;alert("Template salvo com sucesso!"),await u(),h()}catch(x){console.error("Error saving template:",x),alert("Erro ao salvar template")}finally{d(!1)}},g=async x=>{try{await ge.from("contract_templates").update({is_default:!1}).neq("id",x),await ge.from("contract_templates").update({is_default:!0}).eq("id",x),alert("Template definido como padrão!"),await u()}catch(m){console.error("Error setting default:",m),alert("Erro ao definir padrão")}};return r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(xt,{className:"h-8 w-8 text-blue-600"}),"Templates de Contrato"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie os modelos de contrato, termos de garantia e condições de pagamento"})]}),t.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 p-12 text-center",children:[s.jsx(xt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nenhum template encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Não há templates de contrato cadastrados no momento."}),s.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Nota:"})," Os templates devem ser criados diretamente no banco de dados Supabase na tabela ",s.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"contract_templates"}),"."]})})]}):s.jsx("div",{className:"space-y-6",children:t.map(x=>s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b-2 border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xt,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:x.name}),x.is_default&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold mt-1",children:[s.jsx(Vs,{className:"h-3 w-3"}),"Template Padrão"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!x.is_default&&s.jsxs("button",{onClick:()=>g(x.id),className:"px-3 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-2",title:"Definir como padrão",children:[s.jsx(Vs,{className:"h-4 w-4"}),"Definir Padrão"]}),a===x.id?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:f,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Qt,{className:"h-4 w-4"}),c?"Salvando...":"Salvar"]}),s.jsxs("button",{onClick:h,disabled:c,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(dt,{className:"h-4 w-4"}),"Cancelar"]})]}):s.jsxs("button",{onClick:()=>A(x),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(ga,{className:"h-4 w-4"}),"Editar"]})]})]})}),s.jsx("div",{className:"p-6",children:a===x.id?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[s.jsx(zn,{className:"h-4 w-4"}),s.jsx("strong",{children:"Dica:"})," Use variáveis como [NOME_CLIENTE], [VALOR_TOTAL], [NUMERO_OS] para substituição automática"]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nome do Template"}),s.jsx("input",{type:"text",value:o.name||"",onChange:m=>l({...o,name:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Contrato Padrão"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.is_default||!1,onChange:m=>l({...o,is_default:m.target.checked}),className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Definir como template padrão para todas as novas OS"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"📄 Texto do Contrato Principal"}),s.jsx("textarea",{value:o.contract_text||"",onChange:m=>l({...o,contract_text:m.target.value}),rows:10,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o texto principal do contrato..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"📋 Cláusulas Contratuais"}),s.jsx("textarea",{value:o.contract_clauses||"",onChange:m=>l({...o,contract_clauses:m.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as cláusulas contratuais..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"✅ Termos de Garantia"}),s.jsx("textarea",{value:o.warranty_terms||"",onChange:m=>l({...o,warranty_terms:m.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite os termos de garantia..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"💰 Condições de Pagamento"}),s.jsx("textarea",{value:o.payment_conditions||"",onChange:m=>l({...o,payment_conditions:m.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as condições de pagamento..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"🏦 Dados Bancários (Template)"}),s.jsx("textarea",{value:o.bank_details_template||"",onChange:m=>l({...o,bank_details_template:m.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o template dos dados bancários..."})]})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[s.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Contrato Principal"]}),s.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap line-clamp-6",children:x.contract_text})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-200",children:[s.jsxs("h4",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Cláusulas"]}),s.jsx("p",{className:"text-sm text-purple-800 whitespace-pre-wrap line-clamp-6",children:x.contract_clauses})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("h4",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:[s.jsx(kr,{className:"h-4 w-4"}),"Garantia"]}),s.jsx("p",{className:"text-sm text-green-800 whitespace-pre-wrap line-clamp-6",children:x.warranty_terms})]}),s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border-2 border-orange-200",children:[s.jsxs("h4",{className:"font-bold text-orange-900 mb-2 flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Pagamento"]}),s.jsx("p",{className:"text-sm text-orange-800 whitespace-pre-wrap line-clamp-6",children:x.payment_conditions})]})]})})]},x.id))})]})},tR={contract:"Contrato",service_order:"Ordem de Serviço",proposal:"Proposta",budget:"Orçamento",receipt:"Recibo",invoice:"Nota Fiscal"},rR=[{id:"order_number",label:"Número da OS"},{id:"customer",label:"Cliente"},{id:"date",label:"Data"},{id:"services",label:"Serviços"},{id:"materials",label:"Materiais"},{id:"team",label:"Equipe"},{id:"costs",label:"Custos"},{id:"total",label:"Total"},{id:"notes",label:"Observações"},{id:"signature",label:"Assinatura"}],wHe=()=>{var E,T,v,N,O,L,Q,D,U;const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState("service_order"),[o,l]=k.useState(null),[c,d]=k.useState({}),[u,A]=k.useState(!1),[h,f]=k.useState(!1),[g,x]=k.useState(!1);k.useEffect(()=>{m()},[a]);const m=async()=>{try{n(!0);const{data:R,error:z}=await ge.from("os_templates").select("*").eq("template_type",a).eq("active",!0).order("is_default",{ascending:!1}).order("name");if(z)throw z;e(R||[])}catch(R){console.error("Error loading templates:",R),alert("Erro ao carregar templates")}finally{n(!1)}},p=()=>{l("new"),d({name:"",template_type:a,is_default:!1,logo_url:"",header_text:"ORDEM DE SERVIÇO",footer_text:"Obrigado pela preferência!",layout_config:{margins:{top:20,bottom:20,left:20,right:20},fontSize:10,lineHeight:1.2},field_order:["order_number","customer","date","services","materials","team","costs","total","signature"],show_fields:{order_number:!0,customer:!0,date:!0,services:!0,materials:!0,team:!0,costs:!0,total:!0,notes:!0,signature:!0},custom_styles:{primaryColor:"#2563eb",secondaryColor:"#64748b",headerBg:"#f8fafc",borderColor:"#e2e8f0"},active:!0})},y=R=>{l(R.id),d(R)},w=async()=>{try{if(A(!0),!c.name||!c.template_type){alert("Preencha o nome do template");return}if(o==="new"){const{error:R}=await ge.from("os_templates").insert([c]);if(R)throw R}else{const{error:R}=await ge.from("os_templates").update(c).eq("id",o);if(R)throw R}await m(),l(null),d({})}catch(R){console.error("Error saving template:",R),alert("Erro ao salvar template")}finally{A(!1)}},S=async R=>{if(confirm("Deseja excluir este template?"))try{const{error:z}=await ge.from("os_templates").update({active:!1}).eq("id",R);if(z)throw z;await m()}catch(z){console.error("Error deleting template:",z),alert("Erro ao excluir template")}},j=async R=>{try{const{error:z}=await ge.from("os_templates").update({is_default:!0}).eq("id",R);if(z)throw z;await m()}catch(z){console.error("Error setting default:",z),alert("Erro ao definir como padrão")}},_=async R=>{var Y;const z=(Y=R.target.files)==null?void 0:Y[0];if(z)try{if(f(!0),!z.type.startsWith("image/")){alert("Por favor, selecione uma imagem");return}if(z.size>2*1024*1024){alert("A imagem deve ter no máximo 2MB");return}const X=new FileReader;X.onload=$=>{var G;const M=(G=$.target)==null?void 0:G.result;d(V=>({...V,logo_url:M})),f(!1)},X.onerror=()=>{alert("Erro ao carregar imagem"),f(!1)},X.readAsDataURL(z)}catch(X){console.error("Error uploading logo:",X),alert("Erro ao fazer upload da logo"),f(!1)}},F=(R,z)=>{const Y=[...c.field_order||[]],X=z==="up"?R-1:R+1;X<0||X>=Y.length||([Y[R],Y[X]]=[Y[X],Y[R]],d($=>({...$,field_order:Y})))},C=R=>{d(z=>{var Y;return{...z,show_fields:{...z.show_fields,[R]:!((Y=z.show_fields)!=null&&Y[R])}}})};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Templates de Documentos"}),s.jsx("p",{className:"text-gray-600",children:"Gerencie e personalize templates de documentos"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),Object.entries(tR).map(([R,z])=>s.jsx("button",{onClick:()=>i(R),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===R?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},R))]})}),!o&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("h2",{className:"font-semibold text-gray-900",children:["Templates de ",tR[a]]}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(bt,{className:"w-4 h-4"}),"Novo Template"]})]}),r?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando..."}):t.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(xt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"Nenhum template encontrado"]}):s.jsx("div",{className:"divide-y divide-gray-200",children:t.map(R=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:R.name}),R.is_default&&s.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:[s.jsx(Vs,{className:"w-3 h-3 fill-current"}),"Padrão"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Atualizado em ",new Date(R.updated_at).toLocaleDateString("pt-BR")]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!R.is_default&&s.jsx("button",{onClick:()=>j(R.id),className:"p-2 text-gray-600 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"Definir como padrão",children:s.jsx(Vs,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(R),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:s.jsx(ga,{className:"w-5 h-5"})}),!R.is_default&&s.jsx("button",{onClick:()=>S(R.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:s.jsx(Bt,{className:"w-5 h-5"})})]})]})},R.id))})]}),s.jsx(at,{children:o&&s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h2",{className:"font-semibold text-gray-900",children:o==="new"?"Novo Template":"Editar Template"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>x(!g),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Ds,{className:"w-4 h-4"}),g?"Editor":"Visualizar"]}),s.jsxs("button",{onClick:w,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(Qt,{className:"w-4 h-4"}),u?"Salvando...":"Salvar"]}),s.jsx("button",{onClick:()=>{l(null),d({})},className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(dt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Template"}),s.jsx("input",{type:"text",value:c.name||"",onChange:R=>d(z=>({...z,name:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Template Profissional OS"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo/Imagem"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer",children:[s.jsx(dg,{className:"w-4 h-4"}),h?"Carregando...":"Fazer Upload",s.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden",disabled:h})]}),c.logo_url&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-12 w-auto object-contain border border-gray-200 rounded"}),s.jsx("button",{onClick:()=>d(R=>({...R,logo_url:""})),className:"text-red-600 hover:text-red-700",children:s.jsx(dt,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formatos aceitos: JPG, PNG, GIF. Tamanho máximo: 2MB"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Cabeçalho"}),s.jsx("input",{type:"text",value:c.header_text||"",onChange:R=>d(z=>({...z,header_text:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: ORDEM DE SERVIÇO"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Rodapé"}),s.jsx("input",{type:"text",value:c.footer_text||"",onChange:R=>d(z=>({...z,footer_text:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Obrigado pela preferência!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem e Visibilidade dos Campos"}),s.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:(c.field_order||[]).map((R,z)=>{var $;const Y=rR.find(M=>M.id===R);if(!Y)return null;const X=(($=c.show_fields)==null?void 0:$[R])!==!1;return s.jsxs("div",{className:`p-3 flex items-center justify-between ${X?"":"bg-gray-50 opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:z+1}),s.jsx("input",{type:"checkbox",checked:X,onChange:()=>C(R),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-900",children:Y.label})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>F(z,"up"),disabled:z===0,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:s.jsx(Gh,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>F(z,"down"),disabled:z===(c.field_order||[]).length-1,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:s.jsx(J1,{className:"w-4 h-4"})})]})]},R)})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(t2,{className:"w-4 h-4 inline mr-1"}),"Cores Personalizadas"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Primária"}),s.jsx("input",{type:"color",value:((E=c.custom_styles)==null?void 0:E.primaryColor)||"#2563eb",onChange:R=>d(z=>({...z,custom_styles:{...z.custom_styles,primaryColor:R.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Secundária"}),s.jsx("input",{type:"color",value:((T=c.custom_styles)==null?void 0:T.secondaryColor)||"#64748b",onChange:R=>d(z=>({...z,custom_styles:{...z.custom_styles,secondaryColor:R.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor do Cabeçalho"}),s.jsx("input",{type:"color",value:((v=c.custom_styles)==null?void 0:v.headerBg)||"#f8fafc",onChange:R=>d(z=>({...z,custom_styles:{...z.custom_styles,headerBg:R.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor das Bordas"}),s.jsx("input",{type:"color",value:((N=c.custom_styles)==null?void 0:N.borderColor)||"#e2e8f0",onChange:R=>d(z=>({...z,custom_styles:{...z.custom_styles,borderColor:R.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]})]})]}),g&&s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto bg-white shadow-lg",children:[s.jsxs("div",{className:"p-6 text-center border-b-2",style:{backgroundColor:(O=c.custom_styles)==null?void 0:O.headerBg,borderColor:(L=c.custom_styles)==null?void 0:L.borderColor},children:[c.logo_url&&s.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-16 w-auto mx-auto mb-4 object-contain"}),s.jsx("h1",{className:"text-2xl font-bold",style:{color:(Q=c.custom_styles)==null?void 0:Q.primaryColor},children:c.header_text||"ORDEM DE SERVIÇO"})]}),s.jsx("div",{className:"p-6 space-y-4",children:(c.field_order||[]).map(R=>{var X,$,M;const z=rR.find(G=>G.id===R),Y=((X=c.show_fields)==null?void 0:X[R])!==!1;return!z||!Y?null:s.jsxs("div",{className:"flex items-center gap-2 py-2 border-b",style:{borderColor:($=c.custom_styles)==null?void 0:$.borderColor},children:[s.jsxs("span",{className:"font-medium",style:{color:(M=c.custom_styles)==null?void 0:M.primaryColor},children:[z.label,":"]}),s.jsx("span",{className:"text-gray-600",children:"[Conteúdo]"})]},R)})}),s.jsx("div",{className:"p-4 text-center text-sm border-t-2",style:{borderColor:(D=c.custom_styles)==null?void 0:D.borderColor,color:(U=c.custom_styles)==null?void 0:U.secondaryColor},children:c.footer_text||"Obrigado pela preferência!"})]})})]})]})})]})},jHe=()=>{const{isAdmin:t}=Yr(),[e,r]=k.useState([]),[n,a]=k.useState([]),[i,o]=k.useState([]),[l,c]=k.useState(!0),[d,u]=k.useState(""),[A,h]=k.useState("all"),[f,g]=k.useState(!1),[x,m]=k.useState(null),[p,y]=k.useState({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""});k.useEffect(()=>{w()},[]),k.useEffect(()=>{const v=p.amount+p.tax_amount;y(N=>({...N,total_amount:v}))},[p.amount,p.tax_amount]);const w=async()=>{try{c(!0);const[v,N,O]=await Promise.all([ge.from("finance_invoices").select(`
            *,
            customer:customers(nome_razao),
            service_order:service_orders(ordem_servico)
          `).order("created_at",{ascending:!1}),ge.from("customers").select("id, nome_razao"),ge.from("service_orders").select("id, ordem_servico")]);if(v.error)throw v.error;if(N.error)throw N.error;if(O.error)throw O.error;r(v.data||[]),a(N.data||[]),o(O.data||[])}catch(v){console.error("Error loading data:",v)}finally{c(!1)}},S=async()=>{try{if(!p.invoice_number||!p.customer_id){alert("Preencha os campos obrigatórios");return}if(x){const{error:v}=await ge.from("finance_invoices").update(p).eq("id",x.id);if(v)throw v}else{const{error:v}=await ge.from("finance_invoices").insert([p]);if(v)throw v}await w(),F()}catch(v){console.error("Error saving invoice:",v),alert("Erro ao salvar nota fiscal")}},j=async v=>{if(confirm("Tem certeza que deseja excluir esta nota fiscal?"))try{const{error:N}=await ge.from("finance_invoices").delete().eq("id",v);if(N)throw N;await w()}catch(N){console.error("Error deleting invoice:",N),alert("Erro ao excluir nota fiscal")}},_=v=>{m(v),y({invoice_number:v.invoice_number,customer_id:v.customer_id,service_order_id:v.service_order_id||"",issue_date:v.issue_date,due_date:v.due_date,amount:v.amount,tax_amount:v.tax_amount,total_amount:v.total_amount,status:v.status,notes:v.notes||""}),g(!0)},F=()=>{g(!1),m(null),y({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""})},C=v=>{const N={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Dt},issued:{bg:"bg-blue-100",text:"text-blue-800",icon:to},paid:{bg:"bg-green-100",text:"text-green-800",icon:Pn},cancelled:{bg:"bg-red-100",text:"text-red-800",icon:ed},overdue:{bg:"bg-red-100",text:"text-red-800",icon:zn}},O=N[v]||N.pending,L=O.icon;return s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${O.bg} ${O.text}`,children:[s.jsx(L,{className:"w-3 h-3"}),v==="pending"?"Pendente":v==="issued"?"Emitida":v==="paid"?"Paga":v==="cancelled"?"Cancelada":"Vencida"]})},E=e.filter(v=>{var L,Q;const N=v.invoice_number.toLowerCase().includes(d.toLowerCase())||((Q=(L=v.customer)==null?void 0:L.nome_razao)==null?void 0:Q.toLowerCase().includes(d.toLowerCase())),O=A==="all"||v.status===A;return N&&O}),T={total:e.length,pending:e.filter(v=>v.status==="pending").length,issued:e.filter(v=>v.status==="issued").length,paid:e.filter(v=>v.status==="paid").length,totalValue:e.filter(v=>v.status==="paid").reduce((v,N)=>v+Number(N.total_amount),0)};return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notas Fiscais"}),s.jsx("p",{className:"text-gray-600",children:"Gestão e emissão de notas fiscais"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.total})]}),s.jsx(xt,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pendentes"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T.pending})]}),s.jsx(Dt,{className:"w-10 h-10 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Emitidas"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.issued})]}),s.jsx(to,{className:"w-10 h-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pagas"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.paid})]}),s.jsx(Pn,{className:"w-10 h-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),s.jsx("p",{className:"text-xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T.totalValue)})]})})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar notas fiscais...",value:d,onChange:v=>u(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:A,onChange:v=>h(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"pending",children:"Pendentes"}),s.jsx("option",{value:"issued",children:"Emitidas"}),s.jsx("option",{value:"paid",children:"Pagas"}),s.jsx("option",{value:"cancelled",children:"Canceladas"})]})]}),s.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"w-5 h-5"}),"Nova NF"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Número"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emissão"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(v=>{var N,O;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.invoice_number})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:(N=v.customer)==null?void 0:N.nome_razao})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:((O=v.service_order)==null?void 0:O.ordem_servico)||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:zc(new Date(v.issue_date),"dd/MM/yyyy")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:zc(new Date(v.due_date),"dd/MM/yyyy")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v.total_amount)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C(v.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>_(v),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:s.jsx(Dr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>j(v.id),className:"text-red-600 hover:text-red-900",title:"Excluir",children:s.jsx(Bt,{className:"w-5 h-5"})})]})})]},v.id)})})]}),E.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma nota fiscal encontrada"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando uma nova nota fiscal."})]})]})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:x?"Editar Nota Fiscal":"Nova Nota Fiscal"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número NF *"}),s.jsx("input",{type:"text",value:p.invoice_number,onChange:v=>y({...p,invoice_number:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:p.status,onChange:v=>y({...p,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"issued",children:"Emitida"}),s.jsx("option",{value:"paid",children:"Paga"}),s.jsx("option",{value:"cancelled",children:"Cancelada"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),s.jsxs("select",{value:p.customer_id,onChange:v=>y({...p,customer_id:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente"}),n.map(v=>s.jsx("option",{value:v.id,children:v.nome_razao},v.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordem de Serviço (opcional)"}),s.jsxs("select",{value:p.service_order_id,onChange:v=>y({...p,service_order_id:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Sem OS vinculada"}),i.map(v=>s.jsx("option",{value:v.id,children:v.ordem_servico},v.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Emissão"}),s.jsx("input",{type:"date",value:p.issue_date,onChange:v=>y({...p,issue_date:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Vencimento"}),s.jsx("input",{type:"date",value:p.due_date,onChange:v=>y({...p,due_date:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:p.amount,onChange:v=>y({...p,amount:parseFloat(v.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impostos (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:p.tax_amount,onChange:v=>y({...p,tax_amount:parseFloat(v.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:p.total_amount,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),s.jsx("textarea",{value:p.notes,onChange:v=>y({...p,notes:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:F,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},NHe=()=>{const{isAdmin:t}=Yr(),[e,r]=k.useState(!0),[n,a]=k.useState(!1),[i,o]=k.useState({company_name:"",trade_name:"",cnpj:"",state_registration:"",municipal_registration:"",address:"",city:"",state:"",zip_code:"",phone:"",email:"",website:"",primary_color:"#3B82F6",secondary_color:"#10B981"});k.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const{data:d,error:u}=await ge.from("company_settings").select("*").limit(1).maybeSingle();if(u&&u.code!=="PGRST116")throw u;d&&o(d)}catch(d){console.error("Error loading company settings:",d)}finally{r(!1)}},c=async()=>{try{if(a(!0),i.id){const{error:d}=await ge.from("company_settings").update(i).eq("id",i.id);if(d)throw d}else{const{data:d,error:u}=await ge.from("company_settings").insert([i]).select().single();if(u)throw u;o(d)}alert("Configurações salvas com sucesso!")}catch(d){console.error("Error saving company settings:",d),alert("Erro ao salvar configurações")}finally{a(!1)}};return e?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configurações da Empresa"}),s.jsx("p",{className:"text-gray-600",children:"Configure as informações da sua empresa"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Bu,{className:"w-6 h-6"}),"Dados da Empresa"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razão Social *"}),s.jsx("input",{type:"text",value:i.company_name,onChange:d=>o({...i,company_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:i.trade_name,onChange:d=>o({...i,trade_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ *"}),s.jsx("input",{type:"text",value:i.cnpj,onChange:d=>o({...i,cnpj:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00.000.000/0000-00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrição Estadual"}),s.jsx("input",{type:"text",value:i.state_registration,onChange:d=>o({...i,state_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrição Municipal"}),s.jsx("input",{type:"text",value:i.municipal_registration,onChange:d=>o({...i,municipal_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Endereço"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço Completo"}),s.jsx("input",{type:"text",value:i.address,onChange:d=>o({...i,address:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:i.city,onChange:d=>o({...i,city:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsx("input",{type:"text",value:i.state,onChange:d=>o({...i,state:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",maxLength:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),s.jsx("input",{type:"text",value:i.zip_code,onChange:d=>o({...i,zip_code:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contato"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:i.phone,onChange:d=>o({...i,phone:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),s.jsx("input",{type:"url",value:i.website,onChange:d=>o({...i,website:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Personalização"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Primária"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Secundária"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-end",children:s.jsxs("button",{onClick:c,disabled:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Qt,{className:"w-5 h-5"}),n?"Salvando...":"Salvar Configurações"]})})]})})]})},_He=()=>{const{isAdmin:t}=Yr(),[e,r]=k.useState([]),[n,a]=k.useState(!0),[i,o]=k.useState(""),[l,c]=k.useState("all"),[d,u]=k.useState(!1),[A,h]=k.useState(null),[f,g]=k.useState({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""});k.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0);const{data:C,error:E}=await ge.from("equipments").select("*").order("name",{ascending:!0});if(E)throw E;r(C||[])}catch(C){console.error("Error loading equipments:",C)}finally{a(!1)}},m=async()=>{try{if(!f.name||!f.brand||!f.model){alert("Preencha os campos obrigatórios");return}if(A){const{error:C}=await ge.from("equipments").update(f).eq("id",A.id);if(C)throw C}else{const{error:C}=await ge.from("equipments").insert([f]);if(C)throw C}await x(),w()}catch(C){console.error("Error saving equipment:",C),alert("Erro ao salvar equipamento")}},p=async C=>{if(confirm("Tem certeza que deseja excluir este equipamento?"))try{const{error:E}=await ge.from("equipments").delete().eq("id",C);if(E)throw E;await x()}catch(E){console.error("Error deleting equipment:",E),alert("Erro ao excluir equipamento")}},y=C=>{h(C),g({name:C.name,type:C.type,brand:C.brand,model:C.model,serial_number:C.serial_number||"",status:C.status||"active",location:C.location||"",notes:C.notes||""}),u(!0)},w=()=>{u(!1),h(null),g({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""})},S=C=>({ar_condicionado:"Ar Condicionado",refrigeracao:"Refrigeração",eletrica:"Elétrica",hidraulica:"Hidráulica",outros:"Outros"})[C]||C,j=e.filter(C=>{const E=C.name.toLowerCase().includes(i.toLowerCase())||C.brand.toLowerCase().includes(i.toLowerCase())||C.model.toLowerCase().includes(i.toLowerCase()),T=l==="all"||C.type===l;return E&&T}),_=["ar_condicionado","refrigeracao","eletrica","hidraulica","outros"],F={total:e.length,byCategory:_.reduce((C,E)=>(C[E]=e.filter(T=>T.type===E).length,C),{})};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catálogo de Equipamentos"}),s.jsx("p",{className:"text-gray-600",children:"Gestão de equipamentos e especificações técnicas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.total})]}),s.jsx(Nt,{className:"w-10 h-10 text-blue-500"})]})}),_.slice(0,4).map(C=>s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:S(C)}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:F.byCategory[C]||0})]})},C))]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar equipamentos...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:C=>c(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todas as Categorias"}),_.map(C=>s.jsx("option",{value:C,children:S(C)},C))]})]}),s.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"w-5 h-5"}),"Novo Equipamento"]})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marca"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modelo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:S(C.type)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:C.brand})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:C.model})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:C.notes})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>y(C),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Dr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>p(C.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Bt,{className:"w-5 h-5"})})]})})]},C.id))})]}),j.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum equipamento encontrado"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo equipamento."})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:A?"Editar Equipamento":"Novo Equipamento"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),s.jsx("input",{type:"text",value:f.name,onChange:C=>g({...f,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria *"}),s.jsx("select",{value:f.type,onChange:C=>g({...f,type:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:_.map(C=>s.jsx("option",{value:C,children:S(C)},C))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),s.jsx("input",{type:"text",value:f.brand,onChange:C=>g({...f,brand:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),s.jsx("input",{type:"text",value:f.model,onChange:C=>g({...f,model:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de Série"}),s.jsx("input",{type:"text",value:f.serial_number,onChange:C=>g({...f,serial_number:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localização"}),s.jsx("input",{type:"text",value:f.location,onChange:C=>g({...f,location:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),s.jsx("textarea",{value:f.notes,onChange:C=>g({...f,notes:C.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),s.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},CHe=()=>{const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState(""),[o,l]=k.useState(!1),[c,d]=k.useState(null),[u,A]=k.useState("all"),[h,f]=k.useState(!1),[g,x]=k.useState(!1),[m,p]=k.useState(""),[y,w]=k.useState(""),[S,j]=k.useState({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""});k.useEffect(()=>{_()},[]);const _=async()=>{try{n(!0);const{data:D,error:U}=await ge.from("suppliers").select("*").order("name");if(U)throw U;e(D||[])}catch(D){console.error("Error loading suppliers:",D)}finally{n(!1)}},F=async()=>{try{if(!S.name){alert("Nome é obrigatório!");return}const D={name:S.name,cnpj:S.cnpj||null,email:S.email||null,phone:S.phone||null,address:S.address||null,contact_person:S.contact_person||null,payment_terms:S.payment_terms||null,notes:S.notes||null,active:S.active};if(c){const{error:U}=await ge.from("suppliers").update(D).eq("id",c.id);if(U)throw U}else{const{error:U}=await ge.from("suppliers").insert([D]);if(U)throw U}l(!1),d(null),v(),_()}catch(D){console.error("Error saving supplier:",D),alert("Erro ao salvar fornecedor!")}},C=D=>{d(D),j({name:D.name,cnpj:D.cnpj||"",email:D.email||"",phone:D.phone||"",address:D.address||"",contact_person:D.contact_person||"",payment_terms:D.payment_terms||"",active:D.active,notes:D.notes||""}),l(!0)},E=async D=>{if(confirm("Deseja realmente excluir este fornecedor?"))try{const{error:U}=await ge.from("suppliers").delete().eq("id",D);if(U)throw U;_()}catch(U){console.error("Error deleting supplier:",U),alert("Erro ao excluir fornecedor!")}},T=async(D,U)=>{try{const{error:R}=await ge.from("suppliers").update({active:!U}).eq("id",D);if(R)throw R;_()}catch(R){console.error("Error updating status:",R)}},v=()=>{j({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""}),p(""),w("")},N=async()=>{if(!S.cnpj){p("Digite um CNPJ");return}if(S.cnpj.replace(/\D/g,"").length!==14){p("CNPJ deve ter 14 dígitos");return}f(!0),p("");try{const U=await Cq(S.cnpj);U&&j(R=>({...R,name:U.nome_fantasia||U.razao_social||R.name,email:U.email||R.email,phone:U.telefone||R.phone,address:U.logradouro?`${U.logradouro}, ${U.numero||"S/N"}`:R.address}))}catch(U){p(U instanceof Error?U.message:"Erro ao buscar CNPJ")}finally{f(!1)}},O=D=>{const U=Sq(D);j({...S,cnpj:U}),p("")},L=t.filter(D=>{var z;const U=D.name.toLowerCase().includes(a.toLowerCase())||((z=D.cnpj)==null?void 0:z.toLowerCase().includes(a.toLowerCase())),R=u==="all"||u==="active"&&D.active||u==="inactive"&&!D.active;return U&&R}),Q={total:t.length,active:t.filter(D=>D.active).length,inactive:t.filter(D=>!D.active).length};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(yl,{className:"h-8 w-8 text-blue-600"}),"Gestão de Fornecedores"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie seus fornecedores e parceiros"})]}),s.jsxs("button",{onClick:()=>{d(null),v(),l(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Novo Fornecedor"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(yl,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Q.total})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Pn,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Q.active})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:s.jsx(ed,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Inativos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Q.inactive})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar fornecedores...",value:a,onChange:D=>i(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:u,onChange:D=>A(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"active",children:"Ativos"}),s.jsx("option",{value:"inactive",children:"Inativos"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(D=>s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`p-6 rounded-xl border-2 transition-all ${D.active?"bg-white border-gray-200 hover:border-blue-300":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900 truncate",children:D.name}),D.name&&s.jsx("p",{className:"text-sm text-gray-600 truncate",children:D.name})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap ml-2 ${D.active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:D.active?"Ativo":"Inativo"})]}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[D.cnpj&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(yl,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:D.cnpj})]}),D.email&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(qn,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:D.email})]}),D.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(us,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{children:D.phone})]}),D.address&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Ra,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:D.address})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>C(D),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>T(D.id,D.active),className:`px-3 py-2 rounded-lg transition-colors ${D.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:D.active?"Desativar":"Ativar",children:D.active?s.jsx(ed,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>E(D.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]},D.id))}),L.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yl,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum fornecedor encontrado"})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-3xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Editar Fornecedor":"Novo Fornecedor"}),s.jsx("button",{onClick:()=>{l(!1),d(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ed,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia *"}),s.jsx("input",{type:"text",value:S.name,onChange:D=>j({...S,name:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Materiais Premium Ltda"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:S.cnpj,onChange:D=>O(D.target.value),onKeyPress:D=>{D.key==="Enter"&&(D.preventDefault(),N())},className:`w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m?"border-red-500":"border-gray-300"}`,placeholder:"00.000.000/0000-00",maxLength:18}),s.jsx("button",{type:"button",onClick:N,disabled:h||!S.cnpj,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar CNPJ",children:h?s.jsx(fx,{className:"w-5 h-5 animate-spin"}):s.jsx(Hr,{className:"w-5 h-5"})})]}),m&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:S.email,onChange:D=>j({...S,email:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@fornecedor.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx("input",{type:"text",value:S.phone,onChange:D=>j({...S,phone:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),s.jsx("input",{type:"text",value:S.contact_person,onChange:D=>j({...S,contact_person:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do responsável"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço"}),s.jsx("input",{type:"text",value:S.address,onChange:D=>j({...S,address:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condições de Pagamento"}),s.jsx("input",{type:"text",value:S.payment_terms,onChange:D=>j({...S,payment_terms:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 30 dias, À vista, etc"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),s.jsx("textarea",{value:S.notes,onChange:D=>j({...S,notes:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informações adicionais..."})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[s.jsx("input",{type:"checkbox",id:"ativo",checked:S.active,onChange:D=>j({...S,active:D.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"ativo",className:"text-sm font-medium text-gray-700",children:"Fornecedor ativo"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{l(!1),d(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:F,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Pn,{className:"h-4 w-4"}),"Salvar"]})]})]})})]})},SHe=({isOpen:t,onClose:e,onSave:r,scheduleId:n})=>{const[a,i]=k.useState(!1),[o,l]=k.useState([]),[c,d]=k.useState({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""});k.useEffect(()=>{t&&(u(),n&&A())},[t,n]);const u=async()=>{try{const{data:p}=await ge.from("inventory_items").select("id, name, supplier_name, unit_cost, min_quantity").eq("active",!0).order("name");l(p||[])}catch(p){console.error("Error loading inventory:",p)}},A=async()=>{if(n)try{const{data:p,error:y}=await ge.from("purchase_schedules").select("*").eq("id",n).single();if(y)throw y;p&&d({schedule_name:p.schedule_name||"",inventory_id:p.inventory_id||"",supplier_name:p.supplier_name||"",frequency:p.frequency||"monthly",quantity:p.quantity||0,unit_price:p.unit_price||0,next_order_date:p.next_order_date||new Date().toISOString().split("T")[0],active:p.active!==!1,notes:p.notes||""})}catch(p){console.error("Error loading schedule:",p),alert("Erro ao carregar programação")}},h=p=>{const y=o.find(w=>w.id===p);y&&d(w=>({...w,inventory_id:p,supplier_name:y.supplier_name||"",unit_price:y.unit_cost||0,quantity:y.min_quantity*2||10,schedule_name:`Compra Recorrente - ${y.name}`}))},f=async p=>{try{const y=o.find(w=>w.id===p.inventory_id);if(!y)return;await ge.from("agenda_events").insert([{title:`Compra Programada: ${y.name}`,description:`Programação automática de compra
Quantidade: ${p.quantity}
Fornecedor: ${p.supplier_name}
Valor: R$ ${(p.quantity*p.unit_price).toFixed(2)}`,start_date:p.next_order_date,end_date:p.next_order_date,type:"purchase",status:"pending",all_day:!0,color:"#f59e0b",metadata:{schedule_id:n,inventory_id:p.inventory_id,supplier:p.supplier_name,quantity:p.quantity,unit_price:p.unit_price}}])}catch(y){console.error("Error creating agenda event:",y)}},g=async()=>{if(!c.schedule_name||!c.inventory_id||c.quantity<=0){alert("Preencha todos os campos obrigatórios");return}i(!0);try{const p={schedule_name:c.schedule_name,inventory_id:c.inventory_id,supplier_name:c.supplier_name,frequency:c.frequency,quantity:c.quantity,unit_price:c.unit_price,next_order_date:c.next_order_date,active:c.active,notes:c.notes,updated_at:new Date().toISOString()};if(n){const{error:y}=await ge.from("purchase_schedules").update(p).eq("id",n);if(y)throw y}else{const{data:y,error:w}=await ge.from("purchase_schedules").insert([p]).select().single();if(w)throw w;await f(y)}alert("Programação salva com sucesso!"),r(),e(),x()}catch(p){console.error("Error saving schedule:",p),alert("Erro ao salvar programação")}finally{i(!1)}},x=()=>{d({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""})},m=[{value:"daily",label:"Diária"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?s.jsx(at,{children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zs,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold",children:[n?"Editar":"Nova"," Programação de Compra"]}),s.jsx("p",{className:"text-sm text-blue-100",children:"Compras automáticas recorrentes"})]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(zn,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Programação Automática"}),s.jsx("p",{children:"Esta compra será criada automaticamente na agenda na data especificada e se repetirá na frequência escolhida."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Nt,{className:"inline h-4 w-4 mr-1"}),"Item do Estoque *"]}),s.jsxs("select",{value:c.inventory_id,onChange:p=>h(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um item..."}),o.map(p=>s.jsxs("option",{value:p.id,children:[p.name," - ",p.supplier_name||"Sem fornecedor"]},p.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programação *"}),s.jsx("input",{type:"text",value:c.schedule_name,onChange:p=>d(y=>({...y,schedule_name:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Compra Mensal de Cabos",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor *"}),s.jsx("input",{type:"text",value:c.supplier_name,onChange:p=>d(y=>({...y,supplier_name:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Zs,{className:"inline h-4 w-4 mr-1"}),"Frequência *"]}),s.jsx("select",{value:c.frequency,onChange:p=>d(y=>({...y,frequency:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:m.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade *"}),s.jsx("input",{type:"number",value:c.quantity,onChange:p=>d(y=>({...y,quantity:parseFloat(p.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Xt,{className:"inline h-4 w-4 mr-1"}),"Preço Unitário (R$)"]}),s.jsx("input",{type:"number",value:c.unit_price,onChange:p=>d(y=>({...y,unit_price:parseFloat(p.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Jt,{className:"inline h-4 w-4 mr-1"}),"Próxima Compra *"]}),s.jsx("input",{type:"date",value:c.next_order_date,onChange:p=>d(y=>({...y,next_order_date:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.active,onChange:p=>d(y=>({...y,active:p.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Programação Ativa"})]})}),c.quantity>0&&c.unit_price>0&&s.jsx("div",{className:"md:col-span-2 bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Valor Total Estimado:"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",(c.quantity*c.unit_price).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),s.jsx("textarea",{value:c.notes,onChange:p=>d(y=>({...y,notes:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informações adicionais sobre esta programação..."})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:g,disabled:a,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Qt,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programação"]})]})]})})}):null},BHe=({isOpen:t,onClose:e,onSave:r,scheduleId:n})=>{const[a,i]=k.useState(!1),[o,l]=k.useState([]),[c,d]=k.useState({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0});k.useEffect(()=>{t&&(u(),n&&A())},[t,n]);const u=async()=>{try{const{data:m}=await ge.from("customers").select("id, nome_razao, email, telefone").order("nome_razao");l(m||[])}catch(m){console.error("Error loading customers:",m)}},A=async()=>{if(n)try{const{data:m,error:p}=await ge.from("rental_schedules").select("*").eq("id",n).single();if(p)throw p;m&&d({schedule_name:m.schedule_name||"",customer_id:m.customer_id||"",equipment_name:m.equipment_name||"",frequency:m.frequency||"monthly",rental_value:m.rental_value||0,start_date:m.start_date||new Date().toISOString().split("T")[0],end_date:m.end_date||"",next_billing_date:m.next_billing_date||new Date().toISOString().split("T")[0],active:m.active!==!1,notes:m.notes||"",auto_generate_invoice:m.auto_generate_invoice!==!1})}catch(m){console.error("Error loading schedule:",m),alert("Erro ao carregar programação de locação")}},h=async m=>{try{const p=o.find(y=>y.id===m.customer_id);if(!p)return;await ge.from("agenda_events").insert([{title:`Locação: ${m.equipment_name}`,description:`Cliente: ${p.nome_razao}
Equipamento: ${m.equipment_name}
Valor: R$ ${m.rental_value.toFixed(2)}
Faturamento automático: ${m.auto_generate_invoice?"Sim":"Não"}`,start_date:m.next_billing_date,end_date:m.next_billing_date,type:"rental",status:"pending",all_day:!0,color:"#8b5cf6",customer_id:m.customer_id,metadata:{schedule_id:n,customer_id:m.customer_id,equipment_name:m.equipment_name,rental_value:m.rental_value,auto_generate_invoice:m.auto_generate_invoice}}])}catch(p){console.error("Error creating agenda event:",p)}},f=async()=>{if(!c.schedule_name||!c.customer_id||!c.equipment_name||c.rental_value<=0){alert("Preencha todos os campos obrigatórios");return}i(!0);try{const m={schedule_name:c.schedule_name,customer_id:c.customer_id,equipment_name:c.equipment_name,frequency:c.frequency,rental_value:c.rental_value,start_date:c.start_date,end_date:c.end_date||null,next_billing_date:c.next_billing_date,active:c.active,notes:c.notes,auto_generate_invoice:c.auto_generate_invoice,updated_at:new Date().toISOString()};if(n){const{error:p}=await ge.from("rental_schedules").update(m).eq("id",n);if(p)throw p}else{const{data:p,error:y}=await ge.from("rental_schedules").insert([m]).select().single();if(y)throw y;await h(p)}alert("Programação de locação salva com sucesso!"),r(),e(),g()}catch(m){console.error("Error saving rental schedule:",m),alert("Erro ao salvar programação de locação")}finally{i(!1)}},g=()=>{d({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0})},x=[{value:"daily",label:"Diária"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?s.jsx(at,{children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_E,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold",children:[n?"Editar":"Nova"," Programação de Locação"]}),s.jsx("p",{className:"text-sm text-purple-100",children:"Locações e faturamentos recorrentes"})]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:s.jsx(dt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(zn,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-purple-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Faturamento Automático"}),s.jsx("p",{children:"Esta locação será lançada automaticamente na agenda e pode gerar receitas financeiras na data especificada."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programação *"}),s.jsx("input",{type:"text",value:c.schedule_name,onChange:m=>d(p=>({...p,schedule_name:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Locação Mensal - Escavadeira",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),s.jsxs("select",{value:c.customer_id,onChange:m=>d(p=>({...p,customer_id:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(m=>s.jsx("option",{value:m.id,children:m.nome_razao},m.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Nt,{className:"inline h-4 w-4 mr-1"}),"Equipamento/Serviço *"]}),s.jsx("input",{type:"text",value:c.equipment_name,onChange:m=>d(p=>({...p,equipment_name:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Nome do equipamento ou serviço locado",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Zs,{className:"inline h-4 w-4 mr-1"}),"Frequência *"]}),s.jsx("select",{value:c.frequency,onChange:m=>d(p=>({...p,frequency:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:x.map(m=>s.jsx("option",{value:m.value,children:m.label},m.value))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Xt,{className:"inline h-4 w-4 mr-1"}),"Valor da Locação (R$) *"]}),s.jsx("input",{type:"number",value:c.rental_value,onChange:m=>d(p=>({...p,rental_value:parseFloat(m.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Jt,{className:"inline h-4 w-4 mr-1"}),"Data de Início *"]}),s.jsx("input",{type:"date",value:c.start_date,onChange:m=>d(p=>({...p,start_date:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Término (Opcional)"}),s.jsx("input",{type:"date",value:c.end_date,onChange:m=>d(p=>({...p,end_date:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Próximo Faturamento *"}),s.jsx("input",{type:"date",value:c.next_billing_date,onChange:m=>d(p=>({...p,next_billing_date:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.active,onChange:m=>d(p=>({...p,active:m.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ativa"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.auto_generate_invoice,onChange:m=>d(p=>({...p,auto_generate_invoice:m.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gerar Receita"})]})]}),c.rental_value>0&&s.jsx("div",{className:"md:col-span-2 bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Valor por Período:"}),s.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["R$ ",c.rental_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),s.jsx("textarea",{value:c.notes,onChange:m=>d(p=>({...p,notes:m.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Informações adicionais sobre esta locação..."})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:f,disabled:a,className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Qt,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programação"]})]})]})})}):null},EHe=()=>{const[t,e]=k.useState([]),[r,n]=k.useState([]),[a,i]=k.useState(!0),[o,l]=k.useState("all"),[c,d]=k.useState(""),[u,A]=k.useState("alerts"),[h,f]=k.useState(!1),[g,x]=k.useState(!1);k.useEffect(()=>{m()},[]);const m=async()=>{try{i(!0),await Promise.all([p(),y()])}catch(v){console.error("Error loading data:",v)}finally{i(!1)}},p=async()=>{const{data:v}=await ge.from("purchase_orders").select("*").order("created_at",{ascending:!1}).limit(100);e(v||[])},y=async()=>{try{const{data:v,error:N}=await ge.rpc("get_items_needing_purchase");if(N)throw N;n(v||[])}catch(v){console.error("Error loading low stock items:",v)}},w=v=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",ordered:"bg-purple-100 text-purple-800",partial:"bg-orange-100 text-orange-800",received:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",S=v=>({draft:"Rascunho",pending:"Pendente",approved:"Aprovado",ordered:"Pedido Feito",partial:"Parcial",received:"Recebido",cancelled:"Cancelado"})[v]||v,j=v=>({low:"text-gray-500",normal:"text-blue-500",high:"text-orange-500",urgent:"text-red-500"})[v]||"text-gray-500",_=v=>({critical:"bg-red-600 text-white",urgent:"bg-orange-500 text-white",normal:"bg-yellow-500 text-white",low:"bg-blue-500 text-white"})[v]||"bg-gray-500 text-white",F=v=>({critical:"CRÍTICO",urgent:"URGENTE",normal:"NORMAL",low:"BAIXA"})[v]||v,C=t.filter(v=>{const N=v.order_number.toLowerCase().includes(c.toLowerCase())||v.supplier_name.toLowerCase().includes(c.toLowerCase()),O=o==="all"||v.status===o;return N&&O}),E={totalOrders:t.length,pendingOrders:t.filter(v=>v.status==="pending"||v.status==="approved").length,criticalItems:r.filter(v=>v.urgency==="critical").length,totalAlerts:r.length,pendingValue:t.filter(v=>v.status==="pending"||v.status==="approved").reduce((v,N)=>v+(N.final_amount||0),0)},T=async v=>{try{const{data:N}=await ge.rpc("generate_purchase_order_number"),O=N||`PO${Date.now()}`,L=v.supplier||"A Definir",Q=v.unit_price||v.estimated_cost/v.recommended_order_qty,{data:D,error:U}=await ge.from("purchase_orders").insert([{order_number:O,supplier_name:L,status:"draft",priority:v.urgency==="critical"?"urgent":v.urgency==="urgent"?"high":"normal",order_date:new Date().toISOString().split("T")[0],notes:`Pedido automático - ${v.item_name}
Categoria: ${v.category||"N/A"}
Localização: ${v.location||"N/A"}
Estoque Atual: ${v.current_stock}
Estoque Mínimo: ${v.min_stock}
Dias até ruptura: ${v.days_until_stockout||"N/A"}`}]).select().single();if(U)throw U;const{error:R}=await ge.from("purchase_order_items").insert([{purchase_order_id:D.id,inventory_id:v.inventory_id,item_name:v.item_name,quantity:v.recommended_order_qty,unit_price:Q,urgency_level:v.urgency}]);if(R)throw R;alert(`✅ Pedido ${O} criado com sucesso!

Fornecedor: ${L}
Quantidade: ${v.recommended_order_qty}
Valor: R$ ${v.estimated_cost.toFixed(2)}`),await m()}catch(N){console.error("Error creating purchase order:",N),alert("Erro ao criar pedido de compra")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ph,{className:"h-8 w-8 text-blue-600"}),"Departamento de Compras"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gestão completa de pedidos e alertas de estoque"})]}),s.jsxs("button",{onClick:()=>alert("Modal de novo pedido em desenvolvimento"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all",children:[s.jsx(bt,{className:"h-5 w-5"}),"Novo Pedido"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(xt,{className:"h-8 w-8 text-blue-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:E.totalOrders}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Pedidos"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(Dt,{className:"h-8 w-8 text-yellow-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:E.pendingOrders}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Pendentes"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(ts,{className:"h-8 w-8 text-red-500 animate-pulse mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-red-600",children:E.criticalItems}),s.jsx("p",{className:"text-sm text-gray-600",children:"Itens Críticos"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(Nt,{className:"h-8 w-8 text-orange-500 mb-2"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:E.totalAlerts}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Alertas"})]}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[s.jsx(Xt,{className:"h-8 w-8 text-green-500 mb-2"}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["R$ ",E.pendingValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Pendente"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"flex border-b",children:[s.jsxs("button",{onClick:()=>A("alerts"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="alerts"?"bg-red-50 text-red-600 border-b-2 border-red-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(ts,{className:"h-5 w-5"}),s.jsxs("span",{className:"font-medium",children:["Alertas de Estoque (",E.totalAlerts,")"]})]}),s.jsxs("button",{onClick:()=>A("orders"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="orders"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Ph,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Pedidos de Compra"})]}),s.jsxs("button",{onClick:()=>A("schedules"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="schedules"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Dt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Programação"})]}),s.jsxs("button",{onClick:()=>A("quotes"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="quotes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(xt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Cotações"})]})]}),s.jsxs("div",{className:"p-6",children:[u==="alerts"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(ts,{className:"h-6 w-6 text-red-600 animate-pulse"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-red-900",children:[E.criticalItems," ",E.criticalItems===1?"Item Crítico":"Itens Críticos"," Necessitando Atenção Imediata"]}),s.jsx("p",{className:"text-sm text-red-700",children:'Clique em "Criar Pedido" para gerar automaticamente um pedido de compra'})]})]}),r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Urgência"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fornecedor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estoque"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Qtd. Recomendada"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Preço Unit."}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ações"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(v=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${_(v.urgency)}`,children:F(v.urgency)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:v.item_name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[v.category||"Sem categoria"," • ",v.location||"Sem local"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:v.supplier||"A definir"}),v.last_purchase_date&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Última compra: ",new Date(v.last_purchase_date).toLocaleDateString("pt-BR")]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-red-600",children:v.current_stock})," ",s.jsxs("span",{className:"text-gray-500",children:["/ ",v.min_stock]})]}),v.days_until_stockout!==null&&v.days_until_stockout<30&&s.jsxs("div",{className:"text-xs text-orange-600 font-medium",children:["⚠️ ",v.days_until_stockout," dias"]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:v.recommended_order_qty}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["R$ ",(v.unit_price||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-green-600",children:["R$ ",v.estimated_cost.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("button",{onClick:()=>T(v),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2 ml-auto",children:[s.jsx(Ph,{className:"h-4 w-4"}),"Criar Pedido"]})})]},v.inventory_id))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Lo,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tudo Certo!"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum item necessitando compra no momento"})]})]}),u==="orders"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:v=>d(v.target.value),placeholder:"Buscar por número ou fornecedor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),s.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"draft",children:"Rascunho"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"approved",children:"Aprovado"}),s.jsx("option",{value:"ordered",children:"Pedido Feito"}),s.jsx("option",{value:"received",children:"Recebido"}),s.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),C.length>0?s.jsx("div",{className:"space-y-3",children:C.map(v=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.order_number}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w(v.status)}`,children:S(v.status)}),s.jsxs("span",{className:`text-sm font-medium ${j(v.priority)}`,children:[v.priority==="urgent"&&"🔴 URGENTE",v.priority==="high"&&"🟠 ALTA",v.priority==="normal"&&"🔵 NORMAL",v.priority==="low"&&"⚪ BAIXA"]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:["Fornecedor: ",s.jsx("span",{className:"font-medium text-gray-900",children:v.supplier_name})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{children:["Data: ",new Date(v.order_date).toLocaleDateString("pt-BR")]}),v.expected_delivery_date&&s.jsxs("span",{children:["Entrega Prevista: ",new Date(v.expected_delivery_date).toLocaleDateString("pt-BR")]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",v.final_amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("button",{className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1",children:[s.jsx(Ds,{className:"h-4 w-4"}),"Ver Detalhes"]})]})]})},v.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ph,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),s.jsx("p",{className:"text-gray-600",children:"Crie seu primeiro pedido de compra"})]})]}),u==="schedules"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-8 border-2 border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:s.jsx(Zs,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programação de Compra"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Compras recorrentes automáticas"})]})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Configure compras automáticas de materiais com base em períodos fixos. O sistema gerará pedidos automaticamente e criará eventos na agenda."}),s.jsxs("button",{onClick:()=>f(!0),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[s.jsx(bt,{className:"h-5 w-5"}),"Nova Programação de Compra"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-8 border-2 border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:s.jsx(_E,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programação de Locação"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Locações e faturamentos recorrentes"})]})]}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Configure locações de equipamentos com faturamento automático. O sistema pode gerar receitas financeiras automaticamente na agenda."}),s.jsxs("button",{onClick:()=>x(!0),className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[s.jsx(bt,{className:"h-5 w-5"}),"Nova Programação de Locação"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Programações Ativas"}),s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Dt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Nenhuma programação cadastrada ainda"}),s.jsx("p",{className:"text-sm",children:"Crie sua primeira programação usando os botões acima"})]})]})]}),u==="quotes"&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cotações de Fornecedores"}),s.jsx("p",{className:"text-gray-600",children:"Compare preços e condições de diferentes fornecedores"}),s.jsx("button",{className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Nova Cotação"})]})]})]}),s.jsx(SHe,{isOpen:h,onClose:()=>f(!1),onSave:()=>{f(!1),m()}}),s.jsx(BHe,{isOpen:g,onClose:()=>x(!1),onSave:()=>{x(!1),m()}})]})},kHe=({onRouteSelect:t})=>{const[e,r]=k.useState([]),[n,a]=k.useState([]),[i,o]=k.useState(!0),[l,c]=k.useState(!1),[d,u]=k.useState(null),[A,h]=k.useState([]),[f,g]=k.useState("today"),[x,m]=k.useState({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""});k.useEffect(()=>{p(),y()},[f]);const p=async()=>{try{o(!0);let T=ge.from("routes").select(`
          *,
          route_stops(count)
        `).order("route_date",{ascending:!1}).order("created_at",{ascending:!1});if(f==="today"){const L=new Date().toISOString().split("T")[0];T=T.eq("route_date",L)}else f!=="all"&&(T=T.eq("status",f));const{data:v,error:N}=await T;if(N)throw N;const O=await Promise.all((v||[]).map(async L=>{var D,U;let Q="Não atribuído";if(L.assigned_employee_id){const{data:R}=await ge.from("employees").select("name").eq("id",L.assigned_employee_id).single();R&&(Q=R.name)}return{...L,employee_name:Q,stop_count:((U=(D=L.route_stops)==null?void 0:D[0])==null?void 0:U.count)||0}}));r(O)}catch(T){console.error("Error loading routes:",T)}finally{o(!1)}},y=async()=>{try{const{data:T}=await ge.from("employees").select("id, name").eq("active",!0).order("name");a(T||[])}catch(T){console.error("Error loading employees:",T)}},w=async T=>{try{const{data:v,error:N}=await ge.from("route_stops").select("*").eq("route_id",T).order("stop_order");if(N)throw N;h(v||[])}catch(v){console.error("Error loading stops:",v)}},S=async()=>{if(!x.route_name){alert("Nome da rota é obrigatório!");return}try{const{error:T}=await ge.from("routes").insert([x]);if(T)throw T;await p(),m({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""}),c(!1)}catch(T){console.error("Error creating route:",T),alert("Erro ao criar rota!")}},j=async(T,v)=>{var N;try{const O={status:v};if(v==="in_progress"&&!((N=e.find(Q=>Q.id===T))!=null&&N.start_time)&&(O.start_time=new Date().toISOString()),v==="completed"){O.end_time=new Date().toISOString();const Q=e.find(D=>D.id===T);if(Q!=null&&Q.start_time){const D=new Date(Q.start_time),U=new Date;O.actual_duration_minutes=Math.round((U.getTime()-D.getTime())/6e4)}}const{error:L}=await ge.from("routes").update(O).eq("id",T);if(L)throw L;await p()}catch(O){console.error("Error updating status:",O),alert("Erro ao atualizar status!")}},_=async T=>{if(confirm("Deseja realmente excluir esta rota?"))try{const{error:v}=await ge.from("routes").delete().eq("id",T);if(v)throw v;await p()}catch(v){console.error("Error deleting route:",v),alert("Erro ao excluir rota!")}},F=T=>{u(T===d?null:T),T!==d&&(w(T),t&&t(T))},C=T=>{switch(T){case"pending":return{label:"Pendente",icon:Dt,color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-800"};case"in_progress":return{label:"Em Andamento",icon:wT,color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-800"};case"completed":return{label:"Concluída",icon:Lo,color:"green",bgColor:"bg-green-100",textColor:"text-green-800"};case"cancelled":return{label:"Cancelada",icon:oae,color:"red",bgColor:"bg-red-100",textColor:"text-red-800"};default:return{label:T,icon:Dt,color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-800"}}},E=T=>new Date(T).toLocaleDateString("pt-BR");return i?s.jsx("div",{className:"text-center py-8",children:"Carregando rotas..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gestão de Rotas"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Planeje e acompanhe as rotas da equipe"})]}),s.jsxs("button",{onClick:()=>c(!l),className:"px-6 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 flex items-center gap-2 transition-colors font-semibold",children:[s.jsx(bt,{className:"h-5 w-5"}),"Nova Rota"]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium",children:"Filtrar:"}),s.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="all"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Todas"}),s.jsx("button",{onClick:()=>g("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="today"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Hoje"}),s.jsx("button",{onClick:()=>g("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="pending"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Pendentes"}),s.jsx("button",{onClick:()=>g("in_progress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="in_progress"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Em Andamento"}),s.jsx("button",{onClick:()=>g("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="completed"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Concluídas"})]})]}),s.jsx(at,{children:l&&s.jsxs(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(a0,{className:"h-5 w-5 text-blue-600"}),"Nova Rota"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Rota *"}),s.jsx("input",{type:"text",value:x.route_name,onChange:T=>m({...x,route_name:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rota Centro - Manhã"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data"}),s.jsx("input",{type:"date",value:x.route_date,onChange:T=>m({...x,route_date:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funcionário"}),s.jsxs("select",{value:x.assigned_employee_id,onChange:T=>m({...x,assigned_employee_id:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione..."}),n.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veículo/Placa"}),s.jsx("input",{type:"text",value:x.vehicle_id,onChange:T=>m({...x,vehicle_id:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: ABC-1234"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duração Estimada (minutos)"}),s.jsx("input",{type:"number",value:x.estimated_duration_minutes,onChange:T=>m({...x,estimated_duration_minutes:parseInt(T.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),s.jsx("textarea",{value:x.notes,onChange:T=>m({...x,notes:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Observações sobre a rota..."})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Rota"})]})]})}),e.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(a0,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Nenhuma rota encontrada"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Clique em "Nova Rota" para começar'})]}):s.jsx("div",{className:"space-y-4",children:e.map(T=>{const v=C(T.status),N=v.icon,O=d===T.id;return s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{onClick:()=>F(T.id),className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:T.route_name}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.bgColor} ${v.textColor}`,children:[s.jsx(N,{className:"h-3 w-3 inline mr-1"}),v.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Ra,{className:"h-3 w-3"}),"Data:"]}),s.jsx("p",{className:"font-medium",children:E(T.route_date)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(xn,{className:"h-3 w-3"}),"Responsável:"]}),s.jsx("p",{className:"font-medium",children:T.employee_name})]}),T.vehicle_id&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(l9,{className:"h-3 w-3"}),"Veículo:"]}),s.jsx("p",{className:"font-medium",children:T.vehicle_id})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Ra,{className:"h-3 w-3"}),"Paradas:"]}),s.jsx("p",{className:"font-medium",children:T.stop_count})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(br,{className:"h-3 w-3"}),"Distância:"]}),s.jsxs("p",{className:"font-medium",children:[T.total_distance_km," km"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[T.status==="pending"&&s.jsx("button",{onClick:L=>{L.stopPropagation(),j(T.id,"in_progress")},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Iniciar rota",children:s.jsx(wT,{className:"h-5 w-5"})}),T.status==="in_progress"&&s.jsx("button",{onClick:L=>{L.stopPropagation(),j(T.id,"completed")},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Concluir rota",children:s.jsx(Lo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:L=>{L.stopPropagation(),_(T.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir rota",children:s.jsx(Bt,{className:"h-5 w-5"})})]})]})}),s.jsx(at,{children:O&&s.jsxs(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 bg-gray-50 p-6",children:[s.jsxs("h5",{className:"font-semibold mb-4",children:["Paradas da Rota (",A.length,")"]}),A.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma parada adicionada ainda"}):s.jsx("div",{className:"space-y-3",children:A.map((L,Q)=>s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold",children:Q+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h6",{className:"font-medium text-gray-900",children:L.customer_name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L.address}),L.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:L.notes})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${C(L.status).bgColor} ${C(L.status).textColor}`,children:C(L.status).label})]})},L.id))})]})})]},T.id)})})]})},FHe=()=>{const[t,e]=k.useState(null);return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:s.jsx(a0,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rastreamento e Gestão de Rotas"}),s.jsx("p",{className:"text-gray-600",children:"Planeje, acompanhe e gerencie as rotas da equipe em tempo real"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rotas Hoje"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0"})]}),s.jsx(Ra,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Em Andamento"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"})]}),s.jsx(a0,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"KM Hoje"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0"})]}),s.jsx(br,{className:"h-12 w-12 text-green-500 opacity-20"})]})})]}),s.jsx(kHe,{onRouteSelect:e}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"📱 Como funciona o rastreamento em tempo real?"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"1. Planejamento:"})," Crie rotas e adicione as paradas (ordens de serviço) em sequência"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2. Atribuição:"})," Designe um funcionário e veículo para cada rota"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3. Rastreamento:"})," Quando a rota é iniciada, o sistema registra a localização em tempo real"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"4. Otimização:"})," Visualize o progresso, distância percorrida e tempo estimado"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"5. Histórico:"})," Todo o trajeto fica registrado para análise posterior"]})]})]}),s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"🚀 Recursos Disponíveis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-800",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"✅ Gestão de Rotas"}),s.jsx("p",{className:"text-purple-700",children:"Criar, editar e gerenciar rotas diárias"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"✅ Paradas Sequenciais"}),s.jsx("p",{className:"text-purple-700",children:"Adicionar ordens de serviço em ordem"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"✅ Cálculo de Distância"}),s.jsx("p",{className:"text-purple-700",children:"Distância total calculada automaticamente"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"✅ Status em Tempo Real"}),s.jsx("p",{className:"text-purple-700",children:"Acompanhe o progresso de cada rota"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"✅ Histórico Completo"}),s.jsx("p",{className:"text-purple-700",children:"Registros de todas as movimentações"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"✅ Otimização de Rotas"}),s.jsx("p",{className:"text-purple-700",children:"Sugestões de melhor sequência"})]})]})]})]})})},PHe=(t,e)=>{const r=new At,n=r.internal.pageSize.width,a=r.internal.pageSize.height;let i=20;const o=(u=20)=>i+u>a-20?(r.addPage(),i=20,!0):!1;r.setFillColor(41,128,185),r.rect(0,0,n,40,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.setFont("helvetica","bold"),r.text(t.title,15,25),i=50,r.setTextColor(0,0,0),r.setFillColor(245,245,245),r.rect(10,i-5,n-20,40,"F"),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Informações do Documento",15,i+3),r.setFont("helvetica","normal"),r.setFontSize(9);const l=i+10;r.text(`Departamento: ${t.department}`,15,l),r.text(`Versão: ${t.version}`,n/2,l),t.category&&r.text(`Categoria: ${t.category}`,15,l+7),r.text(`Status: ${OHe(t.status)}`,n/2,l+7),r.text(`Criado em: ${new Date(t.createdAt).toLocaleDateString("pt-BR")}`,15,l+14),r.text(`Atualizado em: ${new Date(t.updatedAt).toLocaleDateString("pt-BR")}`,n/2,l+14),i+=48,t.description&&(o(20),r.setFontSize(11),r.setFont("helvetica","bold"),r.text("Descrição",15,i),i+=7,r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(t.description,n-30).forEach(A=>{o(),r.text(A,15,i),i+=5}),i+=5),t.tags&&t.tags.length>0&&(o(15),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Tags: ",15,i),r.setFont("helvetica","normal"),r.text(t.tags.join(", "),35,i),i+=10),o(20),r.setDrawColor(41,128,185),r.setLineWidth(.5),r.line(15,i,n-15,i),i+=10,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Conteúdo",15,i),i+=8,THe(t.content).forEach(u=>{o(u.height||15),u.type==="heading1"?(r.setFontSize(16),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=10):u.type==="heading2"?(r.setFontSize(14),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=8):u.type==="heading3"?(r.setFontSize(12),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=7):u.type==="paragraph"?(r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(u.text,n-30).forEach(h=>{o(),r.text(h,15,i),i+=5}),i+=3):u.type==="list"&&(r.setFontSize(10),r.setFont("helvetica","normal"),u.items.forEach(A=>{o(),r.text("• "+A,20,i),i+=5}),i+=3)}),i=a-30,r.setDrawColor(200,200,200),r.setLineWidth(.3),r.line(15,i,n-15,i),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Documento gerado em ${new Date().toLocaleString("pt-BR")}`,n/2,i+7,{align:"center"}),t.approvedBy&&t.approvedAt&&r.text(`Aprovado por: ${t.approvedBy} em ${new Date(t.approvedAt).toLocaleDateString("pt-BR")}`,n/2,i+12,{align:"center"});const d=r.getNumberOfPages();for(let u=1;u<=d;u++)r.setPage(u),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Página ${u} de ${d}`,n-15,a-10,{align:"right"});return r};function THe(t){const e=[],r=t.split(`
`);let n="",a=[];return r.forEach(i=>{const o=i.trim();o.startsWith("# ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading1",text:o.substring(2)})):o.startsWith("## ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading2",text:o.substring(3)})):o.startsWith("### ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading3",text:o.substring(4)})):o.startsWith("- ")||o.startsWith("* ")?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.push(o.substring(2))):o===""?(n&&(e.push({type:"paragraph",text:n.trim()}),n=""),a.length>0&&(e.push({type:"list",items:a}),a=[])):(a.length>0&&(e.push({type:"list",items:a}),a=[]),n+=(n?" ":"")+o)}),n&&e.push({type:"paragraph",text:n.trim()}),a.length>0&&e.push({type:"list",items:a}),e}function OHe(t){return{draft:"Rascunho",review:"Em Revisão",approved:"Aprovado",archived:"Arquivado"}[t]||t}const IHe=()=>{const[t,e]=k.useState([]),[r,n]=k.useState([]),[a,i]=k.useState(!0),[o,l]=k.useState(""),[c,d]=k.useState("all"),[u,A]=k.useState("all"),[h,f]=k.useState(!1),[g,x]=k.useState(!1),[m,p]=k.useState(null),[y,w]=k.useState(null),[S,j]=k.useState({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""}),[_,F]=k.useState(""),C=["Operacional","Financeiro","Comercial","RH","TI","Geral"],E=[{value:"draft",label:"Rascunho",color:"gray",icon:Dt},{value:"review",label:"Em Revisão",color:"yellow",icon:Ds},{value:"approved",label:"Aprovado",color:"green",icon:Lo},{value:"archived",label:"Arquivado",color:"blue",icon:o4}];k.useEffect(()=>{T(),v()},[]);const T=async()=>{try{i(!0);const{data:M,error:G}=await ge.from("documents").select("*").order("updated_at",{ascending:!1});if(G)throw G;e(M||[])}catch(M){console.error("Erro ao carregar documentos:",M)}finally{i(!1)}},v=async()=>{try{const{data:M,error:G}=await ge.from("document_templates").select("*").eq("is_active",!0).order("name");if(G)throw G;n(M||[])}catch(M){console.error("Erro ao carregar templates:",M)}},N=M=>{j({...S,content:M.content_template,department:M.department,category:M.category||"",template_type:M.name}),x(!1),f(!0)},O=async()=>{try{if(m){const{error:M}=await ge.from("documents").update({title:S.title,description:S.description,content:S.content,department:S.department,category:S.category,status:S.status,tags:S.tags,updated_at:new Date().toISOString()}).eq("id",m.id);if(M)throw M}else{const{error:M}=await ge.from("documents").insert({title:S.title,description:S.description,content:S.content,department:S.department,category:S.category,status:S.status,tags:S.tags,template_type:S.template_type,version:1});if(M)throw M}await T(),U()}catch(M){console.error("Erro ao salvar documento:",M),alert("Erro ao salvar documento")}},L=M=>{p(M),j({title:M.title,description:M.description||"",content:M.content,department:M.department,category:M.category||"",status:M.status,tags:M.tags||[],template_type:M.template_type||""}),f(!0)},Q=async M=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{const{error:G}=await ge.from("documents").delete().eq("id",M);if(G)throw G;await T()}catch(G){console.error("Erro ao excluir documento:",G),alert("Erro ao excluir documento")}},D=M=>{PHe({title:M.title,description:M.description,content:M.content,department:M.department,category:M.category,version:M.version,createdAt:M.created_at,updatedAt:M.updated_at,status:M.status,tags:M.tags}).save(`${M.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_v${M.version}.pdf`)},U=()=>{f(!1),p(null),j({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""})},R=()=>{_.trim()&&!S.tags.includes(_.trim())&&(j({...S,tags:[...S.tags,_.trim()]}),F(""))},z=M=>{j({...S,tags:S.tags.filter(G=>G!==M)})},Y=t.filter(M=>{var Ae;const G=M.title.toLowerCase().includes(o.toLowerCase())||((Ae=M.description)==null?void 0:Ae.toLowerCase().includes(o.toLowerCase()))||M.tags.some(re=>re.toLowerCase().includes(o.toLowerCase())),V=c==="all"||M.department===c,ae=u==="all"||M.status===u;return G&&V&&ae}),X=M=>{const G=E.find(V=>V.value===M);return G?G.icon:Dt},$=M=>({draft:"bg-gray-100 text-gray-800",review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",archived:"bg-blue-100 text-blue-800"})[M]||"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Documentação"}),s.jsx("p",{className:"text-indigo-100",children:"Gerencie documentos departamentais e gere PDFs"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>x(!0),className:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-medium hover:bg-indigo-50 transition-colors flex items-center gap-2",children:[s.jsx(c4,{className:"h-5 w-5"}),"Usar Template"]}),s.jsxs("button",{onClick:()=>f(!0),className:"bg-indigo-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-400 transition-colors flex items-center gap-2",children:[s.jsx(bt,{className:"h-5 w-5"}),"Novo Documento"]})]})]})}),s.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:o,onChange:M=>l(M.target.value),placeholder:"Buscar documentos, tags...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("select",{value:c,onChange:M=>d(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"Todos os Departamentos"}),C.map(M=>s.jsx("option",{value:M,children:M},M))]}),s.jsxs("select",{value:u,onChange:M=>A(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),E.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))]})]}),a?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando documentos..."})]}):Y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhum documento encontrado"}),s.jsx("button",{onClick:()=>f(!0),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Criar primeiro documento"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map(M=>{var V;const G=X(M.status);return s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:M.title}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:M.description})]}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${$(M.status)}`,children:[s.jsx(G,{className:"h-3 w-3"}),(V=E.find(ae=>ae.value===M.status))==null?void 0:V.label]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-3 w-3"}),M.department]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(c4,{className:"h-3 w-3"}),"v",M.version]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),new Date(M.updated_at).toLocaleDateString("pt-BR")]})]}),M.tags&&M.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[M.tags.slice(0,3).map(ae=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:ae},ae)),M.tags.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",M.tags.length-3]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>w(M),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm flex items-center justify-center gap-1",children:[s.jsx(Ds,{className:"h-4 w-4"}),"Ver"]}),s.jsxs("button",{onClick:()=>L(M),className:"flex-1 px-3 py-2 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors text-sm flex items-center justify-center gap-1",children:[s.jsx(ga,{className:"h-4 w-4"}),"Editar"]}),s.jsx("button",{onClick:()=>D(M),className:"px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Q(M.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:s.jsx(Bt,{className:"h-4 w-4"})})]})]},M.id)})})]}),s.jsx(at,{children:g&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Selecionar Template"}),s.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Escolha um template para começar"})]}),s.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(M=>s.jsxs("div",{onClick:()=>N(M),className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-500 hover:shadow-md transition-all cursor-pointer",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:M.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:M.department}),M.category&&s.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded",children:M.category})]})]},M.id))})})]})})}),s.jsx(at,{children:h&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:m?"Editar Documento":"Novo Documento"}),s.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:m?"Atualize as informações do documento":"Preencha as informações do documento"})]}),s.jsx("button",{onClick:U,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título *"}),s.jsx("input",{type:"text",value:S.title,onChange:M=>j({...S,title:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Título do documento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:S.description,onChange:M=>j({...S,description:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2,placeholder:"Breve descrição do documento"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento *"}),s.jsx("select",{value:S.department,onChange:M=>j({...S,department:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:C.map(M=>s.jsx("option",{value:M,children:M},M))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("input",{type:"text",value:S.category,onChange:M=>j({...S,category:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Relatório, Procedimento, etc"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx("select",{value:S.status,onChange:M=>j({...S,status:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:E.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:_,onChange:M=>F(M.target.value),onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),R()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Adicionar tag..."}),s.jsx("button",{onClick:R,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:s.jsx(u4,{className:"h-5 w-5"})})]}),S.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:S.tags.map(M=>s.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm flex items-center gap-2",children:[M,s.jsx("button",{onClick:()=>z(M),className:"hover:text-indigo-900",children:s.jsx(dt,{className:"h-3 w-3"})})]},M))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conteúdo * (suporta Markdown)"}),s.jsx("textarea",{value:S.content,onChange:M=>j({...S,content:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm",rows:15,placeholder:`# Título do Documento

## Seção 1

Conteúdo da seção...

- Item 1
- Item 2`}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dicas: Use # para títulos, ## para subtítulos, - para listas"})]})]})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsx("button",{onClick:U,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),s.jsxs("button",{onClick:O,disabled:!S.title||!S.content,className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Qt,{className:"h-5 w-5"}),m?"Atualizar Documento":"Criar Documento"]})]})]})})}),s.jsx(at,{children:y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:y.title}),s.jsxs("p",{className:"text-indigo-100 text-sm mt-1",children:[y.department," • Versão ",y.version]})]}),s.jsx("button",{onClick:()=>w(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[y.description&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Descrição"}),s.jsx("p",{className:"text-gray-600",children:y.description})]}),s.jsx("div",{className:"prose max-w-none",children:y.content.split(`
`).map((M,G)=>M.startsWith("# ")?s.jsx("h1",{className:"text-3xl font-bold mt-6 mb-4",children:M.substring(2)},G):M.startsWith("## ")?s.jsx("h2",{className:"text-2xl font-bold mt-5 mb-3",children:M.substring(3)},G):M.startsWith("### ")?s.jsx("h3",{className:"text-xl font-bold mt-4 mb-2",children:M.substring(4)},G):M.startsWith("- ")?s.jsx("li",{className:"ml-6",children:M.substring(2)},G):M.trim()===""?s.jsx("br",{},G):s.jsx("p",{className:"mb-2",children:M},G))})]}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[s.jsxs("button",{onClick:()=>D(y),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Ls,{className:"h-5 w-5"}),"Baixar PDF"]}),s.jsxs("button",{onClick:()=>{w(null),L(y)},className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(ga,{className:"h-5 w-5"}),"Editar"]})]})]})})})]})},LHe=()=>{const t=ra(),[e,r]=k.useState([]),[n,a]=k.useState(!0),[i,o]=k.useState(!1),[l,c]=k.useState(null),[d,u]=k.useState(!1),[A,h]=k.useState({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0});k.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const{data:_,error:F}=await ge.from("email_accounts").select("*").order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(F)throw F;r(_||[])}catch(_){console.error("Error loading email accounts:",_)}finally{a(!1)}},g=async _=>{var F,C;_.preventDefault();try{if(l){const{error:E}=await ge.from("email_accounts").update(A).eq("id",l);if(E)throw E;alert("✅ Conta de email atualizada com sucesso!")}else{const{error:E}=await ge.from("email_accounts").insert([A]);if(E)throw E;alert("✅ Conta de email criada com sucesso!")}y(),f()}catch(E){console.error("Error saving email account:",E),(F=E==null?void 0:E.message)!=null&&F.includes("email_address")&&((C=E==null?void 0:E.message)!=null&&C.includes("already exists"))?alert(`❌ ERRO: O email "${A.email_address}" já está cadastrado!

Para editar esta conta:
1. Feche este formulário
2. Clique no ícone de configuração (⚙️) da conta existente
3. Faça as alterações necessárias`):(E==null?void 0:E.code)==="23505"?alert(`❌ ERRO: Esta conta de email já existe no sistema!

Verifique a lista de contas abaixo.`):alert(`❌ Erro ao salvar conta de email:

${(E==null?void 0:E.message)||"Erro desconhecido"}`)}},x=_=>{h({account_name:_.account_name,email_address:_.email_address,smtp_host:_.smtp_host,smtp_port:_.smtp_port,smtp_user:_.smtp_user,smtp_password:_.smtp_password,smtp_secure:_.smtp_secure,imap_host:_.imap_host||"",imap_port:_.imap_port||993,imap_user:_.imap_user||"",imap_password:_.imap_password||"",imap_secure:_.imap_secure,sender_name:_.sender_name,signature:_.signature||"",is_default:_.is_default,is_active:_.is_active}),c(_.id),o(!0)},m=async(_,F)=>{if(confirm(`Deseja realmente excluir a conta ${F}?`))try{const{error:C}=await ge.from("email_accounts").delete().eq("id",_);if(C)throw C;f()}catch(C){console.error("Error deleting account:",C),alert("Erro ao excluir conta")}},p=async _=>{try{await ge.from("email_accounts").update({is_default:!1}).neq("id",_);const{error:F}=await ge.from("email_accounts").update({is_default:!0}).eq("id",_);if(F)throw F;f()}catch(F){console.error("Error setting default:",F)}},y=()=>{h({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0}),c(null),o(!1),u(!1)},w=()=>{h(_=>({..._,smtp_host:"smtp.gmail.com",smtp_port:587,imap_host:"imap.gmail.com",imap_port:993}))},S=()=>{h(_=>({..._,smtp_host:"smtp-mail.outlook.com",smtp_port:587,imap_host:"outlook.office365.com",imap_port:993}))},j=()=>{if(!A.email_address){alert("Por favor, preencha o endereço de email primeiro!");return}const _=A.email_address.split("@")[1],F=A.account_name||`Email Corporativo - ${A.email_address.split("@")[0]}`,C=A.sender_name||A.email_address.split("@")[0].charAt(0).toUpperCase()+A.email_address.split("@")[0].slice(1);h(E=>({...E,account_name:F,sender_name:C,smtp_host:`mail.${_}`,smtp_port:587,smtp_user:E.email_address,imap_host:`mail.${_}`,imap_port:993,imap_user:E.email_address,imap_password:E.smtp_password,smtp_secure:!0,imap_secure:!0,signature:`

---
Atenciosamente,
${C}
${_}`})),alert(`✅ Configurações Hostgator preenchidas!

Agora você só precisa:
1. Verificar os dados
2. Preencher a senha
3. Salvar`)};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Zs,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(qn,{className:"h-8 w-8 text-blue-600"}),"Configurações de Email"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure contas de email corporativo para envio e recebimento"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!i&&s.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(bt,{className:"h-5 w-5"}),"Nova Conta"]}),s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(Wl,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})]}),i&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:l?"Editar Conta":"Nova Conta de Email"}),s.jsx("button",{onClick:y,className:"text-gray-500 hover:text-gray-700",children:s.jsx(dt,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("span",{className:"font-medium",children:"Configuração Rápida:"})," Selecione seu provedor de email"]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-lg text-sm hover:bg-orange-100 font-medium border border-orange-200",children:"🌐 Hostgator"}),s.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg text-sm hover:bg-red-100 font-medium border border-red-200",children:"📧 Gmail"}),s.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 font-medium border border-blue-200",children:"📨 Outlook"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["💡 ",s.jsx("strong",{children:"Hostgator:"})," Preencha primeiro o email, depois clique no botão"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),s.jsx("input",{type:"text",required:!0,value:A.account_name,onChange:_=>h({...A,account_name:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Email Comercial"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço de Email *"}),s.jsx("input",{type:"email",required:!0,value:A.email_address,onChange:_=>h({...A,email_address:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@empresa.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Remetente *"}),s.jsx("input",{type:"text",required:!0,value:A.sender_name,onChange:_=>h({...A,sender_name:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Empresa LTDA"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configurações de Envio (SMTP)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor SMTP *"}),s.jsx("input",{type:"text",required:!0,value:A.smtp_host,onChange:_=>h({...A,smtp_host:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"smtp.gmail.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta SMTP *"}),s.jsx("input",{type:"number",required:!0,value:A.smtp_port,onChange:_=>h({...A,smtp_port:parseInt(_.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuário SMTP *"}),s.jsx("input",{type:"text",required:!0,value:A.smtp_user,onChange:_=>h({...A,smtp_user:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha SMTP *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:d?"text":"password",required:!0,value:A.smtp_password,onChange:_=>h({...A,smtp_password:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-2 top-2",children:d?s.jsx(bE,{className:"h-5 w-5 text-gray-400"}):s.jsx(Ds,{className:"h-5 w-5 text-gray-400"})})]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:A.smtp_secure,onChange:_=>h({...A,smtp_secure:_.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Usar conexão segura (TLS/SSL)"})]})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configurações de Recebimento (IMAP) - Opcional"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor IMAP"}),s.jsx("input",{type:"text",value:A.imap_host,onChange:_=>h({...A,imap_host:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"imap.gmail.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta IMAP"}),s.jsx("input",{type:"number",value:A.imap_port,onChange:_=>h({...A,imap_port:parseInt(_.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuário IMAP"}),s.jsx("input",{type:"text",value:A.imap_user,onChange:_=>h({...A,imap_user:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha IMAP"}),s.jsx("input",{type:d?"text":"password",value:A.imap_password,onChange:_=>h({...A,imap_password:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assinatura de Email"}),s.jsx("textarea",{value:A.signature,onChange:_=>h({...A,signature:_.target.value}),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Atenciosamente,
Sua Empresa
Tel: (11) 1234-5678`})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:A.is_default,onChange:_=>h({...A,is_default:_.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Conta padrão"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:A.is_active,onChange:_=>h({...A,is_active:_.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Conta ativa"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l?"Salvar Alterações":"Criar Conta"}),s.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contas Configuradas"}),e.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(qn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Nenhuma conta de email configurada"}),s.jsx("p",{className:"text-sm mt-1",children:'Clique em "Nova Conta" para adicionar'})]}):s.jsx("div",{className:"space-y-3",children:e.map(_=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:_.account_name}),_.is_default&&s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:"Padrão"}),!_.is_active&&s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Inativa"})]}),s.jsx("p",{className:"text-gray-600",children:_.email_address}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SMTP: ",_.smtp_host,":",_.smtp_port,_.imap_host&&` | IMAP: ${_.imap_host}:${_.imap_port}`]})]}),s.jsxs("div",{className:"flex gap-2",children:[!_.is_default&&s.jsx("button",{onClick:()=>p(_.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Definir como padrão",children:s.jsx(kr,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>x(_),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Editar",children:s.jsx(qu,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>m(_.id,_.email_address),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir",children:s.jsx(Bt,{className:"h-5 w-5"})})]})]})},_.id))})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"💡 Dicas de Configuração"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:'• Para Gmail: Ative "Acesso a apps menos seguros" ou use "Senhas de app"'}),s.jsx("li",{children:"• Para Outlook/Hotmail: Use smtp-mail.outlook.com na porta 587"}),s.jsx("li",{children:"• Para domínios próprios: Consulte seu provedor de hospedagem"}),s.jsx("li",{children:"• Recomendamos sempre usar conexão segura (TLS/SSL)"})]})]})]})})},MHe=()=>{const t=ra(),[e,r]=k.useState([]),[n,a]=k.useState(!0),[i,o]=k.useState("inbox"),[l,c]=k.useState(""),[d,u]=k.useState(null);k.useEffect(()=>{A()},[i]);const A=async()=>{try{a(!0);let y=ge.from("email_messages").select("*").order("created_at",{ascending:!1});i==="inbox"?y=y.eq("direction","received").eq("is_archived",!1):i==="sent"?y=y.eq("direction","sent"):i==="starred"?y=y.eq("is_starred",!0):i==="archived"&&(y=y.eq("is_archived",!0));const{data:w,error:S}=await y;if(S)throw S;r(w||[])}catch(y){console.error("Error loading messages:",y)}finally{a(!1)}},h=async(y,w)=>{try{const{error:S}=await ge.from("email_messages").update({is_read:w,read_at:w?new Date().toISOString():null}).eq("id",y);if(S)throw S;A()}catch(S){console.error("Error updating message:",S)}},f=async(y,w)=>{try{const{error:S}=await ge.from("email_messages").update({is_starred:!w}).eq("id",y);if(S)throw S;A()}catch(S){console.error("Error updating message:",S)}},g=async y=>{try{const{error:w}=await ge.from("email_messages").update({is_archived:!0}).eq("id",y);if(w)throw w;A(),u(null)}catch(w){console.error("Error archiving message:",w)}},x=async y=>{if(confirm("Deseja realmente excluir esta mensagem?"))try{const{error:w}=await ge.from("email_messages").delete().eq("id",y);if(w)throw w;A(),u(null)}catch(w){console.error("Error deleting message:",w)}},m=e.filter(y=>{var w,S,j;return((w=y.subject)==null?void 0:w.toLowerCase().includes(l.toLowerCase()))||((S=y.from_address)==null?void 0:S.toLowerCase().includes(l.toLowerCase()))||((j=y.from_name)==null?void 0:j.toLowerCase().includes(l.toLowerCase()))}),p=y=>{switch(y){case"inbox":return e.filter(w=>w.direction==="received"&&!w.is_archived).length;case"sent":return e.filter(w=>w.direction==="sent").length;case"starred":return e.filter(w=>w.is_starred).length;case"archived":return e.filter(w=>w.is_archived).length;default:return e.length}};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Zs,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"flex h-screen",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(so,{to:"/email/compose",className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 font-medium",children:[s.jsx(bt,{className:"h-5 w-5"}),"Novo Email"]})}),s.jsxs("nav",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>o("inbox"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="inbox"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Vae,{className:"h-5 w-5"}),s.jsx("span",{children:"Caixa de Entrada"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:p("inbox")})]}),s.jsxs("button",{onClick:()=>o("sent"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="sent"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(to,{className:"h-5 w-5"}),s.jsx("span",{children:"Enviados"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:p("sent")})]}),s.jsxs("button",{onClick:()=>o("starred"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="starred"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Vs,{className:"h-5 w-5"}),s.jsx("span",{children:"Com Estrela"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:p("starred")})]}),s.jsxs("button",{onClick:()=>o("archived"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="archived"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(o4,{className:"h-5 w-5"}),s.jsx("span",{children:"Arquivados"}),s.jsx("span",{className:"ml-auto text-sm font-medium",children:p("archived")})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs(so,{to:"/email/settings",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4"}),"Configurações de Email"]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Pesquisar emails...",value:l,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{onClick:A,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Atualizar",children:s.jsx(Zs,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(Wl,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[s.jsx(qn,{className:"h-16 w-16 mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg",children:"Nenhuma mensagem encontrada"}),s.jsxs("p",{className:"text-sm mt-1",children:[i==="inbox"&&"Sua caixa de entrada está vazia",i==="sent"&&"Você ainda não enviou nenhum email",i==="starred"&&"Nenhuma mensagem marcada com estrela",i==="archived"&&"Nenhuma mensagem arquivada"]})]}):s.jsx("div",{className:"divide-y",children:m.map(y=>{var w;return s.jsx("div",{onClick:()=>{u(y),!y.is_read&&y.direction==="received"&&h(y.id,!0)},className:`p-4 cursor-pointer hover:bg-gray-100 transition-colors ${!y.is_read&&y.direction==="received"?"bg-blue-50":"bg-white"} ${(d==null?void 0:d.id)===y.id?"border-l-4 border-blue-600":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{onClick:S=>{S.stopPropagation(),f(y.id,y.is_starred)},className:"mt-1",children:s.jsx(Vs,{className:`h-5 w-5 ${y.is_starred?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:`font-medium truncate ${!y.is_read&&y.direction==="received"?"text-gray-900 font-semibold":"text-gray-700"}`,children:[y.direction==="sent"?"Para: ":"",y.from_name||y.from_address]}),s.jsx("p",{className:`text-sm truncate ${!y.is_read&&y.direction==="received"?"text-gray-900 font-medium":"text-gray-600"}`,children:y.subject})]}),s.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:new Date(y.created_at).toLocaleDateString("pt-BR")})]}),s.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[(w=y.body_text)==null?void 0:w.substring(0,100),"..."]})]})]})},y.id)})})})]}),d&&s.jsxs("div",{className:"w-2/5 bg-white border-l border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold truncate",children:d.subject}),s.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:"×"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>g(d.id),className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2",children:[s.jsx(o4,{className:"h-4 w-4"}),"Arquivar"]}),s.jsxs("button",{onClick:()=>x(d.id),className:"px-3 py-1.5 text-sm bg-red-50 text-red-600 hover:bg-red-100 rounded-lg flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Excluir"]})]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"De:"})," ",s.jsxs("span",{className:"text-gray-600",children:[d.from_name," <",d.from_address,">"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Data:"})," ",s.jsx("span",{className:"text-gray-600",children:new Date(d.created_at).toLocaleString("pt-BR")})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.body_html?s.jsx("div",{dangerouslySetInnerHTML:{__html:d.body_html}}):s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:d.body_text})})]})]})})},DHe=()=>{const t=ra(),[e,r]=k.useState(!1),[n,a]=k.useState([]),[i,o]=k.useState([]),[l,c]=k.useState({account_id:"",to:"",cc:"",bcc:"",subject:"",body_text:"",body_html:""});k.useEffect(()=>{d(),u()},[]);const d=async()=>{try{const{data:f,error:g}=await ge.from("email_accounts").select("id, account_name, email_address, sender_name").eq("is_active",!0).order("is_default",{ascending:!1});if(g)throw g;a(f||[]),f&&f.length>0&&c(x=>({...x,account_id:f[0].id}))}catch(f){console.error("Error loading accounts:",f)}},u=async()=>{try{const{data:f,error:g}=await ge.from("email_templates").select("id, name, subject, body_html, body_text").eq("is_active",!0).order("name");if(g)throw g;o(f||[])}catch(f){console.error("Error loading templates:",f)}},A=f=>{const g=i.find(x=>x.id===f);g&&c(x=>({...x,subject:g.subject,body_text:g.body_text,body_html:g.body_html}))},h=async f=>{if(f.preventDefault(),!l.to||!l.subject||!l.body_text&&!l.body_html){alert("Preencha todos os campos obrigatórios");return}r(!0);try{const p=await(await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/send-smtp-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({account_id:l.account_id,to:l.to.split(",").map(y=>y.trim()).filter(y=>y),cc:l.cc?l.cc.split(",").map(y=>y.trim()).filter(y=>y):void 0,bcc:l.bcc?l.bcc.split(",").map(y=>y.trim()).filter(y=>y):void 0,subject:l.subject,body_text:l.body_text,body_html:l.body_html})})).json();if(!p.success)throw new Error(p.error||"Erro ao enviar email");alert("Email enviado com sucesso!"),t("/email/inbox")}catch(g){console.error("Error sending email:",g),alert(`Erro ao enviar email: ${g.message}`)}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Email"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[s.jsx(Wl,{className:"h-5 w-5"}),"Voltar ao Sistema"]}),s.jsx("button",{onClick:()=>t("/email/inbox"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:s.jsx(dt,{className:"h-5 w-5"})})]})]})}),s.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"De (Conta de Email) *"}),s.jsxs("select",{required:!0,value:l.account_id,onChange:f=>c({...l,account_id:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),n.map(f=>s.jsxs("option",{value:f.id,children:[f.account_name," (",f.email_address,")"]},f.id))]}),n.length===0&&s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Nenhuma conta configurada. Configure em Configurações de Email."})]}),i.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usar Template (Opcional)"}),s.jsxs("select",{onChange:f=>f.target.value&&A(f.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",defaultValue:"",children:[s.jsx("option",{value:"",children:"Nenhum template"}),i.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Para * ",s.jsx("span",{className:"text-xs text-gray-500",children:"(separe múltiplos emails com vírgula)"})]}),s.jsx("input",{type:"text",required:!0,value:l.to,onChange:f=>c({...l,to:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"destinatario@email.com, outro@email.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CC ",s.jsx("span",{className:"text-xs text-gray-500",children:"(cópia)"})]}),s.jsx("input",{type:"text",value:l.cc,onChange:f=>c({...l,cc:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia@email.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CCO ",s.jsx("span",{className:"text-xs text-gray-500",children:"(cópia oculta)"})]}),s.jsx("input",{type:"text",value:l.bcc,onChange:f=>c({...l,bcc:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia.oculta@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assunto *"}),s.jsx("input",{type:"text",required:!0,value:l.subject,onChange:f=>c({...l,subject:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Assunto do email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem *"}),s.jsx("textarea",{required:!0,value:l.body_text,onChange:f=>c({...l,body_text:f.target.value}),rows:12,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Digite a mensagem do email..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A assinatura configurada será adicionada automaticamente"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{type:"submit",disabled:e||n.length===0,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2 font-medium",children:e?s.jsxs(s.Fragment,{children:[s.jsx(fx,{className:"h-5 w-5 animate-spin"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(to,{className:"h-5 w-5"}),"Enviar Email"]})}),s.jsx("button",{type:"button",onClick:()=>t("/email/inbox"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"💡 Dicas"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"• Use templates para agilizar o envio de emails recorrentes"}),s.jsx("li",{children:"• Para enviar para múltiplos destinatários, separe os emails com vírgula"}),s.jsx("li",{children:"• A assinatura da conta será adicionada automaticamente ao final"}),s.jsx("li",{children:"• Verifique se a conta SMTP está configurada corretamente"})]})]})]})})},wt=({children:t})=>s.jsx(s.Fragment,{children:t});function UHe(){const[t,e]=k.useState(!0),[r,n]=k.useState(!1),[a,i]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[u,A]=k.useState(""),[h,f]=k.useState(""),[g]=k.useState("admin"),[x,m]=k.useState(!1),p=nA(),[y,w]=k.useState(!1);k.useEffect(()=>{const _=setTimeout(()=>{e(!1),!localStorage.getItem("os_system_tutorial_completed")&&n(!0)},1500);return()=>clearTimeout(_)},[]),k.useEffect(()=>{const _=async()=>{try{const E=await(await fetch("/version.json?t="+Date.now())).json(),T=localStorage.getItem("app_version");T&&T!==E.version?(console.log("Nova versão disponível:",E.version),confirm(`Nova versão ${E.version} disponível!

${E.description}

Deseja atualizar agora?`)&&(localStorage.setItem("app_version",E.version),window.location.reload())):T||localStorage.setItem("app_version",E.version)}catch(C){console.error("Erro ao verificar atualizações:",C)}};_();const F=setInterval(_,5*60*1e3);return()=>clearInterval(F)},[]),k.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const S=_=>{A(_),i(!0),m(!0),setTimeout(()=>{m(!1)},1e4)},j=_=>{f(_),l(!0)};return t?s.jsx(Poe,{}):s.jsx(Ude,{children:s.jsxs(at,{mode:"wait",children:[s.jsxs(_Z,{location:p,children:[s.jsx(ut,{path:"/login",element:s.jsx(pwe,{})}),s.jsx(ut,{path:"/pricing",element:s.jsx(xwe,{})}),s.jsx(ut,{path:"/",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(zL,{})})})}),s.jsx(ut,{path:"/home",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(qL,{})})})}),s.jsx(ut,{path:"/dashboard-executivo",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(zL,{})})})}),s.jsx(ut,{path:"/ordens-servico-kanban",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(lwe,{})})})}),s.jsx(ut,{path:"/departmental-dashboard",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx($$e,{})})})}),s.jsx(ut,{path:"/service-orders",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx($de,{})})})}),s.jsx(ut,{path:"/service-orders/create",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(jO,{})})})}),s.jsx(ut,{path:"/service-orders/:id/view",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(kAe,{})})})}),s.jsx(ut,{path:"/service-orders/:id",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(jO,{})})})}),s.jsx(ut,{path:"/inventory",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(r0e,{})})})}),s.jsx(ut,{path:"/inventory/:id",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(n0e,{})})})}),s.jsx(ut,{path:"/inventory/create",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(s0e,{})})})}),s.jsx(ut,{path:"/reports",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(Rbe,{})})})}),s.jsx(ut,{path:"/settings",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(Qbe,{})})})}),s.jsx(ut,{path:"/users",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx($be,{})})})}),s.jsx(ut,{path:"/service-catalog",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(zbe,{})})})}),s.jsx(ut,{path:"/financial",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(Kbe,{})})})}),s.jsx(ut,{path:"/client-management",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(Xbe,{})})})}),s.jsx(ut,{path:"/visual-customization",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(Ybe,{onPremiumFeature:S})})})}),s.jsx(ut,{path:"/monitoring",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(Zbe,{onPremiumFeature:S,onEnterpriseFeature:j})})})}),s.jsx(ut,{path:"/calendar",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(awe,{onPremiumFeature:S})})})}),s.jsx(ut,{path:"/projects",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(iwe,{onPremiumFeature:S,onEnterpriseFeature:j})})})}),s.jsx(ut,{path:"/profile",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(owe,{})})})}),s.jsx(ut,{path:"/access-codes",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(gwe,{})})})}),s.jsx(ut,{path:"/digital-library",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(H$e,{})})})}),s.jsx(ut,{path:"/chat",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(z$e,{})})})}),s.jsx(ut,{path:"/whatsapp-crm",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(q$e,{})})})}),s.jsx(ut,{path:"/financial-management",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(K$e,{})})})}),s.jsx(ut,{path:"/financial-analysis",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(W$e,{})})})}),s.jsx(ut,{path:"/financial-categories",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(u9e,{})})})}),s.jsx(ut,{path:"/email/settings",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(LHe,{})})})}),s.jsx(ut,{path:"/email/compose",element:s.jsx(wt,{children:s.jsx(DHe,{})})}),s.jsx(ut,{path:"/email/inbox",element:s.jsx(wt,{children:s.jsx(MHe,{})})}),s.jsx(ut,{path:"/audit-logs",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(xHe,{})})})}),s.jsx(ut,{path:"/bank-accounts",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(G$e,{})})})}),s.jsx(ut,{path:"/access-management",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(d9e,{})})})}),s.jsx(ut,{path:"/funcionarios",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(l9e,{})})})}),s.jsx(ut,{path:"/convites-usuarios",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(c9e,{})})})}),s.jsx(ut,{path:"/crm-leads",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(yHe,{})})})}),s.jsx(ut,{path:"/contracts",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(vHe,{})})})}),s.jsx(ut,{path:"/contract-templates",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(bHe,{})})})}),s.jsx(ut,{path:"/document-templates",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(wHe,{})})})}),s.jsx(ut,{path:"/invoices",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(jHe,{})})})}),s.jsx(ut,{path:"/company-settings",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(NHe,{})})})}),s.jsx(ut,{path:"/equipments",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(_He,{})})})}),s.jsx(ut,{path:"/suppliers",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(CHe,{})})})}),s.jsx(ut,{path:"/purchasing",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(EHe,{})})})}),s.jsx(ut,{path:"/rotas",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(FHe,{})})})}),s.jsx(ut,{path:"/documentos",element:s.jsx(wt,{children:s.jsx(St,{children:s.jsx(IHe,{})})})}),s.jsx(ut,{path:"/homepage",element:s.jsx(cwe,{})}),s.jsx(ut,{path:"/home",element:s.jsx(qL,{})}),s.jsx(ut,{path:"/sobre",element:s.jsx(dwe,{})}),s.jsx(ut,{path:"/servicos",element:s.jsx(uwe,{})}),s.jsx(ut,{path:"/contato",element:s.jsx(Awe,{})})]},p.pathname),s.jsx(qbe,{isOpen:r,onComplete:()=>{n(!1),localStorage.setItem("os_system_tutorial_completed","true")}}),s.jsx(hwe,{isOpen:a,feature:u,onClose:()=>i(!1)}),s.jsx(mwe,{isOpen:o,feature:h,onClose:()=>l(!1)}),s.jsx(ywe,{isOpen:c,onClose:()=>d(!1),requiredRole:g}),x&&s.jsx(fwe,{feature:u})]})})}class RHe extends k.Component{constructor(){super(...arguments);it(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({error:r,errorInfo:n})}render(){var r;return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ops! Algo deu errado"}),s.jsx("p",{className:"text-gray-600",children:"Ocorreu um erro inesperado ao carregar o sistema."})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[s.jsx("h2",{className:"text-sm font-semibold text-red-800 mb-2",children:"Detalhes do erro:"}),s.jsx("pre",{className:"text-xs text-red-700 overflow-auto max-h-40",children:(r=this.state.error)==null?void 0:r.toString()})]}),this.state.errorInfo&&s.jsxs("details",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[s.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (clique para expandir)"}),s.jsx("pre",{className:"text-xs text-gray-700 overflow-auto max-h-60 mt-2",children:this.state.errorInfo.componentStack})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Recarregar Página"}),s.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null})},className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Tentar Novamente"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Dica:"})," Abra o console do navegador (F12) para ver mais detalhes do erro."]})})]})}):this.props.children}}H5.createRoot(document.getElementById("root")).render(s.jsx(be.StrictMode,{children:s.jsx(RHe,{children:s.jsx(TZ,{children:s.jsx(UHe,{})})})}));export{Ar as _,Ps as c,fr as g};
